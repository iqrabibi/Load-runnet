var DataStore=function(){var n;return{getInstance:function(){var o,e,u,a,s,c,i;return n||(n={getStorageUnits:function(){return o},getPromotions:function(){return a},getUserData:function(){return e},getFloor:function(){return s},getParking:function(){return c},getPacking:function(){return i},loadStorageUnits:function(){var n=com.Bystored.Helpers.getUrlParameter("g"),e=base_url+"/get-plans-varient";return n?e+="&g="+n:e=base_url+"/get-plans",new Promise(function(r,t){return $.ajax({url:e,type:"get",dataType:"json",success:function(n){n.success?(o=n.storageUnits,r(n)):t(n)},error:function(n){return t(n)}})})},loadPromotions:function(){return new Promise(function(r,t){return $.ajax({url:base_url+"/get-promotions",type:"get",dataType:"json",success:function(n){n.success&&(a=n.promotions,r(a))},error:function(n){return t(n)}})})},loadUserData:function(){return new Promise(function(r,t){return $.get(base_url+"/get-user-data",function(n){n.success?(e=n.userData,r(e)):t(n)})})},loadCreditCards:function(){return new Promise(function(r,t){return $.ajax({url:base_url+"/ajax/getPaymentProfiles",type:"get",dataType:"json",success:function(n){n.success?(u=n.profiles,r(u)):t(n)}})})},loadHolidays:function(){return new Promise(function(r,t){return $.ajax({url:base_url+"/ajax/getHolidays",type:"get",dataType:"json",success:function(n){return r(n)},error:function(n){return t(n)}})})},loadJobFactors:function(){return new Promise(function(r,t){return $.ajax({url:base_url+"/ajax/get-job-factors",type:"get",dataType:"json",success:function(n){s=n.floor,i=n.packing,c=n.parking,r()},error:function(n){return t(n)}})})}}),n}}}();
var com=com||{Bystored:{}};com.Bystored.Helpers=function(){function i(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}var e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPod/i)},iPad:function(){return navigator.userAgent.match(/iPad/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},isMobile:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()},isTablet:function(){return e.iPad()}};return{getTimeslotsAvailability:function(n){return new Promise(function(t,e){$.ajax({url:base_url+"/ajax/get-timeslots-availability",type:"POST",data:{date:n.selectedDate,collectionItems:n.collectionItems,returnItems:n.returnItems,address:n.address,packingMaterial:n.packingMaterial,storageUnitId:n.storageUnitId,postcode:n.postcode,jobFactors:n.jobFactors,orderId:n.orderId},success:function(e){t(e)}})})},getTimeslotsAvailabilityForServices:function(n){return new Promise(function(t,e){$.ajax({url:base_url+"/ajax/get-timeslots-availability",type:"POST",data:{date:n.date,address:n.address,packingMaterial:n.packingMaterial,timeSlotTypeIdentifier:n.timeSlotTypeIdentifier,postcode:n.postcode,jobFactors:n.jobFactors,crates:n.crates},success:function(e){t(e)}})})},getEncryptedString:function(e,t,n){var r,o,i,a,c=CryptoJS.MD5(e+"$eC%3T&eY$"),s=e+"##"+t+"##"+n;return s=CryptoJS.enc.Utf8.parse(s),e+(r=s,o=c,i=CryptoJS.lib.WordArray.random(16),a=CryptoJS.AES.encrypt(r,o,{iv:i}),i.concat(a.ciphertext).toString(CryptoJS.enc.Base64))},guid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},isProduction:function(){return new Promise(function(t,e){var n="false";$.ajax({url:base_url+"/is-production",type:"GET",dataType:"json",success:function(e){e.success&&(n="true"),t(n)}})})},isLoggedIn:function(){return 0<=document.cookie.indexOf("is_logged_in")},isMobile:function(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}},getUrlParameter:i,isTablet:function(){return e.isTablet()},isMobileNew:function(){return e.isMobile()},isLandscape:function(){return screen.width>screen.height},isPortrait:function(){return screen.width<screen.height},getCookie:function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""},setCookie:function(e,t,n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var o="expires="+r.toUTCString();document.cookie=e+"="+t+";"+o+";path=/"},deleteCookie:function(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"},numberWithCommas:function(e){if(!isNaN(e)){var t=(e=parseFloat(e).toFixed(2)).toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}},isIosDevice:function(){return e.iOS()},isIPadDevice:function(){return e.iPad()},logError:function(n,r){return new Promise(function(t,e){$.ajax({url:base_url+"/ajax/log-web-error",type:"POST",data:{time:moment().format("YYYY-MM-DD HH:mm:ss"),url:window.location.href,file:n.filename,line:n.lineno,message:n.message,build:r},dataType:"json",success:function(e){t(e)}})})},isTemporaryDataPresent:function(){return 0<=document.cookie.indexOf("temporary_order")},goTo:function(e,t){t||(t={});var n,r=i("g"),o=i("v");o&&(t.v=parseInt(o,10)),r&&(t.g=parseInt(r,10)),(n=$.param(t))&&(e+="?"+n),window.location.href=e},getDiscountedAmount:function(e,t){return e*((100-t)/100)},getDomain:function(e){var t="";try{var n=new URL(e).hostname.split(".");3===n.length&&(t=n[1])}catch(e){console.log(e)}return t},scrollTo:function(e,t,n){n=n||0;var r=e.offset().top-n;$("html, body").animate({scrollTop:r},t)}}}();
$(window).on("load",function(){$(".accordion").find(".accordion-toggle").click(function(){$(this).next().slideToggle("600"),$(".accordion-content").not($(this).next()).slideUp("600")}),$(".accordion-toggle").on("click",function(){$(this).toggleClass("active").siblings().removeClass("active")}),$("button.navbar-toggle").on("click",function(){$(this).toggleClass("expanded"),$(".logo").toggleClass("black"),$("body").toggleClass("overlay--body")}),$("button.navbar-toggle.collapsed").click(function(){$("nav.navbar.navbar-default > .container-fluid").hasClass("responsive-nav")?$("nav.navbar.navbar-default > .container-fluid").removeClass("responsive-nav"):$("nav.navbar.navbar-default > .container-fluid").addClass("responsive-nav")}),$("button.navbar-toggle.collapsed").click(function(){$("nav.navbar.navbar-default").hasClass("responsive-nav")?$("nav.navbar.navbar-default").removeClass("responsive-nav"):$("nav.navbar.navbar-default").addClass("responsive-nav")})});
var DataLayerHelper={trackStoragePlanFlow:function(e){dataLayer.push({storage_plan_flow:e,event:"Storage Plan Flows"})},trackStorageType:function(e){dataLayer.push({storage_type:e,event:"Plan Type"})},trackSelectedPlan:function(e){dataLayer.push({selected_plan:e,event:"Plan number"})},trackAddress:function(e){dataLayer.push({address:e,event:"Address"})},trackParking:function(e){dataLayer.push({parking:e,event:"Parking"})},trackStairs:function(e){dataLayer.push({stairs:e,event:"Stairs"})},trackPackingAssistance:function(e){dataLayer.push({packing_assistance:e,event:"Packing assistance"})},trackStandardLiability:function(e){dataLayer.push({standard_liability:e,event:"Standard Liability"})},trackDate:function(e){dataLayer.push({date:e,event:"Date Selection"})},trackTimeSlot:function(e){dataLayer.push({time_slot:e,event:"Time selection"})},trackPackageSelected:function(){dataLayer.push({ecommerce:{currencyCode:"GBP",impressions:[{name:"Student Closet",id:12,price:59,position:1,category:"PROMOTION_1",list:"homepage"},{name:"Studio Flat",id:25,price:119,position:2,category:"PROMOTION_1",list:"homepage"},{name:"1 Bed Flat",id:50,price:199,position:3,category:"PROMOTION_1",list:"homepage"},{name:"2 Bed Flat",id:75,price:289,position:4,category:"PROMOTION_1",list:"homepage"},{name:"3 Bed Flat",id:75,price:379,position:5,category:"PROMOTION_1",list:"homepage"}]}})},trackPackageSelectedProm2:function(){dataLayer.push({ecommerce:{currencyCode:"GBP",impressions:[{name:"Student Closet",id:12,price:50,position:1,category:"PROMOTION_2",list:"homepage"},{name:"Studio Flat",id:25,price:101,position:2,category:"PROMOTION_2",list:"homepage"},{name:"1 Bed Flat",id:50,price:169,position:3,category:"PROMOTION_2",list:"homepage"},{name:"2 Bed Flat",id:75,price:246,position:4,category:"PROMOTION_2",list:"homepage"},{name:"3 Bed Flat",id:75,price:322,position:5,category:"PROMOTION_2",list:"homepage"}]}})},trackPackageViewed:function(e){dataLayer.push({event:"productClick",ecommerce:{click:{products:[{name:e.name,id:e.id,price:e.price,category:e.category,position:e.position}]}}})},trackPackagePurcahse:function(e){dataLayer.push({event:"transaction",ecommerce:{purchase:{actionField:{id:e.afID,affiliation:"Online Store",revenue:e.payedAmount,coupon:e.discount},products:[{name:e.name,id:e.area,price:e.price,category:e.promo,quantity:1,coupon:e.discount}]}}})},trackPackagenCheckout:function(e){dataLayer.push({event:"checkout",ecommerce:{checkout:{actionField:{step:e.step},products:[{name:e.name,id:e.area,price:e.price,category:e.promo,quantity:1}]}}})}};
var com=com||{Bystored:{}},CustomerSupportHandler=function(){var a=DataStore.getInstance(),t=!0;function n(e){try{""!=$zopim.livechat.getName()&&""!=$zopim.livechat.getEmail()&&""!=$zopim.livechat.getPhone()||$zopim.livechat.set({name:e.firstName+" "+e.lastName,email:e.email,phone:e.phone})}catch(e){console.log(e)}}return{init:function(o){a.loadUserData().then(function(){var e,t;e=o,t=a.getUserData(),com.Bystored.Helpers.isLoggedIn()&&"zopim"==e&&n(t)})},registerUserToZopim:n,setChat:function(e){t=e},getChat:function(){return t}}}();
var observer,images=document.querySelectorAll("img[data-src]"),config={rootMargin:"50px 0px",threshold:.01},imageCount=images.length;if("IntersectionObserver"in window){observer=new IntersectionObserver(onIntersection,config);for(var image,i=0;i<images.length;i++)!(image=images[i]).classList.contains("js-lazy-image--handled")&&observer.observe(image)}else loadImagesImmediately(images);function fetchImage(r){return new Promise(function(e,n){var a=new Image;a.src=r,a.onload=e,a.onerror=n})}function preloadImage(e){var n=e.dataset.src;return n?fetchImage(n).then(function(){applyImage(e,n)}):void 0}function loadImagesImmediately(e){Array.from(e);for(var n=0;n<e.length;n++)preloadImage(e[n])}function disconnect(){observer&&observer.disconnect()}function onIntersection(e){0===imageCount&&observer.disconnect();for(var n,a=0;a<e.length;a++)0<(n=e[a]).intersectionRatio&&(imageCount--,observer.unobserve(n.target),preloadImage(n.target))}function applyImage(e,n){e.classList.add("js-lazy-image--handled"),e.src=n,e.classList.add("fade-in")}
var com=com||{Bystored:{}},tooltipHandler=function(){var i;return{tooltipInitializer:function(){var t={};(com.Bystored.Helpers.isMobileNew()||com.Bystored.Helpers.isIPadDevice())&&(t={trigger:"click"},$("body").addClass("is-mobile")),$('[data-toggle="tooltip"]').tooltip(t)},bindTooltip:function(o){(com.Bystored.Helpers.isMobileNew()||com.Bystored.Helpers.isIPadDevice())&&$(document).on("shown.bs.tooltip",function(t){i=setTimeout(function(){$(t.target).tooltip("hide")},o)})},storageUnitSpecifications:function(){$(".commonitemscontent").find('[data-toggle="tooltip"]').tooltip({placement:"top",trigger:"click"}),$("#added-custom-items .custom-item-row").find('[data-toggle="tooltip"]').tooltip({placement:"bottom",trigger:"click"})},closeTooltipBinder:function(){(com.Bystored.Helpers.isMobileNew()||com.Bystored.Helpers.isIPadDevice())&&$("body").on("click",function(t){$("[data-toggle=tooltip]").each(function(){$(this).is(t.target)||0!==$(this).has(t.target).length||0!==$(".tooltip").has(t.target).length||(clearTimeout(i),$(this).tooltip("hide"))})})},tooltipCustomInitilizer:function(t){$("."+t).tooltip()}}}();$(document).ready(function(){tooltipHandler.tooltipInitializer()});
var fontRegularConfig={weight:400,style:"normal"},fontMediumConfig={weight:500,style:"normal"},fontDemiBoldConfig={weight:600,style:"normal"},fontBoldConfig={weight:700,style:"normal"};function addFontLoadClass(){document.body.classList.add("fonts-loaded")}function loadFonts(){var o=new FontFaceObserver("Avenir",fontRegularConfig),n=new FontFaceObserver("Avenir",fontMediumConfig),e=new FontFaceObserver("Avenir",fontDemiBoldConfig),t=new FontFaceObserver("Avenir",fontBoldConfig),a=[o.load(),n.load(),e.load(),t.load()];Promise.all(a).then(function(){addFontLoadClass(),sessionStorage.fontsLoaded=!0}).catch(function(o){console.log(o)})}sessionStorage.fontsLoaded?addFontLoadClass():$(document).ready(function(){setTimeout(function(){return loadFonts()},600)});
$.validator.addMethod("nationalNumber",function(t,a){return"true"===a.dataset.optional&&!a.value||/^[0-9]{6,15}$/g.test(t.trim())},"Phone format/length is not valid"),$.validator.addMethod("email",function(t,a){return"true"===a.dataset.optional&&!a.value||t.match(/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i)},"Please enter a valid email");
"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/serviceworker.js?v=1",{scope:"."}).then(function(e){console.log("ServiceWorker registration successful with scope: ",e.scope)},function(e){console.log("ServiceWorker registration failed: ",e)})});
var UTMHandler={Helpers:com.Bystored.Helpers,referrerKey:"utm_referrer",urlVars:["utm_source","utm_medium","utm_campaign","utm_term","utm_content"],getUTMValue:function(e,t){return e||(t||"none")},setUTMinCookies:function(){var r=this.Helpers.getUrlParameter,i=this.Helpers.setCookie;this.urlVars.forEach(function(e){var t=r(e);t&&i(e,t,365)});var e=r(this.referrerKey);e&&(e=this.Helpers.getDomain(e),i(this.referrerKey,""===e?"google":e,365))},getUTMObjects:function(){var e=this.Helpers.getCookie,t=e(this.referrerKey),r=!0;for(var i in this.urlVars){var s=this.urlVars[i];this[s]=e(s),this[s]&&(r=!1)}for(var u in r&&t?(this.utm_medium="organic",this.utm_source=t):r||this.utm_medium?r&&!t&&(this.utm_source="direct"):(this.utm_medium="cpc",t&&!this.utm_source&&(this.utm_source=t)),this.urlVars){var m=this.urlVars[u];this[m]||(this[m]=this.getUTMValue(this[m]))}return{marketingSource:this.utm_source,marketingCampaign:this.utm_campaign,marketingMedium:this.utm_medium,marketingTerm:this.utm_term,marketingContent:this.utm_content}}};UTMHandler.setUTMinCookies();
var countryCodeConfig={preferredCountries:["gb"],formatOnDisplay:!1,nationalMode:!1,separateDialCode:!0,utilsScript:utilLink},handleCountryChange=function(n,t,e,o,a){var d=o.getSelectedCountryData();t.style.paddingLeft="112px",e.val(d.iso2),n.focus()},handleCloseCountry=function(n,t,e,o){var a=o.getSelectedCountryData();t.style.paddingLeft="112px",e.val(a.iso2),setTimeout(function(){return n.focus()})},countryPhones=document.querySelectorAll("input[data-int-id]");countryPhones.forEach(function(n){var t=$("#"+n.dataset.intId),e=$("#"+n.dataset.dialId),o=n.dataset.refName,a=window.intlTelInput(n,countryCodeConfig);o&&(window[o]=a),n.addEventListener("countrychange",handleCountryChange.bind(void 0,t,n,e,a)),n.addEventListener("close:countrydropdown",handleCloseCountry.bind(void 0,t,n,e,a))});
var videoModal=$(".video-modal");function setOnline(){var e=void 0;e=document.querySelectorAll(".status");for(var o=0;o<e.length;++o)e[o].classList.add("online")}function setOffline(){var e=void 0;e=document.querySelectorAll(".status");for(var o=0;o<e.length;++o)e[o].classList.remove("online")}videoModal&&($(".video-modal").on("shown.bs.modal",function(e){$("#home-video")[0].play()}),$(".video-modal").on("hidden.bs.modal",function(e){$("#home-video")[0].pause()}),$("#home-video").on("ended",function(e){$(".video-modal").modal("hide")})),$("#modalAcquire").on("show.bs.modal",function(e){$("body").addClass("has-acquire-modal")}),$("#modalAcquire").on("hidden.bs.modal",function(e){$("body").removeClass("has-acquire-modal")}),$(".chat-link").click(function(e){var o=parseInt(com.Bystored.Helpers.getUrlParameter("v"),10);e.preventDefault(),13===o?acquireIO.max("text"):14===o?acquireIO.max("text"):15===o?acquireIO.max("text"):$zopim.livechat.window.show()}),setInterval(function(){"undefined"!=typeof acquireIO&&(0<acquireIO.onlineAgents().length?setOnline():setOffline())},5e3),$(".cta-event-acquire").click(function(e){e.preventDefault();var o=$(this).data("title");acquireIO.onlineAgents().length<=0&&"video-chat"==o?window.location.href.match(/\/(promotion-selection|storage-selection|start-storing)/)?acquireIO.max("video"):window.location.href="/promotion-selection?v="+com.Bystored.Helpers.getUrlParameter("v"):0<acquireIO.onlineAgents().length&&"video-chat"==o&&acquireIO.max("video"),ga("send","event",o,"Click",o)}),$(".call-page").click(function(e){e.preventDefault(),callpage("api.widget.open");var o=$(this).data("title");ga("send","event",o,"Click",o)});
var quotePopup=function(){var l=com.Bystored.Helpers,o=null,d=$("#get-qoute-error"),m=$("#get-quote-modal-form-submit");function t(){$("#modalAcquire").hasClass("in")||(void 0!==$.cookie("getQuotePopupSubmited")||l.isLoggedIn()?void 0===$.cookie("getQuotePopupSubmited")&&l.isLoggedIn()&&null!=o&&!o.hasActiveOrder&&$("#get-quote-modal").modal("show"):$("#get-quote-modal").modal("show"))}function s(e){d.show().text(e)}return{eventListener:function(){window.addEventListener("mouseout",function(e){e.clientY<0&&t()},!1),l.isMobileNew()&&new DialogTrigger(function(){new DialogTrigger(t,{trigger:"scrollUp",percentUp:5})},{trigger:"scrollDown",percentDown:5})},loadUserData:function(){$.get(base_url+"/ajax/get-user-data",function(e){o=e.userData})},submitPopup:function(){d.hide(),m.prop("disabled",!0).text("Please wait..");var o=$("#exitIso").val(),e=intlTelInputGlobals.getCountryData().find(function(e){return e.iso2===o}),t="+44",r="gb";e&&(t="+"+e.dialCode,r=e.iso2.toUpperCase());var i={name:$("#get-quote-modal-form-name").val(),email:$("#get-quote-modal-form-email").val(),phoneNumber:{dialingCode:t,nationalNumber:$("#get-quote-modal-form-phone").val(),countryCode:r}},a=l.getCookie("temporary_order_id");a&&(i.userOrderAmidId=a);var u=UTMHandler.getUTMObjects(),n=Object.assign({},i,u);$.post(base_url+"/ajax/get-quote-submit",n).done(function(e){e.isError?(s(e.errorMsg),console.error(e.errorMsg)):($.cookie("getQuotePopupSubmited",1,{expires:3650}),$("#get-quote-modal").modal("hide"),setTimeout(function(){$("#get-quote-modal-success").modal("show")},500))}).fail(function(e){s("Something went wrong, Please try again later."),$("#get-quote-modal").modal("hide"),console.error(e)}).always(function(){m.prop("disabled",!1).text("Let us help!")})},attachValidator:function(){$("form#get-quote-modal-form").validate({errorElement:"span",errorClass:"error",rules:{"get-quote-modal-form-name":{required:!0},"get-quote-modal-form-email":{required:!0,email:!0},"get-quote-modal-form-phone":{required:!0,nationalNumber:!0}},messages:{"get-quote-modal-form-name":{required:"Name is required"},"get-quote-modal-form-email":{required:"Email Address is required",email:"Email Address is invalid"},"get-quote-modal-form-phone":{required:"Phone Number is required"}}})},closePopupWithoutSubmit:function(){"1"!=$.cookie("getQuotePopupSubmited")&&$.cookie("getQuotePopupSubmited",1,{expires:1})},userData:o,showMobileModal:!1,showModal:t}}();$(window).on("load",function(){"home"!==appRouteName&&(quotePopup.eventListener(),quotePopup.attachValidator(),$(document).on("click","#get-quote-modal-form-submit",function(e){e.preventDefault(),$("#get-quote-modal-form").valid()&&quotePopup.submitPopup()}),$("#get-quote-modal").on("hidden.bs.modal",function(e){quotePopup.closePopupWithoutSubmit()}))});
var referrer=document.referrer;-1<referrer.indexOf("/blog/")&&document.cookie.indexOf("bloglink=")<=-1?(document.cookie="bloglink=yes; expires=",window.location.href.match(/\/(promotion-selection|storage-selection|start-storing)/)&&(document.getElementById("sale-banner").style.display="block")):0<=document.cookie.indexOf("bloglink=")&&window.location.href.match(/\/(promotion-selection|storage-selection|start-storing)/)&&(document.getElementById("sale-banner").style.display="block");
if("prod"===BYS_APP.env){var __cp={id:"YunmjvMHI-BPc-dMp5cNFTG2GYqGzhtq68rmpzuvmt0",version:"1.1"};!function(t,e){var a=e.createElement("script");a.type="text/javascript",a.async=!1,a.src="++cdn-widget.callpage.io+build+js+callpage.js".replace(/[+]/g,"/").replace(/[=]/g,".");var c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(a,c),t.callpage?alert("You could have only 1 CallPage code on your website!"):(t.callpage=function(e){if("__getQueue"==e)return this.methods;if(e){if("function"==typeof t.callpage.execute)return t.callpage.execute.apply(this,arguments);(this.methods=this.methods||[]).push({arguments:arguments})}},t.callpage.__cp=__cp,t.callpage("api.button.autoshow"))}(window,document)}