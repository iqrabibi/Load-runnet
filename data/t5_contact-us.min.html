var Helpers=com.Bystored.Helpers;!function(i,e){i.fn.serializeObject=function(){var n={};return i.each(this.serializeArray(),function(e,t){var r=t.name,a=t.value;n[r]=void 0===n[r]?a:i.isArray(n[r])?n[r].concat(a):[n[r],a]}),n}}(jQuery),$(window).on("load",function(){var s=$("form#contactus-form-page"),l=$(".floating-label-input"),u=$("#selected-inquiry"),c=$("#contact-us-submit");s.validate({ignore:[],errorElement:"span",errorClass:"error",rules:{firstName:"required",lastName:"required",email:{required:!0,email:!0},nationalNumber:{required:!0,nationalNumber:!0},message:"required",selectedInquiry:"required"},messages:{firstName:"First name is required",lastName:"Last name is required",email:{required:"Email Address is required",email:"Email Address is invalid"},nationalNumber:{required:"Phone number is required"},message:"Message is required",selectedInquiry:"Please select nature of your inquiry"},errorPlacement:function(e,t){"selectedInquiry"==$(t).attr("name")?e.insertAfter($("#inquiry-options")):e.insertAfter(t)}});function d(e){$("#server-error").show().text(e)}$(".floating-label-input input").on("focusin",function(e){e.preventDefault(),$(this).parent(".floating-label-input").addClass("focus").removeClass("has-value")}),$(".floating-label-input input").on("focusout",function(e){e.preventDefault(),$(this).val()?$(this).parent(".floating-label-input").addClass("has-value").removeClass("focus"):$(this).parent(".floating-label-input").removeClass("focus")}),$(".floating-label-input input").on("keyup",function(e){e.preventDefault(),$(this).val()?$(this).parent(".floating-label-input").addClass("has-value"):$(this).parent(".floating-label-input").removeClass("has-value")}),$(".floating-label-input").on("click",function(e){e.preventDefault(),$(this).find("input").focus()}),c.on("click",function(){if(s.valid()){c.text("Please Wait...");var e=$.param(UTMHandler.getUTMObjects()),t=s.serializeObject(),r=intlTelInputGlobals.getCountryData().find(function(e){return e.iso2===t.contactIso}),a="+44",n="gb";r&&(a="+"+r.dialCode,n=r.iso2.toUpperCase()),t.phoneNumber={dialingCode:a,nationalNumber:t.nationalNumber,countryCode:n},delete t.nationalNumber,delete t.contactIso;var i=Helpers.getCookie("temporary_order_id");i&&(t.userOrderAmidId=i);var o=$.param(t)+(e?"&"+e:"");$.ajax({url:base_url+"/contact-us",type:"POST",data:{formdata:o},dataType:"json"}).done(function(e){e.isError?(d(e.errorMsg),console.error()):(u.text("Please select*"),l.removeClass("has-value"),$("#contactUsSubmitModal").modal("show"),s[0].reset(),$("#server-error").text("").hide())}).fail(function(e){d("Something went wrong, Please try again later."),console.error(e)}).always(function(){return c.text("Send")})}}),$(document).on("click","li.query-option",function(e){e.preventDefault(),u.text($(this).text()),$("input[name=selectedInquiry]").val($(this).text()),$("#selectedInquiry-error").remove()})});
//# sourceMappingURL=maps/contact-us.min.js.map
