<?xml version="1.0" encoding="utf-8"?>
<HTTPSnapshot xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" id="2">
  <HTTPTask id="662" hostname="qa1.bystored.com" path="/contact-us" url="http://qa1.bystored.com/contact-us" ip="52.56.145.244" port="80" connectionId="2" origin="Primary" frame="1" startDateTime="2019-06-23T18:24:37.898+05:00" startTime="330063890" endTime="330064109">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Host" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cWExLmJ5c3RvcmVkLmNvbQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Upgrade-Insecure-Requests" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc1LjAuMzc3MC4xMDAgU2FmYXJpLzUzNy4zNg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>dGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVMsZW47cT0wLjk=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9jb250YWN0LXVzIEhUVFAvMS4xDQpIb3N0OiBxYTEuYnlzdG9yZWQuY29tDQpDb25uZWN0aW9uOiBrZWVwLWFsaXZlDQpVcGdyYWRlLUluc2VjdXJlLVJlcXVlc3RzOiAxDQpVc2VyLUFnZW50OiBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNzUuMC4zNzcwLjEwMCBTYWZhcmkvNTM3LjM2DQpBY2NlcHQ6IHRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjMNCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZQ0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUyxlbjtxPTAuOQ0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <contentLenght>0</contentLenght>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Date" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>U3VuLCAyMyBKdW4gMjAxOSAxMzoyMzowNCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Server" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QXBhY2hlLzIuNC4zMyAoVWJ1bnR1KQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bm8tY2FjaGUsIG1heC1hZ2U9MA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Set-Cookie" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bGFyYXZlbF9zZXNzaW9uPWV5SnBkaUk2SWpOMEsxd3ZiRTU1Y21kYWRWZFVUalpSY0hOclVVOUNRM2RGV0Z3dk1VTnNaR1JOVDA1UFRFRklhMjR4V1QwaUxDSjJZV3gxWlNJNklsQlFabEpsUmpCTVdrMXBiM1JYZFZBMlIzbGlXRlZEU2pKa1owRTBWazl6ZEZadFEwaDRLMVJaTjFJMVNERm1NazFDVUZwVVZ6ZHBkbWsxYVdoc1YwSnpSVUZIY1ZRd2RtOXBlbnBOVTNGSkt6WlZNM0JuUFQwaUxDSnRZV01pT2lKa09XSm1NelJqWldJMk1tVTBOell3TkdaalptWTFaR1ppTVRZMk0yWTNaVFpsTXpjeU1UY3dZbVpoTmpneU1HUTNPV1prWmpoaE9EazBORE0xT0dFMUluMCUzRDsgZXhwaXJlcz1TdW4sIDMwLUp1bi0yMDE5IDEzOjIzOjA0IEdNVDsgTWF4LUFnZT02MDQ4MDA7IHBhdGg9LzsgaHR0cG9ubHk=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Expires" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>U3VuLCAyMyBKdW4gMjAxOSAxMzoyMzowNCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Vary" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Encoding" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Access-Control-Allow-Origin" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Kg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Keep-Alive" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>dGltZW91dD01LCBtYXg9MTAw</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Transfer-Encoding" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Y2h1bmtlZA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Type" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>dGV4dC9odG1sOyBjaGFyc2V0PVVURi04</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpEYXRlOiBTdW4sIDIzIEp1biAyMDE5IDEzOjIzOjA0IEdNVA0KU2VydmVyOiBBcGFjaGUvMi40LjMzIChVYnVudHUpDQpDYWNoZS1Db250cm9sOiBuby1jYWNoZSwgbWF4LWFnZT0wDQpTZXQtQ29va2llOiBsYXJhdmVsX3Nlc3Npb249ZXlKcGRpSTZJak4wSzF3dmJFNTVjbWRhZFZkVVRqWlJjSE5yVVU5Q1EzZEZXRnd2TVVOc1pHUk5UMDVQVEVGSWEyNHhXVDBpTENKMllXeDFaU0k2SWxCUVpsSmxSakJNV2sxcGIzUlhkVkEyUjNsaVdGVkRTakprWjBFMFZrOXpkRlp0UTBoNEsxUlpOMUkxU0RGbU1rMUNVRnBVVnpkcGRtazFhV2hzVjBKelJVRkhjVlF3ZG05cGVucE5VM0ZKS3paVk0zQm5QVDBpTENKdFlXTWlPaUprT1dKbU16UmpaV0kyTW1VME56WXdOR1pqWm1ZMVpHWmlNVFkyTTJZM1pUWmxNemN5TVRjd1ltWmhOamd5TUdRM09XWmtaamhoT0RrME5ETTFPR0UxSW4wJTNEOyBleHBpcmVzPVN1biwgMzAtSnVuLTIwMTkgMTM6MjM6MDQgR01UOyBNYXgtQWdlPTYwNDgwMDsgcGF0aD0vOyBodHRwb25seQ0KRXhwaXJlczogU3VuLCAyMyBKdW4gMjAxOSAxMzoyMzowNCBHTVQNClZhcnk6IEFjY2VwdC1FbmNvZGluZw0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luOiAqDQpLZWVwLUFsaXZlOiB0aW1lb3V0PTUsIG1heD0xMDANCkNvbm5lY3Rpb246IEtlZXAtQWxpdmUNClRyYW5zZmVyLUVuY29kaW5nOiBjaHVua2VkDQpDb250ZW50LVR5cGU6IHRleHQvaHRtbDsgY2hhcnNldD1VVEYtOA0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>PCFET0NUWVBFIGh0bWw+CjxodG1sIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBsYW5nPSJlbi1HQiIgeG1sOmxhbmc9ImVuLUdCIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJ1dGYtOCI+CiAgICA8bWV0YSBuYW1lPSJ0aGVtZS1jb2xvciIgY29udGVudD0iIzI5YTdlMSIvPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLCBtYXhpbXVtLXNjYWxlPTUsIHVzZXItc2NhbGFibGU9eWVzIj4gICAgPG1ldGEgbmFtZT0icmlnaHRzIiBjb250ZW50PSLCqSAyMDE0IFN0b3JlZCBFbnRlcnByaXNlcyBMaW1pdGVkIiAvPgogICAgPGxpbmsgcmVsPSJzaG9ydGN1dCBpY29uIiB0eXBlPSJpbWFnZS94LWljb24iIGhyZWY9Imh0dHBzOi8vd3d3LmJ5c3RvcmVkLmNvbS9mYXZpY29uLmljbz92PTMiIC8+CiAgICA8bGluayByZWw9ImFsdGVybmF0ZSIgaHJlZj0iaHR0cDovL3FhMS5ieXN0b3JlZC5jb20vY29udGFjdC11cyIgaHJlZmxhbmc9ImVuLWdiIi8+CiAgICA8bGluayByZWw9Im1hbmlmZXN0IiBocmVmPSIvbWFuaWZlc3QuanNvbj92PTM4NDAwMDAwMDkiPgoKICAgIDwhLS0gUHJlZmV0Y2ggdGhpcmQtcGFydHkgb3JpZ2lucyAtLT4KICAgIDxsaW5rIHJlbD0iZG5zLXByZWZldGNoIiBocmVmPSIvL3d3dy5nb29nbGV0YWdtYW5hZ2VyLmNvbSI+CiAgICA8bGluayByZWw9ImRucy1wcmVmZXRjaCIgaHJlZj0iLy9mb250cy5nb29nbGVhcGlzLmNvbSI+CiAgICA8bGluayByZWw9ImRucy1wcmVmZXRjaCIgaHJlZj0iLy9hamF4Lmdvb2dsZWFwaXMuY29tIj4KICAgIDxsaW5rIHJlbD0iZG5zLXByZWZldGNoIiBocmVmPSIvL3N0b3JhZ2UuZ29vZ2xlYXBpcy5jb20iPgogICAgPGxpbmsgcmVsPSJkbnMtcHJlZmV0Y2giIGhyZWY9Ii8vY29ubmVjdC5mYWNlYm9vay5uZXQiPgogICAgPGxpbmsgcmVsPSJkbnMtcHJlZmV0Y2giIGhyZWY9Ii8vanMuY2FsbHJhaWwuY29tIj4KICAgIDxsaW5rIHJlbD0iZG5zLXByZWZldGNoIiBocmVmPSIvL3YyLnpvcGltLmNvbSI+CiAgICA8bGluayByZWw9ImRucy1wcmVmZXRjaCIgaHJlZj0iLy9qcy5jcmVhdGVzZW5kMS5jb20iPgogICAgPGxpbmsgcmVsPSJkbnMtcHJlZmV0Y2giIGhyZWY9Ii8vYW50aGlsbC5pbnN0YXBhZ2UuY29tIj4KICAgIDxsaW5rIHJlbD0iZG5zLXByZWZldGNoIiBocmVmPSIvL2Z1bGxzdG9yeS5jb20iPgogICAgPGxpbmsgcmVsPSJkbnMtcHJlZmV0Y2giIGhyZWY9Ii8vY2RuLmNhbGxyYWlsLmNvbSI+CiAgICAgICAgPGxpbmsgcmVsPSJkbnMtcHJlZmV0Y2giIGhyZWY9Ii8vd3d3Lmdvb2dsZS1hbmFseXRpY3MuY29tIj4KICAgIDxsaW5rIHJlbD0iZG5zLXByZWZldGNoIiBocmVmPSIvL3MuYWNxdWlyZS5pbyI+CgogICAgICAgICAgICA8bGluayByZWw9ImNhbm9uaWNhbCIgaHJlZj0iaHR0cDovL3FhMS5ieXN0b3JlZC5jb20vY29udGFjdC11cyIgLz4KICAgIDxsaW5rIHJlbD0ic2hvcnRsaW5rIiBocmVmPSJodHRwOi8vcWExLmJ5c3RvcmVkLmNvbS9jb250YWN0LXVzIiAvPgogICAgPHRpdGxlPkNvbnRhY3QgdXMgdG8gZ2V0IHN0b3JhZ2UgJiByZW1vdmFscyByYXRlc3wgU1RPUkVEPC90aXRsZT4KPG1ldGEgbmFtZT0iZGVzY3JpcHRpb24iIGNvbnRlbnQ9IkdvdCBhIHNwZWNpZmljIHF1ZXJ5PyBGaWxsIG91dCB0aGUgZm9ybSBvciBnaXZlIHVzIGEgY2FsbCBhdCAwMjAgMzYzNyAxMjM0IHRvIGVucXVpcmUgYWJvdXQgb3VyIGJlc3QgcmF0ZXMgb24gTG9uZG9uIHN0b3JhZ2UgJiByZW1vdmFscy4iIC8+CgogICAgPHN0eWxlPgogICAgICAuYXN5bmMtaGlkZSB7CiAgICAgICAgb3BhY2l0eTogMCAhaW1wb3J0YW50CiAgICAgIH0KICAgIDwvc3R5bGU+CgogICAgPCEtLUFkZCBhbGwgb3RoZXIgbmVjZXNzaXRpZXMgYWZ0ZXIgdGhpcyBsaW5lLS0+CiAgICAgICAgPHNjcmlwdD4KICAgICAgdmFyIGFwcFJvdXRlTmFtZSA9ICJjb250YWN0LXVzIjsKICAgICAgdmFyIGJhc2VfdXJsID0gImh0dHA6Ly9xYTEuYnlzdG9yZWQuY29tIjsKICAgICAgdmFyIEJZU19BUFAgPSB7CiAgICAgICAgZW52OiAicWExIiwKICAgICAgICBoYXNoOiAiMzg0MDAwMDAwOSIsCiAgICAgICAgYnVnc25hZ0tleTogImE4MGI1YWU4ODAxNTY3OWFhYjhiYTAwYjRhMGMzNWVjIiwKICAgICAgICBhcHBWZXJzaW9uOiAiMy44NC4wIiwKICAgICAgICBsYXp5U2NyaXB0czogewogICAgICAgICAgem9waW06ICJodHRwczovL2QzMG9ndnNvN3JwdG15LmNsb3VkZnJvbnQubmV0L2J1aWxkL2N1c3RvbS56b3BpbS5taW4uanM/dj0zODQwMDAwMDA5IiwKICAgICAgICAgIGJyb3dzZXJIYW5kbGU6ICJodHRwczovL2QzMG9ndnNvN3JwdG15LmNsb3VkZnJvbnQubmV0L2J1aWxkL2Jyb3dlckhhbmRsZS5idW5kbGUubWluLmpzP3Y9Mzg0MDAwMDAwOSIKICAgICAgICB9LAogICAgICAgIGFidjogcGFyc2VJbnQoIiIsIDEwKQogICAgICB9CiAgICAgIHZhciBkYXRhTGF5ZXI9W107CiAgICAgIC8vIG93bCBjc3MgbGluawogICAgICB2YXIgb3dsQ3NzTGluayA9ICJodHRwczovL2QzMnptYTUyYTFoNGUyLmNsb3VkZnJvbnQubmV0L2Nzcy9saWIvb3dsLmNhcm91c2VsLm1pbi5jc3MiCiAgICAgIHZhciB1dGlsTGluayA9ICJodHRwczovL2QzMG9ndnNvN3JwdG15LmNsb3VkZnJvbnQubmV0L2xpYi9pbnRsdGVsaW5wdXQvaW50bFRlbElucHV0Lm1pbi5qcz92PTE1LjAuMiIKICAgIDwvc2NyaXB0PgoKICAgIDwhLS0gR29vZ2xlIFRhZyBNYW5hZ2VyIC0tPgo8c2NyaXB0PihmdW5jdGlvbih3LGQscyxsLGkpe3dbbF09d1tsXXx8W107d1tsXS5wdXNoKHsnZ3RtLnN0YXJ0JzoKbmV3IERhdGUoKS5nZXRUaW1lKCksZXZlbnQ6J2d0bS5qcyd9KTt2YXIgZj1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKHMpWzBdLApqPWQuY3JlYXRlRWxlbWVudChzKSxkbD1sIT0nZGF0YUxheWVyJz8nJmw9JytsOicnO2ouYXN5bmM9dHJ1ZTtqLnNyYz0KJ2h0dHBzOi8vd3d3Lmdvb2dsZXRhZ21hbmFnZXIuY29tL2d0bS5qcz9pZD0nK2krZGw7Zi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShqLGYpOwp9KSh3aW5kb3csZG9jdW1lbnQsJ3NjcmlwdCcsJ2RhdGFMYXllcicsICdHVE0tVDVCSkdRQycpOzwvc2NyaXB0Pgo8IS0tIEVuZCBHb29nbGUgVGFnIE1hbmFnZXIgLS0+CgogICAgCiAgICAgICAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vZDMyem1hNTJhMWg0ZTIuY2xvdWRmcm9udC5uZXQvY3NzL2xpYi9qcXVlcnktdWkubWluLmNzcz92PTEiPgogICAgCiAgICAgICAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vZDMyem1hNTJhMWg0ZTIuY2xvdWRmcm9udC5uZXQvY3NzL2xpYi9zZWxlY3QyLm1pbi5jc3MiPgogICAgICAgIAogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2QzMnptYTUyYTFoNGUyLmNsb3VkZnJvbnQubmV0L2Nzcy9jdXN0b20taW50bFRlbElucHV0LmNzcz92PTM4NDAwMDAwMDkiPgogICAgICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9kMzJ6bWE1MmExaDRlMi5jbG91ZGZyb250Lm5ldC9jc3MvbGliL2Jvb3RzdHJhcC5taW4uY3NzIj4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9kMzJ6bWE1MmExaDRlMi5jbG91ZGZyb250Lm5ldC9jc3MvYnMtbWFpbi5jc3M/dj0zODQwMDAwMDA5Ij4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgdHlwZT0idGV4dC9jc3MiIGhyZWY9Imh0dHBzOi8vZDMyem1hNTJhMWg0ZTIuY2xvdWRmcm9udC5uZXQvY3NzL21haW4uY3NzP3Y9Mzg0MDAwMDAwOSI+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIHR5cGU9InRleHQvY3NzIiBocmVmPSJodHRwczovL2QzMnptYTUyYTFoNGUyLmNsb3VkZnJvbnQubmV0L2Nzcy9zZWxmLXN0b3JhZ2UtbmV3LmNzcz92PTM4NDAwMDAwMDkiPgogICAgPGxpbmsgaHJlZj0iaHR0cHM6Ly9kMzJ6bWE1MmExaDRlMi5jbG91ZGZyb250Lm5ldC9jc3MvbGliL2ZvbnQtYXdlc29tZS5taW4uY3NzIiByZWw9InN0eWxlc2hlZXQiIHR5cGU9InRleHQvY3NzIiA+CgoKCiAgICAgICAgPC9oZWFkPgo8Ym9keSBjbGFzcz0icGFnZS1jb250YWN0LXVzIj4KICA8IS0tIEdvb2dsZSBUYWcgTWFuYWdlciAobm9zY3JpcHQpIC0tPgo8bm9zY3JpcHQ+PGlmcmFtZSBzcmM9Imh0dHBzOi8vd3d3Lmdvb2dsZXRhZ21hbmFnZXIuY29tL25zLmh0bWw/aWQ9R1RNLVQ1QkpHUUMiCmhlaWdodD0iMCIgd2lkdGg9IjAiIHN0eWxlPSJkaXNwbGF5Om5vbmU7dmlzaWJpbGl0eTpoaWRkZW4iPjwvaWZyYW1lPjwvbm9zY3JpcHQ+CjwhLS0gRW5kIEdvb2dsZSBUYWcgTWFuYWdlciAobm9zY3JpcHQpIC0tPgogICAgPCEtLXczIHZhbGlkYXRvciBmaXg6IEJhZCBzdGFydCB0YWcgaW4gaW1nIGluIGhlYWQuIC0tPgogICAgICAgIDxub3NjcmlwdD48YSBocmVmPSJodHRwczovL3d3dy5hY3F1aXJlLmlvP3dlbGNvbWUiIHRpdGxlPSJsaXZlIGNoYXQgc29mdHdhcmUiPkFjcXVpcmU8L2E+PC9ub3NjcmlwdD4KICAgICAgICAgICAgICAgICAgICAgIAogICAgCiAgICA8aGVhZGVyIGNsYXNzPSJoZWFkZXIgaGVhZGVyLW1haW4iPgogICAgPGRpdiBjbGFzcz0iY29udGFpbmVyLWZsdWlkIj4KICAgICAgICAgICAgICAgIDxuYXYgY2xhc3M9Im5hdmJhciBuYXZiYXItbWFpbiI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im5hdmJhci1sZWZ0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJodHRwOi8vcWExLmJ5c3RvcmVkLmNvbSIgY2xhc3M9Im5hdi1icmFuZCIgdGl0bGU9IlNUT1JFRCI+CiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9Imh0dHBzOi8vZDE1Z2JpMXdqa2E0M3ouY2xvdWRmcm9udC5uZXQvYnMtbGlnaHQtdGhlbWUvbG9nby12OC5zdmc/dj0zODQwMDAwMDA5IiBhbHQ9IlNUT1JFRCBsb2dvIiBoZWlnaHQ9IjI4Ij4KICAgICAgICAgICAgICAgIDwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJkLW5vbmUgZC1tZC1ibG9jayI+CiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iIyIgY2xhc3M9Im5hdi1saW5rIGZzLTE2IG1lZGl1bSBzcGFjZS0xIG1yLTMgdG8taG93aXR3b3JrIiBkYXRhLXRvZ2dsZT0ibW9kYWwiIGRhdGEtdGFyZ2V0PSIudmlkZW8tbW9kYWwiID5Ib3cgaXQgd29ya3M8L2E+CiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iaHR0cDovL3FhMS5ieXN0b3JlZC5jb20vcHJvbW90aW9uLXNlbGVjdGlvbiIgY2xhc3M9Im5hdi1saW5rIGZzLTE2IG1lZGl1bSBzcGFjZS0xIG1yLTMiPlByaWNlczwvYT4KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJodHRwOi8vcWExLmJ5c3RvcmVkLmNvbS9wcm9tb3Rpb24tc2VsZWN0aW9uIiBjbGFzcz0ibmF2LWxpbmsgZnMtMTYgbWVkaXVtIHNwYWNlLTEgbXItNCI+Qm9vayBvbmxpbmU8L2E+CiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0idGVsOis0NDIwMzYzNzEyMzQiIGNsYXNzPSJuYXYtbGluayBmcy0xNiBtZWRpdW0gc3BhY2UtMSBtci0zIiB0aXRsZT0iQ2FsbCBTVE9SRUQiPgogICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj4wMjAgMzYzNyAxMjM0PC9zcGFuPgogICAgICAgICAgICAgICAgICAgIDwvYT4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ibmF2LWxpbmsgYnRuIGJ0bi1saW5rIG5hdi10b2dnbGVyIGhhbWJ1cmdlci12OCIgZGF0YS10b2dnbGU9ImNvbGxhcHNlIiBkYXRhLXRhcmdldD0iLm5hdmJhci1yaWdodCIgYXJpYS1sYWJlbD0ibWVudSI+CiAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2PgogICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJuYXZiYXItcmlnaHQgY29sbGFwc2UiPgogICAgICAgICAgICAgICAgPHVsIGNsYXNzPSJuYXZiYXItbWVudSIgaWQ9J25ldy1oZWFkZXItbGlua3MnPgogICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0iaGlkZGVuLWxnIj48YSBjbGFzcz0idGV4dC11cHBlcmNhc2UiIGhyZWY9Imh0dHA6Ly9xYTEuYnlzdG9yZWQuY29tL3Byb21vdGlvbi1zZWxlY3Rpb24iPkJvb2sgb25saW5lPC9hPjwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJoaWRkZW4tbGciPjxhIGNsYXNzPSJ0ZXh0LXVwcGVyY2FzZSIgaHJlZj0iaHR0cDovL3FhMS5ieXN0b3JlZC5jb20vcHJvbW90aW9uLXNlbGVjdGlvbiI+UHJpY2VzPC9hPjwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGNsYXNzPSJ0ZXh0LXVwcGVyY2FzZSIgaHJlZj0iaHR0cDovL3FhMS5ieXN0b3JlZC5jb20vYnVzaW5lc3MiIHRpdGxlPSJCdXNpbmVzcyBQYWdlIj5CVVNJTkVTUzwvYT48L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaT48YSBjbGFzcz0idGV4dC11cHBlcmNhc2UiIGhyZWY9Imh0dHA6Ly9xYTEuYnlzdG9yZWQuY29tL3JlbW92YWxzIiB0aXRsZT0iUmVtb3ZhbHMgUGFnZSI+UkVNT1ZBTFM8L2E+PC9saT4KICAgICAgICAgICAgICAgICAgICA8bGk+PGEgY2xhc3M9InRleHQtdXBwZXJjYXNlIiBocmVmPSJodHRwOi8vcWExLmJ5c3RvcmVkLmNvbS9zdHVkZW50LXN0b3JhZ2UiIHRpdGxlPSJTdHVkZW50IFN0b3JhZ2UgUGFnZSI+U1RVREVOVCBTVE9SQUdFPC9hPjwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGNsYXNzPSJ0ZXh0LXVwcGVyY2FzZSIgaHJlZj0iaHR0cDovL3FhMS5ieXN0b3JlZC5jb20vZ3VpZGVzIiB0aXRsZT0iR3VpZGVzIFBhZ2UiPkdVSURFUzwvYT48L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0iY29udGFjdCI+PGEgY2xhc3M9InRleHQtdXBwZXJjYXNlIiBocmVmPSJodHRwOi8vcWExLmJ5c3RvcmVkLmNvbS9wcmljaW5nIiB0aXRsZT0iUHJpY2luZyBQYWdlIj5QUklDSU5HPC9hPjwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJjb250YWN0Ij48YSBjbGFzcz0idGV4dC11cHBlcmNhc2UiIGhyZWY9Imh0dHA6Ly9xYTEuYnlzdG9yZWQuY29tL2ZhcXMiIGlkPSJwcmljaW5nLWluZm8tZmFxIiB0aXRsZT0iRmFxcyBQYWdlIj5GQVFTPC9hPjwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJjb250YWN0Ij48YSBjbGFzcz0idGV4dC11cHBlcmNhc2UiIGhyZWY9Imh0dHA6Ly9xYTEuYnlzdG9yZWQuY29tL2NvbnRhY3QtdXMiIHRpdGxlPSJDb250YWN0IHVzIFBhZ2UiPkNPTlRBQ1QgVVM8L2E+PC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ibG9naW4tYnRuIj48YSBjbGFzcz0iYnRuIGJ0bi13YXJuaW5nIGJ0bi1sb2dpbiIgaHJlZj0iaHR0cDovL3FhMS5ieXN0b3JlZC5jb20vbG9naW4iIHRpdGxlPSJMb2cgaW4iPkxPRyBJTjwvYT48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPgoKICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9uYXY+CiAgICA8L2Rpdj4KPC9oZWFkZXI+CjxkaXYgY2xhc3M9ImhlYWRlci1ndXR0ZXIiPjwvZGl2PgoKPHNlY3Rpb24gY2xhc3M9ImNvbnRlbnQtY29udGFjdHVzIGFuaW1hdGVkLTEiPgogICAgPGRpdiBjbGFzcz0iY29udGFpbmVyIj4KICAgICAgICA8ZGl2IGNsYXNzPSJyb3cgcXVlcnktc2VjdGlvbiBwYi0yIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLXhzLTEyIGNlbnRlci1ibG9jayAiPgogICAgICAgICAgICAgICAgPGgxIGNsYXNzPSJmb250LWJvbGQiIHN0eWxlPSJmb250LXNpemU6IDM2cHg7Ij5Hb3QgYSBzcGVjaWZpYyBxdWVyeT88L2gxPgogICAgICAgICAgICAgICAgPHAgY2xhc3M9Im10LTEgZm9udC1tZWRpdW0gY29sLXhzLTEyIGNvbC1tZC02IGNvbC1tZC1wdXNoLTMiPkZpbGwgb3V0IHRoZSBmb3JtIGJlbG93IGFuZCB3ZSdsbCBnZXQgYmFjayB0byB5b3UKICAgICAgICAgICAgICAgICAgICBvciBzcGVhayB3aXRoIHRoZSB0ZWFtIG5vdyBvbiA8YSBocmVmPSJ0ZWw6KzQ0MjAzNjM3MTIzNCIgdGl0bGU9IkNhbGwgU1RPUkVEIj4KICAgICAgICAgICAgICAgICAgICAgICAgMDIwIDM2MzcgMTIzNCAgICAgICAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICAgPGRpdiBjbGFzcz0iY29udGFpbmVyIj4KICAgICAgICA8ZGl2IGNsYXNzPSJyb3ciPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wteHMtMTIgY29sLW1kLTYgY29sLW1kLW9mZnNldC0zIHAtMyBiZy13aGl0ZSBjYXJkIj4KICAgICAgICAgICAgICAgIDxmb3JtIG1ldGhvZD0iUE9TVCIgYWN0aW9uPSJodHRwOi8vcWExLmJ5c3RvcmVkLmNvbS9jb250YWN0LXVzIiBhY2NlcHQtY2hhcnNldD0iVVRGLTgiIGlkPSJjb250YWN0dXMtZm9ybS1wYWdlIj48aW5wdXQgbmFtZT0iX3Rva2VuIiB0eXBlPSJoaWRkZW4iIHZhbHVlPSJzMDlpVk1TaVZNVWhKOGIzYW5yNW13VW03NFFJSEhKTWdnOVlHRjR5Ij4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icm93IGN1c3RvbS1mb3JtIj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wteHMtMTIgY29sLXNtLTEyIGNvbC1tZC0xMiI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJvdyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wteHMtMTIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJoMyBtdC0wIG1iLTIiPkVudGVyIHlvdXIgZGV0YWlsczwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCBtYXJnaW4tLWJvdHRvbS0yMCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmbG9hdGluZy1sYWJlbC1pbnB1dCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImJzLWxhYmVsIj5GaXJzdCBOYW1lKjwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9InVzZXIgd2l0aC1pY29uIGZvcm0tY29udHJvbCIgcGxhY2Vob2xkZXI9IiIgYXJpYS1sYWJlbD0iRmlyc3QgTmFtZSIgbmFtZT0iZmlyc3ROYW1lIiB0eXBlPSJ0ZXh0IiB2YWx1ZT0iIj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIG1hcmdpbi0tYm90dG9tLTIwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZsb2F0aW5nLWxhYmVsLWlucHV0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iYnMtbGFiZWwiPkxhc3QgTmFtZSo8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPSJ1c2VyIHdpdGgtaWNvbiBmb3JtLWNvbnRyb2wiIHBsYWNlaG9sZGVyPSIiIGFyaWEtbGFiZWw9Ikxhc3QgTmFtZSIgbmFtZT0ibGFzdE5hbWUiIHR5cGU9InRleHQiIHZhbHVlPSIiPiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAgbWFyZ2luLS1ib3R0b20tMjAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZmxvYXRpbmctbGFiZWwtaW5wdXQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJicy1sYWJlbCI+RS1tYWlsIEFkZHJlc3MqPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz0iZW1haWwgd2l0aC1pY29uIGZvcm0tY29udHJvbCIgcGxhY2Vob2xkZXI9IiIgYXJpYS1sYWJlbD0iRW1haWwiIG5hbWU9ImVtYWlsIiB0eXBlPSJ0ZXh0IiB2YWx1ZT0iIj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIG1hcmdpbi0tYm90dG9tLTIwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJvdyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLW1kLTMgY29sLXhzLTUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRlbCIgY2xhc3M9ImZvcm0tY29udHJvbCIgZGF0YS1pbnQtaWQ9ImN1TnVtIiBkYXRhLWRpYWwtaWQ9ImNvbnRhY3RJc28iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgaWQ9ImNvbnRhY3RJc28iIG5hbWU9ImNvbnRhY3RJc28iIHZhbHVlPSJnYiIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtbWQtOSBjb2wteHMtNyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZsb2F0aW5nLWxhYmVsLWlucHV0IiBkYXRhLXRvZ2dsZT0idG9vbHRpcCIgZGF0YS1wbGFjZW1lbnQ9InRvcCIgZGF0YS1vcmlnaW5hbC10aXRsZT0iUGxlYXNlIGVudGVyIHBob25lIHdpdGhvdXQgY291bnRyeSBjb2RlIGFuZCBkYXNoIGkuZSB4eHh4eHh4eCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iYnMtbGFiZWwiPlBob25lIE51bWJlcio8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9ImN1TnVtIiBjbGFzcz0icGhvbmUgd2l0aC1pY29uIGZvcm0tY29udHJvbCIgaW5wdXRtb2RlPSJudW1lcmljIiBwbGFjZWhvbGRlcj0iIiBhcmlhLWxhYmVsPSJQaG9uZSBOdW1iZXIiIG5hbWU9Im5hdGlvbmFsTnVtYmVyIiB0eXBlPSJ0ZXh0IiB2YWx1ZT0iIj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icm93IG5hdHVyZS1vZi1pbnF1aXJ5Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wteHMtMTIgY29sLXNtLTEyIGNvbC1tZC0xMiBjdXN0b20tZm9ybSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJvdyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wteHMtMTIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJoMyBtdC0yIG1iLTIiPk5hdHVyZSBvZiBlbnF1aXJ5PC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZsb2F0aW5nLWxhYmVsLWlucHV0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImRyb3Bkb3duLXRvZ2dsZSB0ZXh0LWxlZnQgZm9ybS1jb250cm9sIGQtZmxleCBhbGlnbi1jZW50ZXIganVzdGlmeS1zcGFjZS1iZXR3ZWVuIiBkYXRhLXRvZ2dsZT0iZHJvcGRvd24iIGRhdGEtdmFsdWU9IiIgaWQ9InNlbGVjdGVkLXBhcmtpbmciIG5hbWU9InNlbGVjdGVkLW9wdGlvbiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBuYW1lPSJzZWxlY3RlZElucXVpcnkiIHR5cGU9ImhpZGRlbiI+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9InNlbGVjdGVkLWlucXVpcnkiID5QbGVhc2Ugc2VsZWN0PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iYmFzLWNhcmV0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPSJodHRwczovL2QxNWdiaTF3amthNDN6LmNsb3VkZnJvbnQubmV0L2JzLWxpZ2h0LXRoZW1lL2ljb24tYXJyb3ctZG93bi5zdmciIGFsdD0iZG93bi1hcnJvdyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3M9ImRyb3Bkb3duLW1lbnUgbmVzdGluZy1jb250YWN0IiByb2xlPSJtZW51IiBpZD0iaW5xdWlyeS1vcHRpb25zIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJxdWVyeS1vcHRpb24iPlJlbW92YWxzIGVucXVpcnk8L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9InF1ZXJ5LW9wdGlvbiI+UGljay11cHMgJiByZXR1cm5zPC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJxdWVyeS1vcHRpb24iPkxvbmcgdGVybSBzdG9yYWdlPC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJxdWVyeS1vcHRpb24iPlNob3J0IHRlcm0gc3RvcmFnZTwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0icXVlcnktb3B0aW9uIj5CdXNpbmVzcyBzdG9yYWdlPC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJxdWVyeS1vcHRpb24iPlBhcnRuZXJzaGlwIG9wcG9ydHVuaXRpZXM8L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9InF1ZXJ5LW9wdGlvbiI+SW52ZXN0b3IgcmVsYXRpb25zPC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJyb3ciPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC14cy0xMiBjb2wtc20tMTIgY29sLW1kLTEyIGN1c3RvbS1mb3JtIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icm93Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC14cy0xMiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9ImgzIG10LTIgbWItMiI+WW91ciBtZXNzYWdlPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZsb2F0aW5nLWxhYmVsLWlucHV0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgY2xhc3M9ImZvcm0tY29udHJvbCIgY29scz0iNTAiIHJvd3M9IjEwIiBhcmlhLWxhYmVsPSJNZXNzYWdlIiBwbGFjZWhvbGRlcj0iTWVzc2FnZSIgbmFtZT0ibWVzc2FnZSI+PC90ZXh0YXJlYT4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJzZXJ2ZXItZXJyb3IiIGNsYXNzPSJlcnJvciI+PC9zcGFuPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0ZXh0LXJpZ2h0Ij4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBicy1jdGEgYmctZ3JhZCBuZXctaG92ZXIgbXQtMSIgaWQ9ImNvbnRhY3QtdXMtc3VibWl0Ij5TZW5kPGkgY2xhc3M9ImZhIGZhLWNpcmNsZS1vLW5vdGNoIGZhLXNwaW4iIHN0eWxlPSJkaXNwbGF5OiBub25lOyIgaWQ9ImNvbnRhY3RVc0xvYWRlciI+PC9pPjwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDwvZm9ybT4gICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXY+CiAgICAgICAgICAgIDxzcGFuIGlkPSJzZXJ2ZXItZXJyb3IiIGNsYXNzPSJlcnJvciI+PC9zcGFuPgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9InRleHQtY2VudGVyIGhpZGRlbiI+CiAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIGJ1dHRvbiBidG4tcGFkLS1jdGEiIGlkPSJjb250YWN0LXVzLXN1Ym1pdCI+U2VuZDxpIGNsYXNzPSJmYSBmYS1jaXJjbGUtby1ub3RjaCBmYS1zcGluIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiIGlkPSJjb250YWN0VXNMb2FkZXIiPjwvaT48L2J1dHRvbj4KICAgICAgICAgICAgPC9mb3JtPiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImNvbnRhaW5lciBoaWRkZW4iPgogICAgICAgIDxkaXYgY2xhc3M9InJvdyI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC14cy0xMiBjb2wtc20tMTIgY29sLW1kLTEyIj4KICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJjYWxsLXVzLXRleHQiPk9yIGNvbnRhY3QgdXMgb248L3NwYW4+CiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iY2FsbC11cy10ZXh0Ij4wMjAgMzYzNyAxMjM0PC9zcGFuPgogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iY29udGFjdC1jYWxsLXVzIiBhcmlhLWxhYmVsPSJDb250YWN0IFVzIj48L2J1dHRvbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8ZGl2IGNsYXNzPSJjb250YWluZXIiPgogICAgICAgIDxkaXYgY2xhc3M9InJvdyI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC14cy0xMiBjb2wtc20tMTIgY29sLW1kLTYgY29sLW1kLXB1c2gtMyB0ZXh0LWNlbnRlciBtdC0yIj4KICAgICAgICAgICAgPHAgc3R5bGU9ImNvbG9yOiAjNTU1NTU1Ij5QbGVhc2Ugbm90ZSB0aGF0IGNhbGxzIG1heSBiZSByZWNvcmRlZCBmb3IgdHJhaW5pbmcgYW5kIG1vbml0b3JpbmcgcHVycG9zZXMuIEFueSBzdWNoIHJlY29yZGluZyBpcyBwdXJlbHkgZm9yIGludGVybmFsIHVzZSBhbmQgdW5kZXIgbm8gY2lyY3Vtc3RhbmNlIHdvdWxkIGRldGFpbHMgb2YgYSBjYWxsIGJlIHNoYXJlZCB3aXRoIGEgdGhpcmQgcGFydHkuPC9wPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2Pgo8L3NlY3Rpb24+Cgo8ZGl2IGNsYXNzPSJjbGVhcmZpeCI+PC9kaXY+CiAgPGRpdiBjbGFzcz0ibW9kYWwgZmFkZSIgaWQ9ImNvbnRhY3RVc1N1Ym1pdE1vZGFsIiB0YWJpbmRleD0iLTEiIHJvbGU9ImRpYWxvZyIgYXJpYS1sYWJlbGxlZGJ5PSJjb250YWN0VXNTdWJtaXRNb2RhbExhYmVsIj4KICAgIDxkaXYgY2xhc3M9Im1vZGFsLWRpYWxvZyIgcm9sZT0iZG9jdW1lbnQiPgogICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1oZWFkZXIiIHN0eWxlPSJib3JkZXItYm90dG9tOiB0cmFuc3BhcmVudCI+CiAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImNsb3NlIiBkYXRhLWRpc21pc3M9Im1vZGFsIiBhcmlhLWxhYmVsPSJDbG9zZSI+CiAgICAgICAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49InRydWUiPiZ0aW1lczs8L3NwYW4+CiAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWJvZHkiPgogICAgICAgICAgICAgICAgPGg0IGNsYXNzPSJ0ZXh0LWNlbnRlciI+VGhhbmsgeW91IGZvciB5b3VyIGVucXVpcnkuIFdlIHdpbGwgZ2V0IGJhY2sgdG8geW91IHdpdGhpbiBvbmUgYnVzaW5lc3MgZGF5LjwvaDQ+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CjwvZGl2PgogIDxkaXYgY2xhc3M9Im1vZGFsIGZhZGUgdmlkZW8tbW9kYWwiIHRhYmluZGV4PSItMSIgcm9sZT0iZGlhbG9nIiBhcmlhLWxhYmVsbGVkYnk9ImdyaWRTeXN0ZW1Nb2RhbExhYmVsIj4KICAgIDxkaXYgY2xhc3M9Im1vZGFsLWRpYWxvZyIgcm9sZT0iZG9jdW1lbnQiPgogICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1ib2R5IiBzdHlsZT0icGFkZGluZy10b3A6IDAuN3JlbSI+CiAgICAgICAgICAgICAgICA8YnV0dG9uIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAxcmVtIiB0eXBlPSJidXR0b24iIGNsYXNzPSJjbG9zZSIgZGF0YS1kaXNtaXNzPSJtb2RhbCIgYXJpYS1sYWJlbD0iQ2xvc2UiPjxzcGFuIGFyaWEtaGlkZGVuPSJ0cnVlIj4mdGltZXM7PC9zcGFuPjwvYnV0dG9uPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idmlkZW8tY29udGFpbmVyIj4KICAgICAgICAgICAgICAgICAgICA8YnIvPgoKICAgICAgICAgICAgICAgICAgICA8dmlkZW8gaWQ9ImhvbWUtdmlkZW8iIHN0eWxlPSJ3aWR0aDogMTAwJSIgd2lkdGg9IjQwMCIgY29udHJvbHMgc3JjPSJodHRwczovL2QxNzJxNzVmbjhoZTdsLmNsb3VkZnJvbnQubmV0L2Fzc2V0cy92aWRlb3MvaG93LWl0LXdvcmtzLXYxLm1wNCIgdHlwZT0idmlkZW8vbXA0IiBwcmVsb2FkPSJub25lIj4KICAgICAgICAgICAgICAgICAgICAgICAgWW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgSFRNTDUgdmlkZW8uCiAgICAgICAgICAgICAgICAgICAgPC92aWRlbz4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8IS0tIC8ubW9kYWwtY29udGVudCAtLT4KICAgIDwvZGl2PgogICAgPCEtLSAvLm1vZGFsLWRpYWxvZyAtLT4KPC9kaXY+PCEtLSAvLm1vZGFsIC0tPgogICAgPGRpdiBpZD0ib3V0ZGF0ZWQiPjwvZGl2PgoKICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsIGZhZGUgZ2V0LVF1b3RlLW1vZGFsIiBpZD0iZ2V0LXF1b3RlLW1vZGFsIiB0YWJpbmRleD0iLTEiIHJvbGU9ImRpYWxvZyIgYXJpYS1sYWJlbGxlZGJ5PSJncmlkU3lzdGVtTW9kYWxMYWJlbCI+CiAgICA8ZGl2IGNsYXNzPSJtb2RhbC1kaWFsb2ciIHJvbGU9ImRvY3VtZW50Ij4KICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtaGVhZGVyIj4KICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iY2xvc2UiIGRhdGEtZGlzbWlzcz0ibW9kYWwiIGFyaWEtbGFiZWw9IkNsb3NlIj4KICAgICAgICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj0idHJ1ZSIgY2xhc3M9ImV4aXRfaW5kZW50X21vZGFsLWhlYWRlciI+JnRpbWVzOzwvc3Bhbj4KICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgPGgzIGNsYXNzPSJtb2RhbC10aXRsZSI+R2V0IHlvdXIgZnJlZSBxdW90ZSE8L2gzPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtYm9keSI+CiAgICAgICAgICAgICAgICA8Zm9ybSBpZD0iZ2V0LXF1b3RlLW1vZGFsLWZvcm0iPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9ImZvcm0tY29udHJvbCIgdHlwZT0idGV4dCIgbmFtZT0iZ2V0LXF1b3RlLW1vZGFsLWZvcm0tbmFtZSIgaWQ9ImdldC1xdW90ZS1tb2RhbC1mb3JtLW5hbWUiIHBsYWNlaG9sZGVyPSJOYW1lIj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIiBzdHlsZT0icGFkZGluZy1yaWdodDogNCU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icm93Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC14cy00Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCIgZGF0YS1kaWFsLWlkPSJleGl0SXNvIiBkYXRhLWludC1pZD0iZ2V0LXF1b3RlLW1vZGFsLWZvcm0tcGhvbmUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIGlkPSJleGl0SXNvIiBuYW1lPSJleGl0SXNvIiB2YWx1ZT0iZ2IiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC14cy04IiBkYXRhLXRvZ2dsZT0idG9vbHRpcCIgZGF0YS1wbGFjZW1lbnQ9InRvcCIgZGF0YS1vcmlnaW5hbC10aXRsZT0iUGxlYXNlIGVudGVyIHBob25lIHdpdGhvdXQgY291bnRyeSBjb2RlIGFuZCBkYXNoIGkuZSB4eHh4eHh4eCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPSJmb3JtLWNvbnRyb2wiIGlucHV0bW9kZT0ibnVtZXJpYyIgaWQ9ImdldC1xdW90ZS1tb2RhbC1mb3JtLXBob25lIiBuYW1lPSJnZXQtcXVvdGUtbW9kYWwtZm9ybS1waG9uZSIgcGxhY2Vob2xkZXI9IlBob25lIiBhdXRvY29tcGxldGU9Im9mZiIgIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz0iZm9ybS1jb250cm9sIiBpZD0iZ2V0LXF1b3RlLW1vZGFsLWZvcm0tZW1haWwiIG5hbWU9ImdldC1xdW90ZS1tb2RhbC1mb3JtLWVtYWlsIiB0eXBlPSJ0ZXh0IiBwbGFjZWhvbGRlcj0iRW1haWwiIC8+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idGV4dC1jZW50ZXIiPgogICAgICAgICAgICAgICAgICAgICAgICA8cD48c3BhbiBpZD0iZ2V0LXFvdXRlLWVycm9yIiBjbGFzcz0iZXJyb3IgYm9sZCI+PC9zcGFuPjwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGhyZWY9IiMiIGlkPSJnZXQtcXVvdGUtbW9kYWwtZm9ybS1zdWJtaXQiIGNsYXNzPSJidG4gYnMtYnV0dG9uIGJ1dHRvbi0tZ3JlZW4gYnV0dG9uLS1sYXJnZSI+TGV0IHVzIGhlbHAhPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Zvcm0+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDwhLS0gLy5tb2RhbC1jb250ZW50IC0tPgogICAgPC9kaXY+CiAgICA8IS0tIC8ubW9kYWwtZGlhbG9nIC0tPgo8L2Rpdj48IS0tIC8ubW9kYWwgLS0+CiAgICAgIDxkaXYgY2xhc3M9Im1vZGFsIGZhZGUgZ2V0LVF1b3RlLW1vZGFsIiBpZD0iZ2V0LXF1b3RlLW1vZGFsLXN1Y2Nlc3MiIHRhYmluZGV4PSItMSIgcm9sZT0iZGlhbG9nIiBhcmlhLWxhYmVsbGVkYnk9ImdyaWRTeXN0ZW1Nb2RhbExhYmVsIj4KICAgIDxkaXYgY2xhc3M9Im1vZGFsLWRpYWxvZyIgcm9sZT0iZG9jdW1lbnQiPgogICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1oZWFkZXIiPgogICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJjbG9zZSIgZGF0YS1kaXNtaXNzPSJtb2RhbCIgYXJpYS1sYWJlbD0iQ2xvc2UiPgogICAgICAgICAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPSJ0cnVlIj4mdGltZXM7PC9zcGFuPgogICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1ib2R5Ij4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJvdyI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLXhzLTEyIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGgyPkZyZWUgcXVvdGUgY29taW5nIHVwITwvaDI+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxpbWcgZGF0YS1zcmM9Imh0dHBzOi8vZDE1Z2JpMXdqa2E0M3ouY2xvdWRmcm9udC5uZXQvZnJlZS1xdW90ZS1wb3B1cC1hcnQuanBnIiBhbHQ9IkZyZWUgUXVvdGUiIHdpZHRoPSIzNzdweCIgaGVpZ2h0PSIzMDNweCIgY2xhc3M9ImltZy1yZXNwb25zaXZlIj4KICAgICAgICAgICAgICAgIDxwPkEgc3RvcmFnZSBleHBlcnQgd2lsbCBjYWxsIHlvdSBzaG9ydGx5IHRvIHByb3ZpZGUgeW91IHdpdGggeW91ciBmcmVlIHF1b3RlLjwvcD4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPCEtLSAvLm1vZGFsLWNvbnRlbnQgLS0+CiAgICA8L2Rpdj4KICAgIDwhLS0gLy5tb2RhbC1kaWFsb2cgLS0+CjwvZGl2PjwhLS0gLy5tb2RhbCAtLT4KICAgIAogICAgICAgIDwhLS0gbmV3IHJldmlzZWQgZm9vdGVyIC0tPgogICAgPCEtLSBTdXBwb3J0IEJhciAtLT4KPHNlY3Rpb24gY2xhc3M9InN1cHBvcnQtYmFyICI+CiAgICA8ZGl2IGNsYXNzPSJjb250YWluZXIiPgogICAgICAgIDxkaXYgY2xhc3M9InJvdyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wteHMtMTIgY29sLWxnLTQiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImF2YXRhciI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgZGF0YS1zcmM9Imh0dHBzOi8vZDE1Z2JpMXdqa2E0M3ouY2xvdWRmcm9udC5uZXQvYnMtbGlnaHQtdGhlbWUvc2FsZXMtYXZhdGFyLnBuZyIgYWx0PSJTVE9SRUQgTGl2ZSBDaGF0IiB3aWR0aD0iNTlweCIgaGVpZ2h0PSI1OXB4Ij4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJqYXZhc2NyaXB0OmFjcXVpcmVJTy5tYXgoJ3RleHQnKSIgY2xhc3M9ImNoYXQtbGluayI+TmVlZCBoZWxwPyBMZXTigJlzIGNoYXQ8L2E+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaGlkZGVuLXhzIGhpZGRlbi1zbSBoaWRkZW4tbWQgY29sLXhzLTQgcHVsbC1yaWdodCBzdXBwb3J0LWxpbmtzIj4KICAgICAgICAgICAgICAgIDxhIGNsYXNzPSJkLWZsZXggYWxpZ24tY2VudGVyIGp1c3RpZnktZW5kIiBocmVmPSJ0ZWw6KzQ0MjAzNjM3MTIzNCIgdGl0bGU9IkNhbGwgU1RPUkVEIj4KICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ic3ByaXRlIHNwcml0ZS0taWNvbi1waG9uZSBtci0xIj48L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPCEtLSA8c3BhbiBjbGFzcz0ic3ByaXRlIHNwcml0ZS0taWNvbi1waG9uZSBtci0xIj48L3NwYW4+IC0tPgogICAgICAgICAgICAgICAgICAgIDxzcGFuPjAyMCAzNjM3IDEyMzQ8L3NwYW4+CiAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+Cjwvc2VjdGlvbj4KPCEtLSBGb290ZXIgTGlua3MgLS0+Cjxmb290ZXIgY2xhc3M9Im1haW4tZm9vdGVyIG5ldy1mb290ZXIiPgogICAgPGRpdiBjbGFzcz0iY29udGFpbmVyIGZvb3Rlci1saW5rcy13cmFwcGVyIj4KICAgICAgICA8ZGl2IGNsYXNzPSJyb3ciPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wteHMtNyBjb2wtbGctMyI+CiAgICAgICAgICAgICAgICA8aW1nIGRhdGEtc3JjPSJodHRwczovL2QxNWdiaTF3amthNDN6LmNsb3VkZnJvbnQubmV0L2JzLWxpZ2h0LXRoZW1lL2xvZ28tdjguc3ZnP3Y9Mzg0MDAwMDAwOSIgaGVpZ2h0PSIzNSIgYWx0PSJieVNUT1JFRCBsb2dvIj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC14cy01IGNvbC1sZy0zIGNvbC1sZy1vZmZzZXQtNiI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0ZXh0LWNlbnRlciI+CiAgICAgICAgICAgICAgICAgICAgPGEgdGFyZ2V0PSJfYmxhbmsiIGFyaWEtbGFiZWw9Im5vcnRvbiIKICAgICAgICAgICAgICAgICAgICAgcmVsPSJub29wZW5lciIgaHJlZj0iaHR0cHM6Ly90cnVzdHNlYWxpbmZvLndlYnNlY3VyaXR5Lm5vcnRvbi5jb20vc3BsYXNoP2Zvcm1fZmlsZT1mZGYvc3BsYXNoLmZkZiZkbj13d3cuYnlzdG9yZWQuY29tJmxhbmc9ZW4iIGNsYXNzPSJkLWlubGluZS1ibG9jayI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPSJodHRwczovL2QxNzJxNzVmbjhoZTdsLmNsb3VkZnJvbnQubmV0L2Fzc2V0cy9pbWcvc3ltYW50ZWMvbm9ydG9uLXdoaXRlLnBuZyIgYWx0PSJub3J0b24gbG9nbyIgaGVpZ2h0PSI1NCI+CiAgICAgICAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9InJvdyBtdC0yIG1iLTIgIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLXhzLTEyIj4KICAgICAgICAgICAgICAgIDxhIGhyZWY9Imh0dHA6Ly9xYTEuYnlzdG9yZWQuY29tL3NpdGVtYXAiIGNsYXNzPSJoNCB3aGl0ZSBmb250LWRlbWlib2xkIGhvdmVyLXVuZGVybGluZS1vbmx5Ij5TaXRlbWFwPC9hPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJyb3ciPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wteHMtNiBjb2wtbGctMyI+CiAgICAgICAgICAgICAgICA8aDU+U2VydmljZXM8L2g1PgogICAgICAgICAgICAgICAgPHVsPgogICAgICAgICAgICAgICAgICAgIDxsaT4KICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iaHR0cDovL3FhMS5ieXN0b3JlZC5jb20vcHJvbW90aW9uLXNlbGVjdGlvbiIgdGl0bGU9InN0YXJ0IHN0b3JpbmcgcGFnZSBsaW5rIj5TdGFydCBzdG9yaW5nPC9hPgogICAgICAgICAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpPgogICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJodHRwOi8vcWExLmJ5c3RvcmVkLmNvbS9idXNpbmVzcyIgdGl0bGU9IkJ1c2luZXNzIFN0b3JhZ2UgbGluayI+QnVzaW5lc3MgU3RvcmFnZTwvYT4KICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaT4KICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iaHR0cDovL3FhMS5ieXN0b3JlZC5jb20vcGVyc29uYWwtc3RvcmFnZSIgdGl0bGU9IlBlcnNvbmFsIFN0b3JhZ2UgcGFnZSBsaW5rIj5QZXJzb25hbCBTdG9yYWdlPC9hPgogICAgICAgICAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpPgogICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJodHRwOi8vcWExLmJ5c3RvcmVkLmNvbS9zdHVkZW50LXN0b3JhZ2UiIHRpdGxlPSJTdHVkZW50IFN0b3JhZ2UgcGFnZSBsaW5rIj5TdHVkZW50IFN0b3JhZ2U8L2E+CiAgICAgICAgICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgICAgICAgICA8bGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9Imh0dHA6Ly9xYTEuYnlzdG9yZWQuY29tL3N0dWRlbnQtc3RvcmFnZS9hbGwtdW5pdmVyc2l0aWVzIiB0aXRsZT0iU3R1ZGVudCBTdG9yYWdlIFVuaXZlcnNpdGllcyBwYWdlIGxpbmsiPlN0dWRlbnQgU3RvcmFnZSBVbml2ZXJzaXRpZXM8L2E+CiAgICAgICAgICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgICAgICAgICA8bGk+CiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9Imh0dHA6Ly9xYTEuYnlzdG9yZWQuY29tL2xvY2F0aW9ucyIgdGl0bGU9IlN0b3JhZ2UgTG9jYXRpb25zIHBhZ2UgbGluayI+U3RvcmFnZSBMb2NhdGlvbnM8L2E+CiAgICAgICAgICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgICAgIDwvdWw+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wteHMtNiBjb2wtbGctMyI+CiAgICAgICAgICAgICAgICA8aDU+QWJvdXQgU1RPUkVEPC9oNT4KICAgICAgICAgICAgICAgIDx1bD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT4KICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iaHR0cDovL3FhMS5ieXN0b3JlZC5jb20vc3RvcmFnZS1sb25kb24iIHRpdGxlPSJTdG9yYWdlIExvbmRvbiBwYWdlIGxpbmsiPlN0b3JhZ2UgTG9uZG9uPC9hPgogICAgICAgICAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpPgogICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJodHRwOi8vcWExLmJ5c3RvcmVkLmNvbS9zZWxmLXN0b3JhZ2UtbG9uZG9uIiB0aXRsZT0iU2VsZiBTdG9yYWdlIExvbmRvbiBSZWltYWdpbmVkIHBhZ2UgbGluayI+U2VsZiBTdG9yYWdlIExvbmRvbiBSZWltYWdpbmVkPC9hPgogICAgICAgICAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpPgogICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJodHRwOi8vcWExLmJ5c3RvcmVkLmNvbS9wcmljaW5nIiB0aXRsZT0iUHJpY2luZyBQYWdlIj5QcmljaW5nPC9hPgogICAgICAgICAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpPgogICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJodHRwOi8vcWExLmJ5c3RvcmVkLmNvbS9zdG9yYWdlLXByaWNlLWNvbXBhcmlzb24iIHRpdGxlPSJTdG9yYWdlIFByaWNlIENvbXBhcmlzaW9uIFBhZ2UiPlN0b3JhZ2UgUHJpY2UgQ29tcGFyaXNvbjwvYT4KICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaT4KICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iaHR0cDovL3FhMS5ieXN0b3JlZC5jb20vcmVtb3ZhbHMiIHRpdGxlPSJSZW1vdmFscyBQYWdlIj5SZW1vdmFsczwvYT4KICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaT4KICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iaHR0cDovL3FhMS5ieXN0b3JlZC5jb20vcmVtb3ZhbHMtcHJpY2luZyIgdGl0bGU9IlJlbW92YWwgUHJpY2luZyBQYWdlIj5SZW1vdmFscyBQcmljaW5nPC9hPgogICAgICAgICAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+CiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vd3d3LmJ5c3RvcmVkLmNvbS9ibG9nLyIgdGl0bGU9IkJsb2dzIFBhZ2UiPkJsb2c8L2E+CiAgICAgICAgICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgICAgICAgICA8bGk+CiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9Imh0dHA6Ly9xYTEuYnlzdG9yZWQuY29tL2d1aWRlcyIgdGl0bGU9Ikd1aWRlcyBQYWdlIj5HdWlkZXM8L2E+CiAgICAgICAgICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgICAgIDwvdWw+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wteHMtNiBjb2wtbGctMyI+CiAgICAgICAgICAgICAgICA8aDU+U2l0ZSBIZWxwIGFuZCBTdXBwb3J0PC9oNT4KICAgICAgICAgICAgICAgIDx1bD4KICAgICAgICAgICAgICAgICAgICA8bGk+CiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9Imh0dHA6Ly9xYTEuYnlzdG9yZWQuY29tL2NvbnRhY3QtdXMiIHRpdGxlPSJDb250YWN0IFVzIHBhZ2UgbGluayI+Q29udGFjdCBVczwvYT4KICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaT4KICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iaHR0cDovL3FhMS5ieXN0b3JlZC5jb20vZmFxcyIgdGl0bGU9IkZBUXMgcGFnZSBsaW5rIj5GQVFzPC9hPgogICAgICAgICAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpPgogICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJodHRwOi8vcWExLmJ5c3RvcmVkLmNvbS90ZXJtcy1vZi11c2UiIHRpdGxlPSJUZXJtIG9mIHVzZSBwYWdlIGxpbmsiPlRlcm1zIG9mIFVzZTwvYT4KICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaT4KICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iaHR0cDovL3FhMS5ieXN0b3JlZC5jb20vY29va2llLXBvbGljeSIgdGl0bGU9IkNvb2tpZSBQb2xpY3kgcGFnZSBsaW5rIj5Db29raWUgUG9saWN5PC9hPgogICAgICAgICAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpPgogICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJodHRwOi8vcWExLmJ5c3RvcmVkLmNvbS9wcml2YWN5LXBvbGljeSIgdGl0bGU9IlByaXZhY3kgUG9saWN5IHBhZ2UgbGluayI+UHJpdmFjeSBQb2xpY3k8L2E+CiAgICAgICAgICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgICAgICAgICA8bGk+CiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9Imh0dHA6Ly9xYTEuYnlzdG9yZWQuY29tL3N0b3JhZ2UtcnVsZXMiIHRpdGxlPSJTdG9yYWdlIFJ1bGVzIHBhZ2UgbGluayI+U3RvcmFnZSBSdWxlczwvYT4KICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaT4KICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iaHR0cDovL3FhMS5ieXN0b3JlZC5jb20vY2FsY3VsYXRvciIgdGl0bGU9IkNhbGN1bGF0b3IgUGFnZSBsaW5rIj5DYWxjdWxhdG9yPC9hPgogICAgICAgICAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpPgogICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJodHRwOi8vcWExLmJ5c3RvcmVkLmNvbS9sb2dpbiIgdGl0bGU9IkxvZ2luIFBhZ2UgTGluayI+TG9naW48L2E+CiAgICAgICAgICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgICAgIDwvdWw+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wteHMtMTIgY29sLWxnLTMiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaGlkZGVuLXNtIGhpZGRlbi14cyB0cnVzdC1waWxvdC1iYWRnZSB0ZXh0LWNlbnRlciB0ZXh0LXNtLWxlZnQgdGV4dC14bC1jZW50ZXIiPgogICAgICAgICAgICAgICAgICAgIDxpbWcgZGF0YS1zcmM9Imh0dHBzOi8vZDE1Z2JpMXdqa2E0M3ouY2xvdWRmcm9udC5uZXQvYnMtbGlnaHQtdGhlbWUvdHJ1c3QtcGlsb3QtYmFkZ2VAMngucG5nIiBhbHQ9IlRydXN0IFBpbG90IHNjb3JlIiB3aWR0aD0iMTkzcHgiIGhlaWdodD0iMTI3cHgiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRydXN0LXNjb3JlIj5UcnVzdFNjb3JlIDxzcGFuIGNsYXNzPSJ0ZXh0LWdyZWVuIj45Ljc8L3NwYW4+IG91dCBvZiAxMDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxmb3JtIGNsYXNzPSJtLTAiIGFjdGlvbj0iaHR0cHM6Ly93d3cudHJ1c3RwaWxvdC5jb20vcmV2aWV3L2J5c3RvcmVkLmNvbSIgdGFyZ2V0PSJfYmxhbmsiPgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgY2xhc3M9ImJ0biBicy1idXR0b24gYnV0dG9uLS1ncmVlbiI+UmVhZCBhbGwgdGhlIHJldmlld3M8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8L2Zvcm0+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxoNT5Db25uZWN0IHdpdGggdXM8L2g1PgogICAgICAgICAgICAgICAgPHVsIGNsYXNzPSJzb2NpYWwtbGlua3MgZC1mbGV4IiBhcmlhLWxhYmVsPSJTb2NpYWwgTWVkaWEgTGlua3MiPgogICAgICAgICAgICAgICAgICAgIDxsaT4KICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iaHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbS9ieXN0b3JlZC8iIHRhcmdldD0iX2JsYW5rIiBhcmlhLWxhYmVsPSJJbnN0YWdyYW0gbGluayIgcmVsPSJub29wZW5lciIgdGl0bGU9IlNUT1JFRCBJbnN0YWdyYW0iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InNwcml0ZSBzcHJpdGUtLWljb24tc29jaWFsLWluc3RhZ3JhbSI+PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgICAgICAgICA8bGk+CiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vdHdpdHRlci5jb20vYnlzdG9yZWQiIHRhcmdldD0iX2JsYW5rIiByZWw9Im5vb3BlbmVyIiBhcmlhLWxhYmVsPSJUd2l0dGVyIGxpbmsiIHRpdGxlPSJTVE9SRUQgVHdpdHRlciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ic3ByaXRlIHNwcml0ZS0taWNvbi1zb2NpYWwtdHdpdHRlciI+PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgICAgICAgICA8bGk+CiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9ieXN0b3JlZCIgdGFyZ2V0PSJfYmxhbmsiIHJlbD0ibm9vcGVuZXIiIGFyaWEtbGFiZWw9IkZhY2Vib29rIGxpbmsiIHRpdGxlPSJTVE9SRUQgRmFjZWJvb2siPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InNwcml0ZSBzcHJpdGUtLWljb24tc29jaWFsLWZhY2Vib29rIj48L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvYT4KICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaT4KICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iaHR0cHM6Ly93d3cubGlua2VkaW4uY29tL2NvbXBhbnkvYnlzdG9yZWQtIiB0YXJnZXQ9Il9ibGFuayIgcmVsPSJub29wZW5lciIgYXJpYS1sYWJlbD0iTGlua2VkSW4gbGluayIgdGl0bGU9IlNUT1JFRCBMaW5rZWRJbiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ic3ByaXRlIHNwcml0ZS0taWNvbi1zb2NpYWwtbGlua2VkaW4iPjwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpPgogICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJodHRwczovL3d3dy5waW50ZXJlc3QuY29tL2J5c3RvcmVkLyIgdGFyZ2V0PSJfYmxhbmsiIHJlbD0ibm9vcGVuZXIiIGFyaWEtbGFiZWw9IlBpbnRlcmVzdCBsaW5rIiB0aXRsZT0iU1RPUkVEIFBpbnRlcmVzdCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ic3ByaXRlIHNwcml0ZS0taWNvbi1zb2NpYWwtcGludGVyZXN0Ij48L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvYT4KICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaT4KICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iaHR0cHM6Ly93d3cueW91dHViZS5jb20vY2hhbm5lbC9VQ3U0bXF2clY4MUFzdWNtYkRGR1Fxd3ciIHJlbD0ibm9vcGVuZXIiIHRhcmdldD0iX2JsYW5rIiBhcmlhLWxhYmVsPSJZb3V0dWJlIGxpbmsiIHRpdGxlPSJTVE9SRUQgWW91VHViZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ic3ByaXRlIHNwcml0ZS0taWNvbi1zb2NpYWwteW91dHViZSI+PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgICAgIDwvdWw+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJjb250YWluZXItZmx1aWQgaGlkZGVuLW1kIGhpZGRlbi1sZyI+CiAgICAgICAgPGRpdiBjbGFzcz0idHJ1c3QtcGlsb3QtYmFkZ2UgdGV4dC1jZW50ZXIgZm9vdGVyX3Y2X3RydXN0LXBpbG90LWJhZGdlIj4KICAgICAgICAgICAgPGltZyBkYXRhLXNyYz0iaHR0cHM6Ly9kMTVnYmkxd2prYTQzei5jbG91ZGZyb250Lm5ldC9icy1saWdodC10aGVtZS90cnVzdC1waWxvdC1iYWRnZUAyeC5wbmciIGFsdD0iVHJ1c3QgUGlsb3QiIHdpZHRoPSIxOTNweCIgaGVpZ2h0PSIxMjdweCI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InRydXN0LXNjb3JlIj5UcnVzdFNjb3JlIDxzcGFuIGNsYXNzPSJ0ZXh0LWdyZWVuIj45Ljc8L3NwYW4+IG91dCBvZiAxMDwvZGl2PgogICAgICAgICAgICA8Zm9ybSBhY3Rpb249Imh0dHBzOi8vd3d3LnRydXN0cGlsb3QuY29tL3Jldmlldy9ieXN0b3JlZC5jb20iIHRhcmdldD0iX2JsYW5rIj4KICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJzLWJ1dHRvbiBidXR0b24tLWdyZWVuIj5SZWFkIGFsbCB0aGUgcmV2aWV3czwvYnV0dG9uPgogICAgICAgICAgICA8L2Zvcm0+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImNvbnRhaW5lci1mbHVpZCI+CiAgICAgICAgPGRpdiBjbGFzcz0icm93IGZvb3Rlci1ib3R0b20iPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wteHMtMTIiPgogICAgICAgICAgICAgICAgPHA+JmNvcHk7IDIwMTkgU1RPUkVEPC9wPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2Pgo8L2Zvb3Rlcj4KICAgIDwhLS1lbmQgbmV3IHJldmlzZWQgZm9vdGVyIC0tPgoKICAgICAgICAgIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Imh0dHBzOi8vZDMwb2d2c283cnB0bXkuY2xvdWRmcm9udC5uZXQvbGliL2pxdWVyeS5taW4uanMiPjwvc2NyaXB0PgogICAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSJodHRwczovL2QzMG9ndnNvN3JwdG15LmNsb3VkZnJvbnQubmV0L2xpYi9qcXVlcnktdWkubWluLmpzIj48L3NjcmlwdD4KICAgIAogICAgPCEtLSBJbmNsdWRpbmcgYWxsIHRoaXJkIHBhcnR5IGxpYnJhcmllcyAtLT4KCiAgICA8IS0tIGxvYWRpbmcgcG9seWZpbGwgZm9yIElFIC0tPgogICAgICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9iYWJlbC1wb2x5ZmlsbC82LjI2LjAvcG9seWZpbGwubWluLmpzIj48L3NjcmlwdD4KCiAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSJodHRwczovL3d3dy5nb29nbGVhZHNlcnZpY2VzLmNvbS9wYWdlYWQvY29udmVyc2lvbl9hc3luYy5qcyIgY2hhcnNldD0idXRmLTgiIGFzeW5jPjwvc2NyaXB0PgoKICAgICAgICAgIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Imh0dHBzOi8vZDMwb2d2c283cnB0bXkuY2xvdWRmcm9udC5uZXQvYnVpbGQvbGlicmFyaWVzLm1pbi5qcz92PTM4NDAwMDAwMDkiPjwvc2NyaXB0PiAgICA8IS0tIHNlZSBwYWNrYWdlLmpzb24gZmlsZSBvbiByb290IGZvciByZWZlcmVuY2Ugb2YgdGhpcyBmaWxlIGkuZS4gaG93IGlzIGl0IGdlbmVyYXRlZCAtLT4KICAgICAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSJodHRwczovL2QzMG9ndnNvN3JwdG15LmNsb3VkZnJvbnQubmV0L2xpYi9pbnRsdGVsaW5wdXQvaW50bFRlbElucHV0Lm1pbi5qcz92PTE1LjAuMiI+PC9zY3JpcHQ+ICAgIDwhLS0gc2VlIHBhY2thZ2UuanNvbiBmaWxlIG9uIHJvb3QgZm9yIHJlZmVyZW5jZSBvZiB0aGlzIGZpbGUgaS5lLiBob3cgaXMgaXQgZ2VuZXJhdGVkIC0tPgoKCiAgICAgICAgICA8IS0tIHNlZSBwYWNrYWdlLmpzb24gZmlsZSBvbiByb290IGZvciByZWZlcmVuY2Ugb2YgdGhpcyBmaWxlIGkuZS4gaG93IGlzIGl0IGdlbmVyYXRlZCAtLT4KICAgICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iaHR0cHM6Ly9kMzBvZ3ZzbzdycHRteS5jbG91ZGZyb250Lm5ldC9idWlsZC9hcHAubWluLmpzP3Y9Mzg0MDAwMDAwOSI+PC9zY3JpcHQ+CiAgICAKICAgIDwhLS0gVHJ1c3RCb3ggc2NyaXB0IC0tPgo8IS0tIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Ii4uL2Fzc2V0cy9qcy9zcmMvdHAud2lkZ2V0LnN5bmMuYm9vdHN0cmFwLm1pbi5qcyIgYXN5bmM+PC9zY3JpcHQ+IC0tPgo8IS0tIEVuZCBUcnVzdGJveCBzY3JpcHQgLS0+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Imh0dHBzOi8vZDMwb2d2c283cnB0bXkuY2xvdWRmcm9udC5uZXQvYnVpbGQvY29udGFjdC11cy5taW4uanM/dj0zODQwMDAwMDA5Ij48L3NjcmlwdD4KCjxzY3JpcHQgdHlwZT0iYXBwbGljYXRpb24vbGQranNvbiI+CiAgeyJAY29udGV4dCI6Imh0dHA6XC9cL3NjaGVtYS5vcmciLCJAdHlwZSI6Ik9yZ2FuaXphdGlvbiIsImRlc2NyaXB0aW9uIjoiU3RvcmFnZSBMb25kb24uIFNlY3VyZSwgZmxleGlibGUgc3RvcmFnZSBmb3IgTG9uZG9uIGZhbWlsaWVzLCBidXNpbmVzc2VzIGFuZCBzdHVkZW50cy4gUHJpY2UgZ3VhcmFudGVlIHZzLiBzZWxmIHN0b3JhZ2UuIEJvb2sgeW91ciBmcmVlIHBpY2sgdXAgb25saW5lIHRvZGF5ISIsIm5hbWUiOiJTVE9SRUQuIiwidXJsIjoiaHR0cHM6XC9cL3d3dy5ieXN0b3JlZC5jb20iLCJsb2dvIjoiaHR0cHM6XC9cL3d3dy5ieXN0b3JlZC5jb21cL2Fzc2V0c1wvaW1nXC9sb2dvLXNoYWRvdy5wbmciLCJhZGRyZXNzIjp7IkB0eXBlIjoiUG9zdGFsQWRkcmVzcyIsImFkZHJlc3NDb3VudHJ5IjoiVW5pdGVkIEtpbmdkb20iLCJhZGRyZXNzTG9jYWxpdHkiOiJMb25kb24iLCJwb3N0YWxDb2RlIjoiVzggNFNHIiwic3RyZWV0QWRkcmVzcyI6Ijk2IEtlbnNpbmd0b24gSGlnaCBTdCJ9LCJmb3VuZGVyIjoiRGFuaWVsIEF4c2F0ZXIsIFBldGVyIEdlbnR6ZWwiLCJzYW1lQXMiOlsiaHR0cHM6XC9cL3d3dy5mYWNlYm9vay5jb21cL2J5U1RPUkVEIiwiaHR0cHM6XC9cL3d3dy50d2l0dGVyLmNvbVwvYnlTVE9SRUQiLCJodHRwOlwvXC93d3cuaW5zdGFncmFtLmNvbVwvYnlTVE9SRURcLyIsImh0dHBzOlwvXC93d3cubGlua2VkaW4uY29tXC9jb21wYW55XC81MTM1NDAxIl0sImNvbnRhY3RQb2ludCI6eyJAdHlwZSI6IkNvbnRhY3RQb2ludCIsInRlbGVwaG9uZSI6Iis0NCAyMCAzNjM3IDEyMzQiLCJlbWFpbCI6InNlcnZpY2VAYnlzdG9yZWQuY29tIiwiY29udGFjdFR5cGUiOiJjdXN0b21lciBzZXJ2aWNlIn19PC9zY3JpcHQ+Cgo8L2JvZHk+CjwvaHRtbD4K</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="330064109" offset="0" length="1400" />
        <PacketInfo time="330064109" offset="1400" length="1400" />
        <PacketInfo time="330064125" offset="2800" length="1400" />
        <PacketInfo time="330064125" offset="4200" length="1400" />
        <PacketInfo time="330064125" offset="5600" length="2265" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
  <HTTPTask id="935" hostname="www.googletagmanager.com" path="/gtm.js?id=GTM-T5BJGQC" url="https://www.googletagmanager.com/gtm.js?id=GTM-T5BJGQC" ip="172.217.19.168" port="443" connectionId="26" origin="ExtraRes" frame="1" startDateTime="2019-06-23T18:24:39.054+05:00" startTime="330093015" endTime="330093203">
    <QueryString>
      <HTTPDataSet>
        <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
          <ActualData>aWQ9R1RNLVQ1QkpHUUM=</ActualData>
        </HTTPData>
      </HTTPDataSet>
      <IsExternalData>false</IsExternalData>
    </QueryString>
    <HTTPSplittedQueryStrings>
      <HTTPHeaderEntity name="id" index="0">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>R1RNLVQ1QkpHUUM=</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
    </HTTPSplittedQueryStrings>
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Host" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>d3d3Lmdvb2dsZXRhZ21hbmFnZXIuY29t</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc1LjAuMzc3MC4xMDAgU2FmYXJpLzUzNy4zNg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ki8q</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cDovL3FhMS5ieXN0b3JlZC5jb20vY29udGFjdC11cw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZSwgYnI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVMsZW47cT0wLjk=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9ndG0uanM/aWQ9R1RNLVQ1QkpHUUMgSFRUUC8xLjENCkhvc3Q6IHd3dy5nb29nbGV0YWdtYW5hZ2VyLmNvbQ0KQ29ubmVjdGlvbjoga2VlcC1hbGl2ZQ0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc1LjAuMzc3MC4xMDAgU2FmYXJpLzUzNy4zNg0KQWNjZXB0OiAqLyoNClJlZmVyZXI6IGh0dHA6Ly9xYTEuYnlzdG9yZWQuY29tL2NvbnRhY3QtdXMNCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZSwgYnINCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMsZW47cT0wLjkNCg0K</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <contentLenght>20776</contentLenght>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Content-Type" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdDsgY2hhcnNldD1VVEYtOA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Access-Control-Allow-Origin" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cDovL3d3dy5nb29nbGV0YWdtYW5hZ2VyLmNvbQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Access-Control-Allow-Headers" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Q2FjaGUtQ29udHJvbA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Access-Control-Allow-Credentials" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>dHJ1ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YnI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Vary" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>U3VuLCAyMyBKdW4gMjAxOSAxMzoyMzozNCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Expires" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>U3VuLCAyMyBKdW4gMjAxOSAxMzoyMzozNCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cHJpdmF0ZSwgbWF4LWFnZT05MDA=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>RnJpLCAyMSBKdW4gMjAxOSAyMTo1ODoxNiBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Server" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R29vZ2xlIFRhZyBNYW5hZ2Vy</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Length" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MjA3NzY=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-XSS-Protection" index="12">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Alt-Svc" index="13">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cXVpYz0iOjQ0MyI7IG1hPTI1OTIwMDA7IHY9IjQ2LDQ0LDQzLDM5Ig==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2phdmFzY3JpcHQ7IGNoYXJzZXQ9VVRGLTgNCkFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbjogaHR0cDovL3d3dy5nb29nbGV0YWdtYW5hZ2VyLmNvbQ0KQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVyczogQ2FjaGUtQ29udHJvbA0KQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHM6IHRydWUNCkNvbnRlbnQtRW5jb2Rpbmc6IGJyDQpWYXJ5OiBBY2NlcHQtRW5jb2RpbmcNCkRhdGU6IFN1biwgMjMgSnVuIDIwMTkgMTM6MjM6MzQgR01UDQpFeHBpcmVzOiBTdW4sIDIzIEp1biAyMDE5IDEzOjIzOjM0IEdNVA0KQ2FjaGUtQ29udHJvbDogcHJpdmF0ZSwgbWF4LWFnZT05MDANCkxhc3QtTW9kaWZpZWQ6IEZyaSwgMjEgSnVuIDIwMTkgMjE6NTg6MTYgR01UDQpTZXJ2ZXI6IEdvb2dsZSBUYWcgTWFuYWdlcg0KQ29udGVudC1MZW5ndGg6IDIwNzc2DQpYLVhTUy1Qcm90ZWN0aW9uOiAwDQpBbHQtU3ZjOiBxdWljPSI6NDQzIjsgbWE9MjU5MjAwMDsgdj0iNDYsNDQsNDMsMzkiDQoNCg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>G9/yERXFH4IRqWk9ABopC+fvH6HD57yv3pz//++fL3sOT3cmamTJLEkkGhUhhJANEiCbUFyzaSS02JZkG7Dm/dla/Z3L6ZtDKinfbJuZlMUSlB5FB5BeLD8VSWxxFHFpFgX//02tlDzANlzvg1i5pZM1qQ0SxdP3vf//7i83qoLRKQCkBNAcgWN0ALJnD9nmVxXYWyhwdkGw9xya3l1Ocw2nR4ZjdNQjebZbY3wQ6+RjZTMbS7GSZDpUj5wNMmk5VHZvRwQRqsnabQmXOndJBxm+j0An9re+DfNzvJvs8c82Bowx3JLQw+2O0XQ6fo1SdMXx5WJhKj2+aqRHWreZvO/GPjM85bJgN8pqUof5GMc43o1Iq7vFupWahOPdaDwm2LSQkBwQGJiufzZhSMLECR5cArGdhGQ+1+Sjs7CwtjaA6LP6pl/Owz7uC3/W7c+gumduap3uiyYRo0PoM3J8Tw2vNQlJ1y9abvRcj0TPSed6xoU0kK5LNAR1U3pcj2dByNcjBii2/xuLxpj/p13Pizb6Q3J+zruu0LL6eyoL5cm8UbxV86qoMa5HZMBWr8fgwaH1vIZewXoLwzssuO7jahsFaqt1v0BzfrEWla6KElGodLpvLVR0+w2ZBFenrTv9Xou1iWbCmeqaX9TdLW51bwsJmdPOckhIzZcEiAMKoArklu3pMcuxxuw3AFJXsZffctkuCARp6h/1bZLXicz0TXBcHSadJnIg2ptJviZy6NwwkwS7uqNIEQNI8LS642Co0I4cJwBY5esQqaA9e/wlYTWRN7e8570et75ABgmeJ/IWTSFz4Yu/CRcM/DRNaW7JR97lZ+t+0ej5Ro05yGjdEFx155hbV3Cx/pUCNl3UuqHsWNKl5tdLCZDAcGoib8Zaup/IbLzZRA7GO5jI4XiHEzka72gix+MdT+T1eK8n8ma8NxN5O97bswr8DImnJM5992J2ONROTVjJhjXI48+K3J/tvzk4fnt0eODvBwTcA3jPf1QdJ7RveN/pq6bXbRPDLTvn6ZnrnVXrzPtNj9Vb5McX4v8d8/H69m77Y7g5u/v4hsowP4OVrKghZ0xfe+NDK6qE34BBEH3n1Z9d8UQO6V/ylbr+n77jrdHp9Ra8b6vzIK73lQ1vq/hfNyG5u/h9Ry0zbbtoOwVeh0jWZKEQIQ6jSS9FZ+O0fWse4PJFI/V8qdv5CPpNlr7YIIpNfbHRbdfDkkt+q/u+aGB3wqZkqjwyP87OP89vzi4vfl5d/LJpA8lgjD2D3euGlyW5r38oWt038Yid83rJC9O85z2P769Rz828UGl95pKv0iwaLB0O43WRvhSE7IUC37zwotbjG7JJyIZf8YufF9/uDgjUPYu4bNKijdqDuL3bFy50BfB6z89okmx31V3kkczyJ6UzQ+BXaG+gM/Ok8sDQmOeRbys73UAPzI3t0NzLTSHL9fIngV0He9VnsLL8voEemieZR0b19qzM3kCPzJPMYyP76VZ2uoEemyeZr43sYc2fic3Kcv4G+to8yXxjErvGV3a+gb4xN7a3hqYx1HmjxtMMroPMR7Arze4b6Fvz787A3yaElmz/LQ387eGAMHfIkmWcG+91L2WfXiXETt4aP/rmZoa3JuhMvROP4glnDmakz+v/yvhDtdjCJ7h36k6U5gyfxKTjJ8b1zp6Ju5xBTFcqwXImc2plQilnEsn4ydZPGHxjq+8nBvy4id5PDNhx08TZchmGnCCKLw2fTxJSZEB0IiSFdwKe+HQ4GCsYno01Gz4Y62D4cKzD4aOxjoaPxzoefj3W6+E3Y70ZfjvW21SQEDSpt21kYUTar3vGRJ/3lIySFJJ0lI5Go5GNxBTbOAfB8Uux/WGQuPzMQHKc/ksetu50vp+6CaY7H2Z2bwqK47db68jnmoyLWm60kA9zucipsfIRZffu/yIbcwuFc5ZEje7GfxSsxrB/xo4zKbpv/BvlzELpz0kW8+Qy47O25c8pQZQc9TwJUdcT9F3gSV5V1Mm9Uc6YhQpqOwi2KzIKy4RAk90L15nU7KREPrBMxVdhx6N+vIxluB9Y0dbFCv1InXCx+/ceKddlRUZ5olJEFAxQcawg3tN+YKHGrckdp+RrCTovR8ijcl6mjiNeuww+BmxnoYHsTx534TCM3uTFx8RPBePog8BZcPj68M3B8eFr7LrHy1BIstAxQsRLX1Gxz92AuTmVuQzJwPn+NXo7XnBIk3npdbo/3gYTn0XejtfoR/pEuLZ1NE+XntE9FYneFSc+mr+0SWChReLnxkUztvE0sizn3fW2uWm/qL3QP1NKnYNkSRlI2G9roSNAThXxD0PYtJ8bmfQADINvoS84aBJVCSJRbqacCS8/EiyeBOFkwi2sISAGv20CkzQqMkoIthDylsHQXebi7sLCJjJ7eTzi3s+m6qKy+Q8TCGEhIRa2nIG9KnF2U3R7s4WFa3Ag2xM6t7A9FZBoMMlAXbTDnbXRgufIVp3u89D0kk4gXsjlKQoAo42KYYdQ4nbi/2fYtmi6+/LNolBjf4J4ABkWOeO1GU9k1wcybbdyHE5kjy4VLOaJSENp4TmvS5Mgy8ykRHk9WbC+fd5xypRsHvOS7azAiW8tvBD+loIJREDiRCAFFNcxziSMIWFx7pIQl8QiOLHzc8AkLf9EszgXGAywvHkNtDxTCSL5yErnvKDoeLG00fTVaLyISQeNN4H31gvGVDK1FOtIy8SdOTC0C1h5wxkrX0FnQmgvNLzxq2k+5t6Xpg8Vyon03WJRad4MJdseClRx+BA5a6go9ED9j8zwQ5uLpyV7SKdwkYxhkdF6dRKR82JV9O0ot3/HvOeeftKSVltGYb5ALJIg5SCFkMTgvMTCh4wQXlfO/1SQ9xkEs3AZsdkJH4bgqhO8qER87qnQYPRj8TBwRO4tlZGkEj+IyJcoKbI8Nw910TrO5AOnHMjwImH7iGMD69uAFN3NgKnrjNBhKigYamgcIXdHpTmHjZEYBiQQ2cyP6caEOy+GgRINmQLBCC+PkzTcWQaqrvJUISFoBcU8+xqptys657RcU9JpSfWB47z2MSkAODc+cqq304yFlx6dS/fPGAYgEG9pYJ+2BQWYOJniZRusUS2kxtcOuOI4s4xF8Inj2tOmYSWgQY6zegC8rpXwOYGaWcLT6IWH6Xq7jEUomdh9THhq4QsALfhPvBLPc2LutVYLrlCEb40/jCzseq44RbOBidQsqLDqXD3fuqiPi2bntalVGIAYXnulex0GNqAkUCiYjwIIyphlFr6yb0RPq6S5h1bzXmsw+cqjv/2R9Pqpn87OpkEi5elcNXHiRyrl3jfy6AunCgSLpONQ5ekXFlAygbKO2EQbKs5EGPztBgX3cqyRo/EYF4+H4UP2TVygbJ2fNMysE1PColGR0bwvjRJzL+4uw5B71lMBJR8WMY27pXQcya3glpeM7RTHMjLT+nDGwlrFkRCrUfFIO446pONLKoDuVVjhuiYxbqaxlRrBgxI/HYa1Jxbq+TWsts4lqjwDrTmqoNq5d1UWvmEXM0VGPx2c5+H4iQNEdA1L0sDZmyTv+6UlpIIbZzOepYx+uAf76q0ILFxvhfj1wsZyX1mU3rueW4jEJ5H03puYuCczNcezWNM4mCkdZT69ZgCS97flRmsT44editfaM5sjo8uthmE0tBNTz5GgfuYLv3JC4TaawyNeu+aBe1Zws0uAAJKhX50GEGwNsYPNbyqcCEwtsOoNzEabIS45R9BXTh6WvJmMhZD5vU03g7qSIUpssKYZ9ptMFAu596MUpCRA08ygFkoWDXH7uo2Fu/473Lo8tsKkGP5XBx/fVWkzKHJ1nx23OttuQKwfK4t1Tzn4zML92X4rd5yR6Avvzowu5HyJSOPfGCnW4YhvYeHnSc8oCnZGa6PbO/3UH/KAecI4sz4MhExpk4zJBCH6RoGChLhG8tA9PHE/dYc7QU4MZlEOTROB5Dh4NwM7PDTDQ/vQsyxrx4R66fmrnfHbb6EqNoRFovkwSL3pejhnJ6rYnBKXu+Qnl8YnUSvU9umK0NRKJDwjUY6VGKoj5phiumiyLrZfxvl9mkQ5DIHvV3RPCncWqFtfJWStTk8Qmfy1DXLI0Y/MtSw/QRnlrgv6iirBJqvG64FsHDHppgBskYlGBg0wEOMkYRrP/ir+/AsqBRvRYOAoDscSjzdF/ZNXIMPDkAiOjmL0X3ZTG41DGofAtxgP7xLwwxmyfsnCIfkXTuP/0lc0DpObtmGPsWmRO7d3oZ0FLtrm73Fcg16BJrCiOz8Rg7bJgsxhUjCgO1Iyo6BBRsswUem6TCcsjse+mh6z9B8GJyfq/455Epi3P6BIzt6dv7/4cPnx6tPnL1+/Xd98/3F7d//z1+8/f7mQSmcmLx7Lqm4Wy1Xb9evN9un5xQ9mB4dHx6/fvN2fE0/mvD3rqUh0Ogw+i1q99LVnCj1NCWEj+xQlmmHi77/dVVuDFkvOWGkuNw2vOYR9jVIC4ZhViU5T24gSwLLoOKXvf1yd2zT41LgJMPZt8cHdo8TFotKArJAPgBoNWMNRpFwY28V5WHTP/PcLWmsh7900KNDIoys4KGMJar9FqIVQLqpVu0wMA1ku2v7eYcT+fnJRYSbo379hNgyZoJlnId7HohLy8bG/ZP2S49P08kXXa92LNF1hUeGi7fF2Qis0QTRk4Y34jR/GZHSf9cPDgxBQ+iEpmure6DijmtJ43z8M9ckIY0x9JWBu7CjxvF9IQA7lQADQlKjpY7bJzWb1H5gatpO802Oybqt5s5g/TLCFhDkaQd4S8mhHCdWElMIcrRSx1MkNYY596rz1mF6BfFy+wum/7Xb7oF49eFMaemnOospxqsTfzAflmHvdWnR9S0PFst/MmG0c5nZwmE9p7Lx1l9PllbMU09NW3uck5N5rnp3ITB3IBSV3Z5eXV98uCa40nSOZTr3IIlu8x4eAxVH7hCMyJW4YzZ+uO8gbNj9t90+w4lSBt1qd1P0N9gPaMhoYIiHVO/X2RAGRbhBVwXPCbhbU95DE5BP4/2VojlrQHDTgjXFDwe97kUW/aG53001ut+U1pBacNI2bjJvk9kH3gzQkJMo7CXcVkWoiK454UmZbD//HWYSnByQlLtxkq7Oj7zy5hezEEJEbeMxLXCckC5F4oesZgYlUCYnY9FydOkgpxKAv9H9tvAX9UxnHOmEitQhKkrU0J97kUSGQnjonLELfLVGegwymDRLF6llIpmSCKPdINl+WTwPpuJTpOSkU+1JAdGvXfq7ThW1eDgU80VCEHZbkQnFToYLVXZCw0IqhWHEaphO5GrzLAZZaYjva9uRb9eNZN5ekoI+F0jBQz8K/k8tWVC7yweBTpRN9Eh41PyVHnZg6lJjDjwhXPP/qyCtBOOuSvycAU6/8BOywjLByHLbAehUejH7FCCpCPXdUzFrq53uqBVrQ0FgK/hPaNhsgYjclKqh1h/xCJQG1p67TdhorQTUU7Zkd0TTembA04kqK7biUp9xxT+IByOXEWe0QimywNnJIM6ARNGbcbGZFYQXkjJT4tHLQbpugHgYK99rScfwTfBRUgGa7siKZZQD3bFGOE8GwnUI1DA4FqMYwx91KPiGUw0CmxEJGx3NXM42aRbR8Y4KoYtnhTAHV9popIx4umVBAPbqSdXZCxWrkLkGPO5MqGhdbJq6gJaQ+A0q1+7vzFd/KIl11end4Fyt8M7Hxiwk1XqvBKmocJ5j5PvRd5Di0wQb6oEDfhzQLGYsqbKIG1Ylb2TKcFYevBP2NtUSL9ZL9OZRn5vIBZ8kKPa7FPFmmvK6ZCbYMlzi6ZB9AIQnbU+tWF0k0Do05YHgwL0TCFbZgno/gKyIuHYf22DIg48fhxXb882HkN5J+wVDeF8ehLY7aPwoM6q8Qd9n5sLUWoaTJ34GIK6Dzfja4FJTBFv1oe7IBJy9w3a3k5rROcJNs0/iFWO8YiI9tshL0GXrmOI2gtUufYxKN10lI3Gf0YglwqBjblbQgdfaEMbe2xEnwllRnxyvHqcRbjZoqRa+gFyoaXlGZEpBMlTbacmdTCXjaSFIwpGcqF9a4Obi8ucRrSZ5ChYKW6wVMXwGwiiXr7YeJiGYYqhMTU41JmYLBioXpZ43j6E/ZLs8nTfbEKtQWJhwq44VI+hHTPBNETc4jLip5yGJM8hoTMQz7wQRRQIJSzvpnpD6+dBxaYllYaZ/IpxbRXaFCA+dRR9uZCINXJW+zEcAdDxgK+iyD4LaENbkunP6jGGzVY7HfsIA+PEv7s4tZTB+8hO+/pLuZZfHeFHqBU/pvePCY95IhaT08YvwB2JsWsBLcoEIveLkKMCaQCQS+mL5wuhwkvDdL5THRfNDPUmBxEdSuXmT0sGB1vPC0lUQSGuwHsEA5AbtdQuAzaZem5KQjDxg7WebpVI1ClaRniG9TRWp/n6hj/gyfvkdVziuyKAGXps4hmyMV1g1zwPr+6tCPQ7eH7nM/f4+dhV8Cfgv488v6fwWXZM/ORjJRhblIimQ+Jy7n9XQifR1SgUx0HEPiKiFsl5JwngXs1dnFf6fVvFSyPm8X2/EF6zSg5OWecPxtMT5WG7zWY+9s5F9PxUHWh4nj8Q0nk5+CYB901y3TCdtItuLlvg3DHGePG4gt9QX9erW+ZmMTGox2v0OWIk9M9wIVVzVDNQvPvnlGJWgB3FkIyTwrJmk7wTej1k1E57Wm+38Zckl5otOSIhKE7UZS4tQJQ3tYnOExFci3/1Pwz+ScTsbS8x3oXKsK/yaGwQ99C7zfSseD0SBJeGvOgXF2ZJDIRsqvcmXDpSMnIf8tOoTmJucqH4ziAmp3MFqiNFbfI3IuMFgL6HBMKicWONH0jUjM2LXkwyC8NUUuUyEHzjLIf/GtrUQhaV5lJSo9Peagrznh+mqXLy1UpHBP0BL11H/4PVdV+Ed4TUYVlEzzIbdtEd435TivanQL9HvTMAbqqOSKU0GX3NGnXg7Os3c2X42o2isXZ0wlA3O4EguqWrlBWOw4qTcgEDfqD6HGSQANBlFTg9ucUvaqXKf5rn/39QPUWA/DChF/C28pSABvdVAi5TXr+Lfw2owqFirWoKS/defPEk2hCmSTwyKjubGurIQxIGYWYq9KEqREYfO38O6ydaeqO8WThioWKcoqpbige3qcRX3H8r1eK2rkepoyGbAOVYuq2nPzfXh5Hya3IlmmoMy6VxLvHv9YRi7RLaqNHvfcjF1z3nQVpEbTUh5Yv5TC3YsKeTJLAS7VwqWttPAiPuotjnZKqZwQSqiLQp4cpPCmoPU8w4OGPDlKbdQCdWopClmwQSVpO6whTw67O7fByaYZ3gYhjfbGP+vXCLT00SN2V+mMPVNaY19oesxXr4dj4u5y7plCG3bhFhSUwHYSiW79JaiQcXKD5BQcidoeYh8W2fPxLvIQz5/pph7yuFeBCp9wd+dzOswgypsR1toRWLz7LUNOictWGtF7n/cLwuBPHKm/8dfov2ga/zl6D9r+fH0XrgrrxguprRI8reVq5uoM3utAifizS5QKg4uYZlVs9NwXaIMw+BB6Ss2rLW/13H/oNGFw+W+oe+4ppUkYfDWB0mvqKfONbtSine9/AOMKg48Z48xJ7spgqaIgD20QBqs/2zrdr5dzbyoVBu0/wqihyqALWqx5qxbbJmHVWnpsFzKpyJBRHGryfuNYUKLl3nr0o/5ktW1Dlaw2KqQnqQ1yDSBWl2gkIzdG6rHed4Fr6+/yinbIMZfUQJtUXi+w6QJXvMn9KvSj6qSEtBC7VMqkasN8JKjx3Lgivc3oHKEWoXORcTSFAWOfmqR5f82t+FwmkyZ1nIl6+VRaa9QpFQv3fLWFfNREoYQKVIuMCIpYsXKU4DO5gZmkKnMEv/oV21xQ49DxTTrUPZrRyL23yU5ld8iCOnbhX7rkCERqEGodHFqbBPZmV9+CwWu8BAVR8XkpCTR0g6RevkyBm/5x0w9c3gqVYda0M1zlspbdxxQcjt/rVpfjdy1vOhh/vboba9O5Yx2LFlP0+VpQNi3Tsl0/TV31QgXkBKGnolqIqSPeg6dfrs4vvt1eeOObRdvM/m78sxKX0m9am70AwyczUQ1d7c/+QKnoKgU83ah0+3NWt/hsyWWux669izA2QpodzzxfyU8/o+1FeNk+ubOoHvOHEz1Lr0Byefd1/+7o3afL7+ckeGEvkBxLH72rv5NIPDYz8VbruXFFTN0VpkKUOHc+807C++qci9dHPuQuz41Mp4Vp7o3aJ26bLuESR27wgMDH9ltXr3p9AuD6RYnaX63PyJ3D4EdB50PuBgRQr/ecRE51EJ0h4mdJ2TCwvjCpu4VkguKxRynmoWCutPC5Rcd945SBYB4WOWN8NSWey0hqHCPdMeg8Q0tn2pWgg8THL89gALmC0UlQoh+VJ/kuO9VxAt8/LaNys7VUmCdlqlWC6zkV262iUh0aru6oGdsJPODHoFu2IYSMhETXnWhwxqwVaCBZSmiu2GLw/S8SN6UF2X0zdJx0CXF6icS91TC4W9Xrlm5uNY0O6+BmC3/K0d95ykHmOcSWiiOLvksG3yXjTmr75HDJDzkMtzL5AQraJ3dyGOh9SOsw/JTez2wNLPVP8Zfc34+pvKByefdVVsApAVabIf0pPcq9BW44/S2ZaO5tghDupMRpN2bh9wKxfoy/ao7Uj7XJ7qkJlHVCMpGWsgoJocLkr6zu3fE0JiQkju4wILAX+O5AxMRZI3FFSAjIgGaPxJWff5wbSRncSSDOC/oklaxngNKSqEdfpr7kBg+cHnsCxFluS92s7ZuuQrvZomt6UVZOPGzie75/5Ps+OR0BmIcJfyVyRRnICkVMxcLt5qahK8GPOQtg71fr/pX3/cr4iRdKDoHlqzcIrGzNzwxtA+nmnoz1JSZBtOWU7atT3Z0+iUfkfZCnyC2gfPHpW6TrRgqj/lxZa+kMgosDBr8kBhcHoFTzlhYZFcpxJvdTVHecH1LTbAnb/ZGURT80u6jbTDpXIonnk8FcIIOB9VjM3G4XLCSvSDTzdSSOnumGSxw9UyGPvq/qzd8lKlHV/0g44nFf2FrQCrWOa21TsB2f7JXQcWiLh0CyTKS8qZlo6bW6JV1E2tOcTw2MiDP0aISqyE3PKSkovKUCmxqlq0aieSfjO0kEPB5cHRKnb5G4ui86etiDf4L7T4E8NFeIzayMbVIyyvDGysOs4lW+JlmcR1wB3gcCne7DGZz/yOmjum2DXLGoXK7dJqmCTbr6uz5jFrzmm6nKbNeMQxEXtZ2Far1MzSa4potGmVlY0fRIJMxvVLAtZSwKPHlHdI4rbyjxNhaa6c7YaMgc8mYmAZhdJrfEEh2bcKmoYo+uRmGO2+UKrHAM7X9l4rV2EkC+gmByDF8gzZyThuiXz4jsbogyFdMLmvcBNTq5PFExczYE52UWHkuTPSDY4is8baMDEoOpBvvBb1qx1sPEpAroOro10sylKQowsoWFcrz2tJwWSkJIsyAajns7ulyhVUCrTYbbMqjKHUc01jIuVCJSze0e/dT6mQII9Er8lPTxVIPZX5dxo8CGWFZ9gmnmQxW/TzGTBhlqxWVBwUx/DBoOd1MW1quX0kikXWbgdtibPcCmIi10+o96rwQANsX/6sPzYv1sDz0816JudDs86YKjV8GkAx/lgxfvTRlsFe5kFSZEy4qk8HiM9pviSVddyELnp1pwaIOkoDPQh6/z26GcPmx9BX2digpj7X+45Y4U/t0TMEONfOrLulKF9ro2imRowf+Qvq5qiMvbHybBRr0JAxNbXGLCc7fwNNyxg0a9ewukMBr0TkYrqZux45fcljM7iEbdnfQtadjOSO0LUwvPCskK7xp3oXtcjB5/zxp3OnNcZPa4KxKQ5cYMSEedSfq4UCnsgh4HQxxz0ktW54n3VoemxXHOOV2bxoawVQxmmZ2eJfO102oYaGzYc2MClXr3b5oVnTuYGqk4qPCGcY2rL4oiBnoNa/pACa6iKzFpRF2mAca5xdB2kXrdGaLhqu7kVP5JG0guIZYcJcNqpOY4OX5DvI7Jchg0gd3Jh1uebb4fSUoNXZfJ+aupkoxUv9iBJimVkgtJyVddUOGVTEqmS1gjlyjjtOeG6OY+bLAmH0GV+aeVwYJfMn0DXWlzONURpIxh8ytvFVWMVkdxxT8dZd+vSlYpYzuCph6wqKHIlJid1CmiwbrhkVVqbPhkuo+Ffiw3srDECShoaPstS9bjUiUDScIWl787lfGiOS/LAp9FPba24NzmMvUw9NFmGCa00LAC8mytPWLxpNV0zw+DdBzJNfUoKdn0MNBNxeln9jtG3MeNjWgSpVMdb5QE2KDx13UcvVI+zHLvtto1GZ5IiLD+TUsmKItDMS3kGPCcOGFWbKejw7AX3S+XUN2PleyF0vtrripQKi6Wfs/97SDPU7kyaEzj7+8NV3qvlqxJjlXt/WX9ucYI+v5IWafD0fD8OdwGnbrR4cSHovsFddbRiqtOlrw93wOt8EV6z9AKu2gCqkgJWgZvQk6tJKjm3MWJkwA+KPThkq8rSvXHH9FiMuIsXagKlEYheNZs/AmNQGlJt5Mgrq3tbgOFpPCGlLlJ4Ub2obFWdw0yQW431xwGOQxdCRXbtTXL5zV/l0sVntFLmW6V2UvQGFnFMi8jrOrJXxH2avmMRkUk0XO+tXZYJq8U/XgPjhMc+qcfFNt9UK4rtvTWpniC79T01OJWPqKtSUmls9/LH5VFdqzVTvNKwZFPKaOtGZ9md/GFijllYefImBwprc8kmvXlVe+vhGr/5Au2WdwPMN1wZyM7UT5Nch/B1oMgsV4oFFZUN/f8Cjp8vM7sYt2T4aDyYEVid03xFXNAkfmtcvAIq0VGv2jt9GnMDnk39KpcXVVFgtbM1utSMCA+KsJUjfuAa0VHlT4rA40k3jspDQQsSufjrqXG9lEKkM1JECnKM7WhnaDpQj+aWCxSFCaCkIIeP8aVcvm4601LmKQ2ys/8quPcEFOwgolObAIgpS65VhJtytLt75GZNyQD90f1nPvHk7DeM6+k6ywcPSFOYrfo9CGZk0eEZgpIxrj3fVcwRftjTeJy0drNO66AEtg8ov6YRmnB/6k7jjjVqOS+341Z+KkLoJ0dSSUAYvftIaQaB7REQkH7kR5r9U9V7IdKB6918iK9eVXMg/kQv7ig472+qIvGdDEx3vGMnqvFovnxJC0EiY+c1jQhoXX0yMDdCGNxhBUy1T+MeVXgTnZ9yKncFwykuNUXn7Kf1i/w2/P3cVvIPAzOeBeODG/fGsfJkujbUwt/FM846y8XooN85zIMNFYjbC4aznrCSCUnBRi/H1kiUpY5fGDVcUZk+mYM34nyedult0LprRZ3TXorECdh8WJmI+lVuF+UAxEdVXsHlPZW0R2E4G0t7MGjiBGQYUFkdZ8e0fn2gM2mfxd9m6bcJe8M8QoESFU0pW5JHIeUQv4QJVGb4Md0C+vzt5MFrieZR75iQUIqlDjycSNnu41aKDSQcLkrkqZurxTuaUGVWDuNgcuQy4tvFz+uzgkYcU5yG4FNMuKF37wNGgVr16xmq1JT5XH/VnDPNxisYuks7zYiSKTXuXqJ1gjPwpVKQUIisgTFIJqgiAiYbiwwWGpa8kCXwO5zaOAmRJyapfeiYtXDh9DWRcN7HRq4N+NsOw2iJWmjG2o21wAmtj7MtWnjvh90ykq6TPVW98g27b4GPONXRaVXKO0h5NOtBxK9vXvqpdZPU+Zu1ZQe7Lq5XUupu27yMVL1J7Z7AnqoyDrnjM/sv4t0FTy8i8gRYdG34NozkEeRthE4Z1HOsjWr+un+gRfVutVjHItHsX71GGXbHTdXCs1HN8wLFSeVsfSoHFWFNk//4u2UemmbfT7f7kWDXv14rTln+TJeN0k9wnUpgQsWPQ0D7ZQPJZuSyrfelUaoV31P0K01DKNWufOpF3p+jDtm1R6Uo/A+Q4nCu1FINtYO1qWWqmiDDVvGQzVNeVd35erR9XMbrJ8GqxFNPk+XK7avsntm9Kolx1VUokRVN0t+tgpXdoHOL1U6DHfFjxqlKvUY+x7jexFK79nAEnNosSze6nGvUOOzRxDqS7jBeh/o3vXC1XLceJ+jEjfezYYxVxDy76BLaLWRUxoDdurNxC1RGuA6GmQfGw8MKa33tmb3+ainZFssdISLdykcvK4Sk0oNsm/yjrkcpQ/rtN31XtPY2F6SZajLUdhCJO5ymqQhqpD8wmLek1Sws4S45JUAzRnUaWTNYJYr42FD40R6cgu8W+dFBkS1FYsjNCi0YMSyRqjOV5SrwGEE8lWMBQOeUh6rmWtuMvXuRSgl1QxesjC3LKSrIkLOwGRBbJBcpU1nQ+H9FGD70nvK9Qbaask6S8WV0fOhck+Zei/Zeev5aczjwmnHiEZBg4qmJaQF711EEtWpjoNQneh4PwhBU9FE9kV7JDMowS9s9QKuN+t74DoymJ+WcRDmJ2X2RBDvrConddwupXBqYhvqDCOtUxr6FhaTAxI+JlCbrU7h8sQ6JLTxnyJPSwADmCNhgxP0cgRALanUo0l3XtZwZx57uEbkgY00qBhcWb1oafBaozFYt04h5NSPpirc475eC4yQv+ZbRYnwotI/QlCAH/V3NtEzg1mpCFPP+TPCZ01fkw7BeCHgIPw7WMBahmeKSga3nGXuP5tX6W+0QHrFMfOPGZDXq5OkLfduORZmt7zETuk0zcGwqEewrggcJwQOcejv2jAI/Qp3wjzsH5equM3dfC4rRsnUfK5vjuaHNreO5vOsC5bRxUf9za1yPrNTTv+n9fy5xEKNflSf9EBuB7vexQguJvU11Ni1zVKb40yqpMEPSjwlu93Jsi1MAsix4BJ330U4H3quCo6njE8RuA2XhDdn0Vs9e7rLPf05mCZn+39TdwrPGqcP3RRe8MN6kdFCI5xYTXrz6yxMnrXVhsuoHtOBjb3Pfb11Qv1TkSYvI5ZebNXnPBU1SDK3ASr1TuEGzBo30egGtRGXRuxTfslLjb3sbQwl4LNLQumSfeKq87WZ8VDZ/wyAdx03mAMDd1bAWnbd86rwot0bgigNqUj4HTplNtTONN00dJztbDkV9okazB4Zzk7lzALBLm2K2Hem6WUwJmitrlK6wnPkYOdUayLTiJz94oM6ys/gTVeovEyZGDrrfFRFUHxDrzHOv8SM62om+bS5cxDBWBQ+rKz3BhvWxavzftDw8QDj6bd265DIBKIPKKj5daF0xSp6CIKBSC697yJN4JwvYwf/4WSjbgU/xMHIiBMUJppyX+3dWwuIqgsULLQoEi5WsVAJtwsGzNSEHsy7XMlIMjU7GUXREaEvddu9mStQHRnKVGepnZHCRy1lFg28b8paeOzCPaZnxvgSnKMp0pmlKFYMogRwaeANdIVZSK9B/OAuY6vpO8DPSKdtaPHyaKsTkQ4DfQ1fcBzKC0bLsmPUM0Q53VHzaTRygR+LyaXbNeFBoiMF8ZCDnfWuCPE9jSEGWDmj7SVWCgfDh6fPDUvsNeSbNVc3AyZ/krAWvmncjUFh4i/X7mtaBqEpzniSCokZ3yGASHCeGx2vPZ3pM8esDvNYlPljxWNBrL3RaPhkkVHOreHykN4EwsauZ5r0Lo8oUYFZebotVCVvp4QC6c0u7KK7YYheuNWiLPqviWQ3EhO/yfXi5fc7231kLT4aoJAfCAmsbOnqFJYakXGrqcXOVaMt3UHCf51MlVIjRFKy81iFyrnQmmFwO2bbH7GlsP2FGBIcAE+5itzEotFA1+BWS9kSJt9laPQ2dxpTtFAStouFPDa40xWV7/TK13cm55BUxI1C6Di0zrTPv6epnr7ReOtsI3vvOO7/qw1lbO7I9qIfDHIb7empWO8y4xCJDLzsx/0b41hTfurLl/AM3EaM7u+bt2pR1+p++Yx+fpg+jqa4VnSSPAubSu3xeYanrhWZsKgoM95DnWdsl8qQ1eT5q/iJyA5xLXw92kza8V1VVudZfLZ5B4jsS+tqA8iasK7J4EB/lqioeWkJAyDPwUB17Yu82kCiiAVGQ8rnO9suDJQkI1Ry6LrK+jRwHLXGdaGsweEADyjFWNwm0Zg4GOPDsHZKUaPTRAHwQBOy6L1KX+59P09OEjdVObA5nKVdm5LEgLPBLigbv/kNwaspklQBQX9SUuwglY+qEUmxJCSa+SBRokv60QqsGI3U1E3cSC0MSqXGhNp7NiAbB0rFkF22KdSx9t7gB8kKWXpxu2ThuTqgbU+q6MdrB4V3FaA8kekA4AiKDBPYSJPFEz90n20HxFd3tQ2N5dsyCaJJlqkQeHoR+2y3Dot+hG/15+oEJH1FGiRfoKcWw5CcAZtCtay/iKfhpgiiNy1i3irFYrUnXWoybwpCsxL1lCzQOekBmiZ3JvVs4kOpoaJzspAtTO0SttRLxsojHjoMJ6kkT7G09gAgORgBXlscBaVaAcv8hjTcuTxJaNQqFDgc3C6JiLDGUUhEv/DaDdbecrGkDFZYOU3xoW9murarz5gpkdi9EgDuqGkzfdKkfqI39bBqn9DlQBPsZbvgGsJ8UICQRqz0YQFv+5INg8/kcAnkdag1octYa6VLIF8pMS7NFr/qJIxwXvi90BOxuPMtguwNdLuglG6KI1RTSSZmiyXrB9EpfpmiWWtrOZaZhCa0NrNRW1o976TjlIoecZbN4tjjFu7l16kzzKy/ynhVBYF7NAuBcDUvFINValiQW6G8aJWebhTbBXgIttZMfKNtWzrvT/qXdC+0pCQhPxQaOAWrSA6rUZzHa4JNRWanO2/kabydhaZbGz9z2gNi/lsignWlYFXnzC1v6gR21jdTt+hzXBDpla79pESiV/FMX79f1MNAb9FzwZGMUA/zalETew4MVlkps18WXH3ivpMvMh/kr+jhthZp0B2HYeQzNzhYUNbgiOtQ0DxhRj8d/+RFerdn396/u/598X7+6XZ+e/H17Obj9Y+LSYmakg/5seoW7L5Sa6bxzu14TyteuNqmD0XxhudNo5KVwOdvOXJLEy/U1viCCC7qjM/eOPD9E2SKayf1L8Wmyh3GpQkiFiAhN0PFAhHO3XFkC1WlWTMM5izCZtjFcXLbDIdDLGjfz5zROkNl7AUqlfu8bGejz5m3FGMhhJQesVeVaonf9UtGrRSmzkbkGXScD7MtVH7XWITcm4RhoLKbjb5ksK4jZFU0KtqFuGJI/Lj9dYZlYzCaVxq/ZDdFIYend4vpYcTKXzLU0P06mIMWhszjEQG+E0ZfM+vFjQkHVwuUseeTDtUuPPbDpyqo05oKxBLbpBznwTZyiUDtXLMXqnIBk6nWjLuOGQysp06C+zoJYKRwNoFacEWtN3b4EEWRk1jnOEg2tiocp1/fVZpjl8tn3SBIuF4aIBp2QGNpgdbjf1CvmpD/2Rg2/kdSzyvAMvo/V7iEkWq7fneMZS9d3JMSTTExJj2+XmjaiOkCYOtlXqRP3q1kyOFzKPQkenwrX4bZY3SZ5ub2Ek2SD4hVUheuZmnZAjWS74VibcjD5JuXsEImuJYh9jc78EhK/0oxcSokW8B36/5JBLC+hkVPNLF4ExFhyD3FEg4JhqF8u4+mfJZ1825rJE68XaXZjqS4EzUo7Yok5juH0KlXz44cN1Ot/OBBO26CdRYAV1HwM8nRokFwyMdRYdfKl7Cckl943N6eYRgRgt0PgOvlm/1yQpMHLMLrve5hg9A13eZFerF4MIFYislpEtQpyYaFZIKpHTcWYdtYuFko+hpOsKrIQPiexFBpoKTHLv2kDXvThQOFMt4PapiFH0UzHKCcshnWk9t+CKGpT6u5JSg2XHHvB4dRc+naAR0ZhCGIfFZUWt3+XQbBjQNu5XpvF4uDD478Exkx7qLc3/+nZ8UN04EXOh9y8GTx8w5qnZ4pzN8PdMBbTGT295mgDU6El5wvlD7rqVFY//CpOjk5dmbHbw4Pjg6PjpibuzQ/OQkO2fkHKWd2fHxw8ObAPzxhrjpBHat/+vR0FoR0WTp5vpHxOKjuV7aNO9g/5cSnIRcE+npqH5hKMftztPBz8tJ3D9Xyx7X3r1DDPVEFRZAsALXEn5AQsBJE3HpwBMfvUp6hqQ92WXjE2EmM5XYW7ivAhiFHWWZV7EnzCCe3mWXOYoy5oSTa/cxmdQ9P+/cDAnvNr+ygqxDiemVpgML7oQmCE5w4cFGEEuG5I9MBvzNMSEBS+HOAnhsIM9DW37Ue/skSR9PBXrZNtNyKrdxQDbeZ6Tbl8SBBRJNwDTdSTBRbMZGp34dffnp2SgZizv2onUrL5LnFR9Tx4emFPg2xUPKu98o47iHr+PXr18cXB6FmTF4/YC/bs87PsCr8zoRA1p/nkBijk1L5qd8C44D/0yuSuZEVYS6Z87VgLnLMRrY5eUCTuzviSzSQ6NTzwLnhck7vz/YflPv/SzB86F5Rz42Zt0+Bu40SYjJeIy7mIQdUuteVSH/9RoZaPsDqXVpLNCx2AJLZhlie3kSkILrsGUR9Ba77GHUz90EYkcC1MS1rfaCfJSlXq5RaVahJsuob83AzgJ5YY/wt2g9pZ0vX83oZljAP77Ow7IOpyGWsp7XKDPc5aQNCP2El6eGDZVJigsuZIfo69cN+IRJxF+0P1rrEB7varLDDZU7SfdEGjIEcBWvVBrUZhrqXRMagMcPQGzUHwul8nFloCQ9W75R0g0gNFsCpWVCGgeSwgNwCVRz+G3UDFvpQoo4bmn25KjSnpzOokRrngJ2cHA756ekhNEhzJzhiJyezoTw9PVZuOtg5Poj0MNAVHh8CDbqnweNDpkWjjRushjZJ/epQU16l02n6ph8AxTDJe38sVFQwOBEcmAfDqbsbnvV0Z9wGDRojeydmj9fIJhCemjxWovpqbyq9Hlgz11HsWwnoTuX4cGw5Tg9d9ftxbXC0NFmzqA/rVXY2u0efZJGPbexFOzek+wGC4QtqrNpEQY8P3U7QazRVHztB1KWxzrFf1YdwpLTMBIK4BO0mznnS+VSnSc60HLLo+HAy9Wo11HXONA+d2aGfpOGMwRETLHN567ETvJ0NZUXK1Vz/oxEETRnGWZMPg0AmScLMH76E/kkQKR2BTprjAwGJ5uxsOb1MtDhFQez3T+b7RxArI4hyVBgjw0FZ4nVVZzy1NqSIwhz75fJpTnOvfw7kI2MZgKDjaIa/ETlg4oJy4HuQXtEUPdt953QNZGmA0MwEQrodme8t9fN6aRZ362VSmMg3CEayy4dFW7Pu2PmdihxFosESqwEssohYSQaQrkZIGRKwVxNtcQQw0m+FL+qg2gahx/EWlaUXxCQwiw0zzJDQ4NgULxbTjh7K0uCUeq9i9vDq5QlsCiuD038AIK8VPkwfpjT5t+nU0RW8WKrmweP1cpl/+gGXr/owjQ8eais0DpWlvruhfvAGXi8fPOZOoTvf55H8i/9LXUYf4uTff+krFtP/vFcsnkIfmvdN/w0Om5sKafLPSV8xx/eMTX31BtlIeigqaKgch4fkKSo1SAmS5Cyk+UkltKntlBS2Cxa/A3ul3KB2+ooVXVHriKo29UoFCnpc/trIBvbp1MU5WFgTTewEBE7OguhbtCOXHgDhCabNz19nWfdzfQZHyxUYbj0MIzdOZZ8GNJVEmNDK9NgfH6T3lSLsH/uhYMAvywIa5b4TqvDRSCoFGgEYp+ns6FhfwS2zo+NTw/kwekKWUQfkvFEA9LM55ttHEOenp6fBv4O3b97M3s4O3hyGhjpilDwEzK1CbR8NAgJdscLD2dvDt8evZ2+PRMiUKGW+/pNUWJ2enr7592gSWv2TTfLxNWPO7OiIhvEwKK3+7Qfs9PRU6e39PDhmFp4IcQm5tLvAKCGYAbA5O8Fr8EFhNbRKIHNTEVBdgmyyOffcx202U2oSQo25XnQDXcFhfVO/N3p0pRWObNeOo5ODlJZAnuxmLWzL1MZIYNrmDhT+o8iY0IQuY7qikIuXVQ5OtdwTuZo2uDToHkz9BfBIGQ1fpKfSnA82lTg3FaAgR7mhSu44/VwfcwkY0R/WuQbIriooYY25fkjWK9cUkes2NYGum8cWQ0tomL4oUyu3rjgrrEdKeqNXfdi5HstYcXTuFSQrj1+iHy1P+vyjl6pG/1irpE+WaYqFoX2ydAPSrV4JxjGnI99GpNPWezZkM7u+sMUN1rDCPup0w1ej7pO9chIucXWNB7S4Sg7TqMeV1BVYUJfssXeXbstsjX2mmNxg3T0zIERaWVQ7DnEqM2ejeTzljHCnareKf1IKPjkJQuay04WKeaTupGshNP8EBkc84FZaM2U66N5SPmsSAhVmYtLq81BlXCL5j7iKlmKKSwLGwhxJbDdGLoJ3UUJc4+ZuKWKceolIlQ0JlAsqc6hHYTaEQhX6UTPAdWmUxMGzSvLcSR1znNLQUu2/34E0W5mWpSiIX2aMu56caJMyFr6Qm6LGmmUsfTYZjs81U+HGFASeBEo4I0z8Y1e6piLyMjlZG1G8TjPIj6AUpOrLtpo+eFhUSliHFRTqFcWa9UWOakQWqjRJ30WnemUeEZdeR3HQbokJKZa29+pq81ZlhvTpO5Pc2KtFTAyb5VqGJ6v1D10g6JRgDMQENwjFsQ2hSvgSgfFHVVUWWVUo5kPIjmiRLLGWREm64wafDa0glovRX2hMvUlQaTWDG2b9sc4OAdAfXWddOs7ZTA32UW8TMKfrZ4ZuHXb50xK8s7xILGMDOqagsKyTcRaULCNUfYrhvmCSLUs/xFTJiq0bqe58iTDsQKUjXIxARaE4JMHPhZAWiOaiLVg6/cdpHLaaK6a3Cia1J6tCaPQzpL6gmH3KChScszUXXlXsQgZpTi6qSL8gBGfIwO6e4TC80KM8PRah+BWV4lC+DtQXip/RkqFF09ZXCBsbUKeKLKoDKEHY50Oy5zvSWXFhuIeQahUltRZyKOaToYASngobUaSXBbXCfQonE2WjakWMsXdjFs476kmDsRkQuKpIDdIy16imhinKAlC5r2c8QwBEQ4tiH4kEU8BoNWW6wxxNO9DQSLomsneM/JabdYDdpooRTxCPU3i286nZ34dn3hFpVNM19f6vLk9vWv3Be/AsyvuEyGDAMVnt1E5CoYkx3tLC+36vPCmItygzGOLODsO5medTujAi+PrDMMN/2CLp6cvdZvKw3U//Dn0s/3/8O3f1N3LHtyGZ8y0BJUMyV5KAyUIyNxmBnIdknnNC3ur/ZHicXVw7htc/HF7C6h8Mi30BXZLKTa8vGSOxB0iZvMgBvKsGk6C2mAdiZKVGeNXSVaVrZV+xo3dbecQ5rTYMk3y0Oo28Bbam1mBAIgzCt4BFLE5li3PLd5nc1mfeIc+5VRE54LMh+3bvxu7EK4TkEoTgIMAE0WnscAmzzeBdDdTMSM9dShiaI4Kd6nDq0VaEb7Fn9uVbT3XEAf387pRUf+Jtg4OlJ2q4418YYY+Lzg+Wqov90OQcmOP4UjSZ/9+dyYo5t31Kzn0rPTkiRfymVe+n59cuJMBiRDNf/2boimoB4JxLCbqEHnIwUFWXlMZq2PCUT0bMcSCamOj3SLQkmqAJZB5CGylD2T2cFd61ovJjnzMITf6E57ri5WSXrAJL/tlbMqiRy2TJYWQfNBnDXRW8h5GQy/MvBGpYcaDQFdBboSsam7R4VR4rmqxNaCj5f7C9gG9ltbzQShmjG+ErqVICEUy2T1dyPuKeyR6oELA9y2RPz/kzcv70nHNjvYpvI/bqlUkUL6nsK8VB/bHQuNvzmoQRYWzJtO87mMCxBMMQJzAFClfgh2wXMQEarQUUL0R4PWdzY07AMxoM+Tbymx+B4/gmAwziP11sjx9Nq5gCZ4oQapOr7qZZ9M5ISBkj+uLOavc1mQN2ebiusq7FgYYojHZlpWuooFIFDJwpFtUBX0jzpEqxni7ZzYAT1UTZYm57AeexFm7jXbVRsYp6h0XpoyF9guSYceeHyS2grIZcBbYBWg7iBYmi1RFUcOHKTAkixBPac9FYMxnlsRTOp8sY2Sjd/DcSQXgtIxOsoFao8drQqmzVdzZqyCN+cmN45TT6amgDHGpmbYtq3bejvxnlPnhZ1T14UEVGtnqjfhqCBpMiqKOGbh91XtAl5aq7fG9ocOyYgL/kJDUCLKPDvGCWmsyOWs3UMfh3plCqFZtE5hqnflHHkT4Was6YUpJA/TUl/jS0LSP2L/WvxKnUhuqGA4uakhxyE19C5MUeH2n8YihTAkME8XiIPcH5Qw4HU5ZkAVyTpHykehOJeJ5HQU0yQ1/a1ASrxDZIHiBpjarIH7/BBMeUSIDGES8jqDgNpOo4Zfuaa+o53hoQL+oGbp1juWPooLfzmqDX754NxWaBy7RTrPakDqdaMoWW5P4ecmof1Sry8rQh6fLQ/agGK9QxnW9szfcZi8yFaENIl5WDkKvbX7kkJK6R3cm2m456oKv4U705oktjMADqf7LkLy8fYUPiP89TEnBtNOsFKsUHneQl0n453921mvO1AdriAGp8Y8pb8MWapJsxwgclS3oaQZ9RWtbLXP2nOhJ66En7/EekVD1ttZFVSaDHFa5cEvfo3h0SN0+a1CUOXxdKaSoPTXQFF9vSqHeaS+VxUSNNgXSX3HDas6jE8Pk44k1gdChVp9ll2hcdJ2MHS4wnH9oos5YEKp8b9QUiPgUzq/jXtESQVPZ6xLF9/hokhkw9v+yeQXJJor8G90w2rPMcd1rD/45rCNyfhWRN4OxXSDiB9+chUQQuQ6IJXH4ISUbg41lIcgKXd1/Dvwaub+5CsiAWRN4EQ5hOVgAEFUdtYox2O8zH8vOEkx6SgkylR/v51LuvAcrVfNwtJNc3d0ZnQeBi6cRurq641SCZEZc288UtKZT9BmW9qsZV6soLro7DGZNjQnRxYOXbmFnQqp963mqumhSO5I2dKvpLEcj/vJEKAaLj2SNcrm1TKOLF5dj0cRQpDtk+k5pTk5dhQ7eDlt0zbWnWHEwYPWCOU3OaH8La5WLOZdvV1Ii5iJeocpxMMu/rum91/GuR/Wd1C3VUDoDmOlCovHq+Zlzl5chVOHALgHo2yBmjI/Ycid0ZbtPX1PnzpWe0zqG1y/EWId+gEnYkuvqXouvnsrd2a9G3Wl+WqdqGZOat70ohw/fXX6kw1tVKH3ZqRSAAPFNo88QHbWLkwZkIm7Yl0Krrdo6AllhQFp51cop1Lo0s+gVbfMsRiGAzXOdKzAfBx5qT4lxfq4AExDt5THlZpHPxK3e62cKNGLtwI4cK21r4/hbX29jVwo+8SycoRl2MGbK9hVv3Rwz6d3Y+Z4pqmUH3eb9eHEP60UMxDH8H/8xjgBdEEjcBuw+kjYi8NOqXe7rJMn+dlUShdhcWPp9J0RPhlNSK6skeiIl8sDoHjLax8DvAwo39iB8aIVDW/XAySajMPwcaImjOTjGAxdGgi6GgpbWGEq5VqEjw+S/obGrTgOq7ccHuFv7mTS1VaD4+dQusnHQfRrnH164OA90JcEfa2BDuLKUOxD7HuBEAubrsawPCGebAZg5H9KXbY1cssyIDE+lPikmJ2HU3T3COzPHJ4cZfIdRbVzSks64kaciF3Q+6F9UMllhS2O2ltd0Odg+oi4ZeG7pkMEzew2ATCVJuc4stPHf7RvQXgSf0o6eT59Dop1pq6bWhz8lTyk5xag1O1vOE3dQ3w9D6tMqlsJ7d/uEmPPLBpFTqrnovSXxYHJW+ssmqP/NHqEdhwevHQtdKBi8ssrCXyF0/JA7vU2RhxIsc30Hd4V4v6mY9UZTgcDL5IUCoibwEDTa2sCDddt24yfuDVVEUuAY2CtUDLWM/lCxGCHov3EwfOxKey0i5SHB+kuAt9uPMJU6Fs48gmxHT5SVwasw3hWcNh7gatTjp2zLd140f6fv1r3iArINpoFta0BHL7VwXh7EUqh18U0w9sH/PeinlBbpEZuGLNOkbS73SzULQnBU1IDwaS0MAXYeNxeBP+yVKONQLBYwlWBnxoC/a1ptU5EHTPd3TGL4IHKMrE8TKccgbnyA25k73DA8PD55XZBWSrRYEGiR4frIf9SBJBTU0sEKk9eQSqzQTqVZGJcEwFKLqsGjZHr5J0dcNDE2lDgEqajIe86Gz6UkBuRAzbbFDw4Vl3OPN83yR4TrGKHCJX9zG/kVGHwu6W6dbFO9Uw+aH4qUVrCCop5XCUiik5tESjnRqLhsY0jn/BEcRoZgBwhStlzys0HXAjEUdzZaU1XkxIUoVtidAdChoIn/V68WiR/fIXDysVBDBICtFWbt2HmO+SD5I35rYhYSumo1pzjSFvgKlVE1eXkFvH3tKqKJST2UpqvbFIgu8WtbW2x+FGzGp69G2jMM7VlAzxPos3irO1VcaH8Lps42WlL4aO8Vd88d4ffyjUMkr29BEza+Ios3UKPz3UHHaQLr3qsI0zsl41dgnwIvHZq3iU/ei/waU52xMCjKzWjJAU8tIand7aDEvtLw+yJJF7TDQFqGjXULPIC8QSqA4D4xsr6XnqTyQXv06uurrtuXhjUZ8lNf1UUFRTJ+K0y+1iqp+VubQIJqS0oJ9yPfJD0YfsSUP/ILVM1WwwLnkiZldAXIy51pddJT6mmKhAevBl0UH3AKLAm8mpPVattfpCQ4VX43R8xYM2oxCAUKkgoPm8M7k6UGBXkel4g+qrygrR2+fLuT7J9zn2zwyQS3zYvlIbv7+PvcUaEzkDSbagD4k0xIt8AZEI9RqJhw1lT1WXYY4aRMCHNI+tk3K9BzRVgAyG6qI1jGpCt4O7Fjvt06+g0So9CmYFM7bxL6s6lgpz7mnqC68+wnT8Zp53ti2cDjej+nMM/zOUcxd4h5pPoncwlf+MKCpKR9hzL4OLh57g2KebLFBrSvVHsXOC5YotQLmST8eLQ57gcSAlIGJd44K6XzDuHxscYMXKVZXNV33ikIuwklgY3jhD0OxCh4fu70ZVZADtvPS95ajsPXqx0ad3NCZ1i4jjRFFT2vf5ABzvlV+RMFVIyCHJOAo6zoGOFwWVZ6KaeWpoxbqzt5/xVgoaeU1UHk9VN6yPsvVFWsjISMab3FKlLaPKwfre3p89ny+qHe3ffTmht93ur1pddZdGIkS14rF4iXwBB0+03/x9jEhhu/D7U7tE1ebvYkTrqXH8n5d3IgTEDlT3XHIAsY6xsYolIaaAKPsve9HQcnZ15v53fXni28Enh6HTdTr7EC93RKyd31zN7++J82Zmu5UB2nj+OkRknL+3fOVovemccfrZX+97i8WxCI0lHD8Zn7I5bNsd/FI5e5XKDyrZtHZUc4S6YkseJHikQpQIJfiomtn/3MsXJ5BTxDzBsBF2gtgTz4ShAqx18AZTAZkMnskj29+6dFXTim2qJQHckKX58xcCpgqxlY8pMoQw6emI59QkvC3tHBVWjdb+GisR0+KKv8PqvGA7GXLaDT64/FSKQF2ulLSWhSic9kfbz7XyKPXizyDRJN9nQ+6+e0eBfqWIXuK/sH51opyhcxS0yfR4ULKokB9u2RHsqHscDYiGy/j9Cvc53qDpMQRlIr2DYMEkiwFBRGHWd37wtMdB5gfUTs7bu3NkVKcI2H2mm6bWf7abt/EaOzWG250Z0yEmf0/62cW3uZ+euEuxxUn30TW9qa9koaKXLcy1PMoxxfxWFmjiE+9jubD6xHrMdeyI1ePJNK2gCKCALCq921120a9Yxs3TJdw3VZJchwbhu85Ld1VkfDFOKhILRAG4JRXSBZwIGWO68o7pPCkT2MC5SWxH9rI9/uLH3/0WUoU31R+MroVJed7gqzpyGIuwNxSbmWaxbgSMr7KJXfj5y/qZf/s74VueMvrZ1sd1ZjHSoxKcZnm2SUMQMboWQ4T14Y6EybaHa1NJpmVCyvx1UuBKPESiOImjYHXYKIndAaIV+y3YmxncDVilJCSkjFDvhcU3JUGAMNVBMiMXyJsuSg23H5G1GWkPJiu+aVBHBZFAI/Xy6auOLIZ2hzejNhMbMPFEoKKbiQsphZ3Ftvft+8XUibTy36Q+oPCJ1He4+5KYmoYgitTJNS7yliG1QNp0zKv+6zXvNingaMTI11GAuC1nQV5EyIL85mpG8I1s1pzMR8+sEY7oFc2VgWt38z7wYm5HRiWTtaMshk5xpbLa6MbqjLu9kQbIyBzxhyg7v/E+FLGEPCMOWKfWvdtIf+wGTCzoTc85jqYqRH/JmMkIbwxtiokMV98VvnF5bD+kdNaRpBAi6oNs6F+fcoIHEeucvT89pPfNsk1R+mvCrrIYQgw1RczOaerbpHu55TqpVwuu4+56aAkUVF2mur/WHFtE2+1i+PQ5aMKPa6VohLS5eJLA+IqC5RWPNYTYMDVibgf4W6+fE/t8+2H6UA/PT4fPLvqsNBahVZ8D2G3hjpXQdeA3y6yP1Zmnm6PRvYEYuXYxh1v1z8tmfBtGxmftljBj/Gu5xwF9cVa9PDJNx6WZXtkG1biBsUC77CiKFwJL70Zu/f2dtHmobAvuv16POuRTNWFvwklv19JJ1f/KObHvDlkN+0VIW7VtSuvcr9L9zEWhuHkOb+TpRSr3kip64q/gJhVaHdwHdW3ixbAiLsokSwLlKvl9S1yN3RQVYaH41X7irq0r0rVv/ZfFtmJoiTGiXt92kHjYxn8bpMixrf4Q38QE9dj1XPZhviyK/plCuaWPvUJHfkXq1ozxUNHEPdfwF++rGgHkCTo1Hdb3hfhpVmH1tK5bEPiM/mWfPoxtYj9tiyF6y0vGJ+X1oC/v/cCJ0jmokDXA8lLo/nhVZLYzhq87GcoKyxBPW7Jtg34kjhINNfad3waDyQ7yX6fljgjO7BL5LKiYxbRYK+HN8K3F//f0KaNE0GTaPoRlHy6hx9o4TVMgP8i485HuBoIYb1VDShrfl6Pd2ugU1lcU5HV/orgJLlnu8g+NGFHAkYpabTRG5f+Kr00mD2HdjQmE6MuT1hbeYWyeqUfqjLXqO7ur0n9jEepJrWwfGghr4hYy4n0p/xiCyfd7hXzfTDFfFkGChQk18UOX6mKv/I2Y89noo6FH/O5ken3zoAjl4/LMWlhTRghSKhQFzuytvNozU4akrvu4VZ3cLQZY5JMgU5fUJBLcFvkXcuc37fZ1SsBRBAgeCnXny470OI0EWtkIifdt+mRQu9Uwgdb4kPOsyErWlB6cdCMKdJwENniTe93xBv14o5tay7SOdlgozZf0yR+ngtzTpmbc7XtMOaUzebiKL2f4cz2zMkz1vXjPQpMPzTtyJv5h/yCN/X80bZa4/n4cIQ9C8xIJBPP/+Oz2t5mdxZMA/HWOWZkfr1Ocozq35o3SPaJtC1yvHA+MZ8TV5jRIhDhudV/TI/JLH9tUjgkyHphyI0JMsjxmxPUzzNGvWSO2a68/N989yLf3T6++/VutTa2aJjF+kjlrfupQVn63pUIwm72XXyw/5qRPHrROAnE1Az+iMjzR8nEC6Or+Rf0xB99Ul1H5ALyT2V3mKn/jFAhX3WZ6QqBSwdWPmXX6/TGYM7j5cTdm9rcEL19uI1GP1G2SPXyAFnAyGPHx63bfnuMe17PYEweEWCvksv9B9R/pEwCk01pyQUN5K+1CIh3qXdBwNZA/UeoPGWHCMIK62hZwxKCXyPGONaCOq1V2wYxgplmERmRBDs523Ndk9gzlcaVVBxLPksSmRiflhwEE2WJBppvljRTw2s4588wzdRJ5tJMITP1ia+4gbbqSUHGNELYOiupB/dyN/hPcjApEiHmE0CVUPWGvymFxYwLhMzkNAN1i0kGtVS8WZ5XgNRlUpEBN6H+mSmYqiax6vWJ2qGEit6rw1yklNGhp6TBRr1/hvojM+9vXayhtOb5slkJNfo3HnqrCuBBN4xJzUtyo+CwxmtAlLy9ofDl25p2RJ9syuInba9CnfdcvrRWkzpSddgPp3ysVZ11l+vyvCI47KmG1aD8YauIRdylCgKHbUS0rwlFrp2yf5KcKWtZVB1Z5yViJGJVGlJlV674slxBwz+y5vf5Kgus4Umcy3nZKNuBLW/DRflTF7N+zR0RP3Oyx+u4w8H7fPzNNSn41KnaiwKrYlxrC8XnDIosjYyIgRel+yEAftuON6WQUblfxCuTgIsFJYGRbJXyx31NlNjl4bWHC2vqRcldcElueXNNzoDazdb3qF/AFrR42oeb+XRFFqy1bclnf0Amwh9FYw/S/xx/Ip4ficC0I+EkricmTuI5Rw7taVrjqugRd/XNqfjtGBPUO/z+YaLnuZjy3uFbYz4LvS6LPHJISkxuXysVQtollwTz4x2g2nlsyOVJySxuzkOn+JYx34HYtkwPlsmWHulFyZH0GBFmITcuneXjTBoAYsGO6I79oAk3SEjWLJAckEmMC8WpqQs/NHfeD0r+kZW/XchyM1TiwqSlvyxlXVNneOP0OSw99tVCYtwaU+yWVBgvJKmgvFslPzjjoO6o/iEDYxqVD6cpKVe/8rsZRYFnLSIxqCqVvoLTEdgTMwxFaO3a9992RzERU+FHH3MIPMcAUA4f69gLo1nwnNhj0x+JJJwtAlsMkJJRvgFUZiIY7lt98ZiEkRmcWq4regOhM8S4O2ERTBI3MEehOD7X1eK8dyWklevJ2cTx8Udx3Cu4i9l+6HGv9kRmMBLXKhTvRpguhwu0gMWC7aFRnZO6RGZqw1fcpuRr3aI/IPlsTmkcoSsXofoUd+Mml+PmVoWiFpmjos8NHhVIoxWUklGzDcZNxjaqnPhqbWcFsaySwLUhv9161ZDurVGJnAtahHEkK5rVFidn9kbBds4XodhCghuklvN61KYzTtb8xsCQlZAOOeBNa7bwHSfTitzAV3WDrrYivZUv9GhZ5nXN86hZYB+leHvjFGMURrMtgqJKD8fKGsHEPEWgZHFqUMHTGE2XUyUyXZcDYZ5iFcHnpXpyDm6cyqAcEYWpEwZn4WPhoPJKEPCWZZ+pg8Dapn1usSQY2lsSwMLXvkGQwDTqkxlAqf5KSLBIE2jROiq2SpXXm+64IG+WV3npoMI5b897lZe5V3lBZmrDV0dcIACOkVRLkaVoiWIJ1zB5pqPh3ldceYilrjTCW4g3VQv/c7R9hFRsKF/DCDf+eKGNVDEN1gyQBxI1e0Z3FDqKCWdR9by77njLfyBc/sOO3lR42GlOj5WOIP3rCbquJfOVnNDsilMfdu+P+fh62GNLkwJ7kOcMa4kHLTb/Ez214pSF/KDMpGKSaGh6jcPRgvFWknEIKhTj10ZvmYzoyiLIV1ALrpcDkL8dK/6wYzdJvBSe30vKntb8ad22fzbsec0t1THjYfdebXc/vas2QE7SN8XXCaroky1I9ApjABEAzm0pCSlEM6VLb/nt/rJiHzjnOQDmJGtEmPv+Bn3hN4lfUeqx3qMkwWl3rp2P4BSMOVJ6XZF3tpQzJzySP+RGqhDUDcnQ8b0MIS4neMeHseX3dDckdGzipF2Do41Zlg7oIItX4uSflvqbgDCzWi4CCnfACXL+BujyJ9rFa/7MHtd8l2WPOqEsB4uhVWYMMaJldrgojO0w7q0x46za9jFJxwq5nVVp1pzZdNHh1mT8P4VgrGYzfqEZZM8zo2NPe5YYL+eC81ix4GJo9YL3NvN93IOKKiFSlm/eQ4Gxpwjt/kqyAQTKghNbHZBaF7uy6FMPMdXWDIwja+mGisAD5lg2oDRVjkgyuXIpSRX8/P5VfIMU3lakXJmiZmIp+mO1Ecw37AFtcAm0AQ==</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="330093203" offset="0" length="1371" />
        <PacketInfo time="330093218" offset="1371" length="1371" />
        <PacketInfo time="330093218" offset="2742" length="1371" />
        <PacketInfo time="330093218" offset="4113" length="1371" />
        <PacketInfo time="330093218" offset="5484" length="1371" />
        <PacketInfo time="330093234" offset="6855" length="1371" />
        <PacketInfo time="330093234" offset="8226" length="1371" />
        <PacketInfo time="330093234" offset="9597" length="1371" />
        <PacketInfo time="330093234" offset="10968" length="1371" />
        <PacketInfo time="330093234" offset="12339" length="1371" />
        <PacketInfo time="330093234" offset="13710" length="1371" />
        <PacketInfo time="330093234" offset="15081" length="273" />
        <PacketInfo time="330093250" offset="15354" length="1371" />
        <PacketInfo time="330093250" offset="16725" length="1371" />
        <PacketInfo time="330093250" offset="18096" length="1371" />
        <PacketInfo time="330093250" offset="19467" length="1371" />
        <PacketInfo time="330093250" offset="20838" length="485" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
  <HTTPTask id="1043" hostname="www.google-analytics.com" path="/analytics.js" url="https://www.google-analytics.com/analytics.js" ip="172.217.19.174" port="443" connectionId="34" origin="ExtraRes" frame="1" startDateTime="2019-06-23T18:24:39.589+05:00" startTime="330102531" endTime="330102593">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Host" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>d3d3Lmdvb2dsZS1hbmFseXRpY3MuY29t</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc1LjAuMzc3MC4xMDAgU2FmYXJpLzUzNy4zNg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ki8q</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cDovL3FhMS5ieXN0b3JlZC5jb20vY29udGFjdC11cw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZSwgYnI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVMsZW47cT0wLjk=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9hbmFseXRpY3MuanMgSFRUUC8xLjENCkhvc3Q6IHd3dy5nb29nbGUtYW5hbHl0aWNzLmNvbQ0KQ29ubmVjdGlvbjoga2VlcC1hbGl2ZQ0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc1LjAuMzc3MC4xMDAgU2FmYXJpLzUzNy4zNg0KQWNjZXB0OiAqLyoNClJlZmVyZXI6IGh0dHA6Ly9xYTEuYnlzdG9yZWQuY29tL2NvbnRhY3QtdXMNCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZSwgYnINCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMsZW47cT0wLjkNCg0K</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <contentLenght>17595</contentLenght>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Strict-Transport-Security" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT0xMDg4NjQwMDsgaW5jbHVkZVN1YkRvbWFpbnM7IHByZWxvYWQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>U3VuLCAyMyBKdW4gMjAxOSAxMjozNzoyOCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Expires" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>U3VuLCAyMyBKdW4gMjAxOSAxNDozNzoyOCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAyMSBNYXkgMjAxOSAyMzo1Mzo0NCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Content-Type-Options" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bm9zbmlmZg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Type" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>dGV4dC9qYXZhc2NyaXB0</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Vary" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Encoding" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Server" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R29sZmUy</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Length" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MTc1OTU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cHVibGljLCBtYXgtYWdlPTcyMDA=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Age" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Mjc3NQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Alt-Svc" index="12">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cXVpYz0iOjQ0MyI7IG1hPTI1OTIwMDA7IHY9IjQ2LDQ0LDQzLDM5Ig==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpTdHJpY3QtVHJhbnNwb3J0LVNlY3VyaXR5OiBtYXgtYWdlPTEwODg2NDAwOyBpbmNsdWRlU3ViRG9tYWluczsgcHJlbG9hZA0KRGF0ZTogU3VuLCAyMyBKdW4gMjAxOSAxMjozNzoyOCBHTVQNCkV4cGlyZXM6IFN1biwgMjMgSnVuIDIwMTkgMTQ6Mzc6MjggR01UDQpMYXN0LU1vZGlmaWVkOiBUdWUsIDIxIE1heSAyMDE5IDIzOjUzOjQ0IEdNVA0KWC1Db250ZW50LVR5cGUtT3B0aW9uczogbm9zbmlmZg0KQ29udGVudC1UeXBlOiB0ZXh0L2phdmFzY3JpcHQNClZhcnk6IEFjY2VwdC1FbmNvZGluZw0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KU2VydmVyOiBHb2xmZTINCkNvbnRlbnQtTGVuZ3RoOiAxNzU5NQ0KQ2FjaGUtQ29udHJvbDogcHVibGljLCBtYXgtYWdlPTcyMDANCkFnZTogMjc3NQ0KQWx0LVN2YzogcXVpYz0iOjQ0MyI7IG1hPTI1OTIwMDA7IHY9IjQ2LDQ0LDQzLDM5Ig0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>KGZ1bmN0aW9uKCl7dmFyIGs9dGhpc3x8c2VsZixsPWZ1bmN0aW9uKGEsYil7YT1hLnNwbGl0KCIuIik7dmFyIGM9azthWzBdaW4gY3x8InVuZGVmaW5lZCI9PXR5cGVvZiBjLmV4ZWNTY3JpcHR8fGMuZXhlY1NjcmlwdCgidmFyICIrYVswXSk7Zm9yKHZhciBkO2EubGVuZ3RoJiYoZD1hLnNoaWZ0KCkpOylhLmxlbmd0aHx8dm9pZCAwPT09Yj9jPWNbZF0mJmNbZF0hPT1PYmplY3QucHJvdG90eXBlW2RdP2NbZF06Y1tkXT17fTpjW2RdPWJ9O3ZhciBuPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjIGluIGIpYi5oYXNPd25Qcm9wZXJ0eShjKSYmKGFbY109YltjXSl9LHA9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIGEpaWYoYS5oYXNPd25Qcm9wZXJ0eShiKSlyZXR1cm4hMDtyZXR1cm4hMX07dmFyIHE9L14oPzooPzpodHRwcz98bWFpbHRvfGZ0cCk6fFteOi8/I10qKD86Wy8/I118JCkpL2k7dmFyIHI9d2luZG93LHU9ZG9jdW1lbnQsdj1mdW5jdGlvbihhLGIpe3UuYWRkRXZlbnRMaXN0ZW5lcj91LmFkZEV2ZW50TGlzdGVuZXIoYSxiLCExKTp1LmF0dGFjaEV2ZW50JiZ1LmF0dGFjaEV2ZW50KCJvbiIrYSxiKX07dmFyIHc9LzpbMC05XSskLyx5PWZ1bmN0aW9uKGEsYil7YiYmKGI9U3RyaW5nKGIpLnRvTG93ZXJDYXNlKCkpO2lmKCJwcm90b2NvbCI9PT1ifHwicG9ydCI9PT1iKWEucHJvdG9jb2w9eChhLnByb3RvY29sKXx8eChyLmxvY2F0aW9uLnByb3RvY29sKTsicG9ydCI9PT1iP2EucG9ydD1TdHJpbmcoTnVtYmVyKGEuaG9zdG5hbWU/YS5wb3J0OnIubG9jYXRpb24ucG9ydCl8fCgiaHR0cCI9PWEucHJvdG9jb2w/ODA6Imh0dHBzIj09YS5wcm90b2NvbD80NDM6IiIpKToiaG9zdCI9PT1iJiYoYS5ob3N0bmFtZT0oYS5ob3N0bmFtZXx8ci5sb2NhdGlvbi5ob3N0bmFtZSkucmVwbGFjZSh3LCIiKS50b0xvd2VyQ2FzZSgpKTt2YXIgYz14KGEucHJvdG9jb2wpO2ImJihiPVN0cmluZyhiKS50b0xvd2VyQ2FzZSgpKTtzd2l0Y2goYil7Y2FzZSAidXJsX25vX2ZyYWdtZW50IjpiPSIiO2EmJmEuaHJlZiYmKGI9YS5ocmVmLmluZGV4T2YoIiMiKSxiPTA+Yj9hLmhyZWY6YS5ocmVmLnN1YnN0cigwLApiKSk7YT1iO2JyZWFrO2Nhc2UgInByb3RvY29sIjphPWM7YnJlYWs7Y2FzZSAiaG9zdCI6YT1hLmhvc3RuYW1lLnJlcGxhY2UodywiIikudG9Mb3dlckNhc2UoKTticmVhaztjYXNlICJwb3J0IjphPVN0cmluZyhOdW1iZXIoYS5wb3J0KXx8KCJodHRwIj09Yz84MDoiaHR0cHMiPT1jPzQ0MzoiIikpO2JyZWFrO2Nhc2UgInBhdGgiOmE9Ii8iPT1hLnBhdGhuYW1lLnN1YnN0cigwLDEpP2EucGF0aG5hbWU6Ii8iK2EucGF0aG5hbWU7YT1hLnNwbGl0KCIvIik7YTppZihiPWFbYS5sZW5ndGgtMV0sYz1bXSxBcnJheS5wcm90b3R5cGUuaW5kZXhPZiliPWMuaW5kZXhPZihiKSxiPSJudW1iZXIiPT10eXBlb2YgYj9iOi0xO2Vsc2V7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDtkKyspaWYoY1tkXT09PWIpe2I9ZDticmVhayBhfWI9LTF9MDw9YiYmKGFbYS5sZW5ndGgtMV09IiIpO2E9YS5qb2luKCIvIik7YnJlYWs7Y2FzZSAicXVlcnkiOmE9YS5zZWFyY2gucmVwbGFjZSgiPyIsIiIpO2JyZWFrOwpjYXNlICJleHRlbnNpb24iOmE9YS5wYXRobmFtZS5zcGxpdCgiLiIpO2E9MTxhLmxlbmd0aD9hW2EubGVuZ3RoLTFdOiIiO2E9YS5zcGxpdCgiLyIpWzBdO2JyZWFrO2Nhc2UgImZyYWdtZW50IjphPWEuaGFzaC5yZXBsYWNlKCIjIiwiIik7YnJlYWs7ZGVmYXVsdDphPWEmJmEuaHJlZn1yZXR1cm4gYX0seD1mdW5jdGlvbihhKXtyZXR1cm4gYT9hLnJlcGxhY2UoIjoiLCIiKS50b0xvd2VyQ2FzZSgpOiIifSx6PWZ1bmN0aW9uKGEpe3ZhciBiPXUuY3JlYXRlRWxlbWVudCgiYSIpO2EmJihiLmhyZWY9YSk7YT1iLnBhdGhuYW1lOyIvIiE9PWFbMF0mJihhPSIvIithKTt2YXIgYz1iLmhvc3RuYW1lLnJlcGxhY2UodywiIik7cmV0dXJue2hyZWY6Yi5ocmVmLHByb3RvY29sOmIucHJvdG9jb2wsaG9zdDpiLmhvc3QsaG9zdG5hbWU6YyxwYXRobmFtZTphLHNlYXJjaDpiLnNlYXJjaCxoYXNoOmIuaGFzaCxwb3J0OmIucG9ydH19O2Z1bmN0aW9uIEEoKXtmb3IodmFyIGE9QixiPXt9LGM9MDtjPGEubGVuZ3RoOysrYyliW2FbY11dPWM7cmV0dXJuIGJ9ZnVuY3Rpb24gQygpe3ZhciBhPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWiI7YSs9YS50b0xvd2VyQ2FzZSgpKyIwMTIzNDU2Nzg5LV8iO3JldHVybiBhKyIuIn0KdmFyIEIsRCxFPWZ1bmN0aW9uKGEpe0I9Qnx8QygpO0Q9RHx8QSgpO2Zvcih2YXIgYj1bXSxjPTA7YzxhLmxlbmd0aDtjKz0zKXt2YXIgZD1jKzE8YS5sZW5ndGgsZT1jKzI8YS5sZW5ndGgsZj1hLmNoYXJDb2RlQXQoYyksZz1kP2EuY2hhckNvZGVBdChjKzEpOjAsaD1lP2EuY2hhckNvZGVBdChjKzIpOjAsbT1mPj4yO2Y9KGYmMyk8PDR8Zz4+NDtnPShnJjE1KTw8MnxoPj42O2gmPTYzO2V8fChoPTY0LGR8fChnPTY0KSk7Yi5wdXNoKEJbbV0sQltmXSxCW2ddLEJbaF0pfXJldHVybiBiLmpvaW4oIiIpfSxGPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIobSl7Zm9yKDtkPGEubGVuZ3RoOyl7dmFyIHQ9YS5jaGFyQXQoZCsrKSxKPURbdF07aWYobnVsbCE9SilyZXR1cm4gSjtpZighL15bXHNceGEwXSokLy50ZXN0KHQpKXRocm93IEVycm9yKCJVbmtub3duIGJhc2U2NCBlbmNvZGluZyBhdCBjaGFyOiAiK3QpO31yZXR1cm4gbX1CPUJ8fEMoKTtEPUR8fEEoKTtmb3IodmFyIGM9IiIsZD0wOzspe3ZhciBlPQpiKC0xKSxmPWIoMCksZz1iKDY0KSxoPWIoNjQpO2lmKDY0PT09aCYmLTE9PT1lKXJldHVybiBjO2MrPVN0cmluZy5mcm9tQ2hhckNvZGUoZTw8MnxmPj40KTs2NCE9ZyYmKGMrPVN0cmluZy5mcm9tQ2hhckNvZGUoZjw8NCYyNDB8Zz4+MiksNjQhPWgmJihjKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGc8PDYmMTkyfGgpKSl9fTt2YXIgRztmdW5jdGlvbiBIKGEsYil7aWYoIWF8fGI9PT11LmxvY2F0aW9uLmhvc3RuYW1lKXJldHVybiExO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKWlmKGFbY11pbnN0YW5jZW9mIFJlZ0V4cCl7aWYoYVtjXS50ZXN0KGIpKXJldHVybiEwfWVsc2UgaWYoMDw9Yi5pbmRleE9mKGFbY10pKXJldHVybiEwO3JldHVybiExfXZhciBJPWZ1bmN0aW9uKCl7dmFyIGE9e307dmFyIGI9ci5nb29nbGVfdGFnX2RhdGE7ci5nb29nbGVfdGFnX2RhdGE9dm9pZCAwPT09Yj9hOmI7YT1yLmdvb2dsZV90YWdfZGF0YTtiPWEuZ2w7YiYmYi5kZWNvcmF0b3JzfHwoYj17ZGVjb3JhdG9yczpbXX0sYS5nbD1iKTtyZXR1cm4gYn07dmFyIEs9LyguKj8pXCooLio/KVwqKC4qKS8sTD0vKFtePyNdKykoXD9bXiNdKik/KCMuKik/LyxNPS8oLio/KShefCYpX2dsPShbXiZdKikmPyguKikvLE89ZnVuY3Rpb24oYSl7dmFyIGI9W10sYztmb3IoYyBpbiBhKWlmKGEuaGFzT3duUHJvcGVydHkoYykpe3ZhciBkPWFbY107dm9pZCAwIT09ZCYmZD09PWQmJm51bGwhPT1kJiYiW29iamVjdCBPYmplY3RdIiE9PWQudG9TdHJpbmcoKSYmKGIucHVzaChjKSxiLnB1c2goRShTdHJpbmcoZCkpKSl9YT1iLmpvaW4oIioiKTtyZXR1cm5bIjEiLE4oYSksYV0uam9pbigiKiIpfSxOPWZ1bmN0aW9uKGEsYil7YT1bd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQsKG5ldyBEYXRlKS5nZXRUaW1lem9uZU9mZnNldCgpLHdpbmRvdy5uYXZpZ2F0b3IudXNlckxhbmd1YWdlfHx3aW5kb3cubmF2aWdhdG9yLmxhbmd1YWdlLE1hdGguZmxvb3IoKG5ldyBEYXRlKS5nZXRUaW1lKCkvNjAvMUUzKS0odm9pZCAwPT09Yj8wOmIpLGFdLmpvaW4oIioiKTsKaWYoIShiPUcpKXtiPUFycmF5KDI1Nik7Zm9yKHZhciBjPTA7MjU2PmM7YysrKXtmb3IodmFyIGQ9YyxlPTA7OD5lO2UrKylkPWQmMT9kPj4+MV4zOTg4MjkyMzg0OmQ+Pj4xO2JbY109ZH19Rz1iO2I9NDI5NDk2NzI5NTtmb3IoYz0wO2M8YS5sZW5ndGg7YysrKWI9Yj4+PjheR1soYl5hLmNoYXJDb2RlQXQoYykpJjI1NV07cmV0dXJuKChiXi0xKT4+PjApLnRvU3RyaW5nKDM2KX0sUj1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9eihyLmxvY2F0aW9uLmhyZWYpLGQ9Yy5zZWFyY2gucmVwbGFjZSgiPyIsIiIpO2E6e3ZhciBlPWQuc3BsaXQoIiYiKTtmb3IodmFyIGY9MDtmPGUubGVuZ3RoO2YrKyl7dmFyIGc9ZVtmXS5zcGxpdCgiPSIpO2lmKCJfZ2wiPT09ZGVjb2RlVVJJQ29tcG9uZW50KGdbMF0pLnJlcGxhY2UoL1wrL2csIiAiKSl7ZT1nLnNsaWNlKDEpLmpvaW4oIj0iKTticmVhayBhfX1lPXZvaWQgMH1iLnF1ZXJ5PVAoZXx8IiIpfHx7fTtlPXkoYywiZnJhZ21lbnQiKTsKZj1lLm1hdGNoKE0pO2IuZnJhZ21lbnQ9UChmJiZmWzNdfHwiIil8fHt9O2EmJlEoYyxkLGUpfX07ZnVuY3Rpb24gUyhhKXt2YXIgYj1NLmV4ZWMoYSk7aWYoYil7dmFyIGM9YlsyXSxkPWJbNF07YT1iWzFdO2QmJihhPWErYytkKX1yZXR1cm4gYX0KdmFyIFE9ZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoZSxmKXtlPVMoZSk7ZS5sZW5ndGgmJihlPWYrZSk7cmV0dXJuIGV9ci5oaXN0b3J5JiZyLmhpc3RvcnkucmVwbGFjZVN0YXRlJiYoTS50ZXN0KGIpfHxNLnRlc3QoYykpJiYoYT15KGEsInBhdGgiKSxiPWQoYiwiPyIpLGM9ZChjLCIjIiksci5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7fSx2b2lkIDAsIiIrYStiK2MpKX0sUD1mdW5jdGlvbihhKXt2YXIgYj12b2lkIDA9PT1iPzM6Yjt0cnl7aWYoYSl7YTp7Zm9yKHZhciBjPTA7Mz5jOysrYyl7dmFyIGQ9Sy5leGVjKGEpO2lmKGQpe3ZhciBlPWQ7YnJlYWsgYX1hPWRlY29kZVVSSUNvbXBvbmVudChhKX1lPXZvaWQgMH1pZihlJiYiMSI9PT1lWzFdKXt2YXIgZj1lWzJdLGc9ZVszXTthOntmb3IoZT0wO2U8YjsrK2UpaWYoZj09PU4oZyxlKSl7dmFyIGg9ITA7YnJlYWsgYX1oPSExfWlmKGgpe2I9e307dmFyIG09Zz9nLnNwbGl0KCIqIik6W107Zm9yKGc9MDtnPG0ubGVuZ3RoO2crPQoyKWJbbVtnXV09RihtW2crMV0pO3JldHVybiBifX19fWNhdGNoKHQpe319O2Z1bmN0aW9uIFQoYSxiLGMpe2Z1bmN0aW9uIGQoaCl7aD1TKGgpO3ZhciBtPWguY2hhckF0KGgubGVuZ3RoLTEpO2gmJiImIiE9PW0mJihoKz0iJiIpO3JldHVybiBoK2d9Yz12b2lkIDA9PT1jPyExOmM7dmFyIGU9TC5leGVjKGIpO2lmKCFlKXJldHVybiIiO2I9ZVsxXTt2YXIgZj1lWzJdfHwiIjtlPWVbM118fCIiO3ZhciBnPSJfZ2w9IithO2M/ZT0iIyIrZChlLnN1YnN0cmluZygxKSk6Zj0iPyIrZChmLnN1YnN0cmluZygxKSk7cmV0dXJuIiIrYitmK2V9CmZ1bmN0aW9uIFUoYSxiLGMpe2Zvcih2YXIgZD17fSxlPXt9LGY9SSgpLmRlY29yYXRvcnMsZz0wO2c8Zi5sZW5ndGg7KytnKXt2YXIgaD1mW2ddOyghY3x8aC5mb3JtcykmJkgoaC5kb21haW5zLGIpJiYoaC5mcmFnbWVudD9uKGUsaC5jYWxsYmFjaygpKTpuKGQsaC5jYWxsYmFjaygpKSl9cChkKSYmKGI9TyhkKSxjP1YoYixhKTpXKGIsYSwhMSkpOyFjJiZwKGUpJiYoYz1PKGUpLFcoYyxhLCEwKSl9ZnVuY3Rpb24gVyhhLGIsYyl7Yi5ocmVmJiYoYT1UKGEsYi5ocmVmLHZvaWQgMD09PWM/ITE6YykscS50ZXN0KGEpJiYoYi5ocmVmPWEpKX0KZnVuY3Rpb24gVihhLGIpe2lmKGImJmIuYWN0aW9uKXt2YXIgYz0oYi5tZXRob2R8fCIiKS50b0xvd2VyQ2FzZSgpO2lmKCJnZXQiPT09Yyl7Yz1iLmNoaWxkTm9kZXN8fFtdO2Zvcih2YXIgZD0hMSxlPTA7ZTxjLmxlbmd0aDtlKyspe3ZhciBmPWNbZV07aWYoIl9nbCI9PT1mLm5hbWUpe2Yuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsYSk7ZD0hMDticmVha319ZHx8KGM9dS5jcmVhdGVFbGVtZW50KCJpbnB1dCIpLGMuc2V0QXR0cmlidXRlKCJ0eXBlIiwiaGlkZGVuIiksYy5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJfZ2wiKSxjLnNldEF0dHJpYnV0ZSgidmFsdWUiLGEpLGIuYXBwZW5kQ2hpbGQoYykpfWVsc2UicG9zdCI9PT1jJiYoYT1UKGEsYi5hY3Rpb24pLHEudGVzdChhKSYmKGIuYWN0aW9uPWEpKX19CnZhciBYPWZ1bmN0aW9uKGEpe3RyeXthOnt2YXIgYj1hLnRhcmdldHx8YS5zcmNFbGVtZW50fHx7fTtmb3IoYT0xMDA7YiYmMDxhOyl7aWYoYi5ocmVmJiZiLm5vZGVOYW1lLm1hdGNoKC9eYSg/OnJlYSk/JC9pKSl7dmFyIGM9YjticmVhayBhfWI9Yi5wYXJlbnROb2RlO2EtLX1jPW51bGx9aWYoYyl7dmFyIGQ9Yy5wcm90b2NvbDsiaHR0cDoiIT09ZCYmImh0dHBzOiIhPT1kfHxVKGMsYy5ob3N0bmFtZSwhMSl9fWNhdGNoKGUpe319LFk9ZnVuY3Rpb24oYSl7dHJ5e3ZhciBiPWEudGFyZ2V0fHxhLnNyY0VsZW1lbnR8fHt9O2lmKGIuYWN0aW9uKXt2YXIgYz15KHooYi5hY3Rpb24pLCJob3N0Iik7VShiLGMsITApfX1jYXRjaChkKXt9fTtsKCJnb29nbGVfdGFnX2RhdGEuZ2xCcmlkZ2UuYXV0byIsZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9SSgpO2UuaW5pdHx8KHYoIm1vdXNlZG93biIsWCksdigia2V5dXAiLFgpLHYoInN1Ym1pdCIsWSksZS5pbml0PSEwKTthPXtjYWxsYmFjazphLGRvbWFpbnM6YixmcmFnbWVudDoiZnJhZ21lbnQiPT09Yyxmb3JtczohIWR9O0koKS5kZWNvcmF0b3JzLnB1c2goYSl9KTtsKCJnb29nbGVfdGFnX2RhdGEuZ2xCcmlkZ2UuZGVjb3JhdGUiLGZ1bmN0aW9uKGEsYixjKXtjPSEhYzthPU8oYSk7aWYoYi50YWdOYW1lKXtpZigiYSI9PWIudGFnTmFtZS50b0xvd2VyQ2FzZSgpKXJldHVybiBXKGEsYixjKTtpZigiZm9ybSI9PWIudGFnTmFtZS50b0xvd2VyQ2FzZSgpKXJldHVybiBWKGEsYil9aWYoInN0cmluZyI9PXR5cGVvZiBiKXJldHVybiBUKGEsYixjKX0pO2woImdvb2dsZV90YWdfZGF0YS5nbEJyaWRnZS5nZW5lcmF0ZSIsTyk7CmwoImdvb2dsZV90YWdfZGF0YS5nbEJyaWRnZS5nZXQiLGZ1bmN0aW9uKGEsYil7dmFyIGM9UighIWIpO2I9SSgpO2IuZGF0YXx8KGIuZGF0YT17cXVlcnk6e30sZnJhZ21lbnQ6e319LGMoYi5kYXRhKSk7Yz17fTtpZihiPWIuZGF0YSluKGMsYi5xdWVyeSksYSYmbihjLGIuZnJhZ21lbnQpO3JldHVybiBjfSk7fSkod2luZG93KTsKKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gTGEoYSl7dmFyIGI9MSxjO2lmKGEpZm9yKGI9MCxjPWEubGVuZ3RoLTE7MDw9YztjLS0pe3ZhciBkPWEuY2hhckNvZGVBdChjKTtiPShiPDw2JjI2ODQzNTQ1NSkrZCsoZDw8MTQpO2Q9YiYyNjYzMzgzMDQ7Yj0wIT1kP2JeZD4+MjE6Yn1yZXR1cm4gYn07dmFyICRjPWZ1bmN0aW9uKGEpe3RoaXMudz1hfHxbXX07JGMucHJvdG90eXBlLnNldD1mdW5jdGlvbihhKXt0aGlzLndbYV09ITB9OyRjLnByb3RvdHlwZS5lbmNvZGU9ZnVuY3Rpb24oKXtmb3IodmFyIGE9W10sYj0wO2I8dGhpcy53Lmxlbmd0aDtiKyspdGhpcy53W2JdJiYoYVtNYXRoLmZsb29yKGIvNildXj0xPDxiJTYpO2ZvcihiPTA7YjxhLmxlbmd0aDtiKyspYVtiXT0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODktXyIuY2hhckF0KGFbYl18fDApO3JldHVybiBhLmpvaW4oIiIpKyJ+In07dmFyIGhhPXdpbmRvdy5Hb29nbGVBbmFseXRpY3NPYmplY3Qsd2E7aWYod2E9dm9pZCAwIT1oYSl3YT0tMTwoaGEuY29uc3RydWN0b3IrIiIpLmluZGV4T2YoIlN0cmluZyIpO3ZhciBaYTtpZihaYT13YSl7dmFyIFFhPXdpbmRvdy5Hb29nbGVBbmFseXRpY3NPYmplY3Q7WmE9UWE/UWEucmVwbGFjZSgvXltcc1x4YTBdK3xbXHNceGEwXSskL2csIiIpOiIifXZhciBnYj1aYXx8ImdhIixqZD0vXig/OnV0bWFcLik/XGQrXC5cZCskLyxrZD0vXmFtcC1bXHcuLV17MjIsNjR9JC8sQmE9ITE7dmFyIHZkPW5ldyAkYztmdW5jdGlvbiBKKGEpe3ZkLnNldChhKX12YXIgVGQ9ZnVuY3Rpb24oYSl7YT1EZChhKTthPW5ldyAkYyhhKTtmb3IodmFyIGI9dmQudy5zbGljZSgpLGM9MDtjPGEudy5sZW5ndGg7YysrKWJbY109YltjXXx8YS53W2NdO3JldHVybihuZXcgJGMoYikpLmVuY29kZSgpfSxEZD1mdW5jdGlvbihhKXthPWEuZ2V0KEdkKTtrYShhKXx8KGE9W10pO3JldHVybiBhfTt2YXIgZWE9ZnVuY3Rpb24oYSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGF9LGthPWZ1bmN0aW9uKGEpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChPYmplY3QoYSkpfSxxYT1mdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwIT1hJiYtMTwoYS5jb25zdHJ1Y3RvcisiIikuaW5kZXhPZigiU3RyaW5nIil9LEQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gMD09YS5pbmRleE9mKGIpfSxzYT1mdW5jdGlvbihhKXtyZXR1cm4gYT9hLnJlcGxhY2UoL15bXHNceGEwXSt8W1xzXHhhMF0rJC9nLCIiKToiIn0scmE9ZnVuY3Rpb24oKXtmb3IodmFyIGE9Ty5uYXZpZ2F0b3IudXNlckFnZW50KyhNLmNvb2tpZT9NLmNvb2tpZToiIikrKE0ucmVmZXJyZXI/TS5yZWZlcnJlcjoiIiksYj1hLmxlbmd0aCxjPU8uaGlzdG9yeS5sZW5ndGg7MDxjOylhKz1jLS1eYisrO3JldHVybltoZCgpXkxhKGEpJjIxNDc0ODM2NDcsTWF0aC5yb3VuZCgobmV3IERhdGUpLmdldFRpbWUoKS8KMUUzKV0uam9pbigiLiIpfSx0YT1mdW5jdGlvbihhKXt2YXIgYj1NLmNyZWF0ZUVsZW1lbnQoImltZyIpO2Iud2lkdGg9MTtiLmhlaWdodD0xO2Iuc3JjPWE7cmV0dXJuIGJ9LHVhPWZ1bmN0aW9uKCl7fSxLPWZ1bmN0aW9uKGEpe2lmKGVuY29kZVVSSUNvbXBvbmVudCBpbnN0YW5jZW9mIEZ1bmN0aW9uKXJldHVybiBlbmNvZGVVUklDb21wb25lbnQoYSk7SigyOCk7cmV0dXJuIGF9LEw9ZnVuY3Rpb24oYSxiLGMsZCl7dHJ5e2EuYWRkRXZlbnRMaXN0ZW5lcj9hLmFkZEV2ZW50TGlzdGVuZXIoYixjLCEhZCk6YS5hdHRhY2hFdmVudCYmYS5hdHRhY2hFdmVudCgib24iK2IsYyl9Y2F0Y2goZSl7SigyNyl9fSxmPS9eW1x3XC06Ly4/PSYlIVxbXF1dKyQvLE5kPS9eW1x3Ky9fLV0rWz1dezAsMn0kLyxiZT1mdW5jdGlvbihhLGIpe3JldHVybiBFKE0ubG9jYXRpb25bYj8iaHJlZiI6InNlYXJjaCJdLGEpfSxFPWZ1bmN0aW9uKGEsYil7cmV0dXJuKGE9YS5tYXRjaCgiKD86JnwjfFxcPykiKwpLKGIpLnJlcGxhY2UoLyhbLiorP149IToke30oKXxcW1xdXC9cXF0pL2csIlxcJDEiKSsiPShbXiYjXSopIikpJiYyPT1hLmxlbmd0aD9hWzFdOiIifSx4YT1mdW5jdGlvbigpe3ZhciBhPSIiK00ubG9jYXRpb24uaG9zdG5hbWU7cmV0dXJuIDA9PWEuaW5kZXhPZigid3d3LiIpP2Euc3Vic3RyaW5nKDQpOmF9LGRlPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5pbmRleE9mKGIpO2lmKDU9PWN8fDY9PWMpaWYoYT1hLmNoYXJBdChjK2IubGVuZ3RoKSwiLyI9PWF8fCI/Ij09YXx8IiI9PWF8fCI6Ij09YSlyZXR1cm4hMDtyZXR1cm4hMX0seWE9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NLnJlZmVycmVyO2lmKC9eKGh0dHBzP3xhbmRyb2lkLWFwcCk6XC9cLy9pLnRlc3QoYykpe2lmKGEpcmV0dXJuIGM7YT0iLy8iK00ubG9jYXRpb24uaG9zdG5hbWU7aWYoIWRlKGMsYSkpcmV0dXJuIGImJihiPWEucmVwbGFjZSgvXC4vZywiLSIpKyIuY2RuLmFtcHByb2plY3Qub3JnIixkZShjLGIpKT92b2lkIDA6CmN9fSx6YT1mdW5jdGlvbihhLGIpe2lmKDE9PWIubGVuZ3RoJiZudWxsIT1iWzBdJiYib2JqZWN0Ij09PXR5cGVvZiBiWzBdKXJldHVybiBiWzBdO2Zvcih2YXIgYz17fSxkPU1hdGgubWluKGEubGVuZ3RoKzEsYi5sZW5ndGgpLGU9MDtlPGQ7ZSsrKWlmKCJvYmplY3QiPT09dHlwZW9mIGJbZV0pe2Zvcih2YXIgZyBpbiBiW2VdKWJbZV0uaGFzT3duUHJvcGVydHkoZykmJihjW2ddPWJbZV1bZ10pO2JyZWFrfWVsc2UgZTxhLmxlbmd0aCYmKGNbYVtlXV09YltlXSk7cmV0dXJuIGN9O3ZhciBlZT1mdW5jdGlvbigpe3RoaXMua2V5cz1bXTt0aGlzLnZhbHVlcz17fTt0aGlzLm09e319O2VlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYSxiLGMpe3RoaXMua2V5cy5wdXNoKGEpO2M/dGhpcy5tWyI6IithXT1iOnRoaXMudmFsdWVzWyI6IithXT1ifTtlZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm0uaGFzT3duUHJvcGVydHkoIjoiK2EpP3RoaXMubVsiOiIrYV06dGhpcy52YWx1ZXNbIjoiK2FdfTtlZS5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8dGhpcy5rZXlzLmxlbmd0aDtiKyspe3ZhciBjPXRoaXMua2V5c1tiXSxkPXRoaXMuZ2V0KGMpO2QmJmEoYyxkKX19O3ZhciBPPXdpbmRvdyxNPWRvY3VtZW50LHZhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHNldFRpbWVvdXQoYSxiKX07dmFyIEY9d2luZG93LEVhPWRvY3VtZW50LEc9ZnVuY3Rpb24oYSl7dmFyIGI9Ri5fZ2FVc2VyUHJlZnM7aWYoYiYmYi5pb28mJmIuaW9vKCl8fGEmJiEwPT09RlsiZ2EtZGlzYWJsZS0iK2FdKXJldHVybiEwO3RyeXt2YXIgYz1GLmV4dGVybmFsO2lmKGMmJmMuX2dhVXNlclByZWZzJiYib28iPT1jLl9nYVVzZXJQcmVmcylyZXR1cm4hMH1jYXRjaChnKXt9YT1bXTtiPVN0cmluZyhFYS5jb29raWV8fGRvY3VtZW50LmNvb2tpZSkuc3BsaXQoIjsiKTtmb3IoYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD1iW2NdLnNwbGl0KCI9IiksZT1kWzBdLnJlcGxhY2UoL15ccyp8XHMqJC9nLCIiKTtlJiYiQU1QX1RPS0VOIj09ZSYmKChkPWQuc2xpY2UoMSkuam9pbigiPSIpLnJlcGxhY2UoL15ccyp8XHMqJC9nLCIiKSkmJihkPWRlY29kZVVSSUNvbXBvbmVudChkKSksYS5wdXNoKGQpKX1mb3IoYj0wO2I8YS5sZW5ndGg7YisrKWlmKCIkT1BUX09VVCI9PWFbYl0pcmV0dXJuITA7cmV0dXJuIEVhLmdldEVsZW1lbnRCeUlkKCJfX2dhT3B0T3V0RXh0ZW5zaW9uIik/CiEwOiExfTt2YXIgQ2E9ZnVuY3Rpb24oYSl7dmFyIGI9W10sYz1NLmNvb2tpZS5zcGxpdCgiOyIpO2E9bmV3IFJlZ0V4cCgiXlxccyoiK2ErIj1cXHMqKC4qPylcXHMqJCIpO2Zvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdLm1hdGNoKGEpO2UmJmIucHVzaChlWzFdKX1yZXR1cm4gYn0semM9ZnVuY3Rpb24oYSxiLGMsZCxlLGcpe2U9RyhlKT8hMTplYi50ZXN0KE0ubG9jYXRpb24uaG9zdG5hbWUpfHwiLyI9PWMmJnZjLnRlc3QoZCk/ITE6ITA7aWYoIWUpcmV0dXJuITE7YiYmMTIwMDxiLmxlbmd0aCYmKGI9Yi5zdWJzdHJpbmcoMCwxMjAwKSk7Yz1hKyI9IitiKyI7IHBhdGg9IitjKyI7ICI7ZyYmKGMrPSJleHBpcmVzPSIrKG5ldyBEYXRlKChuZXcgRGF0ZSkuZ2V0VGltZSgpK2cpKS50b0dNVFN0cmluZygpKyI7ICIpO2QmJiJub25lIiE9PWQmJihjKz0iZG9tYWluPSIrZCsiOyIpO2Q9TS5jb29raWU7TS5jb29raWU9YztpZighKGQ9ZCE9TS5jb29raWUpKWE6e2E9Q2EoYSk7CmZvcihkPTA7ZDxhLmxlbmd0aDtkKyspaWYoYj09YVtkXSl7ZD0hMDticmVhayBhfWQ9ITF9cmV0dXJuIGR9LENjPWZ1bmN0aW9uKGEpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQ/ZW5jb2RlVVJJQ29tcG9uZW50KGEpLnJlcGxhY2UoL1woL2csIiUyOCIpLnJlcGxhY2UoL1wpL2csIiUyOSIpOmF9LHZjPS9eKHd3d1wuKT9nb29nbGUoXC5jb20/KT8oXC5bYS16XXsyfSk/JC8sZWI9LyhefFwuKWRvdWJsZWNsaWNrXC5uZXQkL2k7dmFyIG9jLElkPS9eLipWZXJzaW9uXC8/KFxkKylbXlxkXS4qJC9pLG5lPWZ1bmN0aW9uKCl7aWYodm9pZCAwIT09Ty5fX2dhNF9fKXJldHVybiBPLl9fZ2E0X187aWYodm9pZCAwPT09b2Mpe3ZhciBhPU8ubmF2aWdhdG9yLnVzZXJBZ2VudDtpZihhKXt2YXIgYj1hO3RyeXtiPWRlY29kZVVSSUNvbXBvbmVudChhKX1jYXRjaChjKXt9aWYoYT0hKDA8PWIuaW5kZXhPZigiQ2hyb21lIikpJiYhKDA8PWIuaW5kZXhPZigiQ3JpT1MiKSkmJigwPD1iLmluZGV4T2YoIlNhZmFyaS8iKXx8MDw9Yi5pbmRleE9mKCJTYWZhcmksIikpKWI9SWQuZXhlYyhiKSxhPTExPD0oYj9OdW1iZXIoYlsxXSk6LTEpO29jPWF9ZWxzZSBvYz0hMX1yZXR1cm4gb2N9O3ZhciBGYSxHYSxmYixBYixqYT0vXmh0dHBzPzpcL1wvW14vXSpjZG5cLmFtcHByb2plY3RcLm9yZ1wvLyxVZT0vXig/Ond3d1wufG1cLnxhbXBcLikrLyxVYj1bXSxkYT1mdW5jdGlvbihhKXthOntpZihqYS50ZXN0KE0ucmVmZXJyZXIpKXt2YXIgYj1NLmxvY2F0aW9uLmhvc3RuYW1lLnJlcGxhY2UoVWUsIiIpO2I6e3ZhciBjPU0ucmVmZXJyZXI7Yz1jLnJlcGxhY2UoL15odHRwcz86XC9cLy8sIiIpO3ZhciBkPWMucmVwbGFjZSgvXlteL10rLywiIikuc3BsaXQoIi8iKSxlPWRbMl07ZD0oZD0icyI9PWU/ZFszXTplKT9kZWNvZGVVUklDb21wb25lbnQoZCk6ZDtpZighZCl7aWYoMD09Yy5pbmRleE9mKCJ4bi0tIikpe2M9IiI7YnJlYWsgYn0oYz1jLm1hdGNoKC8oLiopXC5jZG5cLmFtcHByb2plY3RcLm9yZ1wvPyQvKSkmJjI9PWMubGVuZ3RoJiYoZD1jWzFdLnJlcGxhY2UoLy0vZywiLiIpLnJlcGxhY2UoL1wuXC4vZywiLSIpKX1jPWQ/ZC5yZXBsYWNlKFVlLCIiKToiIn1pZihiPT0KYyl7Yj0hMDticmVhayBhfWVsc2UgSig3OCl9Yj0hMX1pZihiJiYhMSE9PWFbS2RdJiYodm9pZCAwPT09QWImJihiPShiPURlLmdldCgpKSYmYi5fZ2F8fHZvaWQgMCkmJihBYj1iLEooODEpKSx2b2lkIDAhPT1BYikpcmV0dXJuIGFbUV18fChhW1FdPUFiKSwhMTtpZihhW0tkXSl7Sig2Nyk7aWYoYVthY10mJiJjb29raWUiIT1hW2FjXSlyZXR1cm4hMTtpZih2b2lkIDAhPT1BYilhW1FdfHwoYVtRXT1BYik7ZWxzZXthOmlmKGI9U3RyaW5nKGFbV118fHhhKCkpLGM9U3RyaW5nKGFbWWJdfHwiLyIpLGQ9Q2EoU3RyaW5nKGFbVV18fCJfZ2EiKSksYj1uYShkLGIsYyksIWJ8fGpkLnRlc3QoYikpYj0hMDtlbHNlIGlmKGI9Q2EoIkFNUF9UT0tFTiIpLDA9PWIubGVuZ3RoKWI9ITA7ZWxzZXtpZigxPT1iLmxlbmd0aCYmKGI9ZGVjb2RlVVJJQ29tcG9uZW50KGJbMF0pLCIkUkVUUklFVklORyI9PWJ8fCIkT1BUX09VVCI9PWJ8fCIkRVJST1IiPT1ifHwiJE5PVF9GT1VORCI9PWIpKXtiPSEwOwpicmVhayBhfWI9ITF9aWYoYiYmdGMoaWMsU3RyaW5nKGFbTmFdKSkpcmV0dXJuITB9fXJldHVybiExfSxpYz1mdW5jdGlvbigpe1ouRChbdWFdKX0sdGM9ZnVuY3Rpb24oYSxiKXt2YXIgYz1DYSgiQU1QX1RPS0VOIik7aWYoMTxjLmxlbmd0aClyZXR1cm4gSig1NSksITE7Yz1kZWNvZGVVUklDb21wb25lbnQoY1swXXx8IiIpO2lmKCIkT1BUX09VVCI9PWN8fCIkRVJST1IiPT1jfHxHKGIpKXJldHVybiBKKDYyKSwhMTtpZighamEudGVzdChNLnJlZmVycmVyKSYmIiROT1RfRk9VTkQiPT1jKXJldHVybiBKKDY4KSwhMTtpZih2b2lkIDAhPT1BYilyZXR1cm4gSig1NiksdmEoZnVuY3Rpb24oKXthKEFiKX0sMCksITA7aWYoRmEpcmV0dXJuIFViLnB1c2goYSksITA7aWYoIiRSRVRSSUVWSU5HIj09YylyZXR1cm4gSig1NyksdmEoZnVuY3Rpb24oKXt0YyhhLGIpfSwxRTQpLCEwO0ZhPSEwO2MmJiIkIiE9Y1swXXx8KHhjKCIkUkVUUklFVklORyIsM0U0KSxzZXRUaW1lb3V0KE1jLDNFNCksCmM9IiIpO3JldHVybiBQYyhjLGIpPyhVYi5wdXNoKGEpLCEwKTohMX0sUGM9ZnVuY3Rpb24oYSxiLGMpe2lmKCF3aW5kb3cuSlNPTilyZXR1cm4gSig1OCksITE7dmFyIGQ9Ty5YTUxIdHRwUmVxdWVzdDtpZighZClyZXR1cm4gSig1OSksITE7dmFyIGU9bmV3IGQ7aWYoISgid2l0aENyZWRlbnRpYWxzImluIGUpKXJldHVybiBKKDYwKSwhMTtlLm9wZW4oIlBPU1QiLChjfHwiaHR0cHM6Ly9hbXBjaWQuZ29vZ2xlLmNvbS92MS9wdWJsaXNoZXI6Z2V0Q2xpZW50SWQiKSsiP2tleT1BSXphU3lBNjVsRUhVRWl6SXNOdGxiTm8tbDJLMThkVDY4MG5zYU0iLCEwKTtlLndpdGhDcmVkZW50aWFscz0hMDtlLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsInRleHQvcGxhaW4iKTtlLm9ubG9hZD1mdW5jdGlvbigpe0ZhPSExO2lmKDQ9PWUucmVhZHlTdGF0ZSl7dHJ5ezIwMCE9ZS5zdGF0dXMmJihKKDYxKSxRYygiIiwiJEVSUk9SIiwzRTQpKTt2YXIgZz1KU09OLnBhcnNlKGUucmVzcG9uc2VUZXh0KTsKZy5vcHRPdXQ/KEooNjMpLFFjKCIiLCIkT1BUX09VVCIsMzE1MzZFNikpOmcuY2xpZW50SWQ/UWMoZy5jbGllbnRJZCxnLnNlY3VyaXR5VG9rZW4sMzE1MzZFNik6IWMmJmcuYWx0ZXJuYXRlVXJsPyhHYSYmY2xlYXJUaW1lb3V0KEdhKSxGYT0hMCxQYyhhLGIsZy5hbHRlcm5hdGVVcmwpKTooSig2NCksUWMoIiIsIiROT1RfRk9VTkQiLDM2RTUpKX1jYXRjaChjYSl7Sig2NSksUWMoIiIsIiRFUlJPUiIsM0U0KX1lPW51bGx9fTtkPXtvcmlnaW5TY29wZToiQU1QX0VDSURfR09PR0xFIn07YSYmKGQuc2VjdXJpdHlUb2tlbj1hKTtlLnNlbmQoSlNPTi5zdHJpbmdpZnkoZCkpO0dhPXZhKGZ1bmN0aW9uKCl7Sig2Nik7UWMoIiIsIiRFUlJPUiIsM0U0KX0sMUU0KTtyZXR1cm4hMH0sTWM9ZnVuY3Rpb24oKXtGYT0hMX0seGM9ZnVuY3Rpb24oYSxiKXtpZih2b2lkIDA9PT1mYil7ZmI9IiI7Zm9yKHZhciBjPWlkKCksZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdO2lmKHpjKCJBTVBfVE9LRU4iLAplbmNvZGVVUklDb21wb25lbnQoYSksIi8iLGUsIiIsYikpe2ZiPWU7cmV0dXJufX19emMoIkFNUF9UT0tFTiIsZW5jb2RlVVJJQ29tcG9uZW50KGEpLCIvIixmYiwiIixiKX0sUWM9ZnVuY3Rpb24oYSxiLGMpe0dhJiZjbGVhclRpbWVvdXQoR2EpO2ImJnhjKGIsYyk7QWI9YTtiPVViO1ViPVtdO2ZvcihjPTA7YzxiLmxlbmd0aDtjKyspYltjXShhKX07dmFyIGFkPXZvaWQgMCxiZD1mdW5jdGlvbihhKXtyZXR1cm4gYWQ/YWQ6KGE/Imh0dHBzOiI6QmF8fCJodHRwczoiPT1NLmxvY2F0aW9uLnByb3RvY29sPyJodHRwczoiOiJodHRwOiIpKyIvL3d3dy5nb29nbGUtYW5hbHl0aWNzLmNvbSJ9LERhPWZ1bmN0aW9uKGEpe3RoaXMubmFtZT0ibGVuIjt0aGlzLm1lc3NhZ2U9YSsiLTgxOTIifSxiYT1mdW5jdGlvbihhLGIsYyl7Yz1jfHx1YTtpZigyMDM2Pj1iLmxlbmd0aCl3YyhhLGIsYyk7ZWxzZSBpZig4MTkyPj1iLmxlbmd0aCl4KGEsYixjKXx8d2QoYSxiLGMpfHx3YyhhLGIsYyk7ZWxzZSB0aHJvdyBnZSgibGVuIixiLmxlbmd0aCksbmV3IERhKGIubGVuZ3RoKTt9LHBlPWZ1bmN0aW9uKGEsYixjLGQpe2Q9ZHx8dWE7d2QoYSsiPyIrYiwiIixkLGMpfSx3Yz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGEoYSsiPyIrYik7ZC5vbmxvYWQ9ZC5vbmVycm9yPWZ1bmN0aW9uKCl7ZC5vbmxvYWQ9bnVsbDtkLm9uZXJyb3I9bnVsbDtjKCl9fSx3ZD0KZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9Ty5YTUxIdHRwUmVxdWVzdDtpZighZSlyZXR1cm4hMTt2YXIgZz1uZXcgZTtpZighKCJ3aXRoQ3JlZGVudGlhbHMiaW4gZykpcmV0dXJuITE7YT1hLnJlcGxhY2UoL15odHRwOi8sImh0dHBzOiIpO2cub3BlbigiUE9TVCIsYSwhMCk7Zy53aXRoQ3JlZGVudGlhbHM9ITA7Zy5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLCJ0ZXh0L3BsYWluIik7Zy5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZig0PT1nLnJlYWR5U3RhdGUpe2lmKGQpdHJ5e3ZhciBjYT1nLnJlc3BvbnNlVGV4dDtpZigxPmNhLmxlbmd0aClnZSgieGhyIiwidmVyIiwiMCIpLGMoKTtlbHNlIGlmKCIxIiE9Y2EuY2hhckF0KDApKWdlKCJ4aHIiLCJ2ZXIiLFN0cmluZyhjYS5sZW5ndGgpKSxjKCk7ZWxzZSBpZigzPGQuY291bnQrKylnZSgieGhyIiwidG1yIiwiIitkLmNvdW50KSxjKCk7ZWxzZSBpZigxPT1jYS5sZW5ndGgpYygpO2Vsc2V7dmFyIGw9Y2EuY2hhckF0KDEpOwppZigiZCI9PWwpcGUoImh0dHBzOi8vc3RhdHMuZy5kb3VibGVjbGljay5uZXQvai9jb2xsZWN0IixkLlUsZCxjKTtlbHNlIGlmKCJnIj09bCl7d2MoImh0dHBzOi8vd3d3Lmdvb2dsZS4lL2Fkcy9nYS1hdWRpZW5jZXMiLnJlcGxhY2UoIiUiLCJjb20iKSxkLmdvb2dsZSxjKTt2YXIgaz1jYS5zdWJzdHJpbmcoMik7ayYmKC9eW2Etei5dezEsNn0kLy50ZXN0KGspP3djKCJodHRwczovL3d3dy5nb29nbGUuJS9hZHMvZ2EtYXVkaWVuY2VzIi5yZXBsYWNlKCIlIixrKSxkLmdvb2dsZSx1YSk6Z2UoInRsZCIsImJjYyIsaykpfWVsc2UgZ2UoInhociIsImJyYyIsbCksYygpfX1jYXRjaCh3KXtnZSgieGhyIiwicnNwIiksYygpfWVsc2UgYygpO2c9bnVsbH19O2cuc2VuZChiKTtyZXR1cm4hMH0seD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIE8ubmF2aWdhdG9yLnNlbmRCZWFjb24/Ty5uYXZpZ2F0b3Iuc2VuZEJlYWNvbihhLGIpPyhjKCksITApOiExOiExfSxnZT1mdW5jdGlvbihhLGIsYyl7MTw9CjEwMCpNYXRoLnJhbmRvbSgpfHxHKCI/Iil8fChhPVsidD1lcnJvciIsIl9lPSIrYSwiX3Y9ajc2Iiwic3I9MSJdLGImJmEucHVzaCgiX2Y9IitiKSxjJiZhLnB1c2goIl9tPSIrSyhjLnN1YnN0cmluZygwLDEwMCkpKSxhLnB1c2goImFpcD0xIiksYS5wdXNoKCJ6PSIraGQoKSksd2MoYWQ/YWQrIi8zMyI6YmQoITApKyIvdS9kIixhLmpvaW4oIiYiKSx1YSkpfTt2YXIgaD1mdW5jdGlvbihhKXt2YXIgYj1PLmdhRGF0YT1PLmdhRGF0YXx8e307cmV0dXJuIGJbYV09YlthXXx8e319O3ZhciBIYT1mdW5jdGlvbigpe3RoaXMuTT1bXX07SGEucHJvdG90eXBlLmFkZD1mdW5jdGlvbihhKXt0aGlzLk0ucHVzaChhKX07SGEucHJvdG90eXBlLkQ9ZnVuY3Rpb24oYSl7dHJ5e2Zvcih2YXIgYj0wO2I8dGhpcy5NLmxlbmd0aDtiKyspe3ZhciBjPWEuZ2V0KHRoaXMuTVtiXSk7YyYmZWEoYykmJmMuY2FsbChPLGEpfX1jYXRjaChkKXt9Yj1hLmdldChJYSk7YiE9dWEmJmVhKGIpJiYoYS5zZXQoSWEsdWEsITApLHNldFRpbWVvdXQoYiwxMCkpfTtmdW5jdGlvbiBKYShhKXtpZigxMDAhPWEuZ2V0KEthKSYmTGEoUChhLFEpKSUxRTQ+PTEwMCpSKGEsS2EpKXRocm93ImFib3J0Ijt9ZnVuY3Rpb24gTWEoYSl7aWYoRyhQKGEsTmEpKSl0aHJvdyJhYm9ydCI7fWZ1bmN0aW9uIE9hKCl7dmFyIGE9TS5sb2NhdGlvbi5wcm90b2NvbDtpZigiaHR0cDoiIT1hJiYiaHR0cHM6IiE9YSl0aHJvdyJhYm9ydCI7fQpmdW5jdGlvbiBQYShhKXt0cnl7Ty5uYXZpZ2F0b3Iuc2VuZEJlYWNvbj9KKDQyKTpPLlhNTEh0dHBSZXF1ZXN0JiYid2l0aENyZWRlbnRpYWxzImluIG5ldyBPLlhNTEh0dHBSZXF1ZXN0JiZKKDQwKX1jYXRjaChjKXt9YS5zZXQobGQsVGQoYSksITApO2Euc2V0KEFjLFIoYSxBYykrMSk7dmFyIGI9W107dWUubWFwKGZ1bmN0aW9uKGMsZCl7ZC5GJiYoYz1hLmdldChjKSx2b2lkIDAhPWMmJmMhPWQuZGVmYXVsdFZhbHVlJiYoImJvb2xlYW4iPT10eXBlb2YgYyYmKGMqPTEpLGIucHVzaChkLkYrIj0iK0soIiIrYykpKSl9KTtiLnB1c2goIno9IitCZCgpKTthLnNldChSYSxiLmpvaW4oIiYiKSwhMCl9CmZ1bmN0aW9uIFNhKGEpe3ZhciBiPVAoYSxnZCl8fChhZD9hZCsiLzMiOmJkKCExKSsiL2NvbGxlY3QiKSxjPWEuZ2V0KHFlKSxkPVAoYSxmYSk7IWQmJmEuZ2V0KFZkKSYmKGQ9ImJlYWNvbiIpO2lmKGMpcGUoYixQKGEsUmEpLGMsYS5aKElhKSk7ZWxzZSBpZihkKXtjPWQ7ZD1QKGEsUmEpO3ZhciBlPWEuWihJYSk7ZT1lfHx1YTsiaW1hZ2UiPT1jP3djKGIsZCxlKToieGhyIj09YyYmd2QoYixkLGUpfHwiYmVhY29uIj09YyYmeChiLGQsZSl8fGJhKGIsZCxlKX1lbHNlIGJhKGIsUChhLFJhKSxhLlooSWEpKTtiPVAoYSxOYSk7Yj1oKGIpO2M9Yi5oaXRjb3VudDtiLmhpdGNvdW50PWM/YysxOjE7Yj1QKGEsTmEpO2RlbGV0ZSBoKGIpLnBlbmRpbmdfZXhwZXJpbWVudHM7YS5zZXQoSWEsdWEsITApfQpmdW5jdGlvbiBIYyhhKXsoTy5nYURhdGE9Ty5nYURhdGF8fHt9KS5leHBJZCYmYS5zZXQoTmMsKE8uZ2FEYXRhPU8uZ2FEYXRhfHx7fSkuZXhwSWQpOyhPLmdhRGF0YT1PLmdhRGF0YXx8e30pLmV4cFZhciYmYS5zZXQoT2MsKE8uZ2FEYXRhPU8uZ2FEYXRhfHx7fSkuZXhwVmFyKTt2YXIgYj1QKGEsTmEpO2lmKGI9aChiKS5wZW5kaW5nX2V4cGVyaW1lbnRzKXt2YXIgYz1bXTtmb3IoZCBpbiBiKWIuaGFzT3duUHJvcGVydHkoZCkmJmJbZF0mJmMucHVzaChlbmNvZGVVUklDb21wb25lbnQoZCkrIi4iK2VuY29kZVVSSUNvbXBvbmVudChiW2RdKSk7dmFyIGQ9Yy5qb2luKCIhIil9ZWxzZSBkPXZvaWQgMDtkJiZhLnNldChtLGQsITApfWZ1bmN0aW9uIGNkKCl7aWYoTy5uYXZpZ2F0b3ImJiJwcmV2aWV3Ij09Ty5uYXZpZ2F0b3IubG9hZFB1cnBvc2UpdGhyb3ciYWJvcnQiO30KZnVuY3Rpb24geWQoYSl7dmFyIGI9Ty5nYURldklkcztrYShiKSYmMCE9Yi5sZW5ndGgmJmEuc2V0KCImZGlkIixiLmpvaW4oIiwiKSwhMCl9ZnVuY3Rpb24gdmIoYSl7aWYoIWEuZ2V0KE5hKSl0aHJvdyJhYm9ydCI7fTt2YXIgaGQ9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5yb3VuZCgyMTQ3NDgzNjQ3Kk1hdGgucmFuZG9tKCkpfSxCZD1mdW5jdGlvbigpe3RyeXt2YXIgYT1uZXcgVWludDMyQXJyYXkoMSk7Ty5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGEpO3JldHVybiBhWzBdJjIxNDc0ODM2NDd9Y2F0Y2goYil7cmV0dXJuIGhkKCl9fTtmdW5jdGlvbiBUYShhKXt2YXIgYj1SKGEsVWEpOzUwMDw9YiYmSigxNSk7dmFyIGM9UChhLFZhKTtpZigidHJhbnNhY3Rpb24iIT1jJiYiaXRlbSIhPWMpe2M9UihhLFdhKTt2YXIgZD0obmV3IERhdGUpLmdldFRpbWUoKSxlPVIoYSxYYSk7MD09ZSYmYS5zZXQoWGEsZCk7ZT1NYXRoLnJvdW5kKDIqKGQtZSkvMUUzKTswPGUmJihjPU1hdGgubWluKGMrZSwyMCksYS5zZXQoWGEsZCkpO2lmKDA+PWMpdGhyb3ciYWJvcnQiO2Euc2V0KFdhLC0tYyl9YS5zZXQoVWEsKytiKX07dmFyIFlhPWZ1bmN0aW9uKCl7dGhpcy5kYXRhPW5ldyBlZX07WWEucHJvdG90eXBlLmdldD1mdW5jdGlvbihhKXt2YXIgYj0kYShhKSxjPXRoaXMuZGF0YS5nZXQoYSk7YiYmdm9pZCAwPT1jJiYoYz1lYShiLmRlZmF1bHRWYWx1ZSk/Yi5kZWZhdWx0VmFsdWUoKTpiLmRlZmF1bHRWYWx1ZSk7cmV0dXJuIGImJmIuWj9iLloodGhpcyxhLGMpOmN9O3ZhciBQPWZ1bmN0aW9uKGEsYil7YT1hLmdldChiKTtyZXR1cm4gdm9pZCAwPT1hPyIiOiIiK2F9LFI9ZnVuY3Rpb24oYSxiKXthPWEuZ2V0KGIpO3JldHVybiB2b2lkIDA9PWF8fCIiPT09YT8wOk51bWJlcihhKX07WWEucHJvdG90eXBlLlo9ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dGhpcy5nZXQoYSkpJiZlYShhKT9hOnVhfTsKWWEucHJvdG90eXBlLnNldD1mdW5jdGlvbihhLGIsYyl7aWYoYSlpZigib2JqZWN0Ij09dHlwZW9mIGEpZm9yKHZhciBkIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShkKSYmYWIodGhpcyxkLGFbZF0sYyk7ZWxzZSBhYih0aGlzLGEsYixjKX07dmFyIGFiPWZ1bmN0aW9uKGEsYixjLGQpe2lmKHZvaWQgMCE9Yylzd2l0Y2goYil7Y2FzZSBOYTp3Yi50ZXN0KGMpfXZhciBlPSRhKGIpO2UmJmUubz9lLm8oYSxiLGMsZCk6YS5kYXRhLnNldChiLGMsZCl9O3ZhciB1ZT1uZXcgZWUsdmU9W10sYmI9ZnVuY3Rpb24oYSxiLGMsZCxlKXt0aGlzLm5hbWU9YTt0aGlzLkY9Yjt0aGlzLlo9ZDt0aGlzLm89ZTt0aGlzLmRlZmF1bHRWYWx1ZT1jfSwkYT1mdW5jdGlvbihhKXt2YXIgYj11ZS5nZXQoYSk7aWYoIWIpZm9yKHZhciBjPTA7Yzx2ZS5sZW5ndGg7YysrKXt2YXIgZD12ZVtjXSxlPWRbMF0uZXhlYyhhKTtpZihlKXtiPWRbMV0oZSk7dWUuc2V0KGIubmFtZSxiKTticmVha319cmV0dXJuIGJ9LHljPWZ1bmN0aW9uKGEpe3ZhciBiO3VlLm1hcChmdW5jdGlvbihjLGQpe2QuRj09YSYmKGI9ZCl9KTtyZXR1cm4gYiYmYi5uYW1lfSxTPWZ1bmN0aW9uKGEsYixjLGQsZSl7YT1uZXcgYmIoYSxiLGMsZCxlKTt1ZS5zZXQoYS5uYW1lLGEpO3JldHVybiBhLm5hbWV9LGNiPWZ1bmN0aW9uKGEsYil7dmUucHVzaChbbmV3IFJlZ0V4cCgiXiIrYSsiJCIpLGJdKX0sVD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIFMoYSxiLGMsdm9pZCAwLGRiKX0sZGI9ZnVuY3Rpb24oKXt9O3ZhciBoYj1UKCJhcGlWZXJzaW9uIiwidiIpLGliPVQoImNsaWVudFZlcnNpb24iLCJfdiIpO1MoImFub255bWl6ZUlwIiwiYWlwIik7dmFyIGpiPVMoImFkU2Vuc2VJZCIsImEiKSxWYT1TKCJoaXRUeXBlIiwidCIpLElhPVMoImhpdENhbGxiYWNrIiksUmE9UygiaGl0UGF5bG9hZCIpO1MoIm5vbkludGVyYWN0aW9uIiwibmkiKTtTKCJjdXJyZW5jeUNvZGUiLCJjdSIpO1MoImRhdGFTb3VyY2UiLCJkcyIpO3ZhciBWZD1TKCJ1c2VCZWFjb24iLHZvaWQgMCwhMSksZmE9UygidHJhbnNwb3J0Iik7Uygic2Vzc2lvbkNvbnRyb2wiLCJzYyIsIiIpO1MoInNlc3Npb25Hcm91cCIsInNnIik7UygicXVldWVUaW1lIiwicXQiKTt2YXIgQWM9UygiX3MiLCJfcyIpO1MoInNjcmVlbk5hbWUiLCJjZCIpO3ZhciBrYj1TKCJsb2NhdGlvbiIsImRsIiwiIiksbGI9UygicmVmZXJyZXIiLCJkciIpLG1iPVMoInBhZ2UiLCJkcCIsIiIpO1MoImhvc3RuYW1lIiwiZGgiKTsKdmFyIG5iPVMoImxhbmd1YWdlIiwidWwiKSxvYj1TKCJlbmNvZGluZyIsImRlIik7UygidGl0bGUiLCJkdCIsZnVuY3Rpb24oKXtyZXR1cm4gTS50aXRsZXx8dm9pZCAwfSk7Y2IoImNvbnRlbnRHcm91cChbMC05XSspIixmdW5jdGlvbihhKXtyZXR1cm4gbmV3IGJiKGFbMF0sImNnIithWzFdKX0pO3ZhciBwYj1TKCJzY3JlZW5Db2xvcnMiLCJzZCIpLHFiPVMoInNjcmVlblJlc29sdXRpb24iLCJzciIpLHJiPVMoInZpZXdwb3J0U2l6ZSIsInZwIiksc2I9UygiamF2YUVuYWJsZWQiLCJqZSIpLHRiPVMoImZsYXNoVmVyc2lvbiIsImZsIik7UygiY2FtcGFpZ25JZCIsImNpIik7UygiY2FtcGFpZ25OYW1lIiwiY24iKTtTKCJjYW1wYWlnblNvdXJjZSIsImNzIik7UygiY2FtcGFpZ25NZWRpdW0iLCJjbSIpO1MoImNhbXBhaWduS2V5d29yZCIsImNrIik7UygiY2FtcGFpZ25Db250ZW50IiwiY2MiKTsKdmFyIHViPVMoImV2ZW50Q2F0ZWdvcnkiLCJlYyIpLHhiPVMoImV2ZW50QWN0aW9uIiwiZWEiKSx5Yj1TKCJldmVudExhYmVsIiwiZWwiKSx6Yj1TKCJldmVudFZhbHVlIiwiZXYiKSxCYj1TKCJzb2NpYWxOZXR3b3JrIiwic24iKSxDYj1TKCJzb2NpYWxBY3Rpb24iLCJzYSIpLERiPVMoInNvY2lhbFRhcmdldCIsInN0IiksRWI9UygibDEiLCJwbHQiKSxGYj1TKCJsMiIsInBkdCIpLEdiPVMoImwzIiwiZG5zIiksSGI9UygibDQiLCJycnQiKSxJYj1TKCJsNSIsInNydCIpLEpiPVMoImw2IiwidGNwIiksS2I9UygibDciLCJkaXQiKSxMYj1TKCJsOCIsImNsdCIpLFZlPVMoImw5IiwiX2dzdCIpLFdlPVMoImwxMCIsIl9nYnQiKSxYZT1TKCJsMTEiLCJfY3N0IiksWWU9UygibDEyIiwiX2NidCIpLE1iPVMoInRpbWluZ0NhdGVnb3J5IiwidXRjIiksTmI9UygidGltaW5nVmFyIiwidXR2IiksT2I9UygidGltaW5nTGFiZWwiLCJ1dGwiKSxQYj1TKCJ0aW1pbmdWYWx1ZSIsInV0dCIpOwpTKCJhcHBOYW1lIiwiYW4iKTtTKCJhcHBWZXJzaW9uIiwiYXYiLCIiKTtTKCJhcHBJZCIsImFpZCIsIiIpO1MoImFwcEluc3RhbGxlcklkIiwiYWlpZCIsIiIpO1MoImV4RGVzY3JpcHRpb24iLCJleGQiKTtTKCJleEZhdGFsIiwiZXhmIik7dmFyIE5jPVMoImV4cElkIiwieGlkIiksT2M9UygiZXhwVmFyIiwieHZhciIpLG09UygiZXhwIiwiZXhwIiksUmM9UygiX3V0bWEiLCJfdXRtYSIpLFNjPVMoIl91dG16IiwiX3V0bXoiKSxUYz1TKCJfdXRtaHQiLCJfdXRtaHQiKSxVYT1TKCJfaGMiLHZvaWQgMCwwKSxYYT1TKCJfdGkiLHZvaWQgMCwwKSxXYT1TKCJfdG8iLHZvaWQgMCwyMCk7Y2IoImRpbWVuc2lvbihbMC05XSspIixmdW5jdGlvbihhKXtyZXR1cm4gbmV3IGJiKGFbMF0sImNkIithWzFdKX0pO2NiKCJtZXRyaWMoWzAtOV0rKSIsZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBiYihhWzBdLCJjbSIrYVsxXSl9KTtTKCJsaW5rZXJQYXJhbSIsdm9pZCAwLHZvaWQgMCxCYyxkYik7CnZhciBaZT1UKCJfY2QybCIsdm9pZCAwLCExKSxsZD1TKCJ1c2FnZSIsIl91IiksR2Q9UygiX3VtIik7UygiZm9yY2VTU0wiLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gQmF9LGZ1bmN0aW9uKGEsYixjKXtKKDM0KTtCYT0hIWN9KTt2YXIgZWQ9UygiX2oxIiwiamlkIiksaWE9UygiX2oyIiwiZ2ppZCIpO2NiKCJcXCYoLiopIixmdW5jdGlvbihhKXt2YXIgYj1uZXcgYmIoYVswXSxhWzFdKSxjPXljKGFbMF0uc3Vic3RyaW5nKDEpKTtjJiYoYi5aPWZ1bmN0aW9uKGQpe3JldHVybiBkLmdldChjKX0sYi5vPWZ1bmN0aW9uKGQsZSxnLGNhKXtkLnNldChjLGcsY2EpfSxiLkY9dm9pZCAwKTtyZXR1cm4gYn0pOwp2YXIgUWI9VCgiX29vdCIpLGRkPVMoInByZXZpZXdUYXNrIiksUmI9UygiY2hlY2tQcm90b2NvbFRhc2siKSxtZD1TKCJ2YWxpZGF0aW9uVGFzayIpLFNiPVMoImNoZWNrU3RvcmFnZVRhc2siKSxVYz1TKCJoaXN0b3J5SW1wb3J0VGFzayIpLFRiPVMoInNhbXBsZXJUYXNrIiksVmI9UygiX3JsdCIpLFdiPVMoImJ1aWxkSGl0VGFzayIpLFhiPVMoInNlbmRIaXRUYXNrIiksVmM9UygiY2VUYXNrIiksemQ9UygiZGV2SWRUYXNrIiksQ2Q9UygidGltaW5nVGFzayIpLExkPVMoImRpc3BsYXlGZWF0dXJlc1Rhc2siKSxvYT1TKCJjdXN0b21UYXNrIiksVj1UKCJuYW1lIiksUT1UKCJjbGllbnRJZCIsImNpZCIpLG49VCgiY2xpZW50SWRUaW1lIikseGQ9VCgic3RvcmVkQ2xpZW50SWQiKSxBZD1TKCJ1c2VySWQiLCJ1aWQiKSxOYT1UKCJ0cmFja2luZ0lkIiwidGlkIiksVT1UKCJjb29raWVOYW1lIix2b2lkIDAsIl9nYSIpLFc9VCgiY29va2llRG9tYWluIiksWWI9VCgiY29va2llUGF0aCIsCnZvaWQgMCwiLyIpLFpiPVQoImNvb2tpZUV4cGlyZXMiLHZvaWQgMCw2MzA3MkUzKSxIZD1UKCJjb29raWVVcGRhdGUiLHZvaWQgMCwhMCksJGI9VCgibGVnYWN5Q29va2llRG9tYWluIiksV2M9VCgibGVnYWN5SGlzdG9yeUltcG9ydCIsdm9pZCAwLCEwKSxhYz1UKCJzdG9yYWdlIix2b2lkIDAsImNvb2tpZSIpLGJjPVQoImFsbG93TGlua2VyIix2b2lkIDAsITEpLGNjPVQoImFsbG93QW5jaG9yIix2b2lkIDAsITApLEthPVQoInNhbXBsZVJhdGUiLCJzZiIsMTAwKSxkYz1UKCJzaXRlU3BlZWRTYW1wbGVSYXRlIix2b2lkIDAsMSksZWM9VCgiYWx3YXlzU2VuZFJlZmVycmVyIix2b2lkIDAsITEpLEk9VCgiX2dpZCIsIl9naWQiKSxsYT1UKCJfZ2NuIiksS2Q9VCgidXNlQW1wQ2xpZW50SWQiKSxjZT1UKCJfZ2NsaWQiKSxmZT1UKCJfZ3QiKSxoZT1UKCJfZ2UiLHZvaWQgMCw3Nzc2RTYpLGllPVQoIl9nY2xzcmMiKSxqZT1UKCJzdG9yZUdhYyIsdm9pZCAwLCEwKSxvZT1UKCJfeF8xOSIpLApnZD1TKCJ0cmFuc3BvcnRVcmwiKSxNZD1TKCJfciIsIl9yIikscWU9UygiX2RwIiksVWQ9UygiYWxsb3dBZEZlYXR1cmVzIix2b2lkIDAsITApO2Z1bmN0aW9uIFgoYSxiLGMsZCl7YlthXT1mdW5jdGlvbigpe3RyeXtyZXR1cm4gZCYmSihkKSxjLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1jYXRjaChlKXt0aHJvdyBnZSgiZXhjIixhLGUmJmUubmFtZSksZTt9fX07dmFyIE9kPWZ1bmN0aW9uKCl7dGhpcy5WPTEwMDt0aGlzLiQ9dGhpcy5mYT0hMTt0aGlzLm9hPSJkZXRvdXJleHAiO3RoaXMuZ3JvdXBzPTF9LEVkPWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBPZCxjO2lmKGIuZmEmJmIuJClyZXR1cm4gMDtiLiQ9ITA7aWYoYSl7aWYoYi5vYSYmdm9pZCAwIT09YS5nZXQoYi5vYSkpcmV0dXJuIFIoYSxiLm9hKTtpZigwPT1hLmdldChkYykpcmV0dXJuIDB9aWYoMD09Yi5WKXJldHVybiAwO3ZvaWQgMD09PWMmJihjPUJkKCkpO3JldHVybiAwPT1jJWIuVj9NYXRoLmZsb29yKGMvYi5WKSViLmdyb3VwcysxOjB9O3ZhciB0ZT1mdW5jdGlvbigpe2lmKGFkKXJldHVybiEwO2Zvcih2YXIgYT1NLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKSxiPTA7YjxhLmxlbmd0aCYmMTAwPmI7YisrKXt2YXIgYz0oYz1hW2JdLnNyYyk/MCE9Yy5pbmRleE9mKGJkKCEwKSsiL2FuYWx5dGljcyIpPyExOiEwOiExO2lmKGMpcmV0dXJuITB9cmV0dXJuITF9O2Z1bmN0aW9uIGZjKCl7dmFyIGEsYjtpZigoYj0oYj1PLm5hdmlnYXRvcik/Yi5wbHVnaW5zOm51bGwpJiZiLmxlbmd0aClmb3IodmFyIGM9MDtjPGIubGVuZ3RoJiYhYTtjKyspe3ZhciBkPWJbY107LTE8ZC5uYW1lLmluZGV4T2YoIlNob2Nrd2F2ZSBGbGFzaCIpJiYoYT1kLmRlc2NyaXB0aW9uKX1pZighYSl0cnl7dmFyIGU9bmV3IEFjdGl2ZVhPYmplY3QoIlNob2Nrd2F2ZUZsYXNoLlNob2Nrd2F2ZUZsYXNoLjciKTthPWUuR2V0VmFyaWFibGUoIiR2ZXJzaW9uIil9Y2F0Y2goZyl7fWlmKCFhKXRyeXtlPW5ldyBBY3RpdmVYT2JqZWN0KCJTaG9ja3dhdmVGbGFzaC5TaG9ja3dhdmVGbGFzaC42IiksYT0iV0lOIDYsMCwyMSwwIixlLkFsbG93U2NyaXB0QWNjZXNzPSJhbHdheXMiLGE9ZS5HZXRWYXJpYWJsZSgiJHZlcnNpb24iKX1jYXRjaChnKXt9aWYoIWEpdHJ5e2U9bmV3IEFjdGl2ZVhPYmplY3QoIlNob2Nrd2F2ZUZsYXNoLlNob2Nrd2F2ZUZsYXNoIiksYT1lLkdldFZhcmlhYmxlKCIkdmVyc2lvbiIpfWNhdGNoKGcpe31hJiYKKGU9YS5tYXRjaCgvW1xkXSsvZykpJiYzPD1lLmxlbmd0aCYmKGE9ZVswXSsiLiIrZVsxXSsiIHIiK2VbMl0pO3JldHVybiBhfHx2b2lkIDB9O3ZhciBhYT1mdW5jdGlvbihhKXt2YXIgYj1NYXRoLm1pbihSKGEsZGMpLDEwMCk7cmV0dXJuIExhKFAoYSxRKSklMTAwPj1iPyExOiEwfSxnYz1mdW5jdGlvbihhKXt2YXIgYj17fTtpZihFYyhiKXx8RmMoYikpe3ZhciBjPWJbRWJdO3ZvaWQgMD09Y3x8SW5maW5pdHk9PWN8fGlzTmFOKGMpfHwoMDxjPyhZKGIsR2IpLFkoYixKYiksWShiLEliKSxZKGIsRmIpLFkoYixIYiksWShiLEtiKSxZKGIsTGIpLFkoYixWZSksWShiLFdlKSxZKGIsWGUpLFkoYixZZSksdmEoZnVuY3Rpb24oKXthKGIpfSwxMCkpOkwoTywibG9hZCIsZnVuY3Rpb24oKXtnYyhhKX0sITEpKX19LEVjPWZ1bmN0aW9uKGEpe3ZhciBiPU8ucGVyZm9ybWFuY2V8fE8ud2Via2l0UGVyZm9ybWFuY2U7Yj1iJiZiLnRpbWluZztpZighYilyZXR1cm4hMTt2YXIgYz1iLm5hdmlnYXRpb25TdGFydDtpZigwPT1jKXJldHVybiExO2FbRWJdPWIubG9hZEV2ZW50U3RhcnQtYzthW0diXT1iLmRvbWFpbkxvb2t1cEVuZC1iLmRvbWFpbkxvb2t1cFN0YXJ0OwphW0piXT1iLmNvbm5lY3RFbmQtYi5jb25uZWN0U3RhcnQ7YVtJYl09Yi5yZXNwb25zZVN0YXJ0LWIucmVxdWVzdFN0YXJ0O2FbRmJdPWIucmVzcG9uc2VFbmQtYi5yZXNwb25zZVN0YXJ0O2FbSGJdPWIuZmV0Y2hTdGFydC1jO2FbS2JdPWIuZG9tSW50ZXJhY3RpdmUtYzthW0xiXT1iLmRvbUNvbnRlbnRMb2FkZWRFdmVudFN0YXJ0LWM7YVtWZV09Ti5MLWM7YVtXZV09Ti55YS1jO08uZ29vZ2xlX3RhZ19tYW5hZ2VyJiZPLmdvb2dsZV90YWdfbWFuYWdlci5fbGkmJihiPU8uZ29vZ2xlX3RhZ19tYW5hZ2VyLl9saSxhW1hlXT1iLmNzdCxhW1llXT1iLmNidCk7cmV0dXJuITB9LEZjPWZ1bmN0aW9uKGEpe2lmKE8udG9wIT1PKXJldHVybiExO3ZhciBiPU8uZXh0ZXJuYWwsYz1iJiZiLm9ubG9hZFQ7YiYmIWIuaXNWYWxpZExvYWRUaW1lJiYoYz12b2lkIDApOzIxNDc0ODM2NDg8YyYmKGM9dm9pZCAwKTswPGMmJmIuc2V0UGFnZVJlYWR5VGltZSgpO2lmKHZvaWQgMD09YylyZXR1cm4hMTsKYVtFYl09YztyZXR1cm4hMH0sWT1mdW5jdGlvbihhLGIpe3ZhciBjPWFbYl07aWYoaXNOYU4oYyl8fEluZmluaXR5PT1jfHwwPmMpYVtiXT12b2lkIDB9LEZkPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtpZigicGFnZXZpZXciPT1iLmdldChWYSkmJiFhLkkpe2EuST0hMDt2YXIgYz1hYShiKSxkPTA8RShQKGIsa2IpLCJnY2xpZCIpLmxlbmd0aDsoY3x8ZCkmJmdjKGZ1bmN0aW9uKGUpe2MmJmEuc2VuZCgidGltaW5nIixlKTtkJiZhLnNlbmQoImFkdGltaW5nIixlKX0pfX19O3ZhciBoYz0hMSxtYz1mdW5jdGlvbihhKXtpZigiY29va2llIj09UChhLGFjKSl7aWYoYS5nZXQoSGQpfHxQKGEseGQpIT1QKGEsUSkpe3ZhciBiPTFFMypSKGEsWmIpO21hKGEsUSxVLGIpfW1hKGEsSSxsYSw4NjRFNSk7aWYoYS5nZXQoamUpKXt2YXIgYz1QKGEsY2UpO2lmKGMpe3ZhciBkPU1hdGgubWluKFIoYSxoZSksMUUzKlIoYSxaYikpO2Q9TWF0aC5taW4oZCwxRTMqUihhLGZlKStkLShuZXcgRGF0ZSkuZ2V0VGltZSgpKTthLmRhdGEuc2V0KGhlLGQpO2I9e307dmFyIGU9UChhLGZlKSxnPVAoYSxpZSksY2E9a2MoUChhLFliKSksbD1sYyhQKGEsVykpO2E9UChhLE5hKTtnJiYiYXcuZHMiIT1nP2ImJihiLnVhPSEwKTooYz1bIjEiLGUsQ2MoYyldLmpvaW4oIi4iKSwwPGQmJihiJiYoYi50YT0hMCksemMoIl9nYWNfIitDYyhhKSxjLGNhLGwsYSxkKSkpO2xlKGIpfX1lbHNlIEooNzUpfX0sbWE9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bmQoYSxiKTtpZihlKXtjPVAoYSxjKTsKdmFyIGc9a2MoUChhLFliKSksY2E9bGMoUChhLFcpKSxsPVAoYSxOYSk7aWYoImF1dG8iIT1jYSl6YyhjLGUsZyxjYSxsLGQpJiYoaGM9ITApO2Vsc2V7SigzMik7Zm9yKHZhciBrPWlkKCksdz0wO3c8ay5sZW5ndGg7dysrKWlmKGNhPWtbd10sYS5kYXRhLnNldChXLGNhKSxlPW5kKGEsYiksemMoYyxlLGcsY2EsbCxkKSl7aGM9ITA7cmV0dXJufWEuZGF0YS5zZXQoVywiYXV0byIpfX19LG5jPWZ1bmN0aW9uKGEpe2lmKCJjb29raWUiPT1QKGEsYWMpJiYhaGMmJihtYyhhKSwhaGMpKXRocm93ImFib3J0Ijt9LFljPWZ1bmN0aW9uKGEpe2lmKGEuZ2V0KFdjKSl7dmFyIGI9UChhLFcpLGM9UChhLCRiKXx8eGEoKSxkPVhjKCJfX3V0bWEiLGMsYik7ZCYmKEooMTkpLGEuc2V0KFRjLChuZXcgRGF0ZSkuZ2V0VGltZSgpLCEwKSxhLnNldChSYyxkLlIpLChiPVhjKCJfX3V0bXoiLGMsYikpJiZkLmhhc2g9PWIuaGFzaCYmYS5zZXQoU2MsYi5SKSl9fSxuZD1mdW5jdGlvbihhLGIpe2I9Q2MoUChhLApiKSk7dmFyIGM9bGMoUChhLFcpKS5zcGxpdCgiLiIpLmxlbmd0aDthPWpjKFAoYSxZYikpOzE8YSYmKGMrPSItIithKTtyZXR1cm4gYj9bIkdBMSIsYyxiXS5qb2luKCIuIik6IiJ9LFhkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5hKGIsUChhLFcpLFAoYSxZYikpfSxuYT1mdW5jdGlvbihhLGIsYyl7aWYoIWF8fDE+YS5sZW5ndGgpSigxMik7ZWxzZXtmb3IodmFyIGQ9W10sZT0wO2U8YS5sZW5ndGg7ZSsrKXt2YXIgZz1hW2VdO3ZhciBjYT1nLnNwbGl0KCIuIik7dmFyIGw9Y2Euc2hpZnQoKTsoIkdBMSI9PWx8fCIxIj09bCkmJjE8Y2EubGVuZ3RoPyhnPWNhLnNoaWZ0KCkuc3BsaXQoIi0iKSwxPT1nLmxlbmd0aCYmKGdbMV09IjEiKSxnWzBdKj0xLGdbMV0qPTEsY2E9e0g6ZyxzOmNhLmpvaW4oIi4iKX0pOmNhPWtkLnRlc3QoZyk/e0g6WzAsMF0sczpnfTp2b2lkIDA7Y2EmJmQucHVzaChjYSl9aWYoMT09ZC5sZW5ndGgpcmV0dXJuIEooMTMpLGRbMF0ucztpZigwPT1kLmxlbmd0aClKKDEyKTsKZWxzZXtKKDE0KTtkPUdjKGQsbGMoYikuc3BsaXQoIi4iKS5sZW5ndGgsMCk7aWYoMT09ZC5sZW5ndGgpcmV0dXJuIGRbMF0ucztkPUdjKGQsamMoYyksMSk7MTxkLmxlbmd0aCYmSig0MSk7cmV0dXJuIGRbMF0mJmRbMF0uc319fSxHYz1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPVtdLGU9W10sZyxjYT0wO2NhPGEubGVuZ3RoO2NhKyspe3ZhciBsPWFbY2FdO2wuSFtjXT09Yj9kLnB1c2gobCk6dm9pZCAwPT1nfHxsLkhbY108Zz8oZT1bbF0sZz1sLkhbY10pOmwuSFtjXT09ZyYmZS5wdXNoKGwpfXJldHVybiAwPGQubGVuZ3RoP2Q6ZX0sbGM9ZnVuY3Rpb24oYSl7cmV0dXJuIDA9PWEuaW5kZXhPZigiLiIpP2Euc3Vic3RyKDEpOmF9LGlkPWZ1bmN0aW9uKCl7dmFyIGE9W10sYj14YSgpLnNwbGl0KCIuIik7aWYoND09Yi5sZW5ndGgpe3ZhciBjPWJbYi5sZW5ndGgtMV07aWYocGFyc2VJbnQoYywxMCk9PWMpcmV0dXJuWyJub25lIl19Zm9yKGM9Yi5sZW5ndGgtMjswPD1jO2MtLSlhLnB1c2goYi5zbGljZShjKS5qb2luKCIuIikpOwpiPU0ubG9jYXRpb24uaG9zdG5hbWU7ZWIudGVzdChiKXx8dmMudGVzdChiKXx8YS5wdXNoKCJub25lIik7cmV0dXJuIGF9LGtjPWZ1bmN0aW9uKGEpe2lmKCFhKXJldHVybiIvIjsxPGEubGVuZ3RoJiZhLmxhc3RJbmRleE9mKCIvIik9PWEubGVuZ3RoLTEmJihhPWEuc3Vic3RyKDAsYS5sZW5ndGgtMSkpOzAhPWEuaW5kZXhPZigiLyIpJiYoYT0iLyIrYSk7cmV0dXJuIGF9LGpjPWZ1bmN0aW9uKGEpe2E9a2MoYSk7cmV0dXJuIi8iPT1hPzE6YS5zcGxpdCgiLyIpLmxlbmd0aH0sbGU9ZnVuY3Rpb24oYSl7YS50YSYmSig3Nyk7YS5uYSYmSig3NCk7YS5wYSYmSig3Myk7YS51YSYmSig2OSl9O2Z1bmN0aW9uIFhjKGEsYixjKXsibm9uZSI9PWImJihiPSIiKTt2YXIgZD1bXSxlPUNhKGEpO2E9Il9fdXRtYSI9PWE/NjoyO2Zvcih2YXIgZz0wO2c8ZS5sZW5ndGg7ZysrKXt2YXIgY2E9KCIiK2VbZ10pLnNwbGl0KCIuIik7Y2EubGVuZ3RoPj1hJiZkLnB1c2goe2hhc2g6Y2FbMF0sUjplW2ddLE86Y2F9KX1pZigwIT1kLmxlbmd0aClyZXR1cm4gMT09ZC5sZW5ndGg/ZFswXTpaYyhiLGQpfHxaYyhjLGQpfHxaYyhudWxsLGQpfHxkWzBdfWZ1bmN0aW9uIFpjKGEsYil7aWYobnVsbD09YSl2YXIgYz1hPTE7ZWxzZSBjPUxhKGEpLGE9TGEoRChhLCIuIik/YS5zdWJzdHJpbmcoMSk6Ii4iK2EpO2Zvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7ZCsrKWlmKGJbZF0uaGFzaD09Y3x8YltkXS5oYXNoPT1hKXJldHVybiBiW2RdfTt2YXIgb2Q9bmV3IFJlZ0V4cCgvXmh0dHBzPzpcL1wvKFteXC86XSspLyksRGU9Ty5nb29nbGVfdGFnX2RhdGEuZ2xCcmlkZ2UscGQ9LyguKikoWz8mI10pKD86X2dhPVteJiNdKikoPzomPykoLiopLyxtZT0vKC4qKShbPyYjXSkoPzpfZ2FjPVteJiNdKikoPzomPykoLiopLztmdW5jdGlvbiBCYyhhKXtpZihhLmdldChaZSkpcmV0dXJuIEooMzUpLERlLmdlbmVyYXRlKCRlKGEpKTt2YXIgYj1QKGEsUSksYz1QKGEsSSl8fCIiO2I9Il9nYT0yLiIrSyhwYShjK2IsMCkrIi4iK2MrIi0iK2IpOyhhPWFmKGEpKT8oSig0NCksYT0iJl9nYWM9MS4iK0soW3BhKGEucWEsMCksYS50aW1lc3RhbXAsYS5xYV0uam9pbigiLiIpKSk6YT0iIjtyZXR1cm4gYithfQpmdW5jdGlvbiBJYyhhLGIpe3ZhciBjPW5ldyBEYXRlLGQ9Ty5uYXZpZ2F0b3IsZT1kLnBsdWdpbnN8fFtdO2E9W2EsZC51c2VyQWdlbnQsYy5nZXRUaW1lem9uZU9mZnNldCgpLGMuZ2V0WWVhcigpLGMuZ2V0RGF0ZSgpLGMuZ2V0SG91cnMoKSxjLmdldE1pbnV0ZXMoKStiXTtmb3IoYj0wO2I8ZS5sZW5ndGg7KytiKWEucHVzaChlW2JdLmRlc2NyaXB0aW9uKTtyZXR1cm4gTGEoYS5qb2luKCIuIikpfWZ1bmN0aW9uIHBhKGEsYil7dmFyIGM9bmV3IERhdGUsZD1PLm5hdmlnYXRvcixlPWMuZ2V0SG91cnMoKStNYXRoLmZsb29yKChjLmdldE1pbnV0ZXMoKStiKS82MCk7cmV0dXJuIExhKFthLGQudXNlckFnZW50LGQubGFuZ3VhZ2V8fCIiLGMuZ2V0VGltZXpvbmVPZmZzZXQoKSxjLmdldFllYXIoKSxjLmdldERhdGUoKStNYXRoLmZsb29yKGUvMjQpLCgyNCtlKSUyNCwoNjArYy5nZXRNaW51dGVzKCkrYiklNjBdLmpvaW4oIi4iKSl9CnZhciBEYz1mdW5jdGlvbihhKXtKKDQ4KTt0aGlzLnRhcmdldD1hO3RoaXMuVD0hMX07RGMucHJvdG90eXBlLmNhPWZ1bmN0aW9uKGEsYil7aWYoYSl7aWYodGhpcy50YXJnZXQuZ2V0KFplKSlyZXR1cm4gRGUuZGVjb3JhdGUoJGUodGhpcy50YXJnZXQpLGEsYik7aWYoYS50YWdOYW1lKXtpZigiYSI9PWEudGFnTmFtZS50b0xvd2VyQ2FzZSgpKXthLmhyZWYmJihhLmhyZWY9cWQodGhpcyxhLmhyZWYsYikpO3JldHVybn1pZigiZm9ybSI9PWEudGFnTmFtZS50b0xvd2VyQ2FzZSgpKXJldHVybiByZCh0aGlzLGEpfWlmKCJzdHJpbmciPT10eXBlb2YgYSlyZXR1cm4gcWQodGhpcyxhLGIpfX07CnZhciBxZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9cGQuZXhlYyhiKTtkJiYzPD1kLmxlbmd0aCYmKGI9ZFsxXSsoZFszXT9kWzJdK2RbM106IiIpKTsoZD1tZS5leGVjKGIpKSYmMzw9ZC5sZW5ndGgmJihiPWRbMV0rKGRbM10/ZFsyXStkWzNdOiIiKSk7YT1hLnRhcmdldC5nZXQoImxpbmtlclBhcmFtIik7dmFyIGU9Yi5pbmRleE9mKCI/Iik7ZD1iLmluZGV4T2YoIiMiKTtjP2IrPSgtMT09ZD8iIyI6IiYiKSthOihjPS0xPT1lPyI/IjoiJiIsYj0tMT09ZD9iKyhjK2EpOmIuc3Vic3RyaW5nKDAsZCkrYythK2Iuc3Vic3RyaW5nKGQpKTtiPWIucmVwbGFjZSgvJitfZ2E9LywiJl9nYT0iKTtyZXR1cm4gYj1iLnJlcGxhY2UoLyYrX2dhYz0vLCImX2dhYz0iKX0scmQ9ZnVuY3Rpb24oYSxiKXtpZihiJiZiLmFjdGlvbilpZigiZ2V0Ij09Yi5tZXRob2QudG9Mb3dlckNhc2UoKSl7YT1hLnRhcmdldC5nZXQoImxpbmtlclBhcmFtIikuc3BsaXQoIiYiKTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9CmFbY10uc3BsaXQoIj0iKSxlPWRbMV07ZD1kWzBdO2Zvcih2YXIgZz1iLmNoaWxkTm9kZXN8fFtdLGNhPSExLGw9MDtsPGcubGVuZ3RoO2wrKylpZihnW2xdLm5hbWU9PWQpe2dbbF0uc2V0QXR0cmlidXRlKCJ2YWx1ZSIsZSk7Y2E9ITA7YnJlYWt9Y2F8fChnPU0uY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxnLnNldEF0dHJpYnV0ZSgidHlwZSIsImhpZGRlbiIpLGcuc2V0QXR0cmlidXRlKCJuYW1lIixkKSxnLnNldEF0dHJpYnV0ZSgidmFsdWUiLGUpLGIuYXBwZW5kQ2hpbGQoZykpfX1lbHNlInBvc3QiPT1iLm1ldGhvZC50b0xvd2VyQ2FzZSgpJiYoYi5hY3Rpb249cWQoYSxiLmFjdGlvbikpfTsKRGMucHJvdG90eXBlLlM9ZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoZyl7dHJ5e2c9Z3x8Ty5ldmVudDthOnt2YXIgY2E9Zy50YXJnZXR8fGcuc3JjRWxlbWVudDtmb3IoZz0xMDA7Y2EmJjA8Zzspe2lmKGNhLmhyZWYmJmNhLm5vZGVOYW1lLm1hdGNoKC9eYSg/OnJlYSk/JC9pKSl7dmFyIGw9Y2E7YnJlYWsgYX1jYT1jYS5wYXJlbnROb2RlO2ctLX1sPXt9fSgiaHR0cDoiPT1sLnByb3RvY29sfHwiaHR0cHM6Ij09bC5wcm90b2NvbCkmJnNkKGEsbC5ob3N0bmFtZXx8IiIpJiZsLmhyZWYmJihsLmhyZWY9cWQoZSxsLmhyZWYsYikpfWNhdGNoKGspe0ooMjYpfX12YXIgZT10aGlzO3RoaXMudGFyZ2V0LmdldChaZSk/RGUuYXV0byhmdW5jdGlvbigpe3JldHVybiAkZShlLnRhcmdldCl9LGEsYj8iZnJhZ21lbnQiOiIiLGMpOih0aGlzLlR8fCh0aGlzLlQ9ITAsTChNLCJtb3VzZWRvd24iLGQsITEpLEwoTSwia2V5dXAiLGQsITEpKSxjJiZMKE0sInN1Ym1pdCIsZnVuY3Rpb24oZyl7Zz0KZ3x8Ty5ldmVudDtpZigoZz1nLnRhcmdldHx8Zy5zcmNFbGVtZW50KSYmZy5hY3Rpb24pe3ZhciBjYT1nLmFjdGlvbi5tYXRjaChvZCk7Y2EmJnNkKGEsY2FbMV0pJiZyZChlLGcpfX0pKX07ZnVuY3Rpb24gc2QoYSxiKXtpZihiPT1NLmxvY2F0aW9uLmhvc3RuYW1lKXJldHVybiExO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKWlmKGFbY11pbnN0YW5jZW9mIFJlZ0V4cCl7aWYoYVtjXS50ZXN0KGIpKXJldHVybiEwfWVsc2UgaWYoMDw9Yi5pbmRleE9mKGFbY10pKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIGtlKGEsYil7cmV0dXJuIGIhPUljKGEsMCkmJmIhPUljKGEsLTEpJiZiIT1JYyhhLC0yKSYmYiE9cGEoYSwwKSYmYiE9cGEoYSwtMSkmJmIhPXBhKGEsLTIpfWZ1bmN0aW9uICRlKGEpe3ZhciBiPWFmKGEpO3JldHVybntfZ2E6YS5nZXQoUSksX2dpZDphLmdldChJKXx8dm9pZCAwLF9nYWM6Yj9bYi5xYSxiLnRpbWVzdGFtcF0uam9pbigiLiIpOnZvaWQgMH19CmZ1bmN0aW9uIGFmKGEpe2Z1bmN0aW9uIGIoZSl7cmV0dXJuIHZvaWQgMD09ZXx8IiI9PT1lPzA6TnVtYmVyKGUpfXZhciBjPWEuZ2V0KGNlKTtpZihjJiZhLmdldChqZSkpe3ZhciBkPWIoYS5nZXQoZmUpKTtpZigxRTMqZCtiKGEuZ2V0KGhlKSk8PShuZXcgRGF0ZSkuZ2V0VGltZSgpKUooNzYpO2Vsc2UgcmV0dXJue3RpbWVzdGFtcDpkLHFhOmN9fX07dmFyIHA9L14oR1RNfE9QVCktW0EtWjAtOV0rJC8scT0vO19nYWV4cD1bXjtdKi9nLHI9LzsoKF9fdXRtYT0pfChbXjs9XSs9R0FYP1xkK1wuKSlbXjtdKi9nLEFhPS9eaHR0cHM/OlwvXC9bXHdcLS5dK1wuZ29vZ2xlLmNvbSg6XGQrKT9cL29wdGltaXplXC9vcHQtbGF1bmNoXC5odG1sXD8uKiQvLHQ9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihkLGUpe2UmJihjKz0iJiIrZCsiPSIrSyhlKSl9dmFyIGM9Imh0dHBzOi8vd3d3Lmdvb2dsZS1hbmFseXRpY3MuY29tL2d0bS9qcz9pZD0iK0soYS5pZCk7ImRhdGFMYXllciIhPWEuQiYmYigibCIsYS5CKTtiKCJ0IixhLnRhcmdldCk7YigiY2lkIixhLmNsaWVudElkKTtiKCJjaWR0IixhLmthKTtiKCJnYWMiLGEubGEpO2IoImFpcCIsYS5pYSk7YS5zeW5jJiZiKCJtIiwic3luYyIpO2IoImN5Y2xlIixhLkcpO2EucWEmJmIoImdjbGlkIixhLnFhKTtBYS50ZXN0KE0ucmVmZXJyZXIpJiZiKCJjYiIsU3RyaW5nKGhkKCkpKTtyZXR1cm4gY307dmFyIEpkPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmFhPWI7KGI9Yyl8fChiPShiPVAoYSxWKSkmJiJ0MCIhPWI/V2QudGVzdChiKT8iX2dhdF8iK0NjKFAoYSxOYSkpOiJfZ2F0XyIrQ2MoYik6Il9nYXQiKTt0aGlzLlk9Yjt0aGlzLnJhPW51bGx9LFJkPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5nZXQoV2IpO2Iuc2V0KFdiLGZ1bmN0aW9uKGUpe1BkKGEsZSxlZCk7UGQoYSxlLGlhKTt2YXIgZz1jKGUpO1FkKGEsZSk7cmV0dXJuIGd9KTt2YXIgZD1iLmdldChYYik7Yi5zZXQoWGIsZnVuY3Rpb24oZSl7dmFyIGc9ZChlKTtpZihzZShlKSl7aWYobmUoKSE9PUgoYSxlKSl7Sig4MCk7dmFyIGNhPXtVOnJlKGEsZSwxKSxnb29nbGU6cmUoYSxlLDIpLGNvdW50OjB9O3BlKCJodHRwczovL3N0YXRzLmcuZG91YmxlY2xpY2submV0L2ovY29sbGVjdCIsY2EuVSxjYSl9ZWxzZSB0YShyZShhLGUsMCkpO2Uuc2V0KGVkLCIiLCEwKX1yZXR1cm4gZ30pfSxQZD1mdW5jdGlvbihhLGIsYyl7ITE9PT1iLmdldChVZCl8fApiLmdldChjKXx8KCIxIj09Q2EoYS5ZKVswXT9iLnNldChjLCIiLCEwKTpiLnNldChjLCIiK2hkKCksITApKX0sUWQ9ZnVuY3Rpb24oYSxiKXtzZShiKSYmemMoYS5ZLCIxIixQKGIsWWIpLFAoYixXKSxQKGIsTmEpLDZFNCl9LHNlPWZ1bmN0aW9uKGEpe3JldHVybiEhYS5nZXQoZWQpJiYhMSE9PWEuZ2V0KFVkKX0scmU9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW5ldyBlZSxlPWZ1bmN0aW9uKGNhKXskYShjYSkuRiYmZC5zZXQoJGEoY2EpLkYsYi5nZXQoY2EpKX07ZShoYik7ZShpYik7ZShOYSk7ZShRKTtlKGVkKTtpZigwPT1jfHwxPT1jKWUoQWQpLGUoaWEpLGUoSSk7ZC5zZXQoJGEobGQpLkYsVGQoYikpO3ZhciBnPSIiO2QubWFwKGZ1bmN0aW9uKGNhLGwpe2crPUsoY2EpKyI9IjtnKz1LKCIiK2wpKyImIn0pO2crPSJ6PSIraGQoKTswPT1jP2c9YS5hYStnOjE9PWM/Zz0idD1kYyZhaXA9MSZfcj0zJiIrZzoyPT1jJiYoZz0idD1zciZhaXA9MSZfcj00JnNsZl9yZD0xJiIrZyk7cmV0dXJuIGd9LApIPWZ1bmN0aW9uKGEsYil7bnVsbD09PWEucmEmJihhLnJhPTE9PT1FZChiKSxhLnJhJiZKKDMzKSk7cmV0dXJuIGEucmF9LFdkPS9eZ3RtXGQrJC87dmFyIGZkPWZ1bmN0aW9uKGEsYil7YT1hLmI7aWYoIWEuZ2V0KCJkY0xvYWRlZCIpKXt2YXIgYz1uZXcgJGMoRGQoYSkpO2Muc2V0KDI5KTthLnNldChHZCxjLncpO2I9Ynx8e307dmFyIGQ7YltVXSYmKGQ9Q2MoYltVXSkpO2I9bmV3IEpkKGEsImh0dHBzOi8vc3RhdHMuZy5kb3VibGVjbGljay5uZXQvci9jb2xsZWN0P3Q9ZGMmYWlwPTEmX3I9MyYiLGQpO1JkKGIsYSk7YS5zZXQoImRjTG9hZGVkIiwhMCl9fTt2YXIgU2Q9ZnVuY3Rpb24oYSl7aWYoIWEuZ2V0KCJkY0xvYWRlZCIpJiYiY29va2llIj09YS5nZXQoYWMpKXt2YXIgYj1uZXcgSmQoYSk7UGQoYixhLGVkKTtQZChiLGEsaWEpO1FkKGIsYSk7aWYoc2UoYSkpe3ZhciBjPW5lKCkhPT1IKGIsYSk7YS5zZXQoTWQsMSwhMCk7Yz8oSig3OSksYS5zZXQoZ2QsYWQ/YWQrIi8zMiI6YmQoITEpKyIvai9jb2xsZWN0IiwhMCksYS5zZXQocWUse1U6cmUoYixhLDEpLGdvb2dsZTpyZShiLGEsMiksY291bnQ6MH0sITApKTphLnNldChnZCxhZD9hZCsiLzMxIjpiZCghMSkrIi9yL2NvbGxlY3QiLCEwKX19fTt2YXIgTGM9ZnVuY3Rpb24oKXt2YXIgYT1PLmdhR2xvYmFsPU8uZ2FHbG9iYWx8fHt9O3JldHVybiBhLmhpZD1hLmhpZHx8aGQoKX07dmFyIHdiPS9eKFVBfFlUfE1PfEdQKS0oXGQrKS0oXGQrKSQvLHBjPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoZSxnKXtkLmIuZGF0YS5zZXQoZSxnKX1mdW5jdGlvbiBjKGUsZyl7YihlLGcpO2QuZmlsdGVycy5hZGQoZSl9dmFyIGQ9dGhpczt0aGlzLmI9bmV3IFlhO3RoaXMuZmlsdGVycz1uZXcgSGE7YihWLGFbVl0pO2IoTmEsc2EoYVtOYV0pKTtiKFUsYVtVXSk7YihXLGFbV118fHhhKCkpO2IoWWIsYVtZYl0pO2IoWmIsYVtaYl0pO2IoSGQsYVtIZF0pO2IoJGIsYVskYl0pO2IoV2MsYVtXY10pO2IoYmMsYVtiY10pO2IoY2MsYVtjY10pO2IoS2EsYVtLYV0pO2IoZGMsYVtkY10pO2IoZWMsYVtlY10pO2IoYWMsYVthY10pO2IoQWQsYVtBZF0pO2IobixhW25dKTtiKEtkLGFbS2RdKTtiKGplLGFbamVdKTtiKFplLGFbWmVdKTtiKG9lLGFbb2VdKTthW29lXSYmKGFkPWFbb2VdKTtiKGhiLDEpO2IoaWIsImo3NiIpO2MoUWIsTWEpO2Mob2EsdWEpO2MoZGQsY2QpO2MoUmIsT2EpO2MobWQsCnZiKTtjKFNiLG5jKTtjKFVjLFljKTtjKFRiLEphKTtjKFZiLFRhKTtjKFZjLEhjKTtjKHpkLHlkKTtjKExkLFNkKTtjKFdiLFBhKTtjKFhiLFNhKTtjKENkLEZkKHRoaXMpKTtLYyh0aGlzLmIpO0pjKHRoaXMuYixhW1FdKTt0aGlzLmIuc2V0KGpiLExjKCkpfSxKYz1mdW5jdGlvbihhLGIpe3ZhciBjPVAoYSxVKTthLmRhdGEuc2V0KGxhLCJfZ2EiPT1jPyJfZ2lkIjpjKyJfZ2lkIik7aWYoImNvb2tpZSI9PVAoYSxhYykpe2hjPSExO2M9Q2EoUChhLFUpKTtjPVhkKGEsYyk7aWYoIWMpe2M9UChhLFcpO3ZhciBkPVAoYSwkYil8fHhhKCk7Yz1YYygiX191dG1hIixkLGMpO3ZvaWQgMCE9Yz8oSigxMCksYz1jLk9bMV0rIi4iK2MuT1syXSk6Yz12b2lkIDB9YyYmKGhjPSEwKTtpZihkPWMmJiFhLmdldChIZCkpaWYoZD1jLnNwbGl0KCIuIiksMiE9ZC5sZW5ndGgpZD0hMTtlbHNlIGlmKGQ9TnVtYmVyKGRbMV0pKXt2YXIgZT1SKGEsWmIpO2Q9ZCtlPChuZXcgRGF0ZSkuZ2V0VGltZSgpLwoxRTN9ZWxzZSBkPSExO2QmJihjPXZvaWQgMCk7YyYmKGEuZGF0YS5zZXQoeGQsYyksYS5kYXRhLnNldChRLGMpLGM9Q2EoUChhLGxhKSksKGM9WGQoYSxjKSkmJmEuZGF0YS5zZXQoSSxjKSk7aWYoYS5nZXQoamUpJiYoYz1hLmdldChjZSksZD1hLmdldChpZSksIWN8fGQmJiJhdy5kcyIhPWQpKXtjPXt9O2lmKE0pe2Q9W107ZT1NLmNvb2tpZS5zcGxpdCgiOyIpO2Zvcih2YXIgZz0vXlxzKl9nYWNfKFVBLVxkKy1cZCspPVxzKiguKz8pXHMqJC8sY2E9MDtjYTxlLmxlbmd0aDtjYSsrKXt2YXIgbD1lW2NhXS5tYXRjaChnKTtsJiZkLnB1c2goe2phOmxbMV0sdmFsdWU6bFsyXX0pfWU9e307aWYoZCYmZC5sZW5ndGgpZm9yKGc9MDtnPGQubGVuZ3RoO2crKykoY2E9ZFtnXS52YWx1ZS5zcGxpdCgiLiIpLCIxIiE9Y2FbMF18fDMhPWNhLmxlbmd0aCk/YyYmKGMubmE9ITApOmNhWzFdJiYoZVtkW2ddLmphXT9jJiYoYy5wYT0hMCk6ZVtkW2ddLmphXT1bXSxlW2RbZ10uamFdLnB1c2goe3RpbWVzdGFtcDpjYVsxXSwKcWE6Y2FbMl19KSk7ZD1lfWVsc2UgZD17fTtkPWRbUChhLE5hKV07bGUoYyk7ZCYmMCE9ZC5sZW5ndGgmJihjPWRbMF0sYS5kYXRhLnNldChmZSxjLnRpbWVzdGFtcCksYS5kYXRhLnNldChjZSxjLnFhKSl9fWlmKGEuZ2V0KEhkKSYmKGM9YmUoIl9nYSIsISFhLmdldChjYykpLGc9YmUoIl9nbCIsISFhLmdldChjYykpLGQ9RGUuZ2V0KGEuZ2V0KGNjKSksZT1kLl9nYSxnJiYwPGcuaW5kZXhPZigiX2dhKiIpJiYhZSYmSigzMCksZz1kLmdjbGlkLGNhPWQuX2dhYyxjfHxlfHxnfHxjYSkpaWYoYyYmZSYmSigzNiksYS5nZXQoYmMpKXtpZihlJiYoSigzOCksYS5kYXRhLnNldChRLGUpLGQuX2dpZCYmKEooNTEpLGEuZGF0YS5zZXQoSSxkLl9naWQpKSksZz8oSig4MiksYS5kYXRhLnNldChjZSxnKSxkLmdjbHNyYyYmYS5kYXRhLnNldChpZSxkLmdjbHNyYykpOmNhJiYoZD1jYS5zcGxpdCgiLiIpKSYmMj09PWQubGVuZ3RoJiYoSigzNyksYS5kYXRhLnNldChjZSxkWzBdKSxhLmRhdGEuc2V0KGZlLApkWzFdKSksYyliOmlmKGQ9Yy5pbmRleE9mKCIuIiksLTE9PWQpSigyMik7ZWxzZXtlPWMuc3Vic3RyaW5nKDAsZCk7Zz1jLnN1YnN0cmluZyhkKzEpO2Q9Zy5pbmRleE9mKCIuIik7Yz1nLnN1YnN0cmluZygwLGQpO2c9Zy5zdWJzdHJpbmcoZCsxKTtpZigiMSI9PWUpe2lmKGQ9ZyxrZShkLGMpKXtKKDIzKTticmVhayBifX1lbHNlIGlmKCIyIj09ZSl7ZD1nLmluZGV4T2YoIi0iKTtlPSIiOzA8ZD8oZT1nLnN1YnN0cmluZygwLGQpLGQ9Zy5zdWJzdHJpbmcoZCsxKSk6ZD1nLnN1YnN0cmluZygxKTtpZihrZShlK2QsYykpe0ooNTMpO2JyZWFrIGJ9ZSYmKEooMiksYS5kYXRhLnNldChJLGUpKX1lbHNle0ooMjIpO2JyZWFrIGJ9SigxMSk7YS5kYXRhLnNldChRLGQpO2lmKGM9YmUoIl9nYWMiLCEhYS5nZXQoY2MpKSljPWMuc3BsaXQoIi4iKSwiMSIhPWNbMF18fDQhPWMubGVuZ3RoP0ooNzIpOmtlKGNbM10sY1sxXSk/Sig3MSk6KGEuZGF0YS5zZXQoY2UsY1szXSksYS5kYXRhLnNldChmZSwKY1syXSksSig3MCkpfX1lbHNlIEooMjEpO2ImJihKKDkpLGEuZGF0YS5zZXQoUSxLKGIpKSk7YS5nZXQoUSl8fCgoYj0oYj1PLmdhR2xvYmFsJiZPLmdhR2xvYmFsLnZpZCkmJi0xIT1iLnNlYXJjaChqZCk/Yjp2b2lkIDApPyhKKDE3KSxhLmRhdGEuc2V0KFEsYikpOihKKDgpLGEuZGF0YS5zZXQoUSxyYSgpKSkpO2EuZ2V0KEkpfHwoSigzKSxhLmRhdGEuc2V0KEkscmEoKSkpO21jKGEpfSxLYz1mdW5jdGlvbihhKXt2YXIgYj1PLm5hdmlnYXRvcixjPU8uc2NyZWVuLGQ9TS5sb2NhdGlvbjthLnNldChsYix5YSghIWEuZ2V0KGVjKSwhIWEuZ2V0KEtkKSkpO2lmKGQpe3ZhciBlPWQucGF0aG5hbWV8fCIiOyIvIiE9ZS5jaGFyQXQoMCkmJihKKDMxKSxlPSIvIitlKTthLnNldChrYixkLnByb3RvY29sKyIvLyIrZC5ob3N0bmFtZStlK2Quc2VhcmNoKX1jJiZhLnNldChxYixjLndpZHRoKyJ4IitjLmhlaWdodCk7YyYmYS5zZXQocGIsYy5jb2xvckRlcHRoKyItYml0Iik7Yz1NLmRvY3VtZW50RWxlbWVudDsKdmFyIGc9KGU9TS5ib2R5KSYmZS5jbGllbnRXaWR0aCYmZS5jbGllbnRIZWlnaHQsY2E9W107YyYmYy5jbGllbnRXaWR0aCYmYy5jbGllbnRIZWlnaHQmJigiQ1NTMUNvbXBhdCI9PT1NLmNvbXBhdE1vZGV8fCFnKT9jYT1bYy5jbGllbnRXaWR0aCxjLmNsaWVudEhlaWdodF06ZyYmKGNhPVtlLmNsaWVudFdpZHRoLGUuY2xpZW50SGVpZ2h0XSk7Yz0wPj1jYVswXXx8MD49Y2FbMV0/IiI6Y2Euam9pbigieCIpO2Euc2V0KHJiLGMpO2Euc2V0KHRiLGZjKCkpO2Euc2V0KG9iLE0uY2hhcmFjdGVyU2V0fHxNLmNoYXJzZXQpO2Euc2V0KHNiLGImJiJmdW5jdGlvbiI9PT10eXBlb2YgYi5qYXZhRW5hYmxlZCYmYi5qYXZhRW5hYmxlZCgpfHwhMSk7YS5zZXQobmIsKGImJihiLmxhbmd1YWdlfHxiLmJyb3dzZXJMYW5ndWFnZSl8fCIiKS50b0xvd2VyQ2FzZSgpKTthLmRhdGEuc2V0KGNlLGJlKCJnY2xpZCIsITApKTthLmRhdGEuc2V0KGllLGJlKCJnY2xzcmMiLCEwKSk7YS5kYXRhLnNldChmZSwKTWF0aC5yb3VuZCgobmV3IERhdGUpLmdldFRpbWUoKS8xRTMpKTtpZihkJiZhLmdldChjYykmJihiPU0ubG9jYXRpb24uaGFzaCkpe2I9Yi5zcGxpdCgvWz8mI10rLyk7ZD1bXTtmb3IoYz0wO2M8Yi5sZW5ndGg7KytjKShEKGJbY10sInV0bV9pZCIpfHxEKGJbY10sInV0bV9jYW1wYWlnbiIpfHxEKGJbY10sInV0bV9zb3VyY2UiKXx8RChiW2NdLCJ1dG1fbWVkaXVtIil8fEQoYltjXSwidXRtX3Rlcm0iKXx8RChiW2NdLCJ1dG1fY29udGVudCIpfHxEKGJbY10sImdjbGlkIil8fEQoYltjXSwiZGNsaWQiKXx8RChiW2NdLCJnY2xzcmMiKSkmJmQucHVzaChiW2NdKTswPGQubGVuZ3RoJiYoYj0iIyIrZC5qb2luKCImIiksYS5zZXQoa2IsYS5nZXQoa2IpK2IpKX19O3BjLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYi5nZXQoYSl9O3BjLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmIuc2V0KGEsYil9Owp2YXIgcWM9e3BhZ2V2aWV3OlttYl0sZXZlbnQ6W3ViLHhiLHliLHpiXSxzb2NpYWw6W0JiLENiLERiXSx0aW1pbmc6W01iLE5iLFBiLE9iXX07cGMucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oYSl7aWYoISgxPmFyZ3VtZW50cy5sZW5ndGgpKXtpZigic3RyaW5nIj09PXR5cGVvZiBhcmd1bWVudHNbMF0pe3ZhciBiPWFyZ3VtZW50c1swXTt2YXIgYz1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKX1lbHNlIGI9YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF1bVmFdLGM9YXJndW1lbnRzO2ImJihjPXphKHFjW2JdfHxbXSxjKSxjW1ZhXT1iLHRoaXMuYi5zZXQoYyx2b2lkIDAsITApLHRoaXMuZmlsdGVycy5EKHRoaXMuYiksdGhpcy5iLmRhdGEubT17fSl9fTtwYy5wcm90b3R5cGUubWE9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO3UoYSxjLGIpfHwodihhLGZ1bmN0aW9uKCl7dShhLGMsYil9KSx5KFN0cmluZyhjLmdldChWKSksYSx2b2lkIDAsYiwhMCkpfTt2YXIgcmM9ZnVuY3Rpb24oYSl7aWYoInByZXJlbmRlciI9PU0udmlzaWJpbGl0eVN0YXRlKXJldHVybiExO2EoKTtyZXR1cm4hMH0sej1mdW5jdGlvbihhKXtpZighcmMoYSkpe0ooMTYpO3ZhciBiPSExLGM9ZnVuY3Rpb24oKXtpZighYiYmcmMoYSkpe2I9ITA7dmFyIGQ9YyxlPU07ZS5yZW1vdmVFdmVudExpc3RlbmVyP2UucmVtb3ZlRXZlbnRMaXN0ZW5lcigidmlzaWJpbGl0eWNoYW5nZSIsZCwhMSk6ZS5kZXRhY2hFdmVudCYmZS5kZXRhY2hFdmVudCgib252aXNpYmlsaXR5Y2hhbmdlIixkKX19O0woTSwidmlzaWJpbGl0eWNoYW5nZSIsYyl9fTt2YXIgdGQ9L14oPzooXHcrKVwuKT8oPzooXHcrKTopPyhcdyspJC8sc2M9ZnVuY3Rpb24oYSl7aWYoZWEoYVswXSkpdGhpcy51PWFbMF07ZWxzZXt2YXIgYj10ZC5leGVjKGFbMF0pO251bGwhPWImJjQ9PWIubGVuZ3RoJiYodGhpcy5jPWJbMV18fCJ0MCIsdGhpcy5LPWJbMl18fCIiLHRoaXMuQz1iWzNdLHRoaXMuYT1bXS5zbGljZS5jYWxsKGEsMSksdGhpcy5LfHwodGhpcy5BPSJjcmVhdGUiPT10aGlzLkMsdGhpcy5pPSJyZXF1aXJlIj09dGhpcy5DLHRoaXMuZz0icHJvdmlkZSI9PXRoaXMuQyx0aGlzLmJhPSJyZW1vdmUiPT10aGlzLkMpLHRoaXMuaSYmKDM8PXRoaXMuYS5sZW5ndGg/KHRoaXMuWD10aGlzLmFbMV0sdGhpcy5XPXRoaXMuYVsyXSk6dGhpcy5hWzFdJiYocWEodGhpcy5hWzFdKT90aGlzLlg9dGhpcy5hWzFdOnRoaXMuVz10aGlzLmFbMV0pKSk7Yj1hWzFdO2E9YVsyXTtpZighdGhpcy5DKXRocm93ImFib3J0IjtpZih0aGlzLmkmJighcWEoYil8fCIiPT1iKSl0aHJvdyJhYm9ydCI7CmlmKHRoaXMuZyYmKCFxYShiKXx8IiI9PWJ8fCFlYShhKSkpdGhyb3ciYWJvcnQiO2lmKHVkKHRoaXMuYyl8fHVkKHRoaXMuSykpdGhyb3ciYWJvcnQiO2lmKHRoaXMuZyYmInQwIiE9dGhpcy5jKXRocm93ImFib3J0Ijt9fTtmdW5jdGlvbiB1ZChhKXtyZXR1cm4gMDw9YS5pbmRleE9mKCIuIil8fDA8PWEuaW5kZXhPZigiOiIpfTt2YXIgWWQsWmQsJGQsQTtZZD1uZXcgZWU7JGQ9bmV3IGVlO0E9bmV3IGVlO1pkPXtlYzo0NSxlY29tbWVyY2U6NDYsbGlua2lkOjQ3fTsKdmFyIHU9ZnVuY3Rpb24oYSxiLGMpe2I9PU58fGIuZ2V0KFYpO3ZhciBkPVlkLmdldChhKTtpZighZWEoZCkpcmV0dXJuITE7Yi5wbHVnaW5zXz1iLnBsdWdpbnNffHxuZXcgZWU7aWYoYi5wbHVnaW5zXy5nZXQoYSkpcmV0dXJuITA7Yi5wbHVnaW5zXy5zZXQoYSxuZXcgZChiLGN8fHt9KSk7cmV0dXJuITB9LHk9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZighZWEoWWQuZ2V0KGIpKSYmISRkLmdldChiKSl7WmQuaGFzT3duUHJvcGVydHkoYikmJkooWmRbYl0pO2lmKHAudGVzdChiKSl7Sig1Mik7YT1OLmooYSk7aWYoIWEpcmV0dXJuITA7Yz1kfHx7fTtkPXtpZDpiLEI6Yy5kYXRhTGF5ZXJ8fCJkYXRhTGF5ZXIiLGlhOiEhYS5nZXQoImFub255bWl6ZUlwIiksc3luYzplLEc6ITF9O2EuZ2V0KCImZ3RtIik9PWImJihkLkc9ITApO3ZhciBnPVN0cmluZyhhLmdldCgibmFtZSIpKTsidDAiIT1nJiYoZC50YXJnZXQ9Zyk7RyhTdHJpbmcoYS5nZXQoInRyYWNraW5nSWQiKSkpfHwoZC5jbGllbnRJZD0KU3RyaW5nKGEuZ2V0KFEpKSxkLmthPU51bWJlcihhLmdldChuKSksYz1jLnBhbGluZHJvbWU/cjpxLGM9KGM9TS5jb29raWUucmVwbGFjZSgvXnwoOyArKS9nLCI7IikubWF0Y2goYykpP2Muc29ydCgpLmpvaW4oIiIpLnN1YnN0cmluZygxKTp2b2lkIDAsZC5sYT1jLGQucWE9RShhLmIuZ2V0KGtiKXx8IiIsImdjbGlkIikpO2E9ZC5CO2M9KG5ldyBEYXRlKS5nZXRUaW1lKCk7T1thXT1PW2FdfHxbXTtjPXsiZ3RtLnN0YXJ0IjpjfTtlfHwoYy5ldmVudD0iZ3RtLmpzIik7T1thXS5wdXNoKGMpO2M9dChkKX0hYyYmWmQuaGFzT3duUHJvcGVydHkoYik/KEooMzkpLGM9YisiLmpzIik6Sig0Myk7aWYoYyYmKGMmJjA8PWMuaW5kZXhPZigiLyIpfHwoYz0oYWQ/YWQrIi8zNCI6YmQoITEpKyIvcGx1Z2lucy91YS8iKStjKSxkPWFlKGMpLGE9ZC5wcm90b2NvbCxjPU0ubG9jYXRpb24ucHJvdG9jb2wsKCJodHRwczoiPT1hfHxhPT1jfHwoImh0dHA6IiE9YT8wOiJodHRwOiI9PWMpKSYmQihkKSkpe2lmKGQ9CmQudXJsKWE9KGE9TS5xdWVyeVNlbGVjdG9yJiZNLnF1ZXJ5U2VsZWN0b3IoInNjcmlwdFtub25jZV0iKXx8bnVsbCk/YS5ub25jZXx8YS5nZXRBdHRyaWJ1dGUmJmEuZ2V0QXR0cmlidXRlKCJub25jZSIpfHwiIjoiIixlPyhlPSIiLGEmJk5kLnRlc3QoYSkmJihlPScgbm9uY2U9IicrYSsnIicpLGYudGVzdChkKSYmTS53cml0ZSgiPHNjcmlwdCIrZSsnIHNyYz0iJytkKyciPlx4M2Mvc2NyaXB0PicpKTooZT1NLmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpLGUudHlwZT0idGV4dC9qYXZhc2NyaXB0IixlLmFzeW5jPSEwLGUuc3JjPWQsYSYmZS5zZXRBdHRyaWJ1dGUoIm5vbmNlIixhKSxkPU0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpWzBdLGQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSxkKSk7JGQuc2V0KGIsITApfX19LHY9ZnVuY3Rpb24oYSxiKXt2YXIgYz1BLmdldChhKXx8W107Yy5wdXNoKGIpO0Euc2V0KGEsYyl9LEM9ZnVuY3Rpb24oYSxiKXtZZC5zZXQoYSxiKTsKYj1BLmdldChhKXx8W107Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspYltjXSgpO0Euc2V0KGEsW10pfSxCPWZ1bmN0aW9uKGEpe3ZhciBiPWFlKE0ubG9jYXRpb24uaHJlZik7aWYoRChhLnVybCwiaHR0cHM6Ly93d3cuZ29vZ2xlLWFuYWx5dGljcy5jb20vZ3RtL2pzP2lkPSIpKXJldHVybiEwO2lmKGEucXVlcnl8fDA8PWEudXJsLmluZGV4T2YoIj8iKXx8MDw9YS5wYXRoLmluZGV4T2YoIjovLyIpKXJldHVybiExO2lmKGEuaG9zdD09Yi5ob3N0JiZhLnBvcnQ9PWIucG9ydClyZXR1cm4hMDtiPSJodHRwOiI9PWEucHJvdG9jb2w/ODA6NDQzO3JldHVybiJ3d3cuZ29vZ2xlLWFuYWx5dGljcy5jb20iPT1hLmhvc3QmJihhLnBvcnR8fGIpPT1iJiZEKGEucGF0aCwiL3BsdWdpbnMvIik/ITA6ITF9LGFlPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIobCl7dmFyIGs9bC5ob3N0bmFtZXx8IiIsdz0wPD1rLmluZGV4T2YoIl0iKTtrPWsuc3BsaXQodz8iXSI6IjoiKVswXS50b0xvd2VyQ2FzZSgpOwp3JiYoays9Il0iKTt3PShsLnByb3RvY29sfHwiIikudG9Mb3dlckNhc2UoKTt3PTEqbC5wb3J0fHwoImh0dHA6Ij09dz84MDoiaHR0cHM6Ij09dz80NDM6IiIpO2w9bC5wYXRobmFtZXx8IiI7RChsLCIvIil8fChsPSIvIitsKTtyZXR1cm5baywiIit3LGxdfXZhciBjPU0uY3JlYXRlRWxlbWVudCgiYSIpO2MuaHJlZj1NLmxvY2F0aW9uLmhyZWY7dmFyIGQ9KGMucHJvdG9jb2x8fCIiKS50b0xvd2VyQ2FzZSgpLGU9YihjKSxnPWMuc2VhcmNofHwiIixjYT1kKyIvLyIrZVswXSsoZVsxXT8iOiIrZVsxXToiIik7RChhLCIvLyIpP2E9ZCthOkQoYSwiLyIpP2E9Y2ErYTohYXx8RChhLCI/Iik/YT1jYStlWzJdKyhhfHxnKTowPmEuc3BsaXQoIi8iKVswXS5pbmRleE9mKCI6IikmJihhPWNhK2VbMl0uc3Vic3RyaW5nKDAsZVsyXS5sYXN0SW5kZXhPZigiLyIpKSsiLyIrYSk7Yy5ocmVmPWE7ZD1iKGMpO3JldHVybntwcm90b2NvbDooYy5wcm90b2NvbHx8IiIpLnRvTG93ZXJDYXNlKCksaG9zdDpkWzBdLApwb3J0OmRbMV0scGF0aDpkWzJdLHF1ZXJ5OmMuc2VhcmNofHwiIix1cmw6YXx8IiJ9fTt2YXIgWj17Z2E6ZnVuY3Rpb24oKXtaLmY9W119fTtaLmdhKCk7Wi5EPWZ1bmN0aW9uKGEpe3ZhciBiPVouSi5hcHBseShaLGFyZ3VtZW50cyk7Yj1aLmYuY29uY2F0KGIpO2ZvcihaLmY9W107MDxiLmxlbmd0aCYmIVoudihiWzBdKSYmIShiLnNoaWZ0KCksMDxaLmYubGVuZ3RoKTspO1ouZj1aLmYuY29uY2F0KGIpfTtaLko9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGFyZ3VtZW50cy5sZW5ndGg7YysrKXRyeXt2YXIgZD1uZXcgc2MoYXJndW1lbnRzW2NdKTtkLmc/QyhkLmFbMF0sZC5hWzFdKTooZC5pJiYoZC5oYT15KGQuYyxkLmFbMF0sZC5YLGQuVykpLGIucHVzaChkKSl9Y2F0Y2goZSl7fXJldHVybiBifTsKWi52PWZ1bmN0aW9uKGEpe3RyeXtpZihhLnUpYS51LmNhbGwoTyxOLmooInQwIikpO2Vsc2V7dmFyIGI9YS5jPT1nYj9OOk4uaihhLmMpO2lmKGEuQSl7aWYoInQwIj09YS5jJiYoYj1OLmNyZWF0ZS5hcHBseShOLGEuYSksbnVsbD09PWIpKXJldHVybiEwfWVsc2UgaWYoYS5iYSlOLnJlbW92ZShhLmMpO2Vsc2UgaWYoYilpZihhLmkpe2lmKGEuaGEmJihhLmhhPXkoYS5jLGEuYVswXSxhLlgsYS5XKSksIXUoYS5hWzBdLGIsYS5XKSlyZXR1cm4hMH1lbHNlIGlmKGEuSyl7dmFyIGM9YS5DLGQ9YS5hLGU9Yi5wbHVnaW5zXy5nZXQoYS5LKTtlW2NdLmFwcGx5KGUsZCl9ZWxzZSBiW2EuQ10uYXBwbHkoYixhLmEpfX1jYXRjaChnKXt9fTt2YXIgTj1mdW5jdGlvbihhKXtKKDEpO1ouRC5hcHBseShaLFthcmd1bWVudHNdKX07Ti5oPXt9O04uUD1bXTtOLkw9MDtOLnlhPTA7Ti5hbnN3ZXI9NDI7dmFyIHVjPVtOYSxXLFZdO04uY3JlYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXphKHVjLFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7YltWXXx8KGJbVl09InQwIik7dmFyIGM9IiIrYltWXTtpZihOLmhbY10pcmV0dXJuIE4uaFtjXTtpZihkYShiKSlyZXR1cm4gbnVsbDtiPW5ldyBwYyhiKTtOLmhbY109YjtOLlAucHVzaChiKTtyZXR1cm4gYn07Ti5yZW1vdmU9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YjxOLlAubGVuZ3RoO2IrKylpZihOLlBbYl0uZ2V0KFYpPT1hKXtOLlAuc3BsaWNlKGIsMSk7Ti5oW2FdPW51bGw7YnJlYWt9fTtOLmo9ZnVuY3Rpb24oYSl7cmV0dXJuIE4uaFthXX07Ti5nZXRBbGw9ZnVuY3Rpb24oKXtyZXR1cm4gTi5QLnNsaWNlKDApfTsKTi5OPWZ1bmN0aW9uKCl7ImdhIiE9Z2ImJkooNDkpO3ZhciBhPU9bZ2JdO2lmKCFhfHw0MiE9YS5hbnN3ZXIpe04uTD1hJiZhLmw7Ti55YT0xKm5ldyBEYXRlO04ubG9hZGVkPSEwO3ZhciBiPU9bZ2JdPU47WCgiY3JlYXRlIixiLGIuY3JlYXRlKTtYKCJyZW1vdmUiLGIsYi5yZW1vdmUpO1goImdldEJ5TmFtZSIsYixiLmosNSk7WCgiZ2V0QWxsIixiLGIuZ2V0QWxsLDYpO2I9cGMucHJvdG90eXBlO1goImdldCIsYixiLmdldCw3KTtYKCJzZXQiLGIsYi5zZXQsNCk7WCgic2VuZCIsYixiLnNlbmQpO1goInJlcXVpcmVTeW5jIixiLGIubWEpO2I9WWEucHJvdG90eXBlO1goImdldCIsYixiLmdldCk7WCgic2V0IixiLGIuc2V0KTsiaHR0cHM6IiE9TS5sb2NhdGlvbi5wcm90b2NvbCYmIUJhJiZ0ZSgpJiYoQmE9ITApOyhPLmdhcGx1Z2lucz1PLmdhcGx1Z2luc3x8e30pLkxpbmtlcj1EYztiPURjLnByb3RvdHlwZTtDKCJsaW5rZXIiLERjKTtYKCJkZWNvcmF0ZSIsYixiLmNhLDIwKTtYKCJhdXRvTGluayIsCmIsYi5TLDI1KTtDKCJkaXNwbGF5ZmVhdHVyZXMiLGZkKTtDKCJhZGZlYXR1cmVzIixmZCk7YT1hJiZhLnE7a2EoYSk/Wi5ELmFwcGx5KE4sYSk6Sig1MCl9fTtOLmRhPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPU4uZ2V0QWxsKCksYj0wO2I8YS5sZW5ndGg7YisrKWFbYl0uZ2V0KFYpfTt2YXIgd2U9Ti5OLHhlPU9bZ2JdO3hlJiZ4ZS5yP3dlKCk6eih3ZSk7eihmdW5jdGlvbigpe1ouRChbInByb3ZpZGUiLCJyZW5kZXIiLHVhXSl9KTt9KSh3aW5kb3cpOwo=</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="330102593" offset="0" length="1371" />
        <PacketInfo time="330102593" offset="1371" length="1371" />
        <PacketInfo time="330102593" offset="2742" length="1371" />
        <PacketInfo time="330102593" offset="4113" length="1371" />
        <PacketInfo time="330102609" offset="5484" length="1371" />
        <PacketInfo time="330102609" offset="6855" length="1371" />
        <PacketInfo time="330102609" offset="8226" length="1371" />
        <PacketInfo time="330102609" offset="9597" length="1371" />
        <PacketInfo time="330102609" offset="10968" length="1371" />
        <PacketInfo time="330102609" offset="12339" length="1371" />
        <PacketInfo time="330102609" offset="13710" length="1371" />
        <PacketInfo time="330102625" offset="15081" length="1371" />
        <PacketInfo time="330102640" offset="16452" length="1371" />
        <PacketInfo time="330102640" offset="17823" length="236" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
  <HTTPTask id="1058" hostname="www.google-analytics.com" path="/r/collect?v=1&amp;_v=j76&amp;a=2033211938&amp;t=pageview&amp;_s=1&amp;dl=http%3A%2F%2Fqa1.bystored.com%2Fcontact-us&amp;ul=en-us&amp;de=UTF-8&amp;dt=Contact%20us%20to%20get%20storage%20%26%20removals%20rates%7C%20STORED&amp;sd=24-bit&amp;sr=1366x768&amp;vp=1349x657&amp;je=0&amp;_u=YEBAAEAB~&amp;jid=198900315&amp;gjid=304039106&amp;cid=1060359363.1561296225&amp;tid=UA-83695430-1&amp;_gid=1464638045.1561296225&amp;_r=1&amp;gtm=2wg6c0T5BJGQC&amp;z=1195560809" url="https://www.google-analytics.com/r/collect?v=1&amp;_v=j76&amp;a=2033211938&amp;t=pageview&amp;_s=1&amp;dl=http%3A%2F%2Fqa1.bystored.com%2Fcontact-us&amp;ul=en-us&amp;de=UTF-8&amp;dt=Contact%20us%20to%20get%20storage%20%26%20removals%20rates%7C%20STORED&amp;sd=24-bit&amp;sr=1366x768&amp;vp=1349x657&amp;je=0&amp;_u=YEBAAEAB~&amp;jid=198900315&amp;gjid=304039106&amp;cid=1060359363.1561296225&amp;tid=UA-83695430-1&amp;_gid=1464638045.1561296225&amp;_r=1&amp;gtm=2wg6c0T5BJGQC&amp;z=1195560809" ip="172.217.19.174" port="443" connectionId="34" origin="ExtraRes" frame="1" startDateTime="2019-06-23T18:24:39.600+05:00" startTime="330102671" endTime="330102843">
    <QueryString>
      <HTTPDataSet>
        <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
          <ActualData>dj0xJl92PWo3NiZhPTIwMzMyMTE5MzgmdD1wYWdldmlldyZfcz0xJmRsPWh0dHAlM0ElMkYlMkZxYTEuYnlzdG9yZWQuY29tJTJGY29udGFjdC11cyZ1bD1lbi11cyZkZT1VVEYtOCZkdD1Db250YWN0JTIwdXMlMjB0byUyMGdldCUyMHN0b3JhZ2UlMjAlMjYlMjByZW1vdmFscyUyMHJhdGVzJTdDJTIwU1RPUkVEJnNkPTI0LWJpdCZzcj0xMzY2eDc2OCZ2cD0xMzQ5eDY1NyZqZT0wJl91PVlFQkFBRUFCfiZqaWQ9MTk4OTAwMzE1JmdqaWQ9MzA0MDM5MTA2JmNpZD0xMDYwMzU5MzYzLjE1NjEyOTYyMjUmdGlkPVVBLTgzNjk1NDMwLTEmX2dpZD0xNDY0NjM4MDQ1LjE1NjEyOTYyMjUmX3I9MSZndG09MndnNmMwVDVCSkdRQyZ6PTExOTU1NjA4MDk=</ActualData>
        </HTTPData>
      </HTTPDataSet>
      <IsExternalData>false</IsExternalData>
    </QueryString>
    <HTTPSplittedQueryStrings>
      <HTTPHeaderEntity name="v" index="0">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>MQ==</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
      <HTTPHeaderEntity name="_v" index="1">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>ajc2</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
      <HTTPHeaderEntity name="a" index="2">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>MjAzMzIxMTkzOA==</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
      <HTTPHeaderEntity name="t" index="3">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>cGFnZXZpZXc=</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
      <HTTPHeaderEntity name="_s" index="4">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>MQ==</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
      <HTTPHeaderEntity name="dl" index="5">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>aHR0cCUzQSUyRiUyRnFhMS5ieXN0b3JlZC5jb20lMkZjb250YWN0LXVz</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
      <HTTPHeaderEntity name="ul" index="6">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>ZW4tdXM=</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
      <HTTPHeaderEntity name="de" index="7">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>VVRGLTg=</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
      <HTTPHeaderEntity name="dt" index="8">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>Q29udGFjdCUyMHVzJTIwdG8lMjBnZXQlMjBzdG9yYWdlJTIwJTI2JTIwcmVtb3ZhbHMlMjByYXRlcyU3QyUyMFNUT1JFRA==</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
      <HTTPHeaderEntity name="sd" index="9">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>MjQtYml0</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
      <HTTPHeaderEntity name="sr" index="10">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>MTM2Nng3Njg=</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
      <HTTPHeaderEntity name="vp" index="11">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>MTM0OXg2NTc=</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
      <HTTPHeaderEntity name="je" index="12">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>MA==</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
      <HTTPHeaderEntity name="_u" index="13">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>WUVCQUFFQUJ+</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
      <HTTPHeaderEntity name="jid" index="14">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>MTk4OTAwMzE1</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
      <HTTPHeaderEntity name="gjid" index="15">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>MzA0MDM5MTA2</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
      <HTTPHeaderEntity name="cid" index="16">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>MTA2MDM1OTM2My4xNTYxMjk2MjI1</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
      <HTTPHeaderEntity name="tid" index="17">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>VUEtODM2OTU0MzAtMQ==</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
      <HTTPHeaderEntity name="_gid" index="18">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>MTQ2NDYzODA0NS4xNTYxMjk2MjI1</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
      <HTTPHeaderEntity name="_r" index="19">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>MQ==</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
      <HTTPHeaderEntity name="gtm" index="20">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>MndnNmMwVDVCSkdRQw==</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
      <HTTPHeaderEntity name="z" index="21">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>MTE5NTU2MDgwOQ==</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
    </HTTPSplittedQueryStrings>
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Host" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>d3d3Lmdvb2dsZS1hbmFseXRpY3MuY29t</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc1LjAuMzc3MC4xMDAgU2FmYXJpLzUzNy4zNg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aW1hZ2Uvd2VicCxpbWFnZS9hcG5nLGltYWdlLyosKi8qO3E9MC44</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cDovL3FhMS5ieXN0b3JlZC5jb20vY29udGFjdC11cw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZSwgYnI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVMsZW47cT0wLjk=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9yL2NvbGxlY3Q/dj0xJl92PWo3NiZhPTIwMzMyMTE5MzgmdD1wYWdldmlldyZfcz0xJmRsPWh0dHAlM0ElMkYlMkZxYTEuYnlzdG9yZWQuY29tJTJGY29udGFjdC11cyZ1bD1lbi11cyZkZT1VVEYtOCZkdD1Db250YWN0JTIwdXMlMjB0byUyMGdldCUyMHN0b3JhZ2UlMjAlMjYlMjByZW1vdmFscyUyMHJhdGVzJTdDJTIwU1RPUkVEJnNkPTI0LWJpdCZzcj0xMzY2eDc2OCZ2cD0xMzQ5eDY1NyZqZT0wJl91PVlFQkFBRUFCfiZqaWQ9MTk4OTAwMzE1JmdqaWQ9MzA0MDM5MTA2JmNpZD0xMDYwMzU5MzYzLjE1NjEyOTYyMjUmdGlkPVVBLTgzNjk1NDMwLTEmX2dpZD0xNDY0NjM4MDQ1LjE1NjEyOTYyMjUmX3I9MSZndG09MndnNmMwVDVCSkdRQyZ6PTExOTU1NjA4MDkgSFRUUC8xLjENCkhvc3Q6IHd3dy5nb29nbGUtYW5hbHl0aWNzLmNvbQ0KQ29ubmVjdGlvbjoga2VlcC1hbGl2ZQ0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc1LjAuMzc3MC4xMDAgU2FmYXJpLzUzNy4zNg0KQWNjZXB0OiBpbWFnZS93ZWJwLGltYWdlL2FwbmcsaW1hZ2UvKiwqLyo7cT0wLjgNClJlZmVyZXI6IGh0dHA6Ly9xYTEuYnlzdG9yZWQuY29tL2NvbnRhY3QtdXMNCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZSwgYnINCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMsZW47cT0wLjkNCg0K</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <contentLenght>35</contentLenght>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Access-Control-Allow-Origin" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Kg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>U3VuLCAyMyBKdW4gMjAxOSAxMzoyMzo0MyBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Pragma" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bm8tY2FjaGU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Expires" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>RnJpLCAwMSBKYW4gMTk5MCAwMDowMDowMCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bm8tY2FjaGUsIG5vLXN0b3JlLCBtdXN0LXJldmFsaWRhdGU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>U3VuLCAxNyBNYXkgMTk5OCAwMzowMDowMCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Content-Type-Options" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bm9zbmlmZg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Type" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aW1hZ2UvZ2lm</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Server" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R29sZmUy</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Length" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MzU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Alt-Svc" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cXVpYz0iOjQ0MyI7IG1hPTI1OTIwMDA7IHY9IjQ2LDQ0LDQzLDM5Ig==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW46ICoNCkRhdGU6IFN1biwgMjMgSnVuIDIwMTkgMTM6MjM6NDMgR01UDQpQcmFnbWE6IG5vLWNhY2hlDQpFeHBpcmVzOiBGcmksIDAxIEphbiAxOTkwIDAwOjAwOjAwIEdNVA0KQ2FjaGUtQ29udHJvbDogbm8tY2FjaGUsIG5vLXN0b3JlLCBtdXN0LXJldmFsaWRhdGUNCkxhc3QtTW9kaWZpZWQ6IFN1biwgMTcgTWF5IDE5OTggMDM6MDA6MDAgR01UDQpYLUNvbnRlbnQtVHlwZS1PcHRpb25zOiBub3NuaWZmDQpDb250ZW50LVR5cGU6IGltYWdlL2dpZg0KU2VydmVyOiBHb2xmZTINCkNvbnRlbnQtTGVuZ3RoOiAzNQ0KQWx0LVN2YzogcXVpYz0iOjQ0MyI7IG1hPTI1OTIwMDA7IHY9IjQ2LDQ0LDQzLDM5Ig0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>R0lGODlhAQABAID/AP///wAAACwAAAAAAQABAAACAkQBADs=</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="330102843" offset="0" length="424" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
  <HTTPTask id="1060" hostname="d30ogvso7rptmy.cloudfront.net" path="/build/browerHandle.bundle.min.js?v=3840000009" url="https://d30ogvso7rptmy.cloudfront.net/build/browerHandle.bundle.min.js?v=3840000009" ip="99.86.157.104" port="443" connectionId="19" origin="ExtraRes" frame="1" startDateTime="2019-06-23T18:24:39.610+05:00" startTime="330102875" endTime="330103031">
    <QueryString>
      <HTTPDataSet>
        <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
          <ActualData>dj0zODQwMDAwMDA5</ActualData>
        </HTTPData>
      </HTTPDataSet>
      <IsExternalData>false</IsExternalData>
    </QueryString>
    <HTTPSplittedQueryStrings>
      <HTTPHeaderEntity name="v" index="0">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>Mzg0MDAwMDAwOQ==</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
    </HTTPSplittedQueryStrings>
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Host" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZDMwb2d2c283cnB0bXkuY2xvdWRmcm9udC5uZXQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc1LjAuMzc3MC4xMDAgU2FmYXJpLzUzNy4zNg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ki8q</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cDovL3FhMS5ieXN0b3JlZC5jb20vY29udGFjdC11cw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZSwgYnI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVMsZW47cT0wLjk=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9idWlsZC9icm93ZXJIYW5kbGUuYnVuZGxlLm1pbi5qcz92PTM4NDAwMDAwMDkgSFRUUC8xLjENCkhvc3Q6IGQzMG9ndnNvN3JwdG15LmNsb3VkZnJvbnQubmV0DQpDb25uZWN0aW9uOiBrZWVwLWFsaXZlDQpVc2VyLUFnZW50OiBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNzUuMC4zNzcwLjEwMCBTYWZhcmkvNTM3LjM2DQpBY2NlcHQ6ICovKg0KUmVmZXJlcjogaHR0cDovL3FhMS5ieXN0b3JlZC5jb20vY29udGFjdC11cw0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlLCBicg0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUyxlbjtxPTAuOQ0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <contentLenght>6455</contentLenght>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Content-Type" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Length" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>NjQ1NQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>RnJpLCAyMSBKdW4gMjAxOSAwNjo0NTo1NSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Server" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QXBhY2hlLzIuNC4zMyAoVWJ1bnR1KQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>RnJpLCAyMSBKdW4gMjAxOSAwNjo0NToyOCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IjNmZjMtNThiY2ZjZWQ3MTNkZC1nemlwIg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Ranges" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ynl0ZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT0zMTUzNjAwMA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Expires" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>U2F0LCAyMCBKdW4gMjAyMCAwNjo0NTo1NSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Encoding" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Access-Control-Allow-Origin" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Kg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Vary" index="12">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Age" index="13">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MTk2NjY4</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Cache" index="14">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SGl0IGZyb20gY2xvdWRmcm9udA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Via" index="15">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MS4xIGVkNDVlZmViMTYzZjlmZmFjYTQyNTY0ZTg4ZWJjMTdlLmNsb3VkZnJvbnQubmV0IChDbG91ZEZyb250KQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Amz-Cf-Pop" index="16">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TVhQNjQtQzI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Amz-Cf-Id" index="17">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>OGxIZUEzZjZaclUzd3drbTJ6aW1fc0V3MXBnNDJtOVF5bXFFT1BFZkt3WXpaXzZNbEs4QTlRPT0=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2phdmFzY3JpcHQNCkNvbnRlbnQtTGVuZ3RoOiA2NDU1DQpDb25uZWN0aW9uOiBrZWVwLWFsaXZlDQpEYXRlOiBGcmksIDIxIEp1biAyMDE5IDA2OjQ1OjU1IEdNVA0KU2VydmVyOiBBcGFjaGUvMi40LjMzIChVYnVudHUpDQpMYXN0LU1vZGlmaWVkOiBGcmksIDIxIEp1biAyMDE5IDA2OjQ1OjI4IEdNVA0KRVRhZzogIjNmZjMtNThiY2ZjZWQ3MTNkZC1nemlwIg0KQWNjZXB0LVJhbmdlczogYnl0ZXMNCkNhY2hlLUNvbnRyb2w6IG1heC1hZ2U9MzE1MzYwMDANCkV4cGlyZXM6IFNhdCwgMjAgSnVuIDIwMjAgMDY6NDU6NTUgR01UDQpDb250ZW50LUVuY29kaW5nOiBnemlwDQpBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW46ICoNClZhcnk6IEFjY2VwdC1FbmNvZGluZw0KQWdlOiAxOTY2NjgNClgtQ2FjaGU6IEhpdCBmcm9tIGNsb3VkZnJvbnQNClZpYTogMS4xIGVkNDVlZmViMTYzZjlmZmFjYTQyNTY0ZTg4ZWJjMTdlLmNsb3VkZnJvbnQubmV0IChDbG91ZEZyb250KQ0KWC1BbXotQ2YtUG9wOiBNWFA2NC1DMg0KWC1BbXotQ2YtSWQ6IDhsSGVBM2Y2WnJVM3d3a20yemltX3NFdzFwZzQybTlReW1xRU9QRWZLd1l6Wl82TWxLOEE5UT09DQoNCg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>dmFyIGNvbnRhY3RNb2RhbCxjb250YWN0QnV0dG9uTG9hZGVyLGNvbnRhY3RGb3JtU2VjdGlvbixjb250YWN0Rm9ybVN1Y2Nlc3Msb3V0ZGF0ZWRGb3JtQnRuOyFmdW5jdGlvbihyLHUpeyJ1c2Ugc3RyaWN0Ijt2YXIgYz0iZnVuY3Rpb24iLGk9InVuZGVmaW5lZCIsbT0ib2JqZWN0IixlPSJtb2RlbCIscz0ibmFtZSIsbz0idHlwZSIsYT0idmVuZG9yIixuPSJ2ZXJzaW9uIix0PSJhcmNoaXRlY3R1cmUiLGQ9ImNvbnNvbGUiLGw9Im1vYmlsZSIsdz0idGFibGV0IixiPSJzbWFydHR2IixwPSJ3ZWFyYWJsZSIsZj17ZXh0ZW5kOmZ1bmN0aW9uKGksZSl7dmFyIHM9e307Zm9yKHZhciBvIGluIGkpZVtvXSYmZVtvXS5sZW5ndGglMj09MD9zW29dPWVbb10uY29uY2F0KGlbb10pOnNbb109aVtvXTtyZXR1cm4gc30saGFzOmZ1bmN0aW9uKGksZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBpJiYtMSE9PWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKGkudG9Mb3dlckNhc2UoKSl9LGxvd2VyaXplOmZ1bmN0aW9uKGkpe3JldHVybiBpLnRvTG93ZXJDYXNlKCl9LG1ham9yOmZ1bmN0aW9uKGkpe3JldHVybiJzdHJpbmciPT10eXBlb2YgaT9pLnJlcGxhY2UoL1teXGRcLl0vZywiIikuc3BsaXQoIi4iKVswXTp1fSx0cmltOmZ1bmN0aW9uKGkpe3JldHVybiBpLnJlcGxhY2UoL15bXHNcdUZFRkZceEEwXSt8W1xzXHVGRUZGXHhBMF0rJC9nLCIiKX19LGc9e3JneDpmdW5jdGlvbihpLGUpe2Zvcih2YXIgcyxvLHIsYSxuLHQsZD0wO2Q8ZS5sZW5ndGgmJiFuOyl7dmFyIGw9ZVtkXSx3PWVbZCsxXTtmb3Iocz1vPTA7czxsLmxlbmd0aCYmIW47KWlmKG49bFtzKytdLmV4ZWMoaSkpZm9yKHI9MDtyPHcubGVuZ3RoO3IrKyl0PW5bKytvXSx0eXBlb2YoYT13W3JdKT09PW0mJjA8YS5sZW5ndGg/Mj09YS5sZW5ndGg/dHlwZW9mIGFbMV09PWM/dGhpc1thWzBdXT1hWzFdLmNhbGwodGhpcyx0KTp0aGlzW2FbMF1dPWFbMV06Mz09YS5sZW5ndGg/dHlwZW9mIGFbMV0hPT1jfHxhWzFdLmV4ZWMmJmFbMV0udGVzdD90aGlzW2FbMF1dPXQ/dC5yZXBsYWNlKGFbMV0sYVsyXSk6dTp0aGlzW2FbMF1dPXQ/YVsxXS5jYWxsKHRoaXMsdCxhWzJdKTp1OjQ9PWEubGVuZ3RoJiYodGhpc1thWzBdXT10P2FbM10uY2FsbCh0aGlzLHQucmVwbGFjZShhWzFdLGFbMl0pKTp1KTp0aGlzW2FdPXR8fHU7ZCs9Mn19LHN0cjpmdW5jdGlvbihpLGUpe2Zvcih2YXIgcyBpbiBlKWlmKHR5cGVvZiBlW3NdPT09bSYmMDxlW3NdLmxlbmd0aCl7Zm9yKHZhciBvPTA7bzxlW3NdLmxlbmd0aDtvKyspaWYoZi5oYXMoZVtzXVtvXSxpKSlyZXR1cm4iPyI9PT1zP3U6c31lbHNlIGlmKGYuaGFzKGVbc10saSkpcmV0dXJuIj8iPT09cz91OnM7cmV0dXJuIGl9fSxoPXticm93c2VyOntvbGRzYWZhcmk6e3ZlcnNpb246eyIxLjAiOiIvOCIsMS4yOiIvMSIsMS4zOiIvMyIsIjIuMCI6Ii80MTIiLCIyLjAuMiI6Ii80MTYiLCIyLjAuMyI6Ii80MTciLCIyLjAuNCI6Ii80MTkiLCI/IjoiLyJ9fX0sZGV2aWNlOnthbWF6b246e21vZGVsOnsiRmlyZSBQaG9uZSI6WyJTRCIsIktGIl19fSxzcHJpbnQ6e21vZGVsOnsiRXZvIFNoaWZ0IDRHIjoiNzM3M0tUIn0sdmVuZG9yOntIVEM6IkFQQSIsU3ByaW50OiJTcHJpbnQifX19LG9zOnt3aW5kb3dzOnt2ZXJzaW9uOntNRToiNC45MCIsIk5UIDMuMTEiOiJOVDMuNTEiLCJOVCA0LjAiOiJOVDQuMCIsMmUzOiJOVCA1LjAiLFhQOlsiTlQgNS4xIiwiTlQgNS4yIl0sVmlzdGE6Ik5UIDYuMCIsNzoiTlQgNi4xIiw4OiJOVCA2LjIiLDguMToiTlQgNi4zIiwxMDpbIk5UIDYuNCIsIk5UIDEwLjAiXSxSVDoiQVJNIn19fX0sUz17YnJvd3NlcjpbWy8ob3BlcmFcc21pbmkpXC8oW1x3XC4tXSspL2ksLyhvcGVyYVxzW21vYmlsZXRhYl0rKS4rdmVyc2lvblwvKFtcd1wuLV0rKS9pLC8ob3BlcmEpLit2ZXJzaW9uXC8oW1x3XC5dKykvaSwvKG9wZXJhKVtcL1xzXSsoW1x3XC5dKykvaV0sW3Msbl0sWy8ob3Bpb3MpW1wvXHNdKyhbXHdcLl0rKS9pXSxbW3MsIk9wZXJhIE1pbmkiXSxuXSxbL1xzKG9wcilcLyhbXHdcLl0rKS9pXSxbW3MsIk9wZXJhIl0sbl0sWy8oa2luZGxlKVwvKFtcd1wuXSspL2ksLyhsdW5hc2NhcGV8bWF4dGhvbnxuZXRmcm9udHxqYXNtaW5lfGJsYXplcilbXC9cc10/KFtcd1wuXSopL2ksLyhhdmFudFxzfGllbW9iaWxlfHNsaW18YmFpZHUpKD86YnJvd3Nlcik/W1wvXHNdPyhbXHdcLl0qKS9pLC8oPzptc3xcKCkoaWUpXHMoW1x3XC5dKykvaSwvKHJla29ucSlcLyhbXHdcLl0qKS9pLC8oY2hyb21pdW18ZmxvY2t8cm9ja21lbHR8bWlkb3JpfGVwaXBoYW55fHNpbGt8c2t5ZmlyZXxvdmlicm93c2VyfGJvbHR8aXJvbnx2aXZhbGRpfGlyaWRpdW18cGhhbnRvbWpzfGJvd3NlcnxxdWFyaylcLyhbXHdcLi1dKykvaV0sW3Msbl0sWy8odHJpZGVudCkuK3J2Wzpcc10oW1x3XC5dKykuK2xpa2Vcc2dlY2tvL2ldLFtbcywiSUUiXSxuXSxbLyhlZGdlfGVkZ2lvc3xlZGdlYSlcLygoXGQrKT9bXHdcLl0rKS9pXSxbW3MsIkVkZ2UiXSxuXSxbLyh5YWJyb3dzZXIpXC8oW1x3XC5dKykvaV0sW1tzLCJZYW5kZXgiXSxuXSxbLyhwdWZmaW4pXC8oW1x3XC5dKykvaV0sW1tzLCJQdWZmaW4iXSxuXSxbLygoPzpbXHNcL10pdWM/XHM/YnJvd3NlcnwoPzpqdWMuKyl1Y3dlYilbXC9cc10/KFtcd1wuXSspL2ldLFtbcywiVUNCcm93c2VyIl0sbl0sWy8oY29tb2RvX2RyYWdvbilcLyhbXHdcLl0rKS9pXSxbW3MsL18vZywiICJdLG5dLFsvKG1pY3JvbWVzc2VuZ2VyKVwvKFtcd1wuXSspL2ldLFtbcywiV2VDaGF0Il0sbl0sWy8ocXFicm93c2VybGl0ZSlcLyhbXHdcLl0rKS9pXSxbcyxuXSxbLyhRUSlcLyhbXGRcLl0rKS9pXSxbcyxuXSxbL20/KHFxYnJvd3NlcilbXC9cc10/KFtcd1wuXSspL2ldLFtzLG5dLFsvKEJJRFVCcm93c2VyKVtcL1xzXT8oW1x3XC5dKykvaV0sW3Msbl0sWy8oMjM0NUV4cGxvcmVyKVtcL1xzXT8oW1x3XC5dKykvaV0sW3Msbl0sWy8oTWV0YVNyKVtcL1xzXT8oW1x3XC5dKykvaV0sW3NdLFsvKExCQlJPV1NFUikvaV0sW3NdLFsveGlhb21pXC9taXVpYnJvd3NlclwvKFtcd1wuXSspL2ldLFtuLFtzLCJNSVVJIEJyb3dzZXIiXV0sWy87ZmJhdlwvKFtcd1wuXSspOy9pXSxbbixbcywiRmFjZWJvb2siXV0sWy9oZWFkbGVzc2Nocm9tZSg/OlwvKFtcd1wuXSspfFxzKS9pXSxbbixbcywiQ2hyb21lIEhlYWRsZXNzIl1dLFsvXHN3dlwpLisoY2hyb21lKVwvKFtcd1wuXSspL2ldLFtbcywvKC4rKS8sIiQxIFdlYlZpZXciXSxuXSxbLygoPzpvY3VsdXN8c2Ftc3VuZylicm93c2VyKVwvKFtcd1wuXSspL2ldLFtbcywvKC4rKD86Z3x1cykpKC4rKS8sIiQxICQyIl0sbl0sWy9hbmRyb2lkLit2ZXJzaW9uXC8oW1x3XC5dKylccysoPzptb2JpbGVccz9zYWZhcml8c2FmYXJpKSovaV0sW24sW3MsIkFuZHJvaWQgQnJvd3NlciJdXSxbLyhjaHJvbWV8b21uaXdlYnxhcm9yYXxbdGl6ZW5va2FdezV9XHM/YnJvd3NlcilcL3Y/KFtcd1wuXSspL2ldLFtzLG5dLFsvKGRvbGZpbilcLyhbXHdcLl0rKS9pXSxbW3MsIkRvbHBoaW4iXSxuXSxbLygoPzphbmRyb2lkLispY3Jtb3xjcmlvcylcLyhbXHdcLl0rKS9pXSxbW3MsIkNocm9tZSJdLG5dLFsvKGNvYXN0KVwvKFtcd1wuXSspL2ldLFtbcywiT3BlcmEgQ29hc3QiXSxuXSxbL2Z4aW9zXC8oW1x3XC4tXSspL2ldLFtuLFtzLCJGaXJlZm94Il1dLFsvdmVyc2lvblwvKFtcd1wuXSspLis/bW9iaWxlXC9cdytccyhzYWZhcmkpL2ldLFtuLFtzLCJNb2JpbGUgU2FmYXJpIl1dLFsvdmVyc2lvblwvKFtcd1wuXSspLis/KG1vYmlsZVxzP3NhZmFyaXxzYWZhcmkpL2ldLFtuLHNdLFsvd2Via2l0Lis/KGdzYSlcLyhbXHdcLl0rKS4rPyhtb2JpbGVccz9zYWZhcml8c2FmYXJpKShcL1tcd1wuXSspL2ldLFtbcywiR1NBIl0sbl0sWy93ZWJraXQuKz8obW9iaWxlXHM/c2FmYXJpfHNhZmFyaSkoXC9bXHdcLl0rKS9pXSxbcyxbbixnLnN0cixoLmJyb3dzZXIub2xkc2FmYXJpLnZlcnNpb25dXSxbLyhrb25xdWVyb3IpXC8oW1x3XC5dKykvaSwvKHdlYmtpdHxraHRtbClcLyhbXHdcLl0rKS9pXSxbcyxuXSxbLyhuYXZpZ2F0b3J8bmV0c2NhcGUpXC8oW1x3XC4tXSspL2ldLFtbcywiTmV0c2NhcGUiXSxuXSxbLyhzd2lmdGZveCkvaSwvKGljZWRyYWdvbnxpY2V3ZWFzZWx8Y2FtaW5vfGNoaW1lcmF8ZmVubmVjfG1hZW1vXHNicm93c2VyfG1pbmltb3xjb25rZXJvcilbXC9cc10/KFtcd1wuXCtdKykvaSwvKGZpcmVmb3h8c2VhbW9ua2V5fGstbWVsZW9ufGljZWNhdHxpY2VhcGV8ZmlyZWJpcmR8cGhvZW5peHxwYWxlbW9vbnxiYXNpbGlza3x3YXRlcmZveClcLyhbXHdcLi1dKykkL2ksLyhtb3ppbGxhKVwvKFtcd1wuXSspLitydlw6LitnZWNrb1wvXGQrL2ksLyhwb2xhcmlzfGx5bnh8ZGlsbG98aWNhYnxkb3Jpc3xhbWF5YXx3M218bmV0c3VyZnxzbGVpcG5pcilbXC9cc10/KFtcd1wuXSspL2ksLyhsaW5rcylcc1woKFtcd1wuXSspL2ksLyhnb2Jyb3dzZXIpXC8/KFtcd1wuXSopL2ksLyhpY2Vccz9icm93c2VyKVwvdj8oW1x3XC5fXSspL2ksLyhtb3NhaWMpW1wvXHNdKFtcd1wuXSspL2ldLFtzLG5dXSxjcHU6W1svKD86KGFtZHx4KD86KD86ODZ8NjQpW18tXSk/fHdvd3x3aW4pNjQpWztcKV0vaV0sW1t0LCJhbWQ2NCJdXSxbLyhpYTMyKD89OykpL2ldLFtbdCxmLmxvd2VyaXplXV0sWy8oKD86aVszNDZdfHgpODYpWztcKV0vaV0sW1t0LCJpYTMyIl1dLFsvd2luZG93c1xzKGNlfG1vYmlsZSk7XHNwcGM7L2ldLFtbdCwiYXJtIl1dLFsvKCg/OnBwY3xwb3dlcnBjKSg/OjY0KT8pKD86XHNtYWN8O3xcKSkvaV0sW1t0LC9vd2VyLywiIixmLmxvd2VyaXplXV0sWy8oc3VuNFx3KVs7XCldL2ldLFtbdCwic3BhcmMiXV0sWy8oKD86YXZyMzJ8aWE2NCg/PTspKXw2OGsoPz1cKSl8YXJtKD86NjR8KD89dlxkKzspKXwoPz1hdG1lbFxzKWF2cnwoPzppcml4fG1pcHN8c3BhcmMpKD86NjQpPyg/PTspfHBhLXJpc2MpL2ldLFtbdCxmLmxvd2VyaXplXV1dLGRldmljZTpbWy9cKChpcGFkfHBsYXlib29rKTtbXHdcc1wpOy1dKyhyaW18YXBwbGUpL2ldLFtlLGEsW28sd11dLFsvYXBwbGVjb3JlbWVkaWFcL1tcd1wuXSsgXCgoaXBhZCkvXSxbZSxbYSwiQXBwbGUiXSxbbyx3XV0sWy8oYXBwbGVcc3swLDF9dHYpL2ldLFtbZSwiQXBwbGUgVFYiXSxbYSwiQXBwbGUiXV0sWy8oYXJjaG9zKVxzKGdhbWVwYWQyPykvaSwvKGhwKS4rKHRvdWNocGFkKS9pLC8oaHApLisodGFibGV0KS9pLC8oa2luZGxlKVwvKFtcd1wuXSspL2ksL1xzKG5vb2spW1x3XHNdK2J1aWxkXC8oXHcrKS9pLC8oZGVsbClccyhzdHJlYVtrcHJcc1xkXSpbXGRrb10pL2ldLFthLGUsW28sd11dLFsvKGtmW0Etel0rKVxzYnVpbGRcLy4rc2lsa1wvL2ldLFtlLFthLCJBbWF6b24iXSxbbyx3XV0sWy8oc2R8a2YpWzAzNDloaWpvcnN0dXddK1xzYnVpbGRcLy4rc2lsa1wvL2ldLFtbZSxnLnN0cixoLmRldmljZS5hbWF6b24ubW9kZWxdLFthLCJBbWF6b24iXSxbbyxsXV0sWy9cKChpcFtob25lZHxcc1x3Kl0rKTsuKyhhcHBsZSkvaV0sW2UsYSxbbyxsXV0sWy9cKChpcFtob25lZHxcc1x3Kl0rKTsvaV0sW2UsW2EsIkFwcGxlIl0sW28sbF1dLFsvKGJsYWNrYmVycnkpW1xzLV0/KFx3KykvaSwvKGJsYWNrYmVycnl8YmVucXxwYWxtKD89XC0pfHNvbnllcmljc3NvbnxhY2VyfGFzdXN8ZGVsbHxtZWl6dXxtb3Rvcm9sYXxwb2x5dHJvbilbXHNfLV0/KFtcdy1dKikvaSwvKGhwKVxzKFtcd1xzXStcdykvaSwvKGFzdXMpLT8oXHcrKS9pXSxbYSxlLFtvLGxdXSxbL1woYmIxMDtccyhcdyspL2ldLFtlLFthLCJCbGFja0JlcnJ5Il0sW28sbF1dLFsvYW5kcm9pZC4rKHRyYW5zZm9bcHJpbWVcc117NCwxMH1cc1x3K3xlZWVwY3xzbGlkZXJcc1x3K3xuZXh1cyA3fHBhZGZvbmUpL2ldLFtlLFthLCJBc3VzIl0sW28sd11dLFsvKHNvbnkpXHModGFibGV0XHNbcHNdKVxzYnVpbGRcLy9pLC8oc29ueSk/KD86c2dwLispXHNidWlsZFwvL2ldLFtbYSwiU29ueSJdLFtlLCJYcGVyaWEgVGFibGV0Il0sW28sd11dLFsvYW5kcm9pZC4rXHMoW2MtZ11cZHs0fXxzb1stbF1cdyspXHNidWlsZFwvL2ldLFtlLFthLCJTb255Il0sW28sbF1dLFsvXHMob3V5YSlccy9pLC8obmludGVuZG8pXHMoW3dpZHMzdV0rKS9pXSxbYSxlLFtvLGRdXSxbL2FuZHJvaWQuKztccyhzaGllbGQpXHNidWlsZC9pXSxbZSxbYSwiTnZpZGlhIl0sW28sZF1dLFsvKHBsYXlzdGF0aW9uXHNbMzRwb3J0YWJsZXZpXSspL2ldLFtlLFthLCJTb255Il0sW28sZF1dLFsvKHNwcmludFxzKFx3KykpL2ldLFtbYSxnLnN0cixoLmRldmljZS5zcHJpbnQudmVuZG9yXSxbZSxnLnN0cixoLmRldmljZS5zcHJpbnQubW9kZWxdLFtvLGxdXSxbLyhsZW5vdm8pXHM/KFMoPzo1MDAwfDYwMDApKyg/OlstXVtcdytdKSkvaV0sW2EsZSxbbyx3XV0sWy8oaHRjKVs7X1xzLV0rKFtcd1xzXSsoPz1cKSl8XHcrKSovaSwvKHp0ZSktKFx3KikvaSwvKGFsY2F0ZWx8Z2Vla3NwaG9uZXxsZW5vdm98bmV4aWFufHBhbmFzb25pY3woPz07XHMpc29ueSlbX1xzLV0/KFtcdy1dKikvaV0sW2EsW2UsL18vZywiICJdLFtvLGxdXSxbLyhuZXh1c1xzOSkvaV0sW2UsW2EsIkhUQyJdLFtvLHddXSxbL2RcL2h1YXdlaShbXHdccy1dKylbO1wpXS9pLC8obmV4dXNcczZwKS9pXSxbZSxbYSwiSHVhd2VpIl0sW28sbF1dLFsvKG1pY3Jvc29mdCk7XHMobHVtaWFbXHNcd10rKS9pXSxbYSxlLFtvLGxdXSxbL1tcc1woO10oeGJveCg/Olxzb25lKT8pW1xzXCk7XS9pXSxbZSxbYSwiTWljcm9zb2Z0Il0sW28sZF1dLFsvKGtpblwuW29uZXR3XXszfSkvaV0sW1tlLC9cLi9nLCIgIl0sW2EsIk1pY3Jvc29mdCJdLFtvLGxdXSxbL1xzKG1pbGVzdG9uZXxkcm9pZCg/OlsyLTR4XXxccyg/OmJpb25pY3x4Mnxwcm98cmF6cikpPzo/KFxzNGcpPylbXHdcc10rYnVpbGRcLy9pLC9tb3RbXHMtXT8oXHcqKS9pLC8oWFRcZHszLDR9KSBidWlsZFwvL2ksLyhuZXh1c1xzNikvaV0sW2UsW2EsIk1vdG9yb2xhIl0sW28sbF1dLFsvYW5kcm9pZC4rXHMobXo2MFxkfHhvb21bXHMyXXswLDJ9KVxzYnVpbGRcLy9pXSxbZSxbYSwiTW90b3JvbGEiXSxbbyx3XV0sWy9oYmJ0dlwvXGQrXC5cZCtcLlxkK1xzK1woW1x3XHNdKjtccyooXHdbXjtdKik7KFteO10qKS9pXSxbW2EsZi50cmltXSxbZSxmLnRyaW1dLFtvLGJdXSxbL2hiYnR2LittYXBsZTsoXGQrKS9pXSxbW2UsL14vLCJTbWFydFRWIl0sW2EsIlNhbXN1bmciXSxbbyxiXV0sWy9cKGR0dltcKTtdLisoYXF1b3MpL2ldLFtlLFthLCJTaGFycCJdLFtvLGJdXSxbL2FuZHJvaWQuKygoc2NoLWlbODldMFxkfHNody1tMzgwc3xndC1wXGR7NH18Z3QtblxkK3xzZ2gtdDhbNTZdOXxuZXh1cyAxMCkpL2ksLygoU00tVFx3KykpL2ldLFtbYSwiU2Ftc3VuZyJdLGUsW28sd11dLFsvc21hcnQtdHYuKyhzYW1zdW5nKS9pXSxbYSxbbyxiXSxlXSxbLygoc1tjZ3BdaC1cdyt8Z3QtXHcrfGdhbGF4eVxzbmV4dXN8c20tXHdbXHdcZF0rKSkvaSwvKHNhbVtzdW5nXSopW1xzLV0qKFx3Ky0/W1x3LV0qKS9pLC9zZWMtKChzZ2hcdyspKS9pXSxbW2EsIlNhbXN1bmciXSxlLFtvLGxdXSxbL3NpZS0oXHcqKS9pXSxbZSxbYSwiU2llbWVucyJdLFtvLGxdXSxbLyhtYWVtb3xub2tpYSkuKihuOTAwfGx1bWlhXHNcZCspL2ksLyhub2tpYSlbXHNfLV0/KFtcdy1dKikvaV0sW1thLCJOb2tpYSJdLGUsW28sbF1dLFsvYW5kcm9pZFxzM1wuW1xzXHc7LV17MTB9KGFcZHszfSkvaV0sW2UsW2EsIkFjZXIiXSxbbyx3XV0sWy9hbmRyb2lkLisoW3ZsXWtcLT9cZHszfSlccytidWlsZC9pXSxbZSxbYSwiTEciXSxbbyx3XV0sWy9hbmRyb2lkXHMzXC5bXHNcdzstXXsxMH0obGc/KS0oWzA2Y3Y5XXszLDR9KS9pXSxbW2EsIkxHIl0sZSxbbyx3XV0sWy8obGcpIG5ldGNhc3RcLnR2L2ldLFthLGUsW28sYl1dLFsvKG5leHVzXHNbNDVdKS9pLC9sZ1tlO1xzXC8tXSsoXHcqKS9pLC9hbmRyb2lkLitsZyhcLT9bXGRcd10rKVxzK2J1aWxkL2ldLFtlLFthLCJMRyJdLFtvLGxdXSxbL2FuZHJvaWQuKyhpZGVhdGFiW2EtejAtOVwtXHNdKykvaV0sW2UsW2EsIkxlbm92byJdLFtvLHddXSxbL2xpbnV4Oy4rKChqb2xsYSkpOy9pXSxbYSxlLFtvLGxdXSxbLygocGViYmxlKSlhcHBcL1tcZFwuXStccy9pXSxbYSxlLFtvLHBdXSxbL2FuZHJvaWQuKztccyhvcHBvKVxzPyhbXHdcc10rKVxzYnVpbGQvaV0sW2EsZSxbbyxsXV0sWy9jcmtleS9pXSxbW2UsIkNocm9tZWNhc3QiXSxbYSwiR29vZ2xlIl1dLFsvYW5kcm9pZC4rO1xzKGdsYXNzKVxzXGQvaV0sW2UsW2EsIkdvb2dsZSJdLFtvLHBdXSxbL2FuZHJvaWQuKztccyhwaXhlbCBjKVxzL2ldLFtlLFthLCJHb29nbGUiXSxbbyx3XV0sWy9hbmRyb2lkLis7XHMocGl4ZWwgeGx8cGl4ZWwpXHMvaV0sW2UsW2EsIkdvb2dsZSJdLFtvLGxdXSxbL2FuZHJvaWQuKztccyhcdyspXHMrYnVpbGRcL2htXDEvaSwvYW5kcm9pZC4rKGhtW1xzXC1fXSpub3RlP1tcc19dKig/OlxkXHcpPylccytidWlsZC9pLC9hbmRyb2lkLisobWlbXHNcLV9dKig/Om9uZXxvbmVbXHNfXXBsdXN8bm90ZSBsdGUpP1tcc19dKig/OlxkP1x3PylbXHNfXSooPzpwbHVzKT8pXHMrYnVpbGQvaSwvYW5kcm9pZC4rKHJlZG1pW1xzXC1fXSooPzpub3RlKT8oPzpbXHNfXSpbXHdcc10rKSlccytidWlsZC9pXSxbW2UsL18vZywiICJdLFthLCJYaWFvbWkiXSxbbyxsXV0sWy9hbmRyb2lkLisobWlbXHNcLV9dKig/OnBhZCkoPzpbXHNfXSpbXHdcc10rKSlccytidWlsZC9pXSxbW2UsL18vZywiICJdLFthLCJYaWFvbWkiXSxbbyx3XV0sWy9hbmRyb2lkLis7XHMobVsxLTVdXHNub3RlKVxzYnVpbGQvaV0sW2UsW2EsIk1laXp1Il0sW28sd11dLFsvYW5kcm9pZC4rYTAwMCgxKVxzK2J1aWxkL2ksL2FuZHJvaWQuK29uZXBsdXNccyhhXGR7NH0pXHMrYnVpbGQvaV0sW2UsW2EsIk9uZVBsdXMiXSxbbyxsXV0sWy9hbmRyb2lkLitbO1wvXVxzKihSQ1RbXGRcd10rKVxzK2J1aWxkL2ldLFtlLFthLCJSQ0EiXSxbbyx3XV0sWy9hbmRyb2lkLitbO1wvXHNdKyhWZW51ZVtcZFxzXXsyLDd9KVxzK2J1aWxkL2ldLFtlLFthLCJEZWxsIl0sW28sd11dLFsvYW5kcm9pZC4rWztcL11ccyooUVtUfE1dW1xkXHddKylccytidWlsZC9pXSxbZSxbYSwiVmVyaXpvbiJdLFtvLHddXSxbL2FuZHJvaWQuK1s7XC9dXHMrKEJhcm5lc1smXHNdK05vYmxlXHMrfEJOW1JUXSkoVj8uKilccytidWlsZC9pXSxbW2EsIkJhcm5lcyAmIE5vYmxlIl0sZSxbbyx3XV0sWy9hbmRyb2lkLitbO1wvXVxzKyhUTVxkezN9LipcYilccytidWlsZC9pXSxbZSxbYSwiTnVWaXNpb24iXSxbbyx3XV0sWy9hbmRyb2lkLis7XHMoazg4KVxzYnVpbGQvaV0sW2UsW2EsIlpURSJdLFtvLHddXSxbL2FuZHJvaWQuK1s7XC9dXHMqKGdlblxkezN9KVxzK2J1aWxkLio0OWgvaV0sW2UsW2EsIlN3aXNzIl0sW28sbF1dLFsvYW5kcm9pZC4rWztcL11ccyooenVyXGR7M30pXHMrYnVpbGQvaV0sW2UsW2EsIlN3aXNzIl0sW28sd11dLFsvYW5kcm9pZC4rWztcL11ccyooKFpla2kpP1RCLipcYilccytidWlsZC9pXSxbZSxbYSwiWmVraSJdLFtvLHddXSxbLyhhbmRyb2lkKS4rWztcL11ccysoW1lSXVxkezJ9KVxzK2J1aWxkL2ksL2FuZHJvaWQuK1s7XC9dXHMrKERyYWdvbltcLVxzXStUb3VjaFxzK3xEVCkoXHd7NX0pXHNidWlsZC9pXSxbW2EsIkRyYWdvbiBUb3VjaCJdLGUsW28sd11dLFsvYW5kcm9pZC4rWztcL11ccyooTlMtP1x3ezAsOX0pXHNidWlsZC9pXSxbZSxbYSwiSW5zaWduaWEiXSxbbyx3XV0sWy9hbmRyb2lkLitbO1wvXVxzKigoTlh8TmV4dCktP1x3ezAsOX0pXHMrYnVpbGQvaV0sW2UsW2EsIk5leHRCb29rIl0sW28sd11dLFsvYW5kcm9pZC4rWztcL11ccyooWHRyZW1lXF8pPyhWKDFbMDQ1XXwyWzAxNV18MzB8NDB8NjB8N1swNV18OTApKVxzK2J1aWxkL2ldLFtbYSwiVm9pY2UiXSxlLFtvLGxdXSxbL2FuZHJvaWQuK1s7XC9dXHMqKExWVEVMXC0pPyhWMVsxMl0pXHMrYnVpbGQvaV0sW1thLCJMdlRlbCJdLGUsW28sbF1dLFsvYW5kcm9pZC4rWztcL11ccyooVigxMDBNRHw3MDBOQXw3MDExfDkxN0cpLipcYilccytidWlsZC9pXSxbZSxbYSwiRW52aXplbiJdLFtvLHddXSxbL2FuZHJvaWQuK1s7XC9dXHMqKExlW1xzXC1dK1BhbilbXHNcLV0rKFx3ezEsOX0pXHMrYnVpbGQvaV0sW2EsZSxbbyx3XV0sWy9hbmRyb2lkLitbO1wvXVxzKihUcmlvW1xzXC1dKi4qKVxzK2J1aWxkL2ldLFtlLFthLCJNYWNoU3BlZWQiXSxbbyx3XV0sWy9hbmRyb2lkLitbO1wvXVxzKihUcmluaXR5KVtcLVxzXSooVFxkezN9KVxzK2J1aWxkL2ldLFthLGUsW28sd11dLFsvYW5kcm9pZC4rWztcL11ccypUVV8oMTQ5MSlccytidWlsZC9pXSxbZSxbYSwiUm90b3IiXSxbbyx3XV0sWy9hbmRyb2lkLisoS1MoLispKVxzK2J1aWxkL2ldLFtlLFthLCJBbWF6b24iXSxbbyx3XV0sWy9hbmRyb2lkLisoR2lnYXNldClbXHNcLV0rKFFcd3sxLDl9KVxzK2J1aWxkL2ldLFthLGUsW28sd11dLFsvXHModGFibGV0fHRhYilbO1wvXS9pLC9ccyhtb2JpbGUpKD86WztcL118XHNzYWZhcmkpL2ldLFtbbyxmLmxvd2VyaXplXSxhLGVdLFsvKGFuZHJvaWRbXHdcLlxzXC1dezAsOX0pOy4rYnVpbGQvaV0sW2UsW2EsIkdlbmVyaWMiXV1dLGVuZ2luZTpbWy93aW5kb3dzLitcc2VkZ2VcLyhbXHdcLl0rKS9pXSxbbixbcywiRWRnZUhUTUwiXV0sWy8ocHJlc3RvKVwvKFtcd1wuXSspL2ksLyh3ZWJraXR8dHJpZGVudHxuZXRmcm9udHxuZXRzdXJmfGFtYXlhfGx5bnh8dzNtKVwvKFtcd1wuXSspL2ksLyhraHRtbHx0YXNtYW58bGlua3MpW1wvXHNdXCg/KFtcd1wuXSspL2ksLyhpY2FiKVtcL1xzXShbMjNdXC5bXGRcLl0rKS9pXSxbcyxuXSxbL3J2XDooW1x3XC5dezEsOX0pLisoZ2Vja28pL2ldLFtuLHNdXSxvczpbWy9taWNyb3NvZnRccyh3aW5kb3dzKVxzKHZpc3RhfHhwKS9pXSxbcyxuXSxbLyh3aW5kb3dzKVxzbnRcczZcLjI7XHMoYXJtKS9pLC8od2luZG93c1xzcGhvbmUoPzpcc29zKSopW1xzXC9dPyhbXGRcLlxzXHddKikvaSwvKHdpbmRvd3Ncc21vYmlsZXx3aW5kb3dzKVtcc1wvXT8oW250Y2VcZFwuXHNdK1x3KS9pXSxbcyxbbixnLnN0cixoLm9zLndpbmRvd3MudmVyc2lvbl1dLFsvKHdpbig/PTN8OXxuKXx3aW5cczl4XHMpKFtudFxkXC5dKykvaV0sW1tzLCJXaW5kb3dzIl0sW24sZy5zdHIsaC5vcy53aW5kb3dzLnZlcnNpb25dXSxbL1woKGJiKSgxMCk7L2ldLFtbcywiQmxhY2tCZXJyeSJdLG5dLFsvKGJsYWNrYmVycnkpXHcqXC8/KFtcd1wuXSopL2ksLyh0aXplbilbXC9cc10oW1x3XC5dKykvaSwvKGFuZHJvaWR8d2Vib3N8cGFsbVxzb3N8cW54fGJhZGF8cmltXHN0YWJsZXRcc29zfG1lZWdvfGNvbnRpa2kpW1wvXHMtXT8oW1x3XC5dKikvaSwvbGludXg7Lisoc2FpbGZpc2gpOy9pXSxbcyxuXSxbLyhzeW1iaWFuXHM/b3N8c3ltYm9zfHM2MCg/PTspKVtcL1xzLV0/KFtcd1wuXSopL2ldLFtbcywiU3ltYmlhbiJdLG5dLFsvXCgoc2VyaWVzNDApOy9pXSxbc10sWy9tb3ppbGxhLitcKG1vYmlsZTsuK2dlY2tvLitmaXJlZm94L2ldLFtbcywiRmlyZWZveCBPUyJdLG5dLFsvKG5pbnRlbmRvfHBsYXlzdGF0aW9uKVxzKFt3aWRzMzRwb3J0YWJsZXZ1XSspL2ksLyhtaW50KVtcL1xzXChdPyhcdyopL2ksLyhtYWdlaWF8dmVjdG9ybGludXgpWztcc10vaSwvKGpvbGl8W2t4bG5dP3VidW50dXxkZWJpYW58c3VzZXxvcGVuc3VzZXxnZW50b298KD89XHMpYXJjaHxzbGFja3dhcmV8ZmVkb3JhfG1hbmRyaXZhfGNlbnRvc3xwY2xpbnV4b3N8cmVkaGF0fHplbndhbGt8bGlucHVzKVtcL1xzLV0/KD8hY2hyb20pKFtcd1wuLV0qKS9pLC8oaHVyZHxsaW51eClccz8oW1x3XC5dKikvaSwvKGdudSlccz8oW1x3XC5dKikvaV0sW3Msbl0sWy8oY3Jvcylcc1tcd10rXHMoW1x3XC5dK1x3KS9pXSxbW3MsIkNocm9taXVtIE9TIl0sbl0sWy8oc3Vub3MpXHM/KFtcd1wuXGRdKikvaV0sW1tzLCJTb2xhcmlzIl0sbl0sWy9ccyhbZnJlbnRvcGMtXXswLDR9YnNkfGRyYWdvbmZseSlccz8oW1x3XC5dKikvaV0sW3Msbl0sWy8oaGFpa3UpXHMoXHcrKS9pXSxbcyxuXSxbL2NmbmV0d29ya1wvLitkYXJ3aW4vaSwvaXBbaG9uZWFkXXsyLDR9KD86Lipvc1xzKFtcd10rKVxzbGlrZVxzbWFjfDtcc29wZXJhKS9pXSxbW24sL18vZywiLiJdLFtzLCJpT1MiXV0sWy8obWFjXHNvc1xzeClccz8oW1x3XHNcLl0qKS9pLC8obWFjaW50b3NofG1hYyg/PV9wb3dlcnBjKVxzKS9pXSxbW3MsIk1hYyBPUyJdLFtuLC9fL2csIi4iXV0sWy8oKD86b3Blbik/c29sYXJpcylbXC9ccy1dPyhbXHdcLl0qKS9pLC8oYWl4KVxzKChcZCkoPz1cLnxcKXxccylbXHdcLl0pKi9pLC8ocGxhblxzOXxtaW5peHxiZW9zfG9zXC8yfGFtaWdhb3N8bW9ycGhvc3xyaXNjXHNvc3xvcGVudm1zKS9pLC8odW5peClccz8oW1x3XC5dKikvaV0sW3Msbl1dfSx2PWZ1bmN0aW9uKGksZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBpJiYoZT1pLGk9dSksISh0aGlzIGluc3RhbmNlb2YgdikpcmV0dXJuIG5ldyB2KGksZSkuZ2V0UmVzdWx0KCk7dmFyIHM9aXx8KHImJnIubmF2aWdhdG9yJiZyLm5hdmlnYXRvci51c2VyQWdlbnQ/ci5uYXZpZ2F0b3IudXNlckFnZW50OiIiKSxvPWU/Zi5leHRlbmQoUyxlKTpTO3JldHVybiB0aGlzLmdldEJyb3dzZXI9ZnVuY3Rpb24oKXt2YXIgaT17bmFtZTp1LHZlcnNpb246dX07cmV0dXJuIGcucmd4LmNhbGwoaSxzLG8uYnJvd3NlciksaS5tYWpvcj1mLm1ham9yKGkudmVyc2lvbiksaX0sdGhpcy5nZXRDUFU9ZnVuY3Rpb24oKXt2YXIgaT17YXJjaGl0ZWN0dXJlOnV9O3JldHVybiBnLnJneC5jYWxsKGkscyxvLmNwdSksaX0sdGhpcy5nZXREZXZpY2U9ZnVuY3Rpb24oKXt2YXIgaT17dmVuZG9yOnUsbW9kZWw6dSx0eXBlOnV9O3JldHVybiBnLnJneC5jYWxsKGkscyxvLmRldmljZSksaX0sdGhpcy5nZXRFbmdpbmU9ZnVuY3Rpb24oKXt2YXIgaT17bmFtZTp1LHZlcnNpb246dX07cmV0dXJuIGcucmd4LmNhbGwoaSxzLG8uZW5naW5lKSxpfSx0aGlzLmdldE9TPWZ1bmN0aW9uKCl7dmFyIGk9e25hbWU6dSx2ZXJzaW9uOnV9O3JldHVybiBnLnJneC5jYWxsKGkscyxvLm9zKSxpfSx0aGlzLmdldFJlc3VsdD1mdW5jdGlvbigpe3JldHVybnt1YTp0aGlzLmdldFVBKCksYnJvd3Nlcjp0aGlzLmdldEJyb3dzZXIoKSxlbmdpbmU6dGhpcy5nZXRFbmdpbmUoKSxvczp0aGlzLmdldE9TKCksZGV2aWNlOnRoaXMuZ2V0RGV2aWNlKCksY3B1OnRoaXMuZ2V0Q1BVKCl9fSx0aGlzLmdldFVBPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LHRoaXMuc2V0VUE9ZnVuY3Rpb24oaSl7cmV0dXJuIHM9aSx0aGlzfSx0aGlzfTt2LlZFUlNJT049IjAuNy4xOCIsdi5CUk9XU0VSPXtOQU1FOnMsTUFKT1I6Im1ham9yIixWRVJTSU9OOm59LHYuQ1BVPXtBUkNISVRFQ1RVUkU6dH0sdi5ERVZJQ0U9e01PREVMOmUsVkVORE9SOmEsVFlQRTpvLENPTlNPTEU6ZCxNT0JJTEU6bCxTTUFSVFRWOmIsVEFCTEVUOncsV0VBUkFCTEU6cCxFTUJFRERFRDoiZW1iZWRkZWQifSx2LkVOR0lORT17TkFNRTpzLFZFUlNJT046bn0sdi5PUz17TkFNRTpzLFZFUlNJT046bn0sdHlwZW9mIGV4cG9ydHMhPT1pPyh0eXBlb2YgbW9kdWxlIT09aSYmbW9kdWxlLmV4cG9ydHMmJihleHBvcnRzPW1vZHVsZS5leHBvcnRzPXYpLGV4cG9ydHMuVUFQYXJzZXI9dik6dHlwZW9mIGRlZmluZT09PWMmJmRlZmluZS5hbWQ/ZGVmaW5lKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KTpyJiYoci5VQVBhcnNlcj12KTt2YXIgVD1yJiYoci5qUXVlcnl8fHIuWmVwdG8pO2lmKHR5cGVvZiBUIT09aSl7dmFyIHg9bmV3IHY7VC51YT14LmdldFJlc3VsdCgpLFQudWEuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHguZ2V0VUEoKX0sVC51YS5zZXQ9ZnVuY3Rpb24oaSl7eC5zZXRVQShpKTt2YXIgZT14LmdldFJlc3VsdCgpO2Zvcih2YXIgcyBpbiBlKVQudWFbc109ZVtzXX19fSgib2JqZWN0Ij09dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyk7dmFyIHBhcnNlcj1uZXcgVUFQYXJzZXIsY3VyckJyb3dzZXI9cGFyc2VyLmdldFJlc3VsdCgpLEJfTElTVD17Q0hST01FOiJDaHJvbWUiLFNBRkFSSToiU2FmYXJpIixGSVJFRk9YOiJGaXJlZm94IixJRToiSUUiLEVER0U6IkVkZ2UifSxPU19MSVNUPXtXSU5ET1dTOiJXaW5kb3dzIixBTkRST0lEOiJBbmRyb2lkIixNQUNfT1M6Ik1hYyBPUyIsSU9TOiJpT1MiLExJTlVYOiJMaW51eCJ9LERfVFlQRVM9e21vYmlsZToibW9iaWxlIix0YWJsZXQ6InRhYmxldCJ9LE9fQlJPV1NFUlM9W3tuYW1lOkJfTElTVC5DSFJPTUUsb3M6T1NfTElTVC5MSU5VWCx2ZXI6NDF9LHtuYW1lOkJfTElTVC5DSFJPTUUsb3M6T1NfTElTVC5BTkRST0lELHZlcjo0MX0se25hbWU6Ql9MSVNULkNIUk9NRSxvczpPU19MSVNULldJTkRPV1MsdmVyOjQ4fSx7bmFtZTpCX0xJU1QuQ0hST01FLG9zOk9TX0xJU1QuTUFDX09TLHZlcjo0OH0se25hbWU6Ql9MSVNULlNBRkFSSSxvczpPU19MSVNULklPUyx2ZXI6OX0se25hbWU6Ql9MSVNULlNBRkFSSSxvczpPU19MSVNULk1BQ19PUyx2ZXI6OX0se25hbWU6Ql9MSVNULkZJUkVGT1gsb3M6T1NfTElTVC5JT1MsdmVyOjl9LHtuYW1lOkJfTElTVC5GSVJFRk9YLG9zOk9TX0xJU1QuTUFDX09TLHZlcjo0Nn0se25hbWU6Ql9MSVNULkZJUkVGT1gsb3M6T1NfTElTVC5XSU5ET1dTLHZlcjo0Nn0se25hbWU6Ql9MSVNULkZJUkVGT1gsb3M6T1NfTElTVC5BTkRST0lELHZlcjo0Nn0se25hbWU6Ql9MSVNULklFLG9zOk9TX0xJU1QuV0lORE9XUyx2ZXI6MTF9LHtuYW1lOkJfTElTVC5FREdFLG9zOk9TX0xJU1QuV0lORE9XUyx2ZXI6MTV9XSxmaWx0ZXJlZEJyb3dzZXJzPU9fQlJPV1NFUlMuZmlsdGVyKGZ1bmN0aW9uKGkpe3JldHVybiBpLm5hbWU9PWN1cnJCcm93c2VyLmJyb3dzZXIubmFtZSYmaS5vcz09Y3VyckJyb3dzZXIub3MubmFtZSYmaS52ZXI+Y3VyckJyb3dzZXIuYnJvd3Nlci5tYWpvcn0pO2ZpbHRlcmVkQnJvd3NlcnMubGVuZ3RoJiYkKCIjb3V0ZGF0ZWQiKS5sb2FkKCIvb3V0ZGF0ZS1icm93ZXIiLGZ1bmN0aW9uKCl7Y29udGFjdEZvcm1TZWN0aW9uPSQoIiNvdXRkYXRlLWJyb3dzZXItZm9ybS1zZWN0aW9uIiksY29udGFjdEZvcm1TdWNjZXNzPSQoIiNvdXRkYXRlLWJyb3dzZXItZm9ybS1zdWNjZXNzIiksY29udGFjdE1vZGFsPSQoIiNvdXRkYXRlLWJyb3dzZXItbW9kYWwiKSxjb250YWN0QnV0dG9uTG9hZGVyPSQoIiNvdXRkYXRlZExvYWRlciIpLG91dGRhdGVkRm9ybUJ0bj0kKCIjb3V0ZGF0ZWQtZm9ybS1zdWJtaXQiKSwkKCJmb3JtI2NvbnRhY3R1cy1mb3JtIikudmFsaWRhdGUoe2lnbm9yZTpbXSxlcnJvckVsZW1lbnQ6InNwYW4iLGVycm9yQ2xhc3M6ImVycm9yIixydWxlczp7Zmlyc3ROYW1lOiJyZXF1aXJlZCIsbGFzdE5hbWU6InJlcXVpcmVkIixlbWFpbDp7cmVxdWlyZWQ6ITAsZW1haWw6ITB9LHBob25lTnVtYmVyOntyZXF1aXJlZDohMH19LG1lc3NhZ2VzOntmaXJzdE5hbWU6IkZpcnN0IG5hbWUgaXMgcmVxdWlyZWQiLGxhc3ROYW1lOiJMYXN0IG5hbWUgaXMgcmVxdWlyZWQiLGVtYWlsOntyZXF1aXJlZDoiRW1haWwgQWRkcmVzcyBpcyByZXF1aXJlZCIsZW1haWw6IkVtYWlsIEFkZHJlc3MgaXMgaW52YWxpZCJ9LHBob25lTnVtYmVyOntyZXF1aXJlZDoiUGhvbmUgbnVtYmVyIGlzIHJlcXVpcmVkIn19LGVycm9yUGxhY2VtZW50OmZ1bmN0aW9uKGksZSl7aS5pbnNlcnRBZnRlcihlKX19KSxvdXRkYXRlZEZvcm1CdG4ub24oImNsaWNrIixmdW5jdGlvbigpeyQoIiNjb250YWN0dXMtZm9ybSIpLnZhbGlkKCkmJihvdXRkYXRlZEZvcm1CdG4uaGlkZSgpLGNvbnRhY3RCdXR0b25Mb2FkZXIuc2hvdygpLCQuYWpheCh7dXJsOmJhc2VfdXJsKyIvY29udGFjdC11cyIsdHlwZToiUE9TVCIsZGF0YTp7Zm9ybWRhdGE6JCgiI2NvbnRhY3R1cy1mb3JtIikuc2VyaWFsaXplKCkrIiZzZWxlY3RlZElucXVpcnk9b3V0ZGF0ZWQgYnJvd3NlciZtZXNzYWdlPW15IGJyb3dzZXIgaXMgb3V0ZGF0ZWQifSxkYXRhVHlwZToianNvbiIsc3VjY2VzczpmdW5jdGlvbihpKXtjb250YWN0Rm9ybVNlY3Rpb24uaGlkZSgpLGNvbnRhY3RGb3JtU3VjY2Vzcy5zaG93KCksJCgiZm9ybSNjb250YWN0dXMtZm9ybSIpWzBdLnJlc2V0KCksJCgiI291dGRhdGVkLXNlcnZlci1lcnJvciIpLnRleHQoIiIpfSxlcnJvcjpmdW5jdGlvbihpKXskKCIjb3V0ZGF0ZWQtc2VydmVyLWVycm9yciIpLnRleHQoaS5yZXNwb25zZUpTT04ubWVzc2FnZSl9LGNvbXBsZXRlOmZ1bmN0aW9uKCl7Y29udGFjdEJ1dHRvbkxvYWRlci5oaWRlKCksb3V0ZGF0ZWRGb3JtQnRuLnNob3coKX19KSl9KSxjb250YWN0Rm9ybVN1Y2Nlc3MuaGlkZSgpLGNvbnRhY3RGb3JtU2VjdGlvbi5zaG93KCksY29udGFjdE1vZGFsLm1vZGFsKCJzaG93Iil9KTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwcy9icm93ZXJIYW5kbGUuYnVuZGxlLm1pbi5qcy5tYXAK</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="330103031" offset="0" length="7089" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
  <HTTPTask id="1064" hostname="d30ogvso7rptmy.cloudfront.net" path="/build/custom.zopim.min.js?v=3840000009" url="https://d30ogvso7rptmy.cloudfront.net/build/custom.zopim.min.js?v=3840000009" ip="99.86.157.104" port="443" connectionId="20" origin="ExtraRes" frame="1" startDateTime="2019-06-23T18:24:39.621+05:00" startTime="330102875" endTime="330103031">
    <QueryString>
      <HTTPDataSet>
        <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
          <ActualData>dj0zODQwMDAwMDA5</ActualData>
        </HTTPData>
      </HTTPDataSet>
      <IsExternalData>false</IsExternalData>
    </QueryString>
    <HTTPSplittedQueryStrings>
      <HTTPHeaderEntity name="v" index="0">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>Mzg0MDAwMDAwOQ==</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
    </HTTPSplittedQueryStrings>
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Host" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZDMwb2d2c283cnB0bXkuY2xvdWRmcm9udC5uZXQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc1LjAuMzc3MC4xMDAgU2FmYXJpLzUzNy4zNg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ki8q</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cDovL3FhMS5ieXN0b3JlZC5jb20vY29udGFjdC11cw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZSwgYnI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVMsZW47cT0wLjk=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9idWlsZC9jdXN0b20uem9waW0ubWluLmpzP3Y9Mzg0MDAwMDAwOSBIVFRQLzEuMQ0KSG9zdDogZDMwb2d2c283cnB0bXkuY2xvdWRmcm9udC5uZXQNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS83NS4wLjM3NzAuMTAwIFNhZmFyaS81MzcuMzYNCkFjY2VwdDogKi8qDQpSZWZlcmVyOiBodHRwOi8vcWExLmJ5c3RvcmVkLmNvbS9jb250YWN0LXVzDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUsIGJyDQpBY2NlcHQtTGFuZ3VhZ2U6IGVuLVVTLGVuO3E9MC45DQoNCg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <contentLenght>454</contentLenght>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Content-Type" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Length" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>NDU0</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>RnJpLCAyMSBKdW4gMjAxOSAwNjo0NTo1NSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Server" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QXBhY2hlLzIuNC4zMyAoVWJ1bnR1KQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>RnJpLCAyMSBKdW4gMjAxOSAwNjo0NTozMSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IjJmYy01OGJjZmNmMGFiNmRjLWd6aXAi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Ranges" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ynl0ZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT0zMTUzNjAwMA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Expires" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>U2F0LCAyMCBKdW4gMjAyMCAwNjo0NTo1NSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Encoding" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Access-Control-Allow-Origin" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Kg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Vary" index="12">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Age" index="13">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MTk2NjY4</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Cache" index="14">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SGl0IGZyb20gY2xvdWRmcm9udA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Via" index="15">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MS4xIDdjMzI0MWE5NDhjNGQ4OGQyYjlkNzc5MzYxNWVhZjBjLmNsb3VkZnJvbnQubmV0IChDbG91ZEZyb250KQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Amz-Cf-Pop" index="16">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TVhQNjQtQzI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Amz-Cf-Id" index="17">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>T2dMMl9yZC1naUdOWW5ST0JNTmkyRXJ4QndyTXhhcjJfN0J1Y1FLNGtrSGllYXY2QTlvbk5BPT0=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2phdmFzY3JpcHQNCkNvbnRlbnQtTGVuZ3RoOiA0NTQNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkRhdGU6IEZyaSwgMjEgSnVuIDIwMTkgMDY6NDU6NTUgR01UDQpTZXJ2ZXI6IEFwYWNoZS8yLjQuMzMgKFVidW50dSkNCkxhc3QtTW9kaWZpZWQ6IEZyaSwgMjEgSnVuIDIwMTkgMDY6NDU6MzEgR01UDQpFVGFnOiAiMmZjLTU4YmNmY2YwYWI2ZGMtZ3ppcCINCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpDYWNoZS1Db250cm9sOiBtYXgtYWdlPTMxNTM2MDAwDQpFeHBpcmVzOiBTYXQsIDIwIEp1biAyMDIwIDA2OjQ1OjU1IEdNVA0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luOiAqDQpWYXJ5OiBBY2NlcHQtRW5jb2RpbmcNCkFnZTogMTk2NjY4DQpYLUNhY2hlOiBIaXQgZnJvbSBjbG91ZGZyb250DQpWaWE6IDEuMSA3YzMyNDFhOTQ4YzRkODhkMmI5ZDc3OTM2MTVlYWYwYy5jbG91ZGZyb250Lm5ldCAoQ2xvdWRGcm9udCkNClgtQW16LUNmLVBvcDogTVhQNjQtQzINClgtQW16LUNmLUlkOiBPZ0wyX3JkLWdpR05ZblJPQk1OaTJFcnhCd3JNeGFyMl83QnVjUUs0a2tIaWVhdjZBOW9uTkE9PQ0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>d2luZG93LiR6b3BpbXx8ZnVuY3Rpb24oaSx0KXt2YXIgZT0kem9waW09ZnVuY3Rpb24oaSl7ZS5fLnB1c2goaSl9LG49ZS5zPWkuY3JlYXRlRWxlbWVudCh0KSxvPWkuZ2V0RWxlbWVudHNCeVRhZ05hbWUodClbMF07ZS5zZXQ9ZnVuY3Rpb24oaSl7ZS5zZXQuXy5wdXNoKGkpfSxlLl89W10sZS5zZXQuXz1bXSxuLmFzeW5jPSEwLG4uc2V0QXR0cmlidXRlKCJjaGFyc2V0IiwidXRmLTgiKSxuLnNyYz0iLy92Mi56b3BpbS5jb20vPzJPaTZKMXJOU2VoZVZUaXM1dnNKSGl5eE54dUlhRFJRIixlLnQ9K25ldyBEYXRlLG4udHlwZT0idGV4dC9qYXZhc2NyaXB0IixvLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG4sbyl9KGRvY3VtZW50LCJzY3JpcHQiKTt2YXIgaW50aWFsX3pvcGltX2hpZGluZ19kb25lPSEwLGludGlhbF96b3BpbV9zZXR0aW5nX2RvbmU9ITE7JHpvcGltKGZ1bmN0aW9uKCl7ITE9PT1DdXN0b21lclN1cHBvcnRIYW5kbGVyLmdldENoYXQoKSYmJHpvcGltLmxpdmVjaGF0LmhpZGVBbGwoKSwib2JqZWN0Ij09dHlwZW9mICR6b3BpbS5saXZlY2hhdCYmKGludGlhbF96b3BpbV9oaWRpbmdfZG9uZXx8KCR6b3BpbS5saXZlY2hhdC5oaWRlQWxsKCksaW50aWFsX3pvcGltX2hpZGluZ19kb25lPSEwKSwkem9waW0ubGl2ZWNoYXQuc2V0T25Db25uZWN0ZWQoZnVuY3Rpb24oKXtDdXN0b21lclN1cHBvcnRIYW5kbGVyLmluaXQoInpvcGltIil9KSl9KTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwcy9jdXN0b20uem9waW0ubWluLmpzLm1hcAo=</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="330103031" offset="0" length="1086" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
  <HTTPTask id="1086" hostname="v2.zopim.com" path="/?2Oi6J1rNSeheVTis5vsJHiyxNxuIaDRQ" url="http://v2.zopim.com/?2Oi6J1rNSeheVTis5vsJHiyxNxuIaDRQ" ip="104.16.83.55" port="80" connectionId="36" origin="ExtraRes" frame="1" startDateTime="2019-06-23T18:24:39.634+05:00" startTime="330114218" endTime="330114390">
    <QueryString>
      <HTTPDataSet>
        <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
          <ActualData>Mk9pNkoxck5TZWhlVlRpczV2c0pIaXl4Tnh1SWFEUlE=</ActualData>
        </HTTPData>
      </HTTPDataSet>
      <IsExternalData>false</IsExternalData>
    </QueryString>
    <HTTPSplittedQueryStrings>
      <HTTPHeaderEntity name="" index="0">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>Mk9pNkoxck5TZWhlVlRpczV2c0pIaXl4Tnh1SWFEUlE=</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
    </HTTPSplittedQueryStrings>
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Host" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>djIuem9waW0uY29t</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc1LjAuMzc3MC4xMDAgU2FmYXJpLzUzNy4zNg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ki8q</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cDovL3FhMS5ieXN0b3JlZC5jb20vY29udGFjdC11cw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVMsZW47cT0wLjk=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC8/Mk9pNkoxck5TZWhlVlRpczV2c0pIaXl4Tnh1SWFEUlEgSFRUUC8xLjENCkhvc3Q6IHYyLnpvcGltLmNvbQ0KQ29ubmVjdGlvbjoga2VlcC1hbGl2ZQ0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc1LjAuMzc3MC4xMDAgU2FmYXJpLzUzNy4zNg0KQWNjZXB0OiAqLyoNClJlZmVyZXI6IGh0dHA6Ly9xYTEuYnlzdG9yZWQuY29tL2NvbnRhY3QtdXMNCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZQ0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUyxlbjtxPTAuOQ0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <contentLenght>0</contentLenght>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Date" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>U3VuLCAyMyBKdW4gMjAxOSAxMzoyMzo1NSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Type" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24vb2N0ZXQtc3RyZWFt</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Length" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Set-Cookie" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>X19jZmR1aWQ9ZDNkMDE4ZTcyYzBkNzYzYTRlMGY0YTM2MGNiOTJmNjFlMTU2MTI5NjIzNTsgZXhwaXJlcz1Nb24sIDIyLUp1bi0yMCAxMzoyMzo1NSBHTVQ7IHBhdGg9LzsgZG9tYWluPS56b3BpbS5jb207IEh0dHBPbmx5</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Location" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cDovL3YyLnpvcGltLmNvbS9iaW4vdi93aWRnZXRfdjIuMzAxLmpz</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IjVkMGVlYjQ5LTAi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Expires" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>U3VuLCAyMyBKdW4gMjAxOSAxNzowOToxNCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT0xNDQwMA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT0xNDQwMCwgcHVibGljLCBtdXN0LXJldmFsaWRhdGUsIHByb3h5LXJldmFsaWRhdGU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="CF-Cache-Status" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SElU</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Vary" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Server" index="12">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Y2xvdWRmbGFyZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="CF-RAY" index="13">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>NGViNmM3N2RjY2MwZDNlYi1LSEk=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMzAyIE1vdmVkIFRlbXBvcmFyaWx5DQpEYXRlOiBTdW4sIDIzIEp1biAyMDE5IDEzOjIzOjU1IEdNVA0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0NCkNvbnRlbnQtTGVuZ3RoOiAwDQpDb25uZWN0aW9uOiBrZWVwLWFsaXZlDQpTZXQtQ29va2llOiBfX2NmZHVpZD1kM2QwMThlNzJjMGQ3NjNhNGUwZjRhMzYwY2I5MmY2MWUxNTYxMjk2MjM1OyBleHBpcmVzPU1vbiwgMjItSnVuLTIwIDEzOjIzOjU1IEdNVDsgcGF0aD0vOyBkb21haW49LnpvcGltLmNvbTsgSHR0cE9ubHkNCkxvY2F0aW9uOiBodHRwOi8vdjIuem9waW0uY29tL2Jpbi92L3dpZGdldF92Mi4zMDEuanMNCkVUYWc6ICI1ZDBlZWI0OS0wIg0KRXhwaXJlczogU3VuLCAyMyBKdW4gMjAxOSAxNzowOToxNCBHTVQNCkNhY2hlLUNvbnRyb2w6IG1heC1hZ2U9MTQ0MDANCkNhY2hlLUNvbnRyb2w6IG1heC1hZ2U9MTQ0MDAsIHB1YmxpYywgbXVzdC1yZXZhbGlkYXRlLCBwcm94eS1yZXZhbGlkYXRlDQpDRi1DYWNoZS1TdGF0dXM6IEhJVA0KVmFyeTogQWNjZXB0LUVuY29kaW5nDQpTZXJ2ZXI6IGNsb3VkZmxhcmUNCkNGLVJBWTogNGViNmM3N2RjY2MwZDNlYi1LSEkNCg0K</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData />
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="330114390" offset="0" length="606" />
      </TcpPackets>
    </HTTPResponse>
    <HTTPTask id="1092" hostname="v2.zopim.com" path="/bin/v/widget_v2.301.js" url="http://v2.zopim.com/bin/v/widget_v2.301.js" ip="104.16.83.55" port="80" connectionId="36" origin="Redirection" startDateTime="2019-06-23T18:24:39.682+05:00" startTime="330114390" endTime="330114546">
      <HTTPRequest method="GET">
        <HTTPHeaders>
          <HTTPHeaderEntity name="Host" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>djIuem9waW0uY29t</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Connection" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="User-Agent" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc1LjAuMzc3MC4xMDAgU2FmYXJpLzUzNy4zNg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ki8q</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Referer" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aHR0cDovL3FhMS5ieXN0b3JlZC5jb20vY29udGFjdC11cw==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Encoding" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Language" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZW4tVVMsZW47cT0wLjk=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Cookie" index="7">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>X19jZmR1aWQ9ZDNkMDE4ZTcyYzBkNzYzYTRlMGY0YTM2MGNiOTJmNjFlMTU2MTI5NjIzNQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0VUIC9iaW4vdi93aWRnZXRfdjIuMzAxLmpzIEhUVFAvMS4xDQpIb3N0OiB2Mi56b3BpbS5jb20NCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS83NS4wLjM3NzAuMTAwIFNhZmFyaS81MzcuMzYNCkFjY2VwdDogKi8qDQpSZWZlcmVyOiBodHRwOi8vcWExLmJ5c3RvcmVkLmNvbS9jb250YWN0LXVzDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMsZW47cT0wLjkNCkNvb2tpZTogX19jZmR1aWQ9ZDNkMDE4ZTcyYzBkNzYzYTRlMGY0YTM2MGNiOTJmNjFlMTU2MTI5NjIzNQ0KDQo=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
          <HTTPCookies>
            <HTTPHeaderEntity name="__cfduid" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZDNkMDE4ZTcyYzBkNzYzYTRlMGY0YTM2MGNiOTJmNjFlMTU2MTI5NjIzNQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
          </HTTPCookies>
        </HTTPHeaders>
      </HTTPRequest>
      <HTTPResponse>
        <contentLenght>0</contentLenght>
        <HTTPHeaders>
          <HTTPHeaderEntity name="Date" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>U3VuLCAyMyBKdW4gMjAxOSAxMzoyMzo1NSBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Type" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdDsgY2hhcnNldD1VVEYtOA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Transfer-Encoding" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Y2h1bmtlZA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Connection" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Last-Modified" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>VHVlLCAxOCBKdW4gMjAxOSAwODoxNDoxNSBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Vary" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ETag" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Vy8iNWQwODlkNTctMTAyZWNjIg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Expires" index="7">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>V2VkLCAyMCBKdW4gMjAyOSAxMzoyMzo1NSBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Cache-Control" index="8">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>cHVibGljLCBtYXgtYWdlPTMxNTM2MDAwMA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Encoding" index="9">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="CF-Cache-Status" index="10">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SElU</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Server" index="11">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Y2xvdWRmbGFyZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="CF-RAY" index="12">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>NGViNmM3N2VjZThmZDNlYi1LSEk=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SFRUUC8xLjEgMjAwIE9LDQpEYXRlOiBTdW4sIDIzIEp1biAyMDE5IDEzOjIzOjU1IEdNVA0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0OyBjaGFyc2V0PVVURi04DQpUcmFuc2Zlci1FbmNvZGluZzogY2h1bmtlZA0KQ29ubmVjdGlvbjoga2VlcC1hbGl2ZQ0KTGFzdC1Nb2RpZmllZDogVHVlLCAxOCBKdW4gMjAxOSAwODoxNDoxNSBHTVQNClZhcnk6IEFjY2VwdC1FbmNvZGluZw0KRVRhZzogVy8iNWQwODlkNTctMTAyZWNjIg0KRXhwaXJlczogV2VkLCAyMCBKdW4gMjAyOSAxMzoyMzo1NSBHTVQNCkNhY2hlLUNvbnRyb2w6IHB1YmxpYywgbWF4LWFnZT0zMTUzNjAwMDANCkNvbnRlbnQtRW5jb2Rpbmc6IGd6aXANCkNGLUNhY2hlLVN0YXR1czogSElUDQpTZXJ2ZXI6IGNsb3VkZmxhcmUNCkNGLVJBWTogNGViNmM3N2VjZThmZDNlYi1LSEkNCg0K</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
        <HTTPBody>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IWZ1bmN0aW9uKHQpIHsKZnVuY3Rpb24gZShuKSB7CmlmIChpW25dKSByZXR1cm4gaVtuXS5leHBvcnRzOwp2YXIgbyA9IGlbbl0gPSB7Cmk6IG4sCmw6ICExLApleHBvcnRzOiB7fQp9Owp0W25dLmNhbGwoby5leHBvcnRzLCBvLCBvLmV4cG9ydHMsIGUpOwpvLmwgPSAhMDsKcmV0dXJuIG8uZXhwb3J0czsKfQp2YXIgaSA9IHt9OwplLm0gPSB0OwplLmMgPSBpOwplLmQgPSBmdW5jdGlvbih0LCBpLCBuKSB7CmUubyh0LCBpKSB8fCBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgaSwgewplbnVtZXJhYmxlOiAhMCwKZ2V0OiBuCn0pOwp9OwplLnIgPSBmdW5jdGlvbih0KSB7CiJ1bmRlZmluZWQiICE9IHR5cGVvZiBTeW1ib2wgJiYgU3ltYm9sLnRvU3RyaW5nVGFnICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBTeW1ib2wudG9TdHJpbmdUYWcsIHsKdmFsdWU6ICJNb2R1bGUiCn0pOwpPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgIl9fZXNNb2R1bGUiLCB7CnZhbHVlOiAhMAp9KTsKfTsKZS50ID0gZnVuY3Rpb24odCwgaSkgewoxICYgaSAmJiAodCA9IGUodCkpOwppZiAoOCAmIGkpIHJldHVybiB0OwppZiAoNCAmIGkgJiYgIm9iamVjdCIgPT0gdHlwZW9mIHQgJiYgdCAmJiB0Ll9fZXNNb2R1bGUpIHJldHVybiB0Owp2YXIgbiA9IE9iamVjdC5jcmVhdGUobnVsbCk7CmUucihuKTsKT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sICJkZWZhdWx0IiwgewplbnVtZXJhYmxlOiAhMCwKdmFsdWU6IHQKfSk7CmlmICgyICYgaSAmJiAic3RyaW5nIiAhPSB0eXBlb2YgdCkgZm9yICh2YXIgbyBpbiB0KSBlLmQobiwgbywgZnVuY3Rpb24oZSkgewpyZXR1cm4gdFtlXTsKfS5iaW5kKG51bGwsIG8pKTsKcmV0dXJuIG47Cn07CmUubiA9IGZ1bmN0aW9uKHQpIHsKdmFyIGkgPSB0ICYmIHQuX19lc01vZHVsZSA/IGZ1bmN0aW9uKCkgewpyZXR1cm4gdC5kZWZhdWx0Owp9IDogZnVuY3Rpb24oKSB7CnJldHVybiB0Owp9OwplLmQoaSwgImEiLCBpKTsKcmV0dXJuIGk7Cn07CmUubyA9IGZ1bmN0aW9uKHQsIGUpIHsKcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LCBlKTsKfTsKZS5wID0gIi4uLy4uL2Jpbi8iOwplLl9fc3RyaW5ncyA9IFsgIjxob3Vycz46PG1pbnV0ZXM+IiwgIjxob3Vycz46PG1pbnV0ZXM+IGFtIiwgIjxob3Vycz46PG1pbnV0ZXM+IHBtIiwgIlNvcnJ5LCB3ZSBhcmUgdW5hdmFpbGFibGUgYXQgdGhlIG1vbWVudC4gUGxlYXNlIGxlYXZlIHVzIGEgbWVzc2FnZS4gMjQvNyBzdXBwb3J0IGlzIGF2YWlsYWJsZSBmb3IgRW50ZXJwcmlzZSBhbmQgUHJlbWl1bSAoTGVnYWN5KSBjdXN0b21lcnMuIiwgIjxhZ2VudF9uYW1lPiB3YXMgZGlzY29ubmVjdGVkIGFuZCBoYXMgbGVmdCB0aGUgY2hhdCIsICJCYWNrIiwgIlZpZXcgbW9yZSIsICJaZW5kZXNrIFN1cHBvcnQgYWdlbnQgbm90IGZvdW5kIiwgIlplbmRlc2sgQ2hhdCByZXF1aXJlcyBjb29raWVzIHRvIGZ1bmN0aW9uLiBFbmFibGUgY29va2llcz8iLCAiUG93ZXJlZCBieSBaZW5kZXNrIENoYXQiLCAiUGxlYXNlIHdhaXQgZm9yIGFuIGFnZW50LiBUaGVyZSBhcmUgPG51bWJlcj4gdmlzaXRvcihzKSB3YWl0aW5nIHRvIGJlIHNlcnZlZC4iLCAiT25saW5lIiwgIkF3YXkiLCAiT2ZmbGluZSIsICJDb21wbGV0ZSB0aGlzIGZpZWxkIiwgIkVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcyIsICJDb21wbGV0ZSB0aGlzIGZpZWxkIiwgIlNlbGVjdCBhbiBvcHRpb24iLCAiU2VsZWN0IGFuIG9wdGlvbiIsICJDaGVjayB0aGlzIG9wdGlvbiB0byBjb250aW51ZSIsICJTZWxlY3QgYXQgbGVhc3Qgb25lIG9wdGlvbiIsICJTZWxlY3QgYSBkZXBhcnRtZW50IiwgIlRoaXMgZmllbGQgaXMgaW52YWxpZCIsICJQaG9uZSBudW1iZXIiLCAiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGVuZCB0aGlzIGNoYXQ/IiwgIkZhY2Vib29rIiwgIlR3aXR0ZXIiLCAiR29vZ2xlIiwgIjxuYW1lPiBqb2luZWQgdGhlIGNoYXQiLCAiPG5hbWU+IGxlZnQgdGhlIGNoYXQiLCAiPG9sZF9uYW1lPiBpcyBub3cga25vd24gYXMgPG5ld19uYW1lPiIsICJDaGF0IHN0YXJ0ZWQiLCAiQ2hhdCBlbmRlZCIsICJDb21tZW50IHN1Ym1pdHRlZCIsICJDaGF0IHJhdGVkIEdvb2QiLCAiQ2hhdCByYXRlZCBCYWQiLCAiQ2hhdCByYXRpbmcgcmVtb3ZlZCIsICI8bmFtZT4gaXMgdHlwaW5nLi4uIiwgIjxuYW1lPiBhcmUgdHlwaW5nLi4uIiwgIkFnZW50cyBhcmUgdHlwaW5nLi4uIiwgIlR5cGUgeW91ciBtZXNzYWdlIGhlcmUiLCAiU2VuZCIsICI8bnVtYmVyPiBuZXcgbWVzc2FnZSIsICI8bnVtYmVyPiBuZXcgbWVzc2FnZXMiLCAiPG51bWJlcj4gbmV3IG1lc3NhZ2UiLCAiPG51bWJlcj4gbmV3IG1lc3NhZ2VzIiwgIkNoYXQiLCAiTWVzc2FnZSIsICIxIG5ldyBhdHRhY2htZW50IiwgIlJlY29ubmVjdGluZyIsICJDbGljayB0byByZWNvbm5lY3QiLCAiUmVjb25uZWN0aW5nIiwgIlJlc3VtaW5nIHNlc3Npb24iLCAiTG9hZGluZyIsICJDaGF0IGRpc2FibGVkIiwgIkRpc2FibGVkIiwgIlByaXZhY3kgUG9saWN5IiwgIlVubGluayBmcm9tIDxuYW1lPiIsICJTZW5kIG1lc3NhZ2UiLCAiU3RhcnQgY2hhdHRpbmciLCAiQW55IGRlcGFydG1lbnQiLCAiQ2hvb3NlIGEgZGVwYXJ0bWVudCIsICJDbG9zZSIsICJDbG9zZWQiLCAiPHN0YXJ0X3RpbWU+IHRvIDxlbmRfdGltZT4iLCAiRmlsZSBzaXplIHRvbyBsYXJnZS4gTWF4aW11bSB0b3RhbCBzaXplIGlzIGxpbWl0ZWQgdG8gPHNpemU+LiIsICJUaGUgZmlsZSB5b3UgYXJlIHRyeWluZyB0byBzZW5kIGlzIG5vdCBzdXBwb3J0ZWQuIiwgIkZpbGUgc2VuZGluZyBpcyB0ZW1wb3JhcnkgZGlzYWJsZWQuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuIiwgIkZhaWxlZCB0byBzZW5kLiBQbGVhc2UgdHJ5IGFnYWluLiIsICJGYWlsZWQgdG8gc2F2ZSBhc3NpZ25lZSIsICJTdW5kYXkiLCAiTW9uZGF5IiwgIlR1ZXNkYXkiLCAiV2VkbmVzZGF5IiwgIlRodXJzZGF5IiwgIkZyaWRheSIsICJTYXR1cmRheSIsICJXZWVrZGF5cyIsICJXZWVrZW5kcyIsICJEYWlseSIsICJBbGwgZGF5IiwgIkNoYXQgV2l0aCBVcyIsICJMZWF2ZSBhIE1lc3NhZ2UiLCAiQ2hhdCB3aXRoIHVzIiwgInN1cHBvcnQiLCAiV2UncmUgb25saW5lLiIsICJXZSdyZSBhd2F5LiIsICJXZSdyZSBvZmZsaW5lLiIsICJMaXZlIFN1cHBvcnQiLCAiQXNrIHVzIGFueXRoaW5nIiwgIkhpLCB3ZWxjb21lIHRvIG91ciB3ZWJzaXRlISIsICJRdWVzdGlvbnM/IiwgIkNsaWNrIGhlcmUgdG8gY2hhdCB3aXRoIHVzIiwgIkNob29zZSBhIGRlcGFydG1lbnQiLCAiTWVzc2FnZSIsICJQaG9uZSIsICJTb3JyeSwgd2UgYXJlbid0IG9ubGluZSBhdCB0aGUgbW9tZW50LiBMZWF2ZSBhIG1lc3NhZ2UgYW5kIHdlJ2xsIGdldCBiYWNrIHRvIHlvdS4iLCAiU29ycnksIHdlIGFyZW4ndCBvbmxpbmUgYXQgdGhlIG1vbWVudC4iLCAiVGhhbmtzIGZvciB0aGUgbWVzc2FnZSEgV2UnbGwgZ2V0IGJhY2sgdG8geW91IGFzIHNvb24gYXMgd2UgY2FuLiIsICJNZXNzYWdlIiwgIlBob25lIiwgIk5pY2UgY2hhdHRpbmcgd2l0aCB5b3UhIiwgIkhvdyB3b3VsZCB5b3UgcmF0ZSB0aGUgY2hhdCBleHBlcmllbmNlIHlvdSBqdXN0IGhhZD8iLCAiVGhhbmtzIGZvciB0aGUgZ29vZCByYXRpbmchIFdvdWxkIHlvdSBsaWtlIHRvIGxlYXZlIGEgY29tbWVudD8iLCAiV2hhdCBkaWQgeW91IGxpa2UgYWJvdXQgdGhpcyBjaGF0PyIsICJTb3JyeSB0aGF0IHdlIGRpc2FwcG9pbnRlZCB5b3UuIFdlJ2QgYXBwcmVjaWF0ZSBpdCBpZiB5b3UgY291bGQgdGVsbCB1cyBob3cgdG8gaW1wcm92ZS4iLCAiV2hhdCBkaWQgeW91IGRpc2xpa2UgYWJvdXQgdGhpcyBjaGF0PyIsICJGaWxlIHNpemUgdG9vIGxhcmdlLiBNYXhpbXVtIGxpbWl0IGlzIDxzaXplPi4iLCAiVGhlIGZpbGUgeW91IGFyZSB0cnlpbmcgdG8gc2VuZCBpcyBub3Qgc3VwcG9ydGVkLiIsICJGaWxlIHNlbmRpbmcgaXMgdGVtcG9yYXJpbHkgZGlzYWJsZWQuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuIiwgIjxzaXplPiBieXRlcyIsICI8c2l6ZT4ga0IiLCAiPHNpemU+IE1CIiwgIkZhaWxlZCB0byBzZW5kLiBQbGVhc2UgdHJ5IGFnYWluLiIsICJSZXBseSIsICJEaXNtaXNzIiwgIkVuZCIsICJDYW5jZWwiLCAiU2VuZCBjaGF0IHRyYW5zY3JpcHQgdG8iLCAiRW1haWwiLCAiVGhpcyBpc24ndCBhIHZhbGlkIGVtYWlsLiIsICJTZW5kIiwgIkNhbmNlbCIsICJFbWFpbCB3aWxsIGJlIHNlbnQgdG8gQEBAQDxlbWFpbD5AQEBAIHdoZW4gdGhlIGNoYXQgZW5kcyIsICJBbiBlbWFpbCBvZiB0aGUgbGFzdCBjaGF0IHdpbGwgYmUgc2VudCB0byBAQEBAPGVtYWlsPkBAQEAiLCAiTWluaW1pemUiLCAiU2VuZCIsICJUeXBlIHlvdXIgbWVzc2FnZSBoZXJlIiwgIlN1Ym1pdCIsICJDYW5jZWwiLCAiQmFjayB0byBjaGF0IiwgIkJhY2sgdG8gY2hhdCIsICJMZWF2ZSBhIGNvbW1lbnQiLCAiKE9wdGlvbmFsKSIsICJTZW5kIiwgIkNhbmNlbCIsICJIb3cgd291bGQgeW91IHJhdGUgdGhpcyBjaGF0PyIsICJDaGF0IHJhdGVkIEdvb2QiLCAiQ2hhdCByYXRlZCBCYWQiLCAiQ2hhdCByYXRpbmcgcmVtb3ZlZCIsICJDYW5jZWwiLCAiU2tpcCIsICJDbG9zZSIsICJTaWduIG91dCIsICJFZGl0IiwgIkVkaXQgY29udGFjdCBkZXRhaWxzIiwgIk5hbWUiLCAiRW50ZXIgeW91ciBuYW1lIiwgIkVtYWlsIiwgIkVudGVyIHlvdXIgZW1haWwiLCAiUGhvbmUiLCAiRW50ZXIgeW91ciBwaG9uZSIsICJTYXZlIiwgIkNhbmNlbCIsICJDb25uZWN0IHdpdGgiLCAiVXNlIG5hbWUgYW5kIGVtYWlsIiwgIlNpZ24gaW4iLCAiSGksIDxuYW1lPiIsICJIaSB0aGVyZSEiLCAiU291bmQiLCAiQ29va2llcyIsICJBYm91dCIsICJTZW5kIGEgZmlsZSIsICJFbWFpbCB0cmFuc2NyaXB0IiwgIkVuZCB0aGlzIGNoYXQiLCAiaHR0cDovL3pvcC5pbS9wcmVtLW9mZmxpbmUtZm9ybSIsICJMZWFybiBtb3JlIiwgIk91ciBvcGVyYXRpbmcgaG91cnMiLCAiQmFjayIsICJTZW5kIGFub3RoZXIiLCAiQ2hvb3NlIGEgZGVwYXJ0bWVudCIsICJPcGVyYXRpbmcgaG91cnMiLCAiQmFjayIsICJEcm9wIGZpbGVzIGhlcmUiLCAiU3VibWl0IiwgIlNraXAiLCAiWW91IG9iamVjdGVkIHRvIHRoZSB1c2Ugb2YgY29va2llcyBiYXNlZCBvbiBvdXIgQGNvb2tpZSBwb2xpY3lALiBBcHByb3ZlIHRoZSB1c2Ugb2YgY29va2llcyB0byBlbmFibGUgY2hhdCBmdW5jdGlvbnMuIiwgIllvdSBtYXkgZGlzYWJsZSB0aGUgY2hhdCBhbnl0aW1lLiIsICJFbmFibGUgY29va2llcyBhbmQgY2hhdCIsICJaZW5kZXNrIENoYXQgcmVxdWlyZXMgY29va2llcyB0byBmdW5jdGlvbiIsICJJbnRyb2R1Y2UgeW91cnNlbGYiLCAiSGVsbG8gdGhlcmUhIiwgIk5hbWUsIEVtYWlsIiwgIkVkaXQiLCAiU2lnbiBvdXQiLCAiUGxlYXNlIHVwZGF0ZSB5b3VyIHByb2ZpbGUiLCAiTmFtZSIsICJQbGVhc2UgcHJvdmlkZSB5b3VyIG5hbWUiLCAiRW1haWwiLCAiUGxlYXNlIHByb3ZpZGUgYSB2YWxpZCBlbWFpbCIsICJvciBzaWduIGluIHdpdGgiLCAiUGhvbmUgbnVtYmVyIiwgIlBsZWFzZSBwcm92aWRlIGEgdmFsaWQgcGhvbmUiLCAiTmFtZSIsICJFbWFpbCIsICJJZiB5b3UgZG8gbm90IGFncmVlIHdpdGggb3VyIEBjb29raWUgcG9saWN5QCwgeW91IG1heSBkaXNhYmxlIHRoZSBjaGF0IHdpZGdldC4gUGFzdCBpbmZvcm1hdGlvbiBhbmQgY29va2llcyB3aWxsIGJlIHJlbW92ZWQuIiwgIllvdSBtYXkgcmUtZW5hYmxlIGNoYXQgYW55dGltZS4iLCAiRGlzYWJsZSBjaGF0IiwgIkNhbmNlbCIsICJaZW5kZXNrIENoYXQgcmVxdWlyZXMgY29va2llcyB0byBmdW5jdGlvbiIsICJPcGVuIGluIG5ldyB3aW5kb3ciLCAiTWluaW1pemUiLCAiUXVldWUgcG9zaXRpb246IDxudW1iZXI+IiwgIlRoaXMgd2lkZ2V0IHVzZXMgQGNvb2tpZXNALiIsICJSZWNvbm5lY3RpbmciLCAiT2ZmbGluZSIsICJWaWV3IHBhc3QgY2hhdHMiLCAiQ29udGFjdCB1cyBoZXJlIiwgIk9wdGlvbnMiLCAiU2lnbiBpbiIsICJIaSwgPG5hbWU+IiwgIkhpIHRoZXJlISIsICJDdXN0b21lciBzdXBwb3J0IiwgIkdvb2QiLCAiQmFkIiwgIlJlbW92ZSIsICJHb29kIiwgIkJhZCIsICJSZW1vdmUiLCAiTGVhdmUgYSBjb21tZW50IiwgIlJhdGUgdGhpcyBjaGF0IiwgInNob3cgb3JpZ2luYWwiLCAic2hvdyB0cmFuc2xhdGVkIiwgIk1lc3NhZ2Ugbm90IHNlbnQiLCAiUmVzZW5kIiwgIlRoaXMgYXR0YWNobWVudCB3YXMgZGVsZXRlZC4iLCAnVXBsb2FkaW5nICI8ZmlsZV9uYW1lPiInLCAnIjxmaWxlX25hbWU+IiBzZW50LicsICJZb3UiLCAiWW91IOKAlCBQbGVhc2UgdXBkYXRlIHlvdXIgaW5mbyIsICJPcGVuIGltYWdlIiBdOwplLl9fbGFuZ3VhZ2VzID0gewphcjogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfYXIiLAphejogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfYXoiLApiZzogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfYmciLApjYTogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfY2EiLApjczogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfY3MiLApkYTogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfZGEiLApkZTogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfZGUiLAplbDogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfZWwiLAplczogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfZXMiLApldDogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfZXQiLApldTogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfZXUiLApmYTogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfZmEiLApmaTogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfZmkiLApmcjogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfZnIiLApmcl9DQTogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfZnJfQ0EiLApoZTogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfaGUiLApoaTogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfaGkiLApocjogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfaHIiLApodTogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfaHUiLAppZDogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfaWQiLAppczogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfaXMiLAppdDogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfaXQiLApqYTogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfamEiLAprYTogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfa2EiLAprbzogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfa28iLAprdTogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfa3UiLApsdDogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfbHQiLApsdjogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfbHYiLAptazogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfbWsiLAptczogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfbXMiLApuYjogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfbmIiLApubDogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfbmwiLApwbDogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfcGwiLApwdDogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfcHQiLApwdF9CUjogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfcHRfQlIiLApybzogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfcm8iLApydTogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfcnUiLApzazogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfc2siLApzbDogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfc2wiLApzcTogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfc3EiLApzcjogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfc3IiLApzdjogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfc3YiLAp0aDogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfdGgiLAp0bDogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfdGwiLAp0cjogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfdHIiLAp1azogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfdWsiLAp1cjogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfdXIiLAp2aTogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfdmkiLAp6aF9DTjogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfemhfQ04iLAp6aF9UVzogIl9fJCRfX3N0cmluZ3RhYmxlX2xhbmdfemhfVFciCn07CmUoZS5zID0gMzkxKTsKfShbIGZ1bmN0aW9uKHQsIGUpIHsKZnVuY3Rpb24gaSgpIHt9CmZ1bmN0aW9uIG4odCkgewppLnByb3RvdHlwZSA9IHQ7CnJldHVybiBuZXcgaSgpOwp9CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUpIHsKZnVuY3Rpb24gaSh0KSB7CnJldHVybiB0Lm5hbWUgKyAiLSIgKyBNYXRoLnJvdW5kKDFlNCAqIE1hdGgucmFuZG9tKCkpOwp9CmZ1bmN0aW9uIG4odCwgZSwgbikgewppZiAoImZ1bmN0aW9uIiAhPSB0eXBlb2YgdCkgdGhyb3cgbmV3IEVycm9yKCJrbGFzcyBzaG91bGQgYmUgYSBmdW5jdGlvbiIpOwppZiAoIXQucHJvdG90eXBlKSB0aHJvdyBuZXcgRXJyb3IoImtsYXNzIHNob3VsZCBoYXZlIHByb3RvdHlwZSIpOwpuID0gbiB8fCB7fTsKbi5za2lwX2ZxbmFtZSB8fCAodC5wcm90b3R5cGUuX19qeF9fZnFuYW1lID0gbi5mcW5hbWUgfHwgaSh0KSk7CnQucHJvdG90eXBlLl9fanhfX3N1cGVyID0gZTsKdC5wcm90b3R5cGUuX19qeF9fY29uc3RydWN0b3IgPSB0Owp9CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlKSB7CmlmIChpc05hTih0KSkgewp2YXIgaSA9IG5ldyBvKCk7CmkuYWRkKCJfIiwgdCk7CnJldHVybiBpOwp9Ci0xID09IHQgJiYgKHQgPSBiLmxlbmd0aCk7CnZhciBuID0gYlt0XTsKbiB8fCAoYlt0XSA9IG4gPSBuZXcgbygpKTsKaWYgKCJzdHJpbmciID09IHR5cGVvZiBlKSBuLmFkZCgiXyIsIGUpOyBlbHNlIGZvciAodmFyIHIgaW4gZSkgZS5oYXNPd25Qcm9wZXJ0eShyKSAmJiBuLmFkZChyLCBlW3JdKTsKcmV0dXJuIG47Cn0KZnVuY3Rpb24gbygpIHsKZnVuY3Rpb24gdCh0LCBlKSB7CmxbdF0gPSBlOwp9CmZ1bmN0aW9uIGUodCkgewpyKHQsIHUpOwp9CmZ1bmN0aW9uIGkodCkgewpkLnB1c2godCk7Cn0KZnVuY3Rpb24gbigpIHsKcmV0dXJuIGEoKTsKfQpmdW5jdGlvbiBhKHQpIHsKcmV0dXJuIGxbdCB8fCB3XSB8fCBsLl87Cn0KZnVuY3Rpb24gcyh0KSB7CnZhciBlLCBpID0gYSh0KTsKZm9yIChlID0gMDsgZSA8IGQubGVuZ3RoOyBlKyspIGRbZV0oaSk7Cn0KZnVuY3Rpb24gXyh0LCBlKSB7CnZhciBpLCBuID0gbmV3IG8oKTsKYltsLl9dID0gbjsKZm9yICh2YXIgciBpbiBsKSBpZiAobC5oYXNPd25Qcm9wZXJ0eShyKSkgewppID0gbFtyXTsKaWYgKCJzdHJpbmciICE9IHR5cGVvZiBpKSBjb250aW51ZTsKaSA9IGlbdF0uYXBwbHkoaSwgZSk7Cm4uYWRkKHIsIGkpOwp9CnJldHVybiBuOwp9CmZvciAodmFyIGwgPSB7fSwgZCA9IFtdLCB1ID0gewphZGQ6IHQsCmJpbmQ6IGUsCm9uVHJhbnNsYXRlOiBpLAp0b0pTT046IG4sCnRvU3RyaW5nOiBhLAp1cGRhdGU6IHMKfSwgYyA9IFsgImNvbmNhdCIsICJyZXBsYWNlIiwgInRvTG93ZXJDYXNlIiwgInRvVXBwZXJDYXNlIiBdLCBoID0gMDsgaCA8IGMubGVuZ3RoOyBoKyspIHVbY1toXV0gPSBmdW5jdGlvbih0KSB7CnJldHVybiBmdW5jdGlvbigpIHsKcmV0dXJuIF8odCwgYXJndW1lbnRzKTsKfTsKfShjW2hdKTsKcmV0dXJuIHU7Cn0KZnVuY3Rpb24gcih0LCBlKSB7CmZvciAodmFyIGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkrKykgaWYgKHhbaV0gPT0gdCkgewp2W2ldID0gZTsKcmV0dXJuOwp9CngucHVzaCh0KTsKdi5wdXNoKGUpOwp9CmZ1bmN0aW9uIGEodCkgewpmb3IgKHZhciBlID0gMDsgZSA8IHgubGVuZ3RoOyBlKyspIGlmICh4W2VdID09IHQpIHsKeC5zcGxpY2UoZSwgMSk7CnYuc3BsaWNlKGUsIDEpOwpyZXR1cm47Cn0KfQpmdW5jdGlvbiBzKHQpIHsKdCA9IHQuc3BsaXQoLy18Xy8pLnNsaWNlKDAsIDIpOwp2YXIgZSA9IHRbMF0gPSB0WzBdLnRvTG93ZXJDYXNlKCk7CnRbMV0gJiYgKHRbMV0gPSB0WzFdLnRvVXBwZXJDYXNlKCkpOwp0ID0gdC5qb2luKCJfIik7CnJldHVybiBwLmxhbmd1YWdlcyA/IHQgaW4gcC5sYW5ndWFnZXMgPyB0IDogZSBpbiBwLmxhbmd1YWdlcyA/IGUgOiBudWxsIDogbnVsbDsKfQpmdW5jdGlvbiBfKHQpIHsKdmFyIGUsIGksIG8sIHIsIGEsIF87CnQgPSBzKHQpOwppZiAodCkgewphID0gcC5sYW5ndWFnZXNbdF07CmlmIChhKSB7Cl8gPSBtW3AubGFuZ3VhZ2VzW3RdXTsKaWYgKF8pIHsKbi5sYW5ndWFnZSA9IHcgPSB0OwokLmVuc3VyZUxvYWRlZChfLCBmdW5jdGlvbihuKSB7Cm4gJiYgbCh0KTsKaWYgKHQgPT0gdykgewpmb3IgKGUgPSAwLCBpID0gYi5sZW5ndGg7IGUgPCBpOyBlKyspIGJbZV0udXBkYXRlIGluc3RhbmNlb2YgRnVuY3Rpb24gJiYgYltlXS51cGRhdGUodCk7CmZvciAoZSA9IDAsIGkgPSB4Lmxlbmd0aDsgZSA8IGk7IGUrKykgewpvID0geFtlXTsKciA9IHZbZV0udG9TdHJpbmcoKTsKaWYgKGopIG8udGV4dENvbnRlbnQgPSByOyBlbHNlIGlmICgic3RyaW5nIiA9PSB0eXBlb2Ygby5pbm5lclRleHQpIG8uaW5uZXJUZXh0ID0gcjsgZWxzZSBpZiAoInN0cmluZyIgPT0gdHlwZW9mIG8ubm9kZVZhbHVlKSB0cnkgewpvLmRhdGEgPSByOwp9IGNhdGNoICh0KSB7fQp9CnkuX2FjdGl2ZSA9ICEwOwppID0geS5sZW5ndGg7CmZvciAoZSA9IDA7IGUgPCBpOyBlKyspIHRyeSB7CnlbZV0gJiYgeVtlXSh0KTsKfSBjYXRjaCAodCkge30KeS5fYWN0aXZlID0gITE7CmlmICh5Ll9kaXJ0eSkgewpmb3IgKGUgPSAwOyBlIDwgaTsgZSsrKSBpZiAoIXlbZV0pIHsKZSA9PSBpIC0gMSA/IHkucG9wKCkgOiB5W2UtLV0gPSB5LnBvcCgpOwppLS07Cn0KeS5fZGlydHkgPSAhMTsKfQp9Cn0pOwp9Cn0KfQp9CmZ1bmN0aW9uIGwodCkgewp2YXIgZSwgaSA9IG1bcC5sYW5ndWFnZXNbdF1dOwpmb3IgKGUgPSAwOyBlIDwgaS5sZW5ndGg7IGUrKykgMCAhPT0gaVtlXSAmJiBiW2VdLmFkZCh0LCBpW2VdKTsKfQpmdW5jdGlvbiBkKHQpIHsKeS5wdXNoKHQpOwp9CmZ1bmN0aW9uIHUodCkgewpmb3IgKHZhciBlID0gMCwgaSA9IHkubGVuZ3RoOyBlIDwgaTsgZSsrKSBpZiAoeVtlXSA9PSB0KSB7CnkuX2FjdGl2ZSA/ICh5W2VdID0gbnVsbCwgeS5fZGlydHkgPSAhMCkgOiBlID09IGkgLSAxID8geS5wb3AoKSA6IHlbZV0gPSB5LnBvcCgpOwpicmVhazsKfQp9CmZ1bmN0aW9uIGMoKSB7CnJldHVybiAhKC0xID09IHcuc2VhcmNoKEMpKTsKfQpmdW5jdGlvbiBoKHQpIHsKcmV0dXJuIGMoKSA/IHQucmVwbGFjZSgvbGVmdC8sICIlbGVmdCUiKS5yZXBsYWNlKC9yaWdodC8sICJsZWZ0IikucmVwbGFjZSgvJWxlZnQlLywgInJpZ2h0IikucmVwbGFjZSgvbHRyLywgIiVsdHIlIikucmVwbGFjZSgvcnRsLywgImx0ciIpLnJlcGxhY2UoLyVsdHIlLywgInJ0bCIpIDogdDsKfQpmdW5jdGlvbiBmKCkgewp2YXIgdCA9IHAuc3RyaW5nczsKaWYgKHQpIGZvciAodmFyIGUgPSAwOyBlIDwgdC5sZW5ndGg7IGUrKykgbihlLCB0W2VdKTsKfQp2YXIgZyA9IGkoOCksIHAgPSBpKDQ2KSwgbSA9IGkoNSksICQgPSBpKDE4OCksIGIgPSBbXSwgdyA9ICJfIiwgeCA9IFtdLCB2ID0gW10sIHkgPSBbXSwgaiA9IGcuaXNUZXh0Q29udGVudCwgQyA9IC9eYXJ8XmZhfF5oZXxea3V8XnVyLzsKbi5iaW5kID0gcjsKbi5mbGlwID0gaDsKbi5vbkxhbmd1YWdlID0gZDsKbi51bkxhbmd1YWdlID0gdTsKbi51cGRhdGUgPSBfOwpuLnVuYmluZCA9IGE7Cm4ucnRsID0gYzsKbi5maW5kQ2xvc2VzdExhbmd1YWdlID0gczsKbi5sb2FkRGVmYXVsdFN0cmluZ3MgPSBmOwpmKCk7CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDk3KSwgbyA9IGkoMTQpLCByID0gaSgzODUpLCBhID0gaSgzODMpLCBzID0gaSgxODMpLCBfID0gaSgxODApLCBsID0gaSg5NiksIGQgPSBpKDI4KSwgdSA9IG4uUkVHRVgsIGMgPSB7fTsKby5leHRlbmQoYyk7CmMuZ2VuZXJhdGVBbGwgPSByLmdlbmVyYXRlQWxsOwpjLmdlbmVyYXRlID0gci5nZW5lcmF0ZTsKYy53cml0ZUNoYW5nZXMgPSByLndyaXRlQ2hhbmdlczsKYy5zZXRQYWxldHRlID0gYS5zZXRQYWxldHRlOwpjLmRlbFBhbGV0dGUgPSBhLmRlbFBhbGV0dGU7CmMuZGVsUGFsZXR0ZXMgPSBhLmRlbFBhbGV0dGVzOwpjLmFwcGVuZFBhbGV0dGUgPSBhLmFwcGVuZFBhbGV0dGU7CmMuZ2V0UGFsZXR0ZSA9IGEuZ2V0UGFsZXR0ZTsKYS5pbml0RGVmYXVsdFBhbGV0dGUoKTsKYy5zZXRJRnJhbWVPbmx5ID0gcy5zZXRJRnJhbWVPbmx5OwpjLmJpbmRJRnJhbWUgPSBzLmJpbmRJRnJhbWU7CmMudW5iaW5kSUZyYW1lID0gcy51bmJpbmRJRnJhbWU7CmMudHJhbnNmb3JtMkNTUyA9IF87CmMuZ2V0VmFyaWFibGUgPSBmdW5jdGlvbih0KSB7CmZvciAodmFyIGUgPSBsLnBhbGV0dGVzLCBpID0gbC5wcmlvcml0aWVzLCBuID0gaS5sZW5ndGggLSAxOyBuID49IDA7IG4tLSkgaWYgKGlbbl0gJiYgZVtpW25dXSAmJiAoZVtpW25dXVt0XSB8fCBkKGVbaVtuXV1bdF0pKSkgcmV0dXJuIHUuaXNWYXJpYWJsZS50ZXN0KGVbaVtuXV1bdF0pID8gYy5nZXRWYXJpYWJsZShlW2lbbl1dW3RdLnRvU3RyaW5nKCkuc2xpY2UoMikpIDogZVtpW25dXVt0XTsKfTsKYy5yZWxvYWQgPSBmdW5jdGlvbigpIHsKYy53cml0ZUNoYW5nZXMoITApOwp9Owp0LmV4cG9ydHMgPSBjOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4odCwgZSwgaSkgewp0cnkgewp0LnN0eWxlW0koZSldID0gaTsKfSBjYXRjaCAodCkge30KfQpmdW5jdGlvbiBvKCkge30KZnVuY3Rpb24gcigpIHt9CmZ1bmN0aW9uIGEoKSB7CnJldHVybiAiX19fJF8iICsgQisrOwp9CmZ1bmN0aW9uIHModCwgZSkgewp2YXIgaSA9IGUuZ2V0QXR0cmlidXRlKEQpOwppID0gaSA/IGkuc3BsaXQoIiAiKSA6IFtdOwp0IHx8ICh0ID0gYSgpKTsKRVt0XSA9IGU7CmkucHVzaCh0KTsKZS5zZXRBdHRyaWJ1dGUoRCwgaS5qb2luKCIgIikpOwp9CmZ1bmN0aW9uIF8odCkgewp2YXIgZSA9IHQuZ2V0QXR0cmlidXRlKEQpOwppZiAoZSkgewplID0gZS5zcGxpdCgiICIpOwpmb3IgKHZhciBpID0gMDsgaSA8IGUubGVuZ3RoOyBpKyspIGRlbGV0ZSBFW2VbaV1dOwp9Cn0KZnVuY3Rpb24gbCh0KSB7CnJldHVybiBFW3RdOwp9CmZ1bmN0aW9uIGQodCwgZSkgewpmb3IgKHZhciBpLCBuID0gMDsgbiA8IGUubGVuZ3RoOyBuKyspIHsKaSA9IGVbbl07CmlmICgic3RyaW5nIiAhPSB0eXBlb2YgaSkgewppWzFdICYmIChpWzFdID0gdCArICJfXyIgKyBpWzFdKTsKaVszXSAmJiBkKHQsIGlbM10pOwp9Cn0KcmV0dXJuIGU7Cn0KZnVuY3Rpb24gdSh0KSB7CnZhciBlID0gZnVuY3Rpb24oaSwgbiwgbywgciwgcykgewpuID0gbiB8fCBhKCk7CnZhciBfID0gaS5vd25lckRvY3VtZW50LCBsID0gVC5jcmVhdGUoXywgdCwgbik7CmwuX19qeF9fY29uc3RydWN0b3IgPSBlOwpsLl9fanhfX25hdGl2ZSA9ICEwOwp2YXIgZCA9ICExOwpsLmFwcGVuZFRvUGFyZW50ID0gZnVuY3Rpb24odCkgewpULmhhc1BhcmVudE5vZGUobCkgfHwgVC5hcHBlbmRDaGlsZChpLCBsKTsKaWYgKHQgJiYgIWQpIHsKaS5hcHBlbmRUb1BhcmVudCAmJiBpLmFwcGVuZFRvUGFyZW50KCEwKTsKZCA9ICEwOwp9Cn07Cmwuc2V0U3R5bGUobyk7Cmwuc2V0QXR0cmlidXRlcyhzKTsKVC5hZGRDaGlsZHJlbihsLCByKTsKbC5hcHBlbmRUb1BhcmVudCgpOwpyZXR1cm4gbDsKfTsKcmV0dXJuIGU7Cn0KZnVuY3Rpb24gYyh0KSB7CmZvciAoO3QuZGVmYXVsdFBsYWNlbWVudDsgKSB0ID0gdC5kZWZhdWx0UGxhY2VtZW50OwpyZXR1cm4gdDsKfQpmdW5jdGlvbiBoKHQpIHsKcmV0dXJuIHQuY3JlYXRlRWxlbWVudCA/IHQgOiBjKHQpLm93bmVyRG9jdW1lbnQ7Cn0KZnVuY3Rpb24gZih0LCBlLCBpLCBuKSB7CnZhciByID0gaCh0KS5jcmVhdGVFbGVtZW50KGUpOwp4LmlzU2FmYXJpICYmICJ0ZXh0YXJlYSIgPT0gZS50b0xvd2VyQ2FzZSgpICYmIChyLnN0eWxlLnJlc2l6ZSA9ICJub25lIik7CnN3aXRjaCAoZS50b0xvd2VyQ2FzZSgpKSB7CmNhc2UgInRleHRhcmVhIjoKY2FzZSAiaW5wdXQiOgpyLnN0eWxlLm91dGxpbmVTdHlsZSA9ICJub25lIjsKfQpvKHIpOwpzKGksIHIpOwp3KHIpOwp2LmV4dGVuZChyKTsKci5zZXRTdHlsZShuKTsKeC5idWdneUNTUyAmJiByLnNldE92ZXJmbG93KCJhdXRvIik7CnJldHVybiByOwp9CmZ1bmN0aW9uIGcodCkgewpyZXR1cm4gdC5wYXJlbnROb2RlICYmIHQucGFyZW50Tm9kZS5ub2RlVHlwZSAmJiAxMSAhPSB0LnBhcmVudE5vZGUubm9kZVR5cGU7Cn0KZnVuY3Rpb24gcCh0LCBlKSB7CmlmICh0ICE9IGRvY3VtZW50LmJvZHkgfHwgImFic29sdXRlIiAhPSBlLnN0eWxlLnBvc2l0aW9uICYmICJmaXhlZCIgIT0gZS5zdHlsZS5wb3NpdGlvbikgewpmb3IgKHZhciBpID0gdDsgaS5kZWZhdWx0UGxhY2VtZW50OyApIGkgPSBpLmRlZmF1bHRQbGFjZW1lbnQ7CmkuYXBwZW5kQ2hpbGQoZSk7CmUuYXBwbHlDb25zdHJhaW50cygpOwp9IGVsc2Ugewp0Lmluc2VydEJlZm9yZShlLCB0LmZpcnN0Q2hpbGQpOwplLmFwcGx5Q29uc3RyYWludHMoKTsKfQp9CmZ1bmN0aW9uIG0odCwgZSkgewppZiAoZSAmJiBlLmxlbmd0aCkgewp0ID0gYyh0KTsKZm9yICh2YXIgaSwgbiwgbywgciA9IHQub3duZXJEb2N1bWVudCwgYSA9IDA7IGEgPCBlLmxlbmd0aDsgYSsrKSB7Cm4gPSBlW2FdOwppZiAoeShuKSkgaSA9IG5bMF0odCwgblsxXSwgblsyXSwgblszXSwgbls0XSk7IGVsc2UgewpvID0gci5jcmVhdGVUZXh0Tm9kZShuKTsKdC5hcHBlbmRDaGlsZChvKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2Ygbi5iaW5kICYmIG4uYmluZChvKTsKfQp9CnJldHVybiBpOwp9Cn0KZnVuY3Rpb24gJCh0KSB7CnZhciBlID0gdC5vd25lckRvY3VtZW50OwpyZXR1cm4gZS5kZWZhdWx0VmlldyAmJiBlLmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUgPyBlLmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUodCwgbnVsbCkgfHwge30gOiB0LmN1cnJlbnRTdHlsZSA/IHQuY3VycmVudFN0eWxlIDoge307Cn0KZnVuY3Rpb24gYih0LCBlKSB7CnJldHVybiAkKHQpW2VdOwp9CmZ1bmN0aW9uIHcodCwgZSkgewpmdW5jdGlvbiBpKGUpIHsKdmFyIGk7CmZvciAodmFyIG4gaW4gZSkgaWYgKGUuaGFzT3duUHJvcGVydHkobikpIHsKaSA9ICJzZXQiICsgbi5zdWJzdHIoMCwgMSkudG9VcHBlckNhc2UoKSArIG4uc3Vic3RyKDEpOwoiZnVuY3Rpb24iID09IHR5cGVvZiB0W2ldICYmIHRbaV0oZVtuXSk7Cn0KfQpmdW5jdGlvbiBuKCkgewpyZXR1cm4gdC50ZXh0Q29udGVudCB8fCB0LmlubmVyVGV4dCB8fCAiIjsKfQpmdW5jdGlvbiBvKGUpIHsKaiAmJiBqLnVuYmluZCAmJiBqLnVuYmluZCh0KTsKZSAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiBlLmJpbmQgJiYgZS5iaW5kKHQpOwpPID8gdC50ZXh0Q29udGVudCA9IGUgOiB0LmlubmVyVGV4dCA9IGU7Cn0KZnVuY3Rpb24gcihlKSB7CmZ1bmN0aW9uIGkoZSwgaSkgewp2YXIgbiA9IEkoInNldC0iICsgZSk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHRbbl0gPyB0W25dKGkpIDogTih0LCBlLCBpKTsKfQp2YXIgbiwgbzsKaWYgKDEgPT0gYXJndW1lbnRzLmxlbmd0aCAmJiBDKGUpKSB7CmlmICghZSkgcmV0dXJuOwplID0gZS5zcGxpdCgiOyIpOwpmb3IgKG4gPSAwOyBuIDwgZS5sZW5ndGg7IG4rKykgaWYgKCFlW25dLm1hdGNoKC9eXHMqJC8pKSB7Cm8gPSBlW25dLm1hdGNoKC9ccyooW146XSspOlxzKiguKj8pXHMqJC8pOwohbyAmJiBlW25dLmxlbmd0aCB8fCBpKG9bMV0sIG9bMl0pOwp9Cn0gZWxzZSBpZiAoMSA9PSBhcmd1bWVudHMubGVuZ3RoICYmICJvYmplY3QiID09IHR5cGVvZiBlKSBmb3IgKHZhciByIGluIGUpIGUuaGFzT3duUHJvcGVydHkocikgJiYgaShyLCBlW3JdKTsgZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIGZvciAobiA9IDA7IG4gPCBhcmd1bWVudHMubGVuZ3RoOyBuICs9IDIpIGkoYXJndW1lbnRzW25dLCBhcmd1bWVudHNbbiArIDFdKTsKfQpmdW5jdGlvbiBhKGUpIHsKZnVuY3Rpb24gaSgpIHsKeC5pc0lFID8gb3Quc3R5bGVGbG9hdCA9IGUgOiBvdC5jc3NGbG9hdCA9IGU7Cn0KaiAmJiBqLm9uTGFuZ3VhZ2UgJiYgai5vbkxhbmd1YWdlKGkpOwppKCk7CnJldHVybiB0Owp9CmZ1bmN0aW9uIHMoZSkgewpYID0gaChlKTsKZygpOwpyZXR1cm4gdDsKfQpmdW5jdGlvbiBfKGUpIHsKUSA9IGgoZSk7CmcoKTsKcmV0dXJuIHQ7Cn0KZnVuY3Rpb24gbChlKSB7ClogPSBoKGUpOwpnKCk7CnJldHVybiB0Owp9CmZ1bmN0aW9uIGQoZSkgewpLID0gaChlKTsKZygpOwpyZXR1cm4gdDsKfQpmdW5jdGlvbiB1KGUpIHsKSiA9IGgoZSk7CmcoKTsKcmV0dXJuIHQ7Cn0KZnVuY3Rpb24gYyhlKSB7CnR0ID0gaChlKTsKZygpOwpyZXR1cm4gdDsKfQpmdW5jdGlvbiBoKHQpIHsKcmV0dXJuIEModCkgJiYgIiUiID09IHQuc3Vic3RyKHQubGVuZ3RoIC0gMSkgPyBwYXJzZUludCh0LCAxMCkgKyAiJSIgOiBwYXJzZUludCh0LCAxMCk7Cn0KZnVuY3Rpb24gZihlKSB7CnN3aXRjaCAoZSkgewpjYXNlICJzdGF0aWMiOgpjYXNlICJyZWxhdGl2ZSI6CmNhc2UgImFic29sdXRlIjoKY2FzZSAiZml4ZWQiOgpldCA9IGU7Cn0KbnVsbCAhPT0gZXQgJiYgTih0LCAicG9zaXRpb24iLCBfdCAmJiAiZml4ZWQiID09IGV0ID8gImFic29sdXRlIiA6IGV0KTsKcmV0dXJuIHQ7Cn0KZnVuY3Rpb24gZygpIHsKaXNOYU4oWCkgfHwgaXNOYU4odHQpIHx8IChaID0gTmFOKTsKaXNOYU4oUSkgfHwgaXNOYU4oSikgfHwgKEsgPSBOYU4pOwpKIDwgMCAmJiAoSiA9IDApOwp0dCA8IDAgJiYgKHR0ID0gMCk7CnAoKTsKfQpmdW5jdGlvbiBwKCkgewpULmhhc1BhcmVudE5vZGUodCkgJiYgKHguYnVncy5pZS5jc3NGaXhlZCAmJiAiZml4ZWQiID09IGV0ID8gUyhtLCB0LCAhMCkgOiAheC5idWdzLmllLmNzc0JvdHRvbVJpZ2h0IHx8IChpc05hTihRKSB8fCBpc05hTihLKSkgJiYgKGlzTmFOKFgpIHx8IGlzTmFOKFopKSA/IEQoKSA6IEIoKSk7Cn0KZnVuY3Rpb24gbSgpIHsKdigpOwp0LmFwcGVuZFRvUGFyZW50ICYmIHQuYXBwZW5kVG9QYXJlbnQoITApOwpaIDwgMCAmJiAoWiA9IDApOwpLIDwgMCAmJiAoSyA9IDApOwpBLm9rKGlzTmFOKFEpICE9IGlzTmFOKEspLCAiT25lIGFuZCBvbmx5IG9uZSBvZiBsZWZ0L3JpZ2h0IG11c3QgYmUgc2V0Iik7CkEub2soaXNOYU4oWCkgIT0gaXNOYU4oWiksICJPbmUgYW5kIG9ubHkgb25lIG9mIHRvcC9ib3R0b20gbXVzdCBiZSBzZXQiKTsKQS5vayghaXNOYU4oSiksICJXaWR0aCBtdXN0IGJlIHNldCIpOwpBLm9rKCFpc05hTih0dCksICJIZWlnaHQgbXVzdCBiZSBzZXQiKTsKQS5vayh0Lm93bmVyRG9jdW1lbnQgPT0gZG9jdW1lbnQsICJGaXhlZCBlbGVtZW50IG11c3QgYmUgdG9wIGxldmVsIGVsZW1lbnQiKTsKaWYgKHR0ICE9IG50KSB7Cm90LmhlaWdodCA9IHR0ICsgInB4IjsKbnQgPSB0dDsKfQppZiAoSiAhPSBpdCkgewpvdC53aWR0aCA9IEogKyAicHgiOwppdCA9IEo7Cn0KdmFyIGUsIGksIG4sIG87CmlmICh4LmlzUXVpcmtzKSB7Cm8gPSAiZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQiOwpuID0gImRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgiOwplID0gIihkdW1teWUzNGNmNj1kb2N1bWVudC5ib2R5LnNjcm9sbExlZnQpKyI7CmkgPSAiKGR1bW15ZTM0Y2Y2PWRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wICkrIjsKfSBlbHNlIHsKbyA9ICJkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IjsKbiA9ICJkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgiOwplID0gIihkdW1teWUzNGNmNj1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCkrIjsKaSA9ICIoZHVtbXllMzRjZjY9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCApKyI7Cn0KaXNOYU4oUSkgPyBDKFEpID8gZSArPSBwYXJzZUludChRLCAxMCkgLyAxMDAgKiAoeC5pc1F1aXJrcyA/IGRvY3VtZW50LmJvZHkgOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmNsaWVudFdpZHRoIDogZSArPSBuICsgIi0iICsgKEogKyBLKSA6IGUgKz0gUTsKaXNOYU4oWCkgPyBDKFgpID8gaSArPSBwYXJzZUludChYLCAxMCkgLyAxMDAgKiAoeC5pc1F1aXJrcyA/IGRvY3VtZW50LmJvZHkgOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmNsaWVudEhlaWdodCA6IGkgKz0gbyArICItIiArICh0dCArIFopIDogaSArPSBYOwp4LmlzSUU2ICYmICJydGwiID09IGRvY3VtZW50LmJvZHkuY3VycmVudFN0eWxlLmRpcmVjdGlvbiAmJiAoeC5pc1F1aXJrcyA/IGUgKz0gIi0oZG9jdW1lbnQuYm9keS5zY3JvbGxXaWR0aC1kb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoKSIgOiBlICs9ICItKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxXaWR0aC1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpIik7Cm90LnNldEV4cHJlc3Npb24oImxlZnQiLCBlICsgJysicHgiJyk7Cm90LnNldEV4cHJlc3Npb24oInRvcCIsIGkgKyAnKyJweCInKTsKfQpmdW5jdGlvbiB2KCkgewppZiAoIXYuYWxyZWFkeUhhY2tlZCkgewp2LmFscmVhZHlIYWNrZWQgPSAxOwppZiAoeC5pc1N0cmljdCkgZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLnN0eWxlLmJhY2tncm91bmQgPSAiI2ZmZiB1cmwoaHR0cHM6Ly8pIGZpeGVkIjsgZWxzZSBpZiAoImZpeGVkIiAhPSBkb2N1bWVudC5ib2R5LmN1cnJlbnRTdHlsZS5iYWNrZ3JvdW5kQXR0YWNobWVudCkgewppZiAoIm5vbmUiICE9IGRvY3VtZW50LmJvZHkuY3VycmVudFN0eWxlLmJhY2tncm91bmRJbWFnZSkgewp2YXIgdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLCBlID0gdC5zdHlsZSwgaSA9IGRvY3VtZW50LmJvZHkuY3VycmVudFN0eWxlOwplLmJhY2tncm91bmRBdHRhY2htZW50ID0gaS5iYWNrZ3JvdW5kQXR0YWNobWVudDsKZS5iYWNrZ3JvdW5kQ29sb3IgPSBpLmJhY2tncm91bmRDb2xvcjsKZS5iYWNrZ3JvdW5kSW1hZ2UgPSBpLmJhY2tncm91bmRJbWFnZTsKZS5iYWNrZ3JvdW5kUG9zaXRpb25YID0gaS5iYWNrZ3JvdW5kUG9zaXRpb25YOwplLmJhY2tncm91bmRQb3NpdGlvblkgPSBpLmJhY2tncm91bmRQb3NpdGlvblk7CmUuYmFja2dyb3VuZFJlcGVhdCA9IGkuYmFja2dyb3VuZFJlcGVhdDsKZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSI7CmUuekluZGV4ID0gLTE7CmUudG9wID0gZS5sZWZ0ID0gMDsKZS53aWR0aCA9ICIxMDAlIjsKZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUodCwgZG9jdW1lbnQuYm9keS5maXJzdENoaWxkKTsKdmFyIG4sIG8sIHIgPSAhMSwgYSA9IDAsIHMgPSBmdW5jdGlvbigpIHsKaWYgKCFyICYmIGEpIHsKbiArPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoIC0gYTsKZS53aWR0aCA9IG4gKyAicHgiOwphID0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDsKfQpvIHx8IChvID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKZS53aWR0aCA9IDA7CmRvY3VtZW50LmJvZHkuY2xhc3NOYW1lID0gZG9jdW1lbnQuYm9keS5jbGFzc05hbWU7Cm4gPSBNYXRoLm1heChkb2N1bWVudC5ib2R5LnNjcm9sbFdpZHRoLCBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoKTsKZS53aWR0aCA9IG4gKyAicHgiOwphID0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDsKciA9IGRvY3VtZW50LmJvZHkuc2Nyb2xsV2lkdGggPiBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoOwpvID0gbnVsbDsKfSwgMCkpOwp9OwpzZXRUaW1lb3V0KHMsIDApOwplLnNldEV4cHJlc3Npb24oImhlaWdodCIsICdkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodCsicHgiJyk7CnMoKTsKfQpkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICJ1cmwoaHR0cHM6Ly8pIjsKZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kQXR0YWNobWVudCA9ICJmaXhlZCI7Cn0KfQp9CmZ1bmN0aW9uIEIoKSB7CmZ1bmN0aW9uIGUodCwgZSkgewpvdFt0XSA9ICIiOwpvdC5yZW1vdmVFeHByZXNzaW9uKHQpOwoibnVtYmVyIiA9PSB0eXBlb2YgZSA/IG90W3RdID0gZSArICJweCIgOiBDKGUpICYmICIlIiA9PSBlLnN1YnN0cihlLmxlbmd0aCAtIDEpID8gb3RbdF0gPSBlIDogQyhlKSAmJiBlLmxlbmd0aCAmJiBvdC5zZXRFeHByZXNzaW9uKHQsIGUpOwp9CnQuYXBwZW5kVG9QYXJlbnQgJiYgdC5hcHBlbmRUb1BhcmVudCghMCk7CnYoKTsKdmFyIGksIG4sIG8gPSBpc05hTihRKSA/ICIiIDogUSwgciA9IGlzTmFOKEspID8gIiIgOiBLLCBhID0gaXNOYU4oSikgPyAiIiA6IEosIHMgPSBpc05hTihYKSA/ICIiIDogWCwgXyA9IGlzTmFOKFopID8gIiIgOiBaLCBsID0gaXNOYU4odHQpID8gIiIgOiB0dCwgZCA9ICJCYWNrQ29tcGF0IiA9PSB0Lm93bmVyRG9jdW1lbnQuY29tcGF0TW9kZTsKaWYgKCJmaXhlZCIgPT0gZXQgJiYgdC5vd25lckRvY3VtZW50ID09IGRvY3VtZW50KSBpZiAoZCkgewpuID0gImRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0IjsKaSA9ICJkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoIjsKfSBlbHNlIHsKbiA9ICJkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IjsKaSA9ICJkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgiOwp9IGVsc2UgewpuID0gInRoaXMub2Zmc2V0UGFyZW50LmNsaWVudEhlaWdodCI7CmkgPSAidGhpcy5vZmZzZXRQYXJlbnQuY2xpZW50V2lkdGgiOwp9CmlmICh4LmlzSUU2KSB7CmlmICghaXNOYU4oUSkgJiYgIWlzTmFOKEspKSB7CnIgPSAiIjsKYSA9IFsgaSwgUSwgSyBdLmpvaW4oIi0iKTsKfQppZiAoIWlzTmFOKFgpICYmICFpc05hTihaKSkgewpfID0gIiI7CmwgPSBbIG4sIFgsIFogXS5qb2luKCIgLSAiKTsKfQp9CmlmICgiZml4ZWQiID09IGV0ICYmIHQub3duZXJEb2N1bWVudCA9PSBkb2N1bWVudCkgaWYgKGQpIHsKaWYgKCFpc05hTihRKSB8fCBpc05hTihLKSkgbyArPSAiKyhkdW1teWUzNGNmNj1kb2N1bWVudC5ib2R5LnNjcm9sbExlZnQpIjsgZWxzZSB7Cm8gKz0gIisoZHVtbXllMzRjZjY9ZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0KStkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoLXRoaXMub2Zmc2V0V2lkdGgtIiArIEs7CnIgPSAiIjsKfQppZiAoIWlzTmFOKFgpIHx8IGlzTmFOKFopKSBzICs9ICIrKGR1bW15ZTM0Y2Y2PWRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKSI7IGVsc2UgewpzICs9ICIrKGR1bW15ZTM0Y2Y2PWRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKStkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodC10aGlzLm9mZnNldEhlaWdodC0iICsgWjsKXyA9ICIiOwp9Cn0gZWxzZSB7CmlmICghaXNOYU4oUSkgfHwgaXNOYU4oSykpIG8gKz0gIisoZHVtbXllMzRjZjY9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQpIjsgZWxzZSBpZiAoeC5pc0lFNikgewpvICs9ICIrKGR1bW15ZTM0Y2Y2PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0KStkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgtdGhpcy5vZmZzZXRXaWR0aC0iICsgSzsKciA9ICIiOwp9IGVsc2UgciArPSAiK2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxXaWR0aC0oZHVtbXllMzRjZjY9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQpLWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCI7CmlmICghaXNOYU4oWCkgfHwgaXNOYU4oWikpIHMgKz0gIisoZHVtbXllMzRjZjY9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCkiOyBlbHNlIGlmICh4LmlzSUU2KSB7CnMgKz0gIisoZHVtbXllMzRjZjY9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCkrZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodC10aGlzLm9mZnNldEhlaWdodC0iICsgWjsKXyA9ICIiOwp9IGVsc2UgXyArPSAiK2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQgLSAoZHVtbXllMzRjZjY9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCkgLSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IjsKfQplKCJsZWZ0Iiwgbyk7CmUoInJpZ2h0Iiwgcik7CmUoIndpZHRoIiwgYSk7CmUoInRvcCIsIHMpOwplKCJib3R0b20iLCBfKTsKZSgiaGVpZ2h0IiwgbCk7Cn0KZnVuY3Rpb24gRCgpIHsKVygpOwpFKCk7Cn0KZnVuY3Rpb24gRSgpIHsKb3QudG9wID0gQyhYKSA/IFggOiBpc05hTihYKSA/ICIiIDogWCArICJweCI7Cm90LmJvdHRvbSA9IEMoWikgPyBaIDogaXNOYU4oWikgPyAiIiA6IFogKyAicHgiOwppZiAodHQgIT0gbnQpIHsKb3QuaGVpZ2h0ID0gQyh0dCkgPyB0dCA6IGlzTmFOKHR0KSA/ICIiIDogdHQgKyAicHgiOwpudCA9IHR0Owp9Cn0KZnVuY3Rpb24gVygpIHsKb3QubGVmdCA9IEMoUSkgPyBRIDogaXNOYU4oUSkgPyAiIiA6IFEgKyAicHgiOwpvdC5yaWdodCA9IEMoSykgPyBLIDogaXNOYU4oSykgPyAiIiA6IEsgKyAicHgiOwppZiAoSiAhPSBpdCkgewpvdC53aWR0aCA9IEMoSikgPyBKIDogaXNOYU4oSikgPyAiIiA6IEogKyAicHgiOwppdCA9IEo7Cn0KfQpmdW5jdGlvbiBQKCkgewp2YXIgZSwgaSwgbiwgbywgciwgYSwgcyA9IGlzTmFOKEopID8gdC5vZmZzZXRXaWR0aCA6IEosIF8gPSBpc05hTih0dCkgPyB0Lm9mZnNldEhlaWdodCA6IHR0OwplID0gaSA9IG4gPSBvID0gTmFOOwpyID0gYSA9IDA7CnN3aXRjaCAobHQuY2hhckF0KDApKSB7CmNhc2UgInQiOgplID0gMDsKYnJlYWs7CgpjYXNlICJtIjoKZSA9ICI1MCUiOwpicmVhazsKCmNhc2UgImIiOgppID0gMDsKfQpzd2l0Y2ggKGx0LmNoYXJBdCgxKSkgewpjYXNlICJsIjoKbiA9IDA7CmJyZWFrOwoKY2FzZSAiYyI6Cm4gPSAiNTAlIjsKYnJlYWs7CgpjYXNlICJyIjoKbyA9IDA7Cn0KIjUwJSIgPT0gZSAmJiAociA9IC1fIC8gMik7CiI1MCUiID09IG4gJiYgKGEgPSAtcyAvIDIpOwp2YXIgbCA9IDA7CnV0ID49IDAgfHwgIWlzTmFOKGUpIHx8ICJzdHJpbmciID09IHR5cGVvZiBlID8gciArPSB1dCA6IGwgPSAtdXQ7CmEgKz0gZHQ7CnQuc2V0TWFyZ2luKFsgciArICJweCIsIDAsIGwgKyAicHgiLCBhICsgInB4IiBdLmpvaW4oIiAiKSkuc2V0VG9wKGUpLnNldEJvdHRvbShpKS5zZXRMZWZ0KG4pLnNldFJpZ2h0KG8pOwp9CmZ1bmN0aW9uIFIoZSkgewppZiAoIXkoZSkpIHsKZSA9IGUuc3BsaXQoIiAiKTsKZVswXSA9IHBhcnNlSW50KGVbMF0sIDEwKTsKZVsxXSA9IHBhcnNlSW50KGVbMV0sIDEwKTsKZVsyXSA9IHBhcnNlSW50KGVbMl0sIDEwKTsKZVszXSA9IHBhcnNlSW50KGVbM10sIDEwKTsKfQppZiAoX3QpIHsKZVsxXSA9IE1hdGgubWF4KDAsIGVbMV0pOwplWzJdID0gTWF0aC5tYXgoMCwgZVsyXSk7Cn0KY3QgPSBlOwpyZXR1cm4gdDsKfQpmdW5jdGlvbiBGKGUpIHsKaWYgKCF5KGUpKSB7CmUgPSBlLnNwbGl0KCIgIik7CmVbMF0gPSBwYXJzZUludChlWzBdLCAxMCk7CmVbMV0gPSBwYXJzZUludChlWzFdLCAxMCk7CmVbMl0gPSBwYXJzZUludChlWzJdLCAxMCk7CmVbM10gPSBwYXJzZUludChlWzNdLCAxMCk7Cn0KaHQgPSBbIE1hdGgubWF4KDAsIGVbMF0pLCBNYXRoLm1heCgwLCBlWzFdKSwgTWF0aC5tYXgoMCwgZVsyXSksIE1hdGgubWF4KDAsIGVbM10pIF07CnJldHVybiB0Owp9CmZ1bmN0aW9uIE0oKSB7CmlmIChjdCkgewpRIDwgY3RbM10gKyBodFszXSAmJiAoUSA9IGN0WzNdKTsKSyA8IGN0WzFdICsgaHRbMV0gJiYgKEsgPSBjdFsxXSk7ClggPCBjdFswXSArIGh0WzBdICYmIChYID0gY3RbMF0pOwpaIDwgY3RbMl0gKyBodFsyXSAmJiAoWiA9IGN0WzJdKTsKdmFyIGUgPSB4LmlzUXVpcmtzID8gZG9jdW1lbnQuYm9keSA6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgaSA9IGlzTmFOKEopID8gdC5vZmZzZXRXaWR0aCA6IEosIG4gPSBlLmNsaWVudFdpZHRoIC0gaSwgbyA9IGUuY2xpZW50SGVpZ2h0IC0gdC5vZmZzZXRIZWlnaHQ7Cm4gLSBRIDw9IGN0WzFdICsgaHRbMV0gJiYgKFEgPSBuIC0gY3RbMV0pOwpuIC0gSyA8PSBjdFszXSArIGh0WzNdICYmIChLID0gbiAtIGN0WzNdKTsKbyAtIFggPD0gY3RbMl0gKyBodFsyXSAmJiAoWCA9IG8gLSBjdFsyXSk7Cm8gLSBaIDw9IGN0WzBdICsgaHRbMF0gJiYgKFogPSBvIC0gY3RbMF0pOwp9Cn0KZnVuY3Rpb24gVihlLCBpKSB7ClogPSBLID0gTmFOOwpYID0gaTsKUSA9IGU7Ck0oKTsKcCgpOwpyZXR1cm4gdDsKfQpmdW5jdGlvbiBIKHQsIGUpIHsKaXNOYU4oUSkgJiYgaXNOYU4oSykgJiYgKFEgPSAwKTsKaXNOYU4oWCkgJiYgaXNOYU4oWikgJiYgKFggPSAwKTsKaXNOYU4oUSkgfHwgKFEgKz0gdCk7CmlzTmFOKEspIHx8IChLIC09IHQpOwppc05hTihYKSB8fCAoWCArPSBlKTsKaXNOYU4oWikgfHwgKFogLT0gZSk7Ck0oKTsKcCgpOwp9CmZ1bmN0aW9uIHEoZSwgaSwgbiwgbykgewppZiAoZSkgewppc05hTihKKSAmJiAoSiA9IHQub2Zmc2V0V2lkdGgpOwpKID0gTWF0aC5tYXgobiB8fCAwLCBKICsgZSk7Cn0KaWYgKGkpIHsKaXNOYU4odHQpICYmICh0dCA9IHQub2Zmc2V0SGVpZ2h0KTsKdHQgPSBNYXRoLm1heChvIHx8IDAsIHR0ICsgaSk7Cn0KTSgpOwpwKCk7CnQuZmlyZSgiang6cmVzaXplIik7CnJldHVybiB0Owp9CmZ1bmN0aW9uIHooZSkgewoibm9uZSIgIT0gZSAmJiAiYmxvY2siICE9IGUgfHwgKGZ0ID0gITApOwoibm9uZSIgIT0gZSAmJiAiaGlkZGVuIiAhPSBlICYmICJmYWxzZSIgIT0gZSAmJiBlID8gWSgpIDogVSgpOwpyZXR1cm4gdDsKfQpmdW5jdGlvbiBVKCkgewppZiAoZnQpIHsKaWYgKCJub25lIiAhPSBvdC5kaXNwbGF5KSB7Cm90LmRpc3BsYXkgPSAibm9uZSI7CnQuZmlyZSgiaGlkZSIpOwp9Cn0gZWxzZSBpZiAoImhpZGRlbiIgIT0gb3QudmlzaWJpbGl0eSkgewpvdC52aXNpYmlsaXR5ID0gImhpZGRlbiI7CnQuZmlyZSgiaGlkZSIpOwp9CnJldHVybiB0Owp9CmZ1bmN0aW9uIEcoKSB7CnJldHVybiBmdCA/ICJub25lIiAhPSB0LmdldFN0eWxlKCJkaXNwbGF5IikgOiAidmlzaWJsZSIgPT0gdC5nZXRTdHlsZSgidmlzaWJpbGl0eSIpOwp9CmZ1bmN0aW9uIFkoKSB7CmlmIChmdCkgewppZiAoImJsb2NrIiAhPSBvdC5kaXNwbGF5KSB7Cm90LmRpc3BsYXkgPSAiYmxvY2siOwp0LmZpcmUoInNob3ciKTsKfQp9IGVsc2UgaWYgKCJ2aXNpYmxlIiAhPSBvdC52aXNpYmlsaXR5KSB7Cm90LnZpc2liaWxpdHkgPSAidmlzaWJsZSI7CnQuZmlyZSgic2hvdyIpOwp9CnJldHVybiB0Owp9CnZhciBYLCBaLCBRLCBLLCBKLCB0dCwgZXQsIGl0LCBudCwgb3QgPSB0LnN0eWxlLCBydCA9IHQub3duZXJEb2N1bWVudCwgYXQgPSAiQmFja0NvbXBhdCIgPT0gcnQuY29tcGF0TW9kZSwgc3QgPSAhKCFydC5kb2N1bWVudEVsZW1lbnQgfHwgIXJ0LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRFeHByZXNzaW9uKSwgX3QgPSB4LmlzSUU2IHx8IHguaXNJRSAmJiBhdCAmJiBzdDsKWCA9IFogPSBRID0gSyA9IEogPSB0dCA9IE5hTjsKZXQgPSBudWxsOwp2YXIgbHQgPSAiIiwgZHQgPSAwLCB1dCA9IDA7CnQuZG9jayA9IGZ1bmN0aW9uKGUsIGksIG4pIHsKbHQgPSBlOwprKGkpICYmIChkdCA9IGkpOwprKG4pICYmICh1dCA9IG4pOwpQKCk7CnQub24oImp4OnJlc2l6ZSIsIFApOwp9Owp2YXIgY3QsIGh0ID0gWyAwLCAwLCAwLCAwIF0sIGZ0ID0gITE7CnQuZ2V0U3R5bGVzID0gZnVuY3Rpb24oKSB7CnJldHVybiAkKHQpOwp9Owp0LmdldFN0eWxlID0gZnVuY3Rpb24oZSkgewpyZXR1cm4gYih0LCBlKTsKfTsKdC5zZXRBdHRyaWJ1dGVzID0gaTsKdC5nZXRUZXh0ID0gbjsKdC5zZXRUZXh0ID0gbzsKdC5zZXRTdHlsZSA9IHI7CnQuc2V0RmxvYXQgPSBhOwp0LnNldFBvc2l0aW9uID0gZjsKdC5zZXRUb3AgPSBzOwp0LnNldEJvdHRvbSA9IGw7CnQuc2V0TGVmdCA9IF87CnQuc2V0UmlnaHQgPSBkOwp0LnNldEhlaWdodCA9IGM7CnQuc2V0V2lkdGggPSB1Owp0LmFwcGx5Q29uc3RyYWludHMgPSBwOwp0LnNldFZpc2libGUgPSB6Owp0LnNldEJvdW5kcyA9IFI7CnQuc2V0U25hcHMgPSBGOwp0Lm1vdmUgPSBIOwp0Lm1vdmVUbyA9IFY7CnQucmVzaXplQnkgPSBxOwp0LmhpZGUgPSBVOwp0LnNob3cgPSBZOwp0LmlzVmlzaWJsZSA9IEc7CmZvciAodmFyIGd0IGluIEwpIEwuaGFzT3duUHJvcGVydHkoZ3QpICYmICh0W2d0XSA9IExbZ3RdKTsKaWYgKGUpIGZvciAodmFyIHB0ID0gdC5maXJzdENoaWxkOyBwdDsgKSB7CncocHQsICEwKTsKcHQgPSBwdC5uZXh0U2libGluZzsKfQpyZXR1cm4gdDsKfQp2YXIgeCA9IGkoOCksIHYgPSBpKDE0KSwgeSA9IGkoMjEpLCBqID0gaSgyKSwgQyA9IGkoMjIpLCBTID0gaSgxNiksIEEgPSBpKDk4KSwgayA9IGkoMjgpLCBJID0gaSgxODYpLnRvQ2FtZWxDYXNlLCBUID0gewpjcmVhdGU6IGYsCmV4dGVuZDogdywKYXBwZW5kQ2hpbGQ6IHAsCmFkZENoaWxkcmVuOiBtLApoYXNQYXJlbnROb2RlOiBnLAppZDogYSwKZ2V0OiBsLApzZXQ6IHMsCnVuc2V0OiBfLAptYW5nbGVJRHM6IGQsCmdlbmVyYXRlSUQ6IGEsCm5hdGl2ZUdlbmVyYXRvcjogdSwKZ2V0U3R5bGVzOiAkLApwcm9jZXNzRGVmZXJyZWRTdHlsZXM6IHIKfSwgTiA9IG4sIEIgPSAxLCBEID0gIl9fSlhfX0lEIiwgRSA9IHt9Owp4LmJ1Z3MubGVha3NNZW1vcnkgJiYgeC5idWdzLmxlYWtzTWVtb3J5KGZ1bmN0aW9uKCkgewpmb3IgKHZhciB0LCBlID0gMCwgaSA9IEUubGVuZ3RoOyBlIDwgaTsgZSsrKSB7CnQgPSBFW2VdOwp0LnBsdWdMZWFrYWdlICYmIHQucGx1Z0xlYWthZ2UoKTsKfQp9KTsKdmFyIE8gPSB4LmlzVGV4dENvbnRlbnQsIEwgPSBULnByb3RvID0gewokOiBmdW5jdGlvbih0KSB7CnJldHVybiBsKHRoaXMuaWQgKyAiX18iICsgdCk7Cn0sCmRlc3Ryb3k6IGZ1bmN0aW9uKCkgewppZiAodGhpcy5fZGVzdHJ1Y3RvcnMpIGZvciAodmFyIHQgPSB0aGlzLl9kZXN0cnVjdG9ycywgZSA9IHQubGVuZ3RoLCBpID0gMDsgaSA8IGU7IGkrKykgdFtpXS5jYWxsKHRoaXMpOwp0aGlzLnBhcmVudE5vZGUgJiYgdGhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMpOwp0aGlzLl9hdXRvYmluZHMgJiYgdGhpcy5hdXRvdW5iaW5kKCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHRoaXMuZW1wdHkgJiYgdGhpcy5lbXB0eSgpOwoiZnVuY3Rpb24iID09IHR5cGVvZiB0aGlzLnVuZXh0ZW5kRXZlbnRzICYmIHRoaXMudW5leHRlbmRFdmVudHMoKTsKXyh0aGlzKTsKeC5idWdzLmxlYWtzTWVtb3J5ICYmICJmdW5jdGlvbiIgPT0gdHlwZW9mIHRoaXMucGx1Z0xlYWthZ2UgJiYgdGhpcy5wbHVnTGVha2FnZSgpOwp9LAplbXB0eTogZnVuY3Rpb24oKSB7CmZvciAodmFyIHQ7IHQgPSB0aGlzLmZpcnN0Q2hpbGQ7ICkgImZ1bmN0aW9uIiA9PSB0eXBlb2YgdC5kZXN0cm95ID8gdC5kZXN0cm95KCkgOiB0Lmp4X3dyYXBwZXIgPyB0Lmp4X3dyYXBwZXIuZGVzdHJveSgpIDogMSA9PSB0Lm5vZGVUeXBlID8gTC5kZXN0cm95LmNhbGwodCkgOiB0aGlzLnJlbW92ZUNoaWxkKHQpOwp9LApvbkRlc3RydWN0aW9uOiBmdW5jdGlvbih0KSB7Cih0aGlzLl9kZXN0cnVjdG9ycyB8fCAodGhpcy5fZGVzdHJ1Y3RvcnMgPSBbXSkpLnB1c2godCk7Cn0sCmF1dG9iaW5kOiBmdW5jdGlvbih0LCBlLCBpKSB7CnQub24oZSwgaSk7CnRoaXMuX2F1dG9iaW5kcyB8fCAodGhpcy5fYXV0b2JpbmRzID0gW10pOwp0aGlzLl9hdXRvYmluZHMucHVzaChbIHQsIGUsIGkgXSk7Cn0sCmF1dG91bmJpbmQ6IGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4sIG8sIHIgPSB0aGlzLl9hdXRvYmluZHM7CmlmICh0ICYmIGUgJiYgaSkgZm9yIChuID0gci5sZW5ndGggLSAxOyBuID49IDA7IG4tLSkgewpvID0gcltuXTsKaWYgKG9bMF0gPT0gdCAmJiBvWzFdID09IGUgJiYgb1syXSA9PSBpKSB7CnIuc3BsaWNlKG4sIDEpOwpvWzBdLnVuKG9bMV0sIG9bMl0pOwpyZXR1cm47Cn0KfSBlbHNlIGlmICh0IHx8IGUgfHwgaSkgOyBlbHNlIHsKaWYgKCFyKSByZXR1cm47CmZvciAobiA9IHIubGVuZ3RoIC0gMTsgbiA+PSAwOyBuLS0pIHsKbyA9IHJbbl07Cm9bMF0udW4ob1sxXSwgb1syXSk7Cn0KfQp9LApnZXRYWTogZnVuY3Rpb24oKSB7CnZhciB0LCBlLCBpID0gdGhpcy5vZmZzZXRQYXJlbnQ7CnQgPSB0aGlzLm9mZnNldExlZnQ7CmUgPSB0aGlzLm9mZnNldFRvcDsKZm9yICg7aTsgKSB7CnQgKz0gaS5vZmZzZXRMZWZ0OwplICs9IGkub2Zmc2V0VG9wOwppID0gaS5vZmZzZXRQYXJlbnQ7Cn0KcmV0dXJuIFsgdCwgZSBdOwp9LApnZXRGaXhlZFhZOiBmdW5jdGlvbigpIHsKdmFyIHQgPSAwLCBlID0gMCwgaSA9IHRoaXM7CmlmICgiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiBpbiB0aGlzKSB7CnZhciBuID0gdGhpcy5vd25lckRvY3VtZW50LCBvID0gbi5ib2R5LCByID0gbi5kZWZhdWx0VmlldyB8fCBpLnBhcmVudFdpbmRvdyB8fCAhMSwgYSA9IGkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHMgPSBuLmNsaWVudFRvcCB8fCBvLmNsaWVudFRvcCB8fCAwLCBfID0gbi5jbGllbnRMZWZ0IHx8IG8uY2xpZW50TGVmdCB8fCAwLCBsID0gci5wYWdlWU9mZnNldCB8fCBvLnNjcm9sbFRvcCwgZCA9IHIucGFnZVhPZmZzZXQgfHwgby5zY3JvbGxMZWZ0OwplID0gYS50b3AgKyBsIC0gczsKdCA9IGEubGVmdCArIGQgLSBfOwp9IGVsc2UgewplID0gaS5vZmZzZXRUb3A7CnQgPSBpLm9mZnNldExlZnQ7CmZvciAoO2kgPSBpLm9mZnNldFBhcmVudDsgKSB7CmUgLT0gaS5zY3JvbGxUb3AsIHQgLT0gaS5zY3JvbGxMZWZ0OwplICs9IGkub2Zmc2V0VG9wLCB0ICs9IGkub2Zmc2V0TGVmdDsKfQp9CnJldHVybiBbIHQsIGUgXTsKfSwKdG9nZ2xlOiBmdW5jdGlvbigpIHsKdGhpcy5pc1Zpc2libGUoKSA/IHRoaXMuaGlkZSgpIDogdGhpcy5zaG93KCk7CnJldHVybiB0aGlzOwp9LApzZXRPcGFjaXR5OiBmdW5jdGlvbih0KSB7CnQgPSBNYXRoLm1heChNYXRoLm1pbih0LCAxKSwgMCk7CnguaXNJRSA/IHRoaXMuc3R5bGUuZmlsdGVyID0gKHRoaXMuc3R5bGUuZmlsdGVyIHx8ICIiKS5yZXBsYWNlKC9wcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQWxwaGFcKFteXCldKlwpLD8gPy9naSwgIiIpICsgKHQgPj0gMSA/ICIiIDogInByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYShvcGFjaXR5PSIgKyAxMDAgKiB0ICsgIiksICIpIDogdGhpcy5zdHlsZS5vcGFjaXR5ID0gdDsKcmV0dXJuIHRoaXM7Cn0sCnNldEJhY2tncm91bmRJbWFnZTogZnVuY3Rpb24odCkgewp2YXIgZSA9IHQ7CmUgJiYgeC5pc0lFID8gdGhpcy5zdHlsZS5maWx0ZXIgKz0gJ3Byb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYUltYWdlTG9hZGVyKHNyYz0iJyArIGUgKyAnIixzaXppbmdNZXRob2Q9InNjYWxlIiksICcgOiB0aGlzLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICd1cmwoIicgKyB0ICsgJyIpJzsKcmV0dXJuIHRoaXM7Cn0sCnNldENsYXNzOiBmdW5jdGlvbih0KSB7CnRoaXMuY2xhc3NOYW1lID0gdDsKcmV0dXJuIHRoaXM7Cn0sCmFkZENsYXNzOiBmdW5jdGlvbih0KSB7CnRoaXMucmVtb3ZlQ2xhc3ModCk7CnRoaXMuY2xhc3NOYW1lICs9ICIgIiArIHQ7CnJldHVybiB0aGlzOwp9LApyZW1vdmVDbGFzczogZnVuY3Rpb24odCkgewpmb3IgKHZhciBlID0gdGhpcy5jbGFzc05hbWUuc3BsaXQoIiAiKSwgaSA9IDA7IGkgPCBlLmxlbmd0aDsgaSsrKSBlW2ldID09IHQgJiYgKGVbaV0gPSAiIik7CnRoaXMuY2xhc3NOYW1lID0gZS5qb2luKCIgIik7CnJldHVybiB0aGlzOwp9LApzZXRSb3RhdGlvbjogZnVuY3Rpb24odCkgewppZiAoeC5pc0ZGKSB0aGlzLnN0eWxlLk1velRyYW5zZm9ybSA9IHQgPyAicm90YXRlKCIgKyB0ICsgImRlZykiIDogIiI7IGVsc2UgaWYgKHguaXNTYWZhcmkpIHRoaXMuc3R5bGUuV2Via2l0VHJhbnNmb3JtID0gdCA/ICJyb3RhdGUoIiArIHQgKyAiZGVnKSIgOiAiIjsgZWxzZSBpZiAoeC5pc0lFKSB7CnRoaXMuc3R5bGUuZmlsdGVyID0gdCA/ICJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQmFzaWNJbWFnZShyb3RhdGlvbj0iICsgTWF0aC5yb3VuZCh0IC8gOTApICsgIikiIDogIiI7CmlmICh4LmlzSUU4ICYmIHQpIHsKdmFyIGUgPSB0aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpZnJhbWUiKTsKaWYgKHguaXNJRTggJiYgZS5sZW5ndGgpIHsKZVswXS5zdHlsZS5maWx0ZXIgPSB0ID8gInByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5CYXNpY0ltYWdlKHJvdGF0aW9uPSIgKyBNYXRoLnJvdW5kKHQgLyA5MCkgKyAiKSIgOiAiIjsKdGhpcy5zdHlsZS5vdmVyZmxvdyA9ICJ2aXNpYmxlIjsKfQp9Cn0KcmV0dXJuIHRoaXM7Cn0sCnNldFNlbGVjdGFibGU6IGZ1bmN0aW9uKHQpIHsKZnVuY3Rpb24gZSgpIHsKcmV0dXJuICExOwp9CmlmICh0ICYmICJmYWxzZSIgIT0gdCkgewp0aGlzLnVuc2VsZWN0YWJsZSA9ICJvbiI7CnZvaWQgMCAhPT0gdGhpcy5zdHlsZS5Nb3pVc2VyU2VsZWN0ID8gdGhpcy5zdHlsZS5Nb3pVc2VyU2VsZWN0ID0gIm5vbmUiIDogdm9pZCAwICE9PSB0aGlzLnN0eWxlLldlYmtpdFVzZXJTZWxlY3QgPyB0aGlzLnN0eWxlLldlYmtpdFVzZXJTZWxlY3QgPSAibm9uZSIgOiB2b2lkIDAgIT09IHRoaXMub25zZWxlY3RzdGFydCAmJiB0aGlzLnVuKCJzZWxlY3RzdGFydCIsIGUpOwp9IGVsc2Ugewp0aGlzLnVuc2VsZWN0YWJsZSA9ICJvbiI7CnZvaWQgMCAhPT0gdGhpcy5zdHlsZS5Nb3pVc2VyU2VsZWN0ID8gdGhpcy5zdHlsZS5Nb3pVc2VyU2VsZWN0ID0gIm5vbmUiIDogdm9pZCAwICE9PSB0aGlzLnN0eWxlLldlYmtpdFVzZXJTZWxlY3QgPyB0aGlzLnN0eWxlLldlYmtpdFVzZXJTZWxlY3QgPSAibm9uZSIgOiB2b2lkIDAgIT09IHRoaXMub25zZWxlY3RzdGFydCAmJiB0aGlzLm9uKCJzZWxlY3RzdGFydCIsIGUpOwp9CnJldHVybiB0aGlzOwp9LApzZXRTY3JvbGxUb3A6IGZ1bmN0aW9uKHQpIHsKdGhpcy5zY3JvbGxUb3AgPSB0OwpyZXR1cm4gdGhpczsKfQp9Owp4LmxlYWtzTWVtb3J5ICYmIChMLnBsdWdMZWFrYWdlID0gZnVuY3Rpb24oKSB7CnRoaXMudW5leHRlbmRFdmVudHMgJiYgdGhpcy51bmV4dGVuZEV2ZW50cygpOwp0aGlzLiQgPSB0aGlzLnBsdWdMZWFrYWdlID0gdGhpcy5kZXN0cm95ID0gdGhpcy5lbXB0eSA9IHRoaXMuYXV0b2JpbmQgPSB0aGlzLmF1dG91bmJpbmQgPSB0aGlzLl9hdXRvYmluZHMgPSB0aGlzLl9kZXN0cnVjdG9ycyA9IHRoaXMub25EZXN0cnVjdGlvbiA9IHRoaXMuZ2V0WFkgPSB0aGlzLmFwcGVuZFRvUGFyZW50ID0gdGhpcy5kZWZhdWx0UGxhY2VtZW50ID0gdGhpcy5nZXRTdHlsZXMgPSB0aGlzLmdldFN0eWxlID0gdGhpcy5zZXRBdHRyaWJ1dGVzID0gdGhpcy5nZXRUZXh0ID0gdGhpcy5zZXRUZXh0ID0gdGhpcy5zZXRTdHlsZSA9IHRoaXMuc2V0RmxvYXQgPSB0aGlzLnNldFBvc2l0aW9uID0gdGhpcy5zZXRUb3AgPSB0aGlzLnNldEJvdHRvbSA9IHRoaXMuc2V0TGVmdCA9IHRoaXMuc2V0UmlnaHQgPSB0aGlzLnNldEhlaWdodCA9IHRoaXMuc2V0V2lkdGggPSB0aGlzLmFwcGx5Q29uc3RyYWludHMgPSB0aGlzLnNldFZpc2libGUgPSB0aGlzLnNldEJvdW5kcyA9IHRoaXMuc2V0U25hcHMgPSB0aGlzLm1vdmUgPSB0aGlzLm1vdmVUbyA9IHRoaXMucmVzaXplQnkgPSB0aGlzLmhpZGUgPSB0aGlzLnNob3cgPSB0aGlzLmlzVmlzaWJsZSA9IHRoaXMudG9nZ2xlID0gdGhpcy5zZXRPcGFjaXR5ID0gdGhpcy5zZXRCYWNrZ3JvdW5kSW1hZ2UgPSB0aGlzLnNldENsYXNzID0gdGhpcy5hZGRDbGFzcyA9IHRoaXMucmVtb3ZlQ2xhc3MgPSB0aGlzLnNldFJvdGF0aW9uID0gdGhpcy5zZXRTdGhpc2VjdGFibGUgPSB0aGlzLnNldFNjcm9sbFRvcCA9IHRoaXMuc2V0QmFja2dyb3VuZCA9IHRoaXMuc2V0QmFja2dyb3VuZFBvc2l0aW9uID0gdGhpcy5zZXRCb3JkZXIgPSB0aGlzLnNldEJvcmRlckNvbG9yID0gdGhpcy5zZXRCb3JkZXJTdHlsZSA9IHRoaXMuc2V0Qm9yZGVyV2lkdGggPSB0aGlzLnNldEJvcmRlclRvcCA9IHRoaXMuc2V0Qm9yZGVyUmlnaHQgPSB0aGlzLnNldEJvcmRlckJvdHRvbSA9IHRoaXMuc2V0Qm9yZGVyTGVmdCA9IHRoaXMuc2V0Q2xlYXIgPSB0aGlzLnNldENvbG9yID0gdGhpcy5zZXRQYWRkaW5nID0gdGhpcy5zZXRNYXJnaW4gPSB0aGlzLnNldE1hcmdpblRvcCA9IHRoaXMuc2V0TWFyZ2luUmlnaHQgPSB0aGlzLnNldE1hcmdpbkJvdHRvbSA9IHRoaXMuc2V0TWFyZ2luTGVmdCA9IHRoaXMuc2V0RGlzcGxheSA9IHRoaXMuc2V0TGluZUhlaWdodCA9IHRoaXMuc2V0TGV0dGVyU3BhY2luZyA9IHRoaXMuc2V0VmlzaWJpbGl0eSA9IHRoaXMuc2V0T3V0bGluZSA9IHRoaXMuc2V0T3ZlcmZsb3cgPSB0aGlzLnNldE92ZXJmbG93WCA9IHRoaXMuc2V0T3ZlcmZsb3dZID0gdGhpcy5zZXRGb250RmFtaWx5ID0gdGhpcy5zZXRGb250U2l6ZSA9IHRoaXMuc2V0Rm9udFdlaWdodCA9IHRoaXMuc2V0Rm9udFN0eWxlID0gdGhpcy5zZXRUZXh0QWxpZ24gPSB0aGlzLnNldFRleHREZWNvcmF0aW9uID0gdGhpcy5zZXRUZXh0VHJhbnNmb3JtID0gdGhpcy5zZXRWZXJ0aWNhbEFsaWduID0gdGhpcy5zZXRaSW5kZXggPSB0aGlzLnNldEN1cnNvciA9IHRoaXMuc2V0SHJlZiA9IHRoaXMuc2V0U3JjID0gdGhpcy5zZXRDaGVja2VkID0gdGhpcy5zZXRNZWRpYSA9IHRoaXMuc2V0TmFtZSA9IHRoaXMuc2V0VHlwZSA9IHRoaXMuc2V0VmFsdWUgPSB0aGlzLnNldERhdGFOb2RlID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fbmF0aXZlID0gbnVsbDsKfSk7CnZhciBXLCBQOwpXID0gImJhY2tncm91bmQgYmFja2dyb3VuZC1wb3NpdGlvbiBib3JkZXIgYm9yZGVyLWNvbG9yIGJvcmRlci1zdHlsZSBib3JkZXItd2lkdGggY29sb3IgYm9yZGVyLXRvcCBib3JkZXItcmlnaHQgYm9yZGVyLWJvdHRvbSBib3JkZXItbGVmdCBjbGVhciBwYWRkaW5nIG1hcmdpbiBtYXJnaW4tdG9wIG1hcmdpbi1yaWdodCBtYXJnaW4tYm90dG9tIG1hcmdpbi1sZWZ0IGRpc3BsYXkgbGluZS1oZWlnaHQgbGV0dGVyLXNwYWNpbmcgdmlzaWJpbGl0eSBvdXRsaW5lIG92ZXJmbG93IG92ZXJmbG93LXggb3ZlcmZsb3cteSBmb250LWZhbWlseSBmb250LXNpemUgZm9udC13ZWlnaHQgZm9udC1zdHlsZSB0ZXh0LWFsaWduIHRleHQtZGVjb3JhdGlvbiB0ZXh0LXRyYW5zZm9ybSB2ZXJ0aWNhbC1hbGlnbiB6LWluZGV4IGN1cnNvciIuc3BsaXQoIiAiKTsKZm9yIChQID0gMDsgUCA8IFcubGVuZ3RoOyBQKyspIExbSSgic2V0LSIgKyBXW1BdKV0gPSBmdW5jdGlvbih0KSB7CnJldHVybiBmdW5jdGlvbihlKSB7CnRyeSB7CnRoaXMuc3R5bGVbdF0gPSBlOwp9IGNhdGNoICh0KSB7fQpyZXR1cm4gdGhpczsKfTsKfShJKFdbUF0pKTsKVyA9ICJjaGVja2VkIGhyZWYgbWVkaWEgbmFtZSBzcmMgdGFyZ2V0IHR5cGUgdmFsdWUiLnNwbGl0KCIgIik7CmZvciAoUCA9IDA7IFAgPCBXLmxlbmd0aDsgUCsrKSBMW0koInNldC0iICsgV1tQXSldID0gZnVuY3Rpb24odCkgewpyZXR1cm4gZnVuY3Rpb24oZSkgewp0aGlzLnNldEF0dHJpYnV0ZSh0LCBlKTsKcmV0dXJuIHRoaXM7Cn07Cn0oV1tQXSk7CnguaXNJRSAmJiBkb2N1bWVudC5leGVjQ29tbWFuZCgiQmFja2dyb3VuZEltYWdlQ2FjaGUiLCAhMSwgITApOwp0LmV4cG9ydHMgPSBUOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg0NiksIG8gPSB7fTsKby4kRGF0YSA9IG47CnQuZXhwb3J0cyA9IG87Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpKSB7ClAgPSAhMDsKVi5yb290ID0gJCA9IHQgaW5zdGFuY2VvZiBTID8gdCA6IG5ldyBTKCJyb290Iik7CncgPSBpOwppZiAoQS5BQ0NPVU5UX0tFWSB8fCBlKSB7CmlmIChlKSB7CmIgPSBlOwokLiQkKCJsaXZlY2hhdC51aS5tb2NrdXAkYm9vbCIpLnVwZGF0ZSghMCk7Cn0KaWYgKEQuaXNNb2JpbGVCcm93c2VyKSB7CiQuJCQoImxpdmVjaGF0LnVpLm1vYmlsZSRib29sIikudXBkYXRlKCEwKTsKRC5pc01vYmlsZVdoaXRlbGlzdCAmJiAkLiQkKCJsaXZlY2hhdC51aS5tb2JpbGVfd2hpdGVsaXN0JGJvb2wiKS51cGRhdGUoITApOwpELmlzTW9iaWxlVGFibGV0ICYmICQuJCQoImxpdmVjaGF0LnVpLnRhYmxldCRib29sIikudXBkYXRlKCEwKTsKfQp3aW5kb3cuJHpvcGltX3BvcG91dCA/ICQuJCQoImxpdmVjaGF0LnVpLnBvcG91dCRib29sIikudXBkYXRlKCEwKSA6IGUgfHwgeC5zZXRJRnJhbWVPbmx5KCEwKTsKdmFyIG4sIG8gPSBtKGspOwppZiAoIWIpIGZvciAodmFyIHIgaW4gTykgaWYgKE8uaGFzT3duUHJvcGVydHkocikpIHsKdmFyIGEgPSBJLkRPTS5nZXRWYXJpYWJsZShyKTsKImxvZyIgPT0gciAmJiBhICYmICJvYmplY3QiID09IHR5cGVvZiBhICYmICQuJCgibGl2ZWNoYXQiKS4kKCJ0ZW1wIikudXBkYXRlKHsKcHJldl9sb2c6IGEKfSk7CiJzZXR0aW5ncyIgPT0gciAmJiBhICYmIEIuZ2V0S2V5cyhhKS5sZW5ndGggJiYgJC4kKCJsaXZlY2hhdCIpLiQoInNldHRpbmdzIikudXBkYXRlKHsKY2FjaGVkJGJvb2w6ICEwCn0pOwppZiAoIm9iamVjdCIgPT0gdHlwZW9mIGEpIHsKbiA9IEIuZ2V0S2V5cyhhKTsKbiAmJiBuLmxlbmd0aCAmJiBCLmZ1bGx5RXh0ZW5kKEIuZGVzY2VuZHNPYmoobywgT1tyXSksIGEpOwp9IGVsc2UgQi5pbnNlcnRPYmooT1tyXSwgYSwgbyk7Cn0KJC51cGRhdGUobyk7CmlmICghYiAmJiAhZygpKSB7CnZhciBzID0gdi5pc0lPUyA/ICJ1bmxvYWQiIDogImJlZm9yZXVubG9hZCI7Cnkud2luZG93Lm9uKHMsIGZ1bmN0aW9uKCkgewp0cnkgewpwKCk7Cn0gY2F0Y2ggKHQpIHt9Cn0pOwp9CnZhciBfID0gSS5nZXRBbGxvd0Nvb2tpZUxhdygpOwoiYm9vbGVhbiIgPT0gdHlwZW9mIF8gJiYgJC4kJCgibGl2ZWNoYXQucHJvZmlsZSIpLnVwZGF0ZSh7CmFsbG93X2Nvb2tpZXMkYm9vbDogXwp9KTsKJC4kJCgibGl2ZWNoYXQuc2V0dGluZ3MucGFja2FnZSIpLm9uKCJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKaWYgKHQpIHsKImNvbG9yX2N1c3RvbWl6YXRpb25fZW5hYmxlZCRpbnQiIGluIHQgJiYgdC5jb2xvcl9jdXN0b21pemF0aW9uX2VuYWJsZWQkaW50ICYmIChXID0gMSk7CiJ3aWRnZXRfY3VzdG9taXphdGlvbl9lbmFibGVkJGludCIgaW4gdCAmJiB0LndpZGdldF9jdXN0b21pemF0aW9uX2VuYWJsZWQkaW50ICYmIChXID0gMik7Cn0KfSk7ClYuZmlyZSgiaW5pdCIpOwp9Cn0KZnVuY3Rpb24gbyh0KSB7CmoodCkgJiYgKFAgPyB0KCkgOiBWLm9uKCJpbml0IiwgdCkpOwp9CmZ1bmN0aW9uIHIodCwgZSkgewpOLnNlbmRDaGF0TXNnKHQsIGUpOwp9CmZ1bmN0aW9uIGEodCkgewp2YXIgZSA9IHBhcnNlSW50KHcuZ2V0U2VydmVyVGltZSgpLnRvRml4ZWQoMCksIDEwKSwgaSA9IGUgKyAiIjsKJC4kKCJsaXZlY2hhdCIpLiQoImNoYW5uZWwiKS4kKCJsb2ciKS4kKGkpLndyaXRlKHsKdGltZXN0YW1wJGludDogZSwKbmljayRzdHJpbmc6ICQuJCgibGl2ZWNoYXQiKS4kKCJwcm9maWxlIikuJCgibmljayRzdHJpbmciKS5nZXRWYWx1ZSgpIHx8ICIiLApkaXNwbGF5X25hbWUkc3RyaW5nOiAkLiQoImxpdmVjaGF0IikuJCgicHJvZmlsZSIpLiQoImRpc3BsYXlfbmFtZSRzdHJpbmciKS5nZXRWYWx1ZSgpIHx8ICIiLAp0eXBlJHN0cmluZzogImNoYXQuZmlsZS51cGxvYWQiLApmaWxlX25hbWUkc3RyaW5nOiB0LmZpbGVfbmFtZSB8fCAiIiwKZmlsZV90eXBlJHN0cmluZzogdC5maWxlX3R5cGUgfHwgIiIsCmZpbGVfc2l6ZSRpbnQ6IHQuZmlsZV9zaXplIHx8IDAsCnVudmVyaWZpZWQkYm9vbDogITAsCl9fY2xpZW50JGJvb2w6ICEwCn0pOwpyZXR1cm4gZTsKfQpmdW5jdGlvbiBzKHQpIHsKaWYgKHQpIHsKdmFyIGUgPSB7fTsKIm5hbWUiIGluIHQgJiYgKGUuZGlzcGxheV9uYW1lJHN0cmluZyA9IHQubmFtZSArICIiKTsKImVtYWlsIiBpbiB0ICYmIChlLmVtYWlsJHN0cmluZyA9IHQuZW1haWwgKyAiIik7CiJwaG9uZSIgaW4gdCAmJiAoZS5waG9uZSRzdHJpbmcgPSB0LnBob25lICsgIiIpOwoiZGVwYXJ0bWVudF9pZCIgaW4gdCAmJiAoZS5kZXBhcnRtZW50X2lkJGludCA9IHQuZGVwYXJ0bWVudF9pZCk7CiQuJCQoImxpdmVjaGF0LnByb2ZpbGUiKS53cml0ZShlKTsKcmV0dXJuICEwOwp9Cn0KZnVuY3Rpb24gXygpIHsKVC5jbGVhcklkZW50aXR5KCk7CkkuY2xlYXJBbGwoKTsKJC4kKCJsaXZlY2hhdCIpLiQoInVpIikuJCgiY2hhdF9idXR0b24iKS4kKCJ1bnJlYWRfY291bnQkaW50IikudXBkYXRlKDApOwokLiQkKCJsaXZlY2hhdC5jaGFubmVsIikudXBkYXRlKG51bGwpOwokLiQkKCJwcm9maWxlIikudXBkYXRlKG51bGwpOwp9CmZ1bmN0aW9uIGwoKSB7CnZhciB0ID0gJC4kJCgibGl2ZWNoYXQuc2V0dGluZ3MuY29va2llX2xhdy5lbmFibGVkJGJvb2wiKS5nZXRWYWx1ZSgpLCBlID0gJC4kJCgibGl2ZWNoYXQucHJvZmlsZS5hbGxvd19jb29raWVzJGJvb2wiKS5nZXRWYWx1ZSgpOwpyZXR1cm4gIXQgfHwgITEgIT09IGU7Cn0KZnVuY3Rpb24gZCgpIHsKJC4kJCgiY29ubmVjdGlvbiIpLnVwZGF0ZSh7CnJlY29ubmVjdCRib29sOiAhMAp9KTsKfQpmdW5jdGlvbiB1KHQpIHsKaWYgKCFiKSB7CnZhciBlID0gJC4kJCgibGl2ZWNoYXQuYWNjb3VudC5rZXkkc3RyaW5nIikuZ2V0VmFsdWUoKSwgaSA9ICQuJCQoImxpdmVjaGF0LnByb2ZpbGUubWlkJHN0cmluZyIpLmdldFZhbHVlKCk7CnQgJiYgZSAmJiBpICYmIHdpbmRvdy5vcGVuKEIuZ2V0QXV0aExvZ2luVXJsKHQsIGUsIGkpLCBGICsgZSwgJC4kJCgibGl2ZWNoYXQudWkubW9iaWxlJGJvb2wiKS5nZXRWYWx1ZSgpID8gIiIgOiBNKTsKfQp9CmZ1bmN0aW9uIGMoKSB7CmlmICgkLiQkKCJsaXZlY2hhdC5wcm9maWxlLmF1dGgudHlwZSRzdHJpbmciKS5nZXRWYWx1ZSgpKSB7CiQuJCQoImxpdmVjaGF0LnByb2ZpbGUuYXV0aCIpLndyaXRlKHsKdHlwZSRzdHJpbmc6IG51bGwKfSk7CiQuJCQoImxpdmVjaGF0LnByb2ZpbGUiKS51cGRhdGUoewpkaXNwbGF5X25hbWUkc3RyaW5nOiAiIiwKZW1haWwkc3RyaW5nOiAiIgp9KTsKfSBlbHNlICQuJCQoImxpdmVjaGF0LnByb2ZpbGUiKS53cml0ZSh7CmRpc3BsYXlfbmFtZSRzdHJpbmc6ICIiLAplbWFpbCRzdHJpbmc6ICIiCn0pOwp9CmZ1bmN0aW9uIGgoKSB7CiQuJCQoImxpdmVjaGF0LmNoYW5uZWwiKS53cml0ZSh7CmNoYXR0aW5nJGJvb2w6ICExCn0pOwp9CmZ1bmN0aW9uIGYoKSB7CnJldHVybiAkLiQkKCJsaXZlY2hhdC51aS5tb2NrdXAkYm9vbCIpLmdldFZhbHVlKCkgPyAxMDAgOiBXOwp9CmZ1bmN0aW9uIGcoKSB7CnZhciB0ID0gJC4kKCJsaXZlY2hhdCIpLiQoImFjY291bnQiKS4kKCJzdGF0dXMkc3RyaW5nIikuZ2V0VmFsdWUoKTsKcmV0dXJuIEModCwgRSkgPiAtMTsKfQpmdW5jdGlvbiBwKCkgewppZiAoUi5jYW5TdG9yZUNvb2tpZSgpKSB7CnZhciB0ID0gJC4kKCJjb25uZWN0aW9uIikuZ2V0VmFsdWUoKTsKaWYgKHQgJiYgInN0YXR1cyRzdHJpbmciIGluIHQpIHsKdmFyIGUgPSBuZXcgUygicm9vdCIpOwplLnVwZGF0ZSgkLmdldFZhbHVlKCkpOwpmb3IgKHZhciBpID0gMCwgbiA9IEwubGVuZ3RoOyBpIDwgbjsgaSsrKSBlLiQkKExbaV0pLnVwZGF0ZShudWxsKTsKdmFyIG8sIHI7CmZvciAobyBpbiBPKSBpZiAoTy5oYXNPd25Qcm9wZXJ0eShvKSkgewpzd2l0Y2ggKG8pIHsKY2FzZSAic2V0dGluZ3MiOgpyID0gdy5nZXRTZXJ2ZXJTZXR0aW5ncygic2V0dGluZ3MiKTsKYnJlYWs7CgpjYXNlICJsb2ciOgpyID0gZS4kKCJsaXZlY2hhdCIpLiQoImNoYW5uZWwiKS4kKCJjaGF0dGluZyRib29sIikuZ2V0VmFsdWUoKSA/IEIuZ2V0TGFzdExvZ0VudHJpZXMoJC4kJChPW29dKSwgQS5DSEFUX0xPR19SRU1FTUJFUl9DT1VOVCkgOiBudWxsOwpicmVhazsKCmRlZmF1bHQ6CnIgPSBlLiQkKE9bb10pLmdldFZhbHVlKCk7Cn0KSS5ET00uc2F2ZVZhcmlhYmxlKG8sIHIpOwp9CmUgPSBudWxsOwp9Cn0KfQpmdW5jdGlvbiBtKHQpIHsKaWYgKCJvYmplY3QiICE9IHR5cGVvZiB0IHx8ICF0KSByZXR1cm4gdDsKdmFyIGUgPSB7fTsKZm9yICh2YXIgaSBpbiB0KSB0Lmhhc093blByb3BlcnR5KGkpICYmIChlW2ldID0gbSh0W2ldKSk7CnQuaGFzT3duUHJvcGVydHkoSCkgJiYgKGVbSF0gPSBtKHRbSF0pKTsKcmV0dXJuIGU7Cn0KdmFyICQsIGIsIHcsIHggPSBpKDMpLCB2ID0gaSg4KSwgeSA9IGkoMTQpLCBqID0gaSgyMCksIEMgPSBpKDMxKSwgUyA9IGkoOTUpLCBBID0gaSgxOCksIGsgPSBpKDk0KSwgSSA9IGkoOTMpLCBUID0gaSg0NSksIE4gPSBpKDE3OCksIEIgPSBpKDExKSwgRCA9IGkoMzUpLCBFID0gWyAiYmFubmVkIiwgImludmFsaWRfYWNjb3VudF9rZXkiIF0sIE8gPSB7Cmxhc3RfaG9zdDogImNvbm5lY3Rpb24uc2VydmVyJHN0cmluZyIsCmNoYXR0aW5nOiAibGl2ZWNoYXQuY2hhbm5lbC5jaGF0dGluZyRib29sIiwKYWNjb3VudF9zdGF0dXM6ICJsaXZlY2hhdC5hY2NvdW50LnN0YXR1cyRzdHJpbmciLApzZXR0aW5nczogImxpdmVjaGF0LnNldHRpbmdzIiwKdWk6ICJsaXZlY2hhdC51aSIsCm5vdGlmaWNhdGlvbjogImxpdmVjaGF0LnByb2ZpbGUubm90aWZpY2F0aW9uIiwKZGVwYXJ0bWVudHM6ICJsaXZlY2hhdC5kZXBhcnRtZW50cyIsCmxvZzogImxpdmVjaGF0LmNoYW5uZWwubG9nIiwKcmVhZDogImxpdmVjaGF0LmNoYW5uZWwucmVhZCIsCmZlYXR1cmVzOiAibGl2ZWNoYXQuZmVhdHVyZXMiLApnYXRlczogImxpdmVjaGF0LmdhdGVzIgp9LCBMID0gWyAibGl2ZWNoYXQuc2V0dGluZ3MuY2FjaGVkJGJvb2wiLCAibGl2ZWNoYXQudWkuY2hhdF93aW5kb3cubWVudV9zdGFja19uYW1lJHN0cmluZyIsICJsaXZlY2hhdC51aS5jaGF0X3dpbmRvdy5wcmVfY2hhdF9mb3JtLnN1Ym1pdHRlZCRib29sIiwgImxpdmVjaGF0LnVpLnBvc3RfY2hhdF9mb3JtLnN0YWNrX2luZGV4JGludCIsICJsaXZlY2hhdC51aS5vZmZsaW5lX2Zvcm0uc3RhY2tfaW5kZXgkaW50IiwgImxpdmVjaGF0LnVpLnRoZW1lX3JlbG9hZCRib29sIiwgImxpdmVjaGF0LnVpLnRoZW1lX2xvYWRlZCRib29sIiwgImxpdmVjaGF0LnVpLnBvcG91dCRib29sIiwgImxpdmVjaGF0LnVpLm1vYmlsZSRib29sIiwgImxpdmVjaGF0LnVpLm1vYmlsZV9vdmVybGF5JGJvb2wiLCAibGl2ZWNoYXQudWkubW9iaWxlX25vdGlmaWNhdGlvbnMkYm9vbCIsICJsaXZlY2hhdC51aS5jaGF0X2J1dHRvbi5mdWxseV92aXNpYmxlJGJvb2wiLCAibGl2ZWNoYXQudWkuY2hhdF93aW5kb3cuY2hhdF9wYW5lbC5maWxlX3RvYXN0LmVycm9yJHN0cmluZyIsICJsaXZlY2hhdC51aS5kZXBhcnRtZW50cyIsICJsaXZlY2hhdC51aS52aXNpdG9yLmF1dGhlbnRpY2F0ZWQkYm9vbCIsICJsaXZlY2hhdC51aS52aXNpdG9yLmF1dGhfc3RhdHVzJHN0cmluZyIsICJsaXZlY2hhdC51aS5oaXN0b3J5IiBdLCBXID0gMCwgUCA9ICExLCBSID0gewpzZW5kQ2hhdE1zZzogciwKc2VuZEZpbGU6IGEsCnVwZGF0ZVByb2ZpbGU6IHMsCmNsZWFyQWxsOiBfLApyZWNvbm5lY3Q6IGQsCmNhblN0b3JlQ29va2llOiBsLApkb0V4dGVybmFsTG9naW46IHUsCmRvRXh0ZXJuYWxMb2dvdXQ6IGMsCmVuZENoYXQ6IGgsCmdldExpbWl0OiBmLAppc0FjY291bnRFcnJvcjogZwp9LCBGID0gInpsaXZlY2hhdGV4dGVybmFsbG9naW5fIiwgTSA9ICJ3aWR0aD01MDAsaGVpZ2h0PTUwMCxtZW51YmFyPW5vLHRvb2xiYXI9bm8sbG9jYXRpb249bm8scGVyc29uYWxiYXI9bm8sc3RhdHVzPW5vLHJlc2l6YWJsZT15ZXMsc2Nyb2xsYmFycz1ubyIsIFYgPSB5LmV4dGVuZCh7CmluaXQ6IG4sCnJvb3Q6ICQsCmxpdmVjaGF0OiBSLAphZnRlckluaXQ6IG8KfSksIEggPSAidG9TdHJpbmciOwp0LmV4cG9ydHMgPSBWOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4odCwgZSwgaSwgbywgcikgewppZiAoISh0aGlzIGluc3RhbmNlb2YgbikpIHJldHVybiBuZXcgbih0LCBlLCBpLCBvLCByKTsKciB8fCAociA9IHt9KTsKci50YWdOYW1lIHx8IChyLnRhZ05hbWUgPSAiZGl2Iik7CmEuY2FsbCh0aGlzLCB0LCBlLCBpLCBvLCByKTsKfQp2YXIgbyA9IGkoMSksIHIgPSBpKDApLCBhID0gaSgyMyk7Cm4ucHJvdG90eXBlID0gcihhLnByb3RvdHlwZSk7Cm8obiwgYSwgewpmcW5hbWU6ICJqeF91aV9XaWRnZXQiCn0pOwp0LmV4cG9ydHMgPSBuOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4oKSB7CmZ1bmN0aW9uIHQodCkgewpyZXR1cm4gdC5yZXBsYWNlKC9eaHR0cDovLCBPID8gImh0dHBzOiIgOiAiaHR0cDoiKTsKfQpmdW5jdGlvbiBlKCkgewppZiAodm9pZCAwICE9PSB3aW5kb3cuaW5uZXJIZWlnaHQpIHJldHVybiB3aW5kb3cuaW5uZXJIZWlnaHQ7CmlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0Owp2YXIgdCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5Iik7CnJldHVybiB0Lmxlbmd0aCA/IHRbMF0uY2xpZW50SGVpZ2h0IDogMDsKfQpmdW5jdGlvbiBpKCkgewppZiAodm9pZCAwICE9PSB3aW5kb3cuaW5uZXJXaWR0aCkgcmV0dXJuIHdpbmRvdy5pbm5lcldpZHRoOwppZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSByZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldFdpZHRoOwp2YXIgdCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5Iik7CnJldHVybiB0Lmxlbmd0aCA/IHRbMF0uY2xpZW50V2lkdGggOiAwOwp9CmZ1bmN0aW9uIG4oKSB7CmlmICghcihhKSkgcmV0dXJuIGE7CnZhciB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksIGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSwgaSA9IHQuc3R5bGUsIG4gPSBlLnN0eWxlOwppLm92ZXJmbG93ID0gImF1dG8iOwppLndpZHRoID0gaS5oZWlnaHQgPSAiMTAwcHgiOwppLnBvc2l0aW9uID0gImFic29sdXRlIjsKaS50b3AgPSAiLTEwMDBweCI7Cm4ud2lkdGggPSAiMTAwJSI7Cm4uaGVpZ2h0ID0gIjIwMHB4IjsKdC5hcHBlbmRDaGlsZChlKTsKZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0KTsKYSA9IHQub2Zmc2V0V2lkdGggLSB0LmNsaWVudFdpZHRoOwpkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHQpOwpyZXR1cm4gYTsKfQp2YXIgYSwgcywgXyA9IG5hdmlnYXRvciwgbCA9IF8udXNlckFnZW50LnRvTG93ZXJDYXNlKCksIGQgPSArKC90cmlkZW50Lipydjo/ICooWzAtOV0rKS8uZXhlYyhsKSB8fCBbXSlbMV0gfHwgITEsIHUgPSBmdW5jdGlvbigpIHsKZm9yICh2YXIgdCA9IDMsIGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSwgaSA9IGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImkiKTsgZS5pbm5lckhUTUwgPSAiPCEtLVtpZiBndCBJRSAiICsgKyt0ICsgIl0+PGk+PC9pPjwhW2VuZGlmXS0tPiIsIAppWzBdOyApIDsKcmV0dXJuIHQgPiA0ID8gdCA6IGRvY3VtZW50LmRvY3VtZW50TW9kZTsKfSgpLCBjID0gOCA9PT0gdSwgaCA9IDcgPT09IHUsIGYgPSA2ID09PSB1LCBnID0gISF3aW5kb3cub3BlcmEgJiYgIltvYmplY3QgT3BlcmFdIiA9PT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHdpbmRvdy5vcGVyYSksIHAgPSBsLmluZGV4T2YoImVkZ2UiKSA+IC0xLCBtID0gIkdvb2dsZSBJbmMuIiA9PT0gXy52ZW5kb3IsICQgPSAiQXBwbGUgQ29tcHV0ZXIsIEluYy4iID09PSBfLnZlbmRvciwgYiA9ICFwICYmICF1ICYmICFnICYmIChtIHx8ICQgfHwgL3dlYmtpdHxraHRtbC8udGVzdChsKSksIHcgPSArL1xkKy8uZXhlYygvZmlyZWZveFwvXGQrL2kuZXhlYyhfLnVzZXJBZ2VudCkgfHwgIiIpLCB4ID0gLTEgIT09IGwuaW5kZXhPZigiaXBob25lIiksIHYgPSAtMSAhPT0gbC5pbmRleE9mKCJpcG9kIiksIHkgPSAtMSAhPT0gbC5pbmRleE9mKCJpcGFkIiksIGogPSB4IHx8IHkgfHwgdiwgQyA9IC0xICE9PSBsLmluZGV4T2YoImFuZHJvaWQiKSwgUyA9IC0xICE9PSBsLmluZGV4T2YoIndwNyIpLCBBID0gaiB8fCBDIHx8IFMsIGsgPSB1ICYmICJtc2llIiB8fCB3ICYmICJmaXJlZm94IiB8fCBnICYmICJvcGVyYSIgfHwgbSAmJiAiY2hyb21lIiB8fCAkICYmICJzYWZhcmkiLCBJID0gIkNTUzFDb21wYXQiID09PSBkb2N1bWVudC5jb21wYXRNb2RlLCBUID0gIUksIE4gPSB1ICYmIFQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmICEhZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldEV4cHJlc3Npb24sIEIgPSBkb2N1bWVudC5kb2N1bWVudE1vZGUgfHwgdSwgRCA9IC0xICE9PSBsLmluZGV4T2YoIndpbmRvd3MiKSB8fCAtMSAhPT0gbC5pbmRleE9mKCJ3aW4zMiIpLCBFID0gLTEgIT09IGwuaW5kZXhPZigibWFjaW50b3NoIikgfHwgLTEgIT09IGwuaW5kZXhPZigibWFjIG9zIHgiKSwgTyA9ICJodHRwczoiID09PSBkb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbCwgTCA9IF8ubGFuZ3VhZ2UgfHwgXy5icm93c2VyTGFuZ3VhZ2UgfHwgXy51c2VyTGFuZ3VhZ2UgfHwgXy5zeXN0ZW1MYW5ndWFnZSwgVyA9IHsKbm9Cb3hTaXppbmc6IEIgPD0gNywKaWU6IHsKY3NzQm90dG9tUmlnaHQ6IGYsCmNzc0ZpeGVkOiBmIHx8IE4sCmJ1Z2d5Q1NTOiBmIHx8IE4KfQp9LCBQID0gInRleHRDb250ZW50IiBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSwgUiA9ICExLCBGID0gbnVsbDsKdHJ5IHsKaWYgKHdpbmRvdy5DdXN0b21FdmVudCAmJiAvXFtuYXRpdmUgY29kZVxdfFxbb2JqZWN0IEN1c3RvbUV2ZW50Q29uc3RydWN0b3JcXS8udGVzdCh3aW5kb3cuQ3VzdG9tRXZlbnQudG9TdHJpbmcoKSkpIHsKbmV3IHdpbmRvdy5DdXN0b21FdmVudCgidGVzdGV2ZW50IiwgewpidWJibGVzOiAhMSwKY2FuY2VsYWJsZTogITAsCmRldGFpbDogITAKfSk7ClIgPSAhMDsKRiA9IHdpbmRvdy5DdXN0b21FdmVudDsKfQp9IGNhdGNoICh0KSB7fQpzd2l0Y2ggKGspIHsKY2FzZSAibXNpZSI6CmNhc2UgImZpcmVmb3giOgpjYXNlICJjaHJvbWUiOgpzID0gKy9cZCsvLmV4ZWMobmV3IFJlZ0V4cChrICsgIlsgL11cXGQrIikuZXhlYyhsKSB8fCAiIik7CmJyZWFrOwoKZGVmYXVsdDoKcyA9ICsvXGQrLy5leGVjKC92ZXJzaW9uWyBcL11cZCsvLmV4ZWMobCkgfHwgIiIpOwp9CnZhciBNID0gITE7CnRyeSB7CnZhciBWID0gewpnZXQgcGFzc2l2ZSgpIHsKTSA9ICEwOwp9Cn0sIEggPSBmdW5jdGlvbigpIHt9Owp3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigidGVzdCIsIEgsIFYpOwp3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigidGVzdCIsIEgsIFYpOwp9IGNhdGNoICh0KSB7Ck0gPSAhMTsKfQppZiAoZikgewp2YXIgcSA9IFtdOwpXLmxlYWtzTWVtb3J5ID0gZnVuY3Rpb24odCkgewpvLmlzRnVuY3Rpb24odCk7CnEucHVzaCh0KTsKfTsKdmFyIHogPSBmdW5jdGlvbigpIHsKZm9yICh2YXIgdCA9IDA7IHQgPCBxLmxlbmd0aDsgdCsrKSBxW3RdKCk7Cn07ClcubGVha3NNZW1vcnkucmVtb3ZlID0gZnVuY3Rpb24odCkgewpmb3IgKHZhciBlID0gcS5sZW5ndGggLSAxOyBlID49IDA7IGUtLSkgdCA9PSBxW2VdICYmIHEuc3BsaWNlKGUsIDEpOwp9Owp3aW5kb3cuYXR0YWNoRXZlbnQoIm9udW5sb2FkIiwgeik7Cn0KdmFyIFUgPSAiU2hvY2t3YXZlIEZsYXNoIiwgRyA9ICJTaG9ja3dhdmVGbGFzaC5TaG9ja3dhdmVGbGFzaCIsIFkgPSAiYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2giLCBYID0gImFwcGxpY2F0aW9uL3gtamF2YS12bSI7CnJldHVybiB7CmJyb3dzZXI6IGssCnZlcnNpb246IHMsCmlzU3RyaWN0OiBJLAppc1F1aXJrczogVCwKaXNPcGVyYTogZywKaXNTYWZhcmk6ICQsCmlzV2ViS2l0OiBiLAppc0Nocm9tZTogbSwKaXNBbmRyb2lkOiBDLAppc0lQaG9uZTogeCwKaXNJUG9kOiB2LAppc0lQYWQ6IHksCmlzSU9TOiBqLAppc1dQNzogUywKaXNNb2JpbGU6IEEsCmlzTmV3SUU6IGQsCmlzRWRnZTogcCwKaXNJRTogdSwKaXNJRTY6IGYsCmlzSUU3OiBoLAppc0lFODogYywKaXNGRjogdywKaXNDdXN0b21FdmVudHM6IFIsCkN1c3RvbUV2ZW50OiBGLAplbmdpbmVJRTogQiwKYnVnczogVywKaXNXaW5kb3dzOiBELAppc01hYzogRSwKaXNTZWN1cmU6IE8sCnNlY3VyZVVSTDogdCwKaGFzRmxhc2g6IGZ1bmN0aW9uKCkgewp2YXIgdCwgZSA9IF8ucGx1Z2lucyAmJiBfLnBsdWdpbnNbVV07CmlmIChlKSB7CnQgPSBfLm1pbWVUeXBlcyAmJiBfLm1pbWVUeXBlc1tZXTsKcmV0dXJuIHQgJiYgIXQuZW5hYmxlZFBsdWdpbiA/IG51bGwgOiBlLmRlc2NyaXB0aW9uOwp9CmlmICh3aW5kb3cuQWN0aXZlWE9iamVjdCkgdHJ5IHsKZSA9IG5ldyB3aW5kb3cuQWN0aXZlWE9iamVjdChHKTsKZS5BbGxvd1NjcmlwdEFjY2VzcyA9ICJhbHdheXMiOwpyZXR1cm4gZS5HZXRWYXJpYWJsZSgiJHZlcnNpb24iKTsKfSBjYXRjaCAodCkge30KfSgpLApoYXNKYXZhOiBmdW5jdGlvbigpIHsKdmFyIHQgPSBfLm1pbWVUeXBlczsKcmV0dXJuIHUgPyAhUyAmJiAoImphdmFFbmFibGVkIiBpbiBfICYmIF8uamF2YUVuYWJsZWQoKSkgOiB0ICYmICh0ID0gdFtYXSkgJiYgKHQgPSB0LmVuYWJsZWRQbHVnaW4pID8gdC5uYW1lIDogdm9pZCAwOwp9KCksCmxhbmd1YWdlOiBMLApnZXRTY3JvbGxiYXJTaXplOiBuLApnZXRXaW5kb3dDbGllbnRIZWlnaHQ6IGUsCmdldFdpbmRvd0NsaWVudFdpZHRoOiBpLAppc1RleHRDb250ZW50OiBQLApoYXNQYXNzaXZlTGlzdGVuZXJzOiBNCn07Cn0KdmFyIG8gPSBpKDk4KSwgciA9IGkoMjUpLCBhID0gbigpOwphLnNuaWZmQnJvd3NlciA9IG47CnQuZXhwb3J0cyA9IGE7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbigpIHsKdmFyIHQgPSBsLnJvb3QsIGUgPSB0LiQoImxpdmVjaGF0IikuJCgidWkiKS4kKCJtb2JpbGUkYm9vbCIpLCBpID0gdC4kKCJsaXZlY2hhdCIpLiQoInVpIikuJCgicG9wb3V0JGJvb2wiKSwgbiA9IHQuJCgibGl2ZWNoYXQiKS4kKCJ1aSIpLiQoIm1vY2t1cCRib29sIiksIHIgPSB0LiQoImxpdmVjaGF0IikuJCgidWkiKS4kKCJ0YWJsZXQkYm9vbCIpOwpkLnBvcG91dCA9IGEoaSk7CmQubW9ja3VwID0gYShuKTsKZC50YWJsZXQgPSBhKHIpOwpkLm1vYmlsZSA9IGZ1bmN0aW9uKHQpIHsKaWYgKGUuZ2V0VmFsdWUoKSkgewp0LmFkZENsYXNzKCJtb2JpbGUiKTsKdC5yZW1vdmVDbGFzcygiZGVza3RvcCIpOwp9IGVsc2Ugewp0LmFkZENsYXNzKCJkZXNrdG9wIik7CnQucmVtb3ZlQ2xhc3MoIm1vYmlsZSIpOwp9Cn07CmQucnRsID0gZnVuY3Rpb24odCkgewpmdW5jdGlvbiBlKCkgewpfLnVuTGFuZ3VhZ2UoaSk7Cn0KZnVuY3Rpb24gaSgpIHsKaWYgKF8ucnRsKCkpIHsKdC5hZGRDbGFzcygicnRsIik7CnQucmVtb3ZlQ2xhc3MoImx0ciIpOwp9IGVsc2Ugewp0LmFkZENsYXNzKCJsdHIiKTsKdC5yZW1vdmVDbGFzcygicnRsIik7Cn0KfQppZiAoXyAmJiBfLm9uTGFuZ3VhZ2UpIHsKXy5vbkxhbmd1YWdlKGkpOwppKCk7CnQub25EZXN0cnVjdGlvbihlKTsKfSBlbHNlIHQuYWRkQ2xhc3MoImx0ciIpOwp9OwpkLndpbmRvd1Bvc2l0aW9uID0gbyh0LiQoImxpdmVjaGF0IikuJCgic2V0dGluZ3MiKS4kKCJ0aGVtZSIpLiQoImNoYXRfd2luZG93IikuJCgicG9zaXRpb24kc3RyaW5nIikpOwpkLndpbmRvd1Bvc2l0aW9uTW9iaWxlID0gbyh0LiQoImxpdmVjaGF0IikuJCgic2V0dGluZ3MiKS4kKCJ0aGVtZSIpLiQoImNoYXRfd2luZG93IikuJCgicG9zaXRpb25fbW9iaWxlJHN0cmluZyIpKTsKZC53aW5kb3dTaXplID0gbyh0LiQoImxpdmVjaGF0IikuJCgic2V0dGluZ3MiKS4kKCJ0aGVtZSIpLiQoImNoYXRfd2luZG93IikuJCgic2l6ZSRzdHJpbmciKSk7CmQuYnV0dG9uUG9zaXRpb24gPSBvKHQuJCgibGl2ZWNoYXQiKS4kKCJzZXR0aW5ncyIpLiQoInRoZW1lIikuJCgiY2hhdF9idXR0b24iKS4kKCJwb3NpdGlvbiRzdHJpbmciKSk7Cn0KZnVuY3Rpb24gbyh0LCBlKSB7CmUgPSBlIHx8ICIiOwpyZXR1cm4gZnVuY3Rpb24oaSwgbiwgbykgewpuID0gbiB8fCAiIjsKaS5hdXRvYmluZCh0LCAidmFsdWUiLCByKGksIGUgKyBuLCBvKSk7Cn07Cn0KZnVuY3Rpb24gcih0LCBlLCBpKSB7CnZhciBuOwpyZXR1cm4gZnVuY3Rpb24obykgewppZiAobiAhPSBvKSB7Cm4gJiYgdC5yZW1vdmVDbGFzcyhlICsgbik7Cm4gPSBvOwpuICYmIHQuYWRkQ2xhc3MoZSArIG4pOwoiZnVuY3Rpb24iID09IHR5cGVvZiBpICYmIGkobik7Cn0KfTsKfQpmdW5jdGlvbiBhKHQsIGUpIHsKZSA9IGUgfHwgdC5uYW1lLnNwbGl0KCIkIilbMF07CnJldHVybiBmdW5jdGlvbihpLCBuKSB7CmkuYXV0b2JpbmQodCwgInZhbHVlIiwgcyhpLCBlLCBuKSk7Cn07Cn0KZnVuY3Rpb24gcyh0LCBlLCBpKSB7CnJldHVybiBmdW5jdGlvbihuKSB7CnRbbiA/ICJhZGRDbGFzcyIgOiAicmVtb3ZlQ2xhc3MiXShlKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgaSAmJiBpKG4pOwp9Owp9CnZhciBfID0gaSgyKSwgbCA9IGkoNiksIGQgPSB7fTsKbC5hZnRlckluaXQobik7CnQuZXhwb3J0cyA9IGQ7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4sIG8gPSBpKDIpLCByID0gaSg2KSwgYSA9IGkoOTQpLCBzID0gaSgxMSksIF8gPSBpKDk1KSwgbCA9IG8oNCksIGQgPSBvKDUpLCB1ID0gbyg2KSwgYyA9IG8oNyksIGggPSBvKDgpLCBmID0gbyg5KSwgZyA9IG8oMTApOwpuID0gewpnZXQ6IGZ1bmN0aW9uKHQpIHsKaWYgKCF0KSByZXR1cm4gIiI7CnZhciBlLCBpOwppZiAodCBpbnN0YW5jZW9mIF8pIHsKZSA9IHQuZ2V0VmFsdWUoKTsKaSA9IHMuZGVzY2VuZHNPYmooYSwgdC5wYXRoKCkuc2xpY2UoMSkuam9pbigiLiIpKTsKfSBlbHNlIHsKZSA9IHIucm9vdC4kJCh0KS5nZXRWYWx1ZSgpOwppID0gcy5kZXNjZW5kc09iaihhLCB0KTsKfQpyZXR1cm4gKGUgJiYgZS50b1N0cmluZygxMCkpID09IChpICYmIGkudG9TdHJpbmcoMTApKSA/IGkgOiBlIHx8ICIiOwp9LApzdGF0dXM6IHsKb25saW5lOiBvKDExKSwKYXdheTogbygxMiksCm9mZmxpbmU6IG8oMTMpCn0sCmVycm9yX21lc3NhZ2U6IHsKdGV4dDogbygxNCksCmVtYWlsOiBvKDE1KSwKdGV4dGFyZWE6IG8oMTYpLApzZWxlY3Q6IG8oMTcpLApyYWRpbzogbygxOCksCmNoZWNrYm94OiBvKDE5KSwKY2hlY2tib3hfbXVsdGlwbGU6IG8oMjApLApkZXBhcnRtZW50OiBvKDIxKSwKZGVmYXVsdDogbygyMikKfSwKcGxhY2Vob2xkZXI6IHsKcGhvbmU6IG8oMjMpCn0sCmVuZF9jaGF0X21lbnVfbWVzc2FnZTogbygyNCksCmV4dGVybmFsX2xvZ2luOiB7CmZhY2Vib29rOiBvKDI1KSwKdHdpdHRlcjogbygyNiksCmdvb2dsZTogbygyNykKfSwKY2hhdF9sb2c6IHsKYWdlbnRfZGlzY29ubmVjdGVkOiBsLAoiY2hhdC5tZW1iZXJqb2luIjogbygyOCksCiJjaGF0Lm1lbWJlcmxlYXZlIjogbygyOSksCiJjaGF0LmNoYW5nZW5hbWUiOiBvKDMwKSwKImNoYXQudmlzaXRvcmpvaW4iOiBvKDMxKSwKImNoYXQudmlzaXRvcmxlYXZlIjogbygzMiksCiJjaGF0LmNvbW1lbnQiOiBvKDMzKSwKImNoYXQucmF0aW5nIjogewpnb29kOiBvKDM0KSwKYmFkOiBvKDM1KSwKY2FuY2VsOiBvKDM2KQp9Cn0sCmNoYXRfcGFuZWw6IHsKbmFtZV9pc190eXBpbmc6IG8oMzcpLApuYW1lc19hcmVfdHlwaW5nOiBvKDM4KSwKYWdlbnRzX2FyZV90eXBpbmc6IG8oMzkpLApjaGF0dGV4dGFyZWFfcGxhY2Vob2xkZXI6IG8oNDApLApzZW5kYnV0dG9uX3RleHQ6IG8oNDEpLApuZXdfbWVzc2FnZV9iZWxvdzogbyg0MiksCm5ld19tZXNzYWdlc19iZWxvdzogbyg0MykKfSwKY2hhdF9idXR0b246IHsKdW5yZWFkX29uZTogbyg0NCksCnVucmVhZF9tYW55OiBvKDQ1KSwKbW9iaWxlX2dyZWV0aW5nOiB7Cm9ubGluZTogbyg0NiksCm9mZmxpbmU6IG8oNDcpCn0KfSwKY2hhdF9ub3RpZmljYXRpb246IHsKYXR0YWNobWVudDogbyg0OCkKfSwKY29ubmVjdGlvbl9zdGF0dXM6IHsKcmVjb25uZWN0aW5nOiBvKDQ5KSwKaWRsZV9kaXNjb25uZWN0OiBvKDUwKSwKZGlzY29ubmVjdGVkOiBvKDUxKSwKcmVzdW1pbmc6IG8oNTIpLApmYXN0X2luaXQ6IG8oNTMpCn0sCmNvb2tpZV9sYXc6IHsKZGlzYWJsZWQ6IG8oNTQpLApkaXNhYmxlZF9tb2JpbGU6IG8oNTUpLApwcml2YWN5X3BvbGljeTogbyg1NiksCnJlcXVlc3RfdXNlX2Nvb2tpZXNfZ29saW9uOiBoCn0sCnByb2ZpbGU6IHsKdW5saW5rOiBvKDU3KQp9LApzeXN0ZW1fbXNnOiB7CnF1ZXVlOiBnCn0sCmJyYW5kaW5nOiB7CnRpdGxlX3plbmRlc2s6ICJaZW5kZXNrIiwKdGl0bGVfZ29saW9uOiBmCn0sCnByZV9jaGF0X29mZmxpbmVfZm9ybTogewpidXR0b25fbWVzc2FnZTogbyg1OCksCmJ1dHRvbl9jaGF0OiBvKDU5KSwKZGVwYXJ0bWVudF9hbnk6IG8oNjApLApkZXBhcnRtZW50X2FueV9yZXF1aXJlZDogbyg2MSksCmJ1dHRvbl9kaXNhYmxlZDogbyg2MiksCm9wZXJhdGluZ19ob3VyczogewpjbG9zZWQ6IG8oNjMpLApwZXJpb2Q6IG8oNjQpCn0KfSwKZmlsZV91cGxvYWQ6IHsKZXJyb3I6IHsKc2l6ZTogbyg2NSksCnR5cGU6IG8oNjYpLApkaXNhYmxlZDogbyg2NyksCmRlZmF1bHQ6IG8oNjgpCn0KfSwKc2V0X2Fzc2lnbmVlOiB7CmVycm9yOiB7CmRlZmF1bHQ6IG8oNjkpLAp6ZW5kZXNrX2FnZW50X25vdF9mb3VuZDogYwp9Cn0sCmRhdGV0aW1lOiB7CmRheXM6IFsgbyg3MCksIG8oNzEpLCBvKDcyKSwgbyg3MyksIG8oNzQpLCBvKDc1KSwgbyg3NikgXSwKd2Vla2RheTogbyg3NyksCndlZWtlbmQ6IG8oNzgpLApldmVyeWRheTogbyg3OSksCmFsbF9kYXk6IG8oODApCn0sCmJhY2s6IGQsCmhpc3Rvcnk6IHsKdmlld19tb3JlOiB1Cn0KfTsKdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQsIGUpIHsKZm9yICh2YXIgaSwgbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLCBvID0gMCwgciA9IEwubGVuZ3RoOyBvIDwgcjsgbysrKSBpZiAodm9pZCAwICE9PSBuLnN0eWxlW0xbb11dKSB7CmkgPSBlW29dOwpicmVhazsKfQpyZXR1cm4gaSA/IHQgPyBmdW5jdGlvbih0LCBlLCBuKSB7CnQuYXV0b2JpbmQoZSwgaSwgbik7Cn0gOiBmdW5jdGlvbih0LCBlLCBuKSB7ClcgJiYgdC5hdXRvdW5iaW5kKGUsIGksIG4pOwp9IDogZnVuY3Rpb24oKSB7fTsKfQpmdW5jdGlvbiBvKHQsIGUpIHsKZm9yICh2YXIgaSA9IHt9LCBuID0gMCwgbyA9IGUubGVuZ3RoOyBuIDwgbzsgbisrKSB7CnZhciByID0gZVtuXTsKciBpbiB0ICYmIChpW3JdID0gdFtyXSk7Cn0KcmV0dXJuIGk7Cn0KZnVuY3Rpb24gcigpIHsKZm9yICh2YXIgdCwgZSwgaSA9IGFyZ3VtZW50cy5sZW5ndGgsIG4gPSAxLCBvID0gYXJndW1lbnRzWzBdIHx8IHt9OyBuIDwgaTsgbisrKSBpZiAobnVsbCAhPSAodCA9IGFyZ3VtZW50c1tuXSkpIGZvciAoZSBpbiB0KSB0Lmhhc093blByb3BlcnR5KGUpICYmIG8gIT09IHRbZV0gJiYgKG9bZV0gPSB0W2VdKTsKcmV0dXJuIG87Cn0KZnVuY3Rpb24gYSh0LCBlKSB7CmZvciAodmFyIGkgaW4gZSkgaWYgKGUuaGFzT3duUHJvcGVydHkoaSkpIGlmIChlW2ldICYmIGVbaV0uY29uc3RydWN0b3IgJiYgZVtpXS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSB7CnRbaV0gPSB0W2ldIHx8IHt9OwphKHRbaV0sIGVbaV0pOwp9IGVsc2UgdFtpXSA9IGVbaV07CnJldHVybiB0Owp9CmZ1bmN0aW9uIHModCwgZSkgewpmb3IgKHZhciBpIGluIGUpIGlmIChlLmhhc093blByb3BlcnR5KGkpKSB7CmlmICghKGkgaW4gdCkpIGNvbnRpbnVlOwplW2ldICYmIGVbaV0uY29uc3RydWN0b3IgJiYgZVtpXS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0ID8gcyh0W2ldLCBlW2ldKSA6IGRlbGV0ZSB0W2ldOwp9CnJldHVybiB0Owp9CmZ1bmN0aW9uIF8oKSB7CmlmICh2b2lkIDAgPT09IGspIHRyeSB7CmsgPSBsKCk7Cn0gY2F0Y2ggKHQpIHt9CnJldHVybiBrOwp9CmZ1bmN0aW9uIGwoKSB7CmlmICghd2luZG93LmdldENvbXB1dGVkU3R5bGUpIHJldHVybiAhMTsKdmFyIHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSwgZSA9ICJib3JkZXItYm94IjsKZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0KTsKdC5zdHlsZS5oZWlnaHQgPSAiMTBweCI7CnQuc3R5bGUucGFkZGluZyA9ICI1cHgiOwp0LnN0eWxlLmJveFNpemluZyA9IGU7CnQuc3R5bGUud2Via2l0Qm94U2l6aW5nID0gZTsKdC5zdHlsZS5tb3pCb3hTaXppbmcgPSBlOwp2YXIgaSA9IHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHQpLmhlaWdodCwgMTApOwpkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHQpOwpyZXR1cm4gMTAgIT0gaTsKfQpmdW5jdGlvbiBkKHQpIHsKdmFyIGUgPSB0LmdldENvbXB1dGVkU3R5bGUoKTsKaWYgKCJhdXRvIiA9PSBlLmhlaWdodCkgcmV0dXJuIHQuZ2V0SGVpZ2h0KCk7CnZhciBpID0gcGFyc2VJbnQoZS5oZWlnaHQsIDEwKSB8fCAwOwpSLmNvbXB1dGVkSGVpZ2h0Qm94U2l6aW5nQnVnKCkgJiYgKGkgKz0gKHBhcnNlSW50KGUucGFkZGluZ1RvcCwgMTApIHx8IDApICsgKHBhcnNlSW50KGUucGFkZGluZ0JvdHRvbSwgMTApIHx8IDApICsgKHBhcnNlSW50KGUuYm9yZGVyVG9wV2lkdGgsIDEwKSB8fCAwKSArIChwYXJzZUludChlLmJvcmRlckJvdHRvbVdpZHRoLCAxMCkgfHwgMCkpOwpyZXR1cm4gaSArICJweCI7Cn0KZnVuY3Rpb24gdSh0KSB7CmZ1bmN0aW9uIGUoKSB7CnRoaXMuYWRkQ2xhc3MoImhvdmVyIik7Cn0KZnVuY3Rpb24gaSgpIHsKdGhpcy5yZW1vdmVDbGFzcygiaG92ZXIiKTsKfQppZiAoSS5idWdzLm5vQm94U2l6aW5nKSB7CnQub24oIm1vdXNlb3ZlciIsIGUpOwp0Lm9uKCJtb3VzZW91dCIsIGkpOwp9Cn0KZnVuY3Rpb24gYyh0LCBlKSB7CmZvciAodmFyIGksIG4gPSBlLnNwbGl0KCIuIik7IG4ubGVuZ3RoOyApIHsKaSA9IG4uc2hpZnQoKTsKVCh0W2ldLCAhMCkgJiYgKHRbaV0gPSB7fSk7CnQgPSB0W2ldOwp9CnJldHVybiB0Owp9CmZ1bmN0aW9uIGgodCwgZSkgewppZiAoMCA9PT0gZS5pbmRleE9mKHQucGF0aCkpIHsKZm9yICh2YXIgaSwgbiA9IHQucGF0aC5zcGxpdCgiLiIpLmxlbmd0aCwgbyA9IGUuc3BsaXQoIi4iKS5zbGljZShuKSwgciA9IHQudXBkYXRlOyBvLmxlbmd0aDsgKSB7CmkgPSBvLnNoaWZ0KCk7CmlmICghKGkgaW4gcikpIHJldHVybjsKciA9IHJbaV07Cn0KcmV0dXJuIHI7Cn0KfQpmdW5jdGlvbiBmKHQsIGUsIGkpIHsKdCA9IHQuc3BsaXQoIi4iKTsKdmFyIG4gPSB0LnBvcCgpOwppZiAobikgewpmb3IgKHZhciBvID0gMCwgciA9IHQubGVuZ3RoOyBvIDwgcjsgbysrKSB7CnRbb10gaW4gaSB8fCAoaVt0W29dXSA9IHt9KTsKaSA9IGlbdFtvXV07Cn0KaVtuXSA9IGU7Cn0KfQpmdW5jdGlvbiBnKHQpIHsKZm9yICh2YXIgZSA9IHQuc3BsaXQoIi4iKSwgaSA9ICIuIiArIGUuc3BsaWNlKGUubGVuZ3RoIC0gMiwgMikuam9pbigiLiIpOyBlLmxlbmd0aDsgKSB7CnZhciBuID0gewpkb21haW46IGksCnBhdGg6ICIvIgp9OwpCLnNldCgienRlMjA5NSIsICIxIiwgbik7CmlmICgiMSIgPT0gQi5nZXQoInp0ZTIwOTUiKSkgewpCLnJlbW92ZSgienRlMjA5NSIsIG4pOwpicmVhazsKfQppID0gIi4iICsgZS5wb3AoKSArIGk7Cn0KcmV0dXJuIGk7Cn0KZnVuY3Rpb24gcCh0KSB7CnJldHVybiBNLnRlc3QodCk7Cn0KZnVuY3Rpb24gbSh0KSB7CnJldHVybiBGLnRlc3QodCk7Cn0KZnVuY3Rpb24gJCh0KSB7CmlmICh0ICYmICJvYmplY3QiID09IHR5cGVvZiB0KSB7CnZhciBlID0gW107CmZvciAodmFyIGkgaW4gdCkgdC5oYXNPd25Qcm9wZXJ0eShpKSAmJiBlLnB1c2goaSk7CnJldHVybiBlOwp9Cn0KZnVuY3Rpb24gYih0KSB7CmlmICh3aW5kb3cuSW1hZ2UpIHRyeSB7CnZhciBlID0gbmV3IHdpbmRvdy5JbWFnZSgpOwplLm9ubG9hZCA9IGUub25lcnJvciA9IGZ1bmN0aW9uKCkgewp0KCEoMSAhPSB0aGlzLndpZHRoIHx8IDEgIT0gdGhpcy5oZWlnaHQpKTsKfTsKZS5zcmMgPSAiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFJQUFBQUFBQVAvLy95d0FBQUFBQVFBQkFBQUNBVXdBT3c9PSI7Cn0gY2F0Y2ggKGUpIHsKdCgpOwp9IGVsc2UgdCgpOwp9CmZ1bmN0aW9uIHcodCwgZSkgewp0ID0gcGFyc2VJbnQodCwgMTApOwppc05hTih0KSAmJiAodCA9IDApOwp2YXIgaSA9IHQgPCAwOwp0ID0gTWF0aC5hYnModCkudG9TdHJpbmcoKS5zcGxpdCgiIik7CmZvciAodmFyIG4gPSBNYXRoLm1heChlIC0gdC5sZW5ndGgsIDApOyBuLS07ICkgdC51bnNoaWZ0KCIwIik7CmkgJiYgdC51bnNoaWZ0KCItIik7CnJldHVybiB0LmpvaW4oIiIpOwp9CmZ1bmN0aW9uIHgodCwgZSkgewpmdW5jdGlvbiBpKHQsIGUsIGkpIHsKcmV0dXJuIGkucmVwbGFjZSgiPGhvdXJzPiIsIHQpLnJlcGxhY2UoIjxtaW51dGVzPiIsIGUpOwp9CnZhciBuID0gTigwKSwgbyA9IE4oMSksIHIgPSBOKDIpLCBhID0gIjI0IiA9PT0gZSA/IDI0IDogMTIsIHMgPSBmdW5jdGlvbih0LCBlKSB7CnJldHVybiB0IC0gTWF0aFt0ID4gMCA/ICJmbG9vciIgOiAiY2VpbCJdKHQgLyBlKSAqIGU7Cn0oTWF0aFt0ID4gMCA/ICJmbG9vciIgOiAiY2VpbCJdKHQgLyA2MCksIGEpLCBfID0gUi5wYWQoTWF0aC5hYnModCkgJSA2MCwgMik7CmlmICgyNCA9PT0gYSkgcmV0dXJuIGkoUi5wYWQocywgMiksIF8sIG4pOwp2YXIgbCA9IDAgPT09IHMgPyAxMiA6IHM7CnJldHVybiBNYXRoLmFicyh0IC8gNjApICUgMjQgPCAxMiA/IGkobCwgXywgbykgOiBpKGwsIF8sIHIpOwp9CmZ1bmN0aW9uIHYodCkgewpyZXR1cm4gdCAmJiB0LnJlcGxhY2UoRC5GSUxFX1JFUExBQ0VfU09VUkNFLCBELkZJTEVfUkVQTEFDRV9SRVNVTFQpOwp9CmZ1bmN0aW9uIHkodCwgZSkgewplID0gcGFyc2VJbnQoZSwgMTApOwppZiAoIWUpIHJldHVybiB0LmdldFZhbHVlKCk7CnZhciBpID0gdC5nZXRLZXlzKCksIG4gPSBpLmxlbmd0aCwgbyA9IHt9OwppZiAobiA8PSBlKSByZXR1cm4gdC5nZXRWYWx1ZSgpIHx8IG87CmZvciAodmFyIHIgPSAwOyByIDwgbjsgcisrKSBpW3JdID0gcGFyc2VJbnQoaVtyXSwgMTApOwppID0gaS5zb3J0KCkuc2xpY2UoLWUpOwp2YXIgYSwgcyA9IHQuZ2V0VmFsdWUoKTsKaWYgKCFzKSByZXR1cm4gbzsKZm9yIChyID0gMCwgbiA9IGkubGVuZ3RoOyByIDwgbjsgcisrKSB7CmEgPSBpW3JdOwpvW2FdID0gc1thXTsKfQpyZXR1cm4gbzsKfQpmdW5jdGlvbiBqKHQsIGUpIHsKdmFyIGk7CmlmICh0LmxlYWYgJiYgdC5wYXJlbnROb2RlKSB7CmkgPSB7fTsKaVt0Lm5hbWVdID0gZTsKdC5wYXJlbnROb2RlLndyaXRlKGkpOwp9IGVsc2UgdC53cml0ZShlKTsKfQpmdW5jdGlvbiBDKCkgewppZiAoSS5pc05ld0lFKSB0cnkgewoiYm9keSIgIT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmZvY3VzKCk7Cn0gY2F0Y2ggKHQpIHt9Cn0KZnVuY3Rpb24gUygpIHsKd2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUud2FybiAmJiB3aW5kb3cuY29uc29sZS53YXJuKCJUaGUgWm9waW0gd2lkZ2V0IGVtYmVkIGNvZGUgaXMgaW52YWxpZC4gUGxlYXNlIGVtYWlsIGNoYXRAemVuZGVzay5jb20gd2l0aCB5b3VyIGFjY291bnQga2V5OiAiICsgRC5BQ0NPVU5UX0tFWSk7Cn0KZnVuY3Rpb24gQSh0LCBlLCBpKSB7CnJldHVybiBELkFVVEhfVVJMLnJlcGxhY2UoIiROQU1FIiwgdCkucmVwbGFjZSgiJEtFWSIsIGUpLnJlcGxhY2UoIiRNSUQiLCBpKTsKfQp2YXIgaywgSSA9IGkoOCksIFQgPSBpKDI1KSwgTiA9IGkoMiksIEIgPSBpKDE3OSksIEQgPSBpKDE4KSwgRSA9ICItd2Via2l0LSAtbW96LSAtby0gLW1zLSAiLnNwbGl0KCIgIiksIE8gPSAid2Via2l0IE1veiBPIG1zICIuc3BsaXQoIiAiKSwgTCA9IFsgInRyYW5zaXRpb24iLCAiTW96VHJhbnNpdGlvbiIsICJPVHJhbnNpdGlvbiIsICJXZWJraXRUcmFuc2l0aW9uIiBdLCBXID0gWyAidHJhbnNpdGlvbmVuZCIsICJ0cmFuc2l0aW9uZW5kIiwgIm90cmFuc2l0aW9uZW5kIiwgIndlYmtpdFRyYW5zaXRpb25FbmQiIF0sIFAgPSBbICJhbmltYXRpb25lbmQiLCAiYW5pbWF0aW9uZW5kIiwgIm9hbmltYXRpb25lbmQiLCAid2Via2l0QW5pbWF0aW9uRW5kIiBdLCBSID0gewpjb250YWluczogZnVuY3Rpb24oKSB7CnZhciB0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OwpyZXR1cm4gdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiA/IGZ1bmN0aW9uKHQsIGUpIHsKdCA9IHQuZG9tIHx8IHQ7CmUgPSBlLmRvbSB8fCBlOwpyZXR1cm4gISEoMTYgJiB0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGUpKTsKfSA6IHQuY29udGFpbnMgPyBmdW5jdGlvbih0LCBlKSB7CnQgPSB0LmRvbSB8fCB0OwplID0gZS5kb20gfHwgZTsKdmFyIGkgPSA5ID09PSB0Lm5vZGVUeXBlID8gdC5kb2N1bWVudEVsZW1lbnQgOiB0LCBuID0gZS5wYXJlbnROb2RlOwpyZXR1cm4gdCA9PT0gbiB8fCAhIShuICYmIDEgPT09IG4ubm9kZVR5cGUgJiYgaS5jb250YWlucyAmJiBpLmNvbnRhaW5zKG4pKTsKfSA6IGZ1bmN0aW9uKHQsIGUpIHsKdCA9IHQuZG9tIHx8IHQ7CmUgPSBlLmRvbSB8fCBlOwpmb3IgKDtlID0gZS5wYXJlbnROb2RlOyApIGlmIChlID09PSB0KSByZXR1cm4gITA7CnJldHVybiAhMTsKfTsKfSgpLApvblRyYW5zaXRpb25FbmQ6IG4oITAsIFcpLAp1blRyYW5zaXRpb25FbmQ6IG4oITEsIFcpLApvbkFuaW1hdGlvbkVuZDogbighMCwgUCksCnVuQW5pbWF0aW9uRW5kOiBuKCExLCBQKSwKY3NzX3ByZWZpeGVzOiBFLApjc3NvbV9wcmVmaXhlczogTywKaXNTdHlsZVN1cHBvcnRlZDogZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQodCkgewpmb3IgKHZhciBlID0gdC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHQuc2xpY2UoMSksIG4gPSAodCArICIgIiArIE8uam9pbihlICsgIiAiKSArIGUpLnNwbGl0KCIgIiksIG8gPSAwOyBvIDwgbi5sZW5ndGg7IG8rKykgaWYgKHZvaWQgMCAhPT0gaVtuW29dXSkgcmV0dXJuICEwOwpyZXR1cm4gITE7Cn0KdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSwgaSA9IGUuc3R5bGU7CnJldHVybiB0Owp9KCksCnBpY2s6IG8sCnNoYWxsb3dFeHRlbmQ6IHIsCmZ1bGx5RXh0ZW5kOiBhLApmdWxseURlbGV0ZTogcywKY29tcHV0ZWRIZWlnaHRCb3hTaXppbmdCdWc6IF8sCmdldENvbXB1dGVkSGVpZ2h0OiBkLApob3ZlckZpeDogdSwKZ2V0RWZmZWN0aXZlVExEOiBnLApkZXNjZW5kc09iajogYywKaW5zZXJ0T2JqOiBmLApnZXRWYWx1ZUJ5UmVmZXJlbmNlOiBoLAppc0RlZmF1bHROYW1lOiBtLApnZXRLZXlzOiAkLApzdXBwb3J0c0RhdGFVUkk6IGIsCmlzSUU6IGZ1bmN0aW9uKCkgewpyZXR1cm4gSS5pc0lFIHx8IC9UcmlkZW50XC8vLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpOwp9KCksCnBhZDogdywKZm9ybWF0TWludXRlc0FzSG91cnM6IHgsCnJlcGxhY2VGaWxlSG9zdG5hbWU6IHYsCmdldExhc3RMb2dFbnRyaWVzOiB5LAp3cml0ZU5vZGU6IGosCmlzQWdlbnROaWNrOiBwLApyZWZvY3VzQWN0aXZlRWxlbWVudDogQywKd2FybkJhZEVtYmVkOiBTLApnZXRBdXRoTG9naW5Vcmw6IEEKfSwgRiA9IC9eVmlzaXRvciBbMC05XXszLH0kLywgTSA9IC9eYWdlbnQ6WzAtOV0rL2k7CnQuZXhwb3J0cyA9IFI7Cn0sIGZ1bmN0aW9uKHQsIGUpIHsKZnVuY3Rpb24gaSh0KSB7CnJldHVybiAhIXQgJiYgImZhbHNlIiAhPSB0Owp9CnQuZXhwb3J0cyA9IGk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpLCBvLCByKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiBuKSkgcmV0dXJuIG5ldyBuKHQsIGUsIGksIG8sIHIpOwpyIHx8IChyID0ge30pOwpyLnRhZ05hbWUgPSAiZGl2IjsKYS5jYWxsKHRoaXMsIHQsIGUsIGksIG8sIHIpOwp9CnZhciBvID0gaSgxKSwgciA9IGkoMCksIGEgPSBpKDIzKTsKbi5wcm90b3R5cGUgPSByKGEucHJvdG90eXBlKTsKbyhuLCBhLCB7CmZxbmFtZTogImp4X3VpX2h0bWxfZGl2Igp9KTsKdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQsIGUpIHsKdmFyIGkgPSB7fSwgbiA9IHt9LCBvID0gZnVuY3Rpb24oZSkgewpyZXR1cm4gIXQubm9kZVR5cGUgJiYgdCAhPSB3aW5kb3cgJiYgdCAhPSBkb2N1bWVudCB8fCAoIkZPUk0iICE9IHQudGFnTmFtZSB8fCAic3VibWl0IiAhPSBlKSAmJiAoIXUuaXNDdXN0b21FdmVudHMgJiYgKHUuaXNGRiAmJiB1LmlzRkYgPCA5ID8gIWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJldmVudCIpW2UudG9VcHBlckNhc2UoKV0gOiB2b2lkIDAgPT09IHRbIm9uIiArIGVdKSk7Cn0sIHIgPSBmdW5jdGlvbihlLCBuKSB7CmlmICghZSAmJiAiZnVuY3Rpb24iICE9IHR5cGVvZiBuKSB0aHJvdyAiYmFkIGFyZ3VtZW50cyB0byBvbiAvIGFkZEV2ZW50TGlzdGVuZXIiOwppZiAoIShlIGluIGkpKSB7CmlbZV0gPSBbXTsKbyhlKSB8fCBhKGUpOwp9CmlbZV0ucHVzaChuKTsKcmV0dXJuIHQ7Cn0sIGEgPSBmdW5jdGlvbihlKSB7CmlmICghKGUgaW4gbikpIHsKbltlXSA9IGZ1bmN0aW9uKG4pIHsKbiAmJiAobi5zdG9wUHJvcGFnYXRpb24gfHwgaChuKSk7CnZhciBvLCByID0gaVtlXSwgYSA9IHIubGVuZ3RoLCBzID0gITA7CnIuX2FjdGl2ZSA9ICEwOwpmb3IgKG8gPSAwOyBvIDwgYTsgbysrKSB0cnkgewppZiAoIXJbb10pIGNvbnRpbnVlOwohMSA9PT0gcltvXS5jYWxsKHQsIHUuaXNDdXN0b21FdmVudHMgJiYgbiBpbnN0YW5jZW9mIHUuQ3VzdG9tRXZlbnQgPyBuLmRldGFpbCA6IG4pICYmIChzID0gITEpOwp9IGNhdGNoICh0KSB7CmMuZmlyZSgiZXJyb3IiLCB0KTsKfQpyLl9hY3RpdmUgPSAhMTsKaWYgKHIuX2RpcnR5KSB7CmZvciAobyA9IDA7IG8gPCBhOyBvKyspIGlmICghcltvXSkgewpvID09IGEgLSAxID8gci5wb3AoKSA6IHJbby0tXSA9IHIucG9wKCk7CmEtLTsKfQpyLl9kaXJ0eSA9ICExOwp9CmlmICghMSA9PT0gcykgewppZiAobikgewpuLnByZXZlbnREZWZhdWx0KCk7Cm4ucmV0dXJuVmFsdWUgPSAhMTsKfQpyZXR1cm4gITE7Cn0KfTsKdC5hdHRhY2hFdmVudCA/IHQuYXR0YWNoRXZlbnQoIm9uIiArIGUsIG5bZV0pIDogdC5hZGRFdmVudExpc3RlbmVyICYmIHQuYWRkRXZlbnRMaXN0ZW5lcihlLCBuW2VdLCAhMSk7Cn0KfSwgcyA9IGZ1bmN0aW9uKGUpIHsKdmFyIG8gPSBuW2VdOwppZiAobykgewp0LmF0dGFjaEV2ZW50ID8gdC5kZXRhY2hFdmVudCgib24iICsgZSwgbykgOiB0LmFkZEV2ZW50TGlzdGVuZXIgJiYgdC5yZW1vdmVFdmVudExpc3RlbmVyKGUsIG8sICExKTsKZGVsZXRlIG5bZV07CmRlbGV0ZSBpW2VdOwp9Cn0sIF8gPSBmdW5jdGlvbihlLCBvKSB7CnZhciByID0gaVtlXTsKaWYgKHIpIHsKZm9yICh2YXIgYSA9IDAsIF8gPSByLmxlbmd0aDsgYSA8IF87IGErKykgaWYgKHJbYV0gPT09IG8pIHsKMSA9PSByLmxlbmd0aCA/IG5bZV0gPyBzKGUpIDogZGVsZXRlIGlbZV0gOiByLl9hY3RpdmUgPyAoclthXSA9IG51bGwsIHIuX2RpcnR5ID0gITApIDogYSA9PSBfIC0gMSA/IHIucG9wKCkgOiByW2FdID0gci5wb3AoKTsKYnJlYWs7Cn0KcmV0dXJuIHQ7Cn0KfSwgbCA9IGZ1bmN0aW9uKCkgewppZiAoaSAmJiBuKSB7CmZvciAodmFyIHQgaW4gbikgbi5oYXNPd25Qcm9wZXJ0eSh0KSAmJiBzKHQpOwppID0gbiA9IG51bGw7Cn0KfSwgZCA9IGZ1bmN0aW9uKGUsIG4pIHsKaWYgKCF1LmlzQ3VzdG9tRXZlbnRzIHx8IG8oZSkpIHsKdmFyIHIgPSBpW2VdLCBhID0gITA7CmlmIChyICYmIHIubGVuZ3RoKSB7CnIuX2FjdGl2ZSA9ICEwOwp2YXIgcywgXywgbDsKZm9yIChzID0gMCwgXyA9IHIubGVuZ3RoOyBzIDwgXzsgcysrKSB0cnkgewppZiAoIXJbc10pIGNvbnRpbnVlOwpsID0gcltzXS5jYWxsKHQsIG4pOwohMSA9PT0gbCAmJiAoYSA9ICExKTsKfSBjYXRjaCAodCkgewpjLmZpcmUoImVycm9yIiwgdCk7Cn0Kci5fYWN0aXZlID0gITE7CmlmIChyLl9kaXJ0eSkgewpmb3IgKHMgPSAwOyBzIDwgXzsgcysrKSBpZiAoIXJbc10pIHsKcyA9PSBfIC0gMSA/IHIucG9wKCkgOiByW3MtLV0gPSByLnBvcCgpOwpfLS07Cn0Kci5fZGlydHkgPSAhMTsKfQp9CnJldHVybiBhOwp9CnJldHVybiB0LmRpc3BhdGNoRXZlbnQobmV3IHUuQ3VzdG9tRXZlbnQoZSwgewpidWJibGVzOiAhMSwKY2FuY2VsYWJsZTogITAsCmRldGFpbDogbgp9KSk7Cn0sIGggPSBmdW5jdGlvbih0KSB7CnQucHJldmVudERlZmF1bHQgPSBoLnByZXZlbnREZWZhdWx0Owp0LnN0b3BQcm9wYWdhdGlvbiA9IGguc3RvcFByb3BhZ2F0aW9uOwp0LnRhcmdldCA9IHQuc3JjRWxlbWVudDsKfTsKaC5wcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uKCkgewp0aGlzLnJldHVyblZhbHVlID0gITE7Cn07Cmguc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24oKSB7CnRoaXMuY2FuY2VsQnViYmxlID0gITA7Cn07CnZhciBmID0gewpmaXJlOiBkLApvbjogciwKdW46IF8sCnVuZXh0ZW5kRXZlbnRzOiBsCn07CmlmIChlKSByZXR1cm4gZjsKZm9yICh2YXIgZyBpbiBmKSBmLmhhc093blByb3BlcnR5KGcpICYmICh0W2ddID0gZltnXSk7CnUuYnVncy5sZWFrc01lbW9yeSAmJiB1LmJ1Z3MubGVha3NNZW1vcnkoZnVuY3Rpb24oKSB7CmZvciAodmFyIGUgaW4gZikgZi5oYXNPd25Qcm9wZXJ0eShlKSAmJiAodFtlXSA9IG51bGwpOwp9KTsKcmV0dXJuIHQ7Cn0KZnVuY3Rpb24gbyh0KSB7CnMoMCwgdCk7Cn0KZnVuY3Rpb24gcih0KSB7CnMoMSwgdCk7Cn0KZnVuY3Rpb24gYSh0KSB7CnMoMiwgdCk7Cn0KZnVuY3Rpb24gcyh0LCBlKSB7CnQgPD0gaCA/IGUoKSA6IGZbdF0ucHVzaChlKTsKfQpmdW5jdGlvbiBfKHQpIHsKZm9yICg7aCA8IHQ7ICkgewpoKys7CmZvciAodmFyIGUgPSAwOyBlIDwgZltoXS5sZW5ndGg7IGUrKykgZltoXVtlXSgpOwpmW2hdID0gbnVsbDsKfQp9CmZ1bmN0aW9uIGwoKSB7CmggPiAwIHx8IChkb2N1bWVudC5ib2R5ICYmIGRvY3VtZW50LmJvZHkuZmlyc3RDaGlsZCA/IF8oMSkgOiB3aW5kb3cuc2V0VGltZW91dChsLCAyMDApKTsKfQpmdW5jdGlvbiBkKCkgewpfKDIpOwp9CnZhciB1ID0gaSg4KSwgYyA9IHsKZXh0ZW5kOiBuLApib2R5OiBuKGRvY3VtZW50LmJvZHksICEwKSwKd2luZG93OiBuKHdpbmRvdywgITApLApkb2N1bWVudDogbihkb2N1bWVudCwgITApLApydW5BZnRlclNjcmlwdFJlYWR5OiBvLApydW5BZnRlckZpcnN0Q2hpbGRSZWFkeTogciwKcnVuQWZ0ZXJEb21SZWFkeTogYQp9OwpjLmV4dGVuZChjKTsKdmFyIGggPSAwLCBmID0gWyBbXSwgW10sIFtdLCBbXSBdOwpsKCk7CiFmdW5jdGlvbigpIHsKdmFyIHQ7CmlmICh1LmlzU2FmYXJpKSB0ID0gd2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uKCkgewppZiAoL2xvYWRlZHxjb21wbGV0ZS9pLnRlc3QoZG9jdW1lbnQucmVhZHlTdGF0ZSkpIHsKd2luZG93LmNsZWFySW50ZXJ2YWwodCk7CmQoKTsKfQp9LCAyMCk7IGVsc2UgaWYgKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIpIC9sb2FkZWR8Y29tcGxldGUvaS50ZXN0KGRvY3VtZW50LnJlYWR5U3RhdGUpID8gZCgpIDogZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsIGQsICExKTsgZWxzZSBpZiAodS5pc0lFKSB7CndpbmRvdy5hdHRhY2hFdmVudCgib25sb2FkIiwgZCk7CnZhciBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZG9jdW1lbnQ6cmVhZHkiKTsKdCA9IHdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKaWYgKC9sb2FkZWR8Y29tcGxldGUvaS50ZXN0KGRvY3VtZW50LnJlYWR5U3RhdGUpKSB7CmUgPSBudWxsOwp3aW5kb3cuY2xlYXJJbnRlcnZhbCh0KTsKZCgpOwp9IGVsc2Ugewp0cnkgewplLmRvU2Nyb2xsKCJsZWZ0Iik7Cn0gY2F0Y2ggKHQpIHsKcmV0dXJuOwp9CmUgPSBudWxsOwp3aW5kb3cuY2xlYXJJbnRlcnZhbCh0KTsKZCgpOwp9Cn0sIDIwMCk7Cn0KfSgpOwp0LmV4cG9ydHMgPSBjOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19qeF91aV9XaWRnZXQgPSBpKDcpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBpLCBvLCByLCBfKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIGksIG8sIHIsIF8pOwppID0gaSB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGwgPSBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFtdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCnNlbGVjdGFibGU6ICJmYWxzZSIsCmNsYXNzOiAiaWNvbl9mb250Igp9IF0sIGQgPSBsWzBdLmNhbGwodGhpcywgZSwgaSwgbnVsbCwgcy5tYW5nbGVJRHMoaSwgbFszXSksIGxbNF0pLCB1ID0gZCB8fCB0aGlzOwpzLnNldChpLCB1KTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIGMgPSBmdW5jdGlvbigpIHsKdmFyIHQgPSB7CnpvcGltOiAiJiN4ZTAwMDsiLAptZXNzYWdlOiAiJiN4MWY0YWM7IiwKdGljazogIiYjeDI3MTQ7IiwKY3Jvc3M6ICImI3gyNzE2OyIsCnBvcG91dDogIiYjeDIxOTc7IiwKcG9waW46ICImI3gyMTk5OyIsCm1pbmltaXplOiAiJiN4MjIxMjsiLApwbHVzOiAiJiN4MDAyYjsiLApzbWlsZXk6ICImI3gyNjNhOyIsCmhhcHB5OiAiJiN4ZTAwMTsiLApoYXBwaWVyOiAiJiN4ZTAwMjsiLApzYWQ6ICImI3hlMDAzOyIsCnRodW1ic3VwOiAiJiN4MWY0NGQ7IiwKdGh1bWJzZG93bjogIiYjeDFmNDRlOyIsCnNhZGRlcjogIiYjeGUwMDQ7IiwKYnJhbmQ6ICImI3hlMDA1OyIsCmJyYW5kX3N1ZmZpeDogIiYjeGUwMDY7IiwKYnJhbmRfZXh0ZW5kZWQ6ICImI3hlMDA1OyYjeGUwMDY7IiwKYXZhdGFyX3BsYWNlaG9sZGVyOiAiJiN4ZTAwNzsiLAplbWFpbDogIiYjeDFmNGU3OyIsCmZhY2Vib29rOiAiJiN4ZTAwODsiLAp0d2l0dGVyOiAiJiN4ZTAwOTsiLApnb29nbGU6ICImI3hlMDBhOyIsCmZhY2Vib29rX291dDogIiYjeGUwMGQ7IiwKdHdpdHRlcl9vdXQ6ICImI3hlMDBjOyIsCmdvb2dsZV9vdXQ6ICImI3hlMDBiOyIsCmJhZGdlX2RlZmF1bHQ6ICImI3hlMDBlOyIsCndhcm5pbmdfc2lnbjogIiYjeDI2YTA7IiwKYXJyb3dfbGVmdDogIiYjeDIxOTA7IiwKYXJyb3dfdXA6ICImI3gyMTkxOyIsCmFycm93X2Rvd246ICImI3gyMTkzOyIsCmFycm93X2Rvd25fbG9uZzogIiYjeDIxZTk7IiwKYXJyb3dfcmlnaHQ6ICImI3gyMTkyOyIsCnBlbmNpbDogIiYjeDI3MGU7IiwKZHVzdGJpbjogIiYjeGUwMGY7IiwKc291bmRfb246ICImI3gxZjUwYTsiLApzb3VuZF9vZmY6ICImI3gxZjUwNzsiLApzZW5kOiAiJiN4MDAwQkI7IiwKdXBsb2FkOiAiJiN4MjFlNzsiLApleGNsYW1hdGlvbjogIiYjeDAwMjE7IiwKYnJhbmRfemVuZGVzazogIiYjeGUwMTA7IiwKZ29vZ2xlXzIwMTY6ICImI3hlMDExOyIsCmdvb2dsZV8yMDE2X291dDogIiYjeGUwMTI7IiwKcGFwZXJjbGlwOiAiJiN4MWY0Y2U7IiwKcGljdHVyZTogIiYjeDFmNWJjOyIsCnplbmRlc2tfMjAxNjogIiYjeGUwMTM7IiwKemVuZGVza19jaGF0XzIwMTY6ICImI3hlMDE0OyIsCm1lc3Nlbmdlcl9zcXVpcmNsZTogIiYjeGUwMTU7IiwKdHdpdHRlcl9zcXVpcmNsZTogIiYjeGUwMTY7IiwKbWVzc2VuZ2VyX3JvdW5kOiAiJiN4ZTAxNzsiLAp0d2l0dGVyX3JvdW5kOiAiJiN4ZTAxODsiLApjbG9ja19zdHJva2U6ICImI3gxZjU1MDsiLApnb29nbGVfMjAxOV9yOiAiJiN4ZTAxOTsiLApnb29nbGVfMjAxOV95OiAiJiN4ZTAyMDsiLApnb29nbGVfMjAxOV9nOiAiJiN4ZTAyMTsiLApnb29nbGVfMjAxOV9iOiAiJiN4ZTAyMjsiCn07CnUuc2V0SWNvbiA9IGZ1bmN0aW9uKGUpIHsKdS5zZXRIVE1MKHRbZV0gfHwgZSB8fCAiIik7Cn07CnUuc2V0Rm9udCA9IGZ1bmN0aW9uKHQpIHsKdS5zZXRGb250RmFtaWx5KHQgfHwgIiIpOwp9Owp9KCk7CmZvciAodmFyIGggaW4gYykgdVtoXSA9IGNbaF07CnUuZmlyZSAmJiB1LmZpcmUoImluaXQiKTsKdS5zZXRTdHlsZSAmJiB1LnNldFN0eWxlKG8pOwp1LnNldEF0dHJpYnV0ZXMgJiYgdS5zZXRBdHRyaWJ1dGVzKF8pOwoiZnVuY3Rpb24iID09IHR5cGVvZiB1LmFkZENoaWxkcmVuID8gdS5hZGRDaGlsZHJlbihyKSA6IHMuYWRkQ2hpbGRyZW4odSwgcik7CmlmICh1ICE9PSB0aGlzKSB7CnUuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwp1Ll9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiB1Owp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2p4X3VpX1dpZGdldC5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewpmb250RmFtaWx5OiAnem9waW0sICJTZWdvZSBVSSBTeW1ib2wiLCAiQXJpYWwgVW5pY29kZSBNUyIsICJMdWNpZGEgU2FucyBVbmljb2RlIiwgc2Fucy1zZXJpZicsCnNwZWFrOiAibm9uZSIsCmZvbnRTdHlsZTogIm5vcm1hbCIsCmZvbnRXZWlnaHQ6ICJub3JtYWwiLApsaW5lSGVpZ2h0OiAxLApXZWJraXRGb250U21vb3RoaW5nOiAiYW50aWFsaWFzZWQiCn0sCiImOmZvY3VzIjogewpvdXRsaW5lOiAibm9uZSIKfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9XaWRnZXQsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX0ljb25Gb250Igp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQsIGUsIGkpIHsKYS5vaygiZnVuY3Rpb24iID09IHR5cGVvZiB0LCAiMXN0IGFyZ3VtZW50IHRvIG5leHRUaWNrIG11c3QgYmUgYSBmdW5jdGlvbiIpOwppZiAoaSkgZm9yICh2YXIgbiA9IGwubGVuZ3RoOyBuLS0gPiAwOyApIGlmIChsW25dWzBdID09PSB0ICYmIGxbbl1bMV0gPT09IGUpIHJldHVybjsKbC5wdXNoKFsgdCwgZSBdKTsKciB8fCAociA9IHNldFRpbWVvdXQobywgMCkpOwp9CmZ1bmN0aW9uIG8oKSB7CnZhciB0ID0gK25ldyBEYXRlKCkgKyBfLCBlID0gbDsKbCA9IFtdOwpyICYmIChyID0gY2xlYXJUaW1lb3V0KHIpKTsKZm9yICh2YXIgaSA9IDAsIG4gPSBlLmxlbmd0aDsgaSA8IG47IGkrKykgewp0cnkgewplW2ldWzBdLmFwcGx5KGVbaV1bMV0pOwp9IGNhdGNoICh0KSB7CnMuZmlyZSgiZXJyb3IiLCB0KTsKfQppZiAoK25ldyBEYXRlKCkgPiB0KSB7CmlmIChpIDwgbiAtIDEpIHsKZS5zcGxpY2UoMCwgaSArIDEpOwppZiAobC5sZW5ndGgpIGwgPSBlLmNvbmNhdChsKTsgZWxzZSB7CmwgPSBlOwpyID0gc2V0VGltZW91dChvLCAwKTsKfQp9CmJyZWFrOwp9Cn0KfQp2YXIgciwgYSA9IGkoOTgpLCBzID0gaSgxNCksIF8gPSAxMDAsIGwgPSBbXTsKbi50aWNrID0gbzsKdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoMSksIG8gPSBpKDMpLCByID0gaSgyKSwgYSA9IGkoMCksIHMgPSBpKDcwKSwgXyA9IHMsIGwgPSBpKDcpLCBkID0gaSg2KSwgdSA9IGkoOSk7CnMgPSBmdW5jdGlvbih0LCBlLCBpLCBuLCBhKSB7CmZ1bmN0aW9uIGwoKSB7CmMuZml4T3ZlcmZsb3dUaXRsZSgpOwp9CmlmICghKHRoaXMgaW5zdGFuY2VvZiBzKSkgcmV0dXJuIG5ldyBzKHQsIGUsIGksIG4sIGEpOwppZiAoIXMuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKby5nZW5lcmF0ZSh0aGlzLCBzLnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHMuX19qeF9famNzcywgbnVsbCwgcyk7CnMuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQphIHx8IChhID0ge30pOwphLnR5cGUgfHwgKGEudHlwZSA9ICJidXR0b24iKTsKXy5jYWxsKHRoaXMsIHQsIGUsIGksIG4sIGEpOwp1Lm1vYmlsZSh0aGlzKTsKdS5ydGwodGhpcyk7CnZhciBjID0gdGhpczsKaWYgKG4gJiYgMSA9PSBuLmxlbmd0aCAmJiAoInN0cmluZyIgPT0gdHlwZW9mIG5bMF0gfHwgblswXS5iaW5kKSkgewppZiAociAmJiByLm9uTGFuZ3VhZ2UpIHsKci5vbkxhbmd1YWdlKGwpOwp0aGlzLm9uRGVzdHJ1Y3Rpb24oZnVuY3Rpb24oKSB7CnIudW5MYW5ndWFnZShsKTsKfSk7Cn0KdGhpcy5hdXRvYmluZChkLnJvb3QuJCgibGl2ZWNoYXQiKS4kKCJ1aSIpLiQoInRoZW1lX2xvYWRlZCRib29sIiksICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKdCAmJiBjLmZpeE92ZXJmbG93VGl0bGUoKTsKfSk7Cn0KfTsKcy5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewphcHBlYXJhbmNlOiAibm9uZSIsCndpZHRoOiAiNDglIiwKb3ZlcmZsb3c6ICJoaWRkZW4iLAp0ZXh0T3ZlcmZsb3c6ICJlbGxpcHNpcyIsCndoaXRlU3BhY2U6ICJub3dyYXAiLApjb2xvcjogIiQkYnV0dG9uQ29sb3IiLApiYWNrZ3JvdW5kOiAiJCRidXR0b25CZyIsCiJwYWRkaW5nVG9wLCBwYWRkaW5nQm90dG9tIjogIiQkYnV0dG9uUGFkZGluZyIsCiJwYWRkaW5nTGVmdCwgcGFkZGluZ1JpZ2h0IjogIiQkYnV0dG9uUGFkZGluZ0hvcml6b250YWwiLApib3JkZXJXaWR0aDogIiQkYnV0dG9uQm9yZGVyV2lkdGgiLApib3JkZXJTdHlsZTogIiQkYnV0dG9uQm9yZGVyU3R5bGUiLApib3JkZXJDb2xvcjogIiQkYnV0dG9uQm9yZGVyQ29sb3IiLApib3JkZXJSYWRpdXM6ICIkJGJ1dHRvblJhZGl1cyIsCmJveFNoYWRvdzogIiQkYnV0dG9uU2hhZG93IiwKZm9udFdlaWdodDogIiQkYnV0dG9uRm9udFdlaWdodCIsCndvcmRXcmFwOiAibm9ybWFsIiwKIipvdmVyZmxvdyI6ICJ2aXNpYmxlIiwKY3Vyc29yOiAicG9pbnRlciIsCiImOmhvdmVyLCAmOmZvY3VzIjogewpjb2xvcjogIiQkYnV0dG9uSG92ZXJDb2xvciIsCmJhY2tncm91bmQ6ICIkJGJ1dHRvbkhvdmVyQmciLApib3JkZXJDb2xvcjogIiQkYnV0dG9uSG92ZXJCb3JkZXJDb2xvciIsCmJveFNoYWRvdzogIiQkYnV0dG9uSG92ZXJTaGFkb3ciCn0sCiImOmFjdGl2ZSI6IHsKY29sb3I6ICIkJGJ1dHRvbkFjdGl2ZUNvbG9yIiwKYmFja2dyb3VuZDogIiQkYnV0dG9uQWN0aXZlQmciLApib3JkZXJDb2xvcjogIiQkYnV0dG9uQWN0aXZlQm9yZGVyQ29sb3IiLApib3hTaGFkb3c6ICIkJGJ1dHRvbkFjdGl2ZVNoYWRvdyIKfQp9LAoiJi5zZWNvbmRhcnkiOiB7CmNvbG9yOiAiJCRidXR0b25TZWNDb2xvciIsCmJhY2tncm91bmQ6ICIkJGJ1dHRvblNlY0JnIiwKYm9yZGVyQ29sb3I6ICIkJGJ1dHRvblNlY0JvcmRlckNvbG9yIiwKYm94U2hhZG93OiAiJCRidXR0b25TZWNTaGFkb3ciLAoiJjpob3ZlciwgJjpmb2N1cyI6IHsKY29sb3I6ICIkJGJ1dHRvblNlY0hvdmVyQ29sb3IiLApiYWNrZ3JvdW5kOiAiJCRidXR0b25TZWNIb3ZlckJnIiwKYm9yZGVyQ29sb3I6ICIkJGJ1dHRvblNlY0hvdmVyQm9yZGVyQ29sb3IiLApib3hTaGFkb3c6ICIkJGJ1dHRvblNlY0hvdmVyU2hhZG93Igp9LAoiJjphY3RpdmUiOiB7CmNvbG9yOiAiJCRidXR0b25TZWNBY3RpdmVDb2xvciIsCmJhY2tncm91bmQ6ICIkJGJ1dHRvblNlY0FjdGl2ZUJnIiwKYm9yZGVyQ29sb3I6ICIkJGJ1dHRvblNlY0FjdGl2ZUJvcmRlckNvbG9yIiwKYm94U2hhZG93OiAiJCRidXR0b25TZWNBY3RpdmVTaGFkb3ciCn0KfSwKIiYuZGlzYWJsZWQiOiB7Cm9wYWNpdHk6ICIwLjUiLApjdXJzb3I6ICJkZWZhdWx0IiwKIiY6aG92ZXIsICY6Zm9jdXMiOiB7CmNvbG9yOiAiJCRidXR0b25Db2xvciIsCmJhY2tncm91bmQ6ICIkJGJ1dHRvbkJnIiwKYm9yZGVyQ29sb3I6ICIkJGJ1dHRvbkJvcmRlckNvbG9yIiwKYm94U2hhZG93OiAiJCRidXR0b25TaGFkb3ciCn0KfSwKIiYuZml0Ijogewp3aWR0aDogImF1dG8iLAoicGFkZGluZ0xlZnQsIHBhZGRpbmdSaWdodCI6ICIkJGJ1dHRvblBhZGRpbmciCn0sCiImLndpZGUiOiB7CndpZHRoOiAiMTAwJSIKfSwKIiYuc2hvcnQiOiB7CiJwYWRkaW5nVG9wLCBwYWRkaW5nQm90dG9tIjogIiQkYnV0dG9uU2hvcnRQYWRkaW5nIgp9LAoiJi5zaG9ydC5tb2JpbGUiOiB7CiJwYWRkaW5nVG9wLCBwYWRkaW5nQm90dG9tIjogIiQkYnV0dG9uUGFkZGluZyIKfSwKIiYuc2hvcnQubW9iaWxlLnNob3J0X21vYmlsZSI6IHsKInBhZGRpbmdUb3AsIHBhZGRpbmdCb3R0b20iOiAiJCRidXR0b25TaG9ydFBhZGRpbmciCn0KfTsKcy5wcm90b3R5cGUgPSBhKF8ucHJvdG90eXBlKTsKbihzLCBfLCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19CdXR0b24iCn0pOwp2YXIgYyA9IFsgImZvbnRGYW1pbHkiLCAiZm9udFNpemUiLCAiZm9udFdlaWdodCIsICJmb250U3R5bGUiIF07CnMucHJvdG90eXBlLmZpeE92ZXJmbG93VGl0bGUgPSBmdW5jdGlvbigpIHsKaWYgKCJlbiIgIT0gci5sYW5ndWFnZSkgewpzLmR1bW15IHx8IChzLmR1bW15ID0gbmV3IGwodGhpcy5kb2MuYm9keSwgbnVsbCwgbnVsbCwgbnVsbCwgewpwb3NpdGlvbjogImFic29sdXRlIiwKdmlzaWJpbGl0eTogImhpZGRlbiIKfSkpOwp2YXIgdCA9IHRoaXMuZ2V0VGV4dCgpLCBlID0gdGhpcy5nZXRDb21wdXRlZFN0eWxlKCk7CmlmIChlKSB7CmZvciAodmFyIGkgPSAwLCBuID0gYy5sZW5ndGg7IGkgPCBuOyBpKyspIHMuZHVtbXkuc3R5bGVbY1tpXV0gPSBlW2NbaV1dOwpzLmR1bW15LnNldFRleHQodCk7CnZhciBvID0gcy5kdW1teS5nZXRXaWR0aCgpLCBhID0gcGFyc2VJbnQoZS53aWR0aCwgMTApIHx8IDAgLSAocGFyc2VJbnQoZS5wYWRkaW5nTGVmdCwgMTApIHx8IDApIC0gKHBhcnNlSW50KGUucGFkZGluZ1JpZ2h0LCAxMCkgfHwgMCkgLSAocGFyc2VJbnQoZS5ib3JkZXJMZWZ0V2lkdGgsIDEwKSB8fCAwKSAtIChwYXJzZUludChlLmJvcmRlclJpZ2h0V2lkdGgsIDEwKSB8fCAwKTsKdGhpcy5zZXRUaXRsZShvID4gMCAmJiBhID4gMCAmJiBvID4gYSA/IHQgOiAiIik7Cn0KfSBlbHNlIHRoaXMuc2V0VGl0bGUoIiIpOwp9OwpzLnByb3RvdHlwZS5fX2p4X19zdXBlciA9IF87CnQuZXhwb3J0cyA9IHM7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbigpIHsKaWYgKHdpbmRvdy4kem9waW0gJiYgd2luZG93LiR6b3BpbS5zKSByZXR1cm4gd2luZG93LiR6b3BpbS5zLnNyYzsKZm9yICh2YXIgdCwgZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKSwgaSA9IC8uKnpvcGltLihjb218bmV0fG9yZylcLy8sIG4gPSAwLCBvID0gZS5sZW5ndGg7IG4gPCBvOyBuKyspIHsKdCA9IGVbbl0uc3JjIHx8ICIiOwppZiAoaS50ZXN0KHQpKSByZXR1cm4gdDsKfQpyZXR1cm4gIiI7Cn0KZnVuY3Rpb24gbyh0KSB7CnQgJiYgIWcudGVzdCh0KSAmJiAodCA9IG51bGwpOwp2YXIgZSA9ICJpZC4iICsgKHUuYnJhbmREb21haW4gfHwgInpvcGltLmNvbSIpOwpyZXR1cm4gImh0dHBzOi8vIiArICh0IHx8IGUpICsgIi9hdXRoZW50aWNhdGVkL3dlYi9qd3QiOwp9CmZ1bmN0aW9uIHIodCkgewppZiAodCkgewppZiAocC50ZXN0KHQpKSByZXR1cm4gdC5yZXBsYWNlKHAsICIkMS56b3BpbS5jb20kMiIpOwpnLnRlc3QodCkgfHwgKHQgPSBudWxsKTsKfQp2YXIgZSA9ICJ3aWRnZXQtbWVkaWF0b3IuIiArICh1LmJyYW5kRG9tYWluICYmIHUuYnJhbmREb21haW4ucmVwbGFjZSgvOlswLTldKy8sICIiKSB8fCAiem9waW0uY29tIik7CnJldHVybiB0IHx8IGU7Cn0KdmFyIGEgPSBpKDI1KSwgcyA9IGkoNDYpLCBfID0gaSg4KSwgbCA9IGkoMzgyKSwgZCA9IGkoNjUpLCB1ID0gZnVuY3Rpb24oKSB7CmZvciAodmFyIHQgPSBuKCksIGUgPSBbIC9cLz9bP10vLCAvXC9saXZlY2hhdFwvLyBdLCBpID0gW10sIG8gPSAwOyBvIDwgZS5sZW5ndGg7IG8rKykgewppID0gdC5zcGxpdChlW29dKTsKaWYgKGkubGVuZ3RoKSBicmVhazsKfQp2YXIgciA9IGlbMV0sIGEgPSBpWzBdLCBzID0gL14oaHR0cHM/Oik/XC9cL1teXC9dKy8uZXhlYyhhKSwgXyA9IGEucmVwbGFjZSgvXihodHRwcz86KT9cL1wvL2ksICIiKS5zcGxpdCgiLyIpWzBdLCBsID0gXy5yZXBsYWNlKC8oLitcLikoPz0uK1wuLispLywgIiIpLCBkID0gaVswXS5zcGxpdCgiLyIpOwpkID0gZC5wb3AoKSA9PSBfID8gaVswXSA6IGQuam9pbigiLyIpOwpzID0gcyAmJiAiem9waW0uY29tIiAhPT0gXyA/IHNbMF0gOiAiaHR0cHM6Ly92Mi56b3BpbS5jb20iOwpyZXR1cm4gewphY2NvdW50S2V5OiByLApicmFuZERvbWFpbjogbCwKYmFzZVVSTDogZCwKcm9vdFVSTDogcwp9Owp9KCksIGMgPSAiaHR0cHM6Ly92Mi56b3BpbS5jb20vd2lkZ2V0IiwgaCA9IGMgKyAiL2ltYWdlcyIsIGYgPSBsLm1hcChbICIuem9waW0uY29tIiwgIi56b3BpbS5vcmciLCAiLnpkY2guYXQiLCAiLnpkLWRldi5jb20iLCAiLnplbmRlc2stYnJlc2cuY29tIiBdLCBkLmVzY2FwZSksIGcgPSBuZXcgUmVnRXhwKCJeW2Etel1bYS16MC05Xy1dKihcXC5bYS16XVthLXowLTlfLV0qKSooIiArIGYuam9pbigifCIpICsgIikoOlxcZCspPyQiLCAiaSIpLCBwID0gL14oW2Etel1bYS16MC05Xy1dKikoOlxkKyk/JC9pOwphKHMuYmFzZVVSTCwgITApICYmIChzLmJhc2VVUkwgPSBfLnNlY3VyZVVSTCh1LmJhc2VVUkwpKTsKdmFyIG0gPSB7CkFTU0VUU19VUkw6IGMsCklNQUdFU19VUkw6IGgsClNPVU5EU19VUkw6ICJodHRwczovL3YyLnpvcGltLmNvbS93aWRnZXQvc291bmRzIiwKRk9OVFNfVVJMOiAiaHR0cHM6Ly92Mi56b3BpbS5jb20vd2lkZ2V0L2ZvbnRzIiwKQVNTRVRTX0xFR0FDWTogZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2wgKyAiLy9jZG4uem9waW0uY29tL2Fzc2V0cyIsCkJSQU5ESU5HX1VSTDogImh0dHBzOi8vd3d3LnpvcGltLmNvbSIsCkFWQVRBUlM6IHsKQ09OQ0lFUkdFOiBoICsgIi9hdmF0YXJfc2ltcGxlX2FnZW50LnBuZyIsCkFHRU5UOiBoICsgIi9hdmF0YXJfc2ltcGxlX2FnZW50LnBuZyIsClZJU0lUT1I6IGggKyAiL2F2YXRhcl9zaW1wbGVfdmlzaXRvci5wbmciLApERUZBVUxUOiBoICsgIi9hdmF0YXJfc2ltcGxlX3Zpc2l0b3IucG5nIgp9LApBQ0NPVU5UX0tFWTogdS5hY2NvdW50S2V5LApCUkFORF9ET01BSU46IHUuYnJhbmREb21haW4sCkNPVU5UUllfQ09ERTogZnVuY3Rpb24oKSB7CnZhciB0ID0gJ1BLJy50b1VwcGVyQ2FzZSgpOwoiPCIgPT0gdC5jaGFyQXQoMCkgJiYgKHQgPSAiZ2VvIik7CnJldHVybiB0Owp9KCksCkFVVEhfVVJMOiAiaHR0cHM6Ly93d3cuem9waW0uY29tL2F1dGgvJE5BTUUvJEtFWS0kTUlEIiwKQVVUSF9MT0dPVVRfVVJMOiAiaHR0cHM6Ly93d3cuem9waW0uY29tL2F1dGgvbG9nb3V0LyRLRVktJE1JRCIsCkFVVEhfU0VSVkVSX1VSTDogbygpLApJU19QT1BPVVQ6IHdpbmRvdy4kem9waW1fcG9wb3V0LApQT1BPVVRfV0lORE9XX1BSRUZJWDogInpsaXZlY2hhdHBvcG91dF8iLApQT1BPVVRfVVJMOiB1LnJvb3RVUkwgKyAiL3dpZGdldC9saXZlY2hhdC5odG1sIiwKQ0FMTEJBQ0tfRklMRV9VUExPQURfUEFUSDogIi9jbGllbnQvd2lkZ2V0L3VwbG9hZCIsCkZJTEVfVVBMT0FEX1BBVEg6ICIvY2xpZW50L3dpZGdldC91cGxvYWRzIiwKRklMRV9VUExPQURfTUFYOiAyMDk3MTUyMCwKUkVTRU5EX01TR19USU1FT1VUOiA1ZTMsCkZJTEVfUkVQTEFDRV9TT1VSQ0U6IC9eKFxzKmh0dHBzP1w6XC9cL3YyKD86YXNzZXRzfHVwbG9hZHMpXC56b3BpbVwuKWNvbShcLykvaSwKRklMRV9SRVBMQUNFX1JFU1VMVDogIiQxaW8kMiIsCkNIQVRfTE9HX1JFTUVNQkVSX0NPVU5UOiAxMCwKZ2V0QXV0aFNlcnZlclVSTDogbywKZ2V0TWVkaWF0b3JIb3N0OiByCn07CnQuZXhwb3J0cyA9IG07Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpLCBvLCByKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiBuKSkgcmV0dXJuIG5ldyBuKHQsIGUsIGksIG8sIHIpOwpyIHx8IChyID0ge30pOwpyLnRhZ05hbWUgfHwgKHIudGFnTmFtZSA9ICJsYWJlbCIpOwphLmNhbGwodGhpcywgdCwgZSwgaSwgbywgcik7Cm51bGwgPT0gci5zZWxlY3RhYmxlICYmIHRoaXMuc2V0U2VsZWN0YWJsZSghMSk7Cn0KdmFyIG8gPSBpKDEpLCByID0gaSgwKSwgYSA9IGkoNyk7Cm4ucHJvdG90eXBlID0gcihhLnByb3RvdHlwZSk7Cm8obiwgYSwgewpmcW5hbWU6ICJqeF91aV9MYWJlbCIKfSk7CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUpIHsKZnVuY3Rpb24gaSh0KSB7CnJldHVybiAiZnVuY3Rpb24iID09IHR5cGVvZiB0Owp9CnQuZXhwb3J0cyA9IGk7Cn0sIGZ1bmN0aW9uKHQsIGUpIHsKZnVuY3Rpb24gaSh0KSB7CnJldHVybiAiW29iamVjdCBBcnJheV0iID09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KTsKfQp0LmV4cG9ydHMgPSBpOwp9LCBmdW5jdGlvbih0LCBlKSB7CmZ1bmN0aW9uIGkodCkgewpyZXR1cm4gInN0cmluZyIgPT0gdHlwZW9mIHQ7Cn0KdC5leHBvcnRzID0gaTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQpIHsKcmV0dXJuIGwodCkgJiYgIiUiID09IHQuc3Vic3RyKHQubGVuZ3RoIC0gMSkgPyBwYXJzZUludCh0LCAxMCkgKyAiJSIgOiBwYXJzZUludCh0LCAxMCk7Cn0KZnVuY3Rpb24gbygpIHsKaWYgKCFvLmFscmVhZHlIYWNrZWQpIHsKby5hbHJlYWR5SGFja2VkID0gMTsKaWYgKF8uaXNTdHJpY3QpIHsKZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLnN0eWxlLmJhY2tncm91bmQgPSAiI2ZmZiB1cmwoaHR0cHM6Ly8pIGZpeGVkIjsKZG9jdW1lbnQuYm9keS5jbGFzc05hbWUgPSBkb2N1bWVudC5ib2R5LmNsYXNzTmFtZTsKfSBlbHNlIGlmICgiZml4ZWQiICE9IGRvY3VtZW50LmJvZHkuY3VycmVudFN0eWxlLmJhY2tncm91bmRBdHRhY2htZW50KSB7CmlmICgibm9uZSIgIT0gZG9jdW1lbnQuYm9keS5jdXJyZW50U3R5bGUuYmFja2dyb3VuZEltYWdlKSB7CnZhciB0LCBlLCBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksIG4gPSBpLnN0eWxlLCByID0gZG9jdW1lbnQuYm9keS5jdXJyZW50U3R5bGUsIGEgPSAhMSwgcyA9IDA7Cm4uYmFja2dyb3VuZEF0dGFjaG1lbnQgPSByLmJhY2tncm91bmRBdHRhY2htZW50OwpuLmJhY2tncm91bmRDb2xvciA9IHIuYmFja2dyb3VuZENvbG9yOwpuLmJhY2tncm91bmRJbWFnZSA9IHIuYmFja2dyb3VuZEltYWdlOwpuLmJhY2tncm91bmRQb3NpdGlvblggPSByLmJhY2tncm91bmRQb3NpdGlvblg7Cm4uYmFja2dyb3VuZFBvc2l0aW9uWSA9IHIuYmFja2dyb3VuZFBvc2l0aW9uWTsKbi5iYWNrZ3JvdW5kUmVwZWF0ID0gci5iYWNrZ3JvdW5kUmVwZWF0OwpuLnBvc2l0aW9uID0gImFic29sdXRlIjsKbi56SW5kZXggPSAtMTsKbi50b3AgPSBuLmxlZnQgPSAwOwpuLndpZHRoID0gIjEwMCUiOwpkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZShpLCBkb2N1bWVudC5ib2R5LmZpcnN0Q2hpbGQpOwp2YXIgbCA9IGZ1bmN0aW9uKCkgewppZiAoIWEgJiYgcykgewp0ICs9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggLSBzOwpuLndpZHRoID0gdCArICJweCI7CnMgPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoOwp9CmUgfHwgKGUgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewpuLndpZHRoID0gMDsKZG9jdW1lbnQuYm9keS5jbGFzc05hbWUgPSBkb2N1bWVudC5ib2R5LmNsYXNzTmFtZTsKdCA9IE1hdGgubWF4KGRvY3VtZW50LmJvZHkuc2Nyb2xsV2lkdGgsIGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgpOwpuLndpZHRoID0gdCArICJweCI7CnMgPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoOwphID0gZG9jdW1lbnQuYm9keS5zY3JvbGxXaWR0aCA+IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7CmUgPSBudWxsOwp9LCAwKSk7Cn07CnNldFRpbWVvdXQobCwgMCk7Cm4uc2V0RXhwcmVzc2lvbigiaGVpZ2h0IiwgJ2RvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0KyJweCInKTsKbCgpOwp9CmRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gInVybChodHRwczovLykiOwpkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmRBdHRhY2htZW50ID0gImZpeGVkIjsKfQp9Cn0KZnVuY3Rpb24gcih0KSB7CmZvciAoO3QuZGVmYXVsdFBsYWNlbWVudDsgKSB0ID0gdC5kZWZhdWx0UGxhY2VtZW50OwpyZXR1cm4gdDsKfQpmdW5jdGlvbiBhKHQsIGUsIGksIG4sIG8pIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIGEpKSByZXR1cm4gbmV3IGEodCwgZSwgaSwgbiwgbyk7CmlmICh0KSB7Cm8gfHwgKG8gPSB7fSk7CnRoaXMuanhfaWQgPSBlID0gZSB8fCBkLmdlbmVyYXRlSUQoKTsKdGhpcy5fdG9wID0gdGhpcy5fYm90dG9tID0gdGhpcy5fbGVmdCA9IHRoaXMuX3JpZ2h0ID0gdGhpcy5fd2lkdGggPSB0aGlzLl9oZWlnaHQgPSBOYU47CnRoaXMuX3Bvc2l0aW9uID0gbnVsbDsKdGhpcy5wb3MgPSAiIjsKdGhpcy5vZmZzZXR4ID0gMDsKdGhpcy5vZmZzZXR5ID0gMDsKdGhpcy5fc25hcHMgPSBbIDAsIDAsIDAsIDAgXTsKdGhpcy51c2VEaXNwbGF5ID0gITE7CnRoaXMuZG9jID0gdGhpcy5vd25lckRvY3VtZW50ID0gdC5vd25lckRvY3VtZW50Owp0aGlzLnBhcmVudE5vZGUgPSB0Owp0aGlzLmF0dHJpYnV0ZXMgPSBvOwp0aGlzLnRhZ05hbWUgPSBvLnRhZ05hbWU7CnRoaXMuaXNOZXcgPSAhMDsKdGhpcy5kb20gPSB0aGlzLmRvYy5jcmVhdGVFbGVtZW50KHRoaXMudGFnTmFtZSk7CnRoaXMuZG9tLmp4X3dyYXBwZXIgPSB0aGlzOwp0aGlzLnN0eWxlID0gdGhpcy5kb20uc3R5bGU7CnRoaXMuY2hpbGRyZW4gPSBbXTsKdGhpcy5fYXV0b2JpbmRzID0gW107CnguY2FsbCh0aGlzKTsKbiAmJiB0aGlzLmFkZENoaWxkcmVuKG4pOwp0LmFwcGVuZENoaWxkKHQgaW5zdGFuY2VvZiBhID8gdGhpcyA6IHRoaXMuZG9tKTsKdGhpcy5zZXRTdHlsZShpKTsKdGhpcy5zZXRBdHRyaWJ1dGVzKG8pOwp0aGlzLl9fanhfX2ZxbmFtZSAmJiB0aGlzLmFkZENsYXNzKHRoaXMuX19qeF9fZnFuYW1lKTsKZSAmJiBkLnNldChlLCB0aGlzKTsKfQp9CnZhciBzID0gaSgxKSwgXyA9IGkoOCksIGwgPSBpKDIyKSwgZCA9IGkoNCksIHUgPSBpKDApLCBjID0gaSgyMSksIGggPSBpKDMxKSwgZiA9IGkoMiksIGcgPSBpKDE2KSwgcCA9IGkoOTgpLCBtID0gaSgyOCksICQgPSBpKDEyKSwgYiA9IGkoMjUpLCB3ID0gaSgxODYpLnRvQ2FtZWxDYXNlLCB4ID0gaSgxODUpOwpfLmlzSUUgJiYgZG9jdW1lbnQuZXhlY0NvbW1hbmQoIkJhY2tncm91bmRJbWFnZUNhY2hlIiwgITEsICEwKTsKdmFyIHYgPSAiYmFja2dyb3VuZCBiYWNrZ3JvdW5kLXBvc2l0aW9uIGJvcmRlciBib3JkZXItY29sb3IgYm9yZGVyLXN0eWxlIGJvcmRlci13aWR0aCBjb2xvciBib3JkZXItdG9wIGJvcmRlci1yaWdodCBib3JkZXItYm90dG9tIGJvcmRlci1sZWZ0IGNsZWFyIHBhZGRpbmcgbWFyZ2luIG1hcmdpbi10b3AgbWFyZ2luLXJpZ2h0IG1hcmdpbi1ib3R0b20gbWFyZ2luLWxlZnQgZGlzcGxheSBsaW5lLWhlaWdodCBsZXR0ZXItc3BhY2luZyB2aXNpYmlsaXR5IG91dGxpbmUgb3ZlcmZsb3cgb3ZlcmZsb3cteCBvdmVyZmxvdy15IGZvbnQtZmFtaWx5IGZvbnQtc2l6ZSBmb250LXdlaWdodCBmb250LXN0eWxlIHRleHQtYWxpZ24gdGV4dC1kZWNvcmF0aW9uIHRleHQtdHJhbnNmb3JtIHZlcnRpY2FsLWFsaWduIHotaW5kZXggY3Vyc29yIG1pbi1oZWlnaHQgbWluLXdpZHRoIG1heC1oZWlnaHQgbWF4LXdpZHRoIi5zcGxpdCgiICIpLCB5ID0gInRpdGxlIGNoZWNrZWQgaHJlZiBtZWRpYSBuYW1lIHNyYyB0YXJnZXQgZGlyIGRhdGEtdGVzdC1pZCIuc3BsaXQoIiAiKSwgaiA9IF8uYnVncy5pZS5jc3NGaXhlZDsKYS5wcm90b3R5cGUgPSB1KHgucHJvdG90eXBlKTsKcyhhLCB4LCB7CnNraXBfZnFuYW1lOiAhMCwKZnFuYW1lOiAianhfdWlfSFRNTEVsZW1lbnQiCn0pOwphLnByb3RvdHlwZS5hZGRDaGlsZHJlbiA9IGZ1bmN0aW9uKHQpIHsKdmFyIGUgPSB0ICYmIHQubGVuZ3RoOwppZiAodCAmJiBlKSBmb3IgKHZhciBpLCBuLCBvID0gcih0aGlzKSwgYSA9IG8ub3duZXJEb2N1bWVudCwgcyA9IDA7IHMgPCBlOyBzKyspIHsKaSA9IHRbc107CmlmIChjKGkpKSBvLmFwcGVuZENoaWxkKGkpOyBlbHNlIHsKbiA9IGEuY3JlYXRlVGV4dE5vZGUoaSk7Cm8uYXBwZW5kQ2hpbGQobik7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGkuYmluZCAmJiBpLmJpbmQobik7Cn0KfQp9OwphLnByb3RvdHlwZS5hcHBlbmRDaGlsZCA9IGZ1bmN0aW9uKHQpIHsKaWYgKGModCkpIHJldHVybiB0WzBdKHRoaXMsIHRbMV0sIHRbMl0sIHRbM10sIHRbNF0pOwotMSA9PSBoKHQsIHRoaXMuY2hpbGRyZW4pICYmIDMgIT0gdC5ub2RlVHlwZSAmJiB0aGlzLmNoaWxkcmVuLnB1c2godCk7CnQucGFyZW50Tm9kZSAmJiB0LnBhcmVudE5vZGUgIT0gdGhpcyAmJiB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodC5wYXJlbnROb2RlIGluc3RhbmNlb2YgYSA/IHQgOiB0LmRvbSB8fCB0KTsKdC5kb20gJiYgKHQucGFyZW50Tm9kZSA9IHRoaXMpOwp0aGlzLmRvbS5hcHBlbmRDaGlsZCh0LmRvbSB8fCB0KTsKcmV0dXJuIHQ7Cn07CmEucHJvdG90eXBlLnJlbW92ZUNoaWxkID0gZnVuY3Rpb24odCkgewp0cnkgewppZiAodC5kb20pIHsKdGhpcy5kb20ucmVtb3ZlQ2hpbGQodC5kb20pOwp0LnBhcmVudE5vZGUgPSBudWxsOwp9IGVsc2UgdGhpcy5kb20ucmVtb3ZlQ2hpbGQodCk7CnZhciBlID0gaCh0LCB0aGlzLmNoaWxkcmVuKTsKaWYgKC0xICE9IGUpIHJldHVybiB0aGlzLmNoaWxkcmVuLnNwbGljZShlLCAxKTsKfSBjYXRjaCAodCkge30KfTsKYS5wcm90b3R5cGUuaW5zZXJ0QmVmb3JlID0gZnVuY3Rpb24odCwgZSkgewp2YXIgaSA9IGgoZSwgdGhpcy5jaGlsZHJlbik7CmUgJiYgLTEgPT0gaSAmJiAoZSA9IG51bGwpOwppZiAodC5wYXJlbnROb2RlKSB7CnZhciBuID0gaCh0LCB0aGlzLmNoaWxkcmVuKTsKaWYgKC0xICE9IG4pIHsKdGhpcy5jaGlsZHJlbi5zcGxpY2UobiwgMSk7CmkgPiBuICYmIGktLTsKfSBlbHNlIHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KTsKfQp0LmRvbSAmJiAodC5wYXJlbnROb2RlID0gdGhpcyk7CmUgPyB0aGlzLmNoaWxkcmVuLnNwbGljZShpLCAwLCB0KSA6IHRoaXMuY2hpbGRyZW4ucHVzaCh0KTsKdGhpcy5kb20uaW5zZXJ0QmVmb3JlKHQuZG9tIHx8IHQsIGUgPyBlLmRvbSB8fCBlIDogbnVsbCk7Cn07CmEucHJvdG90eXBlLmluc2VydEFmdGVyID0gZnVuY3Rpb24odCwgZSkgewp0aGlzLmluc2VydEJlZm9yZSh0LCBlICYmIGUuZ2V0TmV4dFNpYmxpbmcoKSk7Cn07CmEucHJvdG90eXBlLnByZXBlbmRUbyA9IGZ1bmN0aW9uKCkge307CmEucHJvdG90eXBlLmNsb25lTm9kZSA9IGZ1bmN0aW9uKHQpIHsKcmV0dXJuIHRoaXMuZG9tLmNsb25lTm9kZSh0KTsKfTsKYS5wcm90b3R5cGUuZ2V0TmV4dFNpYmxpbmcgPSBmdW5jdGlvbigpIHsKcmV0dXJuIHRoaXMuZG9tLm5leHRTaWJsaW5nICYmIHRoaXMuZG9tLm5leHRTaWJsaW5nLmp4X3dyYXBwZXI7Cn07CmEucHJvdG90eXBlLmdldFByZXZpb3VzU2libGluZyA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gdGhpcy5kb20ucHJldmlvdXNTaWJsaW5nICYmIHRoaXMuZG9tLnByZXZpb3VzU2libGluZy5qeF93cmFwcGVyOwp9OwphLnByb3RvdHlwZS5nZXRGaXJzdENoaWxkID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLmRvbS5maXJzdENoaWxkICYmIHRoaXMuZG9tLmZpcnN0Q2hpbGQuanhfd3JhcHBlcjsKfTsKYS5wcm90b3R5cGUuZ2V0TGFzdENoaWxkID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLmRvbS5sYXN0Q2hpbGQgJiYgdGhpcy5kb20ubGFzdENoaWxkLmp4X3dyYXBwZXI7Cn07CnZhciBDID0gXy5pc1RleHRDb250ZW50OwphLnByb3RvdHlwZS5nZXRUZXh0ID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLmRvbS50ZXh0Q29udGVudCB8fCB0aGlzLmRvbS5pbm5lclRleHQgfHwgIiI7Cn07CmEucHJvdG90eXBlLnNldFRleHQgPSBmdW5jdGlvbih0KSB7CmlmICh0aGlzLmRvbSkgewpmICYmIGYudW5iaW5kICYmIGYudW5iaW5kKHRoaXMuZG9tKTsKdCAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiB0LmJpbmQgJiYgdC5iaW5kKHRoaXMuZG9tKTsKQyA/IHRoaXMuZG9tLnRleHRDb250ZW50ID0gdCA6IHRoaXMuZG9tLmlubmVyVGV4dCA9IHQ7CnJldHVybiB0aGlzOwp9Cn07CmEucHJvdG90eXBlLmdldEhUTUwgPSBmdW5jdGlvbigpIHsKcmV0dXJuIHRoaXMuZG9tLmlubmVySFRNTDsKfTsKYS5wcm90b3R5cGUuc2V0SFRNTCA9IGZ1bmN0aW9uKHQpIHsKdGhpcy5kb20uaW5uZXJIVE1MID0gdDsKcmV0dXJuIHRoaXM7Cn07CmEucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHsKaWYgKHRoaXMuX2Rlc3RydWN0b3JzKSBmb3IgKHZhciB0ID0gdGhpcy5fZGVzdHJ1Y3RvcnMsIGUgPSB0Lmxlbmd0aCwgaSA9IDA7IGkgPCBlOyBpKyspIHRbaV0uY2FsbCh0aGlzKTsKdGhpcy5fYXV0b2JpbmRzICYmIHRoaXMuYXV0b3VuYmluZCgpOwp0aGlzLmRvbS5qeF93cmFwcGVyID0gbnVsbDsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgdGhpcy5lbXB0eSAmJiB0aGlzLmVtcHR5KCk7CnRoaXMucGFyZW50Tm9kZSAmJiB0aGlzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5wYXJlbnROb2RlIGluc3RhbmNlb2YgYSA/IHRoaXMgOiB0aGlzLmRvbSk7CnRoaXMucGFyZW50Tm9kZSA9IG51bGw7CmQudW5zZXQodGhpcyk7Cn07CmEucHJvdG90eXBlLmVtcHR5ID0gZnVuY3Rpb24oKSB7CmZvciAodmFyIHQ7IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyApIHsKdCA9IHRoaXMuY2hpbGRyZW4ucG9wKCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHQuZGVzdHJveSA/IHQuZGVzdHJveSgpIDogMSA9PSB0Lm5vZGVUeXBlICYmIGQucHJvdG8uZGVzdHJveS5jYWxsKHQpOwp9Cn07CmEucHJvdG90eXBlLm9uRGVzdHJ1Y3Rpb24gPSBmdW5jdGlvbih0KSB7Cih0aGlzLl9kZXN0cnVjdG9ycyB8fCAodGhpcy5fZGVzdHJ1Y3RvcnMgPSBbXSkpLnB1c2godCk7Cn07CmEucHJvdG90eXBlLmdldENsYXNzTmFtZSA9IGEucHJvdG90eXBlLmdldENsYXNzID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLmRvbS5jbGFzc05hbWU7Cn07CmEucHJvdG90eXBlLnNldENsYXNzTmFtZSA9IGEucHJvdG90eXBlLnNldENsYXNzID0gZnVuY3Rpb24odCwgZSkgewp0aGlzLmRvbS5jbGFzc05hbWUgPSAoZSA/IHQgOiB0aGlzLl9fanhfX2ZxbmFtZSArICIgIiArIHQpICsgKHRoaXMuX3BzZXVkbyA/ICIgIiArIHRoaXMuX3BzZXVkbyA6ICIiKTsKcmV0dXJuIHRoaXM7Cn07CmEucHJvdG90eXBlLnNldEFkZENsYXNzID0gYS5wcm90b3R5cGUuYWRkQ2xhc3MgPSBmdW5jdGlvbih0KSB7CmlmICghdCkgcmV0dXJuIHRoaXM7CnRoaXMuZG9tLmNsYXNzTmFtZSA/IHRoaXMuaGFzQ2xhc3ModCkgfHwgKHRoaXMuZG9tLmNsYXNzTmFtZSArPSAiICIgKyB0KSA6IHRoaXMuZG9tLmNsYXNzTmFtZSA9IHQ7CnJldHVybiB0aGlzOwp9OwphLnByb3RvdHlwZS5yZW1vdmVDbGFzcyA9IGZ1bmN0aW9uKHQpIHsKaWYgKCF0IHx8ICF0aGlzLmRvbS5jbGFzc05hbWUgfHwgIXRoaXMuaGFzQ2xhc3ModCkpIHJldHVybiB0aGlzOwp0aGlzLmRvbS5jbGFzc05hbWUgPSAoIiAiICsgdGhpcy5kb20uY2xhc3NOYW1lICsgIiAiKS5yZXBsYWNlKCIgIiArIHQgKyAiICIsICIgIikuc2xpY2UoMSwgLTEpOwpyZXR1cm4gdGhpczsKfTsKYS5wcm90b3R5cGUuaGFzQ2xhc3MgPSBmdW5jdGlvbih0KSB7CnJldHVybiAhIXQgJiYgISF0aGlzLmRvbS5jbGFzc05hbWUgJiYgLTEgIT0gKCIgIiArIHRoaXMuZG9tLmNsYXNzTmFtZSArICIgIikuaW5kZXhPZigiICIgKyB0ICsgIiAiKTsKfTsKYS5wcm90b3R5cGUuYXV0b2JpbmQgPSBmdW5jdGlvbih0LCBlLCBpKSB7CmlmICh0aGlzLl9hdXRvYmluZHMpIHsKdGhpcy5fYXV0b2JpbmRzLnB1c2goWyB0LCBlLCBpIF0pOwp0Lm9uKGUsIGkpOwp9Cn07CmEucHJvdG90eXBlLmF1dG91bmJpbmQgPSBmdW5jdGlvbih0LCBlLCBpKSB7CmlmICh0aGlzLl9hdXRvYmluZHMpIHsKdmFyIG4sIG8sIHIgPSB0aGlzLl9hdXRvYmluZHM7CmlmICh0ICYmIGUgJiYgaSkgZm9yIChuID0gci5sZW5ndGggLSAxOyBuID49IDA7IG4tLSkgewpvID0gcltuXTsKaWYgKG9bMF0gPT0gdCAmJiBvWzFdID09IGUgJiYgb1syXSA9PSBpKSB7CnIuc3BsaWNlKG4sIDEpOwpvWzBdLnVuKG9bMV0sIG9bMl0pOwpyZXR1cm47Cn0KfSBlbHNlIGlmICh0IHx8IGUgfHwgaSkgOyBlbHNlIHsKaWYgKCFyKSByZXR1cm47CmZvciAobiA9IHIubGVuZ3RoIC0gMTsgbiA+PSAwOyBuLS0pIHsKbyA9IHJbbl07Cm9bMF0udW4ob1sxXSwgb1syXSk7Cn0KZGVsZXRlIHRoaXMuX2F1dG9iaW5kczsKfQp9Cn07CmEucHJvdG90eXBlLmdldEF0dHJpYnV0ZSA9IGZ1bmN0aW9uKHQpIHsKcmV0dXJuIHRoaXMuZG9tLmdldEF0dHJpYnV0ZSh0KSB8fCB0aGlzLmRvbVt0XTsKfTsKYS5wcm90b3R5cGUuc2V0QXR0cmlidXRlID0gZnVuY3Rpb24odCwgZSkgewp0aGlzLmRvbS5zZXRBdHRyaWJ1dGUodCwgZSk7CnJldHVybiB0aGlzOwp9OwphLnByb3RvdHlwZS5yZW1vdmVBdHRyaWJ1dGUgPSBmdW5jdGlvbih0KSB7CnRoaXMuZG9tLnJlbW92ZUF0dHJpYnV0ZSh0KTsKcmV0dXJuIHRoaXM7Cn07CmEucHJvdG90eXBlLnNldEF0dHJpYnV0ZXMgPSBmdW5jdGlvbih0KSB7CnZhciBlLCBpOwpmb3IgKGkgaW4gdCkgaWYgKHQuaGFzT3duUHJvcGVydHkoaSkpIHsKZSA9IHcoInNldC0iICsgaSk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHRoaXNbZV0gJiYgdGhpc1tlXSh0W2ldKTsKfQpyZXR1cm4gdGhpczsKfTsKYS5wcm90b3R5cGUuZ2V0U3R5bGUgPSBmdW5jdGlvbih0KSB7CnJldHVybiB0aGlzLmRvbS5zdHlsZVt3KHQpXTsKfTsKYS5wcm90b3R5cGUuZ2V0Q29tcHV0ZWRTdHlsZSA9IGZ1bmN0aW9uKHQpIHsKdCA9IHQgJiYgdyh0KTsKdmFyIGU7CmlmICh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSkgZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuZG9tLCBudWxsKTsgZWxzZSB7CmlmICghdGhpcy5kb20uY3VycmVudFN0eWxlKSByZXR1cm47CmUgPSB0aGlzLmRvbS5jdXJyZW50U3R5bGU7Cn0KcmV0dXJuIHQgPyBlW3RdIDogZTsKfTsKYS5wcm90b3R5cGUuc2V0U3R5bGUgPSBmdW5jdGlvbih0KSB7CnZhciBlLCBpOwppZiAoMSA9PSBhcmd1bWVudHMubGVuZ3RoICYmIGwodCkpIHsKaWYgKCF0KSByZXR1cm4gdGhpczsKdCA9IHQuc3BsaXQoIjsiKTsKZm9yIChlID0gMDsgZSA8IHQubGVuZ3RoOyBlKyspIGlmICghdFtlXS5tYXRjaCgvXlxzKiQvKSkgewppID0gdFtlXS5tYXRjaCgvXHMqKFteOl0rKTpccyooLio/KVxzKiQvKTsKIWkgJiYgdFtlXS5sZW5ndGggfHwgdGhpcy5zZXRPbmVTdHlsZShpWzFdLCBpWzJdKTsKfQp9IGVsc2UgaWYgKDEgPT0gYXJndW1lbnRzLmxlbmd0aCAmJiAib2JqZWN0IiA9PSB0eXBlb2YgdCkgZm9yICh2YXIgbiBpbiB0KSB0Lmhhc093blByb3BlcnR5KG4pICYmIHRoaXMuc2V0T25lU3R5bGUobiwgdFtuXSk7IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSBmb3IgKGUgPSAwOyBlIDwgYXJndW1lbnRzLmxlbmd0aDsgZSArPSAyKSB0aGlzLnNldE9uZVN0eWxlKGFyZ3VtZW50c1tlXSwgYXJndW1lbnRzW2UgKyAxXSk7CnJldHVybiB0aGlzOwp9OwphLnByb3RvdHlwZS5zZXRPbmVTdHlsZSA9IGZ1bmN0aW9uKHQsIGUpIHsKdmFyIGkgPSB3KCJzZXQtIiArIHQpOwoiZnVuY3Rpb24iID09IHR5cGVvZiB0aGlzW2ldID8gdGhpc1tpXShlKSA6IHRoaXMuc2V0Q1NTU3R5bGUodCwgZSk7CnJldHVybiB0aGlzOwp9OwphLnByb3RvdHlwZS5zZXRDU1NTdHlsZSA9IGZ1bmN0aW9uKHQsIGUpIHsKdHJ5IHsKdGhpcy5kb20uc3R5bGVbdyh0KV0gPSBlOwp9IGNhdGNoICh0KSB7fQpyZXR1cm4gdGhpczsKfTsKYS5wcm90b3R5cGUuZ2V0U2Nyb2xsV2lkdGggPSBmdW5jdGlvbigpIHsKcmV0dXJuIHRoaXMuZG9tLnNjcm9sbFdpZHRoOwp9OwphLnByb3RvdHlwZS5nZXRTY3JvbGxIZWlnaHQgPSBmdW5jdGlvbigpIHsKcmV0dXJuIHRoaXMuZG9tLnNjcm9sbEhlaWdodDsKfTsKYS5wcm90b3R5cGUuZ2V0Q2xpZW50V2lkdGggPSBmdW5jdGlvbigpIHsKcmV0dXJuIHRoaXMuZG9tLmNsaWVudFdpZHRoOwp9OwphLnByb3RvdHlwZS5nZXRDbGllbnRIZWlnaHQgPSBmdW5jdGlvbigpIHsKcmV0dXJuIHRoaXMuZG9tLmNsaWVudEhlaWdodDsKfTsKYS5wcm90b3R5cGUuZ2V0VG9wID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLmRvbS5vZmZzZXRUb3A7Cn07CmEucHJvdG90eXBlLmdldExlZnQgPSBmdW5jdGlvbigpIHsKcmV0dXJuIHRoaXMuZG9tLm9mZnNldExlZnQ7Cn07CmEucHJvdG90eXBlLmdldFdpZHRoID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLmRvbS5vZmZzZXRXaWR0aDsKfTsKYS5wcm90b3R5cGUuZ2V0SGVpZ2h0ID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLmRvbS5vZmZzZXRIZWlnaHQ7Cn07CmEucHJvdG90eXBlLnNldFRvcCA9IGZ1bmN0aW9uKHQpIHsKdGhpcy5fdG9wID0gbih0KTsKdGhpcy5zb2x2ZUNvbnN0cmFpbnRzKCk7CnJldHVybiB0aGlzOwp9OwphLnByb3RvdHlwZS5zZXRMZWZ0ID0gZnVuY3Rpb24odCkgewp0aGlzLl9sZWZ0ID0gbih0KTsKdGhpcy5zb2x2ZUNvbnN0cmFpbnRzKCk7CnJldHVybiB0aGlzOwp9OwphLnByb3RvdHlwZS5zZXRCb3R0b20gPSBmdW5jdGlvbih0KSB7CnRoaXMuX2JvdHRvbSA9IG4odCk7CnRoaXMuc29sdmVDb25zdHJhaW50cygpOwpyZXR1cm4gdGhpczsKfTsKYS5wcm90b3R5cGUuc2V0UmlnaHQgPSBmdW5jdGlvbih0KSB7CnRoaXMuX3JpZ2h0ID0gbih0KTsKdGhpcy5zb2x2ZUNvbnN0cmFpbnRzKCk7CnJldHVybiB0aGlzOwp9OwphLnByb3RvdHlwZS5zZXRXaWR0aCA9IGZ1bmN0aW9uKHQpIHsKdGhpcy5fd2lkdGggPSBuKHQpOwp0aGlzLnNvbHZlQ29uc3RyYWludHMoKTsKcmV0dXJuIHRoaXM7Cn07CmEucHJvdG90eXBlLnNldEhlaWdodCA9IGZ1bmN0aW9uKHQpIHsKdGhpcy5faGVpZ2h0ID0gbih0KTsKdGhpcy5zb2x2ZUNvbnN0cmFpbnRzKCk7CnJldHVybiB0aGlzOwp9OwphLnByb3RvdHlwZS5nZXRTY3JvbGxMZWZ0ID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLmRvbS5zY3JvbGxMZWZ0Owp9OwphLnByb3RvdHlwZS5zZXRTY3JvbGxMZWZ0ID0gZnVuY3Rpb24odCkgewp0aGlzLmRvbS5zY3JvbGxMZWZ0ID0gdDsKcmV0dXJuIHRoaXM7Cn07CmEucHJvdG90eXBlLmdldFNjcm9sbFRvcCA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gdGhpcy5kb20uc2Nyb2xsVG9wOwp9OwphLnByb3RvdHlwZS5zZXRTY3JvbGxUb3AgPSBmdW5jdGlvbih0KSB7CnRoaXMuZG9tLnNjcm9sbFRvcCA9IHQ7CnJldHVybiB0aGlzOwp9OwphLnByb3RvdHlwZS5zZXRGbG9hdCA9IGZ1bmN0aW9uKHQpIHsKZnVuY3Rpb24gZSgpIHsKXy5pc0lFID8gaS5kb20uc3R5bGUuc3R5bGVGbG9hdCA9IHQgOiBpLmRvbS5zdHlsZS5jc3NGbG9hdCA9IHQ7Cn0KdmFyIGkgPSB0aGlzOwppZiAoZiAmJiBmLm9uTGFuZ3VhZ2UgJiYgIXRoaXMuX29uTGFuZ3VhZ2VGbG9hdCkgewpmLm9uTGFuZ3VhZ2UgJiYgZi5vbkxhbmd1YWdlKGUpOwp0aGlzLm9uRGVzdHJ1Y3Rpb24oZnVuY3Rpb24oKSB7CmYudW5MYW5ndWFnZSAmJiBmLnVuTGFuZ3VhZ2UoZSk7Cn0pOwp0aGlzLl9vbkxhbmd1YWdlRmxvYXQgPSAhMDsKfQplKCk7CnJldHVybiB0aGlzOwp9OwphLnByb3RvdHlwZS5zb2x2ZUNvbnN0cmFpbnRzID0gZnVuY3Rpb24oKSB7CmlzTmFOKHRoaXMuX3RvcCkgfHwgaXNOYU4odGhpcy5faGVpZ2h0KSB8fCAodGhpcy5fYm90dG9tID0gTmFOKTsKaXNOYU4odGhpcy5fbGVmdCkgfHwgaXNOYU4odGhpcy5fd2lkdGgpIHx8ICh0aGlzLl9yaWdodCA9IE5hTik7CnRoaXMuX3dpZHRoIDwgMCAmJiAodGhpcy5fd2lkdGggPSAwKTsKdGhpcy5faGVpZ2h0IDwgMCAmJiAodGhpcy5faGVpZ2h0ID0gMCk7CnRoaXMuYXBwbHlDb25zdHJhaW50cygpOwp9OwphLnByb3RvdHlwZS5hcHBseUNvbnN0cmFpbnRzID0gZnVuY3Rpb24oKSB7CnZhciB0ID0gdGhpcy5kb20uc3R5bGUsIGUgPSB0aGlzOwppZiAoZC5oYXNQYXJlbnROb2RlKHRoaXMuZG9tKSkgaWYgKF8uYnVncy5pZS5jc3NGaXhlZCAmJiAiZml4ZWQiID09IHRoaXMuX3Bvc2l0aW9uKSBnKGZ1bmN0aW9uKCkgewplLmRvbSAmJiBlLmhhY2tGaXhlZCgpOwp9KTsgZWxzZSB7CmlmIChfLmJ1Z3MuaWUuY3NzQm90dG9tUmlnaHQgJiYgKCFpc05hTih0aGlzLl9sZWZ0KSAmJiAhaXNOYU4odGhpcy5fcmlnaHQpIHx8ICFpc05hTih0aGlzLl90b3ApICYmICFpc05hTih0aGlzLl9ib3R0b20pKSkgewp0aGlzLmFwcGVuZFRvUGFyZW50ICYmIHRoaXMuYXBwZW5kVG9QYXJlbnQoITApOwpvKCk7CnZhciBpLCBuLCByID0gaXNOYU4odGhpcy5fbGVmdCkgPyAiIiA6IHRoaXMuX2xlZnQsIGEgPSBpc05hTih0aGlzLl9yaWdodCkgPyAiIiA6IHRoaXMuX3JpZ2h0LCBzID0gaXNOYU4odGhpcy5fd2lkdGgpID8gIiIgOiB0aGlzLl93aWR0aCwgdSA9IGlzTmFOKHRoaXMuX3RvcCkgPyAiIiA6IHRoaXMuX3RvcCwgYyA9IGlzTmFOKHRoaXMuX2JvdHRvbSkgPyAiIiA6IHRoaXMuX2JvdHRvbSwgaCA9IGlzTmFOKHRoaXMuX2hlaWdodCkgPyAiIiA6IHRoaXMuX2hlaWdodCwgZiA9ICJCYWNrQ29tcGF0IiA9PSB0aGlzLmRvbS5vd25lckRvY3VtZW50LmNvbXBhdE1vZGU7CmlmICgiZml4ZWQiID09IHRoaXMuX3Bvc2l0aW9uICYmIHRoaXMuZG9tLm93bmVyRG9jdW1lbnQgPT0gZG9jdW1lbnQpIGlmIChmKSB7Cm4gPSAiZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQiOwppID0gImRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgiOwp9IGVsc2UgewpuID0gImRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQiOwppID0gImRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCI7Cn0gZWxzZSB7Cm4gPSAidGhpcy5vZmZzZXRQYXJlbnQuY2xpZW50SGVpZ2h0IjsKaSA9ICJ0aGlzLm9mZnNldFBhcmVudC5jbGllbnRXaWR0aCI7Cn0KaWYgKF8uaXNJRTYpIHsKaWYgKCFpc05hTih0aGlzLl9sZWZ0KSAmJiAhaXNOYU4odGhpcy5fcmlnaHQpKSB7CmEgPSAiIjsKcyA9IFsgaSwgdGhpcy5fbGVmdCwgdGhpcy5fcmlnaHQgXS5qb2luKCItIik7Cn0KaWYgKCFpc05hTih0aGlzLl90b3ApICYmICFpc05hTih0aGlzLl9ib3R0b20pKSB7CmMgPSAiIjsKaCA9IFsgbiwgdGhpcy5fdG9wLCB0aGlzLl9ib3R0b20gXS5qb2luKCIgLSAiKTsKfQp9CnZhciBwID0gZnVuY3Rpb24oZSwgaSkgewp0W2VdID0gIiI7CnQucmVtb3ZlRXhwcmVzc2lvbihlKTsKIm51bWJlciIgPT0gdHlwZW9mIGkgPyB0W2VdID0gaSArICJweCIgOiBsKGkpICYmICIlIiA9PSBpLnN1YnN0cihpLmxlbmd0aCAtIDEpID8gdFtlXSA9IGkgOiBsKGkpICYmIGkubGVuZ3RoICYmIHQuc2V0RXhwcmVzc2lvbihlLCBpKTsKfTsKcCgibGVmdCIsIHIpOwpwKCJyaWdodCIsIGEpOwpwKCJ3aWR0aCIsIHMpOwpwKCJ0b3AiLCB1KTsKcCgiYm90dG9tIiwgYyk7CnAoImhlaWdodCIsIGgpOwp9CiFmdW5jdGlvbigpIHsKdC5sZWZ0ID0gbChlLl9sZWZ0KSA/IGUuX2xlZnQgOiBpc05hTihlLl9sZWZ0KSA/ICIiIDogZS5fbGVmdCArICJweCI7CnQucmlnaHQgPSBsKGUuX3JpZ2h0KSA/IGUuX3JpZ2h0IDogaXNOYU4oZS5fcmlnaHQpID8gIiIgOiBlLl9yaWdodCArICJweCI7CmlmIChlLl93aWR0aCAhPSBlLl9fd2lkdGgpIHsKdC53aWR0aCA9IGwoZS5fd2lkdGgpID8gZS5fd2lkdGggOiBpc05hTihlLl93aWR0aCkgPyAiIiA6IGUuX3dpZHRoICsgInB4IjsKZS5fX3dpZHRoID0gZS5fd2lkdGg7Cn0KfSgpOwohZnVuY3Rpb24oKSB7CnQudG9wID0gbChlLl90b3ApID8gZS5fdG9wIDogaXNOYU4oZS5fdG9wKSA/ICIiIDogZS5fdG9wICsgInB4IjsKdC5ib3R0b20gPSBsKGUuX2JvdHRvbSkgPyBlLl9ib3R0b20gOiBpc05hTihlLl9ib3R0b20pID8gIiIgOiBlLl9ib3R0b20gKyAicHgiOwppZiAoZS5faGVpZ2h0ICE9IGUuX19oZWlnaHQpIHsKdC5oZWlnaHQgPSBsKGUuX2hlaWdodCkgPyBlLl9oZWlnaHQgOiBpc05hTihlLl9oZWlnaHQpID8gIiIgOiBlLl9oZWlnaHQgKyAicHgiOwplLl9faGVpZ2h0ID0gZS5faGVpZ2h0Owp9Cn0oKTsKfQp9OwphLnByb3RvdHlwZS5oYWNrRml4ZWQgPSBmdW5jdGlvbigpIHsKdmFyIHQgPSB0aGlzLmRvbS5zdHlsZTsKbygpOwp0aGlzLmFwcGVuZFRvUGFyZW50ICYmIHRoaXMuYXBwZW5kVG9QYXJlbnQoITApOwp0aGlzLl9ib3R0b20gPCAwICYmICh0aGlzLl9ib3R0b20gPSAwKTsKdGhpcy5fcmlnaHQgPCAwICYmICh0aGlzLl9yaWdodCA9IDApOwpwLm9rKGlzTmFOKHRoaXMuX2xlZnQpICE9IGlzTmFOKHRoaXMuX3JpZ2h0KSwgIk9uZSBhbmQgb25seSBvbmUgb2YgbGVmdC9yaWdodCBtdXN0IGJlIHNldCIpOwpwLm9rKGlzTmFOKHRoaXMuX3RvcCkgIT0gaXNOYU4odGhpcy5fYm90dG9tKSwgIk9uZSBhbmQgb25seSBvbmUgb2YgdG9wL2JvdHRvbSBtdXN0IGJlIHNldCIpOwpwLm9rKCFpc05hTih0aGlzLl93aWR0aCksICJXaWR0aCBtdXN0IGJlIHNldCIpOwpwLm9rKCFpc05hTih0aGlzLl9oZWlnaHQpLCAiSGVpZ2h0IG11c3QgYmUgc2V0Iik7CnAub2sodGhpcy5vd25lckRvY3VtZW50ID09IGRvY3VtZW50LCAiRml4ZWQgZWxlbWVudCBtdXN0IGJlIHRvcCBsZXZlbCBlbGVtZW50Iik7CmlmICh0aGlzLl9oZWlnaHQgIT0gdGhpcy5fX2hlaWdodCkgewp0LmhlaWdodCA9IHRoaXMuX2hlaWdodCArICJweCI7CnRoaXMuX19oZWlnaHQgPSB0aGlzLl9oZWlnaHQ7Cn0KaWYgKHRoaXMuX3dpZHRoICE9IHRoaXMuX193aWR0aCkgewp0LndpZHRoID0gdGhpcy5fd2lkdGggKyAicHgiOwp0aGlzLl9fd2lkdGggPSB0aGlzLl93aWR0aDsKfQp2YXIgZSwgaSwgbiwgciwgYSA9IHRoaXMuZ2V0SGVpZ2h0KCksIHMgPSB0aGlzLmdldFdpZHRoKCk7CmlmIChfLmlzUXVpcmtzKSB7CnIgPSAiZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQiOwpuID0gImRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgiOwplID0gIihkdW1teWUzNGNmNj1kb2N1bWVudC5ib2R5LnNjcm9sbExlZnQpKyI7CmkgPSAiKGR1bW15ZTM0Y2Y2PWRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wICkrIjsKfSBlbHNlIHsKciA9ICJkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IjsKbiA9ICJkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgiOwplID0gIihkdW1teWUzNGNmNj1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCkrIjsKaSA9ICIoZHVtbXllMzRjZjY9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCApKyI7Cn0KaXNOYU4odGhpcy5fbGVmdCkgPyBsKHRoaXMuX2xlZnQpID8gZSArPSBwYXJzZUludCh0aGlzLl9sZWZ0LCAxMCkgLyAxMDAgKiAoXy5pc1F1aXJrcyA/IGRvY3VtZW50LmJvZHkgOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmNsaWVudFdpZHRoIDogZSArPSBuICsgIi0iICsgKHMgKyB0aGlzLl9yaWdodCkgOiBlICs9IHRoaXMuX2xlZnQ7CmlzTmFOKHRoaXMuX3RvcCkgPyBsKHRoaXMuX3RvcCkgPyBpICs9IHBhcnNlSW50KHRoaXMuX3RvcCwgMTApIC8gMTAwICogKF8uaXNRdWlya3MgPyBkb2N1bWVudC5ib2R5IDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5jbGllbnRIZWlnaHQgOiBpICs9IHIgKyAiLSIgKyAoYSArIHRoaXMuX2JvdHRvbSkgOiBpICs9IHRoaXMuX3RvcDsKXy5pc0lFNiAmJiAicnRsIiA9PSBkb2N1bWVudC5ib2R5LmN1cnJlbnRTdHlsZS5kaXJlY3Rpb24gJiYgKF8uaXNRdWlya3MgPyBlICs9ICItKGRvY3VtZW50LmJvZHkuc2Nyb2xsV2lkdGgtZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCkiIDogZSArPSAiLShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsV2lkdGgtZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKSIpOwp0LnNldEV4cHJlc3Npb24oImxlZnQiLCBlICsgJysicHgiJyk7CnQuc2V0RXhwcmVzc2lvbigidG9wIiwgaSArICcrInB4IicpOwp9OwphLnByb3RvdHlwZS5kb2NrID0gZnVuY3Rpb24odCwgZSwgaSkgewp0aGlzLnBvcyA9IHQ7Cm0oZSkgJiYgKHRoaXMub2Zmc2V0eCA9IGUpOwptKGkpICYmICh0aGlzLm9mZnNldHkgPSBpKTsKdGhpcy5kb0RvY2soKTsKdGhpcy5vbigiang6cmVzaXplIiwgdGhpcy5kb0RvY2spOwp9OwphLnByb3RvdHlwZS5kb0RvY2sgPSBmdW5jdGlvbigpIHsKdmFyIHQsIGUsIGksIG4sIG8sIHIsIGEsIHMgPSBpc05hTih0aGlzLl93aWR0aCkgPyB0aGlzLmRvbS5vZmZzZXRXaWR0aCA6IHRoaXMuX3dpZHRoLCBfID0gaXNOYU4odGhpcy5faGVpZ2h0KSA/IHRoaXMuZG9tLm9mZnNldEhlaWdodCA6IHRoaXMuX2hlaWdodDsKdCA9IGUgPSBpID0gbiA9IE5hTjsKbyA9IHIgPSBhID0gMDsKc3dpdGNoICh0aGlzLnBvcy5jaGFyQXQoMCkpIHsKY2FzZSAidCI6CnQgPSAwOwpicmVhazsKCmNhc2UgIm0iOgp0ID0gIjUwJSI7CmJyZWFrOwoKY2FzZSAiYiI6CmUgPSAwOwp9CnN3aXRjaCAodGhpcy5wb3MuY2hhckF0KDEpKSB7CmNhc2UgImwiOgppID0gMDsKYnJlYWs7CgpjYXNlICJjIjoKaSA9ICI1MCUiOwpicmVhazsKCmNhc2UgInIiOgpuID0gMDsKfQoiNTAlIiA9PSB0ICYmIChvID0gLV8gLyAyKTsKIjUwJSIgPT0gaSAmJiAociA9IC1zIC8gMik7CnRoaXMub2Zmc2V0eSA+PSAwIHx8ICFpc05hTih0KSB8fCAic3RyaW5nIiA9PSB0eXBlb2YgdCA/IG8gKz0gdGhpcy5vZmZzZXR5IDogYSA9IC10aGlzLm9mZnNldHk7CnIgKz0gdGhpcy5vZmZzZXR4Owp0aGlzLnNldE1hcmdpbihbIG8gKyAicHgiLCAwLCBhICsgInB4IiwgciArICJweCIgXS5qb2luKCIgIikpLnNldFRvcCh0KS5zZXRCb3R0b20oZSkuc2V0TGVmdChpKS5zZXRSaWdodChuKTsKfTsKYS5wcm90b3R5cGUuc2V0Qm91bmRzID0gZnVuY3Rpb24odCkgewppZiAoIWModCkpIHsKdCA9IHQuc3BsaXQoIiAiKTsKdFswXSA9IHBhcnNlSW50KHRbMF0sIDEwKTsKdFsxXSA9IHBhcnNlSW50KHRbMV0sIDEwKTsKdFsyXSA9IHBhcnNlSW50KHRbMl0sIDEwKTsKdFszXSA9IHBhcnNlSW50KHRbM10sIDEwKTsKfQppZiAoaikgewp0WzFdID0gTWF0aC5tYXgoMCwgdFsxXSk7CnRbMl0gPSBNYXRoLm1heCgwLCB0WzJdKTsKfQp0aGlzLl9ib3VuZHMgPSB0OwpyZXR1cm4gdGhpczsKfTsKYS5wcm90b3R5cGUuc2V0U25hcHMgPSBmdW5jdGlvbih0KSB7CmlmICghYyh0KSkgewp0ID0gdC5zcGxpdCgiICIpOwp0WzBdID0gcGFyc2VJbnQodFswXSwgMTApOwp0WzFdID0gcGFyc2VJbnQodFsxXSwgMTApOwp0WzJdID0gcGFyc2VJbnQodFsyXSwgMTApOwp0WzNdID0gcGFyc2VJbnQodFszXSwgMTApOwp9CnRoaXMuX3NuYXBzID0gWyBNYXRoLm1heCgwLCB0WzBdKSwgTWF0aC5tYXgoMCwgdFsxXSksIE1hdGgubWF4KDAsIHRbMl0pLCBNYXRoLm1heCgwLCB0WzNdKSBdOwpyZXR1cm4gdGhpczsKfTsKYS5wcm90b3R5cGUuYXBwbHlCb3VuZHMgPSBmdW5jdGlvbigpIHsKaWYgKHRoaXMuX2JvdW5kcykgewp0aGlzLl9sZWZ0IDwgdGhpcy5fYm91bmRzWzNdICsgdGhpcy5fc25hcHNbM10gJiYgKHRoaXMuX2xlZnQgPSB0aGlzLl9ib3VuZHNbM10pOwp0aGlzLl9yaWdodCA8IHRoaXMuX2JvdW5kc1sxXSArIHRoaXMuX3NuYXBzWzFdICYmICh0aGlzLl9yaWdodCA9IHRoaXMuX2JvdW5kc1sxXSk7CnRoaXMuX3RvcCA8IHRoaXMuX2JvdW5kc1swXSArIHRoaXMuX3NuYXBzWzBdICYmICh0aGlzLl90b3AgPSB0aGlzLl9ib3VuZHNbMF0pOwp0aGlzLl9ib3R0b20gPCB0aGlzLl9ib3VuZHNbMl0gKyB0aGlzLl9zbmFwc1syXSAmJiAodGhpcy5fYm90dG9tID0gdGhpcy5fYm91bmRzWzJdKTsKdmFyIHQgPSBfLmlzUXVpcmtzID8gZG9jdW1lbnQuYm9keSA6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgZSA9IGlzTmFOKHRoaXMuX3dpZHRoKSA/IHRoaXMuZG9tLm9mZnNldFdpZHRoIDogdGhpcy5fd2lkdGgsIGkgPSB0LmNsaWVudFdpZHRoIC0gZSwgbiA9IHQuY2xpZW50SGVpZ2h0IC0gdGhpcy5kb20ub2Zmc2V0SGVpZ2h0OwppIC0gdGhpcy5fbGVmdCA8PSB0aGlzLl9ib3VuZHNbMV0gKyB0aGlzLl9zbmFwc1sxXSAmJiAodGhpcy5fbGVmdCA9IGkgLSB0aGlzLl9ib3VuZHNbMV0pOwppIC0gdGhpcy5fcmlnaHQgPD0gdGhpcy5fYm91bmRzWzNdICsgdGhpcy5fc25hcHNbM10gJiYgKHRoaXMuX3JpZ2h0ID0gaSAtIHRoaXMuX2JvdW5kc1szXSk7Cm4gLSB0aGlzLl90b3AgPD0gdGhpcy5fYm91bmRzWzJdICsgdGhpcy5fc25hcHNbMl0gJiYgKHRoaXMuX3RvcCA9IG4gLSB0aGlzLl9ib3VuZHNbMl0pOwpuIC0gdGhpcy5fYm90dG9tIDw9IHRoaXMuX2JvdW5kc1swXSArIHRoaXMuX3NuYXBzWzBdICYmICh0aGlzLl9ib3R0b20gPSBuIC0gdGhpcy5fYm91bmRzWzBdKTsKfQp9OwphLnByb3RvdHlwZS5tb3ZlVG8gPSBmdW5jdGlvbih0LCBlKSB7CnRoaXMuX2JvdHRvbSA9IHRoaXMuX3JpZ2h0ID0gTmFOOwp0aGlzLl90b3AgPSBlOwp0aGlzLl9sZWZ0ID0gdDsKdGhpcy5hcHBseUJvdW5kcygpOwp0aGlzLmFwcGx5Q29uc3RyYWludHMoKTsKcmV0dXJuIHRoaXM7Cn07CmEucHJvdG90eXBlLm1vdmUgPSBmdW5jdGlvbih0LCBlKSB7CmlzTmFOKHRoaXMuX2xlZnQpICYmIGlzTmFOKHRoaXMuX3JpZ2h0KSAmJiAodGhpcy5fbGVmdCA9IDApOwppc05hTih0aGlzLl90b3ApICYmIGlzTmFOKHRoaXMuX2JvdHRvbSkgJiYgKHRoaXMuX3RvcCA9IDApOwppc05hTih0aGlzLl9sZWZ0KSB8fCAodGhpcy5fbGVmdCArPSB0KTsKaXNOYU4odGhpcy5fcmlnaHQpIHx8ICh0aGlzLl9yaWdodCAtPSB0KTsKaXNOYU4odGhpcy5fdG9wKSB8fCAodGhpcy5fdG9wICs9IGUpOwppc05hTih0aGlzLl9ib3R0b20pIHx8ICh0aGlzLl9ib3R0b20gLT0gZSk7CnRoaXMuYXBwbHlCb3VuZHMoKTsKdGhpcy5hcHBseUNvbnN0cmFpbnRzKCk7Cn07CmEucHJvdG90eXBlLnJlc2l6ZUJ5ID0gZnVuY3Rpb24odCwgZSwgaSwgbikgewppZiAodCkgewppc05hTih0aGlzLl93aWR0aCkgJiYgKHRoaXMuX3dpZHRoID0gdGhpcy5kb20ub2Zmc2V0V2lkdGgpOwp0aGlzLl93aWR0aCA9IE1hdGgubWF4KGkgfHwgMCwgdGhpcy5fd2lkdGggKyB0KTsKfQppZiAoZSkgewppc05hTih0aGlzLl9oZWlnaHQpICYmICh0aGlzLl9oZWlnaHQgPSB0aGlzLmRvbS5vZmZzZXRIZWlnaHQpOwp0aGlzLl9oZWlnaHQgPSBNYXRoLm1heChuIHx8IDAsIHRoaXMuX2hlaWdodCArIGUpOwp9CnRoaXMuYXBwbHlCb3VuZHMoKTsKdGhpcy5hcHBseUNvbnN0cmFpbnRzKCk7CnRoaXMuZmlyZSgiang6cmVzaXplIik7CnJldHVybiB0aGlzOwp9OwphLnByb3RvdHlwZS5zZXRWaXNpYmxlID0gZnVuY3Rpb24odCkgewoibm9uZSIgIT0gdCAmJiAiYmxvY2siICE9IHQgfHwgKHRoaXMudXNlRGlzcGxheSA9ICEwKTsKIm5vbmUiICE9IHQgJiYgImhpZGRlbiIgIT0gdCAmJiAiZmFsc2UiICE9IHQgJiYgdCA/IHRoaXMuc2hvdygpIDogdGhpcy5oaWRlKCk7CnJldHVybiB0aGlzOwp9OwphLnByb3RvdHlwZS5pc1Zpc2libGUgPSBmdW5jdGlvbigpIHsKdmFyIHQgPSB0aGlzLmRvbS5zdHlsZTsKcmV0dXJuIHRoaXMudXNlRGlzcGxheSA/ICJub25lIiAhPSB0LmRpc3BsYXkgOiAidmlzaWJsZSIgPT0gdC52aXNpYmlsaXR5Owp9OwphLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24oKSB7CnZhciB0ID0gdGhpcy5kb20uc3R5bGU7CmlmICh0aGlzLnVzZURpc3BsYXkpIHsKaWYgKHQuZGlzcGxheSAhPSAodGhpcy5faW5pdGlhbERpc3BsYXkgfHwgImJsb2NrIikpIHsKdC5kaXNwbGF5ID0gdGhpcy5faW5pdGlhbERpc3BsYXkgfHwgImJsb2NrIjsKdGhpcy5maXJlKCJzaG93Iik7Cn0KfSBlbHNlIGlmICgidmlzaWJsZSIgIT0gdC52aXNpYmlsaXR5KSB7CnQudmlzaWJpbGl0eSA9ICJ2aXNpYmxlIjsKdGhpcy5maXJlKCJzaG93Iik7Cn0KcmV0dXJuIHRoaXM7Cn07CmEucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbigpIHsKdmFyIHQgPSB0aGlzLmRvbS5zdHlsZTsKaWYgKHRoaXMudXNlRGlzcGxheSkgewppZiAoIm5vbmUiICE9IHQuZGlzcGxheSkgewp0aGlzLl9pbml0aWFsRGlzcGxheSA9ICJub25lIiAhPSB0LmRpc3BsYXkgJiYgdC5kaXNwbGF5Owp0LmRpc3BsYXkgPSAibm9uZSI7CnRoaXMuZmlyZSgiaGlkZSIpOwp9Cn0gZWxzZSBpZiAoImhpZGRlbiIgIT0gdC52aXNpYmlsaXR5KSB7CnQudmlzaWJpbGl0eSA9ICJoaWRkZW4iOwp0aGlzLmZpcmUoImhpZGUiKTsKfQpyZXR1cm4gdGhpczsKfTsKYS5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLmlzVmlzaWJsZSgpID8gdGhpcy5oaWRlKCkgOiB0aGlzLnNob3coKTsKfTsKYS5wcm90b3R5cGUuZ2V0WFkgPSBmdW5jdGlvbigpIHsKdmFyIHQsIGUsIGkgPSB0aGlzLmRvbS5vZmZzZXRQYXJlbnQ7CnQgPSB0aGlzLmRvbS5vZmZzZXRMZWZ0OwplID0gdGhpcy5kb20ub2Zmc2V0VG9wOwpmb3IgKDtpOyApIHsKdCArPSBpLm9mZnNldExlZnQ7CmUgKz0gaS5vZmZzZXRUb3A7CmkgPSBpLm9mZnNldFBhcmVudDsKfQpyZXR1cm4gWyB0LCBlIF07Cn07CmEucHJvdG90eXBlLmdldEZpeGVkWFkgPSBmdW5jdGlvbigpIHsKdmFyIHQsIGUsIGkgPSB0aGlzLmRvbSwgbiA9IHRoaXMuZG9tLm93bmVyRG9jdW1lbnQsIG8gPSBuLmRvY3VtZW50RWxlbWVudCwgciA9IG4uZGVmYXVsdFZpZXcgfHwgaS5wYXJlbnRXaW5kb3cgfHwgITEsIGEgPSB7CnRvcDogMCwKbGVmdDogMAp9LCBzID0gby5jbGllbnRUb3AgfHwgMCwgXyA9IG8uY2xpZW50TGVmdCB8fCAwLCBsID0gci5wYWdlWU9mZnNldCB8fCBvLnNjcm9sbFRvcCwgZCA9IHIucGFnZVhPZmZzZXQgfHwgby5zY3JvbGxMZWZ0OwoiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiBpbiBpICYmIChhID0gaS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7CmUgPSBhLnRvcCArIGwgLSBzOwp0ID0gYS5sZWZ0ICsgZCAtIF87CnJldHVybiBbIHQsIGUgXTsKfTsKYS5wcm90b3R5cGUuc2V0T3BhY2l0eSA9IGZ1bmN0aW9uKHQpIHsKdCA9IE1hdGgubWF4KE1hdGgubWluKHQsIDEpLCAwKTsKXy5pc0lFIDwgOSA/IHRoaXMuZG9tLnN0eWxlLmZpbHRlciA9ICh0aGlzLmRvbS5zdHlsZS5maWx0ZXIgfHwgIiIpLnJlcGxhY2UoL3Byb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYVwoW15cKV0qXCksPyA/L2dpLCAiIikgKyAodCA+PSAxID8gIiIgOiAicHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkFscGhhKG9wYWNpdHk9IiArIDEwMCAqIHQgKyAiKSwgIikgOiB0aGlzLmRvbS5zdHlsZS5vcGFjaXR5ID0gdDsKcmV0dXJuIHRoaXM7Cn07CmEucHJvdG90eXBlLnNldFBvc2l0aW9uID0gZnVuY3Rpb24odCkgewpzd2l0Y2ggKHQpIHsKY2FzZSAic3RhdGljIjoKY2FzZSAicmVsYXRpdmUiOgpjYXNlICJhYnNvbHV0ZSI6CmNhc2UgImZpeGVkIjoKdGhpcy5fcG9zaXRpb24gPSB0Owp9Cm51bGwgIT09IHRoaXMuX3Bvc2l0aW9uICYmIHRoaXMuc2V0Q1NTU3R5bGUoInBvc2l0aW9uIiwgaiAmJiAiZml4ZWQiID09IHRoaXMuX3Bvc2l0aW9uID8gImFic29sdXRlIiA6IHRoaXMuX3Bvc2l0aW9uKTsKcmV0dXJuIHRoaXM7Cn07CmEucHJvdG90eXBlLnNldEJhY2tncm91bmRJbWFnZSA9IGZ1bmN0aW9uKHQpIHsKdGhpcy5kb20uc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ3VybCgiJyArIHQgKyAnIiknOwpyZXR1cm4gdGhpczsKfTsKYS5wcm90b3R5cGUuc2V0Um90YXRpb24gPSBmdW5jdGlvbih0KSB7CmlmIChfLmlzRkYpIHRoaXMuZG9tLnN0eWxlLk1velRyYW5zZm9ybSA9IHQgPyAicm90YXRlKCIgKyB0ICsgImRlZykiIDogIiI7IGVsc2UgaWYgKF8uaXNTYWZhcmkpIHRoaXMuZG9tLnN0eWxlLldlYmtpdFRyYW5zZm9ybSA9IHQgPyAicm90YXRlKCIgKyB0ICsgImRlZykiIDogIiI7IGVsc2UgaWYgKF8uaXNJRSkgewp0aGlzLmRvbS5zdHlsZS5maWx0ZXIgPSB0ID8gInByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5CYXNpY0ltYWdlKHJvdGF0aW9uPSIgKyBNYXRoLnJvdW5kKHQgLyA5MCkgKyAiKSIgOiAiIjsKaWYgKF8uaXNJRTggJiYgdCkgewp2YXIgZSA9IHRoaXMucGFyZW50Tm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaWZyYW1lIik7CmlmIChfLmlzSUU4ICYmIGUubGVuZ3RoKSB7CmVbMF0uc3R5bGUuZmlsdGVyID0gdCA/ICJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQmFzaWNJbWFnZShyb3RhdGlvbj0iICsgTWF0aC5yb3VuZCh0IC8gOTApICsgIikiIDogIiI7CnRoaXMuZG9tLnN0eWxlLm92ZXJmbG93ID0gInZpc2libGUiOwp9Cn0KfQpyZXR1cm4gdGhpczsKfTsKYS5wcm90b3R5cGUuYXBwZW5kVG9QYXJlbnQgPSBmdW5jdGlvbih0KSB7CmQuaGFzUGFyZW50Tm9kZSh0aGlzLmRvbSkgfHwgdGhpcy5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMucGFyZW50Tm9kZSBpbnN0YW5jZW9mIGEgPyB0aGlzIDogdGhpcy5kb20pOwp0aGlzLnBhcmVudE5vZGUgIT0gZG9jdW1lbnQuYm9keSB8fCAiYWJzb2x1dGUiICE9IHRoaXMuc3R5bGUucG9zaXRpb24gJiYgImZpeGVkIiAhPSB0aGlzLnN0eWxlLnBvc2l0aW9uIHx8IHRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5kb20sIHRoaXMucGFyZW50Tm9kZS5maXJzdENoaWxkKTsKaWYgKHQgJiYgIXRoaXMuaW5ET00pIHsKdGhpcy5wYXJlbnROb2RlLmFwcGVuZFRvUGFyZW50ICYmIHRoaXMucGFyZW50Tm9kZS5hcHBlbmRUb1BhcmVudCh0KTsKdGhpcy5pbkRPTSA9ICEwOwp9Cn07CmEucHJvdG90eXBlLmZvY3VzID0gZnVuY3Rpb24oKSB7CnRyeSB7CnRoaXMuZG9tLmZvY3VzKCk7Cn0gY2F0Y2ggKHQpIHt9CnJldHVybiB0aGlzOwp9OwphLnByb3RvdHlwZS5ibHVyID0gZnVuY3Rpb24oKSB7CnRyeSB7CnRoaXMuZG9tLmJsdXIoKTsKfSBjYXRjaCAodCkge30KcmV0dXJuIHRoaXM7Cn07CmEucHJvdG90eXBlLmNsaWNrID0gZnVuY3Rpb24oKSB7CnRoaXMuZG9tLmNsaWNrICYmIHRoaXMuZG9tLmNsaWNrKCk7CnJldHVybiB0aGlzOwp9OwphLnByb3RvdHlwZS52YWxpZGF0ZSA9IGZ1bmN0aW9uKHQpIHsKZm9yICh2YXIgZSA9ICEwLCBpID0gMCwgbiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbjsgaSsrKSB7CnZhciBvID0gdGhpcy5jaGlsZHJlbltpXTsKbyBpbnN0YW5jZW9mIGEgJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2Ygby52YWxpZGF0ZSAmJiAoby52YWxpZGF0ZSghIXQgJiYgZSkgfHwgKGUgPSAhMSkpOwp9CnJldHVybiBlOwp9OwphLnByb3RvdHlwZS5nZXRTZWxlY3RhYmxlID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLnNlbGVjdGFibGU7Cn07CmEucHJvdG90eXBlLnNldFNlbGVjdGFibGUgPSBmdW5jdGlvbih0KSB7CmZ1bmN0aW9uIGUoKSB7CnJldHVybiAhMTsKfQppZiAoJCh0KSkgewp0aGlzLnNlbGVjdGFibGUgPSAhMDsKdGhpcy5zZXRTdHlsZSgidXNlci1zZWxlY3QiLCAidGV4dCIpOwpfLmlzRkYgJiYgdGhpcy5zZXRTdHlsZSgiLW1vei11c2VyLXNlbGVjdCIsICJ0ZXh0Iik7Cl8uaXNXZWJLaXQgJiYgdGhpcy5zZXRTdHlsZSgiLXdlYmtpdC11c2VyLXNlbGVjdCIsICJ0ZXh0Iik7Cl8uaXNJRSA+IDkgJiYgdGhpcy5zZXRTdHlsZSgiLW1zLXVzZXItc2VsZWN0IiwgInRleHQiKTsKKF8uaXNJRSA8IDEwIHx8IF8uaXNPcGVyYSkgJiYgdGhpcy51bigic2VsZWN0c3RhcnQiLCBlKTsKfSBlbHNlIHsKdGhpcy5zZWxlY3RhYmxlID0gITE7CnRoaXMuc2V0U3R5bGUoInVzZXItc2VsZWN0IiwgIm5vbmUiKTsKXy5pc0ZGICYmIHRoaXMuc2V0U3R5bGUoIi1tb3otdXNlci1zZWxlY3QiLCAibm9uZSIpOwpfLmlzV2ViS2l0ICYmIHRoaXMuc2V0U3R5bGUoIi13ZWJraXQtdXNlci1zZWxlY3QiLCAibm9uZSIpOwpfLmlzSUUgPiA5ICYmIHRoaXMuc2V0U3R5bGUoIi1tcy11c2VyLXNlbGVjdCIsICJub25lIik7CihfLmlzSUUgPCAxMCB8fCBfLmlzT3BlcmEpICYmIHRoaXMub24oInNlbGVjdHN0YXJ0IiwgZSk7Cn0KcmV0dXJuIHRoaXM7Cn07CmEucHJvdG90eXBlLmdldERpc2FibGVkID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLmRvbS5kaXNhYmxlZDsKfTsKYS5wcm90b3R5cGUuc2V0RGlzYWJsZWQgPSBmdW5jdGlvbih0KSB7CnQgPSAkKHQpOwpmb3IgKHZhciBlID0gMCwgaSA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBlIDwgaTsgZSsrKSB0aGlzLmNoaWxkcmVuW2VdIGluc3RhbmNlb2YgYSAmJiB0aGlzLmNoaWxkcmVuW2VdLnNldERpc2FibGVkKHQpOwp0aGlzW3QgPyAiYWRkQ2xhc3MiIDogInJlbW92ZUNsYXNzIl0oImRpc2FibGVkIik7CnRoaXMuZG9tLmRpc2FibGVkID0gdDsKcmV0dXJuIHRoaXM7Cn07CmEucHJvdG90eXBlLmdldFJlYWRPbmx5ID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLmRvbS5yZWFkT25seTsKfTsKYS5wcm90b3R5cGUuc2V0UmVhZE9ubHkgPSBmdW5jdGlvbih0KSB7CnQgPSAkKHQpOwpmb3IgKHZhciBlID0gMCwgaSA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBlIDwgaTsgZSsrKSB0aGlzLmNoaWxkcmVuW2VdIGluc3RhbmNlb2YgYSAmJiB0aGlzLmNoaWxkcmVuW2VdLnNldFJlYWRPbmx5KHQpOwp0aGlzLmRvbS5yZWFkT25seSA9IHQ7CnJldHVybiB0aGlzOwp9OwphLnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gdGhpcy5kb20udmFsdWU7Cn07CmEucHJvdG90eXBlLnNldFZhbHVlID0gZnVuY3Rpb24odCkgewp0aGlzLmRvbS52YWx1ZSA9IGIodCwgImFsbG93TnVsbCIpID8gIiIgOiB0OwpyZXR1cm4gdGhpczsKfTsKYS5wcm90b3R5cGUuZ2V0VHlwZSA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoInR5cGUiKTsKfTsKYS5wcm90b3R5cGUuc2V0VHlwZSA9IGZ1bmN0aW9uKHQpIHsKdHJ5IHsKdGhpcy5kb20uc2V0QXR0cmlidXRlKCJ0eXBlIiwgdCk7Cn0gY2F0Y2ggKHQpIHt9CnJldHVybiB0aGlzOwp9OwphLnByb3RvdHlwZS5nZXROYW1lID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLmdldEF0dHJpYnV0ZSgibmFtZSIpOwp9OwphLnByb3RvdHlwZS5zZXROYW1lID0gZnVuY3Rpb24odCkgewpyZXR1cm4gdGhpcy5zZXRBdHRyaWJ1dGUoIm5hbWUiLCB0KTsKfTsKYS5wcm90b3R5cGUuZ2V0VGFiSW5kZXggPSBhLnByb3RvdHlwZS5nZXRUYWJpbmRleCA9IGZ1bmN0aW9uKCkgewp0cnkgewpyZXR1cm4gdGhpcy5kb20udGFiSW5kZXg7Cn0gY2F0Y2ggKHQpIHt9Cn07CmEucHJvdG90eXBlLnNldFRhYkluZGV4ID0gYS5wcm90b3R5cGUuc2V0VGFiaW5kZXggPSBmdW5jdGlvbih0KSB7CnRyeSB7CnRoaXMuZG9tLnRhYkluZGV4ID0gdDsKfSBjYXRjaCAodCkge30KcmV0dXJuIHRoaXM7Cn07CmEucHJvdG90eXBlLnNldFBsYWNlbWVudCA9IGZ1bmN0aW9uKHQpIHsKaWYgKHQgJiYgdGhpcy5wYXJlbnROb2RlICYmIHRoaXMucGFyZW50Tm9kZSBpbnN0YW5jZW9mIGEpIHsKdmFyIGUgPSB0aGlzLnBhcmVudE5vZGUuZ2V0Q29udGFpbmVyKHQpOwppZiAoZSkgewppZiAoISQodGhpcy5hdHRyaWJ1dGVzLmRpc2NhcmRQbGFjZW1lbnQpKSB7CmUuYXBwZW5kQ2hpbGQoZSBpbnN0YW5jZW9mIGEgPyB0aGlzIDogdGhpcy5kb20pOwpyZXR1cm4gdGhpczsKfQpmb3IgKDt0aGlzLmNoaWxkcmVuLmxlbmd0aDsgKSBlLmFwcGVuZENoaWxkKHRoaXMuY2hpbGRyZW5bMF0pOwp0aGlzLmRlc3Ryb3koKTsKfQp9Cn07CmEucHJvdG90eXBlLnNldENvbnRhaW5lciA9IGZ1bmN0aW9uKHQpIHsKdGhpcy5hdHRyaWJ1dGVzLmNvbnRhaW5lciA9IHQ7CnJldHVybiB0aGlzOwp9OwphLnByb3RvdHlwZS5nZXRDb250YWluZXIgPSBmdW5jdGlvbih0KSB7CmlmICh0KSB7CmlmICh0aGlzLmF0dHJpYnV0ZXMuY29udGFpbmVyID09IHQpIHJldHVybiB0aGlzOwpmb3IgKHZhciBlLCBpID0gdGhpcy5jaGlsZHJlbi5sZW5ndGgsIG4gPSAwOyBuIDwgaTsgbisrKSBpZiAoImZ1bmN0aW9uIiA9PSB0eXBlb2YgdGhpcy5jaGlsZHJlbltuXS5nZXRDb250YWluZXIpIHsKZSA9IHRoaXMuY2hpbGRyZW5bbl0uZ2V0Q29udGFpbmVyKHQpOwppZiAoZSkgcmV0dXJuIGU7Cn0KfQp9OwphLnByb3RvdHlwZS5nZXRQc2V1ZG8gPSBmdW5jdGlvbigpIHsKcmV0dXJuIHRoaXMuX3BzZXVkbzsKfTsKYS5wcm90b3R5cGUuc2V0UHNldWRvID0gZnVuY3Rpb24odCkgewp0aGlzLl9wc2V1ZG8gJiYgdGhpcy5yZW1vdmVDbGFzcyh0KTsKdGhpcy5fcHNldWRvID0gdDsKdGhpcy5fcHNldWRvICYmIHRoaXMuYWRkQ2xhc3ModCk7CnJldHVybiB0aGlzOwp9OwphLnByb3RvdHlwZS5zZXRVc2VEaXNwbGF5ID0gZnVuY3Rpb24odCkgewp0aGlzLnVzZURpc3BsYXkgPSAkKHQpOwpyZXR1cm4gdGhpczsKfTsKYS5wcm90b3R5cGUuZ2V0RWxlbWVudCA9IGZ1bmN0aW9uKHQpIHsKcmV0dXJuIGQuZ2V0KHRoaXMuanhfaWQgKyAiX18iICsgdCk7Cn07CmEucHJvdG90eXBlLnNldExhYmVsID0gZnVuY3Rpb24odCkgewp0aGlzLmxhYmVsID0gdDsKcmV0dXJuIHRoaXM7Cn07CmEucHJvdG90eXBlLmdldExhYmVsID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLmxhYmVsIHx8ICIiOwp9Owpmb3IgKHZhciBTID0gMDsgUyA8IHYubGVuZ3RoOyBTKyspIGEucHJvdG90eXBlW3coInNldC0iICsgdltTXSldID0gZnVuY3Rpb24odCkgewpyZXR1cm4gZnVuY3Rpb24oZSkgewp0cnkgewp0aGlzLmRvbS5zdHlsZVt0XSA9IGU7Cn0gY2F0Y2ggKHQpIHt9CnJldHVybiB0aGlzOwp9Owp9KHcodltTXSkpOwpmb3IgKFMgPSAwOyBTIDwgeS5sZW5ndGg7IFMrKykgYS5wcm90b3R5cGVbdygic2V0LSIgKyB5W1NdKV0gPSBmdW5jdGlvbih0KSB7CnJldHVybiBmdW5jdGlvbihlKSB7CnRoaXMuZG9tLnNldEF0dHJpYnV0ZSh0LCBlKTsKcmV0dXJuIHRoaXM7Cn07Cn0oeVtTXSk7CnQuZXhwb3J0cyA9IGE7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbigpIHsKSCgiVUlDb250cm9sbGVyIGluaXQiKTsKb2UubW9iaWxlICYmIG9lLnBvcG91dCAmJiBKdCgpOwpLdCgpOwpvKCk7CmFlLnVzZXJTaG93QmFkZ2VPcldpbmRvdyA9IGg7CmFlLnVzZXJTaG93V2luZG93ID0gZjsKYWUudXNlckhpZGVXaW5kb3cgPSBnOwphZS51c2VySGlkZUJhbm5lciA9IHA7CmFlLnVzZXJIaWRlQnViYmxlID0gbTsKYWUudXNlckRpc21pc3NNb2JpbGVOb3RpZmljYXRpb24gPSBzZTsKYWUudXNlclJlcGx5TW9iaWxlTm90aWZpY2F0aW9uID0gJDsKYWUuc2hvd1dpbmRvdyA9IGI7CmFlLmhpZGVXaW5kb3cgPSB3OwphZS50b2dnbGVXaW5kb3cgPSB4OwphZS5zaG93QmFubmVyID0gdjsKYWUuaGlkZUJhbm5lciA9IHk7CmFlLnNob3dCdXR0b24gPSBqOwphZS5oaWRlQnV0dG9uID0gQzsKYWUuc2hvd01vYmlsZU5vdGlmaWNhdGlvbiA9IFQ7CmFlLmhpZGVNb2JpbGVOb3RpZmljYXRpb24gPSBOOwphZS5kaXNhYmxlTW9iaWxlTm90aWZpY2F0aW9ucyA9IEI7CmFlLmhpZGVBbGwgPSBTOwphZS5zaG93QnViYmxlID0gQTsKYWUuaGlkZUJ1YmJsZSA9IGs7CmFlLnJlc2V0QnViYmxlID0gSTsKYWUuc2V0V2luZG93VXNlckhpZGRlbiA9IEU7CmFlLnNldEJhbm5lclVzZXJIaWRkZW4gPSBPOwphZS5zZXRCdWJibGVVc2VySGlkZGVuID0gTDsKYWUucmVzZXRCdWJibGVVc2VySGlkZGVuID0gVzsKYWUuc2V0SGlkZVdoZW5PZmZsaW5lID0gUDsKYWUubW9iaWxlTm90aWZpY2F0aW9uc0lnbm9yZUNoYXRCdXR0b25WaXNpYmlsaXR5ID0gRDsKYWUuc2hvd01lbnUgPSBSOwphZS5zaG93UHJvZmlsZU1lbnUgPSBGOwphZS5nZXRBUElTdGF0ZSA9IE07CmFlLnJlc2V0U3RhdGUgPSB6Owp9CmZ1bmN0aW9uIG8oKSB7Cm50ID0gITE7ClUgPSBadC5yb290OwpHID0gVS4kKCJsaXZlY2hhdCIpOwpZID0gRy4kKCJzZXR0aW5ncyIpOwpYID0gWS4kKCJ0aGVtZSIpOwpaID0gRy4kKCJ1aSIpOwpRID0gWi4kKCJjaGF0X3dpbmRvdyIpOwpLID0gWi4kKCJjaGF0X2J1dHRvbiIpOwpFdCA9IEcuJCgicHJvZmlsZSIpLiQoImxvZ2dlZF9pbiRib29sIik7Ck90ID0gRy4kKCJwcm9maWxlIikuJCgiYXV0aCIpLiQoInR5cGUkc3RyaW5nIik7Ckx0ID0gWS4kKCJsb2dpbiIpLiQoImFsbG93ZWRfdHlwZXNfY291bnQkaW50Iik7Cld0ID0gRy4kKCJzZXR0aW5ncyIpLiQoImxvZ2luIikuJCgicmVzdHJpY3RfcHJvZmlsZSRib29sIik7CkJ0ID0gUS4kKCJtZW51X3N0YWNrX25hbWUkc3RyaW5nIik7CkR0ID0gUS4kKCJwcm9maWxlX21lbnUiKS4kKCJpbmRleCRpbnQiKTsKSiA9IFouJCgicG9wb3V0JGJvb2wiKTsKdHQgPSBaLiQoIm1vYmlsZSRib29sIik7CmV0ID0gWi4kKCJtb2NrdXAkYm9vbCIpOwppdCA9IFouJCgibW9iaWxlX292ZXJsYXkkYm9vbCIpOwpIdCA9IFouJCgiY3VycmVudF9kaXNwbGF5JHN0cmluZyIpOwpWdCA9IFouJCgicHJldmlvdXNfZGlzcGxheSRzdHJpbmciKTsKVihKLCAicG9wb3V0IiwgZnVuY3Rpb24oKSB7CmwoKTsKXygpOwp9KTsKVih0dCwgIm1vYmlsZSIsIGZ1bmN0aW9uKCkgewpsKCk7Cl8oKTsKfSk7ClYoaXQsICJtb2JpbGVfb3ZlcmxheSIsIF8pOwpWKGV0LCAibW9ja3VwIik7CmZ0ID0gVS4kKCJjb25uZWN0aW9uIikuJCgibWVzc2FnZSRzdHJpbmciKTsKVihmdCwgImNvbm5lY3Rpb25fbWVzc2FnZSIsIF8pOwpndCA9IFUuJCgiY29ubmVjdGlvbiIpLiQoInN0YXR1cyRzdHJpbmciKTsKVihndCwgImNvbm5lY3Rpb25fc3RhdHVzIiwgZnVuY3Rpb24oKSB7CnIoKTsKXygpOwp9KTsKcHQgPSBHLiQoImFjY291bnQiKS4kKCJzdGF0dXMkc3RyaW5nIik7ClYocHQsICJhY2NvdW50X3N0YXR1cyIsIGZ1bmN0aW9uKCkgewpsKCk7Cl8oKTsKfSk7Cm10ID0gRy4kKCJjaGFubmVsIikuJCgiY2hhdHRpbmckYm9vbCIpOwpJdCA9IFouJCgiY2hhdF93aW5kb3ciKS4kKCJwcmVfY2hhdF9mb3JtIikuJCgic3VibWl0dGVkJGJvb2wiKTsKVihtdCwgImNoYXR0aW5nIiwgZnVuY3Rpb24oKSB7CnIoKTsKXygpOwp9KTsKJHQgPSBHLiQoImNoYW5uZWwiKS4kKCJzZXJ2ZWQkYm9vbCIpOwpWKCR0LCAiY2hhdF9zZXJ2ZWQiLCBfKTsKYnQgPSBZLiQoImJlaGF2aW9yIikuJCgiZG9fbm90X2Rpc3BsYXkkYm9vbCIpOwp3dCA9IFkuJCgiYmFubmVyIikuJCgiZW5hYmxlZCRib29sIik7CnZ0ID0gWS4kKCJidWJibGUiKS4kKCJlbmFibGVkJGJvb2wiKTsKQ3QgPSBZLiQoImNoYXRfYnV0dG9uIikuJCgiaGlkZV93aGVuX29mZmxpbmUkYm9vbCIpOwpTdCA9IFEuJCgidXNlcl9oaWRkZW4kYm9vbCIpOwpBdCA9IFEuJCgidXNlcl9oaWRkZW5fYmFubmVyJGJvb2wiKTsKa3QgPSBRLiQoInVzZXJfaGlkZGVuX2J1YmJsZSRib29sIik7Cnh0ID0gWC4kKCJjaGF0X3dpbmRvdyIpLiQoInVzZV9iYW5uZXIkYm9vbCIpOwpqdCA9IEsuJCgiYnViYmxlIikuJCgiZGlzcGxheSRib29sIik7Cnl0ID0gWC4kKCJjaGF0X2J1dHRvbiIpLiQoInVzZV9idWJibGUkYm9vbCIpOwpWKGJ0LCAiZG9fbm90X2Rpc3BsYXkiLCBfKTsKVih3dCwgImJhbm5lcl9lbmFibGVkIiwgXyk7ClYodnQsICJidWJibGVfZW5hYmxlZCIsIF8pOwpWKEN0LCAiaGlkZV93aGVuX29mZmxpbmUiLCBfKTsKVihTdCwgImNoYXRfd2luZG93X3VzZXJfaGlkZGVuIiwgXyk7ClYoQXQsICJiYW5uZXJfdXNlcl9oaWRkZW4iLCBfKTsKVihrdCwgImJ1YmJsZV91c2VyX2hpZGRlbiIsIGwpOwpWKHh0LCAidXNlX2Jhbm5lciIsIF8pOwpWKGp0LCAiYnViYmxlX2Rpc3BsYXkiLCBsKTsKVih5dCwgInVzZV9idWJibGUiLCBsKTsKVHQgPSBHLiQoInNldHRpbmdzIikuJCgiZm9ybXMiKS4kKCJwcmVfY2hhdF9mb3JtIikuJCgicmVxdWlyZWQkYm9vbCIpOwpUdC5iaW5kVmFsdWUoYSk7Ckl0LmJpbmRWYWx1ZShhKTsKUHQgPSBLLiQoImRpc3BsYXkkYm9vbCIpOwpSdCA9IFEuJCgiZGlzcGxheSRib29sIik7CkZ0ID0gUS4kKCJtYWluX3N0YWNrX25hbWUkc3RyaW5nIik7Ck10ID0gWi4kKCJjaGF0X25vdGlmaWNhdGlvbiIpLiQoImRpc3BsYXkkYm9vbCIpOwpQdC5iaW5kVmFsdWUocyk7ClJ0LmJpbmRWYWx1ZShzKTsKRnQuYmluZFZhbHVlKHMpOwpNdC5iaW5kVmFsdWUocyk7Cm50ID0gITA7Cn0KZnVuY3Rpb24gcigpIHsKaWYgKG9lLmNoYXR0aW5nICYmIG9lLmNvbm5lY3Rpb25fc3RhdHVzID09IGllLlJFQVRUQUNIRUQpIHsKSCgiVUlDb250cm9sbGVyOiBzZXR0aW5nIHByZV9jaGF0X2Zvcm1fc3VibWl0dGVkIHRvIHRydWUiKTsKSXQudXBkYXRlKCEwKTsKfQp9CmZ1bmN0aW9uIGEoKSB7CnZhciB0ID0gVHQuZ2V0VmFsdWUoKSwgZSA9IEl0LmdldFZhbHVlKCksIGkgPSB0ICYmICFlOwppZiAoaSAhPSBOdCkgewpOdCA9IGk7Cl8oKTsKfQp9CmZ1bmN0aW9uIHMoKSB7CnZhciB0LCBlLCBpID0gUHQuZ2V0VmFsdWUoKSwgbiA9IFJ0LmdldFZhbHVlKCksIG8gPSBGdC5nZXRWYWx1ZSgpLCByID0gTXQuZ2V0VmFsdWUoKTsKdCA9IEd0KGkpICYmIEd0KG4pICYmIEd0KHIpID8gdGUuVU5ERUZJTkVEIDogbiA/IG8gPT0gZWUuTkVXX0NIQVRfRk9STSA/IHRlLkJBTk5FUiA6IHRlLldJTkRPVyA6IGkgPyB0ZS5CVVRUT04gOiByID8gdGUuTk9USUZJQ0FUSU9OIDogdGUuTk9ORTsKZSA9IG87CmlmICh0ICE9IHF0IHx8IGUgIT0genQpIHsKcXQgPSB0Owp6dCA9IGU7Cl8oKTsKfQp9CmZ1bmN0aW9uIF8oKSB7CmZ1bmN0aW9uIHQoKSB7CmlmIChOdCkgewpxKGUsICJwcmVfY2hhdF9mb3JtX3JlcXVpcmVkIik7CnUoWyBlZS5QUkVfQ0hBVF9PRkZMSU5FX0ZPUk0gXSk7Cn0gZWxzZSB7CnEoZSwgIiFwcmVfY2hhdF9mb3JtX3JlcXVpcmVkIik7CnUoWyBlZS5DSEFUX1BBTkVMLCBlZS5BR0VOVF9MSVNULCBlZS5DQVJEX0ZPUk0sIGVlLlBPU1RfQ0hBVF9GT1JNLCBlZS5BQk9VVF9QQU5FTCwgZWUuQ09PS0lFX0ZPUk0gXSk7Cn0KfQppZiAobnQpIGlmIChfdCkgSCgiVUlDb250cm9sbGVyIHVwZGF0ZTogYWJvcnQgLSBkaXNwbGF5IHNldHRpbmdzIHVwZGF0aW5nIik7IGVsc2UgaWYgKGF0KSBIKCJVSUNvbnRyb2xsZXIgdXBkYXRlOiBhYm9ydCAtIGFwaSB1cGRhdGluZyIpOyBlbHNlIGlmIChzdCkgSCgiVUlDb250cm9sbGVyIHVwZGF0ZTogYWJvcnQgLSB1c2VyIHVwZGF0aW5nIik7IGVsc2UgaWYgKG90KSBIKCJVSUNvbnRyb2xsZXIgdXBkYXRlOiBhYm9ydCAtIHVwZGF0aW5nIGxvb3AiKTsgZWxzZSB7Cm90ID0gITA7CnZhciBlID0gW107CmlmIChvZS5hY2NvdW50X3N0YXR1cyA9PSBuZS5CQU5ORUQpIHsKcShlLCBuZS5CQU5ORUQpOwppZiAob2UucG9wb3V0KSB7CnEoZSwgInBvcG91dCIpOwpkKHRlLldJTkRPVyk7CnUoWyBlZS5QUkVfQ0hBVF9PRkZMSU5FX0ZPUk0gXSk7Cn0gZWxzZSB7CnEoZSwgIiFwb3BvdXQiKTsKZCh0ZS5VTkRFRklORUQpOwp9Cn0gZWxzZSBpZiAocmUuYXBpX2Rpc3BsYXkgJiYgcmUuYXBpX3N0YWNrKSBxKGUsICJhcGlfZGlzcGxheSAmJiBhcGlfc3RhY2siKTsgZWxzZSBpZiAoIW9lLmRvX25vdF9kaXNwbGF5IHx8IG9lLnBvcG91dCB8fCByZS5hcGlfZGlzcGxheSB8fCBvZS5jaGF0dGluZyB8fCBxdCAhPSB0ZS5VTkRFRklORUQpIGlmICghb2UubW9iaWxlIHx8IG9lLm1vYmlsZV9vdmVybGF5IHx8IG9lLnBvcG91dCkgewppZiAob2UuY29ubmVjdGlvbl9zdGF0dXMgPT0gaWUuQ09PS0lFX0xBVykgewpxKGUsICJjb29raWVfbGF3Iik7CmlmIChyZS5hcGlfZGlzcGxheSkgcShlLCAiYXBpX2Rpc3BsYXkiKTsgZWxzZSBpZiAocXQgPT0gdGUuTk9ORSkgcShlLCAibm9uZSIpOyBlbHNlIGlmIChvZS5wb3BvdXQpIHsKcShlLCAicG9wb3V0Iik7CmQodGUuV0lORE9XKTsKfSBlbHNlIHsKcShlLCAiIXBvcG91dCIpOwppZiAocXQgPT0gdGUuVU5ERUZJTkVEKSB7CnEoZSwgInVuZGVmaW5lZCIpOwpkKHRlLkJVVFRPTik7Cn0gZWxzZSBxKGUsICIhdW5kZWZpbmVkIik7Cn0KdShbIGVlLkNPT0tJRV9GT1JNIF0pOwp9IGVsc2UgaWYgKG9lLmNvbm5lY3Rpb25fc3RhdHVzID09IGllLlJFR0lTVEVSRUQgfHwgb2UuY29ubmVjdGlvbl9zdGF0dXMgPT0gaWUuUkVBVFRBQ0hFRCB8fCBvZS5jb25uZWN0aW9uX21lc3NhZ2UgPT0gaWUuRkFTVF9JTklUKSB7CnEoZSwgInJlZ2lzdGVyZWQvcmVhdHRhY2hlZC9mYXN0X2luaXQiKTsKaWYgKG9lLmNoYXR0aW5nKSB7CnEoZSwgImNoYXR0aW5nIik7CmlmIChyZS5hcGlfZGlzcGxheSkgewpxKGUsICJhcGlfZGlzcGxheSIpOwppZiAob2UubW9iaWxlX292ZXJsYXkgJiYgKHF0ID09PSB0ZS5CVVRUT04gfHwgcmUubW9iaWxlX25vdGlmaWNhdGlvbnNfaWdub3JlX2NoYXRfYnV0dG9uX3Zpc2liaWxpdHkgJiYgcXQgIT09IHRlLldJTkRPVykgJiYgdXQpIHsKcShlLCAib3ZlcmxheSAmJiAoZGlzcGxheWluZyBidXR0b24gfHwgaWdub3JpbmcgY2hhdCBidXR0b24gdmlzaWJpbGl0eSAmJiBub3QgZGlzcGxheWluZyB3aW5kb3cpICYmIGhhcyBtb2JpbGUgbm90aWZpY2F0aW9uIik7CmQodGUuTk9USUZJQ0FUSU9OKTsKfSBlbHNlIHsKcShlLCAiIW92ZXJsYXkgfHwgIWRpc3BsYXlpbmcgYnV0dG9uICYmICEoaWdub3JpbmcgY2hhdCBidXR0b24gdmlzaWJpbGl0eSAmJiBub3QgZGlzcGxheWluZyB3aW5kb3cpIHx8ICFoYXMgbW9iaWxlIG5vdGlmaWNhdGlvbiIpOwppZiAocXQgIT09IHRlLk5PVElGSUNBVElPTiB8fCB1dCkgcShlLCAiIWRpc3BsYXlpbmcgbm90aWZpY2F0aW9uIHx8IGhhcyBtb2JpbGUgbm90aWZpY2F0aW9uIik7IGVsc2UgewpxKGUsICJkaXNwbGF5aW5nIG5vdGlmaWNhdGlvbiAmJiAhaGFzIG1vYmlsZSBub3RpZmljYXRpb24iKTsKZChyZS5hcGlfZGlzcGxheSk7Cn0KfQp9IGVsc2UgewpxKGUsICIhYXBpX2Rpc3BsYXkiKTsKaWYgKG9lLm1vYmlsZV9vdmVybGF5KSB7CnEoZSwgIm92ZXJsYXkiKTsKaWYgKG9lLmNoYXRfd2luZG93X3VzZXJfaGlkZGVuKSB7CnEoZSwgInVzZXIgaGlkZGVuIik7CmlmICh1dCkgewpxKGUsICJoYXMgbW9iaWxlIG5vdGlmaWNhdGlvbiIpOwpkKHRlLk5PVElGSUNBVElPTik7Cn0gZWxzZSB7CnEoZSwgIiFoYXMgbW9iaWxlIG5vdGlmaWNhdGlvbiIpOwpkKHRlLkJVVFRPTik7Cn0KfSBlbHNlIHsKcShlLCAiIXVzZXIgaGlkZGVuIik7CmlmIChkdCkgewpxKGUsICJ1c2VyX3Nob3duX3dpbmRvd19iZWZvcmUiKTsKZCh0ZS5XSU5ET1cpOwp9IGVsc2UgewpxKGUsICIhdXNlcl9zaG93bl93aW5kb3dfYmVmb3JlIik7CmlmICh1dCkgewpxKGUsICJoYXMgbW9iaWxlIG5vdGlmaWNhdGlvbiIpOwpkKHRlLk5PVElGSUNBVElPTik7Cn0gZWxzZSB7CnEoZSwgIiFoYXMgbW9iaWxlIG5vdGlmaWNhdGlvbiIpOwpkKHRlLkJVVFRPTik7Cn0KfQp9Cn0gZWxzZSB7CnEoZSwgIiFvdmVybGF5Iik7CmlmIChvZS5jaGF0X3dpbmRvd191c2VyX2hpZGRlbikgewpxKGUsICJ1c2VyIGhpZGRlbiIpOwppZiAob2UucG9wb3V0KSB7CnEoZSwgInBvcG91dCIpOwpkKHRlLldJTkRPVyk7Cn0gZWxzZSB7CnEoZSwgIiFwb3BvdXQiKTsKaWYgKHF0ID09IHRlLlVOREVGSU5FRCkgewpxKGUsICJ1bmRlZmluZWQiKTsKZCh0ZS5CVVRUT04pOwp9IGVsc2UgcShlLCAiIXVuZGVmaW5lZCIpOwp9Cn0gZWxzZSB7CnEoZSwgIiF1c2VyIGhpZGRlbiIpOwpkKHRlLldJTkRPVyk7Cn0KfQp9CnUob2UuY2hhdF9zZXJ2ZWQgPyBbIGVlLkNIQVRfUEFORUwsIGVlLkFHRU5UX0xJU1QsIGVlLkNBUkRfRk9STSwgZWUuQUJPVVRfUEFORUwsIGVlLlJBVElOR19QQU5FTCwgZWUuQ09PS0lFX0ZPUk0gXSA6IFsgZWUuQ0hBVF9QQU5FTCwgZWUuQUdFTlRfTElTVCwgZWUuQ0FSRF9GT1JNLCBlZS5BQk9VVF9QQU5FTCwgZWUuQ09PS0lFX0ZPUk0gXSk7Cn0gZWxzZSBpZiAob2UuYWNjb3VudF9zdGF0dXMgPT0gbmUuT05MSU5FIHx8IG9lLmFjY291bnRfc3RhdHVzID09IG5lLkFXQVkpIHsKcShlLCAib25saW5lL2F3YXkiKTsKaWYgKHJlLmFwaV9kaXNwbGF5KSB7CnEoZSwgImFwaV9kaXNwbGF5Iik7CnQoKTsKfSBlbHNlIGlmIChvZS5wb3BvdXQgfHwgcXQgPT0gdGUuV0lORE9XKSB7CnEoZSwgInBvcG91dC93aW5kb3ciKTsKaWYgKG9lLnBvcG91dCkgewpxKGUsICJwb3BvdXQiKTsKZCh0ZS5XSU5ET1cpOwp9IGVsc2UgcShlLCAid2luZG93Iik7CnQoKTsKfSBlbHNlIGlmIChxdCA9PSB0ZS5OT05FKSBxKGUsICJub25lIik7IGVsc2UgaWYgKG9lLmJhbm5lcl9lbmFibGVkICYmIG9lLnVzZV9iYW5uZXIpIHsKcShlLCAic2hvdyBiYW5uZXIiKTsKc3dpdGNoIChxdCkgewpjYXNlIHRlLlVOREVGSU5FRDoKcShlLCAibm9uZSIpOwppZiAob2UuYmFubmVyX3VzZXJfaGlkZGVuKSB7CnEoZSwgInVzZXIgaGlkZGVuIik7CmQodGUuQlVUVE9OKTsKfSBlbHNlIHsKcShlLCAiIXVzZXIgaGlkZGVuIik7CmQodGUuQkFOTkVSKTsKfQpicmVhazsKCmNhc2UgdGUuQlVUVE9OOgpxKGUsICJidXR0b24iKTsKaWYgKG9lLmJhbm5lcl91c2VyX2hpZGRlbikgcShlLCAidXNlciBoaWRkZW4iKTsgZWxzZSB7CnEoZSwgIiF1c2VyIGhpZGRlbiIpOwpkKHRlLkJBTk5FUik7Cn0KYnJlYWs7CgpjYXNlIHRlLkJBTk5FUjoKcShlLCAiYmFubmVyIik7Cn0KfSBlbHNlIHsKcShlLCAiIXNob3cgYmFubmVyIik7CmlmIChxdCA9PT0gdGUuQlVUVE9OKSBxKGUsICJidXR0b24iKTsgZWxzZSB7CnEoZSwgcXQpOwpkKHRlLkJVVFRPTik7Cn0KfQp9IGVsc2UgaWYgKG9lLmFjY291bnRfc3RhdHVzID09IG5lLk9GRkxJTkUpIHsKcShlLCBuZS5PRkZMSU5FKTsKaWYgKHJlLmFwaV9kaXNwbGF5KSBxKGUsICJhcGlfZGlzcGxheSIpOyBlbHNlIGlmIChvZS5wb3BvdXQpIHsKcShlLCAicG9wb3V0Iik7CmQodGUuV0lORE9XKTsKfSBlbHNlIGlmIChxdCA9PSB0ZS5OT05FKSBxKGUsICJub25lIik7IGVsc2UgaWYgKG9lLmhpZGVfd2hlbl9vZmZsaW5lKSB7CnEoZSwgImhpZGUgd2hlbiBvZmZsaW5lIik7CmQodGUuVU5ERUZJTkVEKTsKfSBlbHNlIHsKcShlLCAiIWhpZGUgd2hlbiBvZmZsaW5lIik7CmlmIChxdCA9PSB0ZS5XSU5ET1cpIHEoZSwgIndpbmRvdyIpOyBlbHNlIHsKcShlLCAiIXdpbmRvdyIpOwpkKHRlLkJVVFRPTik7Cn0KfQp1KFsgZWUuUFJFX0NIQVRfT0ZGTElORV9GT1JNIF0pOwp9Cn0KfSBlbHNlIHsKcShlLCAibW9iaWxlIik7CmlmIChyZS5hcGlfZGlzcGxheSkgcShlLCAiYXBpX2Rpc3BsYXkiKTsgZWxzZSB7CnEoZSwgIiFhcGlfZGlzcGxheSIpOwppZiAocXQgPT0gdGUuTk9ORSkgcShlLCAibm9uZSIpOyBlbHNlIHsKcShlLCAiIW5vbmUiKTsKaWYgKG9lLmRvX25vdF9kaXNwbGF5IHx8IG9lLmFjY291bnRfc3RhdHVzID09IG5lLk9GRkxJTkUgJiYgb2UuaGlkZV93aGVuX29mZmxpbmUpIHsKcShlLCAiZG9fbm90X2Rpc3BsYXkgfHwgKGFjY291bnRfc3RhdHVzID09IG9mZmxpbmUgJiYgaGlkZV93aGVuX29mZmxpbmUpIik7CmlmIChvZS5jaGF0dGluZykgewpxKGUsICJjaGF0dGluZyIpOwpkKHRlLkJVVFRPTik7Cn0gZWxzZSB7CnEoZSwgIiFjaGF0dGluZyIpOwpkKHRlLlVOREVGSU5FRCk7Cn0KfSBlbHNlIHsKcShlLCAiIShkb19ub3RfZGlzcGxheSB8fCAoYWNjb3VudF9zdGF0dXMgPT0gb2ZmbGluZSAmJiBoaWRlX3doZW5fb2ZmbGluZSkpIik7CmQodGUuQlVUVE9OKTsKfQp9Cn0KfSBlbHNlIHEoZSwgImRvIG5vdCBkaXNwbGF5LCAhcG9wb3V0LCAhYXBpX2Rpc3BsYXkiKTsKSCgiVUlDb250cm9sbGVyIHVwZGF0ZTogIiArIChlLmpvaW4oIiA+ICIpIHx8ICJubyBwYXRoIikpOwpvdCA9ICExOwp9IGVsc2UgSCgiVUlDb250cm9sbGVyIHVwZGF0ZTogYWJvcnQgLSBiaW5kaW5nIG5vdCBjb21wbGV0ZSIpOwp9CmZ1bmN0aW9uIGwoKSB7CmlmIChudCkgaWYgKGx0KSBIKCJVSUNvbnRyb2xsZXIgQnViYmxlIHVwZGF0ZTogYWJvcnQgLSBidWJibGUgc2V0dGluZ3MgdXBkYXRpbmciKTsgZWxzZSBpZiAoYXQpIEgoIlVJQ29udHJvbGxlciBCdWJibGUgdXBkYXRlOiBhYm9ydCAtIGFwaSB1cGRhdGluZyIpOyBlbHNlIGlmIChzdCkgSCgiVUlDb250cm9sbGVyIEJ1YmJsZSB1cGRhdGU6IGFib3J0IC0gdXNlciB1cGRhdGluZyIpOyBlbHNlIGlmIChydCkgSCgiVUlDb250cm9sbGVyIEJ1YmJsZSB1cGRhdGU6IGFib3J0IC0gdXBkYXRpbmcgbG9vcCIpOyBlbHNlIHsKcnQgPSAhMDsKdmFyIHQgPSBbXTsKaWYgKG9lLm1vYmlsZSB8fCBvZS5wb3BvdXQpIHsKcSh0LCAibW9iaWxlIHx8IHBvcG91dCIpOwpjKCExKTsKfSBlbHNlIHsKcSh0LCAiIW1vYmlsZSAmJiAhcG9wb3V0Iik7CmlmIChvZS51c2VfYnViYmxlKSB7CnEodCwgInVzZV9idWJibGUiKTsKaWYgKHJlLmFwaV9idWJibGUpIHEodCwgImJ1YmJsZV9hcGkiKTsgZWxzZSB7CnEodCwgIiFidWJibGVfYXBpIik7CmlmIChvZS5idWJibGVfZW5hYmxlZCkgewpxKHQsICJidWJibGVfZW5hYmxlZCIpOwppZiAob2UuYWNjb3VudF9zdGF0dXMgPT0gbmUuT05MSU5FIHx8IG9lLmFjY291bnRfc3RhdHVzID09IG5lLkFXQVkpIHsKcSh0LCAib25saW5lIHx8IGF3YXkiKTsKaWYgKG9lLmJ1YmJsZV91c2VyX2hpZGRlbikgewpxKHQsICJ1c2VyX2hpZGRlbl9idWJibGUiKTsKYyghMSk7Cn0gZWxzZSB7CnEodCwgIiF1c2VyX2hpZGRlbl9idWJibGUiKTsKaWYgKEd0KG9lLmJ1YmJsZV9kaXNwbGF5KSkgewpxKHQsICJ1bmRlZmluZWQiKTsKYyghMCk7Cn0gZWxzZSBxKHQsICIhdW5kZWZpbmVkIik7Cn0KfSBlbHNlIHsKcSh0LCBuZS5PRkZMSU5FKTsKYyh2b2lkIDApOwp9Cn0gZWxzZSB7CnEodCwgIiFidWJibGVfZW5hYmxlZCIpOwpjKCExKTsKfQp9Cn0gZWxzZSB7CnEodCwgIiF1c2VfYnViYmxlIik7CmModm9pZCAwKTsKfQp9CkgoIlVJQ29udHJvbGxlciBCdWJibGUgdXBkYXRlOiAiICsgKHQuam9pbigiID4gIikgfHwgIm5vIHBhdGgiKSk7CnJ0ID0gITE7Cn0gZWxzZSBIKCJVSUNvbnRyb2xsZXIgQnViYmxlIHVwZGF0ZTogYWJvcnQgLSBiaW5kaW5nIG5vdCBjb21wbGV0ZSIpOwp9CmZ1bmN0aW9uIGQodCkgewpIKCJVSUNvbnRyb2xsZXIgc2V0RGlzcGxheTogIiArIHQpOwpjdCA9IFJ0LmdldFZhbHVlKCk7Cl90ID0gITA7CnZhciBlID0gSHQuZ2V0VmFsdWUoKTsKaWYgKGUgIT09IHQpIHsKVnQudXBkYXRlKGUpOwpIdC51cGRhdGUodCk7Cn0Kc3dpdGNoICh0KSB7CmNhc2UgdGUuVU5ERUZJTkVEOgpQdC51cGRhdGUodm9pZCAwKTsKUnQudXBkYXRlKHZvaWQgMCk7Ck10LnVwZGF0ZSh2b2lkIDApOwpicmVhazsKCmNhc2UgdGUuTk9ORToKUHQudXBkYXRlKCExKTsKUnQudXBkYXRlKCExKTsKTXQudXBkYXRlKCExKTsKYnJlYWs7CgpjYXNlIHRlLkJVVFRPTjoKUHQudXBkYXRlKCEwKTsKUnQudXBkYXRlKCExKTsKTXQudXBkYXRlKCExKTsKYnJlYWs7CgpjYXNlIHRlLkJBTk5FUjoKaWYgKEZ0LmdldFZhbHVlKCkgIT0gZWUuTkVXX0NIQVRfRk9STSkgewpodCA9IEZ0LmdldFZhbHVlKCk7CkZ0LnVwZGF0ZShlZS5ORVdfQ0hBVF9GT1JNKTsKfQpQdC51cGRhdGUoITEpOwpSdC51cGRhdGUoITApOwpNdC51cGRhdGUoITEpOwpicmVhazsKCmNhc2UgdGUuTk9USUZJQ0FUSU9OOgpQdC51cGRhdGUoITEpOwpSdC51cGRhdGUoITEpOwpNdC51cGRhdGUoITApOwpicmVhazsKCmNhc2UgdGUuV0lORE9XOgppZiAoRnQuZ2V0VmFsdWUoKSA9PSBlZS5ORVdfQ0hBVF9GT1JNKSB7CnUoaHQgPyBbIGh0IF0gOiBbIGVlLlBSRV9DSEFUX09GRkxJTkVfRk9STSwgZWUuQ0hBVF9QQU5FTCwgZWUuUE9TVF9DSEFUX0ZPUk0sIGVlLkNPT0tJRV9GT1JNLCBlZS5DQVJEX0ZPUk0sIGVlLkFHRU5UX0xJU1QsIGVlLlJBVElOR19QQU5FTCBdKTsKaHQgPSBudWxsOwp9ClB0LnVwZGF0ZSghMSk7Ck10LnVwZGF0ZSghMSk7ClJ0LnVwZGF0ZSghMCk7Cn0KYXQgfHwgKGN0ICYmIHQgIT0gdGUuV0lORE9XID8gYWUuZmlyZSgiQVBJOndpbmRvdzpoaWRlIikgOiBjdCB8fCB0ICE9IHRlLldJTkRPVyB8fCBhZS5maXJlKCJBUEk6d2luZG93OnNob3ciKSk7Cl90ID0gITE7Cn0KZnVuY3Rpb24gdSh0KSB7CmlmICh0ICYmIHQubGVuZ3RoKSB7Ci0xID09IFl0KHp0LCB0KSAmJiBGdC51cGRhdGUodFswXSk7Cn0KfQpmdW5jdGlvbiBjKHQpIHsKSCgiVUlDb250cm9sbGVyIHNldEJ1YmJsZTogIiArIHQpOwpsdCA9ICEwOwpqdC51cGRhdGUodCk7Cmx0ID0gITE7Cn0KZnVuY3Rpb24gaCgpIHsKaWYgKCFvZS5tb2JpbGUpIHsKc3QgPSAhMDsKdmFyIHQgPSBGdC5nZXRWYWx1ZSgpOwpkKG9lLmJhbm5lcl9lbmFibGVkICYmIHQgPT0gZWUuTkVXX0NIQVRfRk9STSAmJiBvZS51c2VfYmFubmVyID8gdGUuQkFOTkVSIDogdGUuV0lORE9XKTsKcmUuYXBpX2Rpc3BsYXkgPSAhMTsKcmUuYXBpX3N0YWNrID0gITE7CnN0ID0gITE7Cl8oKTsKfQp9CmZ1bmN0aW9uIGYoKSB7CmlmICgoIW9lLm1vYmlsZSB8fCBvZS5tb2JpbGVfb3ZlcmxheSkgJiYgcXQgIT0gdGUuV0lORE9XKSB7CnN0ID0gITA7ClN0LnVwZGF0ZSghMSk7CmR0ID0gITA7CmQodGUuV0lORE9XKTsKcmUuYXBpX2Rpc3BsYXkgPSAhMTsKcmUuYXBpX3N0YWNrID0gITE7CnN0ID0gITE7Cl8oKTsKfQp9CmZ1bmN0aW9uIGcoKSB7CmlmICgoIW9lLm1vYmlsZSB8fCBvZS5tb2JpbGVfb3ZlcmxheSkgJiYgcXQgIT0gdGUuQlVUVE9OKSB7CnN0ID0gITA7CmFlLnNldFdpbmRvd1VzZXJIaWRkZW4oKTsKZChvZS5kb19ub3RfZGlzcGxheSA/IHRlLk5PTkUgOiB0ZS5CVVRUT04pOwpyZS5hcGlfZGlzcGxheSA9ICExOwpyZS5hcGlfc3RhY2sgPSAhMTsKc3QgPSAhMTsKXygpOwp9Cn0KZnVuY3Rpb24gcCgpIHsKaWYgKCFvZS5tb2JpbGUgJiYgcXQgIT0gdGUuQlVUVE9OKSB7CnN0ID0gITA7CmFlLnNldEJhbm5lclVzZXJIaWRkZW4oKTsKZChvZS5kb19ub3RfZGlzcGxheSA/IHRlLk5PTkUgOiB0ZS5CVVRUT04pOwpyZS5hcGlfZGlzcGxheSA9ICExOwpyZS5hcGlfc3RhY2sgPSAhMTsKc3QgPSAhMTsKXygpOwp9Cn0KZnVuY3Rpb24gbSgpIHsKaWYgKCFvZS5tb2JpbGUpIHsKc3QgPSAhMDsKYWUuc2V0QnViYmxlVXNlckhpZGRlbigpOwpjKCExKTsKcmUuYXBpX2J1YmJsZSA9ICExOwpzdCA9ICExOwpsKCk7Cn0KfQpmdW5jdGlvbiAkKCkgewp1dCA9ICExOwpmKCk7Cn0KZnVuY3Rpb24gYigpIHsKSCgiQVBJIHVwZGF0ZTogc2hvd1dpbmRvdyIpOwppZiAob2UubW9iaWxlICYmICFvZS5tb2JpbGVfb3ZlcmxheSkgUXQub3BlblBvcG91dCghMCk7IGVsc2UgewphdCA9ICEwOwp1dCAmJiAodXQgPSAhMSk7CmQodGUuV0lORE9XKTsKcmUuYXBpX2Rpc3BsYXkgPSB0ZS5XSU5ET1c7CmF0ID0gITE7Cl8oKTsKfQp9CmZ1bmN0aW9uIHcoKSB7CmlmICghb2UubW9iaWxlIHx8IG9lLm1vYmlsZV9vdmVybGF5KSB7CkgoIkFQSSB1cGRhdGU6IGhpZGVXaW5kb3ciKTsKYXQgPSAhMDsKaWYgKG9lLmRvX25vdF9kaXNwbGF5KSB7CmQodGUuTk9ORSk7CnJlLmFwaV9kaXNwbGF5ID0gdGUuTk9ORTsKfSBlbHNlIHsKZCh0ZS5CVVRUT04pOwpyZS5hcGlfZGlzcGxheSA9IHRlLkJVVFRPTjsKfQphdCA9ICExOwpfKCk7Cn0KfQpmdW5jdGlvbiB4KCkgewppZiAoIW9lLm1vYmlsZSB8fCBvZS5tb2JpbGVfb3ZlcmxheSkgewpIKCJBUEkgdXBkYXRlOiB0b2dnbGVXaW5kb3ciKTsKcXQgPT0gdGUuV0lORE9XID8gYWUuaGlkZVdpbmRvdygpIDogYWUuc2hvd1dpbmRvdygpOwp9Cn0KZnVuY3Rpb24gdigpIHsKaWYgKCFvZS5tb2JpbGUgJiYgb2UudXNlX2Jhbm5lcikgewpIKCJBUEkgdXBkYXRlOiBzaG93QmFubmVyIik7CmF0ID0gITA7CmQodGUuQkFOTkVSKTsKcmUuYXBpX2Rpc3BsYXkgPSB0ZS5CQU5ORVI7CnJlLmFwaV9zdGFjayA9IHRlLkJBTk5FUjsKYXQgPSAhMTsKXygpOwp9Cn0KZnVuY3Rpb24geSgpIHsKaWYgKCFvZS5tb2JpbGUpIHsKSCgiQVBJIHVwZGF0ZTogaGlkZUJhbm5lciIpOwphdCA9ICEwOwppZiAob2UuZG9fbm90X2Rpc3BsYXkpIHsKZCh0ZS5OT05FKTsKcmUuYXBpX2Rpc3BsYXkgPSB0ZS5OT05FOwp9IGVsc2UgewpkKHRlLkJVVFRPTik7CnJlLmFwaV9kaXNwbGF5ID0gdGUuQlVUVE9OOwp9CnJlLmFwaV9zdGFjayA9ICExOwphdCA9ICExOwpfKCk7Cn0KfQpmdW5jdGlvbiBqKCkgewpIKCJBUEkgdXBkYXRlOiBzaG93QnV0dG9uIik7CmF0ID0gITA7CmQodGUuQlVUVE9OKTsKcmUuYXBpX2Rpc3BsYXkgPSB0ZS5CVVRUT047CmF0ID0gITE7Cl8oKTsKfQpmdW5jdGlvbiBDKCkgewpIKCJBUEkgdXBkYXRlOiBoaWRlQnV0dG9uIik7CmF0ID0gITA7CmlmIChvZS5tb2JpbGUpIHsKdXQgJiYgKHV0ID0gITEpOwpyZS5hcGlfZGlzcGxheSA9IHRlLk5PTkU7CmQodGUuTk9ORSk7Cn0gZWxzZSB7CnJlLmFwaV9kaXNwbGF5ID0gdGUuV0lORE9XOwpkKHRlLldJTkRPVyk7Cn0KYXQgPSAhMTsKXygpOwp9CmZ1bmN0aW9uIFMoKSB7CkgoIkFQSSB1cGRhdGU6IGhpZGVBbGwiKTsKYXQgPSAhMDsKZCh0ZS5OT05FKTsKcmUuYXBpX2Rpc3BsYXkgPSB0ZS5OT05FOwp1dCAmJiAodXQgPSAhMSk7CmF0ID0gITE7Cl8oKTsKfQpmdW5jdGlvbiBBKCkgewppZiAoIW9lLm1vYmlsZSkgewpIKCJBUEkgdXBkYXRlOiBzaG93QnViYmxlIik7CmF0ID0gITA7CmMoITApOwpyZS5hcGlfYnViYmxlID0gITA7CmF0ID0gITE7CmwoKTsKfQp9CmZ1bmN0aW9uIGsoKSB7CmlmICghb2UubW9iaWxlKSB7CkgoIkFQSSB1cGRhdGU6IGhpZGVCdWJibGUiKTsKYXQgPSAhMDsKYyghMSk7CnJlLmFwaV9idWJibGUgPSAhMDsKYXQgPSAhMTsKbCgpOwp9Cn0KZnVuY3Rpb24gSSgpIHsKaWYgKCFvZS5tb2JpbGUpIHsKSCgiQVBJIHVwZGF0ZTogcmVzZXRCdWJibGUiKTsKYXQgPSAhMDsKYWUucmVzZXRCdWJibGVVc2VySGlkZGVuKCk7CmMoITApOwpyZS5hcGlfYnViYmxlID0gITA7CmF0ID0gITE7CmwoKTsKfQp9CmZ1bmN0aW9uIFQoKSB7CmlmICgocXQgPT09IHRlLkJVVFRPTiB8fCByZS5tb2JpbGVfbm90aWZpY2F0aW9uc19pZ25vcmVfY2hhdF9idXR0b25fdmlzaWJpbGl0eSAmJiBxdCAhPT0gdGUuV0lORE9XKSAmJiAhcmUuZGlzYWJsZV9tb2JpbGVfbm90aWZpY2F0aW9ucykgewp1dCA9ICEwOwpfKCk7Cn0KfQpmdW5jdGlvbiBOKCkgewp1dCA9ICExOwpfKCk7Cn0KZnVuY3Rpb24gQih0KSB7Ckd0KHQpICYmICh0ID0gITApOwpyZS5kaXNhYmxlX21vYmlsZV9ub3RpZmljYXRpb25zID0gdDsKfQpmdW5jdGlvbiBEKHQpIHsKR3QodCkgJiYgKHQgPSAhMCk7CnJlLm1vYmlsZV9ub3RpZmljYXRpb25zX2lnbm9yZV9jaGF0X2J1dHRvbl92aXNpYmlsaXR5ID0gdDsKfQpmdW5jdGlvbiBFKCkgewpTdC51cGRhdGUoITApOwp9CmZ1bmN0aW9uIE8oKSB7CkF0LnVwZGF0ZSghMCk7Cn0KZnVuY3Rpb24gTCgpIHsKa3QudXBkYXRlKCEwKTsKfQpmdW5jdGlvbiBXKCkgewprdC51cGRhdGUoITEpOwp9CmZ1bmN0aW9uIFAodCkgewpDdC51cGRhdGUodCk7Cn0KZnVuY3Rpb24gUih0KSB7CkJ0LnVwZGF0ZSh0KTsKfQpmdW5jdGlvbiBGKCkgewppZiAoIVd0LmdldFZhbHVlKCkpIHsKYWUuc2hvd01lbnUoInByb2ZpbGVfbWVudSIpOwpEdC51cGRhdGUoRXQuZ2V0VmFsdWUoKSA/IE90LmdldFZhbHVlKCkgPyAxIDogMiA6IG9lLm1vYmlsZSA/IDIgOiBMdC5nZXRWYWx1ZSgpID8gMCA6IDIpOwp9Cn0KZnVuY3Rpb24gTSgpIHsKcmV0dXJuIHJlOwp9CmZ1bmN0aW9uIFYodCwgZSwgaSkgewp0ICYmIFh0KHQuYmluZFZhbHVlKSAmJiB0LmJpbmRWYWx1ZShmdW5jdGlvbih0KSB7CmlmIChvZVtlXSAhPSB0KSB7Cm9lW2VdID0gdDsKWHQoaSkgJiYgaSgpOwp9Cn0pOwp9CmZ1bmN0aW9uIEgodCkge30KZnVuY3Rpb24gcSh0LCBlKSB7fQpmdW5jdGlvbiB6KCkgewpkdCA9IHZvaWQgMDsKdXQgPSB2b2lkIDA7CnJlID0gewphcGlfZGlzcGxheTogITEsCmFwaV9zdGFjazogITEsCmFwaV9idWJibGU6ICExCn07Cn0KdmFyIFUsIEcsIFksIFgsIFosIFEsIEssIEosIHR0LCBldCwgaXQsIG50LCBvdCwgcnQsIGF0LCBzdCwgX3QsIGx0LCBkdCwgdXQsIGN0LCBodCwgZnQsIGd0LCBwdCwgbXQsICR0LCBidCwgd3QsIHh0LCB2dCwgeXQsIGp0LCBDdCwgU3QsIEF0LCBrdCwgSXQsIFR0LCBOdCwgQnQsIER0LCBFdCwgT3QsIEx0LCBXdCwgUHQsIFJ0LCBGdCwgTXQsIFZ0LCBIdCwgcXQsIHp0LCBVdCA9IGkoMTQpLCBHdCA9IGkoMjUpLCBZdCA9IGkoMzEpLCBYdCA9IGkoMjApLCBadCA9IGkoNiksIFF0ID0gaSg3MSksIEt0ID0gaSgzNTcpLCBKdCA9IGkoMzU2KSwgdGUgPSB7ClVOREVGSU5FRDogInVuZGVmaW5lZCIsCk5PTkU6ICJub25lIiwKQlVUVE9OOiAiYnV0dG9uIiwKQkFOTkVSOiAiYmFubmVyIiwKV0lORE9XOiAid2luZG93IiwKTk9USUZJQ0FUSU9OOiAibm90aWZpY2F0aW9uIgp9LCBlZSA9IHsKTkVXX0NIQVRfRk9STTogIm5ld19jaGF0X2Zvcm0iLApQUkVfQ0hBVF9PRkZMSU5FX0ZPUk06ICJwcmVfY2hhdF9vZmZsaW5lX2Zvcm0iLApDSEFUX1BBTkVMOiAiY2hhdF9wYW5lbCIsClBPU1RfQ0hBVF9GT1JNOiAicG9zdF9jaGF0X2Zvcm0iLApDT09LSUVfRk9STTogImNvb2tpZV9mb3JtIiwKQ0FSRF9GT1JNOiAiY2FyZF9mb3JtIiwKQUdFTlRfTElTVDogImFnZW50X2xpc3QiLApBQk9VVF9QQU5FTDogImFib3V0X3BhbmVsIiwKUkFUSU5HX1BBTkVMOiAicmF0aW5nX3BhbmVsIgp9LCBpZSA9IHsKQ09PS0lFX0xBVzogImNvb2tpZV9sYXciLApSRUFUVEFDSEVEOiAicmVhdHRhY2hlZCIsClJFR0lTVEVSRUQ6ICJyZWdpc3RlcmVkIiwKRkFTVF9JTklUOiAiZmFzdF9pbml0Igp9LCBuZSA9IHsKT05MSU5FOiAib25saW5lIiwKQVdBWTogImF3YXkiLApPRkZMSU5FOiAib2ZmbGluZSIsCkJBTk5FRDogImJhbm5lZCIKfSwgb2UgPSB7fSwgcmUgPSB7CmFwaV9kaXNwbGF5OiAhMSwKYXBpX3N0YWNrOiAhMSwKYXBpX2J1YmJsZTogITEKfSwgYWUgPSBVdC5leHRlbmQoewppbml0OiBuCn0pLCBzZSA9IE47CnQuZXhwb3J0cyA9IGFlOwp9LCBmdW5jdGlvbih0LCBlKSB7CnZhciBpID0gZnVuY3Rpb24odCkgewpyZXR1cm4gZnVuY3Rpb24odCwgZSkgewpyZXR1cm4gZSA/IG51bGwgPT0gdCA6IHZvaWQgMCA9PT0gdDsKfTsKfSgpOwp0LmV4cG9ydHMgPSBpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4oKSB7ClMgPSBBID0gayA9ICExOwpJID0gW107ClQgPSBbXTsKTiA9IFtdOwpCID0gW107CkQgPSBbXTsKRSA9IFtdOwpPID0gW107ClcgPSB7fTsKQyA9IEgucm9vdDsKQy4kKCJjb25uZWN0aW9uIikuJCgic3RhdHVzJHN0cmluZyIpLmJpbmRWYWx1ZShvKTsKQy4kKCJjb25uZWN0aW9uIikuJCgibWVzc2FnZSRzdHJpbmciKS5iaW5kVmFsdWUocik7CkwgPSBDLiQoInRtcCIpLiQoImFwaV9zZXR0aW5ncyIpOwpQID0gQy4kKCJ0bXAiKS4kKCJzZXJ2ZXJfc2V0dGluZ3MiKTsKRy5iaW5kVG9Db25uZWN0aW9uU3RhdHVzKEMuJCgiY29ubmVjdGlvbiIpLiQoInN0YXR1cyRzdHJpbmciKSk7ClIgPSB3aW5kb3cuekUgPyAid2ViX3dpZGdldCIgOiAic3RhbmRhbG9uZSI7Cn0KZnVuY3Rpb24gbyh0KSB7CmlmICgicmVhdHRhY2hlZCIgPT0gdCkgewprID0gITA7Cl8oKTsKfSBlbHNlIGlmICgicmVnaXN0ZXJlZCIgPT0gdCB8fCAiY29va2llX2xhdyIgPT0gdCkgewpBID0gITA7CnMoKTsKfQp9CmZ1bmN0aW9uIHIodCkgewppZiAoImZhc3RfaW5pdCIgPT0gdCkgewpTID0gITA7CmEoKTsKfQp9CmZ1bmN0aW9uIGEoKSB7CmMoSSk7CkkubGVuZ3RoID0gMDsKYyhCKTsKfQpmdW5jdGlvbiBzKCkgewpjKFQpOwpULmxlbmd0aCA9IDA7CmMoRCk7Cn0KZnVuY3Rpb24gXygpIHsKYyhOKTsKTi5sZW5ndGggPSAwOwpjKEUpOwp9CmZ1bmN0aW9uIGwodCwgZSkgewplICYmIEIucHVzaCh0KTsKUyA/IGgodCkgOiBlIHx8IEkucHVzaCh0KTsKfQpmdW5jdGlvbiBkKHQsIGUpIHsKZSAmJiBELnB1c2godCk7CkEgPyBoKHQpIDogZSB8fCBULnB1c2godCk7Cn0KZnVuY3Rpb24gdSh0LCBlKSB7CmUgJiYgRS5wdXNoKHQpOwprID8gaCh0KSA6IGUgfHwgTi5wdXNoKHQpOwp9CmZ1bmN0aW9uIGModCkgewppZiAodCAmJiBGKHQpKSBmb3IgKHZhciBlID0gMDsgZSA8IHQubGVuZ3RoOyBlKyspIGgodFtlXSk7Cn0KZnVuY3Rpb24gaCh0KSB7CnZhciBlID0gWi5jYWxsKGFyZ3VtZW50cywgMSk7CnRyeSB7CnQuYXBwbHkobnVsbCwgZSk7Cn0gY2F0Y2ggKGUpIHsKaWYgKCF3aW5kb3cuY29uc29sZSkgcmV0dXJuOwppZiAoIU0od2luZG93LmNvbnNvbGUubG9nKSkgcmV0dXJuOwp2YXIgaSA9ICJFcnJvciBpbiBMaXZlQ2hhdEFQSSBjYWxsIiwgbiA9IFtdOwplLm5hbWUgJiYgbi5wdXNoKGUubmFtZSk7CmUubWVzc2FnZSAmJiBuLnB1c2goZS5tZXNzYWdlKTsKbi5sZW5ndGggJiYgKGkgKz0gIjogIiArIG4uam9pbigiIC0gIikpOwp3aW5kb3cuY29uc29sZS5sb2coaSk7Ck0od2luZG93LmNvbnNvbGUuZGlyKSAmJiB3aW5kb3cuY29uc29sZS5kaXIoZSk7CndpbmRvdy5jb25zb2xlLmxvZyh0LnRvU3RyaW5nKCkpOwp9Cn0KZnVuY3Rpb24gZih0KSB7CnJldHVybiBmdW5jdGlvbigpIHsKdmFyIGUgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpOwpzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewp0LmFwcGx5KG51bGwsIGUpOwp9LCAwKTsKfTsKfQpmdW5jdGlvbiBnKHQpIHsKcmV0dXJuIFEudGVzdCh0KTsKfQpmdW5jdGlvbiBwKHQpIHsKcS5mdWxseUV4dGVuZChXLCB0KTsKTCAmJiBMLnVwZGF0ZShXKTsKfQpmdW5jdGlvbiBtKHQpIHsKcS5mdWxseURlbGV0ZShXLCB0KTsKaWYgKEwpIHsKTC51cGRhdGUobnVsbCk7CkwudXBkYXRlKFcpOwp9Cn0KZnVuY3Rpb24gJCh0KSB7CnJldHVybiB0ID8gUC5nZXRWYWx1ZSh0KSA6IFAuZ2V0VmFsdWUoKTsKfQpmdW5jdGlvbiBiKHQsIGUpIHsKTy5wdXNoKFsgdCwgZSBdKTsKfQpmdW5jdGlvbiB3KCkgewpyZXR1cm4gTzsKfQpmdW5jdGlvbiB4KCkgewp2YXIgdDsKdHJ5IHsKdCA9IFUucGFyc2UoVigpLmdldCgiYXBpX2NhbGxzIikpOwp9IGNhdGNoICh0KSB7fQpyZXR1cm4gRih0KSA/IHQgOiBbXTsKfQpmdW5jdGlvbiB2KCkgewpyZXR1cm4gWTsKfQpmdW5jdGlvbiB5KHQsIGUsIGkpIHsKcmV0dXJuIHoucmF0ZUxpbWl0KHQsIHsKaW50ZXJ2YWw6IGkuaW50ZXJ2YWwsCmxpbWl0OiBpLmxpbWl0LApjYWxsYmFjazogZnVuY3Rpb24oKSB7CndpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLmxvZyAmJiB3aW5kb3cuY29uc29sZS5sb2coWC5nZXRQcmVmaXgoKSArICI6ICIgKyBlICsgIiBoYXMgYmVlbiByYXRlbGltaXRlZC4gVGhpcyBjYWxsIGhhcyBiZWVuIGlnbm9yZWQuIik7Cn0KfSk7Cn0KZnVuY3Rpb24gaih0KSB7CkcuaW5jcmVtZW50KCJqc2FwaS51c2FnZSIsIFsgInNvdXJjZToiICsgUiwgIm1ldGhvZDoiICsgdCBdKTsKfQp2YXIgQywgUywgQSwgaywgSSwgVCwgTiwgQiwgRCwgRSwgTywgTCwgVywgUCwgUiwgRiA9IGkoMjEpLCBNID0gaSgyMCksIFYgPSBpKDM2KSwgSCA9IGkoNiksIHEgPSBpKDExKSwgeiA9IGkoMzU5KSwgVSA9IGkoNTYpLCBHID0gaSgzNTgpLCBZID0gIlplbmRlc2sgQ2hhdCIsIFggPSB7CmluaXQ6IG4sCmNhbGxOb3c6IGgsCmhhbmRsZURlbGF5ZWQ6IGMsCmNhbGxPbkZhc3RJbml0OiBsLApjYWxsT25SZWdpc3RlcmVkOiBkLApjYWxsT25SZWF0dGFjaGVkOiB1LAppc0hleENvbG9yOiBnLApnZXRDYWxsYmFja0NhbGxlcjogZiwKc2F2ZUFQSVNldHRpbmdzOiBwLApyZXNldEFQSVNldHRpbmdzOiBtLApnZXRTZXJ2ZXJTZXR0aW5nczogJCwKc2F2ZVBvcG91dEFQSUNhbGxzOiBiLApnZXRQb3BvdXRBUElDYWxsczogdywKcGFyc2VBUElGcm9tUXVlcnk6IHgsCmdldFByZWZpeDogdiwKcmF0ZUxpbWl0OiB5LAppbnN0cnVtZW50OiBqCn0sIFogPSBBcnJheS5wcm90b3R5cGUuc2xpY2UsIFEgPSAvXiNbMC05QS1GXXs2fSQvaTsKdC5leHBvcnRzID0gWDsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0Fic29sdXRlUGFkZGluZ0NvbnRhaW5lciA9IGkoMTY1KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19BYnNvbHV0ZVBhZGRpbmdDb250YWluZXIsICIiLCAiIiwgW10sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIGggPSBmdW5jdGlvbigpIHsKdmFyIHQgPSBpKDYpLCBlID0gaSg5KSwgbiA9IHQucm9vdC4kKCJsaXZlY2hhdCIpLiQoInVpIikuJCgibW9iaWxlJGJvb2wiKS5nZXRWYWx1ZSgpLCBvID0gYy5zZXRBYnNQYWRkaW5nQm90dG9tOwpjLnNldEFic1BhZGRpbmdCb3R0b20gPSBmdW5jdGlvbigpIHsKbiB8fCBvLmFwcGx5KGMsIGFyZ3VtZW50cyk7Cn07CiFmdW5jdGlvbigpIHsKZS5tb2JpbGUoYyk7CmUudGFibGV0KGMpOwp9KCk7Cn0oKTsKZm9yICh2YXIgZiBpbiBoKSBjW2ZdID0gaFtmXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0Fic29sdXRlUGFkZGluZ0NvbnRhaW5lci5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjoge30sCiImLm1vYmlsZSI6IHsKbWFyZ2luOiAiMCBhdXRvIiwKaGVpZ2h0OiAiYXV0byIsCmJvcmRlcjogIm5vbmUiLAptYXhXaWR0aDogIiQkbW9iaWxlTWF4V2lkdGhTIgp9LAoiJi50YWJsZXQiOiB7Cm1heFdpZHRoOiAiJCRtb2JpbGVNYXhXaWR0aCIKfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQWJzb2x1dGVQYWRkaW5nQ29udGFpbmVyLCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93Q29udGVudCIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUpIHsKZnVuY3Rpb24gaSh0KSB7CnJldHVybiAibnVtYmVyIiA9PSB0eXBlb2YgdDsKfQp0LmV4cG9ydHMgPSBpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19qeF91aV9XaWRnZXQgPSBpKDcpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgImlubmVyIiwgIiIsIFtdLCB7CmlkOiAiaW5uZXIiLAphZGRDbGFzczogInNjcm9sbGFibGVfaW5uZXIiLApjb250YWluZXI6ICJkZWZhdWx0Igp9IF0sIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICIiLCAiIiwgW10sIHsKYWRkQ2xhc3M6ICJzY3JvbGxhYmxlX2ZpeGVkX3RvcCIKfSBdLCBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFtdLCB7CmFkZENsYXNzOiAic2Nyb2xsYWJsZV9maXhlZF9ib3R0b20iCn0gXSBdLCB7CiJ4bWxuczp1aSI6ICJqeC51aSIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CnZhciBoID0gcy5nZXQobyArICJfX2lubmVyIik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CmMuZGVmYXVsdFBsYWNlbWVudCA9IGg7CnZhciBmID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoKSB7CmEgJiYgd2luZG93LmNsZWFyVGltZW91dChhKTsKYSA9IHdpbmRvdy5zZXRUaW1lb3V0KGUsIDEwKTsKfQpmdW5jdGlvbiBlKCkgewphICYmIHdpbmRvdy5jbGVhclRpbWVvdXQoYSk7CmEgPSBudWxsOwppZiAoYy5kb20pIHsKY1tuKCkgPyAiYWRkQ2xhc3MiIDogInJlbW92ZUNsYXNzIl0oInNjcm9sbF90b3AiKTsKY1tvKCkgPyAiYWRkQ2xhc3MiIDogInJlbW92ZUNsYXNzIl0oInNjcm9sbF9ib3R0b20iKTsKY1tyKCkgPyAiYWRkQ2xhc3MiIDogInJlbW92ZUNsYXNzIl0oInNjcm9sbGFibGUiKTsKfQp9CmZ1bmN0aW9uIG4oKSB7CnJldHVybiAhaC5nZXRTY3JvbGxUb3AoKTsKfQpmdW5jdGlvbiBvKCkgewpyZXR1cm4gaC5nZXRTY3JvbGxUb3AoKSArIGguZ2V0SGVpZ2h0KCkgPj0gaC5nZXRTY3JvbGxIZWlnaHQoKTsKfQpmdW5jdGlvbiByKCkgewpyZXR1cm4gaC5nZXRTY3JvbGxIZWlnaHQoKSA+IGguZ2V0SGVpZ2h0KCk7Cn0KdmFyIGEsIHMgPSBpKDYpLCBfID0gaSg5KSwgbCA9IHMucm9vdC4kKCJsaXZlY2hhdCIpLiQoInVpIikuJCgidGhlbWVfbG9hZGVkJGJvb2wiKSwgZCA9IHMucm9vdC4kJCgibGl2ZWNoYXQudWkubW9iaWxlJGJvb2wiKTsKaC5vbigic2Nyb2xsIiwgdCk7CmMudXBkYXRlU2Nyb2xsU3R5bGVzID0gdDsKYy5nZXRTY3JvbGxIZWlnaHQgPSBmdW5jdGlvbigpIHsKcmV0dXJuIGguZ2V0U2Nyb2xsSGVpZ2h0KCk7Cn07CmMuZ2V0U2Nyb2xsVG9wID0gZnVuY3Rpb24oKSB7CnJldHVybiBoLmdldFNjcm9sbFRvcCgpOwp9OwpjLmdldEhlaWdodCA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gaC5nZXRIZWlnaHQoKTsKfTsKYy5zZXRTY3JvbGxUb3AgPSBmdW5jdGlvbih0KSB7CnJldHVybiBoLnNldFNjcm9sbFRvcCh0KTsKfTsKIWZ1bmN0aW9uKCkgewpjLmF1dG9iaW5kKGwsICJ2YWx1ZSIsIHQpOwp0KCk7Cl8ubW9iaWxlKGMpOwpfLnBvcG91dChjKTsKXy53aW5kb3dTaXplKGMsICJzZl8iKTsKZC5nZXRWYWx1ZSgpICYmIGMuYWRkQ2xhc3MoIm1vYmlsZSIpOwp9KCk7Cn0oKTsKZm9yICh2YXIgZyBpbiBmKSBjW2ddID0gZltnXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfV2lkZ2V0LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYsIC5zY3JvbGxhYmxlX2lubmVyIjogewpwb3NpdGlvbjogInJlbGF0aXZlIiwKIndpZHRoLCBoZWlnaHQiOiAiMTAwJSIKfSwKIi5zY3JvbGxhYmxlX2lubmVyIjogewpvdmVyZmxvd1g6ICJoaWRkZW4iLApvdmVyZmxvd1k6ICJhdXRvIiwKcGFkZGluZ0JvdHRvbTogIjAgIWltcG9ydGFudCIKfSwKIi5zY3JvbGxhYmxlX2ZpeGVkX3RvcCwgLnNjcm9sbGFibGVfZml4ZWRfYm90dG9tIjogewpwb3NpdGlvbjogImFic29sdXRlIiwKImxlZnQsIHJpZ2h0IjogMCwKcG9pbnRlckV2ZW50czogIm5vbmUiCn0sCiIuc2Nyb2xsYWJsZV9maXhlZF90b3AiOiB7CnRvcDogMCwKaGVpZ2h0OiAiJCRzY3JvbGxhYmxlRnJhbWVUb3BIZWlnaHQiLApiYWNrZ3JvdW5kOiAiJCRzY3JvbGxhYmxlRnJhbWVUb3BCYWNrZ3JvdW5kIiwKYmFja2dyb3VuZENvbG9yOiAiJCRzY3JvbGxhYmxlRnJhbWVUb3BCYWNrZ3JvdW5kQ29sb3IiCn0sCiIuc2Nyb2xsYWJsZV9maXhlZF9ib3R0b20iOiB7CmJvdHRvbTogMCwKaGVpZ2h0OiAiJCRzY3JvbGxhYmxlRnJhbWVCb3R0b21IZWlnaHQiLApiYWNrZ3JvdW5kOiAiJCRzY3JvbGxhYmxlRnJhbWVCb3R0b21CYWNrZ3JvdW5kIiwKYmFja2dyb3VuZENvbG9yOiAiJCRzY3JvbGxhYmxlRnJhbWVCb3R0b21CYWNrZ3JvdW5kQ29sb3IiCn0sCiImLnNjcm9sbF90b3AgLnNjcm9sbGFibGVfZml4ZWRfdG9wIjogewpkaXNwbGF5OiAibm9uZSIKfSwKIiYuc2Nyb2xsX2JvdHRvbSAuc2Nyb2xsYWJsZV9maXhlZF9ib3R0b20iOiB7CmRpc3BsYXk6ICJub25lIgp9LAoiJi5zY3JvbGwgLnNjcm9sbGFibGVfaW5uZXIiOiB7fSwKIiYuc2Zfc21hbGwiOiB7CnBhZGRpbmc6ICIkJHNjcm9sbGFibGVGcmFtZVBhZGRpbmdTbWFsbCIsCiIuc2Nyb2xsYWJsZV9pbm5lciI6IHsKcGFkZGluZzogIiQkc2Nyb2xsYWJsZUZyYW1lSW5uZXJQYWRkaW5nU21hbGwiCn0KfSwKIiYuc2ZfbWVkaXVtIjogewpwYWRkaW5nOiAiJCRzY3JvbGxhYmxlRnJhbWVQYWRkaW5nTWVkaXVtIiwKIi5zY3JvbGxhYmxlX2lubmVyIjogewpwYWRkaW5nOiAiJCRzY3JvbGxhYmxlRnJhbWVJbm5lclBhZGRpbmdNZWRpdW0iCn0KfSwKIiYuc2ZfbGFyZ2UiOiB7CnBhZGRpbmc6ICIkJHNjcm9sbGFibGVGcmFtZVBhZGRpbmdMYXJnZSIsCiIuc2Nyb2xsYWJsZV9pbm5lciI6IHsKcGFkZGluZzogIiQkc2Nyb2xsYWJsZUZyYW1lSW5uZXJQYWRkaW5nTGFyZ2UiCn0KfSwKIiYucG9wb3V0IjogewoiQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiAzMDBweCkiOiB7CnBhZGRpbmc6ICIkJHNjcm9sbGFibGVGcmFtZVBhZGRpbmdTbWFsbCIsCiIuc2Nyb2xsYWJsZV9pbm5lciI6IHsKcGFkZGluZzogIiQkc2Nyb2xsYWJsZUZyYW1lSW5uZXJQYWRkaW5nU21hbGwiCn0KfSwKIkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogMzAwcHgpIGFuZCAobWF4LXdpZHRoOiA1MDBweCkiOiB7CnBhZGRpbmc6ICIkJHNjcm9sbGFibGVGcmFtZVBhZGRpbmdNZWRpdW0iLAoiLnNjcm9sbGFibGVfaW5uZXIiOiB7CnBhZGRpbmc6ICIkJHNjcm9sbGFibGVGcmFtZUlubmVyUGFkZGluZ01lZGl1bSIKfQp9LAoiQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA1MDBweCkiOiB7CnBhZGRpbmc6ICIkJHNjcm9sbGFibGVGcmFtZVBhZGRpbmdMYXJnZSIsCiIuc2Nyb2xsYWJsZV9pbm5lciI6IHsKcGFkZGluZzogIiQkc2Nyb2xsYWJsZUZyYW1lSW5uZXJQYWRkaW5nTGFyZ2UiCn0KfQp9LAoiJi5tb2JpbGUiOiB7CmJvcmRlckJvdHRvbTogIm5vbmUiLAoiLnNjcm9sbGFibGVfaW5uZXIiOiB7CnBhZGRpbmc6ICIxMHB4Igp9Cn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfV2lkZ2V0LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19TY3JvbGxhYmxlRnJhbWUiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4odCwgZSwgaSwgbywgcikgewppZiAoISh0aGlzIGluc3RhbmNlb2YgbikpIHJldHVybiBuZXcgbih0LCBlLCBpLCBvLCByKTsKciB8fCAociA9IHt9KTsKci50YWdOYW1lID0gInNwYW4iOwphLmNhbGwodGhpcywgdCwgZSwgaSwgbywgcik7Cn0KdmFyIG8gPSBpKDEpLCByID0gaSgwKSwgYSA9IGkoMjMpOwpuLnByb3RvdHlwZSA9IHIoYS5wcm90b3R5cGUpOwpvKG4sIGEsIHsKZnFuYW1lOiAianhfdWlfaHRtbF9zcGFuIgp9KTsKdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24odCwgZSkgewpmdW5jdGlvbiBpKHQpIHsKInVzZSBzdHJpY3QiOwppZiAobnVsbCA9PSB0aGlzKSB0aHJvdyBuZXcgVHlwZUVycm9yKCk7CnZhciBlID0gT2JqZWN0KHRoaXMpLCBpID0gZS5sZW5ndGggPj4+IDA7CmlmICgwID09PSBpKSByZXR1cm4gLTE7CnZhciBuID0gMDsKaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAwKSB7Cm4gPSBOdW1iZXIoYXJndW1lbnRzWzFdKTsKbiAhPSBuID8gbiA9IDAgOiAwICE9IG4gJiYgbiAhPSAxIC8gMCAmJiBuICE9IC0xIC8gMCAmJiAobiA9IChuID4gMCB8fCAtMSkgKiBNYXRoLmZsb29yKE1hdGguYWJzKG4pKSk7Cn0KaWYgKG4gPj0gaSkgcmV0dXJuIC0xOwpmb3IgKHZhciBvID0gbiA+PSAwID8gbiA6IE1hdGgubWF4KGkgLSBNYXRoLmFicyhuKSwgMCk7IG8gPCBpOyBvKyspIGlmIChvIGluIGUgJiYgZVtvXSA9PT0gdCkgcmV0dXJuIG87CnJldHVybiAtMTsKfQpmdW5jdGlvbiBuKHQsIGUsIGkpIHsKcmV0dXJuIG8uY2FsbChlLCB0LCBpKTsKfQp2YXIgbyA9IEFycmF5LnByb3RvdHlwZS5pbmRleE9mOwoiZnVuY3Rpb24iID09IHR5cGVvZiBvICYmIC9cW25hdGl2ZSBjb2RlXF0vLnRlc3Qoby50b1N0cmluZygpKSB8fCAobyA9IGkpOwp0LmV4cG9ydHMgPSBuOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19qeF91aV9XaWRnZXQgPSBpKDcpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFtdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCmFkZENsYXNzOiAiYm90dG9tIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIGggPSBmdW5jdGlvbigpIHsKdmFyIHQgPSBpKDkpOwohZnVuY3Rpb24oKSB7CnQubW9iaWxlKGMpOwp0LndpbmRvd1NpemUoYywgImJvdHRvbV8iKTsKfSgpOwp9KCk7CmZvciAodmFyIGYgaW4gaCkgY1tmXSA9IGhbZl07CmMuZmlyZSAmJiBjLmZpcmUoImluaXQiKTsKYy5zZXRTdHlsZSAmJiBjLnNldFN0eWxlKHIpOwpjLnNldEF0dHJpYnV0ZXMgJiYgYy5zZXRBdHRyaWJ1dGVzKGwpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBjLmFkZENoaWxkcmVuID8gYy5hZGRDaGlsZHJlbihfKSA6IHMuYWRkQ2hpbGRyZW4oYywgXyk7CmlmIChjICE9PSB0aGlzKSB7CmMuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpjLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBjOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2p4X3VpX1dpZGdldC5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewpwb3NpdGlvbjogImFic29sdXRlIiwKImJvdHRvbSwgbGVmdCI6IDAsCndpZHRoOiAiMTAwJSIsCnRleHRBbGlnbjogImNlbnRlciIsCiIqb3ZlcmZsb3ciOiAiaGlkZGVuIiwKcGFkZGluZ1RvcDogIiQkbWFyZ2luIiwKcGFkZGluZ0JvdHRvbTogMCwKaGVpZ2h0OiAiJCRib3R0b21IZWlnaHQiLApib3JkZXJXaWR0aDogIiQkYm90dG9tQm9yZGVyV2lkdGgiLApib3JkZXJTdHlsZTogIiQkYm90dG9tQm9yZGVyU3R5bGUiLApib3JkZXJDb2xvcjogIiQkYm90dG9tQm9yZGVyQ29sb3IiLAoiJi5ib3R0b21fcGFkZGluZ19ib3R0b20iOiB7CnBhZGRpbmdCb3R0b206ICIkJG1hcmdpbiIsCmhlaWdodDogIiQkYm90dG9tSGVpZ2h0Qm90dG9tUGFkZGluZyIKfSwKIiYuYm90dG9tX3NtYWxsIjogewoicGFkZGluZ0xlZnQsIHBhZGRpbmdSaWdodCI6ICIxMHB4Igp9LAoiJi5ib3R0b21fbWVkaXVtIjogewoicGFkZGluZ0xlZnQsIHBhZGRpbmdSaWdodCI6ICIyMHB4Igp9LAoiJi5ib3R0b21fbGFyZ2UiOiB7CiJwYWRkaW5nTGVmdCwgcGFkZGluZ1JpZ2h0IjogIjUwcHgiCn0KfSwKIiYubm90ZSI6IHsKaGVpZ2h0OiAiYXV0byIsCmZvbnRTaXplOiAiJCRmb250U2l6ZVhTIiwKcGFkZGluZzogIiQkbWFyZ2luIiwKYm9yZGVyV2lkdGg6ICIkJGJvdHRvbU5vdGVCb3JkZXJXaWR0aCIsCmJvcmRlclN0eWxlOiAiJCRib3R0b21Ob3RlQm9yZGVyU3R5bGUiLApib3JkZXJDb2xvcjogIiQkYm90dG9tTm90ZUJvcmRlckNvbG9yIgp9LAoiJi5wYWRkaW5nX2JvdHRvbSI6IHsKaGVpZ2h0OiAiJCRib3R0b21IZWlnaHRCb3R0b21QYWRkaW5nIgp9LAoiJi5tb2JpbGUiOiB7CnBvc2l0aW9uOiAicmVsYXRpdmUiLApwYWRkaW5nOiAiJCRtYXJnaW4iLApoZWlnaHQ6ICJhdXRvIgp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX2p4X3VpX1dpZGdldCwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfQm90dG9tIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKCkgewptID0gTC50aHJvdHRsZShyLCAyZTMpOwokID0gTC5kZWJvdW5jZShhLCAxMDApOwpiID0gVy5yb290LiQoImxpdmVjaGF0Iik7CncgPSBiLiQoImNoYW5uZWwiKTsKeCA9IHcuJCgiY2hhdHRpbmckYm9vbCIpOwpqID0gdy4kKCJsb2ciKTsKeSA9IHcuJCgicmF0aW5nJHN0cmluZyIpOwp2ID0gdy4kKCJsYXN0X3JlYWQiKTsKQSA9IGIuJCgicHJvZmlsZSIpLiQoIm5pY2skc3RyaW5nIik7ClMgPSBiLiQoInVpIikuJCgiY2hhdF9idXR0b24iKS4kKCJ1bnJlYWRfY291bnQkaW50Iik7CkkgPSAwOwpCID0gMDsKVCA9IDA7Ck4gPSBbXTsKdy5vbigidmFsdWUiLCBmdW5jdGlvbih0KSB7Cm51bGwgPT09IHQgJiYgKEUgPSBEID0gdm9pZCAwKTsKfSk7CkEub24oInZhbHVlIiwgZnVuY3Rpb24odCkgewppZiAodCAmJiB0ICE9PSBrKSB7CmsgJiYgdi4kKGspLiQoInRpbWVzdGFtcCRpbnQiKS51bigidmFsdWUiLCBsKTsKayA9IHQ7CnYuJCh0KS4kKCJ0aW1lc3RhbXAkaW50Iikub24oInZhbHVlIiwgbCk7Cn0KfSk7Cngub24oInZhbHVlIiwgZCk7Cmoub24oInZhbHVlIiwgZnVuY3Rpb24odCkgewpDID0gdDsKfSk7Cmoub24oImtleXMiLCBvKTsKfQpmdW5jdGlvbiBvKHQpIHsKaWYgKHQgJiYgdC5sZW5ndGggJiYgaykgewpmb3IgKHZhciBlLCBpLCBuLCBvLCByID0gMCwgYSA9IHQubGVuZ3RoOyByIDwgYTsgcisrKSB7CmUgPSBDW3Rbcl1dOwppZiAoZSkgewppID0gZS50aW1lc3RhbXAkaW50OwpuID0gZS50eXBlJHN0cmluZzsKbyA9IGUubmljayRzdHJpbmc7CmkgPiBCICYmIChCID0gaSk7CnN3aXRjaCAobikgewpjYXNlICJjaGF0LmNvbW1lbnQiOgp3LnVwZGF0ZSh7Cmxhc3RfY29tbWVudF90cyRpbnQ6IGkKfSk7CmJyZWFrOwoKY2FzZSAiY2hhdC5yYXRpbmciOgp3LnVwZGF0ZSh7Cmxhc3RfcmF0aW5nX3RzJGludDogaQp9KTsKYnJlYWs7CgpjYXNlICJjaGF0Lm1lbWJlcmpvaW4iOgpjYXNlICJjaGF0LmpvaW4iOgpQLmlzQWdlbnROaWNrKG8pICYmIHUoaSk7CmJyZWFrOwoKY2FzZSAiY2hhdC5tZW1iZXJsZWF2ZSI6ClAuaXNBZ2VudE5pY2sobykgPyBjKGkpIDogZigpOwpicmVhazsKCmNhc2UgImNoYXQubWVudGlvbiI6CmNhc2UgImNoYXQubXNnIjoKbyAhPSBrICYmIC0xID09PSBOLmluZGV4T2YoaSkgJiYgTi5wdXNoKGkpOwpfKGksIG8sIHRbcl0pOwoKZGVmYXVsdDoKUC5pc0FnZW50TmljayhvKSAmJiAwID09PSBJICYmIHUoaSk7Cn0KfQp9CiQoKTsKfQp9CmZ1bmN0aW9uIHIoKSB7CnguZ2V0VmFsdWUoKSAmJiBiLiQoInVpIikuJCgiY2hhdCIpLndyaXRlKHsKcmVhZF90cyRpbnQ6IEIKfSk7Cn0KZnVuY3Rpb24gYSgpIHsKZm9yICg7TlswXSA8PSBUOyApIE4uc2hpZnQoKTsKUy51cGRhdGUoTi5sZW5ndGgpOwp9CmZ1bmN0aW9uIHMoKSB7ClMudXBkYXRlKDApOwpOID0gW107Cm0oKTsKfQpmdW5jdGlvbiBfKHQsIGUsIGkpIHsKaWYgKGUgIT0gaykgewppZiAoIUQpIHsKRCA9IHQ7CncudXBkYXRlKHsKZmlyc3RfYWNjb3VudF9tc2dfaWQkc3RyaW5nOiBpLApmaXJzdF9hY2NvdW50X21zZ190cyRpbnQ6IHQKfSk7Cn0KfSBlbHNlIGlmICghRSkgewpFID0gdDsKdy51cGRhdGUoewpmaXJzdF92aXNpdG9yX21zZ190cyRpbnQ6IHQKfSk7Cn0KfQpmdW5jdGlvbiBsKHQpIHsKaWYgKCFPKHQsICEwKSkgewpUID0gdDsKQiA+IDAgJiYgJCgpOwp9Cn0KZnVuY3Rpb24gZCh0KSB7CmlmICghMSA9PT0gdCkgewpzKCk7CncuZ2V0VmFsdWUoInNlcnZlZCRib29sIikgJiYgZygpOwp9Cn0KZnVuY3Rpb24gdSh0KSB7CkkrKzsKaCh0KTsKfQpmdW5jdGlvbiBjKHQpIHsKSSA9IE1hdGgubWF4KEkgLSAxLCAwKTsKaCh0KTsKfQpmdW5jdGlvbiBoKHQpIHsKaWYgKDAgPT09IEkpIHcudXBkYXRlKHsKbGFzdF9hZ2VudF9sZWF2ZV90cyRpbnQ6IHQKfSk7IGVsc2UgewoxID09PSBJICYmIHcudXBkYXRlKHsKc2VydmVkJGJvb2w6ICEwCn0pOwp3LmdldFZhbHVlKCJsYXN0X2FnZW50X2xlYXZlX3RzJGludCIpICYmIHcudXBkYXRlKHsKbGFzdF9hZ2VudF9sZWF2ZV90cyRpbnQ6IG51bGwKfSk7Cn0KfQpmdW5jdGlvbiBmKCkgewpnKCk7Cn0KZnVuY3Rpb24gZygpIHsKSSA9IDA7CncudXBkYXRlKHsKc2VydmVkJGJvb2w6ICExLApmaXJzdF92aXNpdG9yX21zZ190cyRpbnQ6IG51bGwsCmZpcnN0X2FjY291bnRfbXNnX3RzJGludDogbnVsbCwKZmlyc3RfYWNjb3VudF9tc2dfaWQkc3RyaW5nOiBudWxsLApsYXN0X2FnZW50X2xlYXZlX3RzJGludDogbnVsbCwKbGFzdF9jb21tZW50X3RzJGludDogbnVsbCwKbGFzdF9yYXRpbmdfdHMkaW50OiBudWxsCn0pOwpFID0gRCA9IHZvaWQgMDsKQiA9IFQgPSAwOwpOID0gW107Cn0KZnVuY3Rpb24gcCgpIHsKZygpOwprID0gdm9pZCAwOwp9CnZhciBtLCAkLCBiLCB3LCB4LCB2LCB5LCBqLCBDLCBTLCBBLCBrLCBJLCBULCBOLCBCLCBELCBFLCBPID0gaSgyNSksIEwgPSBpKDM0KSwgVyA9IGkoNiksIFAgPSBpKDExKSwgUiA9IHsKaW5pdDogbiwKcmVzZXRVbnJlYWRDb3VudDogcywKdXBkYXRlVW5yZWFkQ291bnQ6ICQsCnJlc2V0U3RhdGU6IHAKfTsKdC5leHBvcnRzID0gUjsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQsIGUpIHsKZnVuY3Rpb24gaSgpIHsKcyA9ICFzOwp0LmFwcGx5KG8sIG4pOwp9CnZhciBuLCBvLCByLCBhLCBzID0gITA7CnJldHVybiBmdW5jdGlvbigpIHsKbiA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7Cm8gPSB0aGlzOwppZiAocykgewphID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKcyA9ICEwOwp9LCBlKTsKcmV0dXJuIGkoKTsKfQphICYmIGNsZWFyVGltZW91dChhKTsKciAmJiBjbGVhclRpbWVvdXQocik7CnIgPSBzZXRUaW1lb3V0KGksIGUpOwp9Owp9CmZ1bmN0aW9uIG8odCwgZSkgewpmdW5jdGlvbiBpKCkgewp0LmFwcGx5KG8sIG4pOwp9CnZhciBuLCBvLCByOwpyZXR1cm4gZnVuY3Rpb24oKSB7CnIgJiYgY2xlYXJUaW1lb3V0KHIpOwpuID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTsKbyA9IHRoaXM7CnIgPSBzZXRUaW1lb3V0KGksIGUpOwp9Owp9CmZ1bmN0aW9uIHIodCwgZSkgewpmdW5jdGlvbiBpKCkgewphID0gK25ldyBEYXRlKCk7CnIgPSBudWxsOwp0LmFwcGx5KG8sIG4pOwp9CnZhciBuLCBvLCByLCBhID0gMDsKcmV0dXJuIGZ1bmN0aW9uKCkgewpuID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTsKbyA9IHRoaXM7CmlmICghcikgewp2YXIgdCA9ICtuZXcgRGF0ZSgpIC0gYTsKdCA+PSBlID8gaSgpIDogciA9IHNldFRpbWVvdXQoaSwgZSAtIHQpOwp9Cn07Cn0KZnVuY3Rpb24gYSh0LCBlKSB7CmZ1bmN0aW9uIGkoKSB7CmEgPSArbmV3IERhdGUoKTsKbiA9IG8ubGVuZ3RoID4gMSA/IHNldFRpbWVvdXQoaSwgZSkgOiBudWxsOwp0LmFwcGx5KHIuc2hpZnQoKSwgby5zaGlmdCgpKTsKfQp2YXIgbiwgbyA9IFtdLCByID0gW10sIGEgPSAwOwpyZXR1cm4gZnVuY3Rpb24oKSB7Cm8ucHVzaChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTsKci5wdXNoKHRoaXMpOwppZiAoIW4pIHsKdmFyIHQgPSArbmV3IERhdGUoKSAtIGE7CnQgPj0gZSA/IGkoKSA6IG4gPSBzZXRUaW1lb3V0KGksIGUgLSB0KTsKfQp9Owp9CnZhciBzID0gKGkoNDApLCB7CmRlYm91bmNlRXhjZXB0Rmlyc3Q6IG4sCmRlYm91bmNlOiBvLAp0aHJvdHRsZTogciwKcXVldWU6IGEKfSk7CnQuZXhwb3J0cyA9IHM7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbigpIHsKcmV0dXJuIHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggPiB3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDsKfQpmdW5jdGlvbiBvKHQpIHsKfQpmdW5jdGlvbiByKCkgewpyZXR1cm4geSAmJiBwLnRlc3Qodik7Cn0KZnVuY3Rpb24gYSgpIHsKcmV0dXJuIHkgJiYgLyhpZW1vYmlsZXx3aW5kb3dzIHBob25lKS9pLnRlc3QoeCk7Cn0KZnVuY3Rpb24gcygpIHsKcmV0dXJuIHkgJiYgZi50ZXN0KHYpICYmICFnLnRlc3QoeCk7Cn0KZnVuY3Rpb24gXygpIHsKdmFyIHQgPSB3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLCBlID0gd2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsIGkgPSB0IC8gZSA+IGIsIG4gPSB3aW5kb3cuc2NyZWVuLndpZHRoLCBvID0gd2luZG93LnNjcmVlbi5oZWlnaHQ7CmlmIChpICYmIG4gPCBvKSB7CiEwOwpuID0gd2luZG93LnNjcmVlbi5oZWlnaHQ7Cm8gPSB3aW5kb3cuc2NyZWVuLndpZHRoOwp9CnZhciByID0gd2luZG93LmlubmVyV2lkdGgsIF8gPSB0IC8gbjsKd2luZG93LmRldmljZVBpeGVsUmF0aW8gJiYgcygpICYmICFkLmlzSU9TID8gXyAqPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA6IGEoKSAmJiAoXyAqPSAxLjUpOwp2YXIgbCA9IHQgLyByIC8gXzsKbCA9IChsIC8gai5NT0JJTEVfWk9PTV9BRERJVElPTkFMKS50b0ZpeGVkKDIpOwpyZXR1cm4gbDsKfQpmdW5jdGlvbiBsKCkgewp2YXIgdCA9IHdpbmRvdywgZSA9IHQuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCBpID0gdC5kb2N1bWVudC5ib2R5LCBuID0gbnVsbCwgbyA9IHsKdG9wOiAwLApsZWZ0OiAwCn07CnUoZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QpICYmICh1KHQuZ2V0Q29tcHV0ZWRTdHlsZSkgPyAicmVsYXRpdmUiID09IHQuZ2V0Q29tcHV0ZWRTdHlsZShpKS5wb3NpdGlvbiA/IG4gPSBpIDogInJlbGF0aXZlIiA9PSB0LmdldENvbXB1dGVkU3R5bGUoZSkucG9zaXRpb24gJiYgKG4gPSBlKSA6IGkuY3VycmVudFN0eWxlID8gInJlbGF0aXZlIiA9PSBpLmN1cnJlbnRTdHlsZS5wb3NpdGlvbiA/IG4gPSBpIDogInJlbGF0aXZlIiA9PSBlLmN1cnJlbnRTdHlsZS5wb3NpdGlvbiAmJiAobiA9IGUpIDogInJlbGF0aXZlIiA9PSBpLnN0eWxlLnBvc2l0aW9uID8gbiA9IGkgOiAicmVsYXRpdmUiID09IGUuc3R5bGUucG9zaXRpb24gJiYgKG4gPSBlKSk7CmlmIChuKSB7CnZhciByID0gbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKby50b3AgPSByLnRvcCArIHQucGFnZVlPZmZzZXQgLSBlLmNsaWVudFRvcDsKby5sZWZ0ID0gci5sZWZ0ICsgdC5wYWdlWE9mZnNldCAtIGUuY2xpZW50TGVmdDsKfQpyZXR1cm4gbzsKfQp2YXIgZCA9IGkoOCksIHUgPSBpKDIwKSwgYyA9IGkoMTc3KSwgaCA9IGkoMzgwKSwgZiA9IC9nb29nbGUgaW5jXC4vaSwgZyA9IC9jaHJvbWUvaSwgcCA9IC9hcHBsZSBjb21wdXRlciwgaW5jXC4vaSwgbSA9IC9jcmlvcy9pLCAkID0gL09TIChbXzAtOV0rKSBsaWtlIE1hYyBPUyBYL2ksIGIgPSAxLjQ1LCB3ID0gYy5nZXRWYXJpYWJsZSgibmF2aWdhdG9yIiksIHggPSB3LnVzZXJBZ2VudCB8fCAiIiwgdiA9IHcudmVuZG9yIHx8ICIiLCB5ID0gaCgpLCBqID0gewppc01vYmlsZUJyb3dzZXI6IHksCmlzTW9iaWxlV2hpdGVsaXN0OiBmdW5jdGlvbigpIHsKZm9yICh2YXIgdCwgZSA9IFsgLyhhbmRyb2lkIFsyLTldKXwoaWVtb2JpbGVcLyg/IVs1LTldKSl8KHVjYnJvd3Nlcil8KFdlYmtpdC4rQ2hyb21lKXwoaXBvZHxpcGhvbmV8aXBhZCkuK2FwcGxld2Via2l0LisoQ3JpT1N8VmVyc2lvblwvWzUtOV18TW9iaWxlKS9pIF0sIGkgPSAwLCBuID0gZS5sZW5ndGg7IGkgPCBuOyBpKyspIGlmIChlW2ldLnRlc3QoeCkpIHsKdCA9ICEwOwpicmVhazsKfQovYW5kcm9pZC4rdWNicm93c2VyL2kudGVzdCh4KSAmJiAodCA9ICExKTsKcmV0dXJuIHQ7Cn0oKSwKaXNNb2JpbGVUYWJsZXQ6IGZ1bmN0aW9uKCkgewp2YXIgdCwgZSA9IHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7CnQgPSBuKCkgPyBlID4gQyA6IGUgPiBTOwpyZXR1cm4gdDsKfSgpLAppc0FuZHJvaWQ6IGZ1bmN0aW9uKCkgewpyZXR1cm4geSAmJiBmLnRlc3Qodik7Cn0oKSwKaXNJT1M6IHIoKSwKaXNXUDogYSgpLAppc0lFTW9iaWxlOiBhKCksCmlzQ2hyb21lSU9TTW9iaWxlOiBmdW5jdGlvbigpIHsKcmV0dXJuIHkgJiYgcC50ZXN0KHYpICYmIG0udGVzdCh4KTsKfSgpLAppc1NhZmFyaUlPU01vYmlsZTogZnVuY3Rpb24oKSB7CnJldHVybiB5ICYmIHAudGVzdCh2KSAmJiAhbS50ZXN0KHgpOwp9KCksCmlzQ2hyb21lQW5kcm9pZE1vYmlsZTogZnVuY3Rpb24oKSB7CnJldHVybiB5ICYmIGYudGVzdCh2KSAmJiBnLnRlc3QoeCk7Cn0oKSwKaXNPcGVyYUFuZHJvaWRNb2JpbGU6IGZ1bmN0aW9uKCkgewpyZXR1cm4geSAmJiAvKG9wZXJhfG9wcikuKmFuZHJvaWR8YW5kcm9pZC4qKG9wZXJhfG9wcikvaS50ZXN0KHgpOwp9KCksCmlzTmF0aXZlQW5kcm9pZE1vYmlsZTogcygpLAppc1VDQnJvd3Nlck1vYmlsZTogZnVuY3Rpb24oKSB7CnJldHVybiB5ICYmIC91Y2Jyb3dzZXIvaS50ZXN0KHgpOwp9KCksCmlPU1ZlcnNpb246IGZ1bmN0aW9uKCkgewppZiAocigpKSB7CnZhciB0ID0geC5tYXRjaCgkKTsKcmV0dXJuIHQgJiYgcGFyc2VGbG9hdCh0WzFdLnNwbGl0KCJfIikuc2xpY2UoMCwgMikuam9pbigiLiIpKTsKfQp9KCksCmhpZGVWaXJ0dWFsS2V5Ym9hcmQ6IG8sCmNoZWNrTGFuZHNjYXBlOiBuLApnZXRab29tTGV2ZWw6IF8sCmdldE9mZnNldDogbCwKTU9CSUxFX1pPT01fQURESVRJT05BTDogMS4yCn0sIEMgPSA2NDAsIFMgPSAzMjA7CnQuZXhwb3J0cyA9IGo7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0KSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiBuKSkgewpfIHx8IG4uX2luaXRTaW5nbGV0b24od2luZG93KTsKcmV0dXJuIF87Cn0KaWYgKHQpIHJldHVybiBuLnBhcnNlUXVlcnkodCk7CnRoaXMuc3RvcmUgPSB7fTsKfQpmdW5jdGlvbiBvKHQsIGUsIGkpIHsKaWYgKHZvaWQgMCA9PT0gZSAmJiB2b2lkIDAgPT09IGkpIHJldHVybiB0Owp2b2lkIDAgPT09IGUgJiYgKGUgPSAic3RyaW5nIik7CmlmICghKGUgaW4gcykpIHRocm93ICJpbnZhbGlkIHR5cGUgcmVxdWVzdGVkIjsKcmV0dXJuIHZvaWQgMCA9PT0gdCA/IHZvaWQgMCAhPT0gaSA/IGkgOiBzW2VdIDogImJvb2xlYW4iID09PSBlID8gYS50ZXN0KHQpIDogImludGVnZXIiID09PSBlID8gITAgPT09IHQgPyAxIDogcGFyc2VJbnQodCwgMTApIDogImZsb2F0IiA9PT0gZSA/ICEwID09PSB0ID8gMSA6IHBhcnNlRmxvYXQodCkgOiB0Owp9CnZhciByID0gaSgyMSksIGEgPSAvXigxfG9ufHRydWUpJC9pLCBzID0gewpib29sZWFuOiAhMSwKaW50ZWdlcjogMCwKZmxvYXQ6IDAsCnN0cmluZzogIiIKfSwgXyA9IG51bGw7Cm4uX2luaXRTaW5nbGV0b24gPSBmdW5jdGlvbih0KSB7Cl8gPSBuZXcgbih0LmxvY2F0aW9uLnNlYXJjaCk7Cn07Cm4uYnVpbGRRdWVyeSA9IGZ1bmN0aW9uKHQpIHsKdmFyIGUsIGksIG4sIG8sIGEsIHMsIF8gPSBbXSwgbCA9IFtdOwpmb3IgKGEgaW4gdCkgdC5oYXNPd25Qcm9wZXJ0eShhKSAmJiBfLnB1c2goYSk7Cl8uc29ydCgpOwpmb3IgKGUgPSAwLCBuID0gXy5sZW5ndGg7IGUgPCBuOyBlKyspIHsKYSA9IF9bZV07CnMgPSB0W2FdOwphID0gd2luZG93LmVuY29kZVVSSUNvbXBvbmVudChhKTsKaWYgKHIocykpIGlmICgxICE9PSBzLmxlbmd0aCB8fCAhMCAhPT0gc1swXSkgZm9yIChpID0gMCwgbyA9IHMubGVuZ3RoOyBpIDwgbzsgaSsrKSBsLnB1c2goYSArICI9IiArIHdpbmRvdy5lbmNvZGVVUklDb21wb25lbnQoc1tpXSArICIiKSk7IGVsc2UgbC5wdXNoKGEpOyBlbHNlIGwucHVzaChhICsgIj0iICsgd2luZG93LmVuY29kZVVSSUNvbXBvbmVudChzICsgIiIpKTsKfQpyZXR1cm4gbC5qb2luKCImIik7Cn07Cm4ucGFyc2VRdWVyeSA9IGZ1bmN0aW9uKHQpIHsKdmFyIGUsIGksIG8gPSBuZXcgbigpOwp0ID0gdC5yZXBsYWNlKC9eXD98XC8rJC9nLCAiIik7CnZhciByLCBhLCBzID0gdC5zcGxpdCgiJiIpOwpmb3IgKGUgPSAwLCBpID0gcy5sZW5ndGg7IGUgPCBpOyBlKyspIHsKdmFyIF8gPSBzW2VdOwppZiAoXy5sZW5ndGgpIHsKdmFyIGwgPSBfLmluZGV4T2YoIj0iKTsKaWYgKGwgPD0gLTEpIHsKciA9IF87CmEgPSAhMDsKfSBlbHNlIHsKciA9IF8uc2xpY2UoMCwgbCk7CmEgPSB3aW5kb3cuZGVjb2RlVVJJQ29tcG9uZW50KF8uc2xpY2UobCArIDEpKTsKfQpvLmFkZCh3aW5kb3cuZGVjb2RlVVJJQ29tcG9uZW50KHIpLCBhKTsKfQp9CnJldHVybiBvOwp9OwpuLmdldEhhc2ggPSBmdW5jdGlvbih0LCBlKSB7CnZhciBpID0gZSB8fCB3aW5kb3cubG9jYXRpb24uaGFzaDsKcmV0dXJuIG4ucGFyc2VRdWVyeShpLnJlcGxhY2UoL14jLywgIiIpKS5nZXQodCk7Cn07CnZhciBsID0gbi5wcm90b3R5cGU7CmwuYWRkID0gZnVuY3Rpb24odCwgZSkgewp0aGlzLmhhcyh0KSA/IHRoaXMuc3RvcmVbdF0ucHVzaChlKSA6IHRoaXMuc3RvcmVbdF0gPSBbIGUgXTsKfTsKbC5oYXMgPSBmdW5jdGlvbih0KSB7CnJldHVybiB0aGlzLnN0b3JlLmhhc093blByb3BlcnR5KHQpOwp9OwpsLmdldExhc3QgPSBmdW5jdGlvbih0LCBlLCBpKSB7CnJldHVybiB0aGlzLmhhcyh0KSA/IHRoaXMuZ2V0QXQodCwgdGhpcy5zdG9yZVt0XS5sZW5ndGggLSAxLCBlLCBpKSA6IG8odm9pZCAwLCBlLCBpKTsKfTsKbC5nZXRGaXJzdCA9IGZ1bmN0aW9uKHQsIGUsIGkpIHsKcmV0dXJuIHRoaXMuZ2V0QXQodCwgMCwgZSwgaSk7Cn07CmwuZ2V0QXQgPSBmdW5jdGlvbih0LCBlLCBpLCBuKSB7CnJldHVybiBvKHRoaXMuaGFzKHQpID8gdGhpcy5zdG9yZVt0XVtlXSA6IHZvaWQgMCwgaSwgbik7Cn07CmwuZ2V0UmF3ID0gZnVuY3Rpb24odCkgewpyZXR1cm4gdGhpcy5oYXModCkgPyB0aGlzLnN0b3JlW3RdLmNvbmNhdCgpIDogW107Cn07CmwuZ2V0ID0gbC5nZXRMYXN0OwpsLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7CnJldHVybiBuLmJ1aWxkUXVlcnkodGhpcy5zdG9yZSk7Cn07CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX2p4X3VpX1dpZGdldCA9IGkoNyk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIF8sIGwpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgXywgbCk7Cm8gPSBvIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgZCA9IFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICIiLCAiIiwgW10sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIiwKdHlwZTogImJ1dHRvbiIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBoID0gZnVuY3Rpb24oKSB7CnZhciB0ID0gaSg5KTsKIWZ1bmN0aW9uKCkgewp0Lm1vYmlsZShjKTsKdC5ydGwoYyk7Cn0oKTsKfSgpOwpmb3IgKHZhciBmIGluIGgpIGNbZl0gPSBoW2ZdOwpjLmZpcmUgJiYgYy5maXJlKCJpbml0Iik7CmMuc2V0U3R5bGUgJiYgYy5zZXRTdHlsZShyKTsKYy5zZXRBdHRyaWJ1dGVzICYmIGMuc2V0QXR0cmlidXRlcyhsKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5hZGRDaGlsZHJlbiA/IGMuYWRkQ2hpbGRyZW4oXykgOiBzLmFkZENoaWxkcmVuKGMsIF8pOwppZiAoYyAhPT0gdGhpcykgewpjLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKYy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gYzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19qeF91aV9XaWRnZXQucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIioqc2VsZiI6IHsKYmFja2dyb3VuZDogInRyYW5zcGFyZW50IiwKYm9yZGVyOiAibm9uZSIsCnBvc2l0aW9uOiAicmVsYXRpdmUiLAp3aWR0aDogIjEwMCUiLApvdmVyZmxvdzogImhpZGRlbiIsCmN1cnNvcjogInBvaW50ZXIiLAoiKnpvb20iOiAxLAp0ZXh0QWxpZ246ICJsZWZ0IiwKcGFkZGluZzogIiQkbWVudUl0ZW1QYWRkaW5nIiwKIioiOiB7CmN1cnNvcjogInBvaW50ZXIiCn0KfSwKIiYucnRsIjogewp0ZXh0QWxpZ246ICJyaWdodCIKfSwKIiY6aG92ZXIiOiB7CmJhY2tncm91bmQ6ICIkJG1lbnVJdGVtSG92ZXJCZyIKfSwKIiYubW9iaWxlIjogewpib3JkZXJUb3BXaWR0aDogIiQkbWVudUJvcmRlcldpZHRoIiwKYm9yZGVyVG9wU3R5bGU6ICIkJG1lbnVCb3JkZXJTdHlsZSIsCmJvcmRlclRvcENvbG9yOiAiJCRtZW51Qm9yZGVyQ29sb3IiCn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfV2lkZ2V0LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19tZW51X0l0ZW0iCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4odCwgZSwgaSwgbywgYSkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgbikpIHJldHVybiBuZXcgbih0LCBlLCBpLCBvLCBhKTsKaWYgKCFuLl9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CnIuZ2VuZXJhdGUodGhpcywgbi5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCBuLl9fanhfX2pjc3MsIG51bGwsIG4pOwpuLl9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0Kcy5jYWxsKHRoaXMsIHQsIGUsIGksIG8sIGEpOwp9CnZhciBvID0gaSgxKSwgciA9IGkoMyksIGEgPSBpKDApLCBzID0gaSg3KTsKbi5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewpsaW5lSGVpZ2h0OiAiMS4yIiwKbWFyZ2luQm90dG9tOiAiJCRtYXJnaW5MIgp9LAoiJi5zaG9ydCI6IHsKbWFyZ2luQm90dG9tOiAiMCIKfQp9OwpuLnByb3RvdHlwZSA9IGEocy5wcm90b3R5cGUpOwpvKG4sIHMsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX0JvZHkiCn0pOwpuLnByb3RvdHlwZS5fX2p4X19zdXBlciA9IHM7CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX2p4X3VpX1dpZGdldCA9IGkoNyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0JyYW5kaW5nID0gaSg4OSk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIF8sIGwpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgXywgbCk7Cm8gPSBvIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgZCA9IFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICIiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiY29udGFpbmVyX2FuZF9icmFuZF93cmFwcGVyIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIiQkZGVmYXVsdHBsYWNlbWVudCQkIiwgIiIsIFtdLCB7CmNvbnRhaW5lcjogImRlZmF1bHQiLAphZGRDbGFzczogImNvbnRhaW5lciIsCmlkOiAiJCRkZWZhdWx0cGxhY2VtZW50JCQiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19CcmFuZGluZywgImJyYW5kaW5nIiwgIiIsIFtdLCB7CmlkOiAiYnJhbmRpbmciLAphZGRDbGFzczogImNoYXRfd2luZG93X3BhbmVsX2JyYW5kaW5nIiwKaGlkZU9uRGVza3RvcDogInRydWUiCn0gXSBdLCB7CmlkOiAiY29udGFpbmVyX2FuZF9icmFuZF93cmFwcGVyIiwKYWRkQ2xhc3M6ICJjb250YWluZXJfYW5kX2JyYW5kX3dyYXBwZXIiCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CnZhciBoID0gcy5nZXQobyArICJfX2NvbnRhaW5lcl9hbmRfYnJhbmRfd3JhcHBlciIpLCBmID0gcy5nZXQobyArICJfXyQkZGVmYXVsdHBsYWNlbWVudCQkIiksIGcgPSBzLmdldChvICsgIl9fYnJhbmRpbmciKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KYy5kZWZhdWx0UGxhY2VtZW50ID0gZjsKdmFyIHAgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCgpIHsKdmFyIGk7CmlmICh2KSB7CmkgPSAiZnJlZV9mbG93X3dpdGhfZml4ZWRfdGl0bGViYXJfbGF5b3V0IjsKaWYgKGQuaXNTdHlsZVN1cHBvcnRlZCgib3ZlcmZsb3ctc2Nyb2xsaW5nIikpIHsKZSgpOwpsKGgpOwp9Cn0gZWxzZSBpID0gdyA/ICJmcmVlX2Zsb3dfbGF5b3V0IiA6ICJmdWxsX2ZyYW1lX2xheW91dCI7CmlmIChpICE9PSB0Lmxhc3RDbGFzc05hbWUpIHsKYy5yZW1vdmVDbGFzcyh0Lmxhc3RDbGFzc05hbWUpOwpjLmFkZENsYXNzKGkpOwp0Lmxhc3RDbGFzc05hbWUgPSBpOwp9Cn0KZnVuY3Rpb24gZSgpIHsKZnVuY3Rpb24gdCgpIHsKaC5zZXRDU1NTdHlsZSgid2Via2l0T3ZlcmZsb3dTY3JvbGxpbmciLCAiYXV0byIpOwpzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewpoLnNldENTU1N0eWxlKCJ3ZWJraXRPdmVyZmxvd1Njcm9sbGluZyIsICJ0b3VjaCIpOwp9LCA1MCk7Cn0KYy5hdXRvYmluZChiLiQoImNoYXRfd2luZG93IikuJCgiZGlzcGxheSRib29sIiksICJ2YWx1ZSIsIGZ1bmN0aW9uKGUpIHsKZSAmJiB0KCk7Cn0pOwp9CmZ1bmN0aW9uIG4oKSB7CnZhciB0Owp0ID0gbyA/ICJjd3BfbWluaSIgOiB3IHx8IHggPyAiY3dwX2Z1bGwiIDogImN3cF8iICsgeS5nZXRWYWx1ZSgpOwppZiAodCAhPT0gbi5sYXN0Q2xhc3NOYW1lKSB7CmMucmVtb3ZlQ2xhc3Mobi5sYXN0Q2xhc3NOYW1lKTsKYy5hZGRDbGFzcyh0KTsKbi5sYXN0Q2xhc3NOYW1lID0gdDsKfQp9CnZhciBvLCByID0gaSgzMSksIGEgPSBpKDEyKSwgcyA9IGkoNiksIF8gPSBpKDkpLCBsID0gaSgzNjEpLCBkID0gaSgxMSksIHUgPSBpKDE3MCksIGYgPSBpKDE2OCksIHAgPSBpKDE2NyksIG0gPSBpKDM1NSksICQgPSBzLnJvb3QsIGIgPSAkLiQoImxpdmVjaGF0IikuJCgidWkiKSwgdyA9IGIuZ2V0VmFsdWUoIm1vYmlsZSRib29sIiksIHggPSBiLmdldFZhbHVlKCJwb3BvdXQkYm9vbCIpLCB2ID0gYi5nZXRWYWx1ZSgibW9iaWxlX292ZXJsYXkkYm9vbCIpLCB5ID0gJC4kKCJsaXZlY2hhdCIpLiQoInNldHRpbmdzIikuJCgidGhlbWUiKS4kKCJjaGF0X3dpbmRvdyIpLiQoInNpemUkc3RyaW5nIik7CmMuc2V0VGl0bGVCYXIgPSBmdW5jdGlvbih0KSB7CmlmICghYy50aXRsZUJhcikgewp2YXIgZSA9IHQuc3BsaXQoIiwiKTsKaWYgKC0xID09IHIoIm5vbmUiLCBlKSkgewpjLnRpdGxlQmFyID0gbmV3IHUoYyk7CmMuYWRkQ2xhc3MoImhhc190aXRsZV9iYXIiKTsKZm9yICh2YXIgaSA9IDAsIG4gPSBlLmxlbmd0aDsgaSA8IG47IGkrKykgc3dpdGNoIChlW2ldKSB7CmNhc2UgImhpZGVQb3BvdXQiOgpjLnRpdGxlQmFyLnNldEhpZGVQb3BvdXQoITApOwp9Cn0gZWxzZSB7CmMudGl0bGVCYXIgPSAhMDsKYy5yZW1vdmVDbGFzcygiaGFzX3RpdGxlX2JhciIpOwp9Cn0KfTsKYy5nZXREcmFnZ2FibGVOb2RlID0gZnVuY3Rpb24oKSB7CnJldHVybiBjLnRpdGxlQmFyIGluc3RhbmNlb2YgdSA/IGMudGl0bGVCYXIgOiBudWxsOwp9OwpjLnNldEFjdGlvbkJhciA9IGZ1bmN0aW9uKHQpIHsKaWYgKCFjLmFjdGlvbkJhcikgewp2YXIgZSA9IHQuc3BsaXQoIiwiKTsKaWYgKC0xID09IHIoIm5vbmUiLCBlKSkgaWYgKHcpIHsKaWYgKC0xICE9IHIoImRlZmF1bHQiLCBlKSkgewpjLmFjdGlvbkJhciA9IG5ldyBwKGMpOwpjLmFjdGlvbkJhci5hZGRDbGFzcygibW9iaWxlX29wdGlvbnNfbWVudV9pY29uIik7Cn0KfSBlbHNlIHsKYy5hZGRDbGFzcygiaGFzX2FjdGlvbl9iYXJfYXRfYm90dG9tIik7Ci0xICE9IHIoImRlZmF1bHQiLCBlKSA/IGMuYWN0aW9uQmFyID0gbmV3IG0oYykgOiBjLmFjdGlvbkJhciA9IG5ldyBmKGMpOwp9IGVsc2UgewpjLmFjdGlvbkJhciA9ICEwOwpjLnJlbW92ZUNsYXNzKCJoYXNfYWN0aW9uX2Jhcl9hdF9ib3R0b20iKTsKfQp9Cn07CmMuc2V0TWluaVNpemUgPSBmdW5jdGlvbih0KSB7Cm8gPSBhKHQpOwpuKCk7Cn07CmMuc2V0SGlkZUJyYW5kaW5nTW9iaWxlID0gZnVuY3Rpb24odCkgewp0ID0gYSh0KTsKdyAmJiB0ID8gZy5hZGRDbGFzcygiaGlkZGVuIikgOiBnLnJlbW92ZUNsYXNzKCJoaWRkZW4iKTsKfTsKIWZ1bmN0aW9uKCkgewpfLnJ0bChjKTsKYy5hdXRvYmluZCh5LCAidmFsdWUiLCBuKTsKdCgpOwp9KCk7Cn0oKTsKZm9yICh2YXIgbSBpbiBwKSBjW21dID0gcFttXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfV2lkZ2V0LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CnBvc2l0aW9uOiAicmVsYXRpdmUiLAptYXJnaW46ICIkJGNoYXRXaW5kb3dQYW5lbE1hcmdpbiIKfSwKIi5jb250YWluZXIiOiB7CnBvc2l0aW9uOiAicmVsYXRpdmUiLApiYWNrZ3JvdW5kOiAiJCR3aW5kb3dDb250ZW50QmciLApib3JkZXJXaWR0aDogIiQkd2luZG93Q29udGVudEJvcmRlcldpZHRoIiwKYm9yZGVyU3R5bGU6ICIkJHdpbmRvd0NvbnRlbnRCb3JkZXJTdHlsZSIsCmJvcmRlckNvbG9yOiAiJCR3aW5kb3dDb250ZW50Qm9yZGVyQ29sb3IiCn0sCiIubW9iaWxlX29wdGlvbnNfbWVudV9pY29uIjogewpwb3NpdGlvbjogImFic29sdXRlIiwKekluZGV4OiAiMTAyIgp9LAoiLmNoYXRfd2luZG93X3BhbmVsX2JyYW5kaW5nIjogewpkaXNwbGF5OiAiYmxvY2siLApwYWRkaW5nOiAiNXB4IiwKbWFyZ2luOiAiMTBweCAwIiwKdGV4dEFsaWduOiAiY2VudGVyIiwKIiYuaGlkZGVuIjogewpkaXNwbGF5OiAibm9uZSAhaW1wb3J0YW50Igp9Cn0sCiIuY29udGFpbmVyX2FuZF9icmFuZF93cmFwcGVyIjogewoid2lkdGgsIGhlaWdodCI6ICIxMDAlIgp9LAoiJi5mdWxsX2ZyYW1lX2xheW91dCI6IHsKb3ZlcmZsb3c6ICJoaWRkZW4iLAoid2lkdGgsIGhlaWdodCI6ICIxMDAlIiwKIi5jb250YWluZXIiOiB7CiJ3aWR0aCwgaGVpZ2h0IjogIjEwMCUiLApvdmVyZm93OiAiaGlkZGVuIgp9Cn0sCiImLmZyZWVfZmxvd19sYXlvdXQiOiB7Cm92ZXJmbG93OiAiYXV0byIsCiJ3aWR0aCwgaGVpZ2h0IjogImF1dG8iLAoiLmNvbnRhaW5lciI6IHsKIndpZHRoLCBoZWlnaHQiOiAiYXV0byIKfQp9LAoiJi5mcmVlX2Zsb3dfd2l0aF9maXhlZF90aXRsZWJhcl9sYXlvdXQiOiB7Cm92ZXJmbG93OiAiaGlkZGVuIiwKIndpZHRoLCBoZWlnaHQiOiAiMTAwJSIsCiIuY29udGFpbmVyX2FuZF9icmFuZF93cmFwcGVyIjogewpvdmVyZmxvdzogImF1dG8iLAoiLXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmciOiAidG91Y2giCn0sCiIuY29udGFpbmVyIjogewoid2lkdGgsIGhlaWdodCI6ICJhdXRvIgp9Cn0sCiImLmhhc190aXRsZV9iYXIiOiB7CnBhZGRpbmdUb3A6ICIkJHRpdGxlQmFySGVpZ2h0Igp9LAoiJi5oYXNfYWN0aW9uX2Jhcl9hdF9ib3R0b20iOiB7CnBhZGRpbmdCb3R0b206ICIkJGFjdGlvbkJhckhlaWdodCIKfSwKIiYuY3dwX3NtYWxsIjogewp3aWR0aDogIiQkd2luZG93U21hbGxXaWR0aCIsCmhlaWdodDogIiQkd2luZG93U21hbGxIZWlnaHQiCn0sCiImLmN3cF9tZWRpdW0iOiB7CndpZHRoOiAiJCR3aW5kb3dNZWRpdW1XaWR0aCIsCmhlaWdodDogIiQkd2luZG93TWVkaXVtSGVpZ2h0Igp9LAoiJi5jd3BfbGFyZ2UiOiB7CndpZHRoOiAiJCR3aW5kb3dMYXJnZVdpZHRoIiwKaGVpZ2h0OiAiJCR3aW5kb3dMYXJnZUhlaWdodCIKfSwKIiYuY3dwX2Z1bGwiOiB7CiJ3aWR0aCwgaGVpZ2h0IjogIjEwMCUiCn0sCiImLmN3cF9taW5pIjogewp3aWR0aDogIiQkd2luZG93TWluaVdpZHRoIiwKaGVpZ2h0OiAiJCR3aW5kb3dNaW5pSGVpZ2h0Igp9LAoiJi5sdHIiOiB7CiIubW9iaWxlX29wdGlvbnNfbWVudV9pY29uIjogewoidG9wLCBsZWZ0IjogMAp9Cn0sCiImLnJ0bCI6IHsKIi5tb2JpbGVfb3B0aW9uc19tZW51X2ljb24iOiB7CiJ0b3AsIHJpZ2h0IjogMAp9Cn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfV2lkZ2V0LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93UGFuZWwiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4odCwgZSkgewppZiAoIXIodCkpIHRocm93IG5ldyBUeXBlRXJyb3IoIkZ1bmN0aW9uVXRpbHMuYmluZCAtIHdoYXQgaXMgdHJ5aW5nIHRvIGJlIGJvdW5kIGlzIG5vdCBjYWxsYWJsZSIpOwppZiAocih0LmJpbmQpICYmICEoInByb3RvdHlwZSIgaW4gdC5iaW5kKSkgcmV0dXJuIHQuYmluZC5hcHBseSh0LCBzLmNhbGwoYXJndW1lbnRzLCAxKSk7CnZhciBpID0gcy5jYWxsKGFyZ3VtZW50cywgMiksIG4gPSBmdW5jdGlvbigpIHt9LCBvID0gZnVuY3Rpb24oKSB7CnJldHVybiB0LmFwcGx5KHRoaXMgaW5zdGFuY2VvZiBuICYmIGUgPyB0aGlzIDogZSwgaS5jb25jYXQocy5jYWxsKGFyZ3VtZW50cykpKTsKfTsKbi5wcm90b3R5cGUgPSBvLnByb3RvdHlwZTsKby5wcm90b3R5cGUgPSBuZXcgbigpOwpyZXR1cm4gbzsKfQpmdW5jdGlvbiBvKHQpIHsKdmFyIGU7CnJldHVybiBmdW5jdGlvbigpIHsKaWYgKCFlKSB7CmUgPSAhMDsKcmV0dXJuIHQuYXBwbHkodGhpcywgcy5jYWxsKGFyZ3VtZW50cykpOwp9Cn07Cn0KdmFyIHIgPSBpKDIwKSwgYSA9IHsKYmluZDogbiwKb25jZTogbwp9LCBzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlOwp0LmV4cG9ydHMgPSBhOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4oKSB7CmMgPSBiLnJvb3Q7CmggPSBjLiQoImxpdmVjaGF0IikuJCgic2V0dGluZ3MiKS4kKCJjb29raWVfbGF3Iik7CmYgPSBoLiQoImVuYWJsZWQkYm9vbCIpOwpnID0gYy4kKCJsaXZlY2hhdCIpLiQoInByb2ZpbGUiKTsKcCA9IGcuJCgiYWxsb3dfY29va2llcyRib29sIik7CnZhciB0ID0gJC5nZXRBbGxvd0Nvb2tpZUxhdygpOwoiYm9vbGVhbiIgPT0gdHlwZW9mIHQgJiYgZy53cml0ZSh7CmFsbG93X2Nvb2tpZXMkYm9vbDogdAp9KTsKfQpmdW5jdGlvbiBvKCkgewpjLiQoImNvbm5lY3Rpb24iKS4kKCJzdGF0dXMkc3RyaW5nIikuZ2V0VmFsdWUoKSA/IHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLmxvZyAmJiB3aW5kb3cuY29uc29sZS5sb2coIlplbmRlc2sgQ2hhdDogQ29va2llIExhdyBtb2RlIG11c3QgYmUgZW5hYmxlZCBpbW1lZGlhdGVseSBhZnRlciBlbWJlZGRpbmcgc2NyaXB0IikgOiBoLndyaXRlKHsKZW5hYmxlZCRib29sOiAhMAp9KTsKfQpmdW5jdGlvbiByKHQpIHsKdCA9IG0odCk7CnZhciBlID0gcygpLCBpID0gXygpOwppZiAodCAhPT0gZSkgewokLnNldEFsbG93Q29va2llTGF3KHQpOwpnLndyaXRlKHsKYWxsb3dfY29va2llcyRib29sOiB0Cn0pOwppZiAoYSgpKSB7CiExID09PSB0ICYmIGIubGl2ZWNoYXQuY2xlYXJBbGwoKTsKdCAhPT0gaSAmJiBiLmxpdmVjaGF0LnJlY29ubmVjdCgpOwp9Cn0KfQpmdW5jdGlvbiBhKCkgewpyZXR1cm4gISFmLmdldFZhbHVlKCk7Cn0KZnVuY3Rpb24gcygpIHsKcmV0dXJuIHAuZ2V0VmFsdWUoKTsKfQpmdW5jdGlvbiBfKCkgewp2YXIgdCA9IHMoKTsKcmV0dXJuICJib29sZWFuIiAhPSB0eXBlb2YgdCB8fCB0Owp9CmZ1bmN0aW9uIGwoKSB7CnZhciB0ID0gYSgpLCBlID0gXygpOwpyZXR1cm4gdCAmJiAhMSA9PT0gZTsKfQpmdW5jdGlvbiBkKCkgewoiYm9vbGVhbiIgIT0gdHlwZW9mIHMoKSAmJiByKCExKTsKfQpmdW5jdGlvbiB1KCkgewppZiAoeC5pc0Nvb2tpZURlbmllZCgpKSB7CnZhciB0ID0gdy5jb29raWVfbGF3LnJlcXVlc3RfdXNlX2Nvb2tpZXNfZ29saW9uICsgIlxuXG4iICsgdy5jb29raWVfbGF3LnByaXZhY3lfcG9saWN5ICsgIjogaHR0cHM6Ly93d3cuemVuZGVzay5jb20vcHJpdmFjeSI7CmlmICh3aW5kb3cuY29uZmlybSh0KSkgewp4LnNldFVzZXJDaG9pY2UoITApOwpyZXR1cm4gITA7Cn0KcmV0dXJuICExOwp9CnJldHVybiAhMDsKfQp2YXIgYywgaCwgZiwgZywgcCwgbSA9IGkoMTIpLCAkID0gaSg5MyksIGIgPSBpKDYpLCB3ID0gaSgxMCksIHggPSB7CmluaXQ6IG4sCmVuYWJsZUNvb2tpZUxhdzogbywKc2V0VXNlckNob2ljZTogciwKaXNDb29raWVEZW5pZWQ6IGwsCnNldERlZmF1bHRJbXBsaWNpdENvbnNlbnQ6IGQsCnJlcXVlc3RQZXJtaXNzaW9uOiB1Cn07CnQuZXhwb3J0cyA9IHg7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpLCBvLCByKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiBuKSkgcmV0dXJuIG5ldyBuKHQsIGUsIGksIG8sIHIpOwpyIHx8IChyID0ge30pOwpyLnRhZ05hbWUgfHwgKHIudGFnTmFtZSA9ICJmb3JtIik7CnIubWV0aG9kIHx8IChyLm1ldGhvZCA9ICJwb3N0Iik7CnMuY2FsbCh0aGlzLCB0LCBlLCBpLCBvLCByKTsKdGhpcy5vbigic3VibWl0IiwgZnVuY3Rpb24odCkgewp0aGlzLnZhbGlkYXRlKCkgfHwgdC5wcmV2ZW50RGVmYXVsdCgpOwp9KTsKdGhpcy5vbigicmVzZXQiLCBmdW5jdGlvbih0KSB7CnQucHJldmVudERlZmF1bHQoKTsKdGhpcy5yZXNldCgpOwp9KTsKfQp2YXIgbyA9IGkoMSksIHIgPSBpKDApLCBhID0gaSgxMiksIHMgPSBpKDcpOwpuLnByb3RvdHlwZSA9IHIocy5wcm90b3R5cGUpOwpvKG4sIHMsIHsKZnFuYW1lOiAianhfdWlfRm9ybSIKfSk7Cm4ucHJvdG90eXBlLnN1Ym1pdCA9IGZ1bmN0aW9uKCkgewp0aGlzLmRvbS5zdWJtaXQoKTsKcmV0dXJuIHRoaXM7Cn07Cm4ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oKSB7CmZvciAodmFyIHQgPSB0aGlzLmdldEVsZW1lbnRzKCksIGUgPSAwOyBlIDwgdC5sZW5ndGg7IGUrKykgdFtlXS5yZXNldCAmJiB0W2VdLnJlc2V0KCk7CnJldHVybiB0aGlzOwp9OwpuLnByb3RvdHlwZS5nZXRFbGVtZW50cyA9IGZ1bmN0aW9uKCkgewpmb3IgKHZhciB0ID0gW10sIGUgPSAwLCBpID0gdGhpcy5kb20uZWxlbWVudHMubGVuZ3RoOyBlIDwgaTsgZSsrKSB0LnB1c2godGhpcy5kb20uZWxlbWVudHNbZV0uanhfd3JhcHBlciB8fCB0aGlzLmRvbS5lbGVtZW50c1tlXSk7CnJldHVybiB0Owp9OwpuLnByb3RvdHlwZS5nZXRBdXRvY29tcGxldGUgPSBuLnByb3RvdHlwZS5nZXRBdXRvQ29tcGxldGUgPSBmdW5jdGlvbigpIHsKcmV0dXJuIHRoaXMuZG9tLmF1dG9jb21wbGV0ZTsKfTsKbi5wcm90b3R5cGUuc2V0QXV0b2NvbXBsZXRlID0gbi5wcm90b3R5cGUuc2V0QXV0b0NvbXBsZXRlID0gZnVuY3Rpb24odCkgewppZiAodm9pZCAwID09PSB0aGlzLmRvbS5hdXRvY29tcGxldGUpIHJldHVybiB0aGlzOwppZiAoIm9uIiA9PT0gdCB8fCAib2ZmIiA9PT0gdCkgewp0aGlzLmRvbS5hdXRvY29tcGxldGUgPSB0OwpyZXR1cm4gdGhpczsKfQp0ID0gYSh0KTsKdGhpcy5kb20uYXV0b2NvbXBsZXRlID0gdCA/ICJvbiIgOiAib2ZmIjsKcmV0dXJuIHRoaXM7Cn07Cm4ucHJvdG90eXBlLmdldE5vVmFsaWRhdGUgPSBmdW5jdGlvbigpIHsKcmV0dXJuIHRoaXMuZG9tLm5vVmFsaWRhdGU7Cn07Cm4ucHJvdG90eXBlLnNldE5vVmFsaWRhdGUgPSBmdW5jdGlvbih0KSB7CnRoaXMuZG9tLm5vVmFsaWRhdGUgPSBhKHQpOwpyZXR1cm4gdGhpczsKfTsKbi5wcm90b3R5cGUuZ2V0TWV0aG9kID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLmRvbS5tZXRob2Q7Cn07Cm4ucHJvdG90eXBlLnNldE1ldGhvZCA9IGZ1bmN0aW9uKHQpIHsKdGhpcy5kb20ubWV0aG9kID0gdDsKcmV0dXJuIHRoaXM7Cn07CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpLCBvLCBhKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiBuKSkgcmV0dXJuIG5ldyBuKHQsIGUsIGksIG8sIGEpOwphIHx8IChhID0ge30pOwphLnRhZ05hbWUgfHwgKGEudGFnTmFtZSA9ICJpbnB1dCIpOwpkLmNhbGwodGhpcywgdCwgZSwgaSwgbywgYSk7CmlmIChyLmVuZ2luZUlFIDw9IDggJiYgYS50eXBlICYmIGEudGFnTmFtZSAmJiAiaW5wdXQiID09IGEudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSB7CnZhciBzID0gdGhpcy5wYXJlbnROb2RlOwp0aGlzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5wYXJlbnROb2RlIGluc3RhbmNlb2YgYyA/IHRoaXMgOiB0aGlzLmRvbSk7CnRoaXMuZG9tID0gdC5kb2MuY3JlYXRlRWxlbWVudCgiPCIgKyBhLnRhZ05hbWUgKyAnIHR5cGU9IicgKyBhLnR5cGUgKyAnIiBuYW1lPSInICsgKGEubmFtZSB8fCAiIikgKyAnIi8+Jyk7CnRoaXMuZG9tLmp4X3dyYXBwZXIgPSB0aGlzOwp0aGlzLnN0eWxlID0gdGhpcy5kb20uc3R5bGU7CnMuYXBwZW5kQ2hpbGQocyBpbnN0YW5jZW9mIGMgPyB0aGlzIDogdGhpcy5kb20pOwp0aGlzLnNldFN0eWxlKGkpOwp0aGlzLnNldEF0dHJpYnV0ZXMoYSk7CnRoaXMuYWRkQ2xhc3ModGhpcy5fX2p4X19mcW5hbWUpOwp9CmEuaW5pdGlhbFZhbHVlICYmIHRoaXMuc2V0VmFsdWUoYS5pbml0aWFsVmFsdWUpOwp0aGlzLnNldEF0dHJpYnV0ZSgiaWQiLCB0aGlzLmp4X2lkKTsKYS5sYWJlbCAmJiB0aGlzLnNldExhYmVsKGEubGFiZWwpOwphLmVycm9yTWVzc2FnZSAmJiB0aGlzLnNldEVycm9yTWVzc2FnZShhLmVycm9yTWVzc2FnZSk7CnRoaXMub24oImJsdXIiLCBmdW5jdGlvbigpIHsKdGhpcy5vbkF1dG9WYWxpZGF0ZSgpOwp9KTsKfQp2YXIgbyA9IGkoMSksIHIgPSBpKDgpLCBhID0gaSgwKSwgcyA9IGkoMTIpLCBfID0gaSgzMSksIGwgPSBpKDE5KSwgZCA9IGkoNyksIHUgPSBpKDQyKSwgYyA9IGkoMjMpLCBoID0gL15bYS16MC05ISMkJSYnKitcLz0/Xl9ge3x9fi1dKyg/OlwuW2EtejAtOSEjJCUmJyorXC89P15fYHt8fX4tXSspKkAoPzpbYS16MC05XSg/OlthLXowLTktXSpbYS16MC05XSk/XC4pKyhbYS16MC05XVthLXowLTktXSpbYS16MC05XSkkL2ksIGYgPSAvXig/Oig/Omh0dHBzP3xmdHApOlwvXC8pKD86XFMrKD86OlxTKik/QCk/KD86KD8hMTAoPzpcLlxkezEsM30pezN9KSg/ITEyNyg/OlwuXGR7MSwzfSl7M30pKD8hMTY5XC4yNTQoPzpcLlxkezEsM30pezJ9KSg/ITE5MlwuMTY4KD86XC5cZHsxLDN9KXsyfSkoPyExNzJcLig/OjFbNi05XXwyXGR8M1swLTFdKSg/OlwuXGR7MSwzfSl7Mn0pKD86WzEtOV1cZD98MVxkXGR8MlswMV1cZHwyMlswLTNdKSg/OlwuKD86MT9cZHsxLDJ9fDJbMC00XVxkfDI1WzAtNV0pKXsyfSg/OlwuKD86WzEtOV1cZD98MVxkXGR8MlswLTRdXGR8MjVbMC00XSkpfCg/Oig/OlthLXpcdTAwYTEtXHVmZmZmMC05XSstPykqW2Etelx1MDBhMS1cdWZmZmYwLTldKykoPzpcLig/OlthLXpcdTAwYTEtXHVmZmZmMC05XSstPykqW2Etelx1MDBhMS1cdWZmZmYwLTldKykqKD86XC4oPzpbYS16XHUwMGExLVx1ZmZmZl17Mix9KSkpKD86OlxkezIsNX0pPyg/OlwvW15cc10qKT8kL2ksIGcgPSB7CnJlcXVpcmVkOiAxLApwYXR0ZXJuOiAyLAptYXhsZW5ndGg6IDQsCm1pbjogOCwKbWF4OiAxNiwKc3RlcDogMzIKfSwgcCA9IHsKYnV0dG9uOiAxLApjaGVja2JveDogMSwKZW1haWw6IDcsCmhpZGRlbjogMCwKbnVtYmVyOiA1NywKcGFzc3dvcmQ6IDMsCnJhZGlvOiAxLApyYW5nZTogMjUsCnJlc2V0OiAwLApzZWFyY2g6IDcsCnNlbGVjdDogMSwKc3VibWl0OiAwLAp0ZWw6IDcsCnRleHQ6IDYzLAp0ZXh0YXJlYTogMSwKdXJsOiA3Cn07Cm4ucHJvdG90eXBlID0gYShkLnByb3RvdHlwZSk7Cm8obiwgZCwgewpmcW5hbWU6ICJqeF91aV9JbnB1dCIKfSk7Cm4ucHJvdG90eXBlLmdldExhYmVsID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLmxhYmVsICYmIHRoaXMubGFiZWwuZ2V0VGV4dCgpOwp9OwpuLnByb3RvdHlwZS5zZXRMYWJlbCA9IGZ1bmN0aW9uKHQpIHsKdCAmJiB0aGlzLmNyZWF0ZUxhYmVsKHQpOwp0aGlzLmxhYmVsICYmIHRoaXMubGFiZWwuc2V0VGV4dCh0KTsKcmV0dXJuIHRoaXM7Cn07Cm4ucHJvdG90eXBlLmNyZWF0ZUxhYmVsID0gZnVuY3Rpb24odCkgewppZiAodGhpcy5sYWJlbCBpbnN0YW5jZW9mIGMpIHJldHVybiB0aGlzOwppZiAoIXRoaXMuZG9tLnBhcmVudE5vZGUpIHJldHVybiB0aGlzOwp0aGlzLmxhYmVsID0gbmV3IGwodGhpcy5wYXJlbnROb2RlLCBudWxsLCBudWxsLCBudWxsLCB7CnRhZ05hbWU6ICJsYWJlbCIKfSk7CnRoaXMuZ2V0TmV4dFNpYmxpbmcoKSAhPSB0aGlzLmxhYmVsICYmIHRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5sYWJlbCwgdGhpcy5nZXROZXh0U2libGluZygpKTsKdGhpcy5sYWJlbC5zZXRBdHRyaWJ1dGUoImZvciIsIHRoaXMuanhfaWQgfHwgIiIpOwp0aGlzLmxhYmVsLmFkZENsYXNzKCJsYWJlbCIpOwp0aGlzLmxhYmVsLmFkZENsYXNzKHRoaXMuYXR0cmlidXRlcy50eXBlIHx8IHRoaXMuZ2V0SW5wdXRUeXBlKCkgfHwgIiIpOwp0aGlzLmxhYmVsLnNldFRleHQodCB8fCB0aGlzLmF0dHJpYnV0ZXMubGFiZWwgfHwgIiIpOwp0aGlzLmRlZmF1bHRMYWJlbCA9ICEwOwpyZXR1cm4gdGhpczsKfTsKbi5wcm90b3R5cGUuZ2V0TGFiZWxFbGVtZW50ID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLmxhYmVsOwp9OwpuLnByb3RvdHlwZS5zZXRMYWJlbEVsZW1lbnQgPSBmdW5jdGlvbih0KSB7CmlmICghKHQgaW5zdGFuY2VvZiBjKSkgcmV0dXJuIHRoaXM7CnRoaXMuZGVmYXVsdExhYmVsICYmIHRoaXMubGFiZWwuZGVzdHJveSgpOwp0aGlzLmxhYmVsID0gdDsKdGhpcy5sYWJlbC5zZXRBdHRyaWJ1dGUoImZvciIsIHRoaXMuanhfaWQgfHwgIiIpOwp0aGlzLmRlZmF1bHRMYWJlbCA9ICExOwpyZXR1cm4gdGhpczsKfTsKbi5wcm90b3R5cGUuZ2V0RXJyb3JNZXNzYWdlID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLmVycm9yTWVzc2FnZSAmJiB0aGlzLmVycm9yTWVzc2FnZS5nZXRUZXh0KCk7Cn07Cm4ucHJvdG90eXBlLnNldEVycm9yTWVzc2FnZSA9IGZ1bmN0aW9uKHQpIHsKdCAmJiB0aGlzLmNyZWF0ZUVycm9yTWVzc2FnZSh0KTsKdGhpcy5lcnJvck1lc3NhZ2UgJiYgdGhpcy5lcnJvck1lc3NhZ2Uuc2V0VGV4dCh0KTsKcmV0dXJuIHRoaXM7Cn07Cm4ucHJvdG90eXBlLnNob3dFcnJvck1lc3NhZ2UgPSBmdW5jdGlvbigpIHsKdGhpcy5lcnJvck1lc3NhZ2UgJiYgdGhpcy5lcnJvck1lc3NhZ2Uuc2V0VmlzaWJsZSghMCkuc2V0RGlzcGxheSgiIik7CnJldHVybiB0aGlzOwp9OwpuLnByb3RvdHlwZS5oaWRlRXJyb3JNZXNzYWdlID0gZnVuY3Rpb24oKSB7CnRoaXMuZXJyb3JNZXNzYWdlICYmIHRoaXMuZXJyb3JNZXNzYWdlLnNldFZpc2libGUoITEpOwpyZXR1cm4gdGhpczsKfTsKbi5wcm90b3R5cGUuY3JlYXRlRXJyb3JNZXNzYWdlID0gZnVuY3Rpb24odCkgewppZiAodGhpcy5lcnJvck1lc3NhZ2UgaW5zdGFuY2VvZiBjKSByZXR1cm4gdGhpczsKaWYgKCF0aGlzLmRvbS5wYXJlbnROb2RlKSByZXR1cm4gdGhpczsKdGhpcy5lcnJvck1lc3NhZ2UgPSBuZXcgbCh0aGlzLnBhcmVudE5vZGUsIG51bGwsIG51bGwsIG51bGwsIHsKdGFnTmFtZTogImxhYmVsIgp9KTsKKHRoaXMubGFiZWwgPyB0aGlzLmxhYmVsLmdldE5leHRTaWJsaW5nKCkgOiB0aGlzLmdldE5leHRTaWJsaW5nKCkpICE9IHRoaXMuZXJyb3JNZXNzYWdlICYmIHRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5lcnJvck1lc3NhZ2UsIHRoaXMubGFiZWwgPyB0aGlzLmxhYmVsLmdldE5leHRTaWJsaW5nKCkgOiB0aGlzLmdldE5leHRTaWJsaW5nKCkpOwp0aGlzLmVycm9yTWVzc2FnZS5zZXRBdHRyaWJ1dGUoImZvciIsIHRoaXMuanhfaWQgfHwgIiIpOwp0aGlzLmVycm9yTWVzc2FnZS5hZGRDbGFzcygiZXJyb3JfbWVzc2FnZSIpOwp0aGlzLmVycm9yTWVzc2FnZS5hZGRDbGFzcyh0aGlzLmF0dHJpYnV0ZXMudHlwZSB8fCB0aGlzLmdldElucHV0VHlwZSgpIHx8ICIiKTsKdGhpcy5zZXRFcnJvck1lc3NhZ2UodCB8fCB0aGlzLmF0dHJpYnV0ZXMuZXJyb3JNZXNzYWdlIHx8ICIiKTsKdGhpcy5oaWRlRXJyb3JNZXNzYWdlKCk7CnRoaXMuZGVmYXVsdEVycm9yTWVzc2FnZSA9ICEwOwpyZXR1cm4gdGhpczsKfTsKbi5wcm90b3R5cGUuZ2V0RXJyb3JNZXNzYWdlRWxlbWVudCA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gdGhpcy5lcnJvck1lc3NhZ2U7Cn07Cm4ucHJvdG90eXBlLnNldEVycm9yTWVzc2FnZUVsZW1lbnQgPSBmdW5jdGlvbih0KSB7CmlmICghKHQgaW5zdGFuY2VvZiBjKSkgcmV0dXJuIHRoaXM7CnRoaXMuZGVmYXVsdEVycm9yTWVzc2FnZSAmJiB0aGlzLmVycm9yTWVzc2FnZS5kZXN0cm95KCk7CnRoaXMuZXJyb3JNZXNzYWdlID0gdDsKdGhpcy5lcnJvck1lc3NhZ2Uuc2V0QXR0cmlidXRlKCJmb3IiLCB0aGlzLmp4X2lkIHx8ICIiKTsKdGhpcy5kZWZhdWx0RXJyb3JNZXNzYWdlID0gITE7CnJldHVybiB0aGlzOwp9OwpuLnByb3RvdHlwZS52YWxpZGF0ZSA9IGZ1bmN0aW9uKHQpIHsKdmFyIGUgPSB0aGlzLmdldElucHV0VHlwZSgpLCBpID0gdGhpcy5nZXRWYWx1ZSgpLCBuID0gcFtlXSwgbyA9IHRoaXMuZG9tLCByID0gKCEobiAmIGcucmVxdWlyZWQpIHx8ICFvLnJlcXVpcmVkIHx8ICIiICE9PSAoaSB8fCAiIikudHJpbSgpICYmIG51bGwgIT0gaSkgJiYgKCEobiAmIGcucGF0dGVybikgfHwgIW8ucGF0dGVybiB8fCBuZXcgUmVnRXhwKG8ucGF0dGVybikudGVzdChpKSkgJiYgKCEobiAmIGcubWF4bGVuZ3RoKSB8fCAhKG8ubWF4TGVuZ3RoICYmIG8ubWF4TGVuZ3RoID49IDApIHx8IGkubGVuZ3RoIDw9IG8ubWF4TGVuZ3RoKSAmJiAoIShuICYgZy5taW4pIHx8ICFvLm1pbiB8fCBwYXJzZUZsb2F0KGkpID49IHBhcnNlRmxvYXQoby5taW4pKSAmJiAoIShuICYgZy5tYXgpIHx8ICFvLm1heCB8fCBwYXJzZUZsb2F0KGkpIDw9IHBhcnNlRmxvYXQoby5tYXgpKSAmJiAoImVtYWlsIiAhPSBlIHx8IChvLnJlcXVpcmVkID8gaC50ZXN0KGkpIDogIiIgPT09IGkgfHwgaC50ZXN0KGkpKSkgJiYgKCJ1cmwiICE9IGUgfHwgKG8ucmVxdWlyZWQgPyBmLnRlc3QoaSkgOiAiIiA9PT0gaSB8fCBmLnRlc3QoaSkpKTsKIXIgJiYgdCAmJiB0aGlzLmZvY3VzKCk7CnRoaXMuc2V0VmFsaWRpdHkocik7CnJldHVybiByOwp9OwpuLnByb3RvdHlwZS5nZXRWYWxpZGl0eSA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gdGhpcy52YWxpZGl0eTsKfTsKbi5wcm90b3R5cGUuc2V0VmFsaWRpdHkgPSBmdW5jdGlvbih0KSB7CnRoaXMudmFsaWRpdHkgPSBzKHQpOwp0aGlzLnZhbGlkaXR5ID8gKHRoaXMuaGlkZUVycm9yTWVzc2FnZSgpLCB0aGlzLmFkZENsYXNzKCJ2YWxpZCIpLCB0aGlzLnJlbW92ZUNsYXNzKCJpbnZhbGlkIikpIDogKHRoaXMuc2hvd0Vycm9yTWVzc2FnZSgpLCAKdGhpcy5yZW1vdmVDbGFzcygidmFsaWQiKSwgdGhpcy5hZGRDbGFzcygiaW52YWxpZCIpKTsKcmV0dXJuIHRoaXM7Cn07Cm4ucHJvdG90eXBlLmdldEF1dG9WYWxpZGF0ZSA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gdGhpcy5hdXRvVmFsaWRhdGU7Cn07Cm4ucHJvdG90eXBlLnNldEF1dG9WYWxpZGF0ZSA9IGZ1bmN0aW9uKHQpIHsKdGhpcy5hdXRvVmFsaWRhdGUgPSBzKHQpOwpyZXR1cm4gdGhpczsKfTsKbi5wcm90b3R5cGUub25BdXRvVmFsaWRhdGUgPSBmdW5jdGlvbigpIHsKaWYgKHRoaXMuYXV0b1ZhbGlkYXRlICYmICF0aGlzLmdldERpc2FibGVkKCkgJiYgIXRoaXMuZ2V0UmVhZE9ubHkoKSkgcmV0dXJuIHRoaXMudmFsaWRhdGUoKTsKfTsKbi5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbigpIHsKdmFyIHQgPSB0aGlzLmdldFR5cGUoKTsKaWYgKCJzdWJtaXQiID09IHQgfHwgInJlc2V0IiA9PSB0KSByZXR1cm4gdGhpczsKdGhpcy5zZXRWYWx1ZSh0aGlzLmdldEluaXRpYWxWYWx1ZSgpIHx8ICIiKS5zZXRWYWxpZGl0eSghMCk7CnJldHVybiB0aGlzOwp9Owp2YXIgbSA9ICJ0ZXh0YXJlYSBidXR0b24gc2VsZWN0Ii5zcGxpdCgiICIpOwpuLnByb3RvdHlwZS5nZXRJbnB1dFR5cGUgPSBmdW5jdGlvbigpIHsKcmV0dXJuIC0xICE9IF8odGhpcy50YWdOYW1lLCBtKSA/IHRoaXMudGFnTmFtZSA6IHRoaXMuZ2V0VHlwZSgpOwp9OwpuLnByb3RvdHlwZS5nZXRUeXBlID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLnZhbGlkYXRpb25UeXBlIHx8IGQucHJvdG90eXBlLmdldFR5cGUuY2FsbCh0aGlzKTsKfTsKbi5wcm90b3R5cGUuc2V0VHlwZSA9IGZ1bmN0aW9uKHQpIHsKdGhpcy52YWxpZGF0aW9uVHlwZSA9IHQ7CmQucHJvdG90eXBlLnNldFR5cGUuY2FsbCh0aGlzLCB0KTsKfTsKbi5wcm90b3R5cGUuZ2V0SW5pdGlhbFZhbHVlID0gZnVuY3Rpb24oKSB7CnJldHVybiByLmVuZ2luZUlFIDw9IDggPyB0aGlzLl9pbml0aWFsVmFsdWUgOiB0aGlzLmRvbS5nZXRBdHRyaWJ1dGUoInZhbHVlIik7Cn07Cm4ucHJvdG90eXBlLnNldEluaXRpYWxWYWx1ZSA9IGZ1bmN0aW9uKHQpIHsKci5lbmdpbmVJRSA8PSA4ID8gdGhpcy5faW5pdGlhbFZhbHVlID0gdCAmJiAodC50b1N0cmluZyA/IHQudG9TdHJpbmcoKSA6IHQpIDogdGhpcy5zZXRBdHRyaWJ1dGUoInZhbHVlIiwgdCk7CnJldHVybiB0aGlzOwp9OwpuLnByb3RvdHlwZS5nZXRSZXF1aXJlZCA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gdGhpcy5kb20ucmVxdWlyZWQ7Cn07Cm4ucHJvdG90eXBlLnNldFJlcXVpcmVkID0gZnVuY3Rpb24odCkgewp0aGlzLmRvbS5yZXF1aXJlZCA9IHModCk7CnJldHVybiB0aGlzOwp9OwpuLnByb3RvdHlwZS5nZXRQYXR0ZXJuID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLmRvbS5wYXR0ZXJuOwp9OwpuLnByb3RvdHlwZS5zZXRQYXR0ZXJuID0gZnVuY3Rpb24odCkgewp0aGlzLmRvbS5wYXR0ZXJuID0gdDsKcmV0dXJuIHRoaXM7Cn07Cm4ucHJvdG90eXBlLmdldE1pbiA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gdGhpcy5kb20ubWluOwp9OwpuLnByb3RvdHlwZS5zZXRNaW4gPSBmdW5jdGlvbih0KSB7CnRoaXMuZG9tLm1pbiA9IHQ7CnJldHVybiB0aGlzOwp9OwpuLnByb3RvdHlwZS5nZXRNYXggPSBmdW5jdGlvbigpIHsKcmV0dXJuIHRoaXMuZG9tLm1heDsKfTsKbi5wcm90b3R5cGUuc2V0TWF4ID0gZnVuY3Rpb24odCkgewp0aGlzLmRvbS5tYXggPSB0OwpyZXR1cm4gdGhpczsKfTsKbi5wcm90b3R5cGUuZ2V0TWF4TGVuZ3RoID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLmRvbS5tYXhMZW5ndGg7Cn07Cm4ucHJvdG90eXBlLnNldE1heExlbmd0aCA9IGZ1bmN0aW9uKHQpIHsKdGhpcy5kb20ubWF4TGVuZ3RoID0gcGFyc2VJbnQodCwgMTApOwpyZXR1cm4gdGhpczsKfTsKbi5wcm90b3R5cGUuZ2V0U3RlcCA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gdGhpcy5kb20uc3RlcDsKfTsKbi5wcm90b3R5cGUuc2V0U3RlcCA9IGZ1bmN0aW9uKHQpIHsKdGhpcy5kb20uc3RlcCA9IHQ7CnJldHVybiB0aGlzOwp9OwpuLnByb3RvdHlwZS5nZXRNdWx0aXBsZSA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gdGhpcy5kb20ubXVsdGlwbGU7Cn07Cm4ucHJvdG90eXBlLnNldE11bHRpcGxlID0gZnVuY3Rpb24odCkgewp0aGlzLmRvbS5tdWx0aXBsZSA9IHModCk7CnJldHVybiB0aGlzOwp9OwpuLnByb3RvdHlwZS5nZXRBdXRvY29tcGxldGUgPSBuLnByb3RvdHlwZS5nZXRBdXRvQ29tcGxldGUgPSB1LnByb3RvdHlwZS5nZXRBdXRvY29tcGxldGU7Cm4ucHJvdG90eXBlLnNldEF1dG9jb21wbGV0ZSA9IG4ucHJvdG90eXBlLnNldEF1dG9Db21wbGV0ZSA9IHUucHJvdG90eXBlLnNldEF1dG9jb21wbGV0ZTsKbi5wcm90b3R5cGUuc2VsZWN0ID0gZnVuY3Rpb24oKSB7CnRoaXMuZG9tLnNlbGVjdCAmJiB0aGlzLmRvbS5zZWxlY3QoKTsKcmV0dXJuIHRoaXM7Cn07Cm4ucHJvdG90eXBlLmdldEZvcm0gPSBmdW5jdGlvbigpIHsKcmV0dXJuIHRoaXMuZG9tLmZvcm0gJiYgKHRoaXMuZG9tLmZvcm0uanhfd3JhcHBlciB8fCB0aGlzLmRvbS5mb3JtKTsKfTsKdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQsIGUsIGksIG8sIHIpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIG4pKSByZXR1cm4gbmV3IG4odCwgZSwgaSwgbywgcik7CnIgfHwgKHIgPSB7fSk7CnIudGFnTmFtZSA9ICJhIjsKYS5jYWxsKHRoaXMsIHQsIGUsIGksIG8sIHIpOwp9CnZhciBvID0gaSgxKSwgciA9IGkoMCksIGEgPSBpKDIzKTsKbi5wcm90b3R5cGUgPSByKGEucHJvdG90eXBlKTsKbyhuLCBhLCB7CmZxbmFtZTogImp4X3VpX2h0bWxfYSIKfSk7CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0KSB7CmYgPSB0Owp9CmZ1bmN0aW9uIG8odCkgewp5ID0gdCA/ICQuZ2V0QXV0aFNlcnZlclVSTCh0KSA6ICQuQVVUSF9TRVJWRVJfVVJMOwp9CmZ1bmN0aW9uIHIodCkgewpjID0gdDsKfQpmdW5jdGlvbiBhKCkgewpyZXR1cm4gYzsKfQpmdW5jdGlvbiBzKHQpIHsKaWYgKGgpIHsKK25ldyBEYXRlKCkgLSBoLmlzc3VlZF9hdCA+PSBoLmV4cGlyZXNfaW4gLSA2ZTQgPyBiLmF1dGhlbnRpY2F0ZShmdW5jdGlvbihlKSB7CmlmIChlKSB7CmYgJiYgZi4kKCJ2aXNpdG9yIikuJCgiYXV0aF9zdGF0dXMkc3RyaW5nIikudXBkYXRlKCJmYWlsZWQiKTsKdChlLCBudWxsKTsKfSBlbHNlIHQobnVsbCwgaC5pZF90b2tlbik7Cn0pIDogdChudWxsLCBoLmlkX3Rva2VuKTsKfSBlbHNlIHQobnVsbCwgbnVsbCk7Cn0KZnVuY3Rpb24gXygpIHsKYyA9IHZvaWQgMDsKaCA9IHZvaWQgMDsKZiAmJiBmLiQoInZpc2l0b3IiKS4kKCJhdXRoZW50aWNhdGVkJGJvb2wiKS51cGRhdGUoITEpOwp9CmZ1bmN0aW9uIGwoKSB7CnJldHVybiAhIWg7Cn0KZnVuY3Rpb24gZCh0KSB7CmMgJiYgYyhwLm9uY2UoZnVuY3Rpb24oZSkgewplICYmIGcoZSkgPyBiLmV4Y2hhbmdlVG9rZW4oewphY2NvdW50X2tleTogJC5BQ0NPVU5UX0tFWSwKYXV0aF91cmw6IHksCnNpdGVfand0OiBlLApzdGF0ZTogaCAmJiBoLnN0YXRlID8gaC5zdGF0ZSA6IG51bGwKfSwgZnVuY3Rpb24oZSwgaSkgewpoID0gaTsKZiAmJiBmLiQoInZpc2l0b3IiKS4kKCJhdXRoZW50aWNhdGVkJGJvb2wiKS51cGRhdGUoIWUpOwp0KGUpOwp9KSA6IHQoewpyZWFzb246ICJpbnZhbGlkIGp3dCBpbiBjYWxsYmFjayIKfSk7Cn0pKTsKfQpmdW5jdGlvbiB1KHQsIGUpIHsKdmFyIGkgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKaS5vcGVuKCJQT1NUIiwgdC5hdXRoX3VybCwgITApOwppLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKTsKaS5vbmxvYWQgPSBmdW5jdGlvbigpIHsKaWYgKGUpIHsKdmFyIHQ7CnRyeSB7CnZhciBuID0gaS5yZXNwb25zZTsKaWYgKCIiID09PSBuKSB0aHJvdyB3Owp0ID0gSlNPTi5wYXJzZShuKTsKfSBjYXRjaCAodCkgewplKHsKcmVhc29uOiB3Cn0pOwpyZXR1cm47Cn0KMjAwID09PSBpLnN0YXR1cyA/IGUodm9pZCAwLCB7Cmlzc3VlZF9hdDogK25ldyBEYXRlKCksCmlkX3Rva2VuOiB0LmlkX3Rva2VuLApleHBpcmVzX2luOiAxZTMgKiB0LmV4cGlyZXNfaW4sCnN0YXRlOiB0LnN0YXRlCn0pIDogZSh7CnJlYXNvbjogdiwKZGV0YWlsczogdC5kZXRhaWxzCn0pOwp9Cn07Cmkub25lcnJvciA9IGZ1bmN0aW9uKCkgewplICYmIGUoewpyZWFzb246IHgKfSk7Cn07CnZhciBuID0gewphY2NvdW50X2tleTogdC5hY2NvdW50X2tleSwKdG9rZW46IHQuc2l0ZV9qd3QsCmZvcm1hdDogImpzb24iCn07CnQuc3RhdGUgJiYgKG4uc3RhdGUgPSB0LnN0YXRlKTsKdmFyIG8gPSBtLmJ1aWxkUXVlcnkobik7Cmkuc2VuZChvKTsKfQp2YXIgYywgaCwgZiwgZyA9IGkoMjIpLCBwID0gaSg0MCksIG0gPSBpKDM2KSwgJCA9IGkoMTgpLCBiID0gewphdXRoZW50aWNhdGU6IGQsCmlzQXV0aGVudGljYXRlZDogbCwKZ2V0U2l0ZUpXVEZ1bmM6IGEsCnJldHJpZXZlSURUb2tlbjogcywKY2xlYXJJZGVudGl0eTogXywKc2V0T3ZlcnJpZGVIb3N0OiBvLApzZXRTaXRlSldURnVuYzogciwKc2V0RGF0YU5vZGU6IG4sCmV4Y2hhbmdlVG9rZW46IHUKfSwgdyA9ICJmb3JtYXQgZXJyb3IiLCB4ID0gIm5ldHdvcmsvc2VjdXJpdHkgZXJyb3IiLCB2ID0gImp3dCB2ZXJpZmljYXRpb24gZXJyb3IiLCB5ID0gJC5BVVRIX1NFUlZFUl9VUkw7CnQuZXhwb3J0cyA9IGI7Cn0sIGZ1bmN0aW9uKHQsIGUpIHsKdmFyIGkgPSB7CmJ1aWxkX251bWJlcjogIjIwMTkwNjE4LjA4MTM2NyIsCmdpdF9jb21taXQ6ICI3ZmE2YjEzZDEwN2Q3NTgwMTJlOGM2OTZiNTQxNmI2MWExNmU0MmIxIiwKcmVsZWFzZV90YWc6ICIhRVJSIgp9Owp0LmV4cG9ydHMgPSBpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4odCwgZSwgaSwgbywgcikgewpmdW5jdGlvbiBhKGUpIHsKaWYgKGUpIGZvciAodmFyIGkgaW4gZSkgZS5oYXNPd25Qcm9wZXJ0eShpKSAmJiBpIGluIGggJiYgaFtpXShlW2ldLCB0KTsKfQppZiAoISh0aGlzIGluc3RhbmNlb2YgbikpIHJldHVybiBuZXcgbih0LCBlLCBpLCBvLCByKTsKYy5yb290LiQoInRtcCIpLiQoImFwaV9zZXR0aW5ncyIpLiQoInNldHRpbmdzIikuJCgidGhlbWUiKS4kKCJjdXN0b21fZm9udHMiKS4kKCJjb25maWckanNvbiIpLm9uKCJ2YWx1ZSIsIGEpOwp9CmZ1bmN0aW9uIG8odCwgZSkgewpmb3IgKHZhciBpID0gMCwgbiA9IHQudXJscy5sZW5ndGg7IGkgPCBuOyBpKyspIGQoZSwgbnVsbCwgbnVsbCwgbnVsbCwgewpocmVmOiB0LnVybHNbaV0KfSk7Cn0KZnVuY3Rpb24gcih0LCBlKSB7CmQoZSwgbnVsbCwgbnVsbCwgbnVsbCwgewpocmVmOiBsKHQuZmFtaWxpZXMsIHQudGV4dCkKfSk7Cn0KZnVuY3Rpb24gYSh0LCBlKSB7CnZhciBpID0gdC5wcm9qZWN0SWQsIG4gPSB0LnZlcnNpb247Cm5ldyB1KGUsIG51bGwsIG51bGwsIG51bGwsIHsKc3JjOiAiLy9mYXN0LmZvbnRzLm5ldC9qc2FwaS8iICsgaSArICIuanMiICsgKG4gPyAiP3Y9IiArIG4gOiAiIikKfSk7Cn0KZnVuY3Rpb24gcyh0LCBlKSB7CnZhciBpID0gZS5vd25lckRvY3VtZW50OwowID09PSBpLmRvY3VtZW50RWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0IikubGVuZ3RoICYmIG5ldyB1KGUpOwp2YXIgbiA9IHQuYXBpIHx8ICJodHRwczovL3VzZS50eXBla2l0Lm5ldCI7CiFmdW5jdGlvbihlKSB7CnZhciBpLCBvID0gewpraXRJZDogdC5pZCwKc2NyaXB0VGltZW91dDogM2UzCn0sIHIgPSBlLmRvY3VtZW50RWxlbWVudCwgYSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CnIuY2xhc3NOYW1lID0gci5jbGFzc05hbWUucmVwbGFjZSgvXGJ3Zi1sb2FkaW5nXGIvZywgIiIpICsgIiB3Zi1pbmFjdGl2ZSI7Cn0sIG8uc2NyaXB0VGltZW91dCksIHMgPSBlLmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpLCBfID0gITEsIGwgPSBlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKVswXTsKci5jbGFzc05hbWUgKz0gIiB3Zi1sb2FkaW5nIjsKcy5zcmMgPSBuICsgIi8iICsgby5raXRJZCArICIuanMiOwpzLmFzeW5jID0gITA7CnMub25sb2FkID0gcy5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHsKaSA9IHRoaXMucmVhZHlTdGF0ZTsKaWYgKCEoXyB8fCBpICYmICJjb21wbGV0ZSIgIT0gaSAmJiAibG9hZGVkIiAhPSBpKSkgewpfID0gITA7CmNsZWFyVGltZW91dChhKTsKdHJ5IHsKKGUuZGVmYXVsdFZpZXcgPyBlLmRlZmF1bHRWaWV3IDogZS5wYXJlbnRXaW5kb3cpLlR5cGVraXQubG9hZChvKTsKfSBjYXRjaCAodCkge30KfQp9OwpsLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHMsIGwpOwp9KGkpOwp9CmZ1bmN0aW9uIF8odCwgZSkgewp2YXIgaSA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSwgbiA9IHQuaWQ7Cm5ldyB1KGUsIG51bGwsIG51bGwsIG51bGwsIHsKc3JjOiAiLy9mLmZvbnRkZWNrLmNvbS9zL2Nzcy9qcy8iICsgaSArICIvIiArIG4gKyAiLmpzIgp9KTsKfQpmdW5jdGlvbiBsKHQsIGUpIHsKZm9yICh2YXIgaSA9ICIvL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9IiwgbiA9IFtdLCBvID0gW10sIHIgPSAwLCBhID0gdC5sZW5ndGg7IHIgPCBhOyByKyspIHsKdmFyIHMgPSB0W3JdLnNwbGl0KCI6Iik7CjMgPT09IHMubGVuZ3RoICYmIG8ucHVzaChzLnBvcCgpLnJlcGxhY2UoLyAvZywgIisiKSk7CnZhciBfID0gMiA9PSBzLmxlbmd0aCAmJiAiIiAhPSBzWzFdID8gIjoiIDogIiI7Cm4ucHVzaChzLmpvaW4oXykucmVwbGFjZSgvIC9nLCAiKyIpKTsKfQppICs9IG4uam9pbigiJTdDIik7Cm8ubGVuZ3RoID4gMCAmJiAoaSArPSAiJnN1YnNldD0iICsgby5qb2luKCIsIikpOwplICYmIGUubGVuZ3RoID4gMCAmJiAoaSArPSAiJnRleHQ9IiArIHdpbmRvdy5lbmNvZGVVUklDb21wb25lbnQoZSkpOwpyZXR1cm4gaTsKfQp2YXIgZCA9IGkoMjU1KSwgdSA9IGkoMjU0KSwgYyA9IGkoNiksIGggPSB7CmN1c3RvbTogbywKZ29vZ2xlOiByLAptb25vdHlwZTogYSwKdHlwZWtpdDogcywKZm9udGRlY2s6IF8KfTsKdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fanhfdWlfV2lkZ2V0ID0gaSg3KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIiIsICIiLCBbXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6d2lkZ2V0cyI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiCn0gXSwgdSA9IGRbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBzLm1hbmdsZUlEcyhvLCBkWzNdKSwgZFs0XSksIGMgPSB1IHx8IHRoaXM7CnMuc2V0KG8sIGMpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgaCA9IGZ1bmN0aW9uKCkgewp2YXIgdCA9IGkoOSk7CiFmdW5jdGlvbigpIHsKdC5tb2JpbGUoYyk7Cn0oKTsKfSgpOwpmb3IgKHZhciBmIGluIGgpIGNbZl0gPSBoW2ZdOwpjLmZpcmUgJiYgYy5maXJlKCJpbml0Iik7CmMuc2V0U3R5bGUgJiYgYy5zZXRTdHlsZShyKTsKYy5zZXRBdHRyaWJ1dGVzICYmIGMuc2V0QXR0cmlidXRlcyhsKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5hZGRDaGlsZHJlbiA/IGMuYWRkQ2hpbGRyZW4oXykgOiBzLmFkZENoaWxkcmVuKGMsIF8pOwppZiAoYyAhPT0gdGhpcykgewpjLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKYy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gYzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19qeF91aV9XaWRnZXQucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIioqc2VsZiI6IHsKcGFkZGluZzogIjVweCAwIiwKYm9yZGVyVG9wV2lkdGg6ICIkJG1lbnVCb3JkZXJXaWR0aCIsCmJvcmRlclRvcFN0eWxlOiAiJCRtZW51Qm9yZGVyU3R5bGUiLApib3JkZXJUb3BDb2xvcjogIiQkbWVudUJvcmRlckNvbG9yIiwKIipib3JkZXJUb3AiOiAibm9uZSIsCiIqem9vbSI6IDEsCiIqcG9zaXRpb24iOiAicmVsYXRpdmUiCn0sCiImOmZpcnN0LWNoaWxkIjogewpib3JkZXJUb3A6ICJub25lIgp9LAoiJi5mbG93IjogewpwYWRkaW5nOiAiMCIsCm1hcmdpbjogIjEwcHgiCn0sCiImLm1vYmlsZSI6IHsKcGFkZGluZzogIjAiLApib3JkZXJUb3A6ICIwIG5vbmUiCn0sCiImLmJvcmRlcl90b3AiOiB7CmJvcmRlclRvcFdpZHRoOiAiJCRtZW51Qm9yZGVyV2lkdGgiLApib3JkZXJUb3BTdHlsZTogIiQkbWVudUJvcmRlclN0eWxlIiwKYm9yZGVyVG9wQ29sb3I6ICIkJG1lbnVCb3JkZXJDb2xvciIKfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9XaWRnZXQsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX21lbnVfU2VjdGlvbiIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX2p4X3VpX1dpZGdldCA9IGkoNyk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIF8sIGwpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgXywgbCk7Cm8gPSBvIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgZCA9IFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICIiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAicHJpbWFyeSIsICIiLCBbXSwgewppZDogInByaW1hcnkiLAphZGRDbGFzczogImJ1dHRvbl9jb250YWluZXIgbGVmdCIsCmNvbnRhaW5lcjogInByaW1hcnkiCn0gXSwgWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgInNlY29uZGFyeSIsICIiLCBbXSwgewppZDogInNlY29uZGFyeSIsCmFkZENsYXNzOiAiYnV0dG9uX2NvbnRhaW5lciByaWdodCIsCmNvbnRhaW5lcjogInNlY29uZGFyeSIKfSBdLCBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFtdLCB7CmFkZENsYXNzOiAiY2xlYXJfYm90aCIKfSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKdmFyIGggPSBzLmdldChvICsgIl9fcHJpbWFyeSIpLCBmID0gcy5nZXQobyArICJfX3NlY29uZGFyeSIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgZyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KCkgewp2YXIgdCA9ICEhKGUgJiYgZS5ydGwgJiYgZS5ydGwoKSksIGkgPSBvICE9IHQ7CmguYWRkQ2xhc3MoaSA/ICJyaWdodCIgOiAibGVmdCIpOwpoLnJlbW92ZUNsYXNzKGkgPyAibGVmdCIgOiAicmlnaHQiKTsKZi5hZGRDbGFzcyhpID8gImxlZnQiIDogInJpZ2h0Iik7CmYucmVtb3ZlQ2xhc3MoaSA/ICJyaWdodCIgOiAibGVmdCIpOwp9CnZhciBlID0gaSgyKSwgbiA9IGkoNiksIG8gPSBuLnJvb3QuJCgibGl2ZWNoYXQiKS4kKCJ1aSIpLiQoIm1vYmlsZSRib29sIikuZ2V0VmFsdWUoKSB8fCAhMTsKIWZ1bmN0aW9uKCkgewp0KCk7CmlmIChlICYmIGUub25MYW5ndWFnZSkgewplLm9uTGFuZ3VhZ2UodCk7CmMub25EZXN0cnVjdGlvbihmdW5jdGlvbigpIHsKZS51bkxhbmd1YWdlKHQpOwp9KTsKfQp9KCk7Cn0oKTsKZm9yICh2YXIgcCBpbiBnKSBjW3BdID0gZ1twXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfV2lkZ2V0LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIuYnV0dG9uX2NvbnRhaW5lciI6IHsKd2lkdGg6ICI0OCUiCn0sCiIubGVmdCI6IHsKZmxvYXQ6ICJsZWZ0Igp9LAoiLnJpZ2h0IjogewpmbG9hdDogInJpZ2h0Igp9LAoiLmNsZWFyX2JvdGgiOiB7CmNsZWFyOiAiYm90aCIKfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9XaWRnZXQsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX0NvbnRyb2xzIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoMjApLCBvID0gaSgyMSksIHIgPSBpKDI1KSwgYSA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KCkgewppZiAoZCB8fCB1KSByZXR1cm4gITA7CnZhciB0LCBlID0gd2luZG93W3dpbmRvdy5Hb29nbGVBbmFseXRpY3NPYmplY3QgfHwgImdhIl07CmlmIChuKGUpKSB7CnUgPSBlOwp0ID0gITA7Cn0KaWYgKHdpbmRvdy5fZ2FxICYmIHdpbmRvdy5fZ2F0KSB7CmQgPSB3aW5kb3cuX2dhcTsKYyA9IHdpbmRvdy5fZ2F0Owp0ID0gITA7Cn0KcmV0dXJuIHQ7Cn0KZnVuY3Rpb24gZSh0KSB7CnZhciBlOwp0ID09IGYuTkVXICYmIHUgPyBuKHUuZ2V0QWxsKSAmJiAoZSA9IHUuZ2V0QWxsKCkpIDogdCA9PSBmLk9MRCAmJiBjICYmIChuKGMuX2dldFRyYWNrZXJzKSA/IGUgPSBjLl9nZXRUcmFja2VycygpIDogbihjLl9nZXRUcmFja2VyQnlOYW1lKSAmJiAoZSA9IFsgYy5fZ2V0VHJhY2tlckJ5TmFtZSgpIF0pKTsKcmV0dXJuIG8oZSkgPyBlIDogW107Cn0KZnVuY3Rpb24gaSh0LCBlLCBpLCBuKSB7CnRyeSB7CmEodCwgZSwgaSwgbik7Cn0gY2F0Y2ggKHQpIHt9Cn0KZnVuY3Rpb24gYShlLCBpLCBuLCBvKSB7CmlmICghcCAmJiB0KCkgJiYgZSkgewp1ICYmIHMoZSwgaSwgbiwgbyk7CmQgJiYgXyhlLCBpLCBuLCBvKTsKfQp9CmZ1bmN0aW9uIHModCwgaSwgbywgYSkgewpoID0gZShmLk5FVyk7CnZhciBzID0gewpoaXRUeXBlOiAiZXZlbnQiLApldmVudENhdGVnb3J5OiBvIHx8IGcsCmV2ZW50QWN0aW9uOiB0Cn07CnIoaSwgITApIHx8IChzLmV2ZW50TGFiZWwgPSBpKTsKcihhLCAhMCkgfHwgKHMuZXZlbnRWYWx1ZSA9IGEpOwppZiAoaC5sZW5ndGgpIGZvciAodmFyIF8gPSAwLCBsID0gaC5sZW5ndGg7IF8gPCBsOyBfKyspIG4oaFtfXS5zZW5kKSAmJiBoW19dLnNlbmQoImV2ZW50Iiwgcyk7IGVsc2UgdSgic2VuZCIsIHMpOwp9CmZ1bmN0aW9uIF8odCwgaSwgbywgYSkgewpoID0gZShmLk9MRCk7CmQucHVzaChmdW5jdGlvbigpIHsKZm9yICh2YXIgZSA9IDAsIHMgPSBoLmxlbmd0aDsgZSA8IHM7IGUrKykgaWYgKG4oaFtlXS5fdHJhY2tFdmVudCkpIHsKcihpLCAhMCkgJiYgKGkgPSB2b2lkIDApOwpyKGEsICEwKSAmJiAoYSA9IHZvaWQgMCk7CmhbZV0uX3RyYWNrRXZlbnQobyB8fCBnLCB0LCBpLCBhKTsKfQp9KTsKfQpmdW5jdGlvbiBsKHQpIHsKcCA9IHQ7Cn0KdmFyIGQsIHUsIGMsIGgsIGYgPSB7Ck9MRDogImdhLmpzIiwKTkVXOiAiYW5hbHl0aWNzLmpzIgp9LCBnID0gIlpvcGltIExpdmVjaGF0IiwgcCA9ICExOwpyZXR1cm4gewp0cmFja0V2ZW50OiBpLApzZXREaXNhYmxlZDogbAp9Owp9KCk7CnQuZXhwb3J0cyA9IGE7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpLCBvLCByKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiBuKSkgcmV0dXJuIG5ldyBuKHQsIGUsIGksIG8sIHIpOwpyIHx8IChyID0ge30pOwpyLnRhZ05hbWUgPSAidGQiOwphLmNhbGwodGhpcywgdCwgZSwgaSwgbywgcik7Cn0KdmFyIG8gPSBpKDEpLCByID0gaSgwKSwgYSA9IGkoMjMpOwpuLnByb3RvdHlwZSA9IHIoYS5wcm90b3R5cGUpOwpvKG4sIGEsIHsKZnFuYW1lOiAianhfdWlfaHRtbF90ZCIKfSk7CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpLCBvLCByKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiBuKSkgcmV0dXJuIG5ldyBuKHQsIGUsIGksIG8sIHIpOwpyIHx8IChyID0ge30pOwpyLnRhZ05hbWUgPSAidHIiOwphLmNhbGwodGhpcywgdCwgZSwgaSwgbywgcik7Cn0KdmFyIG8gPSBpKDEpLCByID0gaSgwKSwgYSA9IGkoMjMpOwpuLnByb3RvdHlwZSA9IHIoYS5wcm90b3R5cGUpOwpvKG4sIGEsIHsKZnFuYW1lOiAianhfdWlfaHRtbF90ciIKfSk7CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpLCBvLCByKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiBuKSkgcmV0dXJuIG5ldyBuKHQsIGUsIGksIG8sIHIpOwpyIHx8IChyID0ge30pOwpyLnRhZ05hbWUgPSAidGJvZHkiOwphLmNhbGwodGhpcywgdCwgZSwgaSwgbywgcik7Cn0KdmFyIG8gPSBpKDEpLCByID0gaSgwKSwgYSA9IGkoMjMpOwpuLnByb3RvdHlwZSA9IHIoYS5wcm90b3R5cGUpOwpvKG4sIGEsIHsKZnFuYW1lOiAianhfdWlfaHRtbF90Ym9keSIKfSk7CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpLCBvLCByKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiBuKSkgcmV0dXJuIG5ldyBuKHQsIGUsIGksIG8sIHIpOwpyIHx8IChyID0ge30pOwpyLnRhZ05hbWUgPSAidGFibGUiOwphLmNhbGwodGhpcywgdCwgZSwgaSwgbywgcik7Cn0KdmFyIG8gPSBpKDEpLCByID0gaSgwKSwgYSA9IGkoMjMpOwpuLnByb3RvdHlwZSA9IHIoYS5wcm90b3R5cGUpOwpvKG4sIGEsIHsKZnFuYW1lOiAianhfdWlfaHRtbF90YWJsZSIKfSk7CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDEpLCBvID0gaSgzKSwgciA9IGkoMCksIGEgPSBpKDE3MyksIHMgPSBhOwphID0gZnVuY3Rpb24odCwgZSwgaSwgbiwgcikgewppZiAoISh0aGlzIGluc3RhbmNlb2YgYSkpIHJldHVybiBuZXcgYSh0LCBlLCBpLCBuLCByKTsKaWYgKCFhLl9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7Cm8uZ2VuZXJhdGUodGhpcywgYS5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCBhLl9fanhfX2pjc3MsIG51bGwsIGEpOwphLl9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KciB8fCAociA9IHt9KTsKcy5jYWxsKHRoaXMsIHQsIGUsIGksIG4sIHIpOwp9OwphLl9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CiJ3aWR0aCwgaGVpZ2h0IjogIjEwMCUiCn0KfTsKYS5wcm90b3R5cGUgPSByKHMucHJvdG90eXBlKTsKbihhLCBzLCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19WaWV3U3RhY2siCn0pOwphLnByb3RvdHlwZS5fX2p4X19zdXBlciA9IHM7CnQuZXhwb3J0cyA9IGE7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0KSB7CnJldHVybiAnIicgKyB0LnJlcGxhY2UodSwgbykgKyAnIic7Cn0KZnVuY3Rpb24gbyh0KSB7CnJldHVybiBjW3RdIHx8ICJcXHUiICsgKCIwMDAwIiArIHQuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC00KTsKfQpmdW5jdGlvbiByKHQpIHsKc3dpdGNoICh0eXBlb2YgdCkgewpjYXNlICJzdHJpbmciOgpyZXR1cm4gbih0KTsKCmNhc2UgIm51bWJlciI6CnJldHVybiBpc0Zpbml0ZSh0KSA/IHQudG9TdHJpbmcoKSA6ICJudWxsIjsKCmNhc2UgImJvb2xlYW4iOgpyZXR1cm4gU3RyaW5nKHQpOwoKY2FzZSAib2JqZWN0IjoKaWYgKCF0KSByZXR1cm4gIm51bGwiOwp2YXIgZSwgaSwgbyA9IFtdOwppZiAobCh0KSkgewpmb3IgKGUgPSAwLCBpID0gdC5sZW5ndGg7IGUgPCBpOyBlKyspIG9bZV0gPSByKHRbZV0pIHx8ICJudWxsIjsKcmV0dXJuICJbIiArIG8uam9pbigiLCIpICsgIl0iOwp9CnZhciBhLCBzLCBfID0gW107CmZvciAoYSBpbiB0KSB0Lmhhc093blByb3BlcnR5KGEpICYmIF8ucHVzaChhKTsKXy5zb3J0KCk7CmZvciAoZSA9IDAsIGkgPSBfLmxlbmd0aDsgZSA8IGk7IGUrKykgewphID0gX1tlXTsKcyA9IHIodFthXSk7CnMgJiYgby5wdXNoKG4oYSkgKyAiOiIgKyBzKTsKfQppZiAoby5sZW5ndGgpIHJldHVybiAieyIgKyBvLmpvaW4oIiwiKSArICJ9IjsKfQp9CmZ1bmN0aW9uIGEodCwgZSwgaSkgewpyZXR1cm4gZSA/IGdbZV0gOiBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGksIDE2KSk7Cn0KZnVuY3Rpb24gcyh0KSB7CnZhciBlLCBpLCBuLCBvLCByLCBzID0gdC5tYXRjaChoKSwgXyA9IHMubGVuZ3RoLCBsID0gc1swXTsKInsiID09IGwgPyAoZSA9IHt9LCByID0gMSkgOiAiWyIgPT0gbCA/IChlID0gW10sIHIgPSAxKSA6IChlID0gW10sIHIgPSAwLCBpID0gITApOwp2YXIgZCA9IFsgZSBdOwpmb3IgKF8gPSBzLmxlbmd0aDsgciA8IF87ICsrcikgewpsID0gc1tyXTsKc3dpdGNoIChsLmNoYXJDb2RlQXQoMCkpIHsKY2FzZSA5MToKbyA9IGRbMF07CmQudW5zaGlmdChvW24gfHwgby5sZW5ndGhdID0gW10pOwpuID0gdm9pZCAwOwpicmVhazsKCmNhc2UgOTM6CmQuc2hpZnQoKTsKYnJlYWs7CgpjYXNlIDEyMzoKbyA9IGRbMF07CmQudW5zaGlmdChvW24gfHwgby5sZW5ndGhdID0ge30pOwpuID0gdm9pZCAwOwpicmVhazsKCmNhc2UgMTI1OgpkLnNoaWZ0KCk7CmJyZWFrOwoKY2FzZSAxMDI6Cm8gPSBkWzBdOwpvW24gfHwgby5sZW5ndGhdID0gITE7Cm4gPSB2b2lkIDA7CmJyZWFrOwoKY2FzZSAxMTA6Cm8gPSBkWzBdOwpvW24gfHwgby5sZW5ndGhdID0gbnVsbDsKbiA9IHZvaWQgMDsKYnJlYWs7CgpjYXNlIDExNjoKbyA9IGRbMF07Cm9bbiB8fCBvLmxlbmd0aF0gPSAhMDsKbiA9IHZvaWQgMDsKYnJlYWs7CgpjYXNlIDM0OgpsID0gbC5zdWJzdHJpbmcoMSwgbC5sZW5ndGggLSAxKTsKLTEgIT09IGwuaW5kZXhPZihtKSAmJiAobCA9IGwucmVwbGFjZShmLCBhKSk7Cm8gPSBkWzBdOwppZiAodm9pZCAwID09IG4pIHsKaWYgKCEobyBpbnN0YW5jZW9mIEFycmF5KSkgewpuID0gbCB8fCBwOwpicmVhazsKfQpuID0gby5sZW5ndGg7Cn0Kb1tuXSA9IGw7Cm4gPSB2b2lkIDA7CmJyZWFrOwoKZGVmYXVsdDoKbyA9IGRbMF07Cm9bbiB8fCBvLmxlbmd0aF0gPSArbDsKbiA9IHZvaWQgMDsKfQp9CmlmIChpKSB7CmlmICgxID09IGQubGVuZ3RoKSByZXR1cm4gZVswXTsKfSBlbHNlIGlmICghZC5sZW5ndGgpIHJldHVybiBlOwp0aHJvdyAiZXJyb3IiOwp9CnZhciBfID0gaSgyNSksIGwgPSBpKDIxKSwgZCA9ICFfKHdpbmRvdykgJiYgd2luZG93LkpTT04gfHwgewpwYXJzZTogcywKc3RyaW5naWZ5OiByCn07CmQgPSB7CnBhcnNlOiBzLApzdHJpbmdpZnk6IHIKfTsKdmFyIHUgPSAvW1xcXCJceDAwLVx4MWZceDdmLVx4OWZcdTAwYWRcdTA2MDAtXHUwNjA0XHUwNzBmXHUxN2I0XHUxN2I1XHUyMDBjLVx1MjAwZlx1MjAyOC1cdTIwMmZcdTIwNjAtXHUyMDZmXHVmZWZmXHVmZmYwLVx1ZmZmZl0vZywgYyA9IHsKIlxiIjogIlxcYiIsCiJcdCI6ICJcXHQiLAoiXG4iOiAiXFxuIiwKIlxmIjogIlxcZiIsCiJcciI6ICJcXHIiLAoiXFwiOiAiXFxcXCIsCiciJzogJ1xcIicKfSwgaCA9IG5ldyBSZWdFeHAoJyg/OmZhbHNlfHRydWV8bnVsbHxbXFx7XFx9XFxbXFxdXXwoPzotP1xcYig/OjB8WzEtOV1bMC05XSopKD86XFwuWzAtOV0rKT8oPzpbZUVdWystXT9bMC05XSspP1xcYil8KD86Iig/OlteXFwwLVxceDA4XFx4MGEtXFx4MWYiXFxcXF18XFxcXCg/OlsiL1xcXFxiZm5ydF18dVswLTlBLUZhLWZdezR9KSkqIikpJywgImciKSwgZiA9IG5ldyBSZWdFeHAoIlxcXFwoPzooW151XSl8dSguezR9KSkiLCAiZyIpLCBnID0gewonIic6ICciJywKIi8iOiAiLyIsCiJcXCI6ICJcXCIsCmI6ICJcYiIsCmY6ICJcZiIsCm46ICJcbiIsCnI6ICJcciIsCnQ6ICJcdCIKfSwgcCA9IG5ldyBTdHJpbmcoIiIpLCBtID0gIlxcIjsKdC5leHBvcnRzID0gZDsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fanhfdWlfV2lkZ2V0ID0gaSg3KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIiIsICIiLCBbXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiCn0gXSwgdSA9IGRbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBzLm1hbmdsZUlEcyhvLCBkWzNdKSwgZFs0XSksIGMgPSB1IHx8IHRoaXM7CnMuc2V0KG8sIGMpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgaCA9IGZ1bmN0aW9uKCkgewp2YXIgdCwgZSwgbiwgbywgciwgYSwgcywgXyA9IGkoMTYpLCBsID0gaSg2KSwgZCA9IGkoOTIpLCB1ID0gaSgzNzkpLCBoID0gaSgzNjYpLCBmID0gaSgyNDUpLCBnID0gaSgyMzEpLCBwID0gaSgyMjMpLCBtID0gaSgyMjEpLCAkID0gaSgyMTIpLCBiID0gaSgyMTEpLCB3ID0gaSgzNSksIHggPSBpKDExKSwgdiA9IGwucm9vdCwgeSA9IHYuJCgibGl2ZWNoYXQiKS4kKCJ1aSIpLCBqID0geS4kKCJ0aGVtZV9sb2FkZWQkYm9vbCIpLCBDID0geS4kKCJtb2JpbGUkYm9vbCIpLCBTID0geS4kKCJtb2JpbGVfb3ZlcmxheSRib29sIiksIEEgPSB5LiQoInBvcG91dCRib29sIiksIGsgPSB5LiQoIm1vY2t1cCRib29sIik7CiFmdW5jdGlvbigpIHsKZnVuY3Rpb24gaSgpIHsKaWYgKCFlKSB7CmUgPSBuZXcgaChsLCBudWxsLCBudWxsLCBudWxsLCB7CnZpc2liaWxpdHk6ICJoaWRkZW4iLApkYXRhVGVzdElkOiAiQ2hhdFdpZGdldFdpbmRvdyIKfSk7Ck4gfHwgZS5pZnJhbWUuc2V0VGl0bGUoIlplbmRlc2sgQ2hhdCB3aWRnZXQgd2luZG93Iik7Cn0KfQp1LmluaXQoKTsKai5iaW5kVmFsdWUoZnVuY3Rpb24oaSkgewppZiAoaSAmJiAhdCkgewp0ID0gITA7Cl8oZnVuY3Rpb24oKSB7CmUgJiYgZS5zZXRWaXNpYmlsaXR5KCIiKTsKbiAmJiBuLnNldFZpc2liaWxpdHkoIiIpOwpvICYmIG8uc2V0VmlzaWJpbGl0eSgiIik7CnIgJiYgci5zZXRWaXNpYmlsaXR5KCIiKTsKYSAmJiBhLnNldFZpc2liaWxpdHkoIiIpOwpzICYmIHMuc2V0VmlzaWJpbGl0eSgiIik7CngucmVmb2N1c0FjdGl2ZUVsZW1lbnQoKTsKfSk7Cn0KfSk7CnZhciBsID0gd2luZG93LmRvY3VtZW50LmJvZHksIHYgPSBrLmdldFZhbHVlKCksIEkgPSBDLmdldFZhbHVlKCksIFQgPSBTLmdldFZhbHVlKCksIE4gPSBBLmdldFZhbHVlKCk7Cih2IHx8IE4pICYmIChsID0gYyk7CmlmIChOKSB7CnZhciBCID0gdy5pT1NWZXJzaW9uOwppZiAoSSAmJiBCICYmIEIgPj0gMTEuMikgewohZnVuY3Rpb24oKSB7CnMgfHwgKHMgPSBuZXcgJChsLCBudWxsLCBudWxsLCBudWxsLCB7CnZpc2liaWxpdHk6ICJoaWRkZW4iLApkYXRhVGVzdElkOiAiQ2hhdFdpZGdldFBvcG91dE1vYmlsZVdpbmRvdyIKfSkpOwp9KCk7CmMuYWRkQ2xhc3MoInBvcG91dCIpOwp9IGVsc2UgewppKCk7CmMuYWRkQ2xhc3MoInBvcG91dCIpOwp9Cn0gZWxzZSBpZiAoSSkgewpkLmluaXQoKTsKIWZ1bmN0aW9uKCkgewppZiAoIW4pIHsKbiA9IG5ldyBnKGwsIG51bGwsIG51bGwsIG51bGwsIHsKdmlzaWJpbGl0eTogImhpZGRlbiIsCmRhdGFUZXN0SWQ6ICJDaGF0V2lkZ2V0TW9iaWxlQnV0dG9uIgp9KTsKbi5pZnJhbWUuc2V0VGl0bGUoIlplbmRlc2sgQ2hhdCB3aWRnZXQgYnV0dG9uIik7Cn0KfSgpOwohZnVuY3Rpb24oKSB7CmlmICghbykgewpvID0gbmV3IHAobCwgbnVsbCwgbnVsbCwgbnVsbCwgewp2aXNpYmlsaXR5OiAiaGlkZGVuIiwKZGF0YVRlc3RJZDogIkNoYXRXaWRnZXRNb2JpbGVVbnJlYWRDb3VudEJhZGdlIgp9KTsKby5pZnJhbWUuc2V0VGl0bGUoIlplbmRlc2sgQ2hhdCB3aWRnZXQgdW5yZWFkIGNvdW50IGJhZGdlIik7Cn0KfSgpOwppZiAoVCkgewohZnVuY3Rpb24oKSB7CmlmICghYSkgewphID0gbmV3IG0obCwgbnVsbCwgbnVsbCwgbnVsbCwgewp2aXNpYmlsaXR5OiAiaGlkZGVuIiwKZGF0YVRlc3RJZDogIkNoYXRXaWRnZXRNb2JpbGVXaW5kb3ciCn0pOwphLnNldFRpdGxlKCJaZW5kZXNrIENoYXQgd2lkZ2V0IHdpbmRvdyIpOwp9Cn0oKTsKeS4kKCJtb2JpbGVfbm90aWZpY2F0aW9ucyRib29sIikuZ2V0VmFsdWUoKSAmJiBmdW5jdGlvbigpIHsKaWYgKCFyKSB7CnIgPSBuZXcgYihsLCBudWxsLCBudWxsLCBudWxsLCB7CnZpc2liaWxpdHk6ICJoaWRkZW4iLApkYXRhVGVzdElkOiAiQ2hhdFdpZGdldE1vYmlsZU5vdGlmaWNhdGlvbiIKfSk7CnIuaWZyYW1lLnNldFRpdGxlKCJaZW5kZXNrIENoYXQgd2lkZ2V0IG5vdGlmaWNhdGlvbiIpOwp9Cn0oKTsKfQp9IGVsc2UgewppKCk7CiFmdW5jdGlvbigpIHsKaWYgKCFuKSB7Cm4gPSBuZXcgZihsLCBudWxsLCBudWxsLCBudWxsLCB7CnZpc2liaWxpdHk6ICJoaWRkZW4iLApkYXRhVGVzdElkOiAiQ2hhdFdpZGdldEJ1dHRvbiIKfSk7Cm4uaWZyYW1lLnNldFRpdGxlKCJaZW5kZXNrIENoYXQgd2lkZ2V0IGJ1dHRvbiIpOwp9Cn0oKTsKfQp9KCk7Cn0oKTsKZm9yICh2YXIgZiBpbiBoKSBjW2ZdID0gaFtmXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfV2lkZ2V0LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYsIHRleHRhcmVhLCBpbnB1dCwgYnV0dG9uIjogewpmb250RmFtaWx5OiBbICIkJGZvbnRGYW1pbHkiLCAiJCRjdXN0b21Gb250RmFtaWx5IiBdLApmb250U2l6ZTogIiQkZm9udFNpemUiCn0sCiI6bGFuZyhqYSksIDpsYW5nKGtvKSwgOmxhbmcoemhfQ04pLCA6bGFuZyh6aF9UVykiOiB7CiIqIjogewpmb250V2VpZ2h0OiAibm9ybWFsICFpbXBvcnRhbnQiLApmb250U3R5bGU6ICJub3JtYWwgIWltcG9ydGFudCIKfSwKIjo6cGxhY2Vob2xkZXIiOiB7CmZvbnRTdHlsZTogIm5vcm1hbCAhaW1wb3J0YW50Igp9Cn0sCiImLnBvcG91dCI6IHsKcG9zaXRpb246ICJhYnNvbHV0ZSIsCiJ0b3AsIGxlZnQiOiAwLAoid2lkdGgsIGhlaWdodCI6ICIxMDAlIgp9LAoiKiI6IHsKV2Via2l0VGFwSGlnaGxpZ2h0Q29sb3I6ICJ0cmFuc3BhcmVudCIKfSwKImlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBidXR0b24iOiB7CiImOmZvY3VzIjogewpvdXRsaW5lOiAibm9uZSIKfQp9LAppbWc6IHsKTXNJbnRlcnBvbGF0aW9uTW9kZTogImJpY3ViaWMiCn0sCiJpbnB1dCwgdGV4dGFyZWEiOiB7CiImOi1tb3otcGxhY2Vob2xkZXIsICY6Oi1tb3otcGxhY2Vob2xkZXIiOiB7Cm9wYWNpdHk6IDEKfQp9LAoiaW5wdXQsIGJ1dHRvbiI6IHsKIiY6Oi1tb3otZm9jdXMtaW5uZXIiOiB7CnBhZGRpbmc6IDAsCmJvcmRlcjogMAp9Cn0sCnRhYmxlOiB7CmZvbnRTaXplOiAiMTAwJSIsCmNvbG9yOiAiaW5oZXJpdCIsCmJvcmRlckNvbGxhcHNlOiAiY29sbGFwc2UiLApib3JkZXJTcGFjaW5nOiAwCn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfV2lkZ2V0LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfV2lkZ2V0Igp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQsIGUpIHsKaWYgKCF0Ll92bWxzdHlsZWQpIHsKdmFyIGkgPSB0LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7Cmkuc2V0QXR0cmlidXRlKCJ0eXBlIiwgInRleHQvY3NzIik7Cmkuc3R5bGVTaGVldC5jc3NUZXh0ID0gInZcXDoqe2JlaGF2aW9yOnVybCgjZGVmYXVsdCNWTUwpOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7fSAudm1se2JlaGF2aW9yOnVybCgjZGVmYXVsdCNWTUwpOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7fSI7CnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXS5hcHBlbmRDaGlsZChpKTsKaSA9IG51bGw7CnQuX3ZtbHN0eWxlZCA9ICEwOwp9CnJldHVybiB0LmNyZWF0ZUVsZW1lbnQoIjwiICsgZSArICcgeG1sbnM9InVybjpzY2hlbWFzLW1pY3Jvc29mdC5jb206dm1sIj4nKTsKfQpmdW5jdGlvbiBvKHQpIHsKdmFyIGUgPSB0LnNwbGl0KC9ccysvKTsKaWYgKDQgIT09IGUubGVuZ3RoKSB0aHJvdyAiYmFkIHZpZXdCb3g6ICIgKyB0Owpmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykgewplW2ldID0gcGFyc2VJbnQoZVtpXSwgMTApOwppZiAoaXNOYU4oZVtpXSkpIHRocm93ICJiYWQgdmlld0JveDogIiArIHQ7Cn0KcmV0dXJuIHsKeDogZVswXSwKeTogZVsxXSwKd2lkdGg6IGVbMl0sCmhlaWdodDogZVszXQp9Owp9CmZ1bmN0aW9uIHIodCkgewp2YXIgZSA9IHQuc3BsaXQoIiAiKTsKcmV0dXJuIHsKb2Zmc2V0WDogcGFyc2VJbnQoZVswXSwgMTApLApvZmZzZXRZOiBwYXJzZUludChlWzFdLCAxMCksCmJsdXJSYWRpdXM6IHBhcnNlSW50KGVbMl0sIDEwKSwKY29sb3I6IGVbM10sCm9wYWNpdHk6IHBhcnNlRmxvYXQoZVs0XSksCnJnYmE6ICJyZ2JhKCIgKyBDKGVbM10pLnRvQXJyYXkoKS5qb2luKCIsIikgKyAiLCIgKyBlWzRdICsgIikiCn07Cn0KZnVuY3Rpb24gYSh0KSB7CnZhciBlID0gL2Zyb21cKChbXildK1wpezAsMX0pXCkvLmV4ZWModCksIGkgPSAvdG9cKChbXildK1wpezAsMX0pXCkvLmV4ZWModCksIG4gPSBbXTsKZSAmJiBuLnB1c2goewpzdG9wOiAiMCUiLApjb2xvcjogbmV3IEMoZVsxXSkKfSk7CnQucmVwbGFjZSgvY29sb3Itc3RvcFwoKFteKV0rXCl7MCwxfSlcKS9nLCBmdW5jdGlvbih0LCBlKSB7CmUgPSBzKGUpOwpuLnB1c2goewpzdG9wOiBlLnN1YnN0cmluZygwLCBlLmluZGV4T2YoIiAiKSksCmNvbG9yOiBuZXcgQyhlLnN1YnN0cmluZyhlLmluZGV4T2YoIiAiKSkpCn0pOwp9KTsKaSAmJiBuLnB1c2goewpzdG9wOiAiMTAwJSIsCmNvbG9yOiBuZXcgQyhpWzFdKQp9KTsKcmV0dXJuIG47Cn0KZnVuY3Rpb24gcyh0KSB7CnJldHVybiB0LnJlcGxhY2UoL1ssXHNdKy9nLCAiICIpLnRyaW0oKTsKfQpmdW5jdGlvbiBfKHQsIGUpIHsKZnVuY3Rpb24gaSh0LCBlLCBpLCBuKSB7CmZvciAodmFyIG8gPSAwOyBvIDwgYXJndW1lbnRzLmxlbmd0aDsgbysrKSBhcmd1bWVudHNbb10gPSBwYXJzZUZsb2F0KGFyZ3VtZW50c1tvXSk7CnZhciByID0gKG4gLSBlKSAvIChpIC0gdCk7CnJldHVybiBNYXRoLnJvdW5kKDI3MCAtIDE4MCAqIE1hdGguYXRhbihyKSAvIE1hdGguUEkpOwp9CmUgPSBzKGUpOwp2YXIgbiwgbywgciwgXyA9IGUuc3BsaXQoIiAiKSwgbCA9IFtdOwpfLnNoaWZ0KCk7CnN3aXRjaCAoX1swXSkgewpjYXNlICJsZWZ0IjoKXy5zaGlmdCgpOwpuID0gIjI3MCI7CmJyZWFrOwoKY2FzZSAidG9wIjoKXy5zaGlmdCgpOwpuID0gIjE4MCI7CmJyZWFrOwoKY2FzZSAicmlnaHQiOgpfLnNoaWZ0KCk7Cm4gPSAiOTAiOwpicmVhazsKCmNhc2UgImJvdHRvbSI6Cl8uc2hpZnQoKTsKbiA9ICIwIjsKYnJlYWs7CgpkZWZhdWx0OgpuID0gaS5hcHBseShudWxsLCBfLnNwbGljZSgwLCA0KSk7Cn0KbyA9IGEoZSk7CmZvciAodmFyIGQgPSAwLCB1ID0gby5sZW5ndGg7IGQgPCB1OyBkKyspIHsKciA9IG9bZF07CmwucHVzaChyLnN0b3AgKyAiICIgKyByLmNvbG9yLnRvU3RyUkdCKCkpOwp9CnZhciBjID0gai5jcmVhdGVWTUxOb2RlKHQsICJmaWxsIik7CmMuY2xhc3NOYW1lID0gInZtbCI7CmMuc2V0QXR0cmlidXRlKCJvbiIsICJ0cnVlIik7CmMuc2V0QXR0cmlidXRlKCJ0eXBlIiwgImdyYWRpZW50Iik7CmMuc2V0QXR0cmlidXRlKCJhbmdsZSIsIG4pOwpjLnNldEF0dHJpYnV0ZSgiY29sb3JzIiwgbC5qb2luKCIsIikpOwpjLnNldEF0dHJpYnV0ZSgibWV0aG9kIiwgInNpZ21hIik7CnIgJiYgMSAhPT0gci5jb2xvci5hbHBoYSAmJiBjLnNldEF0dHJpYnV0ZSgib3BhY2l0eSIsIHIuY29sb3IuYWxwaGEpOwpyZXR1cm4gYzsKfQpmdW5jdGlvbiBsKHQsIGUpIHsKZSA9IHMoZSk7CnZhciBpLCBuID0gZS5zcGxpdCgiICIpOwpuLnNoaWZ0KCk7CnN3aXRjaCAoblswXSkgewpjYXNlICJsZWZ0IjoKbi5zaGlmdCgpOwppID0gIjAlIDAlIDEwMCUgMCUiLnNwbGl0KCIgIik7CmJyZWFrOwoKY2FzZSAidG9wIjoKbi5zaGlmdCgpOwppID0gIjAlIDAlIDAlIDEwMCUiLnNwbGl0KCIgIik7CmJyZWFrOwoKY2FzZSAicmlnaHQiOgpuLnNoaWZ0KCk7CmkgPSAiMTAwJSAwJSAwJSAwJSIuc3BsaXQoIiAiKTsKYnJlYWs7CgpjYXNlICJib3R0b20iOgpuLnNoaWZ0KCk7CmkgPSAiMCUgMTAwJSAwJSAwJSIuc3BsaXQoIiAiKTsKYnJlYWs7CgpkZWZhdWx0OgppID0gbi5zcGxpY2UoMCwgNCk7Cn0KdmFyIG8gPSB0LmNyZWF0ZUVsZW1lbnROUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCAibGluZWFyR3JhZGllbnQiKSwgciA9ICJncmFkXyIgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKSArIE1hdGgucm91bmQoMTAwMSAqIE1hdGgucmFuZG9tKCkpOwpvLnNldEF0dHJpYnV0ZSgiaWQiLCByKTsKby5zZXRBdHRyaWJ1dGUoIngxIiwgaVswXSk7Cm8uc2V0QXR0cmlidXRlKCJ5MSIsIGlbMV0pOwpvLnNldEF0dHJpYnV0ZSgieDIiLCBpWzJdKTsKby5zZXRBdHRyaWJ1dGUoInkyIiwgaVszXSk7Cm8uc2V0QXR0cmlidXRlKCJncmFkaWVudFVuaXRzIiwgIm9iamVjdEJvdW5kaW5nQm94Iik7CmZvciAodmFyIF8sIGwsIGQgPSBhKGUpLCB1ID0gMDsgdSA8IGQubGVuZ3RoOyB1KyspIHsKbCA9IGRbdV07Cmwuc3RvcC5pbmRleE9mKCIlIikgPiAtMSA/IGwuc3RvcCA9IHBhcnNlRmxvYXQobC5zdG9wKSAvIDEwMCA6IGwuc3RvcCA9IHBhcnNlRmxvYXQobC5zdG9wKTsKXyA9IHQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsICJzdG9wIik7Cl8uc2V0QXR0cmlidXRlKCJvZmZzZXQiLCBsLnN0b3ApOwpfLnNldEF0dHJpYnV0ZSgic3RvcC1jb2xvciIsIGwuY29sb3IudG9TdHJSR0IoKSk7Cl8uc2V0QXR0cmlidXRlKCJzdG9wLW9wYWNpdHkiLCBsLmNvbG9yLmFscGhhKTsKby5hcHBlbmRDaGlsZChfKTsKfQpyZXR1cm4gbzsKfQpmdW5jdGlvbiBkKHQpIHsKZnVuY3Rpb24gZSh0KSB7CmZvciAodmFyIGUgPSB0Lmxlbmd0aDsgZS0tOyApIHRbZV0gKz0gc1tlICUgMl07Cm4odCk7CnJldHVybiB0Owp9CmZ1bmN0aW9uIGkodCwgZSkgewpfLnB1c2goewpjb21tYW5kOiBTW3RdLApjb29yZHM6IGUKfSk7Cn0KZnVuY3Rpb24gbih0KSB7CmlmICgyID09IHQubGVuZ3RoKSB7CmgueC5wdXNoKHRbMF0pOwpoLnkucHVzaCh0WzFdKTsKfSBlbHNlIHsKaWYgKDYgIT0gdC5sZW5ndGgpIHRocm93ICJwcm9ibGVtIHdpdGggdXBkYXRlQkJveCI7CnZhciBlID0gbyhzLmNvbmNhdCh0KSk7CmgueC5wdXNoKGUubWluWCwgZS5tYXhYKTsKaC55LnB1c2goZS5taW5ZLCBlLm1heFkpOwp9Cn0KZnVuY3Rpb24gbyh0KSB7CnZhciBlID0gdFswXSwgaSA9IHRbMV0sIG4gPSB0WzJdLCBvID0gdFszXSwgYSA9IHRbNF0sIHMgPSB0WzVdLCBfID0gdFs2XSwgbCA9IHRbN10sIGQgPSBbIGUsIF8gXS5jb25jYXQocihlLCBuLCBhLCBfKSksIHUgPSBbIGksIGwgXS5jb25jYXQocihpLCBvLCBzLCBsKSk7CnJldHVybiB7Cm1pblg6IE1hdGgubWluLmFwcGx5KG51bGwsIGQpLAptaW5ZOiBNYXRoLm1pbi5hcHBseShudWxsLCB1KSwKbWF4WDogTWF0aC5tYXguYXBwbHkobnVsbCwgZCksCm1heFk6IE1hdGgubWF4LmFwcGx5KG51bGwsIHUpCn07Cn0KZnVuY3Rpb24gcih0LCBlLCBpLCBuKSB7CnZhciBvLCByLCBhLCBzID0gW10sIF8gPSBbXTsKaWYgKHQgLSAzICogZSArIDMgKiBpIC0gbiAhPSAwKSB7CnIgPSAoTWF0aC5zcXJ0KC10ICogaSArIHQgKiBuICsgZSAqIGUgLSBlICogaSAtIGUgKiBuICsgaSAqIGkpIC0gdCArIDIgKiBlIC0gaSkgLyAoMyAqIGUgLSB0IC0gMyAqIGkgKyBuKTsKYSA9ICgtTWF0aC5zcXJ0KC10ICogaSArIHQgKiBuICsgZSAqIGUgLSBlICogaSAtIGUgKiBuICsgaSAqIGkpIC0gdCArIDIgKiBlIC0gaSkgLyAoMyAqIGUgLSB0IC0gMyAqIGkgKyBuKTsKcy5wdXNoKHIsIGEpOwp9IGVsc2UgaWYgKHQgLSAzICogZSArIDMgKiBpIC0gbiA9PSAwICYmIHQgLSAyICogZSArIGkgIT09IDApIHsKbyA9ICh0IC0gZSkgLyAoMiAqICh0IC0gMiAqIGUgKyBpKSk7CnMucHVzaChvKTsKfQpmb3IgKHZhciBsID0gMDsgbCA8IHMubGVuZ3RoOyBsKyspIHsKbyA9IHNbbF07Cm8gPCAwIHx8IG8gPiAxIHx8IF8ucHVzaChNYXRoLnBvdygxIC0gbywgMykgKiB0ICsgMyAqICgxIC0gbykgKiAoMSAtIG8pICogbyAqIGUgKyAzICogKDEgLSBvKSAqIG8gKiBvICogaSArIG8gKiBvICogbyAqIG4pOwp9CnJldHVybiBfOwp9CnQgPSB0LnJlcGxhY2UoL1tBLVphLXpdL2csICIgJCYgIikucmVwbGFjZSgvLC9nLCAiICIpLnJlcGxhY2UoLy0vZywgIiAtIikucmVwbGFjZSgvXHMrL2csICIgIikudHJpbSgpOwpmb3IgKHZhciBhID0gdC5zcGxpdCgiICIpLCBzID0gWyAwLCAwIF0sIF8gPSBbIHsKY29tbWFuZDogImJlZ2luUGF0aCIKfSBdLCBsID0gMCwgZCA9IGEubGVuZ3RoOyBsIDwgZDsgbCsrKSBpZiAoIS9eW0EtWmEtel0vLnRlc3QoYVtsXSkpIHsKYVtsXSA9IHBhcnNlRmxvYXQoYVtsXSk7CmlmIChpc05hTihhW2xdKSkgdGhyb3cgbmV3IHdpbmRvdy5FcnJvcigiQmFkIHBhdGggYWZ0ZXIgIiArIGEuc2xpY2UoMCwgbCkuam9pbigiICIpKTsKfQpmb3IgKHZhciB1LCBjID0gW10sIGggPSB7Cng6IFtdLAp5OiBbXQp9OyBhLmxlbmd0aDsgKSB7Ci9eW2Etel0kL2kudGVzdChhWzBdKSAmJiAodSA9IGEuc2hpZnQoKSk7CnN3aXRjaCAodSkgewpjYXNlICJNIjoKYyA9IGEuc3BsaWNlKDAsIDIpOwpuKGMpOwppKCJNIiwgYyk7CnMgPSBjOwpicmVhazsKCmNhc2UgIm0iOgpjID0gZShhLnNwbGljZSgwLCAyKSk7CmkoIk0iLCBjKTsKcyA9IGM7CmJyZWFrOwoKY2FzZSAiWiI6CmNhc2UgInoiOgppKCJaIiwgW10pOwpicmVhazsKCmNhc2UgImwiOgpjID0gZShhLnNwbGljZSgwLCAyKSk7CmkoIkwiLCBjKTsKcyA9IGM7CmJyZWFrOwoKY2FzZSAiTCI6CmMgPSBhLnNwbGljZSgwLCAyKTsKbihjKTsKaSgiTCIsIGMpOwpzID0gYzsKYnJlYWs7CgpjYXNlICJjIjoKYyA9IGUoYS5zcGxpY2UoMCwgNikpOwppKCJDIiwgYyk7CnMgPSBbIGNbNF0sIGNbNV0gXTsKYnJlYWs7CgpkZWZhdWx0Ogp0aHJvdyBuZXcgd2luZG93LkVycm9yKCJVbmtub3duIGNhbnZhcyBjb21tYW5kOiAiICsgdSk7Cn0KfQp2YXIgZiA9IGZ1bmN0aW9uKHQpIHsKZm9yICh2YXIgZSA9IDAsIGkgPSBfLmxlbmd0aDsgZSA8IGk7IGUrKykgewp2YXIgbiA9IF9bZV07CnRbbi5jb21tYW5kXS5hcHBseSh0LCBuLmNvb3Jkcyk7Cn0KfTsKZi5iQm94ID0gewptaW5YOiBNYXRoLm1pbi5hcHBseShudWxsLCBoLngpLAptaW5ZOiBNYXRoLm1pbi5hcHBseShudWxsLCBoLnkpLAptYXhYOiBNYXRoLm1heC5hcHBseShudWxsLCBoLngpLAptYXhZOiBNYXRoLm1heC5hcHBseShudWxsLCBoLnkpCn07CnJldHVybiBmOwp9CmZ1bmN0aW9uIHUodCkgewpmdW5jdGlvbiBlKHQsIG4pIHsKdCA9IG5ldyB0LmNvbnN0cnVjdG9yKHQsIGkpOwp0LmlkICYmICFuICYmIHkuc2V0KHQuaWQsIHQpOwp0LmF0dHJpYnV0ZXMgJiYgdC5zZXRBdHRyaWJ1dGVzKHQuYXR0cmlidXRlcyk7CmlmICh0LmNoaWxkcmVucykgZm9yICh2YXIgbyA9IDAsIHIgPSB0LmNoaWxkcmVucy5sZW5ndGg7IG8gPCByOyBvKyspIHQuY2hpbGRyZW5zW29dID0gZSh0LmNoaWxkcmVuc1tvXSk7CnJldHVybiB0Owp9CnZhciBpID0gbmV3IGModCk7CnYuZXh0ZW5kKGkpOwplKGksICJpZ25vcmUtaWQiKTsKcmV0dXJuIGk7Cn0KZnVuY3Rpb24gYyh0LCBlKSB7CnQgfHwgKHQgPSB7fSk7CnRoaXMuaWQgPSB0LmlkOwplICYmICh0aGlzLnJvb3QgPSBlKTsKdGhpcy5hdHRyaWJ1dGVzID0gdC5hdHRyaWJ1dGVzOwp0aGlzLmNoaWxkcmVucyA9IHQuY2hpbGRyZW5zOwp9CmZ1bmN0aW9uIGgodCkgewpyZXR1cm4gdC5yZXBsYWNlKC9eXHcvLCBmdW5jdGlvbih0KSB7CnJldHVybiB0LnRvVXBwZXJDYXNlKCk7Cn0pOwp9CmZ1bmN0aW9uIGYodCwgZSkgewpzd2l0Y2ggKHQpIHsKY2FzZSAidmlld0JveCI6CnJldHVybiBvKGUpOwoKY2FzZSAicGF0aCI6CnJldHVybiBkKGUpOwoKY2FzZSAiZmlsbCI6CnJldHVybiBnKGUpOwoKY2FzZSAic2hhZG93IjoKcmV0dXJuIHIoZSk7CgpkZWZhdWx0OgpyZXR1cm4gZTsKfQp9CmZ1bmN0aW9uIGcodCkgewp0ID0gcyh0KTsKcmV0dXJuIC9saW5lYXIvLnRlc3QodCkgPyBmdW5jdGlvbihlLCBpKSB7CnJldHVybiBwKHQsIGUsIGkpOwp9IDogZnVuY3Rpb24oKSB7CnJldHVybiB0Owp9Owp9CmZ1bmN0aW9uIHAodCwgZSwgaSkgewp0ID0gdC5yZXBsYWNlKC8sL2csICIgIikucmVwbGFjZSgvXHMrL2csICIgIik7CnZhciBuLCBvID0gdC5zcGxpdCgiICIpOwpvLnNoaWZ0KCk7CnN3aXRjaCAoby5zaGlmdCgpKSB7CmNhc2UgImxlZnQiOgpuID0gZS5jcmVhdGVMaW5lYXJHcmFkaWVudChpLm1pblgsIGkubWluWSwgaS5tYXhYLCBpLm1pblkpOwpicmVhazsKCmNhc2UgInRvcCI6Cm4gPSBlLmNyZWF0ZUxpbmVhckdyYWRpZW50KGkubWluWCwgaS5taW5ZLCBpLm1pblgsIGkubWF4WSk7CmJyZWFrOwoKY2FzZSAicmlnaHQiOgpuID0gZS5jcmVhdGVMaW5lYXJHcmFkaWVudChpLm1heFgsIGkubWluWSwgaS5taW5YLCBpLm1pblkpOwpicmVhazsKCmNhc2UgImJvdHRvbSI6Cm4gPSBlLmNyZWF0ZUxpbmVhckdyYWRpZW50KGkubWluWCwgaS5tYXhZLCBpLm1pblgsIGkubWluWSk7Cn0KZm9yICh2YXIgciwgcyA9IGEodCksIF8gPSAwOyBfIDwgcy5sZW5ndGg7IF8rKykgewpyID0gc1tfXTsKci5zdG9wLmluZGV4T2YoIiUiKSA+IC0xID8gci5zdG9wID0gcGFyc2VGbG9hdChyLnN0b3ApIC8gMTAwIDogci5zdG9wID0gcGFyc2VGbG9hdChyLnN0b3ApOwpuLmFkZENvbG9yU3RvcChyLnN0b3AsIHIuY29sb3IudG9TdHJSR0JBKCkpOwp9CnJldHVybiBuOwp9CmZ1bmN0aW9uIG0odCkgewp2YXIgZSA9ICQodCk7CmlmICh0LmJvcmRlcikgewp2YXIgaSA9IHt9LCBuID0gdC5ib3JkZXI7CmZvciAodmFyIG8gaW4gdCkgdC5oYXNPd25Qcm9wZXJ0eShvKSAmJiAoaVtvXSA9IHRbb10pOwppLnggKz0gbjsKaS55ICs9IG47Cmkud2lkdGggLT0gMiAqIG47CmkuaGVpZ2h0IC09IDIgKiBuOwppLnJ4ICYmIChpLnJ4ID0gTWF0aC5tYXgoaS5yeCAtIG4sIDEpKTsKaS5yeSAmJiAoaS5yeSA9IE1hdGgubWF4KGkucnkgLSBuLCAxKSk7CmUgKz0gJChpLCAiQ0NXIik7Cn0KcmV0dXJuIGU7Cn0KZnVuY3Rpb24gJCh0LCBlKSB7CnZhciBpID0gdC5yeCwgbiA9IHQucnksIG8gPSB0LndpZHRoLCByID0gdC5oZWlnaHQsIGEgPSB0LngsIHMgPSB0LnksIF8gPSBNYXRoLnJvdW5kKHMgKyByIC8gMiksIGwgPSAiIjsKaWYgKGkgfHwgbikgewp2YXIgZCA9IC41NTIyODQ4ICogaSwgdSA9IC41NTIyODQ4ICogbiwgYyA9IG8gLSAyICogaSwgaCA9IHIgLSAyICogbjsKbCA9IGUgPyB3KCJNIiwgYSArIG8sIHMgKyBuKSArICh0LmNvcm5lcjIgPyBiKC1pLCAtbiwgZCwgdSwgMSkgOiB3KCJsIiwgMCwgLW4sIC1pLCAwKSkgKyB3KCJsIiwgLWMsIDApICsgKHQuY29ybmVyMSA/IGIoLWksIG4sIGQsIHUsIDEpIDogdygibCIsIC1pLCAwLCAwLCBuKSkgKyB3KCJsIiwgMCwgaCkgKyAodC5jb3JuZXI0ID8gYihpLCBuLCBkLCB1LCAxKSA6IHcoImwiLCAwLCBuLCBpLCAwKSkgKyB3KCJsIiwgYywgMCkgKyAodC5jb3JuZXIzID8gYihpLCAtbiwgZCwgdSwgMSkgOiB3KCJsIiwgaSwgMCwgMCwgLW4pKSArICJ6IiA6IHcoIk0iLCBhLCBzICsgbikgKyAodC5jb3JuZXIxID8gYihpLCAtbiwgZCwgdSkgOiB3KCJsIiwgMCwgLW4sIGksIDApKSArIHcoImwiLCBjLCAwKSArICh0LmNvcm5lcjIgPyBiKGksIG4sIGQsIHUpIDogdygibCIsIGksIDAsIDAsIG4pKSArIHcoImwiLCAwLCBoKSArICh0LmNvcm5lcjMgPyBiKC1pLCBuLCBkLCB1KSA6IHcoImwiLCAwLCBuLCAtaSwgMCkpICsgdygibCIsIC1jLCAwKSArICh0LmNvcm5lcjQgPyBiKC1pLCAtbiwgZCwgdSkgOiB3KCJsIiwgLWksIDAsIDAsIC1uKSkgKyAieiI7Cn0gZWxzZSB7CmUgJiYgKHIgPSAtcik7CmwgPSB3KCJNIiwgYSwgXykgKyB3KCJsIiwgMCwgZSA/IHMgLSByIC0gXyA6IHMgLSBfKSArIHcoImwiLCBvLCAwKSArIHcoImwiLCAwLCByKSArIHcoImwiLCAtbywgMCkgKyAieiI7Cn0KcmV0dXJuIGw7Cn0KZnVuY3Rpb24gYih0LCBlLCBpLCBuLCBvKSB7CnZhciByID0gdCA+IDAgPyAxIDogLTEsIGEgPSBlID4gMCA/IDEgOiAtMSwgcyA9IG8gPyAtciAqIGEgOiByICogYTsKcmV0dXJuIHcoImMiLCAxID09IHMgPyByICogaSA6IDAsIDEgPT0gcyA/IDAgOiBhICogbiwgMSA9PSBzID8gdCA6IHQgLSByICogaSwgMSA9PSBzID8gZSAtIGEgKiBuIDogZSwgdCwgZSk7Cn0KZnVuY3Rpb24gdyh0KSB7CnZhciBlID0gIiAiLCBpID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmFwcGx5KGFyZ3VtZW50cyk7CmlmICgic3RyaW5nIiA9PSB0eXBlb2YgaVswXSAmJiAvXltBLVphLXpdJC8udGVzdChpWzBdKSkgewplICs9IHQ7Cmkuc2hpZnQoKTsKfQpmb3IgKHZhciBuID0gMCwgbyA9IGkubGVuZ3RoOyBuIDwgbzsgbisrKSBlICs9IE1hdGgucm91bmQoaVtuXSkgKyAiICI7CnJldHVybiBlOwp9CnZhciB4ID0gaSg4KSwgdiA9IChpKDIpLCBpKDE0KSksIHkgPSBpKDQpLCBqID0gewpwYXJzZVZpZXdCb3g6IG8sCnBhcnNlU2hhZG93OiByLApkZXRlY3RlZEdyYXBoaWNUeXBlOiBmdW5jdGlvbigpIHsKdmFyIHQgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5oYXNGZWF0dXJlKCJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0Jhc2ljU3RydWN0dXJlIiwgIjEuMSIpOwpyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikuZ2V0Q29udGV4dCA/ICJjYW52YXMiIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TICYmIHQgPyAic3ZnIiA6IHguaXNJRSA/ICJ2bWwiIDogIm5vbmUiOwp9KCksCmdldEdyYWRDb2xvcnM6IGEsCnBhcnNlQ2FudmFzRGF0YTogdSwKQ2FudmFzRGF0YTogYywKZ2VuZXJhdGVWbWxMaW5lYXJHcmFkaWVudDogXywKZ2VuZXJhdGVTdmdMaW5lYXJHcmFkaWVudDogbCwKZ2VuZXJhdGVDYW52YXNHcmFkaWVudDogcCwKZ2VuZXJhdGVfZHJhd2luZ19mdW5jdGlvbjogZCwKZ2VuZXJhdGVSZWN0UGF0aDogbSwKY3JlYXRlVk1MTm9kZTogbgp9LCBDID0gaSgxMjApLCBTID0gewpNOiAibW92ZVRvIiwKTDogImxpbmVUbyIsCkM6ICJiZXppZXJDdXJ2ZVRvIiwKWjogImNsb3NlUGF0aCIKfTsKYy5wcm90b3R5cGUuc2V0QXR0cmlidXRlID0gZnVuY3Rpb24odCwgZSkgewp0aGlzLmF0dHJpYnV0ZXNbdF0gPSBmKHQsIGUpOwp0aGlzLnJlZnJlc2goKTsKcmV0dXJuIHRoaXM7Cn07CmMucHJvdG90eXBlLnNldEF0dHJpYnV0ZXMgPSBmdW5jdGlvbih0KSB7CmZvciAodmFyIGUgaW4gdCkgaWYgKHQuaGFzT3duUHJvcGVydHkoZSkpIHsKdmFyIGkgPSAic2V0IiArIGgoZSk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHRoaXNbaV0gJiYgdGhpc1tpXSh0W2VdKTsKfQp9OwpjLnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24oKSB7CnRoaXMucm9vdCA/IHRoaXMucm9vdC5maXJlKCJ1cGRhdGUiKSA6IHRoaXMuZmlyZSgidXBkYXRlIik7CnJldHVybiB0aGlzOwp9OwpjLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGUgPSBmdW5jdGlvbih0KSB7CnJldHVybiB0aGlzLmF0dHJpYnV0ZXNbdF07Cn07CmMucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHsKdGhpcy5pZCAmJiB5LnVuc2V0KHRoaXMpOwp0aGlzLnJvb3QgPSBudWxsOwp2YXIgdCA9IHRoaXMuY2hpbGRyZW5zOwppZiAodCkgZm9yICh2YXIgZSA9IDAsIGkgPSB0Lmxlbmd0aDsgZSA8IGk7IGUrKykgdFtlXSBpbnN0YW5jZW9mIGMgJiYgdFtlXS5kZXN0cm95KCk7Cn07CmZvciAodmFyIEEgPSAib3BhY2l0eSBmaWxsIHN0cm9rZSBzdHJva2VXaWR0aCBkIHBhdGggc2hhZG93IHZpZXdCb3giLnNwbGl0KCIgIiksIGsgPSAwOyBrIDwgQS5sZW5ndGg7IGsrKykgewp2YXIgSSA9IEFba107CmMucHJvdG90eXBlWyJzZXQiICsgaChJKV0gPSBmdW5jdGlvbih0KSB7CnJldHVybiBmdW5jdGlvbihlKSB7CnJldHVybiB0aGlzLnNldEF0dHJpYnV0ZSh0LCBlKTsKfTsKfShJKTsKfQp0LmV4cG9ydHMgPSBqOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4odCwgZSwgaSwgbywgcikgewppZiAoISh0aGlzIGluc3RhbmNlb2YgbikpIHJldHVybiBuZXcgbih0LCBlLCBpLCBvLCByKTsKcy5jYWxsKHRoaXMsIHQsIGUsIGksIG8sIHIpOwp0aGlzLnNldEJhc2U2NChhKTsKdGhpcy5zZXRGb250KCJ6b3BpbSIpOwp9CnZhciBvID0gaSgxKSwgciA9IGkoMCksIGEgPSB7CndvZmY6ICJkMDlHUmdBQkFBQUFBRExBQUJFQUFBQUFTSGdBQVFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQkdSbFJOQUFBQmdBQUFBQndBQUFBY2lLRGdtVWRFUlVZQUFBR2NBQUFBSEFBQUFCNEFKd0JCVDFNdk1nQUFBYmdBQUFCQUFBQUFWbGRCWkN4amJXRndBQUFCK0FBQUFUZ0FBQU1PdWdrRG9XTjJkQ0FBQUFNd0FBQUFDZ0FBQUFvQWt3Q0labkJuYlFBQUF6d0FBQUd4QUFBQ1pWTzBMNmRuWVhOd0FBQUU4QUFBQUFnQUFBQUlBQUFBRUdkc2VXWUFBQVQ0QUFBcC9RQUFPcFFWYnA5SmFHVmhaQUFBTHZnQUFBQXhBQUFBTmk5ZHZFeG9hR1ZoQUFBdkxBQUFBQjRBQUFBa0kyWWVpbWh0ZEhnQUFDOU1BQUFBZVFBQUFNenRYQWI3Ykc5allRQUFMOGdBQUFCNEFBQUFlRlduWTFodFlYaHdBQUF3UUFBQUFDQUFBQUFnQVdnRE0yNWhiV1VBQURCZ0FBQUJNQUFBQWlnR3AxeHRjRzl6ZEFBQU1aQUFBQUQyQUFBQ2hnK0x2d053Y21Wd0FBQXlpQUFBQUM0QUFBQXVzUElyRkhkbFltWUFBREs0QUFBQUJnQUFBQWFMN0Z3OUFBQUFBUUFBQUFEWDJtaFNBQUFBQU5oak85MEFBQUFBMkdNOGFYamFZMkJrWUdEZ0FXSXhJR1ppWUFSQ0t5Qm1BZk1ZQUFZY0FHbDQybU5nWkxWbW5NREF5c0RDMU1sMGhvR0JvUjlDTTc1bU1HTGtZR0JnWW1CbFpzQUtBdEpjVXhnY0dCVC8vMmNCODFrWUdMbUJGQ09JRFFERkp3a2hlTnJOMGsxS0F6RVlCdUEzN1ZTbDZsVDdCOTFOaGs1blVVRVFmNHNuRUJTdm9vTG5LSFJSdXVzQnZFRTlncmlVanVBd3VDbmQ2MjR3dnNrM2JnUVJYQmw0NWsxQ1F2S0ZBVkFCVUtZZDh1Z0JpbCtVMWppcjNId1pWVGZ2WWNyc0ltRFBnMFlmTXozU1l6M1JDNzBNNjFIZUcvU21zUjgzNDNiV3lVSmp1RnBXRFg5WWhTd3d4cnlheEp5bHQrbE5lcDFHYWZjbGYyNGtUOGxWNHMzTi9DTm9CVFc1MGE5dHczN1VhVEhxdU5PRnJhOWZzRFhPQ3F4ZEQybkUvZ3B6TEd5OWVpS3d6bHdJZTRKZUNtd0NZVjNBQjZKY29BYjBCZ0piektuQU5oRDdBdHdUTndVYXpMWUF4eGtqczNkdk1RTUsyZCtGZWp1bkMvYjNtSGNPc005OGRJQUQ1c0lCRHFIZVZ4M2dpRmwxZ0dQbXBRT2NNTzhkZ0hkVnJQL3JtVlhKL2dEZlhsY1Y3eWpOd3o5dWxUL3Urd1QvcG1BVUFBQUFQUUJiQUVzQU9BQUFlTnBkVWJ0T1cwRVEzUTBQQTRIRTJDQTUyaFN6bVpER2U2RUZDY1RWaldKa080WGxDR2szY3BHTGNRRWZRSUZFRGRxdkdhQ2hwRWliQmlFWFNIeENQaUVTTTJ1SW9qUTdPN056enBrelM4cVJxbmZwYTg5VDV5U1F3dDBHelRiOVRraTFzd0QzcE92cmpZeTBnd2RhYkdiMHluWDcvZ3NHbTlHVU8yb0E1VDF2S1E4WlRUdUJXclNuL3RIOENvYjcvQi96T3hpME5OUDAxRG9KNlNFRTVwdHhTNFB2R2MyNnl3LzZndFhoWWpBd3BKaW00aTQvcGxMK3R6VG5hc3V3dFpIUnZJTXpFZm5KTkVCVGEyMEVtdjdVSWRYemNSUkxrTXVtc1RhWW1MTCtKQlBCaGNsMFZWTzF6UGphd1YyeXMraGdneXJOZ1FmWXcxWjVEQjRPRHlZVTByY2t5aXdORWZaaXE4UUlFWk1jQ2pubDNNbitwRUQ1U0JMR3ZFbEtPK09HdFFiR2tkZkFvRFpQcy84OG0wMXRieDNDK0ZrY3dYZS9HVXM2K01pRzJoZ1JZanRpS1lBSlJFSkdWZm1HR3MrOUxBYmtVdnZQUUpTQTVmR1BmNTBJdE83WVJEeVh0WFVPTVZZSWVuN2IzUExMaXJ0V3VjNkxRbmR2cW1xbzBpbk4rMTdPdnNjRG5oNEx3MEZqd1p2UCsvNUtnZm84TEs0MGFBNEVRM28zZXYraXRlcUlxN3dYUHJJbjA3K3hXZ0FBQUFBQkFBSC8vd0FQZU5xTmV3bDRHOWQxN3R3WkFJTWRNNE5sc084WWtGakp3VElBRjRDa0tJbWJLSXFrS0VvaUpkR3k5dDJTbDhTU1pkZXlJeVZlRTZkSjdDeHVQMGRabkxZREtuWlNKMjJWdnI0a2ZpMCtOeTk5ZXUyWE9rbVRObldjcFg2dGE4ZXVDYjF6WjBCYVZ0ejNTb0tETzNkbTd0eDd6bi9PL2MrNWx3UkZFTlRmRWd6MUNxRW5XTUpIRUl6REpaYUxRaXlxSzVZTG9zdWhpMHFGVXF5VTdBb2doMWFuMVZLVVJvUC9kS1NHUXRSUG9VYW5OZW5nWEtORFdnUWZhSkF3RTE3cVI5UXZDVHZoSjhKRWpwQTFlZG5YbFBtOEhHZ2lPWktYaVd0UWtoMmlIR0FhWVpTVzNhSnNhRGFpS0UxMGRVdU9JQ3BFeEJvcXNjVWNpa1dpVnVRa2ltWGNsMWlVWWd1c09WS0praTlIcWhINHJNU2lsUWk2VkptcVZqczZLdDk2SWxLSndJZjhvZnE5Y2hUcXB5cUlReDlySFNPZ2E5ZGIxQ3ZVendnVFFiQVJhQ2xTaXJBeE5vSWUreTU2ckhYeXU2MlQ2Qkg0VTg4SXVKOGkzTlRmVUQ4bnRBUWhHWkRkZ2lqcWUrL2tmdzk5dG5XTEcvMFUvYnExWTZTQTcvc090QnVGZHUwRXdUbDRoQ1dZTkNBNFFQOTFOUHBPQUgwME1Oc2JiRDJQTmdRQ3RxU2pJOUE2VFFabkE2M2pnZDZaSUJxRDZ0bUF6WWFnbW9EMnJsOG5YcWIrbWFxQVJnaXlLS0d5Q0czaTBVT2p1aWdLb29maGRtaXl0ek1GYmJaZUNNd2lQMVE4SEF5MlRnUm5lZ05vdlBWQ0VQZnJMNkJmSWVnWHRDTVZZUVJDVVcyS2htYUV2MUR2NjRNT1BOUitjbThxZ0R1RDIyaWREczdneWw3Y0RrSDhDT1RXZzl0aGxQRkJuekJHYUdneStqN2RJZCtHWjA4SGJodzJIaGR4bWpoRm5hUnVJNHdFVVVNU1NrYllKTEtpMDRZSU92OGFPZnozclljamsvSmNCQjM2eWNvZnZ0NjZQNkxGejl4Rm5LRnVwODdnWnlTV1J6WGtBb255ZC8wOU9oMlpyT3VqcmZ0ZU8wTk92NDdPUlRTMXVXanJFLzhBSW9OM2RVQi9ud1pNOHdTaDZwaU5PVGlkcXhlQjFndGlXUUJKVXErY2ZPZk5FMS9VQlVPWGYvaUZZRWpuYXIzWWVyRURYV2o5QWpuL0hCMktPVnF2Z3FoaUxpUzFYb1IrdUsvL2xQb2U5UksweUJGSWR1ZGw3VFhaM0d4NEZNeHlRZzJGRUl0UjZtU2xjaEJCSDYwb2lTS0dyc25RUDBpVDBrOURrM2xUdVBXNGUxT285VENTSnZ1TkhwazhucFNrNU1xVFgrWk45VTN1MXErQ0JqZUtLM0lpMENQVUsrUWM0SThqWkNJdlUyQTFtbnhEcTd3TG81WjY1UjAzZXVTN3FtN1dmcm9KUUdvR2RQNU5EUUcyTEJFRHhDZ3hUVFFKMlp5WHMwMTVPQytQTnVWTmVibGVrTGMwNVI1Ump1WmxIdHFlVVN6UzM1VDlUS01LNXRqZmxQdVp4amlVTmpmbHpVd2pDU1d1MlppRnI3TDNoYnI4MWg4U3pyVFJLbXNZbWJyYUVORmJjdUVxY1lYU2lJVWMvS0Mxa2p6Z1JZMnFuK1ZrZlZYdVo1L25JOGF1L09DNk9GK1Z4N25sckhtNFdxM0ttOWxsVjNRRGxJakdjSmJsR2wwbHFCeGxHMlVXdmpkeFYveEpZaEEvc1lXVnVXcFh0OTNoNGlsZEVJbDE1Q3FJVWxrQ014T1NRcFRXMFRxK2lNOUYzc1c3bkE1Y0FTWWoySkJVQmtNc0s4b0JmMGJEczJVcEVvMlZWMTFkcGl2clJRWXJwLy9Uc1UxbkR4L29xOWY3RGh6K0RTNzBsNHM3RnE0dDdDaVdjZUhJMkVhYjVlTk9wRTlsWDQ2TDhiaW9OMHdmbVRhMGZrNXF2bzNQUFI2eU12WkliK3R0UFdQUWZjZ0hyUng1OC9DQi9scXQvOERoczBmV1dqbXlzTDFVOXV1TWgxNHlHMHYzZktBUWkzazk4Uk9sOWV1TDN5bkU0NFVZVmlWMS9SM1E0NnZVQmNJS2lQTVJYbUlaZEpvR2Jja2M5cVZJOXVjYkFRVVBRdHRkSmxFT3cwNmp1RXBhRjZVS1ZFeEQ5NHNVSmZiUm50WjV6L0E2YitzOCtuS3dFclRacE9CcGRzdnBzWFI2TEUxK09oMEtwVmR1cFNWL29HUmowTCswL2hMN2NPTDZDdlZMNm9kZ1RUckNReERPQkFJSGtwUjRMR0VRS0lpY1ZtUk9vd090TndySWdQN3B0ZFN2TFl5SjBlbU5wbWloM3hkd3VSZ3J0WUFNM2EyMzBOdS83dmlWemU0SStPTVJJVnBBSnIzVmFDWVVYN2RDUEFudjJRY2pKTWdhNlFvaGJPSzhZa0UyYkVOQ0hpR0JNZ2lWWGtEcVpiNi94K0UwTy9oVzNLUmxzNTY0VzlQNkJVOEtGY0hnVkM0N3pBNW5ieDljTnVnWmsxYmoxaUtIVzNrUHNROTh6LzNVd3dTSXR5eVU2d2dnb2J3TzR3WGVaa1BLTzNYUlBLS3RTRGh0dFRwKzhBT0h4ZEpSS2tFaE9CZDBxRFZ3aEJNb2xFcVhsVXRRNkxCWThEMUJ4MnFGSXhoVUhpYlc1cHdmdy9oQ3hMSUg2OURlWExaN2pPa3JBM2JLa0VheUw5L3dxNFpkSk1Jd2ZJemVkMzhsNkZPWVFCM28wMDlvV3EvcGFLTVZQTEF2R0UxMFpydEw5bk5QdFBhMi9nNjkrcjlSNkRGTjY0ZTB3V0F4Mnl3Mms1bldJMUovK1FPUG9oRFdaWktJVTkrbC9oM200Z3hSQVVuSU9tejNjand2bHd0eXFpbDNpVWl1dG4zQWxZaWYwS2RsUVhFR1diRDRZdk1LVzh4Q0ZYaTdIcFJ1Q0JHdzUyQlZ6b0xkOGpwc3dVVk90b0gxeG5tV3UwS1lyVUd3Vm15bnVQdXFoWmFLUWxTbldtUVVJMGM1dDJQejYwZktKVzBKb3hZb0JzeEx5Y0hhb1dObnp4MDcxRC9nRTN3RmNYYmJkN2ZOaWtWdjBsY3NUNVRoUS81T0NYK1hTT0tlazBjRzFnM1dEeCsvMStIek9RN016eFdLcGVLMkhmdnRiamRLQzZXU3NLQWNGbGFMV0JZN2lRVDFNZW9Od2diNlNJTi9sRjJZbGNoVVh1NHN3QkRsR01naW84aUNFV1c2S2RNcVEwazJzVEFhTkFHREQxVGxNTnR3dW1Eb1NhN2g4NFByVXZ4U0wxSUhsRVl3SkhYODZ2Q1RrUzRhM1RERW5lVUV3bjFDaVRKVktTL3UvdUdlQmFsQ3Z2UFhpTHdIeGdXam8rcEN1U3dzSk1ybFJLdnoxSjVkVXJVcTdWbzZhZGFnMDBybEFseUdzUWd3bHU5UWI0SmV1NGcrWXA2UVRRclBBcjMyRkxEREw4SlkrcFd4YUVHdldxelhqcWFzWlJyZE1LSks4d3BUNllZcVo3TlJnNkYxWUwxU1ZibWJYVGFhZkZpdkZRNDhyc0xJUUZPbEczMnJjbzQxR1ZOOHdNMWp2MUdkQWlpdTBEMjc3VVdzUkZEb1FCMjBlOC9SUTdWNkVRU2dTRUVvcmFwMDF1N3oyUTlzYit2eGdOM3Q0YzZmUERvd0JEbytRUjVWWkhLalJrRUkyRmNTT3dnQmRQb204RG9mWUIxMGFsSHdEVHBORklCWXlpR1FRNGNpQjdNSW9zQVNBSk9UWTgxR0p3eGNpM1ZxcWNwK3R1SGlZZGd4cnNFeXF6cGRnNmlkajNTVnBIZm5taHYxdWFPdE5VUjFJNnpQSCsxZUxGZXdMakZjcVlFMUpMN3pDWXRXdjZaTzhqUHZBbE5QekY4M21JOVJMY0pBT01CSEZZa2hZb2JZUm53UWtjUXlqREY5cFdOKy82azRYOENRSEJDWE9leElQRTM1anZ3eVdUMVNLQlRreFdaRHN5U0tjbGRUTG9qeUlpTmJ3dGZZeHNJdXVCU0I2ZUx1dkd5OEpydWFzb3ZCODRac2E4bzJwaEdIVXFMWkVFdndZSUpwOU1GcHBpbG5tTVk4bEQ3WWxIZUk4Z2VaeG0xd2Nxb3BuMklhQjZDMHY5azRDMUlMdUZodTJXTG1BQ2lOdmdUTTJ4MWRVSnJQZ0E5WU56cTdGWHhBNDdZUGdtQVhxL0lwVnQ1ZGxROXc4aEo0Q1lLRHl0bXE3R0dYa2JBVlAzMEh6WExQRzIxT1Z5RFRoeDliQkNBK3J4UG50bTNmdVZ0eEpYd0pBZWR4b29qVFhpeUg4U1FlaXdwbGgrcGRNQTRCaGFqQTNuaGFpdGxMU2dDRHZRN2NqUnlLS2VwQWZlRDZzZmVSMkJpUVFTZmN3K00vNEcweFZvbDdhTjFhMGNuT0kzZnJkZlM5MXErUWUvZ1poSjc1M0lPWG5ub3NFSjg5NWpQNUVyUGpTZlRPcFlYMWQyMm9qWTNmdWIxeTZkSkNZbXcybDVzS3phSXZIZnBZTVVzUDVYa1RQMFlXUDNibzJNV0xpSDF3Ym1ubjRNNGorNGZHTHRhbHpnMDJ3OFgrYW5tYTJvc09mT0NXMXBOM284aTl6ejU3NzRPWG4vbGZuMDczTGNSS205UDkwc294Rk1uc21UdjNnYW5OVzdlMkhuNDBPanc3UHAzTDlwQWZIZDFmU1BjYXZCYWJaNUlzN0g5bjN5aDZjK1VxT2JCK2MxOGxYNzYxZFQ4YXFZeGxFZzVMNjR1NE5GWnBmWjNBL0hEKyt2L1IxeWdldkY4UHNaczRRanlJbmlDV0Z3Rk95NzdaK3pDUTlqYmxHWEg1SGx3VHp1M0VOZWVhOGdGUjF1ZXZHS1NqcHpFR2p6V1hkY0lwVVJTWGorbnhSSGJzcENFdDZ4blpoQ0ZYR29aSE5NMUd4d1JjMTVqd2RVMEVUM1FmVXIxcVUyYVlCZzBJd202MXB5bEhSYm1IYWVUaEpOZVVjMHlqRjBwTFRYbUphUnlFbXdZT0FUU25tdklVMDNnQUxod1g1ZHViOGtseCtmWUhjTU8zbnpha2x4KzRIUmNmT0dwSU55NHFERlVXZ0hicTZkeUxSSVBXNTE3RW5QV3QrNjV1eFp4Vmk3dHB1R29GdHk1cnI3Nmc2NzY2Q1ZkcjVJR2NWYTVmMVRRT1VXOVo1Y05YdGVBanJ1aTB0RDFORVZmcUE0Y09xOFJXWjZnZmJoUGJScGdCQTlDNHNhZHM1SHNBMUIzVnhsSXZHTUtHamVCRURyTEx3eE9MMkl0T2NmSjhWWDZBYmN6TVlvNTc3aDZ3RUxkei9vT1kwK3JacnhFTVgrM2R2R1VKbng3amxtUDRhVHg5Rm11b0lJWVFuV3hqMGdIOEJBRE9LM0JPQ2xvSVpMQkRCb2kzc1l1RFRleVoyQVI0NmpxNEoyd0h5Zlk5VGphSWVCcFB2aW90QnZOUnpBWHVvM1dKVXFGVWNCYWNzZlpMNmtoNVN3NGk4UG44L3RuWVVKKzJXL0wyRDFyTkpzdmdRR3FlNmh1T3p0L3FjcExXUTk1d3NETThNYzNhRHVyMTJVeFM4anZRUDJaVE96K2R6bTY2b0JYeXFaNk9oWjJrejZmdERrVjkvbGlzSzcxNStraEM4SGY0UTU3SDB1aXA4VVBQUEtQUkJNTDJqcmcybFhmWGg0UEl2Ly91cXNHd1U2dU5kU1kyVENZekNjT0N3ZEEzVkpjcFQydEZiOUlacXJYSy90YkxLTEkrMnBtdzZPalc4Ty9QZE1ScFcyYytiWm1pOVZwNng2N1diM2czTlcwd3VFMFd2V25IZmJONXZWWlBQMlBWL00zdUwzeGg5NzlKZkpBbnFaMDBuWmlmUmliaVhZNzJCbkdDeUtuZUZza244ekp6VGQ3VFhON0RZSFR0T1FIb09nVjQzSU8xbnU5ZHFpb1RoQk9MdDQ3S1V2dTN1NWduUVRtZ0N1Q3RwQ0NWZVFtSXVZQ25UcXhPQ0hyTEJVbGM0M1psNWR1SlBScDJacnpMaGlubzZpR0FkS3QzaGhEK1FraExBOVcwZVdPWi92dHBSSktNdytZeU9ld2Fra1FVcWRIWXRGb2RpVWdOdzQ5cE5SYXJWbThkc1ZvTlZvTldwNk5ORGo1azFwRVVUV3MwSEsxRkpHWFFPVGxiaURGVGxNYm0zMUhMeEwyTXcydzNha2t5MWhIb05GdGRKcWVWTlRnbXRmYUExOFJ3dnFEZXB0ZWFUYjZRM1ljUWFUU0ZGaHloWU1wSzZrblNiTkxaakpRT0lVcWoxVVh0U2NiZGtRdHBTYThqNkxNWmRCWlRTckFiL1FGYTQzZDFXQTJzeldGMldkaVJlSmhRWXZWMlRzWU9iQXlpWFY5ZXRqWXhBOE4wQ3lSY2VwOXNFQUs4RmpHc3NYa0E1QU9vUU1mQUJLTFZLUGxyT01CbmhZTURldjVjSXJzUWpYaXAyYWpaK0pqdTBybTcxYXVyZDdYR3o5MDJsaW1TMUZuRW1FTzNuRzFkUW5lK3QwL2pSTFlkZVkwMVpVbnQyMFJldGw4RDhpQ254Y1ltZ0VUTURrYnZjQ21BZUwvdTJrRzFaUWtnZ1MwdWgvb1Jab1pnWEVVSkt4WElNSWFHaTRmWmljWi9qdFhROWViaC9NQnE2UmdOQ2IwbWs5RmhTM2F6VnRZZHRLWDc2eHVvVUNua1NUUEptRFVSRGZOUm9XUGo1TDQ5TncxMTVXK1J4NDJ5VVZLanI2ZEluVWFEbUVJZzRpbUZJcFRWSEM2RkhLemUwY2xyYkhHM250NDhOcGtyRUlSbVRRNHVpQnVPRVBjVGY5eVd4VlJCWnB2THJBWmJCcnZka1A1cXlxZlpia25qVU9LMnZKd3B5UGRnN2ltTGVYbFhRVDRBSXJ1UWw0OWVrKzhDYW9GbkNDSUxNMFMwS2QrbE92dWRUWGtuMDVpRTBsWncreUwyODQyN2pyTGMxMWhiSUprYUdOcUFYV012Kzd5MnFDL1ZSMGJ4MlU1T25nSmY2bVBCN1k1VzVSUzdIQjBhd2M3Mk5xNlJyTVAzUGV6WHN2bmV1WVhGUFVzS2hWRDFJclZaYXg2cEhJNHVLVlpiVUdNU2JNa3huREpnRlR1TjBESFh1NWtFV2dkYUM1R3JOYXFLWTg1WUthWTZ6OUthdXZuM0JENHFTYllpaUh3QWtIT1Vsck5GSFNYUm5JMUp5ZUZRckJZYjhoa3B1OTZpSVhVa0diVHUyQUQyZE9oeFZKamVidVQ5SmpidXFkcjFWb3VlTFZsU2ppanJ0S0FoYU9jYjlXL0FaeFVYVmM2UlNQY01oVG1UM3VFU3NoVi9KVXByc2ZwcHF6SG80NzFzUEVacWFJdW5jOFp2QWh2VmVHMWV2ODJxdDJtcFhyU1h0S0Q1T2hkTThJbjhxQ1JrN1dabmlqUGFPazB4UnpUU21lNEtZQWlKK0czZk9LY0M2Y2x5c1MvV0dYY0YzRnkxYnlpWjk2VkNMc0RLOWV2WFZ3QXJoNGt5TVFhOGRTL3hNTEdzeFZnWmFjcTllYm5ReEVFVjZEZVVseWNWNWU4QlRuNXJYazVlYTNRcDJTV1pZM0F5cmJFUC9ycVNNRWRtcE1vRTFqWEhmbFdiRS90SGNObkRmZFVhQ2c5UFE1bG85STZBSzBhRUNVL0FtUUtVclZ3WHhzQldWczVWNVJEM25ETzVZOWZ1V3hUOUMrM3BVdzFHVlgyWGI5QlFRWXFvczZ5cU9qemQ0c25VaFcyejdYMVhxU1RPOVFVcEswNGdKTERpY1hvY2dJQ1NpZk1UTS9XZVNDZ0ZidDNyQ01jY0xxUEo3dlJ0NjJ1OTFuYzhIQ3ZtdS9vTmpCWGtQTkRyazNZV1kyRlh5dWJXYVRMaXdlSTBaM2FYMWc5a3pPNWlMRGFBcmp3Mjh1aWpJNCs5ZEVzaW5nejRjaG14YjdQQThuN1dGZlQ2RXNsVVBKN2t2ZkZ5TmwrVWRuaDl5T3Z1aUFkOHY3dHBTRUJHbTkvbThsbXRnN0hPSk5teFl6eEY1aVoyanFjUnloMTg5TkhSUngrRnVjNElldm94NVNQcU9CL1JoelZFTnBmSlBtektwSUJwMmtDK01hZ200bFVRcnpvdVVuVmNxcW5jNUxrQTM5aDFyZGtLenJzWnZhNE5nN1hTNEVHNzNSNzI1aloyaEx5QlRvL1hPM0g0K04zYThvS1VudkFQOTVseTRiNUtaeDhTaEpHSkE2Y2VtSjNhTkUveHJrNDAyYS9SR3lxelhaU0pwcEUva3kxVU00dmxxczd0a2hiS2thQWxGcXZhYVU4dGJUWHR2L1hnbG0xZFJUZVA1L0UzcnJmSTE2aS9JWGdpVHl5NzhOZ0k4TlVGR1RWbFZzVEJNZDFVVXJldWF6SXBRdHdMSVg0N2dXdGZuVko0bUZGMDcwNHBienhSN0x0enVFenVDL2cxMUZmMHo3eUFmdnpFaDNaVmgzU2ZSU3huOXQvMlJDdUlmZ0x6bUtYdEsvY0RneWdUTldJak1VdWNKTzRBbi9rWThSbml5OFMzaVpjSWdzWG82a1c4Q3hnV2hKVWdWRkVxNlNUTUMzQ1FtV3g3RU5xcE1qNmdETDBJeWlRRU1oRm5KQ29VeTcyQVJKQXRMdUQxRUFpMkJVa0JNc3c1UVlTRFVSb3E2WklTaCtjUUhwV1RWcDVYY3AvUS9IdWU3VU0zWEhHcFY1ektwYklBalVKdjE5U1pRd3FIU1FyWUtOcVoxRlE4a1ZuM3h4cVRwb00yR3kwYXErWlBiaEhuQ3RXOGYwT3M5WjN1YlVWVUtlN3loMFo4RytLVi9TSnQwS0dEclUvcURBYmRseXpNdC9IMy92YmhwN2xrUng1Vk11czdoRWc4dC84eXAzUGtOdWNYWEJ4bHBCRkxHNDEwNjEvd2NmL2FZYTMyYVNOOUFCY1AwREt3bkdqSjVtRDBManV0QVZaRGEwbVR6NjZqbVJ4dE5qRW1FNFBHczlOdTc2Y29LcWlsVDFCR1JEMVJXcFFlNzkzSmM0NzBLSkRYYUNLLzA4bnpyZWVzeHVnK3E5RmhQYW96R2kxR1kvcngxQVR2em96bkhrOXZjbm5PSDZEWjNLYldsdFBvRUl1K1pZVjMwOGFqMEFVbzdiU2FBSzZtS2JWeXE4VkNtWTB1djlmR1dEZ1RvaXkwMTJGaEREeERmUjU2bzlkajZnbnhXQi9ZNDFlb0h3SFA2QUcyTVUvc0krNGtsczBZdTNOTmVhK29GcXNRQU9YbDhXYkRsNFp3YUp3QjdDNVQ0aUpFWVBKUVhoWUExZnVWQlFtSW9GSWlEcUxLNEZON1JYbWlLVTh3alJrNDJkNlVSMFY1TzlOWWdoTy9LRHVhT0pnbkdrTlRRRjZRRzRjY0hNN2lzQ3JoQkZpbzFCYXZsbUEwbFpLSzEweVRlT0owMGxFN3E0YlhMTTUvMk5Ya2tGUlFuZzJnR05WZUNsRWlkZW5HVy90Q0xxQ0pPcjJGZFpObjNLeEZyNk5JNUFvR1hTZUJteHFBMG56M094bW5rVHpwZWpEbWNrU1RuYUVUSUVxOThVMERVSC85WlNtYWlrYWR6dWpMK0JEdmpKQS95VVpYdm1RRTlPbU5ScjBGQ3VTMmVEWjQwY0pZN0VacjJ1bThpRmJ1UVQ5MStmMnVWc0NWaUpOUFF0Q3QxMUNZcWVvTnRnMHI5NkYvZEliRHpwYmZHWW13YXpjR2cxZzNUaHdyc3o4QnhzTVJjYUtQbUNTbWlHbGlCalIwQi9FUjRsSGlpMkRWVGVJWFNJczQxSTBxNkM3MEpFSFlJYzRDK2xBQzdpK3RaY2VVT1VXWmNZUWtwZ0oySldyanNlY3NxWFlmaFhwbmw1b3p4TS9qQUFKK2RielVMZGtsbDVNRzI0U1cxZWtxRnFYS2luTnVUMG5ZT0JXT1dWYmNkUjQ1NFNWd3pjNUhrNkJVMEtXaVFqdWUrc0RRZFZqUFZCd3pJckc4bGpGUndzb0l6dXZsVUZRSGZZQXVSclh0QkppUytBdWc5aG51TDNaUXEwMm8rVUJXU1pPeHlrV1hPak9vbVpvYjM2VEdxUC9KcTlRcEdvaFZVYUZvU2N5UmNWUzAxazJWU2psVktRVlJlL1M0OTA1ZHU2c1EzU0dsaVR4YUhab05xVjJiMTVmU29ka2NDdmt5UStOdVR6bWZxUnJxRzZOUm84OVRzZVVuUGVIYmpaWDlRc1FYWk5sUVZ6YTVSOVNUTWVGMzNIeEhvcXRyM0ZXY2RQb0NtVmlJb3lqYlo5Y2pscVdpZmZZT3B5T20yYnRoUTFub0hoc0tHNFpHb3BIeXRuczRMamN2cFAxZWZYQnJ0MUVYOVZKMWNEWXZlRmdrc200MysvM1hqVDVuNi91c3g4TisvMS9SYy9XakE2WDlFYXNlNGpwRDc3ZzBvVUUxbTZ2MzRQa2pHZjN3dnZYMFBVZ0twSVArNE9GZ0lKZ0tWRy9wNlZueUI5RmJQZnNHODVOT3FBbWtndmJOWFVQN3M5SCtqdjdSVVRpZ0wwT1Q1ZjFobTU1bURZeWhaMElhMTZCK2FQUEF2WWN6K25YNzF1dlBvN0RGRk4rUjdNdW1jdG5vbENGbGRYTHp2VDIwM3VMVVV2NTRPSmtYcDNMUjBMb2VQdUNLK05ORC9RYVR5NmhCL3h6b0RCUytUTnVObk5mMCtjZnRac1podFZ5RE92SnpoWjJSVk1sZ0tBdFJrNkF4QnZ5dGZRa2haa2dJMmRsNFg1MWJsNnVodjB3SkpNdUY0MVpENy9HT1dBd0pTNldWSC9lVkNnQU94MWkzYzNPMzFSNEk5MzBkWXRxZXZ4NjluZEdnU0dCb2sxVG9GbFkyQ0YyMmVQK0dlQ3ltdHd3OFRRWUQwYTVzTVNtQmcrOGM5VFBNVnFTajBFb3E0dk5FUFNoa1p1dytkOVRUK3ZHMSs0N1dVekdyM1d4aURkWGhvdDA2ZExpL2ZrSHNyM2Y5eEJrSU9GK1NvckZZVkhvSmw3L2ZlNHNrZFltOXFRZVA5SGNtM0xpSzNJR1ByVGZqNmY1clUrdVMwd1AxbWVSWGxCWnRuTm1rTjl6VTVKK1puTFRUYmVkcVFqbnE5VklXbllGanNuN0tadGJyUEJaT2J3aFdFL2x3a0hjYXpFN0daelBIZFR3eXh2QWI3dXo0Rm0xQXlNdHhsais1emVhMDJsamo1OUZSWnpEb1ZQUGErUEFLOVFyRW9XVmlpUGdVc2N6Z3ljRGJsSVU4cHRBUlpWVVhvaXd0VEFEcmxPd2FjQm9uMDBpQmo0ZnJVYVlSaEpJRWtTdURsMjdrR3BDZ3BteGk1TDZtM0pkdkRBUFZqcWFBYW51RnJJanBkWkJ0eExwd2tpb3FBSjEyVm5zd25ZNndBNFpnWjBxcTlQYlhsSVhZTEhmRmthOFA0S0xJeWwwNHVtS3h2V01LQWs3ZWlsbE1Ebkh0TUVneDU0aXpBTlZRcS9nRnZ1MFp0VGZRNTdBVUlYOFRrY0x3dmFLSDc0MUpZWERkcHVsenc5cld2MzdhTUZ2UGJjN0JaeWk3WmVya3BuV0RBbG5kTWJKOSs4aU91OTd6VUZoQ3IvenVZQzBockw5N2N5QndWS3puSm5kTTVsS1RJMEtpOWtkemN4dm01Z2dsNXdCaTFINkUrZ0xSU1pTSXJjU3lEa3NWSkJmTXl3bVFaRGt2bzJ0WXlsNm1ZUU9wbVpvTkNTUmw4NEtrZE01Z0FnL2N4RGFZQ0paVTBNbHl6ME1RWWdsbkZCRW1XRG1pektYdElMQTkvQWgyKzRxblZ0Z2FGa0Y3OFFUZElBUm1vSGI0MlBrSER1dzdhV2lORU5lTnc2WEs4TVRnd1BqNHdPREU0Zkg3YTV1MkxKdy9kcmhHL2Y1SGIvOG9mTWlaRnB3TjlQYTg5SURZOWJ3MDUvWjBDUGQvOG42SS8rL3ZEWVhydGNPdHY4TzNmUlRHYk1RRHQ5OUxmWk13d0Z5V0pnWmczTGNRNTRnTHhMZGdEaVA2MFdxR3ZWeFVNbFhnUmVrSUhvR3JMUEZ0UW0rUDRMVVBIU3EwSi9kQ08rZUlwd0t0K3BpTGg5cFlDZXNhN2kyRDQxZjBqOTI4NXYvZnNBU3VXN3doUmw4TDAzaWNNcVBWdWFQdC9RdXU5Njd5NDN3b0tsQkFQV2duZXFCMWdleHEzWTArTXBQTmZHcngwS2JSY1cyTHRvaUZXWEV4TnQvVnUzNys4UFRtSWJSazdNdzhzWWM4K05DMnB6WS9sRXBlbXA2NWxFeVJmNVhMZkh6cndKbjRwVXVKTXdNekg4L2tQMXplZFhxeFhONTEyeTd5WURiOTVPS2hpYkZ4WFl1MmRoZG54WVU0Ym03N29SdWFXMy9PczcxWUNRY2RiTlFwMnRaMVNJRklUZW9kMno0OG1EempHdThxaGZ4MkpzNzNvR0doR29qNWdsSjkyOTdSRGVTZEgwYnhMNndnemFkZlBHWTZqejV5OW56cjlyUC85R2VUNDlzTDNmS3BrWTVPRkl2dDZmWUVNMm5VdlQ2WjN0enFSd2MzNzlnKzFmb2src0RjWUgxNGZXMXdybnpyNXJHWlVnYWRlMmZMOXJ3ME96cjEyVE43S3BXbGFuVlBSZnFQLzBkVDN4N0lGSkNYai9PTTJhZ3pVamFHajZWcXhSMWVQNHFHZXdkaVNkNFZkdGtzSnAzRnhyaGlxWHBYcmhBQWVROVFmN1R5Q1RUUStrWHJVUlM2ODRzWVhqWjhDQjJrL2dRd2xnQStPMFJzQTY1MEgzRUplTkwvSlA0ZG1WRUV1TW5JaldpejN3Q0tkbnpPcjhVYkVjVkUvb3Q0MDZsNEk2VlZ2R24vSzAxTDZoTHRieU91OEZ1SXV5RUpRT3VTdXBzUVY1VGU4NUFWT1c1K0o3NWR1UWM3U1hWOUNhZ01pMVlIVXJwcElIZ2NpbG5nN0x5RXMvT3M2bE9jTVhVTm5VVVhXZzhBek0raUQ4OWxNMDh1SHA0WUh3TmNHdmR0N2VudURNMTM5UTF2QjVodit3VGFhK3JJVG93c2tZZFhnVDREUU84RW9LYy92cTErV3Zqd2h4T25CMlkvbnMxZmtuYWQ3c3FWRktRZnhTMGUycVFnWFcweE9KL3ZVd3hIYWJFek16RzZoeHc1NisvTW5BZ0g3R3pFMlcwZkJxeEhBZXZqR091blhSTzVVdERQMmlLT3NtMm9veEtNK3dIcmMvdkdBT3VYa0tCaS9RUjFOSmVabUZ3NFBETWxuSFV2MVNvTHBmSmlaVURNOGVjN04wMGYzN1Y1WWp2NStvY2poVkwvbGp2cUQyM2VsQnRMa2ZWYytvbTVnZHZpU3Jlbm44amtINUlXVHkwV2k3bjhiWXZrOEltSExuM0VZQXo0YW81YlN4VzNhODJXME1iZGt4UHpoYTdHeWJGcEp4ZmEzZTBOWk5LZitzUUdJVDNWcXFGRGlpMTlBdDAxTjFRYkhxNE56WlgzYlI2YkxtYlJQZTlzMmRGVlJqTmptejkzZWtsQ2Z0OVNUM1dwSWozMW56ZjIzd2V6YmcrMkpwc0ZyRWxyWVYzeFRteE5nV2k0dng3ckFHTnkyc3hnVEpSVnNiTnViRTBJd2Z3RTl2UnhOTmo2VmVzUkZMenpDMmhvY2ZORU9pdVZkaFFyUTVYZHAzWlg0dEZLY2JGVXpXV2VlcFZhYmoyUTlualhuWjl2WFVSSFpuWm1aNlRXVTJpOTJ1ZlpsYnZYdXJ5bmdxU2xucDQ5ZnIrVU92dXBUVDg3MjdwZTh3YU1odnZkN2g3cEFOSmdqa0hDNFZXRlkyU0lBckd4elRIOFRUbXA4b3FpTWhzNm1yS0R3UnMwWldPelVjSzh3UUZ4WTFZaEMzNkc1V1JQVlU2eVY5emViSmVTYjVQZWh4RW8wWTFUdW5IWGxob2c4Ukl2MGJFa0dlbTVNZUhkRS9sR09GZytrc2x0SGRuWW1VNTNiaHlkM1RvS3BZTi9OUE81UDBUVDUrRFduZ2c4c3NMQklkb0RES2l2cCtORXI2VkRHRnIzbWVGQm9hTkRHQngrOHFtUnNhZEc4SnovN2poSGliSDJLRjBRTHVkbEhZeHlUQmxsYjFNdWlYS3Z1anNBQmpvT0E0V1FtSk1kZUhmQWM2NW9zckpleVVNYXVVWTRvU1Q4MzIrZzBscjJ0NFN6WWhETzZkcGVBVnlKRXRZNWNCNE5KeHV4YndCUGdTZE04dVo4L3plWHpueGc5OWJ1YktkZlNMbkMrbFRlWGdvSUF3bk4zUGhZMFI3MVJ3UDFMaUNPRnN2R0xNeEM3TTN5K0cvMVdtWFgvQjZESVpoaXRaWU90OXZnNEJNREFtUFRnUE9PalBiYkVZUEVUVVlObVNvSFFqZmd3RUVJZ0lUSk5pc0tOMlZQWG1aQVF0a2IrR1ZBWlVVNXZBMEErTTlYZFZvbW1WSnlzbUVkU0N1R1YvZWZONXFJYUZ5cFh0ME1GTVpDWWRwaEhNa3JYRENJc05TaVNicVVRd29Pa3VUd3VsTm5FSFA3cWFIaDRhRlR0MS9jKy9XSEo5NWVkM3A0K1BRNk9DWmlXOVBpekwxREQ5MDdoRjYvZU9ZMmZOTnRjUHVaVSt1R0p4NysrbFR0U0sxMjVOeVJtakcvUGJ5TDdxM2UzVk5WT1I4aUVQVno2dWN3dm8zRWdiYisrYWJjaWZXLzNLbkQrYy9PUE01L2ppaFFxQ3JiS0twcll4MkZzVll4Rkp4Vk9RQ01XS2ZsbWFoUVhxY3NUcGdBRG5Gc0NwMDhTQVBCeUVWbDJCeURSeHpHWTJkV2lVcHlGUjM5YUhYRlp3MGJFUFhmREEwZVN3ZGhRU0FiaUdUOWVpaDk2Q0tVdmpLMWErL2srbzVFbEE5RkU1YVlZRXU3UThVUXRlR0RLY2JuOXJ1TFNTdGpOSmw2RW9IUnBCa2RVd1dFSmR0NnJTMjBTcUdRM1RRNmFYUEhyQnBYcDVObTdmQzh4VUxWUzc0KzBZWXNxTE91MTVEUkRPSzlPTGRhSXc5VDY2bi9JRmpDcSt3Znd5dGhYTDVoeDBra0s5YTZFZXVaVjVaT1lEcVQyc0Y2N2JKaldxb09sSmVFUjRhbTU1WVd2M0tKZlBYZW5rV3ZMNUY0cEJhSkRwM0ZiUnRSbHZoSDhsVkNUL2dKSkJzVUJXaWJEU1BlbkFNeWI1QjZ4ZGFBVkV0Q1VTckZqTVhMREhPWnZPOFhoKzdONzg3ZnE2emgxZ2dmTllUK1FPMmZKZzg2ZTdkL0pvMnlCUlg2RnlRVjRTZlZPVGtacTZVdWZXWHhscTNUOWFjM0xnMVVwV25IWlpTZE9ic3VIT281bS9kNUYzdVV2WVBvYmVJSjZocTVuekREQ1dieXpvSks2OUhieUtndkpKL2V1TW5ReXFMTHVVbnYyY0Z2bkN5S2F1dzJEYkhibDRraU1henM0c0c3a1ppQ1BOU1VUK0M5RlBMNnBydzdqOU55RzhMWFdMenJabjllRGpieE5yeHVKZGtYVXpmdGdNMlZ3Q3N4ZUl1V1REY2JtZldpaVBla0NYQ3FadmUyUWdrZURES053d2p2Q2NLN2MvQ1doOW92WHQrZzdtMFFjbGE1NDZxbU1hRjV5eXFQWFgyaHhyeTJwRjQ1REZlT1hHMjROVy9KL0ZYaWE3eGI2QmliT0h3azEvNUJYK1hkSFdQcXFiS1hWNkJCRzVhN0lDcWNZQnQzM0lrWFc3amwyTTdkT0U0TXN2SStNQUg5RU1qNnpxcThucFh2cWphQysrR0JyZnVxeWhKY2U1UFkydDVHT0FWZDJDWGdhMm1rNW1wMGFzSzVuY0hXT1hHYVVjbEtzMnJHT3NHdXJiVVhsSlFVdnRtSzFoWjNKQjZEajFMUzRORTFVaWZHbjQySkFRL0xXMmpPdy9uL3Jad01XMFlSK05LR3hiTSszNnNsVFRaM01DWEdubzJMVmRiOHJJbGxUYythV1JRWXpVZFlJeUtObGtEWXFOZVpPWS9KUkZFMmcwYlQ2ZWRNbWthNEc0M3E3ZTdRUDN2TWRwUFdpSUt1eEJmam9oZ25OVmFqdzZ5MWFqV3BXQkZGNmVSUTh1a3V2eWhtVTEyMVZORzhKMVlveEZhdWs4ak1zdWFWNjNBY1FTbkw1c3JXWE1SaHNMSlc0Yzl0VnFlZWNwb01abVNPT0Qyb085cjZoNmpiajBpOXhvaThabWM3TjdBRjhQVXM0R3MzY1lMNEZTRWI4M2lmREhqclkwMVptMi9vdGhZSzhrSVQ1d1VTVGJrbkw5OWF3SHZESXFLeXQyRU5WbU5yZThGY1lHMkpkWUN1UFUxNUQ5TTRCQmNDVGJ6blFRRVQ5VnBHaFV3SklGTysyaWhxOEtidkYrcTFOM0xxdmhvZDFOTlh0WTJ0R0dTelY0bm42QUpNZjdOdElEMnZnOVB5N05ZMnNCUXdqWlVBRzhaNWdJNk5iZFR3cXEyTGsxTUFJYzhVeXkwenRqRzhzTGR1QVc1eURrT3BCMjh5dzdkMWRiY1hVbWlIR21FblZVUTRWWURoUkNUR0RpMGsyNzgweGhYRjIrR21YbFRHR3k0QWZhd0N0SGNEeUtTa1pMcVZDVng3TStxQ2tlVC84QUMxalpndEpNREI2VXNvWUFGY1JVWGs5ekM4amJidzF2Z2IzZVBXMFFwZ2dnKy9rVE9aQVErcDRYVElaaUFwblMzaXRkbVJMMlJtR0hQclpWZWNKeDlYUUtiQWpUVEVSNXp1Myt0ZGw3QkV6TG5pY0Zldi9iNllLTVpJTWlaMnhUU00wV25SbWtnU3JhdTJmZ0lJaURxOWlEWWhuOFdsYWIxdW54L1lWVXFRV2xySG1HekNaWlpuL2VuUGtDVEc4RW9ManF2N1cxNmwvcFlJRVFUZUJ3Umlja3ByQzlUdHhHcEVvV0pPYXFJMk9CYjUyWldKd1lHRVFBcUpnY0dKMW9oeWduNHpkamFXK09VdmxUcVcrWXhTcVp3b1BsSkhHTWhYcUNiUlRaeFIvSzlWeVZJRm1uaC9iUTU4bWFpQWptM0tyTW9qUTAwNXhEUzhVT3FFV1pqQnpoNzd0d0xtbG5oWkh5L2hzc3RXSjRWOWk1ZTc0a29JV1R6WGRySU5pd2JQdGE0QXkxMHg2TU1SWmFwTnRITU5FRm9Cb1ZEMkxnRy9VR21aTGlvbzllMDdjSGlJZDVIb0JvOWZPRDQ0bEovYU01VVBGSHJGb0RmdUhRcUtmV0t3YTJyM2x2emJROGNIQjQ4UG9kKzA5RjFUK2Z4VUZ4a1BGQUx3YVJVNXI1ZERUN2YyQk1VZ2ZOQmY1YmZrNGFQeURJSzRDSFo1Qi9CTUw5N1B3cWo4Y20yVHR3Y0NQdVVmYUZ3M0VHTUR3dkxuMFhOc2prWFA4WVU1Y2VYUndsemhETG9YM1J0TnJEd3FvR0YwWnliZCtsMmJEUjFPWjFxWDRHSmhqdHpXK2hhcVc1VjNQa3o5RTNXS3lCUGplSlZSRFZleGYyd0hyY3BDam1JSnE5dUxsR1ZDMVFJMERyd2V5ZVAvaGNBNTg2SVF0U2s3SkIwaFJKdU5qTmxtM3BCTmNNYk9mSUJsckJham5xYjFSb3VWWVFQNUxxT0pzYnM4RytBV3htZ21NNkcwN2NMOVREcG91M0RCRmt3ejkxK3dBZmd2WEVCLzRPZXNlaDFDSHJNbFcwZzR0QnBhWTlTVHorb05XaDJsZFNTS1JTT05sM2xKcmQ1cTkvM3N0NTYzS2UycVB1OWhrTzBwNEtjenhHTkVHcmpDNDNsNS9Gbzd3L2tnSU9oQXMvRlJRSkEwem5MUFBUWi8rOWx6ajJCYWlqMEdTT0ZtaVlqL2lVU1F1alN6dHVpUVZPdmJqeW9ldzBhcWU3T2s4bzIveGFUdzdtOGU2V0kzUHRkK1VubFdzRHR1RWlwaTNsK29XY3JHeFZoWHhwZnNDR1I1MXNxWVdhM2VaR1Z0RHBQTlpuTFlXS3RHOHlCbFphTkdxOVZoZHpzOURwN2hqUERETWJ6RDQzVGJIVmFya2FaWk02ZWxUUTRQSC9ZRVdZZUREWHJDdk1laDBhQS9FRG5EellwaDMwOHZyWC9uVEZaa1lDT3AzcUYxZmFrWVo2QTBlaFByRE5CR3E1MFByQSs0blZhVDNtTDdKTnhHYW1qY1I0ZmJxL3lqd2kzWlRpRVM5UEVPem1MVzY3U0lwQTJNSTJpMGNwNUFJdFY5dkpBU2dsNjcxV1N4cWpwMlU2OUFaT29nVXNEcGppdGNNOW1VYzNtc1piOGFpOVFWaHFodVprNnJHVzZmaUNFUVZjbjZBRUFnN1FJbm9xM0tFaXN6VlRuS05YUWk5aHE1Sk13dFJpZkNYZ1V1aVJEWWNWZE1McUpYOFNKdWRIT2NBZ29qMWVST1NWUVduUlMrQWRjU1FkU0xYRFdra0pmMmRtRTFjbGxsMmhjdlFrbmIyN04zLzUxMzd0L2IwNHY2b1BocktNR0RuT1VIZXBzZVB0KzBXeXdjK1FTdzh2WlRhOCszSHY3MWU1NVNTbjlxNFJCd0JKc2VWUzJjM1l6M2FCSG53Q2FPRURid09HNGlRaXdwdTk4WjViOHJRVnlScG16UHl4b1FXdlNHN2JmZU5RZk1Rc25RYk1SQVlsNUdqWFJEck95dXluamE1VmZEK3didlZsWUNaSmVhN1ZlM0RiREt2Z0ZCaXJBUmV3UlJTUUhQeDlpQnBBTFVqa0FxRlhqbmNpQzFrZHJ4enVVNHhiWCs3WHU3anBRU2dLcXhiNUg3L1IwZC9wVW44Wkhjdi9Ja2VybjEvTk5QYlJURmpVQ2QveStiRnRWYUFBQUFlTnBqWUdSZ1lBQmlwWXRhTytMNWJiNHl5TE13Z01DTlpPdTdFTm9tOC8rZi81enlHV0J4RGdZbUVBVUFPMkFMWlFBQUFIamFZMkJrWUdCaCtQZVZnVUUrOC84ZklKbkJBQlJCQWRvQWdKOEZMd0FBZU5wallZQUF4bEFHQmhZR0JoNGdCdEhNUUh5Y2hlSC9meUI5QkNwV0RNUVZVTFlFaUdiOEFtYnJBTlg5Z1lqLy93dWtVNkZxMUlFNEdvalZnRGlLSjVjaGdzT09JUUlxaDRUQmRuQUI4VGVvbUkzZ0k0ZzYxaDRHQWVFR0JnYjVUTEE0RXhneU10Z3hjREhZTWY2Q3VwdU5BUTRBN1k4Vk9BQUFBQUFBQUNvQUtnQXFBSFlBamdDaUFNb0E3Z0VTQVRZQlVBRnFBWlFCeWdIZ0FlZ0N6QU1NQTBBRGRBT3dBL0lFZUFUZUJXSUZ4QWI0Q0lJSlFBbUtDZzRMSkF2NERHWU1wQTNBRG80UXpoRjZFZlFUSmhVQUZYUVdCQlowRnhRWFFoZGtGNUlYckJqY0dmSWFKQnFvR3VJYlZoeElIT0FkU2dBQkFBQUFPd0diQUJVQUFBQUFBQUlBQVFBQ0FCWUFBQUVBQVpRQUFBQUFlTnBsa00xT3drQVVoVTh0bW9nSmNXRmNzT3JDdURFcHBXcFVsc1pnNGhJTmJseFlwR0FOSWxZdzZwSUg0am44ZVFGOUdlTTM3ZEFZWGR6Sk4yZk92WE5tSkZVMGt5dW50Q3lwU3VYc3FNd3U1d1U4RzVaZHJTcTBYTUp4YUhsUjY3cXd2SVFudFZ4V1cxUExLOXJVcCtWWC9OK1czeFE0YTViZlZYR09MSC9Bclp5L1hGV2RTeVc2VmFTK1l0WDBvRWRvUzA5b0E3M29UcVBzdk1WcFh4TzBpQlE5OUtIRzJsYWQydi9sOC80NDIreFNwaVpaaDRmZlYvQ3YveGpYTUhOR3FMRzZPRHQ2WnMzemhLaGp1andxcGRmYzA3UXpZbTRhd0I0SnpOa055aFc2cit1c2E2UUc3Nm9WZDg3OVBpNHo2UnlsVTV6T0U1N3hncGpkQ1lueTNMdXNBVWthMUFIcmp2WlFRclE2K3k3dUhsN3pibk9uK1lPSTlCT3FXY3crMVQxS1FzN1U1UGdCbk5OUEtuamFiWkhKVHNRd0VFVHp3cEpoMlBjZGhuMkgyRzVuQm5GRTRsY0FDU0V1SFBoN2tIRDFBV0VwY3FYZDlib3NWM1gxdS9yVi8rdmg1Nk9xcVJsam5Ba21hZWd4Ulo5cFpwaGxqbmtXV0dTSlpWWllaWTExTnRoa2kyMTIyR1dQZlFZY2NNZ1J4NXh3eWhublhIREpGZGZjY01zZExZRkl3c2gwREJseDMzdCsrL3A0R2FUY0ZLR0NGUkZWaVY3SkVsMHhCUlVrekVVc0xiSDVmSCtOK2VteC9JLytXbEpiVGhRcHRCSmlXTm1WVmVPSGFwUTF1bFhoZzhJSGhRK2RtbVdQbnNrNVVlRThwVnhKUGFaWkpyS3B4MFEya1UydUxGZldpS3lvV1ZHemdFbWNKRTV3c2w5UVI4bGYwTW4rR1BZTjgrS2I2QUFBdUFIL2hiQUJqUUJMc0FoUVdMRUJBWTVac1VZR0sxZ2hzQkJaUzdBVVVsZ2hzSUJaSGJBR0sxeFlXYkFVS3dBQUFBRmNQWXZyQUFBPSIKfSwgcyA9IGkoMjU2KTsKbi5wcm90b3R5cGUgPSByKHMucHJvdG90eXBlKTsKbyhuLCBzLCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19mb250TG9hZGVyX1pvcGltRm9udCIKfSk7CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbigpIHsKdiA9IFkucm9vdDsKeSA9IHYuJCgibGl2ZWNoYXQiKTsKaiA9IHkuJCgidWkiKS4kKCJjaGF0X2J1dHRvbiIpOwpDID0geS4kKCJ1aSIpLiQoImNoYXRfd2luZG93Iik7CmsgPSB5LiQoImNoYW5uZWwiKS4kKCJ0eXBpbmciKTsKVCA9IHkuJCgiY2hhbm5lbCIpLiQoImxvZyIpOwpTID0gQy4kKCJjaGF0X3BhbmVsIik7CkEgPSBTLiQoInRleHRhcmVhIik7CkkgPSBTLiQoInNjcm9sbGFibGUiKTsKTiA9IHkuJCgidWkiKS4kKCJjaGF0X2J1dHRvbiIpLiQoImJ1dHRvbl9jbGlja2VkJGJvb2wiKTsKQiA9IEMuJCgiZGlzcGxheSRib29sIik7CkQgPSBDLiQoIm1haW5fc3RhY2tfbmFtZSRzdHJpbmciKTsKRSA9IFMuJCgic2VydmVkX2J5IikuJCgidmlzaWJsZSRib29sIik7CkUudXBkYXRlKCEwKTsKRC5vbigidmFsdWUiLCBmdW5jdGlvbih0KSB7CiJjaGF0X3BhbmVsIiA9PT0gdCAmJiBhKFouSU5TVEFOVCk7Cn0pOwpxLndpbmRvdy5vbigicmVzaXplIiwgYyk7ClQub24oImtleXMiLCB1KTsKTi5vbigidmFsdWUiLCBnKTsKTyA9ICEwOwpQID0gMDsKSCA9IDA7Ck0gPSAhMTsKViA9ICExOwpSID0gITA7Cn0KZnVuY3Rpb24gbyh0KSB7CkEudXBkYXRlKHsKdmFsdWUkc3RyaW5nOiB0Cn0pOwppZiAodCkgewpMIHx8IF8oKTsKY2xlYXJUaW1lb3V0KFcpOwpXID0gc2V0VGltZW91dChsLCBYKTsKfSBlbHNlIGlmICghMSAhPT0gTCkgewpXID0gY2xlYXJUaW1lb3V0KFcpOwpsKCk7Cn0KfQpmdW5jdGlvbiByKCkgewpyZXR1cm4gUCA8PSA1Owp9CmZ1bmN0aW9uIGEodCwgZSkgewppZiAoUikgewp0ID0gdCB8fCBaLlNNT09USDsKdmFyIGkgPSBJLiQodCkuZ2V0VmFsdWUoKSB8fCAwLCBuID0ge307Cm5bdF0gPSBpICsgMTsKSS51cGRhdGUobik7CmlmICh2b2lkIDAgPT09IGUpIHsKY2xlYXJUaW1lb3V0KEYpOwpGID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKYSh0LCAhMCk7Cn0sIDI1MCk7Cn0KfQp9CmZ1bmN0aW9uIHModCkgewpyKCkgJiYgYSh0KTsKfQpmdW5jdGlvbiBfKCkgewpMID0gITA7Cmsud3JpdGUoewp0eXBpbmckYm9vbDogITAKfSk7Ckcuc2V0VXNlckNob2ljZSghMCk7Cn0KZnVuY3Rpb24gbCgpIHsKTCA9ICExOwprLndyaXRlKHsKdHlwaW5nJGJvb2w6ICExCn0pOwp9CmZ1bmN0aW9uIGQodCkgewp2YXIgZSA9IHQudHJpbSgpOwppZiAoZSkgewpZLmxpdmVjaGF0LnNlbmRDaGF0TXNnKHsKbXNnOiBlCn0pOwpvKCIiKTsKYShaLlNNT09USCk7Cn0KfQpmdW5jdGlvbiB1KCkgewpzKFouU01PT1RIKTsKfQpmdW5jdGlvbiBjKCkgewpQID0gdm9pZCAwOwphKFouSU5TVEFOVCk7Cn0KZnVuY3Rpb24gaCh0KSB7ClAgPSB0OwpNICYmIChWID0gITApOwpSICYmIEkuJCgic2Nyb2xsZWRfdG9fYm90dG9tJGJvb2wiKS51cGRhdGUocigpKTsKViAmJiBwKCk7ClEoKTsKfQpmdW5jdGlvbiBmKCkgewptKCExKTsKYShaLlNNT09USCk7Cn0KZnVuY3Rpb24gZygpIHsKYShaLklOU1RBTlQpOwp9CmZ1bmN0aW9uIHAoKSB7ClIgJiYgcigpICYmICJjaGF0X3BhbmVsIiA9PT0gRC5nZXRWYWx1ZSgpICYmICEwID09PSBCLmdldFZhbHVlKCkgJiYgMCAhPT0gai4kKCJ1bnJlYWRfY291bnQkaW50IikuZ2V0VmFsdWUoKSAmJiBVLnJlc2V0VW5yZWFkQ291bnQoKTsKfQpmdW5jdGlvbiBtKHQpIHsKaWYgKE8gIT09IHQpIHsKRS51cGRhdGUoISF0KTsKTyA9IHQ7Cn0KfQpmdW5jdGlvbiAkKHQpIHsKTSA9ICEwOwpIID0gdC50b3VjaGVzWzBdLmNsaWVudFk7CnAoKTsKfQpmdW5jdGlvbiBiKHQpIHsKdC50b3VjaGVzWzBdLmNsaWVudFkgLSBIID4gMCA/IG0oITApIDogdC50b3VjaGVzWzBdLmNsaWVudFkgLSBIIDwgMCAmJiBtKCExKTsKfQpmdW5jdGlvbiB3KCkgewpNID0gITE7Cn0KZnVuY3Rpb24geCgpIHsKVyA9IGNsZWFyVGltZW91dChXKTsKRiA9IGNsZWFyVGltZW91dChGKTsKVC51bigia2V5cyIsIHUpOwpOLnVuKCJ2YWx1ZSIsIGcpOwp2ID0geSA9IGosIEMgPSBTID0gQSA9IGsgPSBJID0gVCA9IE4gPSBCID0gRCA9IEwgPSBQID0gUiA9IE0gPSBWID0gdm9pZCAwOwp9CnZhciB2LCB5LCBqLCBDLCBTLCBBLCBrLCBJLCBULCBOLCBCLCBELCBFLCBPLCBMLCBXLCBQLCBSLCBGLCBNLCBWLCBILCBxID0gaSgxNCksIHogPSBpKDM0KSwgVSA9IGkoMzMpLCBHID0gaSg0MSksIFkgPSBpKDYpLCBYID0gMTJlNCwgWiA9IHsKU01PT1RIOiAic21vb3RoX3Njcm9sbF9jb3VudCRpbnQiLApJTlNUQU5UOiAiaW5zdGFudF9zY3JvbGxfY291bnQkaW50Igp9LCBRID0gei5kZWJvdW5jZShmdW5jdGlvbigpIHsKViA9ICExOwp9LCA4MCksIEsgPSB7ClRZUElOR19USU1FT1VUOiBYLApTQ1JPTExfVFlQRVM6IFosCmluaXQ6IG4sCnNjcm9sbFRvQm90dG9tOiBhLAp1c2VyRm9jdXNUZXh0QXJlYTogZiwKdXNlcklucHV0VmFsdWU6IG8sCnVzZXJDaGFuZ2VPcmllbnRhdGlvbjogYywKdXNlckNsaWNrQ2hhdEJ1dHRvbjogZywKdXNlckRpc3RGcm9tQm90dG9tOiBoLAp1c2VyU2VuZE1lc3NhZ2U6IGQsCnVzZXJSZWNlaXZlTWVzc2FnZTogdSwKdXNlclRvdWNoU3RhcnQ6ICQsCnVzZXJUb3VjaE1vdmU6IGIsCnVzZXJUb3VjaEVuZDogdywKcmVzZXRTdGF0ZTogeAp9Owp0LmV4cG9ydHMgPSBLOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4odCwgZSwgaSwgbywgYSkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgbikpIHJldHVybiBuZXcgbih0LCBlLCBpLCBvLCBhKTsKaWYgKCFuLl9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CnIuZ2VuZXJhdGUodGhpcywgbi5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCBuLl9fanhfX2pjc3MsIG51bGwsIG4pOwpuLl9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0Kcy5jYWxsKHRoaXMsIHQsIGUsIGksIG8sIGEpOwp9CnZhciBvID0gaSgxKSwgciA9IGkoMyksIGEgPSBpKDApLCBzID0gaSgzOCk7Cm4uX19qeF9famNzcyA9IHsKIioqc2VsZiI6IHsKZm9udFdlaWdodDogImJvbGQiCn0KfTsKbi5wcm90b3R5cGUgPSBhKHMucHJvdG90eXBlKTsKbyhuLCBzLCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19IZWFkZXIiCn0pOwpuLnByb3RvdHlwZS5fX2p4X19zdXBlciA9IHM7CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDEpLCBvID0gaSgzKSwgciA9IGkoMCksIGEgPSBpKDQzKSwgcyA9IGEsIF8gPSBpKDcpLCBsID0gaSg2KSwgZCA9IGkoMzUxKSwgdSA9IGkoOSk7CmEgPSBmdW5jdGlvbih0LCBlLCBpLCBuLCByKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiBhKSkgcmV0dXJuIG5ldyBhKHQsIGUsIGksIG4sIHIpOwppZiAoIWEuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKby5nZW5lcmF0ZSh0aGlzLCBhLnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIGEuX19qeF9famNzcywgbnVsbCwgYSk7CmEuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQpzLmNhbGwodGhpcywgdCwgZSwgaSwgbiwgcik7CmEuX19jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpOwp9OwphLl9fY29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHsKdS5tb2JpbGUodGhpcyk7CnUucnRsKHRoaXMpOwppZiAobC5yb290LiQoImxpdmVjaGF0IikuJCgidWkiKS4kKCJtb2JpbGUkYm9vbCIpLmdldFZhbHVlKCkgJiYgdGhpcy5oYXNDbGFzcygibW9iaWxlX2Vycm9yX2ljb24iKSkgewp0aGlzLnBDb250YWluZXIgPSBuZXcgXyh0aGlzLnBhcmVudE5vZGUsIG51bGwsIG51bGwsIG51bGwsIHsKcG9zaXRpb246ICJyZWxhdGl2ZSIKfSk7CnRoaXMucENvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzKTsKdmFyIHQgPSBuZXcgZCh0aGlzLnBDb250YWluZXIpLCBlID0gdGhpcy5zaG93RXJyb3JNZXNzYWdlLCBpID0gdGhpcy5oaWRlRXJyb3JNZXNzYWdlLCBuID0gdGhpczsKdGhpcy5zaG93RXJyb3JNZXNzYWdlID0gZnVuY3Rpb24oKSB7CnQuc2V0RGlzcGxheSgiIik7CnJldHVybiBlLmNhbGwobik7Cn07CnRoaXMuaGlkZUVycm9yTWVzc2FnZSA9IGZ1bmN0aW9uKCkgewp0LnNldERpc3BsYXkoIm5vbmUiKTsKcmV0dXJuIGkuY2FsbChuKTsKfTsKfQp9OwphLl9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CmRpc3BsYXk6ICJibG9jayIsCmFwcGVhcmFuY2U6ICJub25lIiwKIipvdmVyZmxvdyI6ICJ2aXNpYmxlIiwKd2lkdGg6ICIxMDAlIiwKY29sb3I6ICIkJGlucHV0Q29sb3IiLApiYWNrZ3JvdW5kOiAiJCRpbnB1dEJnIiwKcGFkZGluZzogIiQkaW5wdXRQYWRkaW5nIiwKYm9yZGVyV2lkdGg6ICIkJGlucHV0Qm9yZGVyV2lkdGgiLApib3JkZXJTdHlsZTogIiQkaW5wdXRCb3JkZXJTdHlsZSIsCmJvcmRlckNvbG9yOiAiJCRpbnB1dEJvcmRlckNvbG9yIiwKYm9yZGVyUmFkaXVzOiAiJCRpbnB1dFJhZGl1cyIsCmJveFNoYWRvdzogIiQkaW5wdXRTaGFkb3ciCn0sCiImOmZvY3VzLCAmLmZvY3VzIjogewpjb2xvcjogIiQkaW5wdXRGb2N1c0NvbG9yIiwKYmFja2dyb3VuZDogIiQkaW5wdXRGb2N1c0JnIiwKYm9yZGVyQ29sb3I6ICIkJGlucHV0Rm9jdXNCb3JkZXJDb2xvciIsCmJveFNoYWRvdzogIiQkaW5wdXRGb2N1c1NoYWRvdyIsCm91dGxpbmU6ICJub25lIgp9LAoiJjo6cGxhY2Vob2xkZXIiOiB7CmNvbG9yOiAiJCRpbnB1dFBsYWNlaG9sZGVyQ29sb3IiLApmb250U3R5bGU6ICIkJGlucHV0UGxhY2Vob2xkZXJGb250U3R5bGUiCn0sCiImLmludmFsaWQiOiB7CmNvbG9yOiAiJCRpbnB1dEludmFsaWRDb2xvciIsCmJhY2tncm91bmQ6ICIkJGlucHV0SW52YWxpZEJnIiwKYm9yZGVyQ29sb3I6ICIkJGlucHV0SW52YWxpZEJvcmRlckNvbG9yIiwKYm94U2hhZG93OiAiJCRpbnB1dEludmFsaWRTaGFkb3ciCn0sCiImLmludmFsaWQubW9iaWxlIjogewpwYWRkaW5nUmlnaHQ6ICIzMHB4Igp9LAoiJi5pbnZhbGlkLnJ0bC5tb2JpbGUiOiB7CnBhZGRpbmdSaWdodDogIiQkaW5wdXRQYWRkaW5nIiwKcGFkZGluZ0xlZnQ6ICIzMHB4Igp9LAoiJi51bnN0eWxlZCI6IHsKYm9yZGVyOiAibm9uZSIsCmJhY2tncm91bmQ6ICJ0cmFuc3BhcmVudCIsCmJveFNoYWRvdzogIm5vbmUiCn0sCiImLnN0YW5kYWxvbmUiOiB7Cm1hcmdpblRvcDogIjEwcHgiLAptYXJnaW5Cb3R0b206ICI1cHgiCn0KfTsKYS5wcm90b3R5cGUgPSByKHMucHJvdG90eXBlKTsKbihhLCBzLCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19JbnB1dCIKfSk7CmEucHJvdG90eXBlLl9fanhfX3N1cGVyID0gczsKdC5leHBvcnRzID0gYTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQpIHsKZnVuY3Rpb24gZSgpIHsKaWYgKCJwcmVyZW5kZXIiICE9IGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSkgewpkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJ2aXNpYmlsaXR5Y2hhbmdlIiwgZSk7Cmp0LmNvbm5lY3QoKTsKfQp9Cml0ID0gdC5pc0Nvb2tpZURlbmllZDsKRyA9IGR0LmdldE1lZGlhdG9ySG9zdCh0Lm92ZXJyaWRlUHJveHkpOwpudCA9IHQuc291cmNlOwpvdCA9IHQuc291cmNlX3ZlcjsKViA9IHQuYWN0aXZpdHlfd2luZG93IHx8IHdpbmRvdzsKSCA9IFYuZG9jdW1lbnQ7CnEgPSB0LnJvb3Q7ClggPSBxLiQoInRtcCIpLiQoImFwaV9zZXR0aW5ncyIpOwpaID0gcS4kKCJ0bXAiKS4kKCJzZXJ2ZXJfc2V0dGluZ3MiKTsKUSA9IHEuJCgibGl2ZWNoYXQiKS4kKCJzZXR0aW5ncyIpLiQoImNhY2hlZCRib29sIik7CnogPSBxLiQoImNvbm5lY3Rpb24iKTsKSyA9IHouJCgic2VydmVyX3JldGlyZWQkYm9vbCIpOwp0dCA9IHouJCgic2VydmVyX3JlYWR5JGJvb2wiKTsKdHQuYmluZFZhbHVlKHMpOwpLLmJpbmRWYWx1ZShhKTsKWSA9IHEuJCgibGl2ZWNoYXQiKS4kKCJ1aSIpLiQoIm1vY2t1cCRib29sIikuZ2V0VmFsdWUoKTsKaWYgKFkpIHouJCgic3RhdHVzJHN0cmluZyIpLnVwZGF0ZSgicmVhdHRhY2hlZCIpOyBlbHNlIHsKcS4kKCJsaXZlY2hhdCIpLiQoInByb2ZpbGUiKS5iaW5kVmFsdWUocik7CnouJCgic3RhdHVzJHN0cmluZyIpLmJpbmRWYWx1ZShvKTsKei4kKCJzb2NrZXRfc3RhdHVzJHN0cmluZyIpLmJpbmRWYWx1ZShTKTsKcS5iaW5kV3JpdGUoRCk7CnouJCgicmVjb25uZWN0JGJvb2wiKS5iaW5kVmFsdWUoZyk7CmlmICh3aW5kb3cuX196X3NkaykgRiA9ICEwOyBlbHNlIHsKRiA9ICExOwoidmlzaWJpbGl0eVN0YXRlIiBpbiBkb2N1bWVudCAmJiAicHJlcmVuZGVyIiA9PSBkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJ2aXNpYmlsaXR5Y2hhbmdlIiwgZSkgOiBqdC5jb25uZWN0KCk7Cn0KfQp9CmZ1bmN0aW9uIG8odCkgewokdCA9ICJyZWF0dGFjaGVkIiA9PSB0OwppZiAoJHQpIHsKei51cGRhdGUoewpjbGllbnRfcmVhdHRhY2hlZF90aW1lc3RhbXAkaW50OiArbmV3IERhdGUoKQp9KTsKRCgpOwp9CiR0ICYmICExID09PSBGICYmIEEoKTsKaWYgKCJpZGxlX2Rpc2Nvbm5lY3QiID09IHQgfHwgInNodXRkb3duIiA9PSB0IHx8ICJlcnJvciIgPT0gdCkgewp2YXIgZSA9IHEuJCgibGl2ZWNoYXQiKS4kKCJhY2NvdW50IikuJCgic3RhdHVzJHN0cmluZyIpLmdldFZhbHVlKCksIGkgPSBxLiQoImNvbm5lY3Rpb24iKS4kKCJiYWNrb2ZmIiksIG4gPSBpLiQoImFjdGl2ZSRpbnQiKS5nZXRWYWx1ZSgpIHx8IDAsIG8gPSBpLiQoIm1heF9zZWNvbmRzJGludCIpLmdldFZhbHVlKCk7CiJpbnZhbGlkX2FjY291bnRfa2V5IiA9PSBlID8gaHQud2FybkJhZEVtYmVkKCkgOiAid2lkZ2V0X3YyIiA9PSBudCAmJiAic2h1dGRvd24iID09IHQgJiYgbiAmJiBvICYmIGgobyk7CnUoKTsKfQpTKCk7Cn0KZnVuY3Rpb24gcih0KSB7CnQgJiYgKGl0KCkgfHwgZHQuSVNfUE9QT1VUIHx8IHQubWlkJHN0cmluZyAmJiB1dC5zZXRJZGVudGl0eSh0Lm1pZCRzdHJpbmcpKTsKfQpmdW5jdGlvbiBhKHQpIHsKSiA9ICEwID09PSB0Owp9CmZ1bmN0aW9uIHModCkgewpldCA9ICExICE9PSB0OwppZiAoZXQpIHsKeHQgPSAhMTsKXygpOwp9Cn0KZnVuY3Rpb24gXygpIHsKZm9yICh2YXIgdCA9IDAsIGUgPSB3dC5sZW5ndGg7IHQgPCBlOyB0KyspIHsKdmFyIGkgPSB3dFt0XTsKYXQoaSkgJiYgaSgpOwp9Cnd0ID0gW107Cn0KZnVuY3Rpb24gbCh0KSB7CmlmICghZXQgfHwgSikgewp6LnVwZGF0ZSh7CnNlcnZlcl9yZWFkeSRib29sOiAhMQp9KTsKd3QucHVzaCh0KTsKaWYgKCF4dCkgewp4dCA9ICEwOwpVLnJlY29ubmVjdCgpOwp9Cn0gZWxzZSB0KCk7Cn0KZnVuY3Rpb24gZCh0KSB7ClUgJiYgVS5zZW5kKHQpOwp9CmZ1bmN0aW9uIHUodCkgewpVICYmIFUuY2xvc2UoKTsKTSA9ICF0OwpVID0gbnVsbDsKfQpmdW5jdGlvbiBjKCkgewp3aW5kb3cuY2xlYXJUaW1lb3V0KGp0LnJlY29ubmVjdFRpbWVyKTsKdSghMCk7Cmp0LmNvbm5lY3QoKTsKfQpmdW5jdGlvbiBoKHQpIHsKd2luZG93LmNsZWFyVGltZW91dChqdC5yZWNvbm5lY3RUaW1lcik7Cmp0LnJlY29ubmVjdFRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7Cmp0LnJlY29ubmVjdCgpOwp9LCAxZTMgKiB0KTsKfQpmdW5jdGlvbiBmKCkgewp6LnVwZGF0ZSh7CnN0YXR1cyRzdHJpbmc6ICJpZGxlX2Rpc2Nvbm5lY3QiCn0pOwp9CmZ1bmN0aW9uIGcodCkgewp0ICYmIGp0LnJlY29ubmVjdCgpOwp9CmZ1bmN0aW9uIHAodCkgewpyZXR1cm4gcnQgfHwgbmV3IGd0KHQsICJXIiwgbnVsbCwgbXQpOwp9CmZ1bmN0aW9uIG0oKSB7CmlmICghVSAmJiAhTSkgewpVID0gcChHKTsKVS5vbigiYnJlYWsiLCB3KTsKVS5vbigibWVzc2FnZSIsIGIpOwpVLm9uKCJyZW9wZW4iLCB2KTsKVS5vbigicmVzdW1lIiwgeCk7ClUub24oIm9wZW4iLCAkKTsKfQp9CmZ1bmN0aW9uICQoKSB7CmlmICghWSkgewp6LnVwZGF0ZSh7CnNvY2tldF9vcGVuX3RpbWVzdGFtcCRpbnQ6ICtuZXcgRGF0ZSgpLApzb2NrZXRfc3RhdHVzJHN0cmluZzogbnVsbCwKZGlzY29ubmVjdGlvbl9zdGF0dXMkc3RyaW5nOiBudWxsCn0pOwpqKCk7Cn0KfQpmdW5jdGlvbiBiKHQpIHsKaWYgKHQpIHsKaWYgKHQucmF3ICYmIHQucmF3Ll9fbWVzc2FnZUlEIGluIHl0KSB7CnZhciBlID0geXRbdC5yYXcuX19tZXNzYWdlSURdOwpkZWxldGUgeXRbdC5yYXcuX19tZXNzYWdlSURdOwplKHQpOwp9CnZhciBpID0gcTsKaWYgKCJ1cGRhdGUiIGluIHQpIHsKdmFyIG4gPSBodC5nZXRWYWx1ZUJ5UmVmZXJlbmNlKHQsICJsaXZlY2hhdC5hY2NvdW50Iik7CmlmIChuKSB7ClouJCgiYWNjb3VudCIpLnVwZGF0ZShuKTsKaHQuZnVsbHlFeHRlbmQobiwgWC5nZXRWYWx1ZSgiYWNjb3VudCIpKTsKfQp2YXIgbyA9IGh0LmdldFZhbHVlQnlSZWZlcmVuY2UodCwgImxpdmVjaGF0LnNldHRpbmdzIik7CmlmIChvKSB7ClouJCgic2V0dGluZ3MiKS51cGRhdGUobyk7Cmh0LmZ1bGx5RXh0ZW5kKG8sIFguZ2V0VmFsdWUoInNldHRpbmdzIikpOwp9CnZhciByID0gaHQuZ2V0VmFsdWVCeVJlZmVyZW5jZSh0LCAibGl2ZWNoYXQucHJvZmlsZS5taWQkc3RyaW5nIik7CmlmIChyICYmIHIgIT09IHV0LmdldElkZW50aXR5KCkpIHsKcS4kKCJsaXZlY2hhdCIpLiQoImNoYW5uZWwiKS51cGRhdGUobnVsbCk7CnEuJCgibGl2ZWNoYXQiKS4kKCJwcm9maWxlIikudXBkYXRlKG51bGwpOwpxLiQoImxpdmVjaGF0IikuJCgidWkiKS4kKCJjaGF0X2J1dHRvbiIpLiQoInVucmVhZF9jb3VudCRpbnQiKS51cGRhdGUoMCk7Cn0KdC5wYXRoICYmIChpID0gaS5kZXNjZW5kKHQucGF0aCkpOwppLnVwZGF0ZSh0LnVwZGF0ZSk7Cmp0LmZpcmUoIm1lc3NhZ2UiLCB0KTsKfQp9Cn0KZnVuY3Rpb24gdygpIHsKei51cGRhdGUoewpzb2NrZXRfc3RhdHVzJHN0cmluZzogImJyZWFrIgp9KTsKfQpmdW5jdGlvbiB4KCkgewp6LnVwZGF0ZSh7CnNvY2tldF9yZXN1bWVfdGltZXN0YW1wJGludDogK25ldyBEYXRlKCksCnNvY2tldF9zdGF0dXMkc3RyaW5nOiAicmVzdW1lIgp9KTsKfQpmdW5jdGlvbiB2KCkgewp6LnVwZGF0ZSh7CnNvY2tldF9vcGVuX3RpbWVzdGFtcCRpbnQ6ICtuZXcgRGF0ZSgpLApzb2NrZXRfc3RhdHVzJHN0cmluZzogInJlY29ubmVjdCIKfSk7CiR0ID0gITE7CmooKTsKfQpmdW5jdGlvbiB5KCkgewp2YXIgdCA9IHV0LmdldElkZW50aXR5KCksIGUgPSBpdCgpLCBpID0gcS4kKCJsaXZlY2hhdCIpLiQoInVpIikuZ2V0VmFsdWUoIm1vYmlsZSRib29sIikgPyAibW9iaWxlIiA6ICJkZXNrdG9wIiwgbiA9IHEuJCgibGl2ZWNoYXQiKS4kKCJzZXR0aW5ncyIpLiQoInRoZW1lIikuZ2V0VmFsdWUoIm5hbWUkc3RyaW5nIiksIG8gPSB7Cl9fdHlwZTogInJlZ2lzdGVyIiwKYWNjb3VudEtleTogZHQuQUNDT1VOVF9LRVksCm1JRDogdCwKdWE6IFYubmF2aWdhdG9yLnVzZXJBZ2VudCwKZHQ6IGksCnRoZW1lOiBuLApjb29raWVfbGF3OiBlLApyZXY6IHN0LmdpdF9jb21taXQsCnNvdXJjZTogbnQsCnNvdXJjZV92ZXI6IG90LApjb3VudHJ5X2NvZGU6IGR0LkNPVU5UUllfQ09ERSwKbXVsdGlzZXNzaW9uOiAhMAp9OwppZiAocS4kKCJsaXZlY2hhdCIpLiQoInVpIikuJCgicG9wb3V0JGJvb2wiKS5nZXRWYWx1ZSgpKSBvLnBvcG91dCA9ICEwOyBlbHNlIHsKby50aXRsZSA9IEgudGl0bGU7Cm8udXJsID0gVi5sb2NhdGlvbi5ocmVmOwpvLnJlZiA9IFYuZG9jdW1lbnQucmVmZXJyZXI7Cn0KdmFyIHIgPSBqdC5fcmVnaXN0ZXI7CmlmIChyKSBmb3IgKHZhciBhIGluIHIpIHIuaGFzT3duUHJvcGVydHkoYSkgJiYgKG9bYV0gPSByW2FdKTsKcmV0dXJuIG87Cn0KZnVuY3Rpb24gaigpIHsKaWYgKGR0LkFDQ09VTlRfS0VZKSB7CnZhciB0ID0geSgpOwpjdC5yZXRyaWV2ZUlEVG9rZW4oZnVuY3Rpb24oZSwgaSkgewppZiAoZSkgUCgpOyBlbHNlIHsKaWYgKGkpIHsKZGVsZXRlIHQubUlEOwp0LmlkdCA9IGk7Cn0KZCh0KTsKfQp9KTsKfQp9CmZ1bmN0aW9uIEMoKSB7CnJldHVybiAhIVEuZ2V0VmFsdWUoKTsKfQpmdW5jdGlvbiBTKCkgewp2YXIgdCA9IHouZ2V0VmFsdWUoInN0YXR1cyRzdHJpbmciKSwgZSA9IHouZ2V0VmFsdWUoInNvY2tldF9zdGF0dXMkc3RyaW5nIik7CndpbmRvdy5jbGVhclRpbWVvdXQoay50aW1lcik7CmlmICgiZXJyb3IiICE9IHQpIGlmICgiYnJlYWsiID09IGUpIGlmICgiaWRsZV9kaXNjb25uZWN0IiA9PSB0KSB6LnVwZGF0ZSh7Cm1lc3NhZ2Ukc3RyaW5nOiAiaWRsZV9kaXNjb25uZWN0Igp9KTsgZWxzZSB7CnoudXBkYXRlKHsKbWVzc2FnZSRzdHJpbmc6ICJyZWNvbm5lY3RpbmciCn0pOwprLnRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoaywgNmU0KTsKfSBlbHNlIGlmIChudWxsID09PSBlICYmICJyZWdpc3RlcmVkIiA9PSB0KSB6LnVwZGF0ZSh7Cm1lc3NhZ2Ukc3RyaW5nOiAicmVzdW1pbmciCn0pOyBlbHNlIGlmIChfdCh0KSAmJiBfdChlKSkgewp2YXIgaSA9IEMoKSA/ICJmYXN0X2luaXQiIDogImZpcnN0X2luaXQiOwp6LnVwZGF0ZSh7Cm1lc3NhZ2Ukc3RyaW5nOiBpCn0pOwp9IGVsc2Ugei51cGRhdGUoewptZXNzYWdlJHN0cmluZzogbnVsbAp9KTsgZWxzZSBrLnRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoaywgNWUzKTsKfQpmdW5jdGlvbiBBKCkgewpVICYmIHEuJCgibGl2ZWNoYXQiKS4kKCJwcm9maWxlIikud3JpdGUoewpkaXNjb25uZWN0X3RpbWVvdXQkaW50OiBPKFUucnR0KQp9KTsKfQpmdW5jdGlvbiBrKCkgewp6LnVwZGF0ZSh7Cm1lc3NhZ2Ukc3RyaW5nOiAiZGlzY29ubmVjdGVkIgp9KTsKfQpmdW5jdGlvbiBJKCkgewpyZXR1cm4gZnQuZ2V0Q29ubmVjdGlvblN0YXRzKFUpOwp9CmZ1bmN0aW9uIFQoKSB7CnJldHVybiBHOwp9CmZ1bmN0aW9uIE4oKSB7CnJldHVybiBmdC5nZXRTZXJ2ZXJUaW1lKFUpOwp9CmZ1bmN0aW9uIEIodCkgewp2dCArPSAxOwp5dFt2dF0gPSB0OwpyZXR1cm4gdnQ7Cn0KZnVuY3Rpb24gRCh0KSB7CmlmICh0KSB7CnZhciBlID0ge307CmUucGF0aCA9IHQucGF0aDsKZS52YWx1ZSA9IHQudmFsdWU7CmF0KHQuZnVuYykgJiYgKGUuX19tZXNzYWdlSUQgPSBCKHQuZnVuYykpOwpidC5wdXNoKGUpOwp9CmlmIChVICYmICR0KSBmb3IgKDtidC5sZW5ndGg7ICkgVS5zZW5kKGJ0LnNoaWZ0KCkpOwp9CmZ1bmN0aW9uIEUodCkgewpyZXR1cm4gdCA/IFouZ2V0VmFsdWUodCkgOiBaLmdldFZhbHVlKCk7Cn0KZnVuY3Rpb24gTyh0KSB7CnZhciBlLCBpLCBuID0gMTAgKiBwdC5TRUNPTkQsIG8gPSAxICogcHQuU0VDT05ELCByID0gMTIwICogcHQuU0VDT05ELCBhID0gMjAgKiBwdC5TRUNPTkQ7CnQgPSBNYXRoLnJvdW5kKHQpIHx8IDA7CnQgPSBNYXRoLm1heChvLCBNYXRoLm1pbih0LCBuKSk7CmUgPSAodCAtIG8pIC8gKG4gLSBvKTsKaSA9IGEgKyBmdW5jdGlvbih0KSB7CnJldHVybiB0Owp9KGUpICogKHIgLSBhKTsKcmV0dXJuIE1hdGguZmxvb3IoaSAvIDFlMyk7Cn0KZnVuY3Rpb24gTCh0KSB7CnJ0ID0gdDsKfQpmdW5jdGlvbiBXKCkgewpyZXR1cm4gVSA/IFUuaWQgOiBudWxsOwp9CmZ1bmN0aW9uIFAoKSB7CnoudXBkYXRlKHsKZGlzY29ubmVjdGlvbl9zdGF0dXMkc3RyaW5nOiAiZGlzY29ubmVjdGluZyIKfSk7CnUoKTsKay50aW1lciA9IGNsZWFyVGltZW91dChrLnRpbWVyKTsKei51cGRhdGUoewpkaXNjb25uZWN0aW9uX3N0YXR1cyRzdHJpbmc6ICJkaXNjb25uZWN0ZWQiCn0pOwp9CmZ1bmN0aW9uIFIoKSB7CnR0LnVuYmluZFZhbHVlKHMpOwpLLnVuYmluZFZhbHVlKGEpOwpxLiQoImxpdmVjaGF0IikuJCgicHJvZmlsZSIpLnVuYmluZFZhbHVlKHIpOwp6LiQoInN0YXR1cyRzdHJpbmciKS51bmJpbmRWYWx1ZShvKTsKei4kKCJzb2NrZXRfc3RhdHVzJHN0cmluZyIpLnVuYmluZFZhbHVlKFMpOwp6LiQoInJlY29ubmVjdCRib29sIikudW5iaW5kVmFsdWUoZyk7ClAoKTsKJHQgPSAhMSwgYnQgPSBbXSwgd3QgPSBbXSwgeHQgPSAhMSwgdnQgPSAwLCB5dCA9IHt9LCBGID0gTSA9IHEgPSB6ID0gVSA9IFkgPSBYID0gWiA9IFEgPSBLID0gSiA9IHR0ID0gZXQgPSBpdCA9IG50ID0gb3QgPSBydCA9IG51bGw7Cn0KdmFyIEYsIE0sIFYsIEgsIHEsIHosIFUsIEcsIFksIFgsIFosIFEsIEssIEosIHR0LCBldCwgaXQsIG50LCBvdCwgcnQsIGF0ID0gaSgyMCksIHN0ID0gaSg0NiksIF90ID0gaSgyNSksIGx0ID0gaSgxNCksIGR0ID0gaSgxOCksIHV0ID0gaSg5MyksIGN0ID0gaSg0NSksIGh0ID0gaSgxMSksIGZ0ID0gaSgzNzgpLCBndCA9IGkoMzc3KSwgcHQgPSBpKDE3NiksIG10ID0gewpGTFVTSF9ERUxBWV9NUzogMCwKUkVDT05ORUNUX0RFTEFZX01TOiAxZTQKfSwgJHQgPSAhMSwgYnQgPSBbXSwgd3QgPSBbXSwgeHQgPSAhMSwgdnQgPSAwLCB5dCA9IHt9LCBqdCA9IGx0LmV4dGVuZCh7CmluaXQ6IG4sCnNlbmQ6IGQsCmNvbm5lY3Q6IG0sCnJlY29ubmVjdDogYywKY2xpZW50RGlzY29ubmVjdDogUCwKZGVzdHJveTogUiwKZGlzY29ubmVjdDogZiwKZ2V0Q29ubmVjdGlvblN0YXRzOiBJLApnZXRIb3N0OiBULApnZXRTZXJ2ZXJUaW1lOiBOLApnZXRTZXJ2ZXJTZXR0aW5nczogRSwKcmVjb25uZWN0SWZTZXJ2ZXJSZXRpcmVkOiBsLApyZWdpc3RlckNhbGxiYWNrOiBCLApnZXRTb2NrZXRJRDogVywKZ2V0RENUaW1lb3V0VmFsdWU6IE8sCnNldFNvY2tldDogTCwKcmVzZXQ6IFIKfSk7CnQuZXhwb3J0cyA9IGp0Owp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSgyKSwgbyA9IGkoMzEpLCByID0gaSgyNSksIGEgPSBuKDEwNyksIHMgPSBuKDEwOCksIF8gPSBuKDEwOSksIGwgPSBuKDExMCksIGQgPSBuKDExMSksIHUgPSBuKDExMiksIGMgPSB7fTsKYy5FUlJfU0laRSA9ICJUT09fTEFSR0UiOwpjLkVSUl9GT1JNQVQgPSAiSUxMRUdBTF9UWVBFIjsKYy5FUlJfRElTQUJMRUQgPSAiRklMRV9VUExPQURTX1RFTVBPUkFSSUxZX0RJU0FCTEVEIjsKdmFyIGggPSAvXih4LXx2bmRcLikvaSwgZiA9IFsgInBuZyIsICJqcGciLCAianBlZyIsICJnaWYiLCAidHh0IiwgInBkZiIgXSwgZyA9IHt9LCBwID0gbigxMTMpOwpnW2MuRVJSX1NJWkVdID0gYTsKZ1tjLkVSUl9GT1JNQVRdID0gczsKZ1tjLkVSUl9ESVNBQkxFRF0gPSBfOwpjLnByZXR0eVNpemUgPSBmdW5jdGlvbigpIHsKdmFyIHQgPSBbIGwsIGQsIHUgXSwgZSA9IFsgMCwgMSwgMiBdOwpyZXR1cm4gZnVuY3Rpb24oaSwgbikgewppID0gTWF0aC5tYXgocGFyc2VJbnQoaSwgMTApIHx8IDAsIDApOwpuID0gbiB8fCB7fTsKZm9yICh2YXIgbywgciA9IG4uYmFzZTIgPyAxMDI0IDogMWUzLCBhID0gdC5sZW5ndGg7IGEtLTsgKSB7Cm8gPSBNYXRoLnBvdyhyLCBhKTsKaWYgKGkgPj0gbykgcmV0dXJuIHRbYV0ucmVwbGFjZSgiPHNpemU+IiwgKGkgLyBvKS50b0ZpeGVkKGVbYV0pKTsKfQp9Owp9KCk7CmMucHJldHR5VHlwZSA9IGZ1bmN0aW9uKHQsIGUsIGkpIHsKaSA9IGkgfHwgd2luZG93LkluZmluaXR5Owp2YXIgbiA9IHQuc3BsaXQoIi8iKVsxXTsKbiA9IG4gJiYgbi5yZXBsYWNlKGgsICIiKTsKaWYgKG4gJiYgbi5sZW5ndGggPCBpKSByZXR1cm4gbi50b0xvd2VyQ2FzZSgpOwpuID0gZS5zcGxpdCgiLiIpLnBvcCgpOwpyZXR1cm4gKG4gfHwgIiIpLnRvTG93ZXJDYXNlKCk7Cn07CmMuaXNWYWxpZFR5cGUgPSBmdW5jdGlvbih0LCBlKSB7CmlmICh0KSB7CmUgPSBlIHx8IGY7CnZhciBpID0gdC5zdWJzdHIodC5sYXN0SW5kZXhPZigiLiIpICsgMSkudG9Mb3dlckNhc2UoKTsKcmV0dXJuIC0xICE9PSBvKGksIGUpOwp9Cn07CmMucHJldHR5RXJyb3IgPSBmdW5jdGlvbih0LCBlKSB7CnZhciBpID0gdCBpbiBnID8gZ1t0XSA6IHA7CnIoZSkgfHwgKGkgPSBpLnJlcGxhY2UoIjxzaXplPiIsIGMucHJldHR5U2l6ZShlIHx8IDVlNikpKTsKcmV0dXJuIGk7Cn07CmMuYmxvYlRvRmlsZSA9IGZ1bmN0aW9uKHQsIGUsIGkpIHsKdC5sYXN0TW9kaWZpZWREYXRlID0gbmV3IERhdGUoKTsKdC5uYW1lID0gZTsKcmV0dXJuIG5ldyB3aW5kb3cuRmlsZShbIHQgXSwgZSwgewp0eXBlOiBpCn0pOwp9OwpjLmdldEV4dGVuc2lvbiA9IGZ1bmN0aW9uKHQpIHsKdmFyIGUgPSB0Lmxhc3RJbmRleE9mKCIuIik7CnJldHVybiAtMSA9PT0gZSA/IG51bGwgOiB0LnN1YnN0cihlICsgMSkudG9Mb3dlckNhc2UoKTsKfTsKdC5leHBvcnRzID0gYzsKfSwgZnVuY3Rpb24odCwgZSkgewp2YXIgaSA9ICJbYS16MC05ISMkJSYnKitcXC89P15fYHt8fX4tXSsoPzpcXC5bYS16MC05ISMkJSYnKitcXC89P15fYHt8fX4tXSspKkAoPzpbYS16MC05XSg/OlthLXowLTktXSpbYS16MC05XSk/XFwuKSsoW2EtejAtOV1bYS16MC05LV0qW2EtejAtOV0pIiwgbiA9ICIoPzoyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkiLCBvID0gewplbWFpbDogbmV3IFJlZ0V4cCgiXiIgKyBpICsgIiQiLCAiaSIpLAppcF90b2tlbjogbmV3IFJlZ0V4cCgiXiIgKyBuICsgIiQiKSwKaXA6IG5ldyBSZWdFeHAoIl4oPzoiICsgbiArICJcXC4pezN9IiArIG4gKyAiJCIpLAp0bGQ6IC9eKEFFUk98QVJQQXxBU0lBfEFbQ0RFRkdJTE1OT1FSU1RVV1haXXxCSVp8QltBQkRFRkdISUpNTk9SU1RWV1laXXxDQVR8Q09NfENPT1B8Q1tBQ0RGR0hJS0xNTk9SVVZYWVpdfERbRUpLTU9aXXxFRFV8RVtDRUdSU1RVXXxGW0lKS01PUl18R09WfEdbQUJERUZHSElMTU5QUVJTVFVXWV18SFtLTU5SVFVdfElORk98SU5UfElbREVMTU5PUVJTVF18Sk9CU3xKW0VNT1BdfEtbRUdISU1OUFJXWVpdfExbQUJDSUtSU1RVVlldfHxNSUx8TU9CSXxNVVNFVU18TVtBQ0RFR0hLTE1OT1BRUlNUVVZXWFlaXXxOQU1FfE5FVHxOW0FDRUZHSUxPUFJVWl18T1JHfE9NfFBST3xQW0FFRkdIS0xNTlJTVFdZXXxRQXxSW0VPU1VXXXxTW0FCQ0RFR0hJSktMTU5PUlRVVllaXXxURUx8VFJBVkVMfFRbQ0RGR0hKS0xNTk9QUlRWV1pdfFVbQUdLU1laXXxWW0FDRUdJTlVdfFdbRlNdfFhOfFlbRVRdfFpbQU1XXSkkL2ksCnNlYXJjaDogewplbWFpbDogbmV3IFJlZ0V4cChpLCAiaWciKSwKZW1haWxfbHdzOiBuZXcgUmVnRXhwKCIoXnxcXHMrKSIgKyBpLCAiaWciKSwKaHVybDogLyhefFxzKykoPzooPzpodHRwcz98ZnRwcz8pOlwvXC8pKD86XFMrKS9naSwKdXJsOiAvKF58XHMrKSg/Oltcdy1dK1wuKSsoXHd7Mix9KSg/OjpbMC05XSspPyg/OlwvXFMqKT8vZywKcGhvbmVfbnVtYmVyOiAvKD86XnxccyspKD86KD86XCs/XGR7MSwzfXxcKFxkezEsM31cKSkoWy0uXHNdKT8pP1xkezMsMTB9KD86KFstLlxzXSlcZHszLDEwfSk/L2dpCn0sCmVzY2FwZTogZnVuY3Rpb24odCkgewpyZXR1cm4gdC5yZXBsYWNlKC9bLiorP14ke30oKXxbXF1cXF0vZywgIlxcJCYiKTsKfQp9Owp0LmV4cG9ydHMgPSBvOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4odCwgZSkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgbikpIHJldHVybiBuZXcgbih0LCBlKTsKdGhpcy5lbG0gPSB0Owp0aGlzLmN1cnJTdHlsZSA9IGQoe30sIGUpOwp0aGlzLmFwcGx5U3R5bGUodGhpcy5jdXJyU3R5bGUpOwp2YXIgaSA9IHRoaXM7CnRoaXMuZWxtLm9uRGVzdHJ1Y3Rpb24oZnVuY3Rpb24oKSB7CmkuZGVzdHJveSgpOwp9KTsKfQp2YXIgbyA9IGkoMjgpLCByID0gaSgyMjgpLCBhID0gaSgyMjcpLCBzID0gaSgyMjYpLCBfID0gaSgxMSksIGwgPSBpKDIyNCksIGQgPSBfLnNoYWxsb3dFeHRlbmQsIHUgPSBmdW5jdGlvbigpIHt9OwpuLnByb3RvdHlwZS5hbmltYXRlID0gZnVuY3Rpb24odCwgZSkgewp2YXIgaSA9IGQoe30sIHQuZW5kU3R5bGUpLCBuID0gbyh0LmR1cmF0aW9uKSA/IHQuZHVyYXRpb24gOiAzMDAsIHIgPSBvKHQuZGVsYXkpID8gdC5kZWxheSA6IDAsIGEgPSB0LmVhc2VUeXBlIHx8ICJlYXNlUXVhZEluT3V0IiwgcyA9IG8odC5zdGFydFRpbWUpID8gdC5zdGFydFRpbWUgOiArbmV3IERhdGUoKSwgXyA9IDA7CmUgPSBlIHx8IHU7CmlmIChvKHdpbmRvdy5hbmltYXRlRGVidWcpKSB7Cm4gKj0gd2luZG93LmFuaW1hdGVEZWJ1ZzsKciAqPSB3aW5kb3cuYW5pbWF0ZURlYnVnOwp9CnIgPCAwID8gXyA9IC1yIDogcyArPSByOwp0aGlzLnN0b3AoKTsKdGhpcy5jYiA9IGUgfHwgdTsKdGhpcy5fYW5pbWF0ZSh7CnN0YXJ0U3R5bGU6IHRoaXMuY3VyclN0eWxlLAplbmRTdHlsZTogaSwKZHVyYXRpb246IG4sCnN0YXJ0VGltZTogcywKZWxhcHNlZE9mZnNldDogXywKZWFzZVR5cGU6IGEKfSk7Cn07Cm4ucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbigpIHsKaWYgKHRoaXMudGltZXIpIHsKdGhpcy50aW1lci5zdG9wKCk7CnRoaXMudGltZXIgPSBudWxsOwp0aGlzLmNiLmNhbGwodGhpcy5lbG0sICJzdG9wcGVkIik7Cn0KfTsKbi5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkgewp0aGlzLnN0b3AoKTsKdGhpcy5lbG0gPSB0aGlzLmN1cnJTdHlsZSA9IHRoaXMuY2IgPSB0aGlzLnRpbWVyID0gbnVsbDsKfTsKbi5wcm90b3R5cGUuaXNBbmltYXRpbmcgPSBmdW5jdGlvbigpIHsKcmV0dXJuICEhdGhpcy50aW1lcjsKfTsKbi5wcm90b3R5cGUuX2FuaW1hdGUgPSBmdW5jdGlvbih0KSB7CmZ1bmN0aW9uIGUodCkgewp0ICs9IF87CmlmICh0ID49IG8pIHsKaC5zdG9wKCk7CmYudGltZXIgPSBudWxsOwpmLmN1cnJTdHlsZSA9IG47CmYuYXBwbHlTdHlsZShuKTsKZi5jYi5jYWxsKGYuZWxtLCBudWxsKTsKfSBlbHNlIHsKdmFyIGUgPSBjKHQgLyBvKSwgaSA9IHUoZSk7CmYuY3VyclN0eWxlID0gaTsKZi5hcHBseVN0eWxlKGkpOwp9Cn0KdmFyIGkgPSB0LnN0YXJ0U3R5bGUsIG4gPSB0LmVuZFN0eWxlLCBvID0gdC5kdXJhdGlvbiwgXyA9IHQuZWxhcHNlZE9mZnNldCwgbCA9IHQuc3RhcnRUaW1lLCBkID0gdC5lYXNlVHlwZSwgdSA9IHMuaW50ZXJwb2xhdGVPYmplY3QoaSwgbiksIGMgPSBhW2RdLCBoID0gci50aW1lcihlLCAwLCBsKSwgZiA9IHRoaXM7CmYudGltZXIgPSBoOwp9OwpuLnByb3RvdHlwZS5hcHBseVN0eWxlID0gZnVuY3Rpb24odCkgewp0ID0gbCh0KTsKZm9yICh2YXIgZSBpbiB0KSB0Lmhhc093blByb3BlcnR5KGUpICYmIHRoaXMuZWxtLnNldENTU1N0eWxlKGUsIHRbZV0pOwp9Owp0LmV4cG9ydHMgPSBuOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19qeF91aV9XaWRnZXQgPSBpKDcpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFtdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBoID0gZnVuY3Rpb24oKSB7CnZhciB0ID0gaSg5KTsKIWZ1bmN0aW9uKCkgewp0Lm1vYmlsZShjKTsKdC50YWJsZXQoYyk7CnQucnRsKGMpOwp9KCk7Cn0oKTsKZm9yICh2YXIgZiBpbiBoKSBjW2ZdID0gaFtmXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfV2lkZ2V0LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CnBvc2l0aW9uOiAiYWJzb2x1dGUiLAptaW5XaWR0aDogIjE4MHB4IiwKbWF4V2lkdGg6ICIzNjBweCIsCnpJbmRleDogIjEwMCIsCmJvdHRvbTogIiQkYWN0aW9uQmFySGVpZ2h0IiwKbWFyZ2luQm90dG9tOiAiLTJweCIsCiJsZWZ0LCByaWdodCI6ICIxMHB4IiwKY29sb3I6ICIkJG1lbnVDb2xvciIsCmJhY2tncm91bmQ6ICIkJG1lbnVCZyIsCmJvcmRlcldpZHRoOiAiJCRtZW51Qm9yZGVyV2lkdGgiLApib3JkZXJTdHlsZTogIiQkbWVudUJvcmRlclN0eWxlIiwKYm9yZGVyQ29sb3I6ICIkJG1lbnVCb3JkZXJDb2xvciIsCmJvcmRlclJhZGl1czogIiQkbWVudVJhZGl1cyIsCmJveFNoYWRvdzogIiQkbWVudVNoYWRvdyIKfSwKIiYucnRsIjogewoibGVmdCwgcmlnaHQiOiAiMTBweCIKfSwKIiYubW9iaWxlIjogewpsZWZ0OiAiMCIsCnRvcDogIiQkdGl0bGVCYXJIZWlnaHQiLApib3R0b206ICJhdXRvIiwKd2lkdGg6ICIxMDAlIiwKbWF4V2lkdGg6ICIkJG1vYmlsZU1heFdpZHRoIiwKYm9yZGVyVG9wOiAiMCBub25lIgp9LAoiJi5tb2JpbGUucnRsIjogewpyaWdodDogMAp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX2p4X3VpX1dpZGdldCwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfTWVudSIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0KSB7CmlmIChrLmlzQXV0aGVudGljYXRlZCgpKSB7CkQgPSAhMDsKXyA9IHQuJCgibGl2ZWNoYXQiKTsKbCA9IF8uJCgiaGlzdG9yeSIpOwpkID0gXy4kKCJ1aSIpLiQoImhpc3RvcnkiKTsKdSA9IF8uJCgiY2hhbm5lbCIpOwpjID0gdS4kKCJsb2ciKTsKaCA9IF8uJCgicHJvZmlsZSIpLiQoImhhc19oaXN0b3J5JGJvb2wiKTsKZiA9IGQuJCgic3RhdGUkc3RyaW5nIik7CmcgPSBkLiQoImxvZyIpOwpwID0gZC4kKCJsb2dfbGVuZ3RoJGludCIpOwptID0gZC4kKCJzY3JvbGxlcl9hdF90b3AkYm9vbCIpOwokID0gZC4kKCJzcGlubmVyX3Zpc2liaWxpdHkiKTsKYiA9IGwuJCgibG9nIik7CncgPSBsLiQoImhhc19tb3JlJGJvb2wiKTsKeCA9IGwuJCgiaW5fcHJvZ3Jlc3MkYm9vbCIpOwp2ID0gbC4kKCJjdXJzb3Ikc3RyaW5nIik7CmIuYmluZFZhbHVlKGZ1bmN0aW9uKHQpIHsKdCAmJiAoQiA9IFMuZXh0ZW5kKEIsIHQpKTsKfSk7CnguYmluZFZhbHVlKGZ1bmN0aW9uKHQpIHsKITEgPT09IHQgJiYgc2V0VGltZW91dChmdW5jdGlvbigpIHsKZi51cGRhdGUoInJlbmRlcmluZyIpOwpnLnVwZGF0ZShCKTsKQiA9IHt9Owp9LCBJKTsKfSk7CnYuYmluZFZhbHVlKGZ1bmN0aW9uKHQpIHsKaWYgKHZvaWQgMCAhPT0gdCAmJiB0ICE9PSB5KSB7CnkgPSB0OwpmLnVwZGF0ZSgiZmV0Y2hlZCIpOwp9Cn0pOwpjLmJpbmRLZXlzKGZ1bmN0aW9uKCkgewp2YXIgdCA9IGMuZ2V0S2V5cygpOwppZiAoMCAhPT0gdC5sZW5ndGgpIHsKdmFyIGUgPSBjLiQodFswXSkuJCgiZmlyc3QkYm9vbCIpOwplLmdldFZhbHVlKCkgfHwgZS51cGRhdGUoITApOwp9Cn0pOwpoLmJpbmRWYWx1ZShmdW5jdGlvbih0KSB7CnQgJiYgTC5mZXRjaENoYXRIaXN0b3J5KCEwKTsKfSk7CnAuYmluZFZhbHVlKGZ1bmN0aW9uKHQpIHsKdm9pZCAwICE9PSB0ICYmIGYudXBkYXRlKCJyZW5kZXJlZCIpOwp9KTsKbygpOwp9Cn0KZnVuY3Rpb24gbygpIHsKZnVuY3Rpb24gdCgpIHsKdmFyIHQgPSB3LmdldFZhbHVlKCksIGUgPSBjLmdldEtleXMoKS5sZW5ndGggPiAwLCBpID0gcC5nZXRWYWx1ZSgpID4gMCwgbiA9IGYuZ2V0VmFsdWUoKSwgbyA9IG4gJiYgInJlbmRlcmVkIiAhPT0gbiwgciA9IG0uZ2V0VmFsdWUoKSwgYSA9ICEoZSB8fCBpKTsKJC51cGRhdGUoewpsYXJnZSRib29sOiBhICYmIG8sCnNtYWxsJGJvb2w6ICFhICYmICExICE9PSB0ICYmIHIgJiYgbwp9KTsKfQppZiAoRCkgewpqICYmIGooKTsKYy5iaW5kS2V5cyh0KTsKdy5iaW5kVmFsdWUodCk7CnAuYmluZFZhbHVlKHQpOwpmLmJpbmRWYWx1ZSh0KTsKbS5iaW5kVmFsdWUodCk7CnQoKTsKaiA9IGZ1bmN0aW9uKCkgewpjLnVuYmluZEtleXModCk7CncudW5iaW5kVmFsdWUodCk7CnAudW5iaW5kVmFsdWUodCk7CmYudW5iaW5kVmFsdWUodCk7Cm0udW5iaW5kVmFsdWUodCk7Cn07Cn0KfQpmdW5jdGlvbiByKHQsIGUsIGkpIHsKRCAmJiB0LmF1dG9iaW5kKCQsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKaWYgKHQpIHsKImxhcmdlJGJvb2wiIGluIHQgJiYgaS5zZXRWaXNpYmxlKHQubGFyZ2UkYm9vbCk7CiJzbWFsbCRib29sIiBpbiB0ICYmIGUuc2V0VmlzaWJsZSh0LnNtYWxsJGJvb2wpOwp9Cn0pOwp9CmZ1bmN0aW9uIGEodCwgZSkgewpmdW5jdGlvbiBpKCkgewp2YXIgZSA9IHQuZ2V0U2Nyb2xsSGVpZ2h0KCksIG8gPSBlIC0gRSwgciA9IEUgPiAwID8gTyArIG8gOiBlOwp0LnNldFNjcm9sbFRvcChyKTsKbiB8fCBDLnVuKCJ3cml0ZSIsIGkpOwp9CmlmIChEKSB7CmUgPSBlIHx8IDA7CnZhciBuID0gITE7CmYuYmluZFZhbHVlKGZ1bmN0aW9uKGUpIHsKaWYgKCJyZW5kZXJpbmciID09PSBlKSB7Cm4gPSBwLmdldFZhbHVlKCkgPiAwOwpFID0gdC5nZXRTY3JvbGxIZWlnaHQoKTsKTyA9IHQuZ2V0U2Nyb2xsVG9wKCk7Cn0gZWxzZSAicmVuZGVyZWQiID09PSBlICYmIChuID8gaSgpIDogQy5vbigid3JpdGUiLCBpKSk7Cn0pOwp0Lm9uKCJzY3JvbGwiLCBBLmRlYm91bmNlKGZ1bmN0aW9uKCkgewp2YXIgaSA9IHQuZ2V0U2Nyb2xsVG9wKCksIG4gPSBpIDwgTiArIGU7Cm4gJiYgTC5mZXRjaENoYXRIaXN0b3J5KCk7Cm0uZ2V0VmFsdWUoKSAhPT0gbiAmJiBtLnVwZGF0ZShuKTsKfSwgVCkpOwp9Cn0KZnVuY3Rpb24gcyh0KSB7CmlmIChEICYmICF4LmdldFZhbHVlKCkgJiYgITEgIT09IHcuZ2V0VmFsdWUoKSkgewp0ICYmIGcudXBkYXRlKG51bGwpOwpmLnVwZGF0ZSgiZmV0Y2hpbmciKTsKbC53cml0ZSh7CmN1cnNvciRzdHJpbmc6IHQgPyAiIiA6IHYuZ2V0VmFsdWUoKSB8fCAiIgp9KTsKfQp9CnZhciBfLCBsLCBkLCB1LCBjLCBoLCBmLCBnLCBwLCBtLCAkLCBiLCB3LCB4LCB2LCB5LCBqLCBDID0gaSgzKSwgUyA9IGkoNzMpLCBBID0gaSgxNDIpLCBrID0gaSg0NSksIEkgPSA1MDAsIFQgPSAxMDAsIE4gPSAyMCwgQiA9IHt9LCBEID0gITEsIEUgPSAwLCBPID0gMCwgTCA9IHsKaW5pdDogbiwKZmV0Y2hDaGF0SGlzdG9yeTogcywKc2V0dXBTcGlubmVyOiBvLApiaW5kU3Bpbm5lclVJOiByLApzZXR1cFNjcm9sbExpc3RlbmVyOiBhCn07CnQuZXhwb3J0cyA9IEw7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpLCBvLCBzKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiBuKSkgcmV0dXJuIG5ldyBuKHQsIGUsIGksIG8sIHMpOwppZiAoIW4uX19qeF9famNzc19nZW5lcmF0ZWQpIHsKci5nZW5lcmF0ZSh0aGlzLCBuLnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIG4uX19qeF9famNzcywgbnVsbCwgbik7Cm4uX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQpzIHx8IChzID0ge30pOwpzLnRhZ05hbWUgfHwgKHMudGFnTmFtZSA9ICJpbnB1dCIpOwpzLnR5cGUgfHwgKHMudHlwZSA9ICJzdWJtaXQiKTsKXy5jYWxsKHRoaXMsIHQsIGUsIGksIG8sIHMpOwp0aGlzLnNldFZhbHVlKHRoaXMuX3ZhbHVlKTsKdmFyIGwgPSB0aGlzOwp0aGlzLl9zZXRWYWx1ZSA9IGZ1bmN0aW9uKCkgewpsLnNldFZhbHVlKGwuX3ZhbHVlKTsKfTsKYSAmJiBhLm9uTGFuZ3VhZ2UgJiYgYS5vbkxhbmd1YWdlKHRoaXMuX3NldFZhbHVlKTsKfQp2YXIgbyA9IGkoMSksIHIgPSBpKDMpLCBhID0gaSgyKSwgcyA9IGkoMCksIF8gPSBpKDE3KTsKbi5fX2p4X19qY3NzID0gewoiKipzZWxmIjoge30KfTsKbi5wcm90b3R5cGUgPSBzKF8ucHJvdG90eXBlKTsKbyhuLCBfLCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19TdWJtaXQiCn0pOwpuLnByb3RvdHlwZS5fX2p4X19zdXBlciA9IF87Cm4ucHJvdG90eXBlLnNldFZhbHVlID0gZnVuY3Rpb24odCkgewp0aGlzLl92YWx1ZSA9IHQ7CnJldHVybiBfLnByb3RvdHlwZS5zZXRWYWx1ZS5jYWxsKHRoaXMsIHQpOwp9OwpuLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7CmEgJiYgYS51bkxhbmd1YWdlICYmIGEudW5MYW5ndWFnZSh0aGlzLl9zZXRWYWx1ZSk7Cl8ucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTsKfTsKdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQsIGUsIGksIG8sIHIpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIG4pKSByZXR1cm4gbmV3IG4odCwgZSwgaSwgbywgcik7CnIgfHwgKHIgPSB7fSk7CnIudGFnTmFtZSB8fCAoci50YWdOYW1lID0gImJ1dHRvbiIpOwphLmNhbGwodGhpcywgdCwgZSwgaSwgbywgcik7Cn0KdmFyIG8gPSBpKDEpLCByID0gaSgwKSwgYSA9IGkoNDMpOwpuLnByb3RvdHlwZSA9IHIoYS5wcm90b3R5cGUpOwpvKG4sIGEsIHsKZnFuYW1lOiAianhfdWlfQnV0dG9uIgp9KTsKdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoOCksIG8gPSBpKDU2KSwgciA9IGkoMzYpLCBhID0gaSgxOCksIHMgPSBpKDYpLCBfID0gaSgyNiksIGwgPSBpKDM1KSwgZCA9IHt9OwpkLmluaXQgPSBmdW5jdGlvbigpIHsKdmFyIHQsIGUgPSBzLnJvb3QsIGkgPSBlLiQoImNvbm5lY3Rpb24iKS4kKCJzdGF0dXMkc3RyaW5nIiksIHUgPSBlLiQoImxpdmVjaGF0IikuJCgidWkiKS4kKCJwb3BvdXQkYm9vbCIpLCBjID0gZS4kKCJsaXZlY2hhdCIpLiQoInVpIikuJCgibW9iaWxlJGJvb2wiKSwgaCA9IGUuJCgibGl2ZWNoYXQiKS4kKCJ1aSIpLiQoIm1vY2t1cCRib29sIiksIGYgPSBlLiQoImxpdmVjaGF0IikuJCgiYWNjb3VudCIpLiQoImtleSRzdHJpbmciKSwgZyA9IGUuJCgibGl2ZWNoYXQiKS4kKCJwcm9maWxlIikuJCgibWlkJHN0cmluZyIpLCBwID0gZS4kKCJsaXZlY2hhdCIpLiQoInNldHRpbmdzIikuJCgibGFuZ3VhZ2UiKS4kKCJsYW5ndWFnZSRzdHJpbmciKSwgbSA9IGMuZ2V0VmFsdWUoKSA/ICJkaWFsb2c9bm8sZnVsbHNjcmVlbj15ZXMiIDogIndpZHRoPTQwMCxoZWlnaHQ9NTAwLG1lbnViYXI9bm8sdG9vbGJhcj1ubyxsb2NhdGlvbj1ubyxwZXJzb25hbGJhcj1ubyxzdGF0dXM9bm8scmVzaXphYmxlPXllcyxzY3JvbGxiYXJzPW5vIjsKZC5vcGVuUG9wb3V0ID0gZnVuY3Rpb24oZSkgewppZiAoIW4uYnVncy5ub0JveFNpemluZykgewp2YXIgaSA9IGYuZ2V0VmFsdWUoKSB8fCBhLkFDQ09VTlRfS0VZLCBvID0gYy5nZXRWYWx1ZSgpOwppZiAoIWguZ2V0VmFsdWUoKSAmJiAhdS5nZXRWYWx1ZSgpICYmIGkgJiYgIWwuaXNJRU1vYmlsZSkgewp2YXIgciA9IGQuZ2V0UG9wb3V0VVJMKCk7CmlmICh0ICYmICF0LmNsb3NlZCAmJiB0LmZvY3VzKSB7CmlmICghbyAmJiBuLmlzQ2hyb21lIHx8IGwuaXNOYXRpdmVBbmRyb2lkTW9iaWxlIHx8IGwuaXNTYWZhcmlJT1NNb2JpbGUpIHQuZm9jdXMoKTsgZWxzZSB7CnQuY2xvc2UoKTsKdCA9IHdpbmRvdy5vcGVuKHIsIGEuUE9QT1VUX1dJTkRPV19QUkVGSVggKyBpICsgbmV3IERhdGUoKSwgbSk7CmlmICghdCB8fCB0LmNsb3NlZCkgcmV0dXJuOwp9CnJldHVybiAhMDsKfQppZiAobyB8fCBlKSB7CnRyeSB7CnQgPSB3aW5kb3cub3BlbihyLCBhLlBPUE9VVF9XSU5ET1dfUFJFRklYICsgaSwgbSk7Cn0gY2F0Y2ggKHQpIHt9CmlmIChsLmlzQ2hyb21lSU9TTW9iaWxlKSByZXR1cm4gITA7CmlmICghdCB8fCB0LmNsb3NlZCkgcmV0dXJuOwp0cnkgewp0LmZvY3VzKCk7Cn0gY2F0Y2ggKHQpIHt9CnJldHVybiAhMDsKfQp9Cn0KfTsKZC5nZXRQb3BvdXRVUkwgPSBmdW5jdGlvbigpIHsKdmFyIHQgPSB7CmtleTogZi5nZXRWYWx1ZSgpIHx8IGEuQUNDT1VOVF9LRVksCm1pZDogZy5nZXRWYWx1ZSgpIHx8ICIiLApsYW5nOiBwLmdldFZhbHVlKCkgfHwgIiIsCmhvc3RuYW1lOiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUsCmFwaV9jYWxsczogby5zdHJpbmdpZnkoXy5nZXRQb3BvdXRBUElDYWxscygpKQp9LCBlID0gWyBhLlBPUE9VVF9VUkwsICI/Iiwgci5idWlsZFF1ZXJ5KHQpIF0sIGkgPSByLmdldEhhc2goIl9fem9waW1fd2lkZ2V0X3Byb3h5Iik7CmkgJiYgZS5wdXNoKCIjIiwgci5idWlsZFF1ZXJ5KHsKX196b3BpbV93aWRnZXRfcHJveHk6IGkKfSkpOwpyZXR1cm4gZS5qb2luKCIiKTsKfTsKZC5pc1JlYWR5ID0gZnVuY3Rpb24oKSB7CnZhciB0ID0gaS5nZXRWYWx1ZSgpOwpyZXR1cm4gInJlZ2lzdGVyZWQiID09IHQgfHwgInJlYXR0YWNoZWQiID09IHQgfHwgImNvb2tpZV9sYXciID09IHQ7Cn07Cn07CnQuZXhwb3J0cyA9IGQ7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpLCBvLCByKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiBuKSkgcmV0dXJuIG5ldyBuKHQsIGUsIGksIG8sIHIpOwp2YXIgcyA9IHRoaXM7CnRoaXMuX29uQXV0b1Jlc2l6ZSA9IGZ1bmN0aW9uKCkgewpzLm9uQXV0b1Jlc2l6ZSgpOwp9OwpkLmNhbGwodGhpcywgdCwgZSwgaSwgbnVsbCwgcik7CmQucHJvdG90eXBlLnNldE1hcmdpbi5jYWxsKHRoaXMsICIwIik7CmQucHJvdG90eXBlLnNldFBhZGRpbmcuY2FsbCh0aGlzLCAiMCIpOwpkLnByb3RvdHlwZS5zZXRCb3JkZXIuY2FsbCh0aGlzLCAiMCIpOwpkLnByb3RvdHlwZS5zZXRCYWNrZ3JvdW5kLmNhbGwodGhpcywgInRyYW5zcGFyZW50Iik7CmQucHJvdG90eXBlLnNldE92ZXJmbG93LmNhbGwodGhpcywgImhpZGRlbiIpOwpkLnByb3RvdHlwZS5zZXRQb3NpdGlvbi5jYWxsKHRoaXMsICJmaXhlZCIpOwp0aGlzLmFwcGVuZFRvUGFyZW50KCk7CnRoaXMuaWZyYW1lID0gbmV3IHUodGhpcywgbnVsbCwgbnVsbCwgbnVsbCwgewp0YWdOYW1lOiAiaWZyYW1lIiwKcG9zaXRpb246ICJyZWxhdGl2ZSIsCndpZHRoOiAiMTAwJSIsCmhlaWdodDogIjEwMCUiLAptaW5XaWR0aDogIjEwMCUiLAptaW5IZWlnaHQ6ICIxMDAlIiwKbWF4V2lkdGg6ICIxMDAlIiwKbWF4SGVpZ2h0OiAiMTAwJSIsCmJvcmRlcjogIjAiLAptYXJnaW46ICIwIiwKcGFkZGluZzogIjAiLApiYWNrZ3JvdW5kOiAidHJhbnNwYXJlbnQiLApvdmVyZmxvdzogImhpZGRlbiIsCmRpc3BsYXk6ICJibG9jayIKfSk7CnRoaXMuaXdpbiA9IHRoaXMuaWZyYW1lLml3aW47CnRoaXMuaWRvYyA9IHRoaXMuaWZyYW1lLmlkb2M7CnRoaXMuaWJvZHkgPSB0aGlzLmlmcmFtZS5pYm9keTsKdGhpcy5paGVhZCA9IHRoaXMuaWZyYW1lLmloZWFkOwp0aGlzLmNvbnRlbnQgPSBuZXcgYyh0aGlzLmlmcmFtZS5kZWZhdWx0UGxhY2VtZW50KTsKdGhpcy5jb250ZW50LnNldE92ZXJmbG93KCJoaWRkZW4iKTsKdGhpcy53cmFwcGVyID0gbmV3IGQodGhpcy5jb250ZW50LCBudWxsLCBudWxsLCBudWxsLCB7CmRpc3BsYXk6ICJpbmxpbmUtYmxvY2siCn0pOwp0aGlzLndyYXBwZXIuX19qeF9fZnFuYW1lID0gdGhpcy5fX2p4X19mcW5hbWU7CmlmIChhLmJ1Z3Mubm9Cb3hTaXppbmcpIHsKdGhpcy53cmFwcGVyLnN0eWxlLmRpc3BsYXkgPSAiaW5saW5lIjsKdGhpcy53cmFwcGVyLnN0eWxlLnpvb20gPSAiMSI7Cn0KdGhpcy5zZXRBdHRyaWJ1dGVzKHIpOwp0aGlzLmRlZmF1bHRQbGFjZW1lbnQgPSB0aGlzLndyYXBwZXI7CnRoaXMuYWRkQ2hpbGRyZW4obyk7CmlmIChhLmlzSUUgPCA5KSB7CnRoaXMub24oImhpZGUiLCBmdW5jdGlvbigpIHsKcy5pZnJhbWUuc2V0RGlzcGxheSgibm9uZSIpOwp9KTsKdGhpcy5vbigic2hvdyIsIGZ1bmN0aW9uKCkgewpzLmlmcmFtZS5zZXREaXNwbGF5KCJibG9jayIpOwp9KTsKfQp0aGlzLnJhaXNlKCk7Cn0KdmFyIG8sIHIgPSBpKDEpLCBhID0gaSg4KSwgcyA9IGkoMCksIF8gPSBpKDQpLCBsID0gaSgxMiksIGQgPSBpKDcpLCB1ID0gaSgxNzQpLCBjID0gaSg5MCksIGggPSAxNmU2OwohZnVuY3Rpb24oKSB7CmZvciAodmFyIHQgPSBbICIiLCAiV2ViS2l0IiBdLCBlID0gIk11dGF0aW9uT2JzZXJ2ZXIiLCBpID0gMDsgaSA8IHQubGVuZ3RoOyBpKyspIHRbaV0gKyBlIGluIHdpbmRvdyAmJiAobyA9IHdpbmRvd1t0W2ldICsgZV0pOwp9KCk7Cm4ucHJvdG90eXBlID0gcyhkLnByb3RvdHlwZSk7CnIobiwgZCwgewpmcW5hbWU6ICJqeF91aV9GbG9hdGluZ0ZyYW1lIgp9KTsKbi5wcm90b3R5cGUuZmlyZSA9IGZ1bmN0aW9uKHQsIGUpIHsKZC5wcm90b3R5cGUuZmlyZS5jYWxsKHRoaXMsIHQsIGUpOwp0aGlzLmlmcmFtZSAmJiB0aGlzLmlmcmFtZS5maXJlKHQsIGUpOwp0aGlzLndyYXBwZXIgJiYgdGhpcy53cmFwcGVyLmZpcmUodCwgZSk7Cn07Cm4ucHJvdG90eXBlLm9uID0gZnVuY3Rpb24odCwgZSkgewoiaW5pdCIgPT0gdCA/IGQucHJvdG90eXBlLm9uLmNhbGwodGhpcywgdCwgZSkgOiB0aGlzLndyYXBwZXIgJiYgdGhpcy53cmFwcGVyLm9uKHQsIGUpOwp9OwpuLnByb3RvdHlwZS5yYWlzZSA9IGZ1bmN0aW9uKHQpIHsKdCA9IHBhcnNlSW50KHQsIDEwKSB8fCAxOwp0aGlzLnNldFpJbmRleChoICs9IHQpOwp9OwpuLnByb3RvdHlwZS5ub3JtYWxpemUgPSBmdW5jdGlvbigpIHsKdmFyIHQgPSB0aGlzLmdldFhZKCk7CnRoaXMubW92ZVRvKHRbMF0sIHRbMV0pLnNldE1hcmdpbigwKTsKfTsKbi5wcm90b3R5cGUuZ2V0WFkgPSBmdW5jdGlvbigpIHsKdmFyIHQgPSB0aGlzLmRvbS5vZmZzZXRMZWZ0LCBlID0gdGhpcy5kb20ub2Zmc2V0VG9wOwppZiAoYS5pc0lFKSBpZiAoYS5pc1N0cmljdCkgewppZiAoYS5pc0lFNikgewp0IC09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0OwplIC09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7Cn0KfSBlbHNlIHsKdCAtPSBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQ7CmUgLT0gZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7Cn0gZWxzZSBpZiAoYS5pc1NhZmFyaSkgewp2YXIgaSA9IF8uZ2V0U3R5bGVzKHRoaXMuaWZyYW1lLm9mZnNldFBhcmVudCk7CnQgKz0gcGFyc2VJbnQoaS5ib3JkZXJMZWZ0V2lkdGgsIDEwKTsKZSArPSBwYXJzZUludChpLmJvcmRlclRvcFdpZHRoLCAxMCk7Cn0KcmV0dXJuIFsgdCwgZSBdOwp9OwpuLnByb3RvdHlwZS5maXRUb0NvbnRlbnRzID0gZnVuY3Rpb24odCwgZSwgaSkgewp0ID0gdCB8fCB0aGlzOwpmb3IgKHZhciBuID0gMCwgbyA9IDA7IHQuZGVmYXVsdFBsYWNlbWVudDsgKSB0ID0gdC5kZWZhdWx0UGxhY2VtZW50Owp0LmRvbSAmJiAodCA9IHQuZG9tKTsKbyA9IHQuc2Nyb2xsV2lkdGggLSB0LmNsaWVudFdpZHRoOwpuID0gdC5zY3JvbGxIZWlnaHQgLSB0LmNsaWVudEhlaWdodDsKdGhpcy5yZXNpemVCeShvLCBuLCBpIHx8IDAsIGUgfHwgMCk7Cn07Cm4ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHsKdGhpcy5zZXRBdXRvUmVzaXplKCExKTsKZC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpOwp0aGlzLmlmcmFtZSA9IHRoaXMuaXdpbiA9IHRoaXMuaWRvYyA9IHRoaXMuaWJvZHkgPSB0aGlzLmloZWFkID0gdGhpcy5jb250ZW50ID0gbnVsbDsKfTsKbi5wcm90b3R5cGUuc2V0QmFja2dyb3VuZCA9IGZ1bmN0aW9uKHQpIHsKcmV0dXJuIHRoaXMuaWZyYW1lICYmIHRoaXMuaWZyYW1lLnNldEJhY2tncm91bmQodCk7Cn07Cm4ucHJvdG90eXBlLnNldEJhY2tncm91bmRJbWFnZSA9IGZ1bmN0aW9uKHQpIHsKcmV0dXJuIHRoaXMuaWZyYW1lICYmIHRoaXMuaWZyYW1lLnNldEJhY2tncm91bmRJbWFnZSh0KTsKfTsKbi5wcm90b3R5cGUuc2V0Qm9yZGVyID0gZnVuY3Rpb24odCkgewpyZXR1cm4gdGhpcy5pZnJhbWUgJiYgdGhpcy5pZnJhbWUuc2V0Qm9yZGVyKHQpOwp9OwpuLnByb3RvdHlwZS5zZXRCb3JkZXJDb2xvciA9IGZ1bmN0aW9uKHQpIHsKcmV0dXJuIHRoaXMuaWZyYW1lICYmIHRoaXMuaWZyYW1lLnNldEJvcmRlckNvbG9yKHQpOwp9OwpuLnByb3RvdHlwZS5zZXRCb3JkZXJTdHlsZSA9IGZ1bmN0aW9uKHQpIHsKcmV0dXJuIHRoaXMuaWZyYW1lICYmIHRoaXMuaWZyYW1lLnNldEJvcmRlclN0eWxlKHQpOwp9OwpuLnByb3RvdHlwZS5zZXRCb3JkZXJXaWR0aCA9IGZ1bmN0aW9uKHQpIHsKcmV0dXJuIHRoaXMuaWZyYW1lICYmIHRoaXMuaWZyYW1lLnNldEJvcmRlcldpZHRoKHQpOwp9OwpuLnByb3RvdHlwZS5zZXRDdXJzb3IgPSBmdW5jdGlvbih0KSB7CnJldHVybiB0aGlzLmlmcmFtZSAmJiB0aGlzLmlmcmFtZS5zZXRDdXJzb3IodCk7Cn07Cm4ucHJvdG90eXBlLnNldE9wYWNpdHkgPSBmdW5jdGlvbih0KSB7CnJldHVybiB0aGlzLmlmcmFtZSAmJiB0aGlzLmlmcmFtZS5zZXRPcGFjaXR5KHQpOwp9OwpuLnByb3RvdHlwZS5zZXRTZWxlY3RhYmxlID0gZnVuY3Rpb24odCkgewpyZXR1cm4gdGhpcy5pZnJhbWUgJiYgdGhpcy5pZnJhbWUuc2V0U2VsZWN0YWJsZSh0KTsKfTsKbi5wcm90b3R5cGUuc2V0Q29sb3IgPSBmdW5jdGlvbih0KSB7CnJldHVybiB0aGlzLmNvbnRlbnQgJiYgdGhpcy5jb250ZW50LnNldENvbG9yKHQpOwp9OwpuLnByb3RvdHlwZS5zZXRQYWRkaW5nID0gZnVuY3Rpb24odCkgewpyZXR1cm4gdGhpcy5jb250ZW50ICYmIHRoaXMuY29udGVudC5zZXRQYWRkaW5nKHQpOwp9OwpuLnByb3RvdHlwZS5zZXRGb250RmFtaWx5ID0gZnVuY3Rpb24odCkgewpyZXR1cm4gdGhpcy5jb250ZW50ICYmIHRoaXMuY29udGVudC5zZXRGb250RmFtaWx5KHQpOwp9OwpuLnByb3RvdHlwZS5zZXRGb250U2l6ZSA9IGZ1bmN0aW9uKHQpIHsKcmV0dXJuIHRoaXMuY29udGVudCAmJiB0aGlzLmNvbnRlbnQuc2V0Rm9udFNpemUodCk7Cn07Cm4ucHJvdG90eXBlLnNldEZvbnRXZWlnaHQgPSBmdW5jdGlvbih0KSB7CnJldHVybiB0aGlzLmNvbnRlbnQgJiYgdGhpcy5jb250ZW50LnNldEZvbnRXZWlnaHQodCk7Cn07Cm4ucHJvdG90eXBlLnNldFRleHRBbGlnbiA9IGZ1bmN0aW9uKHQpIHsKcmV0dXJuIHRoaXMuY29udGVudCAmJiB0aGlzLmNvbnRlbnQuc2V0VGV4dEFsaWduKHQpOwp9OwpuLnByb3RvdHlwZS5zZXRMZXR0ZXJTcGFjaW5nID0gZnVuY3Rpb24odCkgewpyZXR1cm4gdGhpcy5jb250ZW50ICYmIHRoaXMuY29udGVudC5zZXRMZXR0ZXJTcGFjaW5nKHQpOwp9OwpuLnByb3RvdHlwZS5zZXRMaW5lSGVpZ2h0ID0gZnVuY3Rpb24odCkgewpyZXR1cm4gdGhpcy5jb250ZW50ICYmIHRoaXMuY29udGVudC5zZXRMaW5lSGVpZ2h0KHQpOwp9OwpuLnByb3RvdHlwZS5zZXRPdmVyZmxvdyA9IGZ1bmN0aW9uKHQpIHsKcmV0dXJuIHRoaXMuY29udGVudCAmJiB0aGlzLmNvbnRlbnQuc2V0T3ZlcmZsb3codCk7Cn07Cm4ucHJvdG90eXBlLmdldEF1dG9SZXNpemUgPSBmdW5jdGlvbigpIHsKcmV0dXJuIHRoaXMuYXV0b1Jlc2l6ZTsKfTsKbi5wcm90b3R5cGUuc2V0QXV0b1Jlc2l6ZSA9IGZ1bmN0aW9uKHQpIHsKdCA9IGwodCk7CnRoaXMuYXV0b1Jlc2l6ZSA9IHQ7CmlmICh0aGlzLndyYXBwZXIpIHsKdmFyIGUgPSB0aGlzOwppZiAodGhpcy5hdXRvUmVzaXplKSB7CmlmIChvKSB7CnRoaXMuX2F1dG9SZXNpemVyID0gbmV3IG8oZnVuY3Rpb24oKSB7CmUub25BdXRvUmVzaXplKCk7Cn0pOwp0aGlzLl9hdXRvUmVzaXplci5vYnNlcnZlKHRoaXMud3JhcHBlci5kb20sIHsKY2hpbGRMaXN0OiAhMCwKYXR0cmlidXRlczogITAsCmNoYXJhY3RlckRhdGE6ICEwLApzdWJ0cmVlOiAhMAp9KTsKfSBlbHNlIHsKdGhpcy5fYXV0b1Jlc2l6ZXIgJiYgd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fYXV0b1Jlc2l6ZXIpOwp0aGlzLl9hdXRvUmVzaXplciA9IHdpbmRvdy5zZXRJbnRlcnZhbCh0aGlzLl9vbkF1dG9SZXNpemUsIDIwMCk7Cn0KdGhpcy5vbkF1dG9SZXNpemUoKTsKfSBlbHNlIGlmICh0aGlzLl9hdXRvUmVzaXplcikgaWYgKG8pIHsKdGhpcy5fYXV0b1Jlc2l6ZXIuZGlzY29ubmVjdCgpOwp0aGlzLl9hdXRvUmVzaXplciA9IG51bGw7Cn0gZWxzZSB7CndpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX2F1dG9SZXNpemVyKTsKdGhpcy5fYXV0b1Jlc2l6ZXIgPSBudWxsOwp9CnJldHVybiB0aGlzOwp9Cn07Cm4ucHJvdG90eXBlLm9uQXV0b1Jlc2l6ZSA9IGZ1bmN0aW9uKCkgewppZiAoYS5idWdzLm5vQm94U2l6aW5nKSB7CnRoaXMuc3R5bGUud2lkdGggPSAiMTBweCI7CnRoaXMuc3R5bGUuaGVpZ2h0ID0gIjEwcHgiOwp9CnZhciB0ID0gdGhpcy53cmFwcGVyLmdldFdpZHRoKCksIGUgPSB0aGlzLndyYXBwZXIuZ2V0SGVpZ2h0KCk7CnRoaXMuc2V0V2lkdGgodCk7CnRoaXMuc2V0SGVpZ2h0KGUpOwppZiAoYS5idWdzLm5vQm94U2l6aW5nKSB7CnRoaXMuc3R5bGUud2lkdGggPSB0ICsgInB4IjsKdGhpcy5zdHlsZS5oZWlnaHQgPSBlICsgInB4IjsKdGhpcy5pZnJhbWUuZG9tLmNsYXNzTmFtZSA9IHRoaXMuaWZyYW1lLmRvbS5jbGFzc05hbWU7Cn0KfTsKbi5wcm90b3R5cGUuc2V0RGF0YVRlc3RJZCA9IGZ1bmN0aW9uKHQpIHsKdGhpcy5pZnJhbWUgJiYgdGhpcy5pZnJhbWUuc2V0RGF0YVRlc3RJZCh0ICsgIi1pZnJhbWUiKTsKcmV0dXJuIGQucHJvdG90eXBlLnNldERhdGFUZXN0SWQuY2FsbCh0aGlzLCB0KTsKfTsKdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24odCwgZSkgewp2YXIgaSA9IGZ1bmN0aW9uKHQsIGUpIHsKcmV0dXJuIHQgPT09IGUgfHwgdCAmJiBlICYmICJvYmplY3QiID09IHR5cGVvZiB0ICYmICJvYmplY3QiID09IHR5cGVvZiBlICYmIG4odCwgZSk7Cn0sIG4gPSBmdW5jdGlvbih0LCBlKSB7CnZhciBuOwpmb3IgKG4gaW4gdCkgaWYgKCFpKHRbbl0sIGVbbl0pKSByZXR1cm4gITE7CmZvciAobiBpbiBlKSBpZiAoIWkodFtuXSwgZVtuXSkpIHJldHVybiAhMTsKcmV0dXJuICEwOwp9LCBvID0gZnVuY3Rpb24odCkgewppZiAoIm9iamVjdCIgIT0gdHlwZW9mIHQgfHwgIXQpIHJldHVybiB0Owp2YXIgZSA9IHt9Owpmb3IgKHZhciBpIGluIHQpIHQuaGFzT3duUHJvcGVydHkoaSkgJiYgKGVbaV0gPSBvKHRbaV0pKTsKcmV0dXJuIGU7Cn0sIHIgPSBmdW5jdGlvbih0KSB7CmlmICh0KSBmb3IgKHZhciBlID0gMSwgaSA9IGFyZ3VtZW50cy5sZW5ndGg7IGUgPCBpOyBlKyspIHsKdmFyIG4gPSBhcmd1bWVudHNbZV07CmlmIChuKSBmb3IgKHZhciBvIGluIG4pIG4uaGFzT3duUHJvcGVydHkobykgJiYgKHRbb10gPSBuW29dKTsKfQpyZXR1cm4gdDsKfSwgYSA9IHsKZXF1YWw6IGksCmNsb25lOiBvLApleHRlbmQ6IHIKfTsKdC5leHBvcnRzID0gYTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQpIHsKdmFyIGU7CmMgPSBtLnJvb3QuJCgibGl2ZWNoYXQiKS4kKCJhY2NvdW50IikuJCgia2V5JHN0cmluZyIpOwp1ID0gdDsKZi5vbigiZXJyb3IiLCBzKTsKYy5iaW5kVmFsdWUoZnVuY3Rpb24odCkgewppZiAoLTEgIT0gZyh0LCBTKSkgewpmLndpbmRvdy5vbigiZXJyb3IiLCBhKTsKZi53aW5kb3cub24oInVubG9hZCIsIGZ1bmN0aW9uKCkgewpmLndpbmRvdy51bigiZXJyb3IiLCBhKTsKfSk7Cn0KfSk7CmUgPSB7Cmlnbm9yZUVycm9yczogeSwKbG9nZ2VyOiAid2lkZ2V0IiwKcmVsZWFzZTogcC5pbmZvLmdpdENvbW1pdCwKc2hvdWxkU2VuZENhbGxiYWNrOiBmdW5jdGlvbih0KSB7Cncuc3VibWl0VG9TZXJ2ZXIodCk7CnJldHVybiAhMTsKfQp9OwplLndoaXRlbGlzdFVybHMgPSBbIEMgXTsKeC5jb25maWcoImh0dHBzOi8vMEAwLzAiLCBlKTsKfQpmdW5jdGlvbiBvKHQpIHsKdCAmJiAodC5vbmVycm9yID0gcyk7Cn0KZnVuY3Rpb24gcih0LCBlLCBpLCBuLCBvKSB7CnRyeSB7CncuaGFuZGxlRXJyb3JFdmVudCh0LCBlLCBpLCBuLCBvKTsKfSBjYXRjaCAodCkge30KfQpmdW5jdGlvbiBhKHQsIGUsIGksIG4sIG8pIHsKcih0LCBlLCBpLCBuLCBvKTsKcmV0dXJuICExOwp9CmZ1bmN0aW9uIHModCwgZSwgaSwgbiwgbykgewpyKHQsIGUsIGksIG4sIG8pOwpyZXR1cm4gITA7Cn0KZnVuY3Rpb24gXyh0LCBlLCBpLCBuLCBvKSB7CmlmICgodCB8fCBvKSAmJiAhaykgewp2YXIgciA9IG8gfHwgdCwgYSA9IHIuc3RhY2sgPyBbIHIudG9TdHJpbmcoKSwgci5zdGFjayBdLmpvaW4oIlxuIikgOiByLnRvU3RyaW5nKCksIHMgPSBbIGEsIGUsIGkgXS5qb2luKCIgIik7CmlmICghKHIubmFtZSAmJiB2LmluZGV4T2Yoci5uYW1lKSA+IC0xIHx8IElbc10pKSB7Cklbc10gPSAhMDsKdy5wb3N0KHIpOwp9Cn0KfQpmdW5jdGlvbiBsKHQpIHsKaWYgKCEoTWF0aC5yYW5kb20oKSA+IEEpICYmIHQgJiYgdSkgewp2YXIgZSA9IG0ucm9vdCwgaSA9IGUuJCgibGl2ZWNoYXQiKS4kKCJhY2NvdW50IikuZ2V0VmFsdWUoKSwgbiA9IGUuJCgibGl2ZWNoYXQiKS4kKCJwcm9maWxlIikuJCgibWlkJHN0cmluZyIpLmdldFZhbHVlKCksIG8gPSB7CmtleTogaS5rZXkkc3RyaW5nLAppc192b2x0cm9uOiBpLmlzX3ZvbHRyb24kYm9vbCwKc3RhdHVzOiBpLnN0YXR1cyRzdHJpbmcsCm1pZDogbgp9Owp4LnNldFVzZXJDb250ZXh0KHsKaWQ6IG8ua2V5Cn0pLmNhcHR1cmVFeGNlcHRpb24odCwgewpleHRyYTogewpzeXN0ZW06IHAuaW5mbywKY29ubmVjdGlvbjogdS5nZXRDb25uZWN0aW9uU3RhdHMoKSwKYWNjb3VudDogbwp9Cn0pOwp9Cn0KZnVuY3Rpb24gZCh0KSB7CnZhciBlID0gdS5nZXRIb3N0KCk7CmlmICh0ICYmIGUpIHsKdHJ5IHsKdmFyIGkgPSB0LmV4Y2VwdGlvbi52YWx1ZXNbMF0sIG4gPSBpLnR5cGUsIG8gPSBpLnN0YWNrdHJhY2UuZnJhbWVzLCByID0gb1tvLmxlbmd0aCAtIDFdLmxpbmVubzsKdC5maW5nZXJwcmludCA9IFsgbiwgciArICIiIF07Cn0gY2F0Y2ggKHQpIHt9CmIucG9zdCgiaHR0cHM6Ly8iICsgZSArICIvY2xpZW50L3dpZGdldC9lcnJvcnMiLCB7CnBhcmFtczogewpzZW50cnlfZGF0YTogJC5zdHJpbmdpZnkodCkKfQp9KTsKfQp9CnZhciB1LCBjLCBoID0gaSg4KSwgZiA9IGkoMTQpLCBnID0gaSgzMSksIHAgPSAoaSgyKSwgaSgyNTMpKSwgbSA9IGkoNiksICQgPSBpKDU2KSwgYiA9IGkoMjUyKSwgdyA9IHsKaW5pdDogbiwKcG9zdDogbCwKYmluZDogbywKaGFuZGxlRXJyb3JFdmVudDogXywKc3VibWl0VG9TZXJ2ZXI6IGQKfSwgeCA9IGkoMjUxKSwgdiA9IFsgIlN5bnRheEVycm9yIiBdLCB5ID0gWyAiT3V0IG9mIG1lbW9yeSIsICJ0b28gbXVjaCByZWN1cnNpb24iIF0sIGogPSAvXmVuL2ksIEMgPSAvXigkfGFib3V0OmJsYW5rJHwoaHR0cHM/OlwvXC8pPyhbXHdfLV0rXC4pKnpvcGltXC4oPzpjb218b3JnKSkvaSwgUyA9IFsgInpvcGltIiBdLCBBID0gLjEsIGsgPSAoaC5pc0lFIHx8IGguaXNOZXdJRSkgJiYgKCJsYW5ndWFnZSIgaW4gd2luZG93Lm5hdmlnYXRvciAmJiAhai50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IubGFuZ3VhZ2UpIHx8ICJ1c2VyTGFuZ3VhZ2UiIGluIHdpbmRvdy5uYXZpZ2F0b3IgJiYgIWoudGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJMYW5ndWFnZSkgfHwgImJyb3dzZXJMYW5ndWFnZSIgaW4gd2luZG93Lm5hdmlnYXRvciAmJiAhai50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IuYnJvd3Nlckxhbmd1YWdlKSksIEkgPSB7fTsKdC5leHBvcnRzID0gdzsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fanhfdWlfQnV0dG9uID0gaSg3MCk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIGksIG8sIHIsIF8pIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgaSwgbywgciwgXyk7CmkgPSBpIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgbCA9IFsgbi5fXyQkX19qeF91aV9CdXR0b24sICIiLCAiIiwgW10sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIgp9IF0sIGQgPSBsWzBdLmNhbGwodGhpcywgZSwgaSwgbnVsbCwgcy5tYW5nbGVJRHMoaSwgbFszXSksIGxbNF0pLCB1ID0gZCB8fCB0aGlzOwpzLnNldChpLCB1KTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KZm9yICh2YXIgYyBpbiB2b2lkIDApIHVbY10gPSAodm9pZCAwKVtjXTsKdS5maXJlICYmIHUuZmlyZSgiaW5pdCIpOwp1LnNldFN0eWxlICYmIHUuc2V0U3R5bGUobyk7CnUuc2V0QXR0cmlidXRlcyAmJiB1LnNldEF0dHJpYnV0ZXMoXyk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHUuYWRkQ2hpbGRyZW4gPyB1LmFkZENoaWxkcmVuKHIpIDogcy5hZGRDaGlsZHJlbih1LCByKTsKaWYgKHUgIT09IHRoaXMpIHsKdS5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CnUuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIHU7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfQnV0dG9uLnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CmJhY2tncm91bmQ6ICJ0cmFuc3BhcmVudCIsCmJvcmRlcjogIjBweCBub25lIiwKY29sb3I6ICIkJG1lbnVDb2xvciIsCnRleHRBbGlnbjogImluaGVyaXQiCn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfQnV0dG9uLCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19tZW51X0J1dHRvbkxhYmVsIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQpIHsKdC5iaW5kVmFsdWUobyk7Cn0KZnVuY3Rpb24gbyh0KSB7CmlmICgicmVnaXN0ZXJlZCIgPT0gdCB8fCAicmVhdHRhY2hlZCIgPT0gdCB8fCAiY29va2llX2xhdyIgPT0gdCkgewpfID0gITA7CnMuZmx1c2goKTsKfSBlbHNlIF8gPSAhMTsKfQpmdW5jdGlvbiByKCkgewppZiAoXyAmJiB0aGlzLnF1ZXVlLmxlbmd0aCkgewpmLnJvb3QuJCgibGl2ZWNoYXQiKS4kKCJ1aSIpLiQoIm1vY2t1cCRib29sIikuZ2V0VmFsdWUoKSB8fCBsKHMuc2VuZCkgJiYgcy5zZW5kKHsKX190eXBlOiAiaW5zdHJ1bWVudGF0aW9uIiwKbWV0cmljczogdGhpcy5xdWV1ZQp9KTsKdGhpcy5xdWV1ZSA9IFtdOwp9Cn0KZnVuY3Rpb24gYSgpIHsKdmFyIHQgPSBbXTsKdC5wdXNoKCJjbGllbnRfY291bnRyeV9jb2RlOiIgKyBnLkNPVU5UUllfQ09ERSk7CnQucHVzaCgiYnJvd3NlcjoiICsgZC5icm93c2VyKTsKdmFyIGUsIGk7CmlmIChoLmlzTW9iaWxlQnJvd3NlcikgewplID0gaC5pc01vYmlsZVRhYmxldCA/ICJ0YWJsZXQiIDogIm1vYmlsZSI7CmkgPSBoLmlzQW5kcm9pZCA/ICJhbmRyb2lkIiA6IGguaXNJT1MgPyAiaW9zIiA6IGguaXNXUCA/ICJ3cCIgOiAib3RoZXIiOwp9IGVsc2UgewplID0gImRlc2t0b3AiOwppID0gZC5pc1dpbmRvd3MgPyAid2luIiA6IGQuaXNNYWMgPyAibWFjIiA6ICJvdGhlciI7Cn0KdC5wdXNoKCJkZXZpY2U6IiArIGUpOwp0LnB1c2goInBsYXRmb3JtOiIgKyBpKTsKdC5wdXNoKCJyZXY6IiArIHUuZ2l0X2NvbW1pdCk7CnJldHVybiB0Owp9CnZhciBzLCBfLCBsID0gaSgyMCksIGQgPSBpKDgpLCB1ID0gaSg0NiksIGMgPSBpKDE2OSksIGggPSBpKDM1KSwgZiA9IGkoNiksIGcgPSBpKDE4KTsKIWZ1bmN0aW9uKCkgewpzID0gbmV3IGMoKTsKcy5zZXRUYWdzKGEoKSk7CnMuYmluZFRvQ29ubmVjdGlvblN0YXR1cyA9IG47CnMuZmx1c2ggPSByOwp9KCk7CnQuZXhwb3J0cyA9IHM7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpLCBvLCBhKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiBuKSkgcmV0dXJuIG5ldyBuKHQsIGUsIGksIG8sIGEpOwppZiAoIW4uX19qeF9famNzc19nZW5lcmF0ZWQpIHsKci5nZW5lcmF0ZSh0aGlzLCBuLnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIG4uX19qeF9famNzcywgbnVsbCwgbik7Cm4uX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQpzLmNhbGwodGhpcywgdCwgZSwgaSwgbywgYSk7CnZhciBsID0gXy5yb290LiQoImNvbm5lY3Rpb24iKS4kKCJtZXNzYWdlJHN0cmluZyIpLCBkID0gdGhpczsKZC5hdXRvYmluZChsLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CmQuc2V0RGlzYWJsZWQoISF0KTsKfSk7Cn0KdmFyIG8gPSBpKDEpLCByID0gaSgzKSwgYSA9IGkoMCksIHMgPSBpKDY5KSwgXyA9IGkoNik7Cm4uX19qeF9famNzcyA9IHt9OwpuLnByb3RvdHlwZSA9IGEocy5wcm90b3R5cGUpOwpvKG4sIHMsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX0Nvbm5Bd2FyZVN1Ym1pdCIKfSk7Cm4ucHJvdG90eXBlLl9fanhfX3N1cGVyID0gczsKdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoMSksIG8gPSBpKDMpLCByID0gaSgwKSwgYSA9IGkoMTU1KSwgcyA9IGEsIF8gPSBpKDYyKTsKYSA9IGZ1bmN0aW9uKHQsIGUsIGksIG4sIHIpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIGEpKSByZXR1cm4gbmV3IGEodCwgZSwgaSwgbiwgcik7CmlmICghYS5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewpvLmdlbmVyYXRlKHRoaXMsIGEucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgYS5fX2p4X19qY3NzLCBudWxsLCBhKTsKYS5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnMuY2FsbCh0aGlzLCB0LCBlLCBpLCBuLCByKTsKXy5fX2NvbnN0cnVjdG9yLmNhbGwodGhpcyk7Cn07CmEuX19qeF9famNzcyA9IHt9OwphLnByb3RvdHlwZSA9IHIocy5wcm90b3R5cGUpOwpuKGEsIHMsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX1RleHRBcmVhIgp9KTsKYS5wcm90b3R5cGUuX19qeF9fc3VwZXIgPSBfOwp0LmV4cG9ydHMgPSBhOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSgxKSwgbyA9IGkoMyksIHIgPSBpKDApLCBhID0gaSgzMzkpLCBzID0gYSwgXyA9IGkoNjIpOwphID0gZnVuY3Rpb24odCwgZSwgaSwgbiwgcikgewppZiAoISh0aGlzIGluc3RhbmNlb2YgYSkpIHJldHVybiBuZXcgYSh0LCBlLCBpLCBuLCByKTsKaWYgKCFhLl9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7Cm8uZ2VuZXJhdGUodGhpcywgYS5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCBhLl9fanhfX2pjc3MsIG51bGwsIGEpOwphLl9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0Kcy5jYWxsKHRoaXMsIHQsIGUsIGksIG4sIHIpOwpfLl9fY29uc3RydWN0b3IuY2FsbCh0aGlzKTsKfTsKYS5fX2p4X19qY3NzID0ge307CmEucHJvdG90eXBlID0gcihzLnByb3RvdHlwZSk7Cm4oYSwgcywgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfRW1haWxGaWVsZCIKfSk7CmEucHJvdG90eXBlLl9fanhfX3N1cGVyID0gXzsKdC5leHBvcnRzID0gYTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQsIGUsIGksIG8sIGEpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIG4pKSByZXR1cm4gbmV3IG4odCwgZSwgaSwgbywgYSk7CmlmICghbi5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewpyLmdlbmVyYXRlKHRoaXMsIG4ucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgbi5fX2p4X19qY3NzLCBudWxsLCBuKTsKbi5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnMuY2FsbCh0aGlzLCB0LCBlLCBpLCBvLCBhKTsKfQp2YXIgbyA9IGkoMSksIHIgPSBpKDMpLCBhID0gaSgwKSwgcyA9IGkoNyk7Cm4uX19qeF9famNzcyA9IHsKIioqc2VsZiI6IHsKbWFyZ2luVG9wOiAiJCRtYXJnaW5TIiwKbWFyZ2luQm90dG9tOiAiJCRtYXJnaW4iLApjb2xvcjogIiQkZXJyb3JNZXNzYWdlQ29sb3IiLApmb250V2VpZ2h0OiAiJCRlcnJvck1lc3NhZ2VGb250V2VpZ2h0IiwKZm9udFN0eWxlOiAiJCRlcnJvck1lc3NhZ2VGb250U3R5bGUiCn0KfTsKbi5wcm90b3R5cGUgPSBhKHMucHJvdG90eXBlKTsKbyhuLCBzLCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19FcnJvck1lc3NhZ2UiCn0pOwpuLnByb3RvdHlwZS5fX2p4X19zdXBlciA9IHM7CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19JY29uRm9udCA9IGkoMTUpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0ljb25Gb250LCAiIiwgIiIsIFtdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBoID0gZnVuY3Rpb24oKSB7CnZhciB0ID0gaSgzNDMpLCBlID0gaSgxMiksIG4gPSBjLnNldEljb247CmMuc2V0SWNvbiA9IGZ1bmN0aW9uKGUpIHsKImdvb2dsZV8yMDE5IiAhPT0gZSA/IG4oZSkgOiBuZXcgdChjLCBudWxsLCBudWxsLCBudWxsLCB7fSk7Cn07CmMuc2V0SG92ZXJhYmxlID0gZnVuY3Rpb24odCkgewp2YXIgaSA9IGUodCk7CmNbaSA/ICJhZGRDbGFzcyIgOiAicmVtb3ZlQ2xhc3MiXSgiaG92ZXJhYmxlIik7Cn07Cn0oKTsKZm9yICh2YXIgZiBpbiBoKSBjW2ZdID0gaFtmXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0ljb25Gb250LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiImLmZhY2Vib29rIjogewpjb2xvcjogIiQkZmFjZWJvb2siCn0sCiImLnR3aXR0ZXIiOiB7CmNvbG9yOiAiJCR0d2l0dGVyIgp9LAoiJi5ob3ZlcmFibGUiOiB7CiImOmhvdmVyLCAmOmZvY3VzLCAmOmFjdGl2ZSI6IHsKIiYuZmFjZWJvb2siOiB7CmNvbG9yOiAiJCRmYWNlYm9va0FjdGl2ZSIKfSwKIiYudHdpdHRlciI6IHsKY29sb3I6ICIkJHR3aXR0ZXJBY3RpdmUiCn0sCiImLmdvb2dsZSI6IHsKb3BhY2l0eTogIjAuOCIKfQp9Cn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0ljb25Gb250LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19pY29uRm9udF9BdXRoIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fanhfdWlfV2lkZ2V0ID0gaSg3KTsKbi5fXyQkX19qeF91aV9odG1sX2ltZyA9IGkoMTEyKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfaWNvbkZvbnRfQXV0aCA9IGkoODEpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX2h0bWxfaW1nLCAiaW1nIiwgIiIsIFtdLCB7CmlkOiAiaW1nIiwKY2xhc3M6ICJpbWciCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19pY29uRm9udF9BdXRoLCAiYXV0aF90eXBlIiwgIiIsIFtdLCB7CmlkOiAiYXV0aF90eXBlIiwKYWRkQ2xhc3M6ICJhdXRoX3R5cGUiCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CnZhciBoID0gcy5nZXQobyArICJfX2ltZyIpLCBmID0gcy5nZXQobyArICJfX2F1dGhfdHlwZSIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgZyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KHQpIHsKZSgpOwpfICYmIGMuYXV0b3VuYmluZChfLCAidmFsdWUiLCBuKTsKXyA9IHQ7Cl8gJiYgYy5hdXRvYmluZChfLCAidmFsdWUiLCBuKTsKfQpmdW5jdGlvbiBlKCkgewp3ID0geCA9IHkgPSAiIjsKZi5zZXREaXNwbGF5KCJub25lIik7Cn0KZnVuY3Rpb24gbigpIHsKaWYgKF8pIHsKc3dpdGNoIChfLm5hbWUpIHsKY2FzZSAicHJvZmlsZSI6CmwgPSAidmlzaXRvciI7CmJyZWFrOwoKY2FzZSAiY29uY2llcmdlIjoKbCA9ICJjb25jaWVyZ2UiOwpicmVhazsKCmRlZmF1bHQ6CmwgPSAiYWdlbnQiOwp9CnZhciB0ID0gXy5nZXRWYWx1ZSgpIHx8IHt9Owp0Lm5pY2skc3RyaW5nICYmICh2ID0gdC5uaWNrJHN0cmluZyk7CnQuZGlzcGxheV9uYW1lJHN0cmluZyAmJiAhcC5pc0RlZmF1bHROYW1lKHQuZGlzcGxheV9uYW1lJHN0cmluZykgJiYgbyh0LmRpc3BsYXlfbmFtZSRzdHJpbmcpOwp2YXIgZTsKZSA9IHQuYXV0aCAmJiB0LmF1dGguYXZhdGFyJHN0cmluZyA/IHQuYXV0aC5hdmF0YXIkc3RyaW5nIDogdC5hdmF0YXJfZGF0YSRzdHJpbmcgPyB0LmF2YXRhcl9kYXRhJHN0cmluZyA6IHQuYXZhdGFyX3BhdGgkc3RyaW5nID8gdC5hdmF0YXJfcGF0aCRzdHJpbmcgOiAiIjsKcihlKTsKdmFyIGk7CmkgPSB0LmF1dGggJiYgInR5cGUkc3RyaW5nIiBpbiB0LmF1dGggPyB0LmF1dGgudHlwZSRzdHJpbmcgOiAiIjsKYShpKTsKfQp9CmZ1bmN0aW9uIG8odCkgewppZiAodCAmJiB0ICE9IHcpIHsKYy5zZXRUaXRsZSh0KTsKdyA9IHQ7Cn0KfQpmdW5jdGlvbiByKHQpIHsKdmFyIGUgPSB0IHx8IHMoKTsKaWYgKGUgJiYgZSAhPSB4KSB7Cmguc2V0U3JjKHAucmVwbGFjZUZpbGVIb3N0bmFtZShlKSk7CnggPSBlOwp9Cn0KZnVuY3Rpb24gYSh0KSB7CmlmICh0ICE9PSB5KSB7CmYucmVtb3ZlQ2xhc3MoeSk7CnkgPSB0OwpmLmFkZENsYXNzKHkpOwpmLnNldEljb24oImdvb2dsZSIgPT09IHkgPyAiZ29vZ2xlXzIwMTkiIDogeSk7CmYuc2V0RGlzcGxheSh5ID8gIiIgOiAibm9uZSIpOwp9Cn0KZnVuY3Rpb24gcygpIHsKdmFyIHQgPSBtLmdldFZhbHVlKCksIGUgPSBiLmdldFZhbHVlKCkgfHwge307CmQgPSB0Owp2YXIgaTsKc3dpdGNoIChsKSB7CmNhc2UgInZpc2l0b3IiOgppID0gZS52aXNpdG9yJHN0cmluZyB8fCB1LkFWQVRBUlMuVklTSVRPUjsKYnJlYWs7CgpjYXNlICJjb25jaWVyZ2UiOgppID0gZS5jb25jaWVyZ2Ukc3RyaW5nIHx8IHUuQVZBVEFSUy5DT05DSUVSR0U7CmJyZWFrOwoKY2FzZSAiYWdlbnQiOgppID0gJC5nZXRWYWx1ZSgpIHx8IGUuYWdlbnQkc3RyaW5nIHx8IHUuQVZBVEFSUy5BR0VOVDsKfQpyZXR1cm4gaSB8fCB1LkFWQVRBUlMuREVGQVVMVDsKfQp2YXIgXywgbCwgZCwgdSA9IGkoMTgpLCBnID0gaSg2KSwgcCA9IGkoMTEpLCBtID0gZy5yb290LiQoImxpdmVjaGF0IikuJCgic2V0dGluZ3MiKS4kKCJ0aGVtZSIpLiQoIm5hbWUkc3RyaW5nIiksICQgPSBnLnJvb3QuJCgibGl2ZWNoYXQiKS4kKCJzZXR0aW5ncyIpLiQoImNvbmNpZXJnZSIpLiQoImF2YXRhcl9wYXRoJHN0cmluZyIpLCBiID0gZy5yb290LiQoImxpdmVjaGF0IikuJCgic2V0dGluZ3MiKS4kKCJ0aGVtZSIpLCB3ID0gIiIsIHggPSAiIiwgdiA9ICIiLCB5ID0gIiI7CmMuc2V0RGF0YU5vZGUgPSB0OwohZnVuY3Rpb24oKSB7CmMuYXV0b2JpbmQobSwgInZhbHVlIiwgZnVuY3Rpb24odCkgewpkICYmIHQgIT0gZCAmJiBuKCk7Cn0pOwp9KCk7Cn0oKTsKZm9yICh2YXIgcCBpbiBnKSBjW3BdID0gZ1twXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfV2lkZ2V0LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CnBvc2l0aW9uOiAicmVsYXRpdmUiCn0sCiIuaW1nIjogewoid2lkdGgsIGhlaWdodCI6ICIxMDAlIgp9LAoiLmF1dGhfdHlwZSI6IHsKcG9zaXRpb246ICJhYnNvbHV0ZSIsCiJib3R0b20sIGxlZnQiOiAwLApiYWNrZ3JvdW5kOiAiI0ZGRiIsCiJmb250U2l6ZSwgd2lkdGgsIGhlaWdodCI6ICIxMnB4IiwKImxpbmUtaGVpZ2h0IjogIjE2cHgiLApvdmVyZmxvdzogImhpZGRlbiIsCmJvcmRlclJhZGl1czogIjJweCIsCiImLmZhY2Vib29rIjogewpjb2xvcjogIiQkZmFjZWJvb2siCn0sCiImLnR3aXR0ZXIiOiB7CmNvbG9yOiAiJCR0d2l0dGVyIgp9LAoiJi5nb29nbGUiOiB7CmZvbnRTaXplOiAiOXB4IiwKcGFkZGluZ1RvcDogIjNweCIsCnBhZGRpbmdSaWdodDogIjFweCIsCnBhZGRpbmdMZWZ0OiAiMXB4Igp9Cn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfV2lkZ2V0LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19ncmF2YXRhcl9HcmF2YXRhckltYWdlIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fanhfdWlfaHRtbF9kaXYgPSBpKDEzKTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX2p4X3VpX2h0bWxfZGl2LCAiIiwgIiIsIFtdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBoID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQodCkgewpjW2godCkgPyAiYWRkQ2xhc3MiIDogInJlbW92ZUNsYXNzIl0oImhpZGVfYXV0aF90eXBlIik7CnJldHVybiBjOwp9CmZ1bmN0aW9uIGUodCkgewpjLmF1dG91bmJpbmQoKTsKImFnZW50cyIgPT0gdC5uYW1lID8gbyh0KSA6IG4odCk7Cn0KZnVuY3Rpb24gbih0KSB7Cl8oWyB0IF0pLnNldE5vZGVzKFsgdCBdKTsKfQpmdW5jdGlvbiBvKHQpIHsKbCAmJiBjLmF1dG91bmJpbmQobCwgImtleXMiLCByKTsKbCA9IHQ7CmwgJiYgYy5hdXRvYmluZChsLCAia2V5cyIsIHIpOwp9CmZ1bmN0aW9uIHIoKSB7CmZvciAodmFyIHQgPSBsLmdldEtleXMoKSwgZSA9IFtdLCBpID0gMCwgbiA9IE1hdGgubWluKDMsIHQubGVuZ3RoKTsgaSA8IG47IGkrKykgZS5wdXNoKGwuJCh0W2ldKSk7CmEoZSk7Cn0KZnVuY3Rpb24gYSh0KSB7CnZhciBlID0gXyh0KTsKZSAmJiBlLnNldE5vZGVzKHQpOwp9CmZ1bmN0aW9uIHModCkgewp2YXIgZSA9IF8odCk7CmUgJiYgZS5zZXRJbWFnZXModCk7Cn0KZnVuY3Rpb24gXyh0KSB7CmlmICh0IGluc3RhbmNlb2YgQXJyYXkgJiYgdC5sZW5ndGgpIHsKdmFyIGUgPSBNYXRoLm1pbih0Lmxlbmd0aCwgNCksIGkgPSAkW2UgLSAxXTsKaWYgKGUgIT09IHUpIHsKYy5lbXB0eSgpOwpkID0gbmV3IGkoYyk7CnUgPSBlOwp9CnJldHVybiBkOwp9Cn0KdmFyIGwsIGQsIHUsIGggPSBpKDEyKSwgZiA9IGkoMzQ0KSwgZyA9IGkoMzQyKSwgcCA9IGkoMzQxKSwgbSA9IGkoMzQwKSwgJCA9IFsgZiwgZywgcCwgbSBdOwohZnVuY3Rpb24oKSB7CmMuc2V0SW1hZ2VzID0gczsKYy5zZXREYXRhTm9kZSA9IGU7CmMuc2V0TWVtYmVyTm9kZSA9IG47CmMuc2V0R3JvdXBOb2RlID0gbzsKYy5zZXRIaWRlQXV0aFR5cGUgPSB0Owp9KCk7Cn0oKTsKZm9yICh2YXIgZiBpbiBoKSBjW2ZdID0gaFtmXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfaHRtbF9kaXYucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIioqc2VsZiI6IHsKd2lkdGg6ICI2MHB4IiwKaGVpZ2h0OiAiNjBweCIsCnBvc2l0aW9uOiAicmVsYXRpdmUiLApvdmVyZmxvdzogImhpZGRlbiIsCmJvcmRlcldpZHRoOiAiJCRhdmF0YXJCb3JkZXJXaWR0aCIsCmJvcmRlclN0eWxlOiAiJCRhdmF0YXJCb3JkZXJTdHlsZSIsCmJvcmRlckNvbG9yOiAiJCRhdmF0YXJCb3JkZXJDb2xvciIsCmJvcmRlclJhZGl1czogIiQkYXZhdGFyUmFkaXVzIiwKYm94U2hhZG93OiAiJCRhdmF0YXJTaGFkb3ciLAoiLmF2YXRhciI6IHsKYmFja2dyb3VuZDogIiNGRkYiCn0sCiImLmhpZGVfYXV0aF90eXBlIjogewoiLmF1dGhfdHlwZSI6IHsKZGlzcGxheTogIm5vbmUgIWltcG9ydGFudCIKfQp9Cn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfaHRtbF9kaXYsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX0dyYXZhdGFyIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fanhfdWlfV2lkZ2V0ID0gaSg3KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfdG9hc3RfRGlzY29ubmVjdGVkID0gaSgzNTApOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c190b2FzdF9EaXNjb25uZWN0ZWQsICIiLCAiIiwgW10sIHsKYWRkQ2xhc3M6ICJ0b2FzdCIKfSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIGggPSBmdW5jdGlvbigpIHsKdmFyIHQgPSBpKDkpOwohZnVuY3Rpb24oKSB7CnQubW9iaWxlKGMpOwp9KCk7Cn0oKTsKZm9yICh2YXIgZiBpbiBoKSBjW2ZdID0gaFtmXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfV2lkZ2V0LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CnBvc2l0aW9uOiAiYWJzb2x1dGUiLAp6SW5kZXg6ICIxMDAwIiwKdG9wOiAiNDBweCIsCmxlZnQ6ICIwIiwKd2lkdGg6ICIxMDAlIiwKaGVpZ2h0OiAiMCIsCnRleHRBbGlnbjogImNlbnRlciIsCiIudG9hc3QiOiB7CmRpc3BsYXk6ICJpbmxpbmUtYmxvY2siLAptYXhXaWR0aDogIjgwJSIKfQp9LAoiKipzZWxmLm1vYmlsZSI6IHsKcG9zaXRpb246ICJmaXhlZCIsCnRvcDogIjYwcHgiCn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfV2lkZ2V0LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93RGlzY29ubmVjdGVkVG9hc3QiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4odCwgZSwgaSwgbywgYSkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgbikpIHJldHVybiBuZXcgbih0LCBlLCBpLCBvLCBhKTsKYSA9IGQuZXh0ZW5kKHt9LCB1LCBhKTsKImlucHV0IiAhPSBhLnRhZ05hbWUgfHwgYS50eXBlIHx8IChhLnR5cGUgPSAidGV4dCIpOwpsLmNhbGwodGhpcywgdCwgZSwgaSwgbywgYSk7CnRoaXMuZ2V0VmFsdWUoKSB8fCB0aGlzLnNob3dQbGFjZWhvbGRlcigpOwp0aGlzLm9uKCJibHVyIiwgdGhpcy5oYW5kbGVQbGFjZWhvbGRlckJsdXIpOwp0aGlzLm9uKCJmb2N1cyIsIHRoaXMuaGFuZGxlUGxhY2Vob2xkZXJGb2N1cyk7CnRoaXMub24oImNsaWNrIiwgdGhpcy5oYW5kbGVBdXRvU2VsZWN0KTsKdmFyIHMgPSB0aGlzOwp0aGlzLl9oYW5kbGVQbGFjZWhvbGRlciA9IGZ1bmN0aW9uKCkgewpzLnNldFBsYWNlaG9sZGVyKHMuZ2V0UGxhY2Vob2xkZXIoKSk7Cn07CnIgJiYgci5vbkxhbmd1YWdlICYmIHIub25MYW5ndWFnZSh0aGlzLl9oYW5kbGVQbGFjZWhvbGRlcik7Cn0KdmFyIG8gPSBpKDEpLCByID0gaSgyKSwgYSA9IGkoMCksIHMgPSBpKDgpLCBfID0gaSgxMiksIGwgPSBpKDQzKSwgZCA9IGkoNzMpLCB1ID0gewp0YWdOYW1lOiAiaW5wdXQiLAphdXRvVmFsaWRhdGU6ICEwCn07Cm4ucHJvdG90eXBlID0gYShsLnByb3RvdHlwZSk7Cm8obiwgbCwgewpmcW5hbWU6ICJqeF91aV9UZXh0RmllbGQiCn0pOwpuLnByb3RvdHlwZS5nZXRQbGFjZWhvbGRlciA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gdGhpcy5pbnRlcm5hbFBsYWNlaG9sZGVyIHx8ICIiOwp9OwpuLnByb3RvdHlwZS5zZXRQbGFjZWhvbGRlciA9IGZ1bmN0aW9uKHQpIHsKInBsYWNlaG9sZGVyIiBpbiB0aGlzLmRvbSB8fCAodGhpcy5lbXVsYXRlUGxhY2Vob2xkZXIgPSAhMCk7CnRoaXMuaW50ZXJuYWxQbGFjZWhvbGRlciA9IHQ7CnRoaXMuZW11bGF0ZVBsYWNlaG9sZGVyIHx8ICh0aGlzLmRvbS5wbGFjZWhvbGRlciA9IHQpOwp0aGlzLnBsYWNlaG9sZGVyQWN0aXZlICYmIHRoaXMuc2hvd1BsYWNlaG9sZGVyKCk7CnJldHVybiB0aGlzOwp9OwpuLnByb3RvdHlwZS5oYW5kbGVQbGFjZWhvbGRlckZvY3VzID0gZnVuY3Rpb24oKSB7CnRoaXMucGxhY2Vob2xkZXJBY3RpdmUgJiYgdGhpcy5oaWRlUGxhY2Vob2xkZXIoKTsKfTsKbi5wcm90b3R5cGUuaGFuZGxlUGxhY2Vob2xkZXJCbHVyID0gZnVuY3Rpb24oKSB7CnRoaXMuZ2V0VmFsdWUoKSB8fCB0aGlzLnNob3dQbGFjZWhvbGRlcigpOwp9OwpuLnByb3RvdHlwZS5zaG93UGxhY2Vob2xkZXIgPSBmdW5jdGlvbigpIHsKdGhpcy5hZGRDbGFzcygicGxhY2Vob2xkZXIiKTsKdGhpcy5wbGFjZWhvbGRlckFjdGl2ZSA9ICEwOwp2YXIgdCA9IHRoaXM7CmlmICh0aGlzLmVtdWxhdGVQbGFjZWhvbGRlcikgewp0aGlzLl9zZXRWYWx1ZU92ZXJyaWRlID0gITA7CnRoaXMuc2V0VmFsdWUodGhpcy5nZXRQbGFjZWhvbGRlcigpKTsKdGhpcy5fc2V0VmFsdWVPdmVycmlkZSA9ICExOwppZiAoInBhc3N3b3JkIiA9PSB0aGlzLmdldFR5cGUoKSkgewp0aGlzLnJlYWxUeXBlUGFzc3dvcmQgPSAhMDsKaWYgKHMuZW5naW5lSUUgPCA5KSB7CmlmICghdGhpcy5mYWtlUGxhY2Vob2xkZXJQYXNzd29yZElFKSB7CnZhciBlID0gewpjbGFzczogdGhpcy5nZXRDbGFzcygpLAp0eXBlOiAidGV4dCIsCnZpc2libGU6ICJub25lIiwKdmFsdWU6IHRoaXMuZ2V0UGxhY2Vob2xkZXIoKSwKYXV0b1ZhbGlkYXRlOiAhMSwKdGFiSW5kZXg6IHRoaXMuYXR0cmlidXRlcy50YWJJbmRleAp9Owp0aGlzLmZha2VQbGFjZWhvbGRlclBhc3N3b3JkSUUgPSBuZXcgbCh0aGlzLnBhcmVudE5vZGUsIG51bGwsIG51bGwsIG51bGwsIGUpOwp0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QWZ0ZXIodGhpcy5mYWtlUGxhY2Vob2xkZXJQYXNzd29yZElFLCB0aGlzKTsKdGhpcy5hdXRvYmluZCh0aGlzLmZha2VQbGFjZWhvbGRlclBhc3N3b3JkSUUsICJmb2N1cyIsIGZ1bmN0aW9uKCkgewp0LmhpZGVQbGFjZWhvbGRlcigpOwp9KTsKfQoibm9uZSIgIT0gdGhpcy5nZXRDb21wdXRlZFN0eWxlKCJkaXNwbGF5IikgJiYgKHRoaXMub3JpZ2luYWxEaXNwbGF5ID0gdGhpcy5nZXRDb21wdXRlZFN0eWxlKCJkaXNwbGF5IikpOwp0aGlzLmZha2VQbGFjZWhvbGRlclBhc3N3b3JkSUUuc2hvdygpLnNldE9uZVN0eWxlKCJkaXNwbGF5IiwgdGhpcy5vcmlnaW5hbERpc3BsYXkpLnNldENsYXNzKHRoaXMuZ2V0Q2xhc3MoKSk7CnRoaXMuc2V0VmlzaWJsZSgibm9uZSIpOwp9IGVsc2UgdGhpcy5zZXRUeXBlKCJ0ZXh0IiwgITApOwp9Cn0KfTsKbi5wcm90b3R5cGUuaGlkZVBsYWNlaG9sZGVyID0gZnVuY3Rpb24oKSB7CnRoaXMucmVtb3ZlQ2xhc3MoInBsYWNlaG9sZGVyIik7CnRoaXMucGxhY2Vob2xkZXJBY3RpdmUgPSAhMTsKaWYgKHRoaXMuZW11bGF0ZVBsYWNlaG9sZGVyKSB7CnRoaXMuX3NldFZhbHVlT3ZlcnJpZGUgPSAhMDsKdGhpcy5zZXRWYWx1ZSgiIik7CnRoaXMuX3NldFZhbHVlT3ZlcnJpZGUgPSAhMTsKaWYgKHRoaXMucmVhbFR5cGVQYXNzd29yZCkgewp0aGlzLnJlYWxUeXBlUGFzc3dvcmQgPSAhMTsKaWYgKHMuZW5naW5lSUUgPCA5KSB7CnRoaXMuZmFrZVBsYWNlaG9sZGVyUGFzc3dvcmRJRSBpbnN0YW5jZW9mIGwgJiYgdGhpcy5zZXRWaXNpYmxlKCJibG9jayIpLnNldE9uZVN0eWxlKCJkaXNwbGF5IiwgdGhpcy5vcmlnaW5hbERpc3BsYXkpOwp0aGlzLmZha2VQbGFjZWhvbGRlclBhc3N3b3JkSUUuc2V0VmlzaWJsZSgibm9uZSIpOwp0aGlzLmZvY3VzKCk7Cn0gZWxzZSB0aGlzLnNldFR5cGUoInBhc3N3b3JkIiwgITApOwp9Cn0KfTsKbi5wcm90b3R5cGUuc2V0VmFsdWUgPSBmdW5jdGlvbih0KSB7CnZhciBlID0gMCA9PT0gdCB8fCAhIXQ7CnRoaXMuX3NldFZhbHVlT3ZlcnJpZGUgfHwgZSAmJiB0aGlzLmhpZGVQbGFjZWhvbGRlcigpOwpsLnByb3RvdHlwZS5zZXRWYWx1ZS5jYWxsKHRoaXMsIHQpOwppZiAoIXRoaXMuX3NldFZhbHVlT3ZlcnJpZGUpIHRyeSB7CnRoaXMuZG9jLmFjdGl2ZUVsZW1lbnQuanhfd3JhcHBlciAhPSB0aGlzICYmIChlIHx8IHRoaXMuc2hvd1BsYWNlaG9sZGVyKCkpOwp9IGNhdGNoICh0KSB7fQpyZXR1cm4gdGhpczsKfTsKbi5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbigpIHsKcmV0dXJuIHRoaXMucGxhY2Vob2xkZXJBY3RpdmUgJiYgdGhpcy5lbXVsYXRlUGxhY2Vob2xkZXIgPyAiIiA6IGwucHJvdG90eXBlLmdldFZhbHVlLmNhbGwodGhpcyk7Cn07Cm4ucHJvdG90eXBlLnNldEF1dG9jb21wbGV0ZSA9IG4ucHJvdG90eXBlLnNldEF1dG9Db21wbGV0ZSA9IGZ1bmN0aW9uKHQpIHsKaWYgKCEoImF1dG9jb21wbGV0ZSIgaW4gdGhpcy5kb20pKSByZXR1cm4gdGhpczsKaWYgKCJvbiIgPT0gdCB8fCAib2ZmIiA9PSB0KSB7CnRoaXMuZG9tLmF1dG9jb21wbGV0ZSA9IHQ7CnJldHVybiB0aGlzOwp9CnQgPSBfKHQpOwp0aGlzLmRvbS5hdXRvY29tcGxldGUgPSB0ID8gIm9uIiA6ICJvZmYiOwpyZXR1cm4gdGhpczsKfTsKbi5wcm90b3R5cGUuZ2V0QXV0b2NvbXBsZXRlID0gbi5wcm90b3R5cGUuZ2V0QXV0b0NvbXBsZXRlID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLmRvbS5hdXRvY29tcGxldGU7Cn07Cm4ucHJvdG90eXBlLmdldEF1dG9TZWxlY3QgPSBmdW5jdGlvbigpIHsKcmV0dXJuIHRoaXMuYXV0b1NlbGVjdDsKfTsKbi5wcm90b3R5cGUuc2V0QXV0b1NlbGVjdCA9IGZ1bmN0aW9uKHQpIHsKdGhpcy5hdXRvU2VsZWN0ID0gXyh0KTsKcmV0dXJuIHRoaXM7Cn07Cm4ucHJvdG90eXBlLmhhbmRsZUF1dG9TZWxlY3QgPSBmdW5jdGlvbigpIHsKdGhpcy5hdXRvU2VsZWN0ICYmIHRoaXMuZG9tLnNlbGVjdCgpOwp9OwpuLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7CnIgJiYgci51bkxhbmd1YWdlICYmIHIudW5MYW5ndWFnZSh0aGlzLl91cGRhdGVQbGFjZWhvbGRlcik7CnRoaXMudW4oImJsdXIiLCB0aGlzLmhhbmRsZVBsYWNlaG9sZGVyQmx1cik7CnRoaXMudW4oImZvY3VzIiwgdGhpcy5oYW5kbGVQbGFjZWhvbGRlckZvY3VzKTsKdGhpcy51bigiY2xpY2siLCB0aGlzLmhhbmRsZUF1dG9TZWxlY3QpOwppZiAodGhpcy5mYWtlUGxhY2Vob2xkZXJQYXNzd29yZElFIGluc3RhbmNlb2YgbCkgewp0aGlzLmZha2VQbGFjZWhvbGRlclBhc3N3b3JkSUUuZGVzdHJveSgpOwp0aGlzLmZha2VQbGFjZWhvbGRlclBhc3N3b3JkSUUgPSBudWxsOwp9CmwucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTsKfTsKbi5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbigpIHsKbC5wcm90b3R5cGUucmVzZXQuY2FsbCh0aGlzKTsKdGhpcy5oYW5kbGVQbGFjZWhvbGRlckJsdXIoKTsKcmV0dXJuIHRoaXM7Cn07Cm4ucHJvdG90eXBlLmluc2VydEF0Q2FyZXQgPSBmdW5jdGlvbih0KSB7CmlmICh0KSB7CnRoaXMucGxhY2Vob2xkZXJBY3RpdmUgJiYgdGhpcy5oaWRlUGxhY2Vob2xkZXIoKTsKaWYgKHZvaWQgMCAhPT0gdGhpcy5kb20uc2VsZWN0aW9uU3RhcnQgJiYgOSAhPSBzLmVuZ2luZUlFKSB7CnZhciBlID0gdGhpcy5kb20uc2VsZWN0aW9uU3RhcnQsIGkgPSB0aGlzLmRvbS5zZWxlY3Rpb25FbmQsIG4gPSB0aGlzLmdldFNjcm9sbFRvcCgpLCBvID0gdGhpcy5nZXRWYWx1ZSgpOwp0aGlzLnNldFZhbHVlKG8uc3Vic3RyaW5nKDAsIGUpICsgdCArIG8uc3Vic3RyaW5nKGksIG8ubGVuZ3RoKSk7CnRoaXMuZm9jdXMoKTsKdGhpcy5kb20uc2VsZWN0aW9uU3RhcnQgPSB0aGlzLmRvbS5zZWxlY3Rpb25FbmQgPSBlICsgdC5sZW5ndGg7CnRoaXMuc2V0U2Nyb2xsVG9wKG4pOwp9IGVsc2UgaWYgKGRvY3VtZW50LnNlbGVjdGlvbikgewp0aGlzLmZvY3VzKCk7CnZhciByID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7CnIudGV4dCA9IHQ7CnRoaXMuZm9jdXMoKTsKfSBlbHNlIHsKdGhpcy5zZXRWYWx1ZSh0aGlzLmdldFZhbHVlKCkgKyB0KTsKdGhpcy5mb2N1cygpOwp9Cn0KfTsKbi5wcm90b3R5cGUuZ2V0Q2FyZXQgPSBmdW5jdGlvbigpIHsKdmFyIHQgPSAwOwppZiAodm9pZCAwICE9PSB0aGlzLmRvbS5zZWxlY3Rpb25TdGFydCkgdCA9IHRoaXMuZG9tLnNlbGVjdGlvblN0YXJ0OyBlbHNlIGlmIChkb2N1bWVudC5zZWxlY3Rpb24pIHsKdGhpcy5mb2N1cygpOwp2YXIgZSA9IGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpOwplLm1vdmVTdGFydCgiY2hhcmFjdGVyIiwgLXRoaXMuZ2V0VmFsdWUoKS5sZW5ndGgpOwp0ID0gZS50ZXh0Lmxlbmd0aDsKfQpyZXR1cm4gdDsKfTsKbi5wcm90b3R5cGUuc2V0Q2FyZXQgPSBmdW5jdGlvbih0KSB7CmlmICh2b2lkIDAgIT09IHRoaXMuZG9tLnNlbGVjdGlvblN0YXJ0KSB7CnRoaXMuZG9tLnNlbGVjdGlvblN0YXJ0ID0gdDsKdGhpcy5kb20uc2VsZWN0aW9uRW5kID0gdDsKdGhpcy5mb2N1cygpOwp9IGVsc2UgaWYgKGRvY3VtZW50LnNlbGVjdGlvbikgewp0aGlzLmZvY3VzKCk7CnZhciBlID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7CmUubW92ZVN0YXJ0KCJjaGFyYWN0ZXIiLCAtdGhpcy5nZXRWYWx1ZSgpLmxlbmd0aCk7CmUubW92ZUVuZCgiY2hhcmFjdGVyIiwgLXRoaXMuZ2V0VmFsdWUoKS5sZW5ndGgpOwplLm1vdmVTdGFydCgiY2hhcmFjdGVyIiwgdCk7CmUubW92ZUVuZCgiY2hhcmFjdGVyIiwgMCk7CmUuc2VsZWN0KCk7Cn0KcmV0dXJuIHRoaXM7Cn07CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDEpLCBvID0gaSgzKSwgciA9IGkoMCksIGEgPSBpKDg1KSwgcyA9IGEsIF8gPSBpKDYyKTsKYSA9IGZ1bmN0aW9uKHQsIGUsIGksIG4sIHIpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIGEpKSByZXR1cm4gbmV3IGEodCwgZSwgaSwgbiwgcik7CmlmICghYS5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewpvLmdlbmVyYXRlKHRoaXMsIGEucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgYS5fX2p4X19qY3NzLCBudWxsLCBhKTsKYS5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnMuY2FsbCh0aGlzLCB0LCBlLCBpLCBuLCByKTsKXy5fX2NvbnN0cnVjdG9yLmNhbGwodGhpcyk7Cn07CmEuX19qeF9famNzcyA9IHt9OwphLnByb3RvdHlwZSA9IHIocy5wcm90b3R5cGUpOwpuKGEsIHMsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX1RleHRGaWVsZCIKfSk7CmEucHJvdG90eXBlLl9fanhfX3N1cGVyID0gXzsKdC5leHBvcnRzID0gYTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQsIGUsIGksIG8sIHIpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIG4pKSByZXR1cm4gbmV3IG4odCwgZSwgaSwgbywgcik7CnIgfHwgKHIgPSB7fSk7CnRoaXMuY2hpbGRDb25zdHJ1Y3RvcnMgPSBbXTsKdGhpcy5jaGlsZEF0dHJpYnV0ZXMgPSBbXTsKdGhpcy5kZWxpbWl0ZXIgPSAiQCI7CmwuY2FsbCh0aGlzLCB0LCBlLCBpLCBvLCByKTsKdmFyIHMgPSB0aGlzOwp0aGlzLl91cGRhdGVDb250ZW50ID0gZnVuY3Rpb24oKSB7CnMudXBkYXRlQ29udGVudCgpOwp9OwphICYmIGEub25MYW5ndWFnZSAmJiBhLm9uTGFuZ3VhZ2UodGhpcy5fdXBkYXRlQ29udGVudCk7CnRoaXMub25EZXN0cnVjdGlvbihmdW5jdGlvbigpIHsKYSAmJiBhLnVuTGFuZ3VhZ2UgJiYgYS51bkxhbmd1YWdlKHMuX3VwZGF0ZUNvbnRlbnQpOwp9KTsKfQpmdW5jdGlvbiBvKHQpIHsKcmV0dXJuIHQucmVwbGFjZSgvJiMoWzAtOV17MSw0fSk7L2csIGZ1bmN0aW9uKHQsIGUpIHsKcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoZSk7Cn0pOwp9CnZhciByID0gaSgxKSwgYSA9IGkoMiksIHMgPSBpKDApLCBfID0gaSgyMSksIGwgPSBpKDcpOwpuLnByb3RvdHlwZSA9IHMobC5wcm90b3R5cGUpOwpyKG4sIGwsIHsKZnFuYW1lOiAianhfdWlfTG9jYWxpemVyIgp9KTsKbi5wcm90b3R5cGUuYXBwZW5kQ2hpbGQgPSBmdW5jdGlvbih0KSB7CmlmIChfKHQpKSB7CnRoaXMuY2hpbGRDb25zdHJ1Y3RvcnMucHVzaCh0WzBdKTsKdGhpcy5jaGlsZEF0dHJpYnV0ZXMucHVzaCh0WzRdKTsKdGhpcy5fbG9jYWxpemVyX2FwcGVuZGNoaWxkX292ZXJyaWRlIHx8IHRoaXMudXBkYXRlQ29udGVudCgpOwp9IGVsc2UgbC5wcm90b3R5cGUuYXBwZW5kQ2hpbGQuY2FsbCh0aGlzLCB0KTsKfTsKbi5wcm90b3R5cGUudXBkYXRlQ29udGVudCA9IGZ1bmN0aW9uKCkgewp0aGlzLnNldENvbnRlbnQodGhpcy5nZXRDb250ZW50KCkpOwp9OwpuLnByb3RvdHlwZS5nZXRDb250ZW50ID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLmNvbnRlbnQ7Cn07Cm4ucHJvdG90eXBlLnNldENvbnRlbnQgPSBmdW5jdGlvbih0KSB7CnRoaXMuY29udGVudCA9IHQ7CnRoaXMuZW1wdHkoKTsKaWYgKHQpIHsKdC50b1N0cmluZyAmJiAodCA9IHQudG9TdHJpbmcoKSk7CmZvciAodmFyIGUsIGkgPSB0LCBuID0gaS5sZW5ndGgsIHIgPSAwLCBhID0gdGhpcy5kZWxpbWl0ZXIsIHMgPSBhLmxlbmd0aCwgXyA9IDA7IHIgPCBuICYmIC0xICE9IHI7ICkgewplID0gaS5pbmRleE9mKGEsIHIpOwotMSA9PSBlICYmIChlID0gbik7CmlmIChlID4gcikgewp0aGlzLl9sb2NhbGl6ZXJfYXBwZW5kY2hpbGRfb3ZlcnJpZGUgPSAhMDsKbC5wcm90b3R5cGUuYXBwZW5kQ2hpbGQuY2FsbCh0aGlzLCBbIGwsIG51bGwsIG51bGwsIFsgbyhpLnNsaWNlKHIsIGUpKSBdLCB7CnRhZ05hbWU6ICJsYWJlbCIsCmRpc3BsYXk6ICJpbmxpbmUiCn0gXSk7CnRoaXMuX2xvY2FsaXplcl9hcHBlbmRjaGlsZF9vdmVycmlkZSA9ICExOwpyID0gZTsKfQppZiAoZSA9PSByICYmIGUgIT0gbikgewp2YXIgZCA9IGkuaW5kZXhPZihhLCBlICsgcyk7Ci0xID09IGQgJiYgKGQgPSBuKTsKdGhpcy5fbG9jYWxpemVyX2FwcGVuZGNoaWxkX292ZXJyaWRlID0gITA7CmwucHJvdG90eXBlLmFwcGVuZENoaWxkLmNhbGwodGhpcywgWyB0aGlzLmNoaWxkQ29uc3RydWN0b3JzW19dIHx8IGwsIG51bGwsIG51bGwsIFsgbyhpLnNsaWNlKHIgKyBzLCBkKSkgXSwgdGhpcy5jaGlsZEF0dHJpYnV0ZXNbX10gfHwgewp0YWdOYW1lOiAibGFiZWwiLApkaXNwbGF5OiAiaW5saW5lIgp9IF0pOwp0aGlzLl9sb2NhbGl6ZXJfYXBwZW5kY2hpbGRfb3ZlcnJpZGUgPSAhMTsKciA9IGQgKyBzOwpfKys7Cn0KfQpyZXR1cm4gdGhpczsKfQp9OwpuLnByb3RvdHlwZS5zZXRDaGlsZFByb3BlcnRpZXMgPSBmdW5jdGlvbih0LCBlLCBpKSB7CnRoaXMuY2hpbGRDb25zdHJ1Y3RvcnNbdF0gPSBlOwp0aGlzLmNoaWxkQXR0cmlidXRlc1t0XSA9IGk7Cn07Cm4ucHJvdG90eXBlLmNsZWFyQ2hpbGRQcm9wZXJ0aWVzID0gZnVuY3Rpb24oKSB7CnRoaXMuY2hpbGRDb25zdHJ1Y3RvcnMubGVuZ3RoID0gdGhpcy5jaGlsZEF0dHJpYnV0ZXMubGVuZ3RoID0gMDsKfTsKbi5wcm90b3R5cGUuZ2V0RGVsaW1pdGVyID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLmRlbGltaXRlcjsKfTsKbi5wcm90b3R5cGUuc2V0RGVsaW1pdGVyID0gZnVuY3Rpb24odCkgewp0aGlzLmRlbGltaXRlciA9IHQ7CnRoaXMudXBkYXRlQ29udGVudCgpOwpyZXR1cm4gdGhpczsKfTsKdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fanhfdWlfV2lkZ2V0ID0gaSg3KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgaSwgbywgciwgXykgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBpLCBvLCByLCBfKTsKaSA9IGkgfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBsID0gWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIiIsICIiLCBbXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6d2lkZ2V0cyI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiLAphZGRDbGFzczogImJvcmRlcl9vdmVybGF5Igp9IF0sIGQgPSBsWzBdLmNhbGwodGhpcywgZSwgaSwgbnVsbCwgcy5tYW5nbGVJRHMoaSwgbFszXSksIGxbNF0pLCB1ID0gZCB8fCB0aGlzOwpzLnNldChpLCB1KTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KZm9yICh2YXIgYyBpbiB2b2lkIDApIHVbY10gPSAodm9pZCAwKVtjXTsKdS5maXJlICYmIHUuZmlyZSgiaW5pdCIpOwp1LnNldFN0eWxlICYmIHUuc2V0U3R5bGUobyk7CnUuc2V0QXR0cmlidXRlcyAmJiB1LnNldEF0dHJpYnV0ZXMoXyk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHUuYWRkQ2hpbGRyZW4gPyB1LmFkZENoaWxkcmVuKHIpIDogcy5hZGRDaGlsZHJlbih1LCByKTsKaWYgKHUgIT09IHRoaXMpIHsKdS5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CnUuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIHU7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfV2lkZ2V0LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CnBvc2l0aW9uOiAiYWJzb2x1dGUiLAoidG9wLCBsZWZ0IjogMCwKIndpZHRoLCBoZWlnaHQiOiAiMTAwJSIsCmJvcmRlclJhZGl1czogImluaGVyaXQiCn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfV2lkZ2V0LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19Cb3JkZXJPdmVybGF5Igp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fanhfdWlfV2lkZ2V0ID0gaSg3KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIiIsICIiLCBbXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiCn0gXSwgdSA9IGRbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBzLm1hbmdsZUlEcyhvLCBkWzNdKSwgZFs0XSksIGMgPSB1IHx8IHRoaXM7CnMuc2V0KG8sIGMpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgaCA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KCkgewp2YXIgdCA9IGcuZ2V0VmFsdWUoKSwgZSA9IHVbdF07CmlmIChlICYmICEobyBpbnN0YW5jZW9mIGUpKSB7Cm8gJiYgby5kZXN0cm95KCk7Cm8gPSBuZXcgZShjKTsKfQp9CmZ1bmN0aW9uIGUoKSB7CnZhciB0ID0gZi5nZXRWYWx1ZSgpOwp0ICYmIHIgPyBjLnNldERpc3BsYXkoIm5vbmUiKSA6IHQgfHwgIWEgPyBjLnNldERpc3BsYXkoIiIpIDogYy5zZXREaXNwbGF5KCJub25lIik7Cn0KZnVuY3Rpb24gbih0KSB7CmMuc2V0VmlzaWJpbGl0eSh0ID8gImhpZGRlbiIgOiAiIik7Cn0KdmFyIG8sIHIsIGEsIHMgPSBpKDEyKSwgXyA9IGkoNiksIGwgPSBpKDM2MyksIGQgPSBpKDM2MiksIHUgPSB7Cmljb25fZm9udF96b3BpbTogbCwKaWNvbl9mb250X3plbmRlc2s6IGQKfSwgaCA9IF8ucm9vdC4kKCJsaXZlY2hhdCIpLCBmID0gaC4kKCJ1aSIpLiQoIm1vYmlsZSRib29sIiksIGcgPSBoLiQoInNldHRpbmdzIikuJCgidGhlbWUiKS4kKCJicmFuZGluZyIpLiQoInR5cGUkc3RyaW5nIiksIHAgPSBoLiQoInNldHRpbmdzIikuJCgiYnJhbmRpbmciKS4kKCJoaWRlX2JyYW5kaW5nJGJvb2wiKTsKYy5zZXRIaWRlT25Nb2JpbGUgPSBmdW5jdGlvbih0KSB7CnIgPSBzKHQpOwplKCk7Cn07CmMuc2V0SGlkZU9uRGVza3RvcCA9IGZ1bmN0aW9uKHQpIHsKYSA9IHModCk7CmUoKTsKfTsKIWZ1bmN0aW9uKCkgewpjLmF1dG9iaW5kKGcsICJ2YWx1ZSIsIHQpOwpjLmF1dG9iaW5kKGYsICJ2YWx1ZSIsIGUpOwpjLmF1dG9iaW5kKHAsICJ2YWx1ZSIsIG4pOwp9KCk7Cn0oKTsKZm9yICh2YXIgZiBpbiBoKSBjW2ZdID0gaFtmXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfV2lkZ2V0LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CmRpc3BsYXk6ICJpbmxpbmUtYmxvY2siLApjb2xvcjogIiQkYnJhbmRpbmdMaW5rQ29sb3IiCn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfV2lkZ2V0LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19CcmFuZGluZyIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpLCBvLCBzKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiBuKSkgcmV0dXJuIG5ldyBuKHQsIGUsIGksIG8sIHMpOwppZiAoci5idWdzLm5vQm94U2l6aW5nKSB7CnZhciBsID0gdGhpcy50YWJsZSA9IG5ldyBfKHQsIG51bGwsIG51bGwsIG51bGwsIHsKdGFnTmFtZTogInRhYmxlIgp9KSwgZCA9IHRoaXMudGJvZHkgPSBuZXcgXyhsLCBudWxsLCBudWxsLCBudWxsLCB7CnRhZ05hbWU6ICJ0Ym9keSIKfSksIHUgPSB0aGlzLnRyID0gbmV3IF8oZCwgbnVsbCwgbnVsbCwgbnVsbCwgewp0YWdOYW1lOiAidHIiCn0pLCBjID0gdGhpcy50ZCA9IG5ldyBfKHUsIG51bGwsIG51bGwsIG51bGwsIHsKdGFnTmFtZTogInRkIgp9KSwgaCA9IHRoaXM7CnRoaXMudGFibGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkgewpoLmRlc3Ryb3koKTsKfTsKdGhpcy50YWJsZS5lbXB0eSA9IGZ1bmN0aW9uKCkgewpoLmVtcHR5KCk7Cn07CnRoaXMuc2V0UGFkZGluZyA9IGZ1bmN0aW9uKHQpIHsKdGhpcy50ZC5zZXRQYWRkaW5nKHQpOwpyZXR1cm4gdGhpczsKfTsKdGhpcy5zaG93ID0gZnVuY3Rpb24oKSB7CnRoaXMudGFibGUgJiYgdGhpcy50YWJsZS5zaG93KCk7CnJldHVybiB0aGlzOwp9Owp0aGlzLmhpZGUgPSBmdW5jdGlvbigpIHsKdGhpcy50YWJsZSAmJiB0aGlzLnRhYmxlLmhpZGUoKTsKcmV0dXJuIHRoaXM7Cn07Cl8uY2FsbCh0aGlzLCBjLCBlLCBpLCBvLCBzKTsKbC5zdHlsZS50YWJsZUxheW91dCA9ICJmaXhlZCIsIGwuc3R5bGUuYm9yZGVyQ29sbGFwc2UgPSAiY29sbGFwc2UiOwpkLnN0eWxlLmhlaWdodCA9IGQuc3R5bGUud2lkdGggPSB0aGlzLnN0eWxlLmhlaWdodCA9IHRoaXMuc3R5bGUud2lkdGggPSAiMTAwJSI7Cmwuc2V0VG9wKDApLnNldExlZnQoMCkuc2V0V2lkdGgoIjEwMCUiKS5zZXRIZWlnaHQoIjEwMCUiKS5zZXRQb3NpdGlvbigiYWJzb2x1dGUiKS5hcHBseUNvbnN0cmFpbnRzKCk7CnRoaXMuc3R5bGUucG9zaXRpb24gPSAicmVsYXRpdmUiLCB0aGlzLnN0eWxlLm92ZXJmbG93ID0gImF1dG8iOwpsLmRlZmF1bHRQbGFjZW1lbnQgPSB0aGlzOwp9IGVsc2Ugewp0aGlzLnNldFBhZGRpbmcgPSBmdW5jdGlvbih0KSB7CmlmICghYSh0KSkgcmV0dXJuIHRoaXM7CnQgPSB0LnNwbGl0KCIgIik7CnRbMF0gPSBwYXJzZUludCh0WzBdLCAxMCk7CnRbMV0gPSBwYXJzZUludCh0WzFdLCAxMCk7CnRbMl0gPSBwYXJzZUludCh0WzJdLCAxMCk7CnRbM10gPSBwYXJzZUludCh0WzNdLCAxMCk7CmlmIChpc05hTih0WzBdKSkgdFszXSA9IHRbMl0gPSB0WzFdID0gdFswXSA9IDA7IGVsc2UgaWYgKGlzTmFOKHRbM10pKSBpZiAoaXNOYU4odFsxXSkpIHRbM10gPSB0WzJdID0gdFsxXSA9IHRbMF07IGVsc2UgaWYgKGlzTmFOKHRbMl0pKSB7CnRbM10gPSB0WzFdOwp0WzJdID0gdFswXTsKfSBlbHNlIHRbM10gPSB0WzFdOwp0aGlzLnNldFRvcChwYXJzZUludCh0WzBdLCAxMCkpLnNldFJpZ2h0KHBhcnNlSW50KHRbMV0sIDEwKSkuc2V0Qm90dG9tKHBhcnNlSW50KHRbMl0sIDEwKSkuc2V0TGVmdChwYXJzZUludCh0WzNdLCAxMCkpOwpyZXR1cm4gdGhpczsKfTsKXy5jYWxsKHRoaXMsIHQsIGUsIGksIG8sIHMpOwp0aGlzLnNldFN0eWxlKHsKdG9wOiAwLApib3R0b206IDAsCmxlZnQ6IDAsCnJpZ2h0OiAwLApvdmVyZmxvdzogImF1dG8iLApwb3NpdGlvbjogImFic29sdXRlIgp9KTsKfQp0aGlzLnNldFN0eWxlKGkpOwp0aGlzLnNldEF0dHJpYnV0ZXMocyk7Cn0KdmFyIG8gPSBpKDEpLCByID0gaSg4KSwgYSA9IGkoMjIpLCBzID0gaSgwKSwgXyA9IGkoNyk7Cm4ucHJvdG90eXBlID0gcyhfLnByb3RvdHlwZSk7Cm8obiwgXywgewpmcW5hbWU6ICJqeF91aV9GdWxsRnJhbWUiCn0pOwpuLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7Cl8ucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTsKaWYgKHRoaXMudGFibGUpIHsKXy5wcm90b3R5cGUuZW1wdHkuY2FsbCh0aGlzLnRhYmxlKTsKdGhpcy50YWJsZS5lbXB0eSA9IG51bGw7Cl8ucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLnRhYmxlKTsKdGhpcy50YWJsZSA9IHRoaXMudGJvZHkgPSB0aGlzLnRyID0gdGhpcy50ZCA9IG51bGw7Cn0KfTsKdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoMTEzKSwgbyA9IGkoMTE0KSwgciA9IGkoMTc1KSwgYSA9IHt9OwphLl9zdXBlciA9IHI7CmEuZGVmYXVsdHMgPSB7CmNvbG9yczogewpwcmltYXJ5JHN0cmluZzogIiM1NTU1NTUiLApiYW5uZXIkc3RyaW5nOiAiI0VFRUVFRSIsCmJ1YmJsZSRzdHJpbmc6ICIjRTU5MzQxIgp9Cn07CmEuZ2VuZXJhdGUgPSBmdW5jdGlvbih0KSB7CmZ1bmN0aW9uIGUodCkgewp2YXIgZSA9IHt9LCBpID0gdC5sdW1pbmFuY2UoKSwgciA9IHQuZGFya2VuKDEwKSwgYSA9IHQubGlnaHRlbigxMCksIHMgPSBuLmludGVycG9sYXRlKHQsIG8uYmxhY2ssIC41LCAicmdiIiksIGQgPSBuLmludGVycG9sYXRlKHQsIG8uYmxhY2ssIC43LCAicmdiIik7CmUuY29sb3IgPSBuZXcgbi5Db2xvclNjYWxlKHsKY29sb3JzOiBbIG8ud2hpdGUsIG8ud2hpdGUsIHMuZGFya2VuKDEwKSwgcywgcyBdLApwb3NpdGlvbnM6IFsgMCwgXyAtIC4wMDEsIF8gKyAuMDAxLCBsLCAxIF0sCm1vZGU6ICJyZ2IiCn0pLmdldChpKS5oZXgoKTsKZS5iZyA9IG5ldyBuLkNvbG9yU2NhbGUoewpjb2xvcnM6IFsgdCwgdCwgdC5kYXJrZW4oMTApIF0sCnBvc2l0aW9uczogWyAwLCBsLCAxIF0sCm1vZGU6ICJyZ2IiCn0pLmdldChpKS5oZXgoKTsKZS5pY29uQ29sb3IgPSBuZXcgbi5Db2xvclNjYWxlKHsKY29sb3JzOiBbIHQsIHQsIGQsIGQubGlnaHRlbigxMCkgXSwKcG9zaXRpb25zOiBbIDAsIF8gLSAuMDAxLCBfICsgLjAwMSwgMSBdLAptb2RlOiAicmdiIgp9KS5nZXQoaSkuaGV4KCk7CmUuYm9yZGVyQ29sb3IgPSBuZXcgbi5Db2xvclNjYWxlKHsKY29sb3JzOiBbIHIsIHIsIHQuZGFya2VuKDIwKSBdLApwb3NpdGlvbnM6IFsgMCwgbCwgMSBdLAptb2RlOiAicmdiIgp9KS5nZXQoaSkuaGV4KCk7CmUuaG92ZXJCZyA9IG5ldyBuLkNvbG9yU2NhbGUoewpjb2xvcnM6IFsgYSwgdCwgdC5kYXJrZW4oNSkgXSwKcG9zaXRpb25zOiBbIDAsIGwsIDEgXSwKbW9kZTogInJnYiIKfSkuZ2V0KGkpLmhleCgpOwpyZXR1cm4gZTsKfQpmdW5jdGlvbiBpKHQsIGUpIHsKdmFyIGkgPSB7fSwgciA9IHQubHVtaW5hbmNlKCksIGEgPSBuLmludGVycG9sYXRlKHQsIG8uYmxhY2ssIGUgPyAuNyA6IC41LCAicmdiIiksIHMgPSBlID8gbi5jb2xvcihvLndoaXRlKSA6IG4uaW50ZXJwb2xhdGUodCwgby53aGl0ZSwgLjUsICJyZ2IiKTsKaS5jb2xvciA9IG5ldyBuLkNvbG9yU2NhbGUoewpjb2xvcnM6IFsgcywgcy5saWdodGVuKDUwKSwgYSwgYS5saWdodGVuKDEwKSBdLApwb3NpdGlvbnM6IFsgMCwgaCAtIC4wMDEsIGggKyAuMDAxLCAxIF0sCm1vZGU6ICJyZ2IiCn0pLmdldChyKS5oZXgoKTsKaS5iZyA9IHQuaGV4KCk7CnJldHVybiBpOwp9CnZhciByID0gbi5oZXgodC5jb2xvcnMucHJpbWFyeSRzdHJpbmcpLCBhID0gci5sdW1pbmFuY2UoKSwgcyA9IG4uaGV4KHQuY29sb3JzLmJhbm5lciRzdHJpbmcgfHwgdC5jb2xvcnMucHJpbWFyeSRzdHJpbmcpLCBfID0gMTIwIC8gMjU1LCBsID0gMjAwIC8gMjU1LCBkID0gZShyKSwgdSA9IGUoci5saWdodGVuKDE1KSksIGMgPSBlKHMpLCBoID0gMTIwIC8gMjU1LCBmID0gaShyKSwgZyA9IGkocywgITApOwpyZXR1cm4gewpzdGFuZGFyZDogewpib3JkZXJDb2xvcjogIiNEREQiLApoZWFkQ29sb3I6IGYuY29sb3IsCmhlYWRCZzogciwKY29udGVudENvbG9yOiAiIzQ0NCIsCmNvbnRlbnRCbG9ja0JnOiAiI0VFRSIsCnBsYWNlaG9sZGVyQ29sb3I6ICIjQUFBIiwKaW5wdXRDb2xvcjogIiM2NjYiLAppbnB1dEJvcmRlckNvbG9yOiAiI0RERCIsCmlucHV0Rm9jdXNCb3JkZXJDb2xvcjogby5jbGFtcEx1bWluYW5jZShyLCAuMiwgLjQpLmhleCgpLApidXR0b25Db2xvcjogZC5jb2xvciwKYnV0dG9uQmc6IGQuYmcsCmJ1dHRvbkJvcmRlckNvbG9yOiBkLmJvcmRlckNvbG9yLApidXR0b25Ib3ZlckJnOiBkLmhvdmVyQmcsCmJ1dHRvblNoYWRvdzogIjBweCAxcHggMnB4IHJnYmEoMCwwLDAsMC4xKSwgaW5zZXQgMHB4IDFweCAwcHggcmdiYSgyNTUsMjU1LDI1NSwwLjI1KSIsCmJ1dHRvblNlY0NvbG9yOiB1LmNvbG9yLApidXR0b25TZWNCZzogdS5iZywKYnV0dG9uU2VjQm9yZGVyQ29sb3I6IHUuYm9yZGVyQ29sb3IsCmJ1dHRvblNlY0hvdmVyQmc6IHUuaG92ZXJCZywKc2Nyb2xsYWJsZUZyYW1lVG9wSGVpZ2h0OiAiNXB4IiwKc2Nyb2xsYWJsZUZyYW1lVG9wQmFja2dyb3VuZDogImdyYWRpZW50IHRvcCByZ2JhKDAsMCwwLDAuMDUpIHJnYmEoMCwwLDAsMCkiLApzY3JvbGxhYmxlRnJhbWVUb3BCYWNrZ3JvdW5kQ29sb3I6ICJ0cmFuc3BhcmVudCIsCnNjcm9sbGFibGVGcmFtZUJvdHRvbUhlaWdodDogIjVweCIsCnNjcm9sbGFibGVGcmFtZUJvdHRvbUJhY2tncm91bmQ6ICJncmFkaWVudCB0b3AgcmdiYSgwLDAsMCwwKSByZ2JhKDAsMCwwLDAuMDUpIiwKc2Nyb2xsYWJsZUZyYW1lQm90dG9tQmFja2dyb3VuZENvbG9yOiAidHJhbnNwYXJlbnQiLAp0b2FzdENvbG9yOiAiIzY2NiIsCnRvYXN0Qmc6ICJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOTUpIiwKdG9hc3RCb3JkZXJDb2xvcjogIiNEREQiLAp0b2FzdFNoYWRvdzogIiQkd2luZG93U2hhZG93IiwKYXZhdGFyQm9yZGVyQ29sb3I6ICIjREREIiwKcHJvZmlsZUNhcmRBdmF0YXJCb3JkZXJXaWR0aDogMCwKcHJvZmlsZUNhcmRBdmF0YXJTaGFkb3c6ICIwcHggMXB4IDJweCByZ2JhKDAsMCwwLDAuMikiLApwcm9maWxlQ2FyZE5hbWVDb2xvcjogby5jbGFtcEx1bWluYW5jZShyLCAwLCAuMikuaGV4KCksCnByb2ZpbGVDYXJkVGl0bGVDb2xvcjogIiNBQUEiLApib3R0b21Cb3JkZXJXaWR0aDogIjFweCAwIDAiLApib3R0b21Cb3JkZXJDb2xvcjogIiNFRUUiLApjaGF0TW90aWZIaWxsOiAiI0VFRSIsCmNoYXRNb3RpZkJ1YmJsZTogIiNCQkIiLApjaGF0QnV0dG9uQ29sb3I6IGQuY29sb3IsCmNoYXRCdXR0b25CZzogci5oZXgoKSwKY2hhdEJ1dHRvbkJvcmRlcldpZHRoOiBhID4gbCA/ICIiIDogMCwKY2hhdEJ1dHRvbkJvcmRlckNvbG9yOiBhID4gbCA/ICIjREREIiA6ICIiLApmYXZpY29uQmc6IG5ldyBuLkNvbG9yU2NhbGUoewpjb2xvcnM6IFsgci5saWdodGVuKDE1KSwgci5saWdodGVuKDUpLCByLmRhcmtlbig1KSwgci5kYXJrZW4oNSkgXSwKcG9zaXRpb25zOiBbIDAsIC4wNSwgLjA1MDEsIDEgXSwKbW9kZTogInJnYiIKfSkuZ2V0KGEpLmhleCgpLAp3aW5kb3dDb2xvcjogIiM2NjYiLAp3aW5kb3dQYWRkaW5nOiAiM3B4IiwKd2luZG93U2hhZG93OiAiMHB4IDBweCAzcHggMnB4IHJnYmEoMCwwLDAsMC4xKSIsCndpbmRvd0NvbnRlbnRCb3JkZXJXaWR0aDogIjAgMXB4IiwKd2luZG93Q29udGVudEJvcmRlckNvbG9yOiAiI0RERCIsCm1lbnVCb3JkZXJDb2xvcjogIiNEREQiLAptZW51SXRlbUhvdmVyQmc6ICIjRUVFIiwKdGl0bGVCYXJDb2xvcjogZi5jb2xvciwKdGl0bGVCYXJCZzogZi5iZywKdGl0bGVCYXJCb3JkZXJXaWR0aDogYSA+IDIyMCAvIDI1NSA/ICIxcHgiIDogMCwKdGl0bGVCYXJCb3JkZXJDb2xvcjogYSA+IDIyMCAvIDI1NSA/ICIjREREIiA6ICIiLAp0aXRsZUJhckljb25zQ29sb3I6ICIiLAphY3Rpb25CYXJDb2xvcjogIiM5OTkiLAphY3Rpb25CYXJCb3JkZXJXaWR0aDogIjAgMXB4IDFweCAxcHgiLAphY3Rpb25CYXJCb3JkZXJDb2xvcjogIiNEREQiLAphY3Rpb25CYXJIb3ZlckNvbG9yOiAiIzY2NiIsCmNoYXRQYW5lbFByb2ZpbGVDYXJkQ29udGFpbmVyQm9yZGVyV2lkdGg6ICIwIDAgMXB4IiwKY2hhdFBhbmVsUHJvZmlsZUNhcmRDb250YWluZXJCb3JkZXJDb2xvcjogIiNFRUUiLApjaGF0TG9nVmlzaXRvckJ1YmJsZUJnOiAiI0ZCRkJGQiIsCmNoYXRMb2dWaXNpdG9yQnViYmxlQm9yZGVyQ29sb3I6ICIjRUVFIiwKY2hhdExvZ0FnZW50QnViYmxlQmc6IG4uaW50ZXJwb2xhdGUoby5jbGFtcEx1bWluYW5jZShyLCAuNCwgLjgpLCBvLndoaXRlLCAuOCwgInJnYiIpLmhleCgpLApjaGF0TG9nQWdlbnRCdWJibGVCb3JkZXJDb2xvcjogbi5pbnRlcnBvbGF0ZShvLmNsYW1wTHVtaW5hbmNlKHIsIC40LCAuOCksIG8ud2hpdGUsIC40LCAicmdiIikuaGV4KCksCmNoYXRMb2dBdmF0YXJCb3JkZXJXaWR0aDogIiQkYm9yZGVyV2lkdGgiLApjaGF0TG9nRmlsZVByb2dyZXNzQmc6IGYuYmcsCmNoYXRMb2dEYXRlRGl2aWRlckxpbmVIZWlnaHQ6ICIwLjFlbSIsCmNoYXRMb2dEYXRlRGl2aWRlckJvcmRlckJvdHRvbTogIjFweCBzb2xpZCAjREREIiwKY2hhdFRyYW5zbGF0aW9uU3dpdGNoQ29sb3I6ICIjOTk5IiwKY2hhdFRleHRBcmVhQm9yZGVyV2lkdGg6ICIxcHggMCAwIiwKY2hhdFRleHRBcmVhQm9yZGVyQ29sb3I6ICIjRUVFIiwKY2hhdFRleHRBcmVhSW5wdXRTaGFkb3c6ICJpbnNldCAwcHggMXB4IDNweCByZ2JhKDAsMCwwLDAuMSkiLApjaGF0VGV4dEFyZWFJbnB1dEZvY3VzU2hhZG93OiAiaW5zZXQgMHB4IDFweCAzcHggIiArIG4uaW50ZXJwb2xhdGUoby5jbGFtcEx1bWluYW5jZShyLCAuMiwgLjQpLCBvLndoaXRlLCAuNSwgInJnYiIpLmhleCgpLApjaGF0VGV4dEFyZWFEcm9wQ29sb3I6ICIjNDQ0IiwKY2hhdFRleHRBcmVhRHJvcEJnOiAiI0VFRSIsCmNoYXRUZXh0QXJlYURyb3BCb3JkZXJXaWR0aDogIjFweCIsCmNoYXRUZXh0QXJlYURyb3BCb3JkZXJTdHlsZTogImRhc2hlZCIsCmNoYXRUZXh0QXJlYURyb3BCb3JkZXJDb2xvcjogIiM0NDQiLApiYWRnZUJnOiBnLmJnLApiYWRnZUJvcmRlcldpZHRoOiAwLApiYWRnZUNvbnRlbnRDb2xvcjogZy5jb2xvciwKYmFkZ2VDb250ZW50Qmc6IGcuYmcsCmJhZGdlQ29udGVudEJvcmRlcldpZHRoOiAwLApiYWRnZUZvcm1CZzogby53aGl0ZSwKYmFkZ2VGb3JtQm9yZGVyV2lkdGg6ICIxcHggMCIsCmJhZGdlRm9ybUJvcmRlckNvbG9yOiAiI0RERCIsCmJhZGdlSWNvbkNvbG9yOiBjLmljb25Db2xvcgp9LAptb2JpbGU6IHsKYXV0aEJ1dHRvbkJnOiAiJCRpbnB1dEJnIiwKYXV0aEJ1dHRvbkJvcmRlckNvbG9yOiAiJCRpbnB1dEJvcmRlckNvbG9yIiwKYXV0aEJ1dHRvblNoYWRvdzogIm5vbmUiLApib3R0b21Cb3JkZXJXaWR0aDogMCwKbWVudUJnOiAiI0ZCRkJGQiIsCm1lbnVIZWFkZXJDb2xvcjogIiM5OTkiLAptZW51SXRlbUhvdmVyQmc6ICIjREREIiwKbWVudVJhZGl1czogIjAgMCAxMHB4IDEwcHgiLAptZW51U2hhZG93OiAibm9uZSIsCmFjdGlvbkJhckNvbG9yOiBmLmNvbG9yLAphY3Rpb25CYXJCZzogci5kYXJrZW4oMTApLmhleCgpLAphY3Rpb25CYXJCb3JkZXJXaWR0aDogMCwKYWN0aW9uQmFySG92ZXJDb2xvcjogZi5jb2xvciwKY2hhdFBhbmVsUHJvZmlsZUNhcmRDb250YWluZXJCb3JkZXJDb2xvcjogIiNEREQiLApjaGF0VGV4dEFyZWFCb3JkZXJDb2xvcjogIiNEREQiLApjaGF0VGV4dEFyZWFJbnB1dFNoYWRvdzogIm5vbmUiLApjaGF0VGV4dEFyZWFJbnB1dEJvcmRlcldpZHRoOiAwLApjaGF0VGV4dEFyZWFJbnB1dFJhZGl1czogMCwKY2hhdFRleHRBcmVhSW5wdXRGb2N1c1NoYWRvdzogIm5vbmUiLApicmFuZGluZ0xpbmtDb2xvcjogIiM5OTkiCn0KfTsKfTsKdC5leHBvcnRzID0gYTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKCkgewpsID0gQy5yb290OwpkID0gbC4kKCJsaXZlY2hhdCIpOwp1ID0gZC4kKCJ1aSIpOwpoID0gdS4kKCJjaGF0X25vdGlmaWNhdGlvbiIpLiQoImRpc3BsYXkkYm9vbCIpOwpmID0gdS4kKCJjaGF0X3dpbmRvdyIpLiQoImRpc3BsYXkkYm9vbCIpOwpnID0gdS4kKCJjaGF0X2J1dHRvbiIpLiQoImRpc3BsYXkkYm9vbCIpOwpwID0gdS4kKCJtb2JpbGVfbm90aWZpY2F0aW9ucyRib29sIik7CmMgPSB1LiQoIm1vYmlsZV9vdmVybGF5JGJvb2wiKTsKaC5vbigidmFsdWUiLCBrKTsKZi5vbigidmFsdWUiLCBrKTsKZy5vbigidmFsdWUiLCBrKTsKcC5vbigidmFsdWUiLCBrKTsKfQpmdW5jdGlvbiBvKCkgewppZiAoITAgPT09IHYpIHJldHVybiAhMDsKdiA9IHAuZ2V0VmFsdWUoKSA/ICQgJiYgYiAmJiBtICYmICF5KGYuZ2V0VmFsdWUoKSkgJiYgIXkoaC5nZXRWYWx1ZSgpKSAmJiAheShnLmdldFZhbHVlKCkpIDogYy5nZXRWYWx1ZSgpID8gJCAmJiBiICYmICF5KGYuZ2V0VmFsdWUoKSkgJiYgIXkoZy5nZXRWYWx1ZSgpKSA6IGIgJiYgIXkoZy5nZXRWYWx1ZSgpKTsKcmV0dXJuIHY7Cn0KZnVuY3Rpb24gcigpIHsKaWYgKHcgPT09IGIgJiYgeCA9PT0gJCkgewp3ID0gJDsKJC5tb3ZlVXAoQSk7CmIubW92ZURvd24oQSk7Cn0gZWxzZSBpZiAodykgdy5tb3ZlRG93bihmdW5jdGlvbih0KSB7CmlmICghdCkgaWYgKHgpIHsKdyA9IHg7CngubW92ZVVwKCk7Cn0gZWxzZSB3ID0gbnVsbDsKfSk7IGVsc2Ugewp3ID0geDsKeCAmJiB4Lm1vdmVVcCgpOwp9Cn0KZnVuY3Rpb24gYSh0KSB7CiQgPSB0OwprKCk7Cn0KZnVuY3Rpb24gcyh0KSB7Cm0gPSB0OwprKCk7Cn0KZnVuY3Rpb24gXyh0KSB7CmIgPSB0OwprKCk7Cn0KdmFyIGwsIGQsIHUsIGMsIGgsIGYsIGcsIHAsIG0sICQsIGIsIHcsIHgsIHYsIHkgPSBpKDI1KSwgaiA9IGkoMzQpLCBDID0gKGkoNDApLCAKaSg2KSksIFMgPSB7CmluaXQ6IG4sCnJlZ2lzdGVyQ2hhdEJ1dHRvbjogXywKcmVnaXN0ZXJDaGF0Tm90aWZpY2F0aW9uOiBzLApyZWdpc3RlckNoYXRXaW5kb3c6IGEKfSwgQSA9IGZ1bmN0aW9uKCkge30sIGsgPSBqLmRlYm91bmNlKGZ1bmN0aW9uKCkgewppZiAobygpKSB7CnZhciB0ID0gZi5nZXRWYWx1ZSgpLCBlID0gaC5nZXRWYWx1ZSgpLCBpID0gZy5nZXRWYWx1ZSgpLCBuID0gdCAmJiAkIHx8IGUgJiYgbSB8fCBpICYmIGIgfHwgbnVsbDsKaWYgKCEodCArIGUgKyBpID4gMSkgJiYgeCAhPT0gbikgewp4ID0gbjsKcigpOwp9Cn0KfSk7CnQuZXhwb3J0cyA9IFM7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0KSB7Cnguc2V0QWN0aXZpdHlXaW5kb3codCk7CkMgPSB2LkFDQ09VTlRfS0VZOwpwID0gKHQgfHwgd2luZG93KS5sb2NhdGlvbi5ob3N0bmFtZTsKbSA9IC9cYig/OlxkezEsM31cLil7M31cZHsxLDN9Ly50ZXN0KHApID8gcCA6IHkuZ2V0RWZmZWN0aXZlVExEKHApOwp9CmZ1bmN0aW9uIG8oKSB7CmlmICh2LklTX1BPUE9VVCkgcmV0dXJuIHguZ2V0KGspIHx8IGIoKS5nZXQoIm1pZCIpOwp2YXIgdCA9IHUoKTsKcmV0dXJuIHQgfHwgKHguZ2V0KEEpIHx8ICIiKTsKfQpmdW5jdGlvbiByKHQpIHsKeC5zZXQoQSwgdCwgewpwYXRoOiAiLyIsCnR0bDogMzY1LApkb21haW46IG0KfSk7Cn0KZnVuY3Rpb24gYSgpIHsKeC5yZW1vdmUoQSwgewpwYXRoOiAiLyIsCmRvbWFpbjogbQp9KTsKfQpmdW5jdGlvbiBzKCkgewp2YXIgdCA9IGMoKTsKaWYgKCJib29sZWFuIiA9PSB0eXBlb2YgdCkgcmV0dXJuIHQ7CnZhciBlID0geC5nZXQoSSk7CmUgPSBwYXJzZUludChlLCAxMCk7CnJldHVybiAwICE9PSBlICYmICgxID09PSBlIHx8IHZvaWQgMCk7Cn0KZnVuY3Rpb24gXygpIHsKeC5yZW1vdmUoSSwgewpwYXRoOiAiLyIsCmRvbWFpbjogbQp9KTsKfQpmdW5jdGlvbiBsKHQpIHsKdCA9ICQodCk7CnQgPSB0ID8gMSA6IDA7Cnguc2V0KEksIHQsIHsKcGF0aDogIi8iLAp0dGw6IDM2NSwKZG9tYWluOiBtCn0pOwp9CmZ1bmN0aW9uIGQoKSB7CmEoKTsKdy5yZW1vdmUoUyk7Cn0KZnVuY3Rpb24gdSgpIHsKdmFyIHQgPSB4LmdldEpTT05Db29raWUoIl9femxjaWQiKTsKeC5yZW1vdmUoIl9femxjaWQiLCB7CnBhdGg6ICIvIgp9KTsKaWYgKHQubUlEKSByZXR1cm4gdC5tSUQ7CnZhciBlID0gaCgiX196bGNzdG9yZSIpOwp4LnJlbW92ZSgiX196bGNzdG9yZSIsIHsKcGF0aDogIi8iLApkb21haW46IG0KfSk7CnJldHVybiBlICYmIGUubUlEID8gZS5tSUQgOiB2b2lkIDA7Cn0KZnVuY3Rpb24gYygpIHsKdmFyIHQsIGUgPSBoKCJfX3psY3ByaXZhY3kiKTsKaWYgKCJib29sZWFuIiA9PSB0eXBlb2YgZSkgewp0ID0gZTsKbChlKTsKfQpyZXR1cm4gdDsKfQpmdW5jdGlvbiBoKHQpIHsKcmV0dXJuIHguZ2V0SlNPTkNvb2tpZSh0KVtDXTsKfQpmdW5jdGlvbiBmKHQsIGUpIHsKdmFyIGkgPSB3LmdldChTKSB8fCB7fTsKaVtDXSB8fCAoaVtDXSA9IHt9KTsKdmFyIG4gPSBpW0NdOwpuW3RdID0gZTsKbi50aW1lc3RhbXAgPSArbmV3IERhdGUoKTsKdy5zZXQoUywgaSk7Cn0KZnVuY3Rpb24gZyh0KSB7CnZhciBlID0gdy5nZXQoUykgfHwge307CmlmICghZVtDXSkgcmV0dXJuIHt9Owp2YXIgaSA9IGVbQ107CnJldHVybiBpLnRpbWVzdGFtcCA/ICtuZXcgRGF0ZSgpIC0gaS50aW1lc3RhbXAgPiBqID8ge30gOiBpW3RdIDogaVt0XSB8fCB7fTsKfQp2YXIgcCwgbSwgJCA9IGkoMTIpLCBiID0gaSgzNiksIHcgPSBpKDM4MSksIHggPSBpKDE3OSksIHYgPSBpKDE4KSwgeSA9IGkoMTEpLCBqID0gNDhlNCwgQyA9IHYuQUNDT1VOVF9LRVksIFMgPSAiX196bGNzdG9yZSIsIEEgPSAiX196bGNtaWQiLCBrID0gIl9femxjcG9taWQiLCBJID0gIl9femxjcHJpdmFjeSIsIFQgPSB7CmluaXQ6IG4sCkRPTTogewpzYXZlVmFyaWFibGU6IGYsCmdldFZhcmlhYmxlOiBnCn0sCkNvb2tpZTogeCwKY2xlYXJBbGw6IGQsCnNldElkZW50aXR5OiByLApnZXRJZGVudGl0eTogbywKY2xlYXJJZGVudGl0eTogYSwKY2xlYXJBbGxvd0Nvb2tpZUxhdzogXywKZ2V0QWxsb3dDb29raWVMYXc6IHMsCnNldEFsbG93Q29va2llTGF3OiBsCn07CnQuZXhwb3J0cyA9IFQ7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDIpLCBvID0gewpsaXZlY2hhdDogewp0aW1lc3RhbXAkaW50OiArbmV3IERhdGUoKSwKc2V0dGluZ3M6IHsKZmlsZV9zZW5kaW5nOiB7CmVuYWJsZWQkYm9vbDogITAKfSwKYmVoYXZpb3I6IHsKZG9fbm90X2Rpc3BsYXkkYm9vbDogITEKfSwKdGhlbWU6IHsKbmFtZSRzdHJpbmc6ICJzaW1wbGUiLAptZXNzYWdlX3R5cGUkc3RyaW5nOiAiYnViYmxlX2F2YXRhciIsCmNvbG9yczogewpwbGFjZWhvbGRlciRzdHJpbmc6ICJfIgp9LApjaGF0X2J1dHRvbjogewpwb3NpdGlvbiRzdHJpbmc6ICJiciIsCnBvc2l0aW9uX21vYmlsZSRzdHJpbmc6ICJiciIKfSwKY2hhdF93aW5kb3c6IHsKcG9zaXRpb24kc3RyaW5nOiAiYnIiLApzaXplJHN0cmluZzogIm1lZGl1bSIsCnByb2ZpbGVfY2FyZDogewpkaXNwbGF5X2F2YXRhciRib29sOiAhMCwKZGlzcGxheV9yYXRpbmckYm9vbDogITAsCmRpc3BsYXlfdGl0bGVfbmFtZSRib29sOiAhMAp9LAp1c2VfYmFubmVyJGJvb2w6ICEwLAp0aXRsZV9iYXI6IHsKaGlkZV9taW5pbWl6ZSRib29sOiAhMSwKaGlkZV9wb3BvdXQkYm9vbDogITEKfQp9LApicmFuZGluZzogewp0eXBlJHN0cmluZzogImljb25fZm9udF96b3BpbSIKfQp9LApncmVldGluZ3M6IHsKb25saW5lJHN0cmluZzogbig4MSksCm9mZmxpbmUkc3RyaW5nOiBuKDgyKQp9LApiYW5uZXI6IHsKZW5hYmxlZCRib29sOiAhMCwKbGF5b3V0JHN0cmluZzogImltYWdlX3JpZ2h0IiwKdGV4dCRzdHJpbmc6IG4oODMpLAppbWFnZV9wYXRoJHN0cmluZzogIiIsCmltYWdlX2RhdGEkc3RyaW5nOiAiIgp9LApjaGF0X2J1dHRvbjogewpoaWRlX3doZW5fb2ZmbGluZSRib29sOiAhMQp9LApjaGF0X3dpbmRvdzogewptb2JpbGVfbW9kZSRzdHJpbmc6ICJwb3BvdXQiLAp0aXRsZV9iYXI6IHsKdGl0bGUkc3RyaW5nOiBuKDg0KSwKc3RhdHVzX21lc3NhZ2VzOiB7Cm9ubGluZSRzdHJpbmc6IG4oODUpLAphd2F5JHN0cmluZzogbig4NiksCm9mZmxpbmUkc3RyaW5nOiBuKDg3KQp9Cn0KfSwKbG9naW46IHsKYWxsb3dlZF90eXBlczogewplbWFpbCRib29sOiAhMCwKZmFjZWJvb2skYm9vbDogITAsCnR3aXR0ZXIkYm9vbDogITEsCmdvb2dsZSRib29sOiAhMAp9LApwaG9uZV9kaXNwbGF5JGJvb2w6ICExLApyZXN0cmljdF9wcm9maWxlJGJvb2w6ICExCn0sCmNvbmNpZXJnZTogewpkaXNwbGF5X25hbWUkc3RyaW5nOiBuKDg4KSwKdGl0bGUkc3RyaW5nOiBuKDg5KSwKYXZhdGFyX3BhdGgkc3RyaW5nOiAiIiwKYXZhdGFyX2RhdGEkc3RyaW5nOiAiIiwKZ3JlZXRpbmc6IHsKZW5hYmxlZCRib29sOiAhMSwKbWVzc2FnZSRzdHJpbmc6IG4oOTApCn0KfSwKYnJhbmRpbmc6IHsKaGlkZV9icmFuZGluZyRib29sOiAhMSwKaGlkZV9mYXZpY29uJGJvb2w6ICExLApjdXN0b21fZmF2aWNvbl9wYXRoJHN0cmluZzogIiIKfSwKbGFuZ3VhZ2U6IHsKbGFuZ3VhZ2Ukc3RyaW5nOiAiLS0iCn0sCmNvb2tpZV9sYXc6IHsKZW5hYmxlZCRib29sOiAhMQp9LApzb3VuZDogewpkaXNhYmxlZCRib29sOiAhMQp9LApwb3BvdXQ6IHsKZW5hYmxlZCRib29sOiAhMAp9LApyYXRpbmc6IHsKZW5hYmxlZCRib29sOiAhMAp9LAplbmRfY2hhdF9tZW51OiB7CmVuYWJsZWQkYm9vbDogITAsCm1lc3NhZ2Ukc3RyaW5nOiAiIgp9LAplbW90aWNvbnM6IHsKZW5hYmxlZCRib29sOiAhMQp9LApidWJibGU6IHsKZW5hYmxlZCRib29sOiAhMCwKdGl0bGUkc3RyaW5nOiBuKDkxKSwKdGV4dCRzdHJpbmc6IG4oOTIpCn0sCmZvcm1zOiB7CnByZV9jaGF0X2Zvcm06IHsKcmVxdWlyZWQkYm9vbDogITEsCnByb2ZpbGVfcmVxdWlyZWQkYm9vbDogITEsCm1lc3NhZ2Ukc3RyaW5nOiAiIiwKZm9ybTogewowOiB7Cm5hbWUkc3RyaW5nOiAibmFtZSIsCnJlcXVpcmVkJGJvb2w6IDAKfSwKMTogewpuYW1lJHN0cmluZzogImVtYWlsIiwKcmVxdWlyZWQkYm9vbDogMAp9LAoyOiB7CmxhYmVsJHN0cmluZzogbig5MyksCm5hbWUkc3RyaW5nOiAiZGVwYXJ0bWVudCIsCnJlcXVpcmVkJGJvb2w6IDAsCnR5cGUkc3RyaW5nOiAiZGVwYXJ0bWVudCIKfSwKMzogewpsYWJlbCRzdHJpbmc6IG4oOTQpLApuYW1lJHN0cmluZzogIm1lc3NhZ2UiLApyZXF1aXJlZCRib29sOiAwLAp0eXBlJHN0cmluZzogInRleHRhcmVhIgp9LAo0OiB7CmxhYmVsJHN0cmluZzogbig5NSksCm5hbWUkc3RyaW5nOiAicGhvbmUiLApyZXF1aXJlZCRib29sOiAwLAp0eXBlJHN0cmluZzogInRleHQiLApoaWRkZW4kYm9vbDogITAKfQp9Cn0sCm9mZmxpbmVfZm9ybTogewptZXNzYWdlJHN0cmluZzogbig5NiksCm1lc3NhZ2VfZGlzYWJsZWQkc3RyaW5nOiBuKDk3KSwKcG9zdF9zdWJtaXRfbWVzc2FnZSRzdHJpbmc6IG4oOTgpLApwcm9maWxlX3JlcXVpcmVkJGJvb2w6ICEwLApmb3JtOiB7CjA6IHsKbmFtZSRzdHJpbmc6ICJuYW1lIiwKcmVxdWlyZWQkYm9vbDogMQp9LAoxOiB7Cm5hbWUkc3RyaW5nOiAiZW1haWwiLApyZXF1aXJlZCRib29sOiAxCn0sCjI6IHsKbGFiZWwkc3RyaW5nOiBuKDk5KSwKbmFtZSRzdHJpbmc6ICJtZXNzYWdlIiwKcmVxdWlyZWQkYm9vbDogMSwKdHlwZSRzdHJpbmc6ICJ0ZXh0YXJlYSIKfSwKMzogewpsYWJlbCRzdHJpbmc6IG4oMTAwKSwKbmFtZSRzdHJpbmc6ICJwaG9uZSIsCnJlcXVpcmVkJGJvb2w6IDAsCnR5cGUkc3RyaW5nOiAidGV4dCIsCmhpZGRlbiRib29sOiAhMAp9Cn0KfSwKcG9zdF9jaGF0X2Zvcm06IHsKaGVhZGVyJHN0cmluZzogbigxMDEpLAptZXNzYWdlJHN0cmluZzogbigxMDIpLApjb21tZW50c19lbmFibGVkJGJvb2w6ICEwLApjb21tZW50c19tZXNzYWdlczogewpnb29kOiB7Cm1lc3NhZ2Ukc3RyaW5nOiBuKDEwMyksCnBsYWNlaG9sZGVyJHN0cmluZzogbigxMDQpCn0sCmJhZDogewptZXNzYWdlJHN0cmluZzogbigxMDUpLApwbGFjZWhvbGRlciRzdHJpbmc6IG4oMTA2KQp9Cn0KfSwKY2FyZF9mb3JtOiB7fQp9Cn0KfQp9Owp0LmV4cG9ydHMgPSBvOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4odCwgZSkgewp0aGlzLm5hbWUgPSB0Owp0aGlzLmxlYWYgPSAvXCRbYS16XSskLy50ZXN0KHQpOwp0aGlzLnBhcmVudE5vZGUgPSBlOwp0aGlzLmxpc3RlbmVyc192YWx1ZSA9IFtdOwp0aGlzLmxpc3RlbmVyc193cml0ZSA9IFtdOwppZiAoIXRoaXMubGVhZikgewp0aGlzLmxpc3RlbmVyc19rZXlzID0gW107CnRoaXMuY2hpbGROb2RlcyA9IHt9Owp0aGlzLmtleXMgPSB7fTsKfQp9CmZ1bmN0aW9uIG8odCwgZSkgewpyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsIGUpOwp9CmZ1bmN0aW9uIHIodCkgewpmb3IgKHZhciBlID0gIiIsIGkgPSAwOyBpIDwgdC5sZW5ndGg7IGkrKykgL15bYS16QS1aXyRdW2EtekEtWjAtOV8kXSokLy50ZXN0KHRbaV0pID8gZSArPSAiLiIgKyB0W2ldIDogZSArPSAiWyIgKyBKU09OLnN0cmluZ2lmeSh0W2ldKSArICJdIjsKcmV0dXJuIGUuc3Vic3RyKDEpOwp9CnZhciBhID0gaSgxNCk7Cm4ucHJvdG90eXBlLmZxbmFtZSA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gcih0aGlzLnBhdGgoKSk7Cn07Cm4ucHJvdG90eXBlLnBhdGggPSBmdW5jdGlvbigpIHsKZm9yICh2YXIgdCA9IHRoaXMsIGUgPSBbIHRoaXMubmFtZSBdOyB0ID0gdC5wYXJlbnROb2RlOyApIGUudW5zaGlmdCh0Lm5hbWUpOwpyZXR1cm4gZTsKfTsKbi5wcm90b3R5cGUuZGVzY2VuZCA9IGZ1bmN0aW9uKHQpIHsKdmFyIGUsIGksIHIsIGEgPSB0aGlzOwoic3RyaW5nIiA9PSB0eXBlb2YgdCAmJiAodCA9IHQuc3BsaXQoIi4iKSk7CmZvciAoaSA9IDAsIHIgPSB0Lmxlbmd0aDsgaSA8IHI7IGkrKykgewplID0gdFtpXTsKbyhhLmNoaWxkTm9kZXMsIGUpIHx8IChhLmNoaWxkTm9kZXNbZV0gPSBuZXcgbihlLCBhKSk7CmEgPSBhLmNoaWxkTm9kZXNbZV07Cn0KcmV0dXJuIGE7Cn07Cm4ucHJvdG90eXBlLiQkID0gbi5wcm90b3R5cGUuZGVzY2VuZDsKbi5wcm90b3R5cGUuJCA9IGZ1bmN0aW9uKHQpIHsKcmV0dXJuIG8odGhpcy5jaGlsZE5vZGVzLCB0KSA/IHRoaXMuY2hpbGROb2Rlc1t0XSA6IHRoaXMuY2hpbGROb2Rlc1t0XSA9IG5ldyBuKHQsIHRoaXMpOwp9OwpuLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuLCBvOwppZiAobnVsbCAhPT0gdCkgewpkZWxldGUgdGhpcy5kZWxldGVkOwpvID0gdGhpcy5wYXJlbnROb2RlOwpmb3IgKDtvICYmIG8uZGVsZXRlZDsgKSB7CmRlbGV0ZSBvLmRlbGV0ZWQ7Cm8gPSBvLnBhcmVudE5vZGU7Cn0KfQppZiAodGhpcy5sZWFmKSB7CnRoaXMudmFsdWUgPSB0Owp0aGlzLm5vdGlmeUxpc3RlbmVycyh0LCBlLCBpKTsKfSBlbHNlIHsKaWYgKG51bGwgPT0gdCkgewp0aGlzLmRlbGV0ZWQgPSAhMDsKZm9yIChuIGluIHRoaXMuY2hpbGROb2RlcykgdGhpcy5jaGlsZE5vZGVzLmhhc093blByb3BlcnR5KG4pICYmIHRoaXMuY2hpbGROb2Rlc1tuXS51cGRhdGUobnVsbCwgITAsIGkpOwp9IGVsc2UgZm9yIChuIGluIHQpIHQuaGFzT3duUHJvcGVydHkobikgJiYgdGhpcy4kKG4pLnVwZGF0ZSh0W25dLCAhMCwgaSk7CnRoaXMubm90aWZ5TGlzdGVuZXJzKHQsIGUsIGkpOwp9Cn07Cm4ucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24odCwgZSwgaSkgewppZiAoImZ1bmN0aW9uIiA9PSB0eXBlb2YgZSkgewppID0gZTsKZSA9ICExOwp9CnZhciBuID0gewpwYXRoOiB0aGlzLnBhdGgoKSwKdmFsdWU6IHQKfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgaSAmJiAobi5mdW5jID0gaSk7CnRoaXMudXBkYXRlKHQsIGUgfHwgITEsIG4pOwp9OwpuLnByb3RvdHlwZS5iaW5kV3JpdGUgPSBmdW5jdGlvbih0KSB7CnRoaXMubGlzdGVuZXJzX3dyaXRlLnB1c2godCk7Cn07Cm4ucHJvdG90eXBlLmJpbmRWYWx1ZSA9IGZ1bmN0aW9uKHQpIHsKdGhpcy5saXN0ZW5lcnNfdmFsdWUucHVzaCh0KTsKdHJ5IHsKdC5jYWxsKHRoaXMsIHRoaXMuZ2V0VmFsdWUoKSk7Cn0gY2F0Y2ggKHQpIHsKYS5maXJlKCJlcnJvciIsIHQpOwp9Cn07Cm4ucHJvdG90eXBlLmJpbmRLZXlzID0gZnVuY3Rpb24odCkgewppZiAoIXRoaXMubGVhZikgewp0aGlzLmxpc3RlbmVyc19rZXlzLnB1c2godCk7CnRyeSB7CnQuY2FsbCh0aGlzLCB0aGlzLmdldEtleXMoKSwgW10pOwp9IGNhdGNoICh0KSB7CmEuZmlyZSgiZXJyb3IiLCB0KTsKfQp9Cn07Cm4ucHJvdG90eXBlLnVuYmluZFZhbHVlID0gZnVuY3Rpb24odCkgewpmb3IgKHZhciBlID0gdGhpcy5saXN0ZW5lcnNfdmFsdWUubGVuZ3RoOyBlLS07ICkgaWYgKHRoaXMubGlzdGVuZXJzX3ZhbHVlW2VdID09IHQpIHsKdGhpcy5saXN0ZW5lcnNfdmFsdWUuc3BsaWNlKGUsIDEpOwpyZXR1cm47Cn0KfTsKbi5wcm90b3R5cGUudW5iaW5kS2V5cyA9IGZ1bmN0aW9uKHQpIHsKaWYgKCF0aGlzLmxlYWYpIGZvciAodmFyIGUgPSB0aGlzLmxpc3RlbmVyc19rZXlzLmxlbmd0aDsgZS0tOyApIGlmICh0aGlzLmxpc3RlbmVyc19rZXlzW2VdID09IHQpIHsKdGhpcy5saXN0ZW5lcnNfa2V5cy5zcGxpY2UoZSwgMSk7CnJldHVybjsKfQp9OwpuLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uKHQsIGUpIHsKc3dpdGNoICh0KSB7CmNhc2UgInZhbHVlIjoKdGhpcy5iaW5kVmFsdWUoZSk7CmJyZWFrOwoKY2FzZSAia2V5cyI6CnRoaXMuYmluZEtleXMoZSk7Cn0KfTsKbi5wcm90b3R5cGUudW4gPSBmdW5jdGlvbih0LCBlKSB7CnN3aXRjaCAodCkgewpjYXNlICJ2YWx1ZSI6CnRoaXMudW5iaW5kVmFsdWUoZSk7CmJyZWFrOwoKY2FzZSAia2V5cyI6CnRoaXMudW5iaW5kS2V5cyhlKTsKfQp9OwpuLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uKHQsIGUpIHsKdGhpcy5saXN0ZW5lcnNbdF0ucHVzaChlKTsKfTsKbi5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbih0LCBlKSB7CmZvciAodmFyIGkgPSB0aGlzLmxpc3RlbmVyc1t0XSwgbiA9IGkubGVuZ3RoOyBuLS07ICkgaVtuXSA9PSBlICYmIGkuc3BsaWNlKG4sIDEpOwp9OwpuLnByb3RvdHlwZS5ub3RpZnlMaXN0ZW5lcnMgPSBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuLCByLCBzOwppZiAoIXRoaXMubGVhZikgewpuID0gW107CnIgPSBbXTsKaWYgKHQpIHsKZm9yIChzIGluIHQpIGlmICh0Lmhhc093blByb3BlcnR5KHMpKSBpZiAobnVsbCAhPT0gdFtzXSkgewppZiAoIW8odGhpcy5rZXlzLCBzKSkgewp0aGlzLmtleXNbc10gPSAxOwpuLnB1c2gocyk7Cn0KfSBlbHNlIGlmIChvKHRoaXMua2V5cywgcykpIHsKZGVsZXRlIHRoaXMua2V5c1tzXTsKci5wdXNoKHMpOwp9Cn0gZWxzZSBmb3IgKHMgaW4gdGhpcy5rZXlzKSBpZiAodGhpcy5rZXlzLmhhc093blByb3BlcnR5KHMpKSB7CmRlbGV0ZSB0aGlzLmtleXNbc107CnIucHVzaChzKTsKfQp9CmZvciAodmFyIF8gPSAwOyBfIDwgdGhpcy5saXN0ZW5lcnNfdmFsdWUubGVuZ3RoOyBfKyspIHRyeSB7CnRoaXMubGlzdGVuZXJzX3ZhbHVlW19dLmNhbGwodGhpcywgdCk7Cn0gY2F0Y2ggKHQpIHsKYS5maXJlKCJlcnJvciIsIHQpOwp9CmlmIChpKSBmb3IgKF8gPSAwOyBfIDwgdGhpcy5saXN0ZW5lcnNfd3JpdGUubGVuZ3RoOyBfKyspIHRyeSB7CnRoaXMubGlzdGVuZXJzX3dyaXRlW19dLmNhbGwodGhpcywgaSk7Cn0gY2F0Y2ggKHQpIHsKYS5maXJlKCJlcnJvciIsIHQpOwp9CmlmICghdGhpcy5sZWFmKSB7CmZvciAoXyA9IDA7IF8gPCB0aGlzLmxpc3RlbmVyc19rZXlzLmxlbmd0aDsgXysrKSB0cnkgewp0aGlzLmxpc3RlbmVyc19rZXlzW19dLmNhbGwodGhpcywgbiwgcik7Cn0gY2F0Y2ggKHQpIHsKYS5maXJlKCJlcnJvciIsIHQpOwp9CmlmICghZSAmJiB0aGlzLnBhcmVudE5vZGUpIHsKdmFyIGwgPSB7fTsKbFt0aGlzLm5hbWVdID0gdDsKdGhpcy5wYXJlbnROb2RlLm5vdGlmeUxpc3RlbmVycyhsLCBlLCBpKTsKfQp9Cn07Cm4ucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24odCkgewppZiAodCkgcmV0dXJuIHRoaXMuZGVzY2VuZCh0KS5nZXRWYWx1ZSgpOwppZiAodGhpcy5sZWFmKSByZXR1cm4gdGhpcy52YWx1ZTsKaWYgKHRoaXMuZGVsZXRlZCkgcmV0dXJuIG51bGw7CnZhciBlLCBpLCBuID0ge307CmZvciAodmFyIG8gaW4gdGhpcy5jaGlsZE5vZGVzKSBpZiAodGhpcy5jaGlsZE5vZGVzLmhhc093blByb3BlcnR5KG8pICYmIG51bGwgIT0gKGkgPSB0aGlzLmNoaWxkTm9kZXNbb10uZ2V0VmFsdWUoKSkpIHsKbltvXSA9IGk7CmUgPSAhMDsKfQpyZXR1cm4gZSA/IG4gOiBudWxsOwp9OwpuLnByb3RvdHlwZS5oYXNLZXkgPSBmdW5jdGlvbih0KSB7CnJldHVybiBvKHRoaXMua2V5cywgdCk7Cn07Cm4ucHJvdG90eXBlLmdldEtleXMgPSBmdW5jdGlvbigpIHsKaWYgKHRoaXMubGVhZikgcmV0dXJuIG51bGw7CnZhciB0ID0gW107CmZvciAodmFyIGUgaW4gdGhpcy5rZXlzKSB0aGlzLmtleXMuaGFzT3duUHJvcGVydHkoZSkgJiYgdC5wdXNoKGUpOwpyZXR1cm4gdDsKfTsKbi5wcm90b3R5cGUuZ2MgPSBmdW5jdGlvbigpIHsKdmFyIHQgPSAhMDsKZm9yICh2YXIgZSBpbiB0aGlzLmNoaWxkTm9kZXMpIGlmICh0aGlzLmNoaWxkTm9kZXMuaGFzT3duUHJvcGVydHkoZSkpIHsKdmFyIGkgPSB0aGlzLmNoaWxkTm9kZXNbZV07CnQgPSBpLmxlYWYgPyAhaS5saXN0ZW5lcnNfdmFsdWUubGVuZ3RoICYmIG51bGwgPT0gaS52YWx1ZSAmJiAoZGVsZXRlIHRoaXMua2V5c1tlXSwgCmRlbGV0ZSB0aGlzLmNoaWxkTm9kZXNbZV0pICYmIHQgOiBpLmdjKCkgJiYgKGRlbGV0ZSB0aGlzLmtleXNbZV0sIGRlbGV0ZSB0aGlzLmNoaWxkTm9kZXNbZV0pICYmIHQ7Cn0KcmV0dXJuIHQgJiYgdGhpcy5kZWxldGVkICYmICF0aGlzLmxpc3RlbmVyc19rZXlzLmxlbmd0aCAmJiAhdGhpcy5saXN0ZW5lcnNfdmFsdWUubGVuZ3RoOwp9OwpuLkRhdGFOb2RlID0gbjsKdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24odCwgZSkgewp2YXIgaSA9IHsKY2FjaGVkX2ZxbmFtZToge30sCmNhY2hlOiB7fSwKY2FjaGVfcmVwbGFjZWQ6IHt9LApwYWxldHRlczoge30sCnByaW9yaXRpZXM6IFtdCn07CnQuZXhwb3J0cyA9IGk7Cn0sIGZ1bmN0aW9uKHQsIGUpIHsKZnVuY3Rpb24gaSh0KSB7CnJldHVybiB0LmpvaW4oIiIpOwp9CnZhciBuID0gewpzcGFjZTogLyAvZywKcmVwZWF0aW5nTGluZWFyR3JhZGllbnQ6IC9eXHMqcmVwZWF0aW5nLWxpbmVhci1ncmFkaWVudC8sCnByZXBlbmRGUU5hbWU6IC9eKFwqXCpzZWxmfCkoPyEuKz9rZXlmcmFtZXMpLywKcHJlUHJlcGVuZEZRTmFtZTogL14oPyFcKlwqc2VsZikvZywKcmVwbGFjZVBzZXVkbzogL1w6XDpcOihbQS1aYS16X1wtLl0rKS9nLApyZXBsYWNlQXBwZW5kOiAvICs/Ji9nLApwbGFjZWhvbGRlcjogLzo6cGxhY2Vob2xkZXIkLywKcmVwbGFjZVZhcmlhYmxlczogLyg/Oig/OihbQS1aYS16XC1dKyk6KT8/KD86JiAqOik/XCRcJChbQS1aYS16MC05X1wuXSspKSg/PTspL2csCnJlcGxhY2VMZWZ0b3ZlcnM6IC8oPzooPzpbQS1aYS16XC1dKzopPz8oPzomICo6KT8oXCRcJFtBLVphLXowLTlfXC5dKj8pPz8pKD89OykvZywKcmVwbGFjZU1lZGlhOiAvKC4qKShAbWVkaWEuKilAbWVkaWFlbmQoLiopLywKY29tbWFTdGFydDogL14sLywKc2VsZWN0b3JDYXNlOiAvKFtBLVpdKykvZywKcmVtb3ZlUHJlZml4OiAvXlwkXCQvLAppc1ZhcmlhYmxlOiAvXCRcJFtBLVphLXowLTlfXSsvCn0sIG8gPSB7ClJFR0VYOiBuLApqb2luOiBpCn07CnQuZXhwb3J0cyA9IG87Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlKSB7CnQgfHwgci5sb2coZSk7Cn0KdmFyIG8gPSBpKDIwKSwgciA9IHsKb2s6IG4sCmlzRnVuY3Rpb246IGZ1bmN0aW9uKHQsIGUpIHsKbihvKHQpLCBlKTsKfQp9OwpyLmxvZyA9IGZ1bmN0aW9uKCkge307CnQuZXhwb3J0cyA9IHI7Cn0sIGZ1bmN0aW9uKHQsIGUpIHsKdmFyIGk7CmkgPSBmdW5jdGlvbigpIHsKcmV0dXJuIHRoaXM7Cn0oKTsKdHJ5IHsKaSA9IGkgfHwgRnVuY3Rpb24oInJldHVybiB0aGlzIikoKSB8fCAoMCwgZXZhbCkoInRoaXMiKTsKfSBjYXRjaCAodCkgewoib2JqZWN0IiA9PSB0eXBlb2Ygd2luZG93ICYmIChpID0gd2luZG93KTsKfQp0LmV4cG9ydHMgPSBpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19qeF91aV9XaWRnZXQgPSBpKDcpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBpLCBvLCByLCBfKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIGksIG8sIHIsIF8pOwppID0gaSB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGwgPSBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFtdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIKfSBdLCBkID0gbFswXS5jYWxsKHRoaXMsIGUsIGksIG51bGwsIHMubWFuZ2xlSURzKGksIGxbM10pLCBsWzRdKSwgdSA9IGQgfHwgdGhpczsKcy5zZXQoaSwgdSk7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CmZvciAodmFyIGMgaW4gdm9pZCAwKSB1W2NdID0gKHZvaWQgMClbY107CnUuZmlyZSAmJiB1LmZpcmUoImluaXQiKTsKdS5zZXRTdHlsZSAmJiB1LnNldFN0eWxlKG8pOwp1LnNldEF0dHJpYnV0ZXMgJiYgdS5zZXRBdHRyaWJ1dGVzKF8pOwoiZnVuY3Rpb24iID09IHR5cGVvZiB1LmFkZENoaWxkcmVuID8gdS5hZGRDaGlsZHJlbihyKSA6IHMuYWRkQ2hpbGRyZW4odSwgcik7CmlmICh1ICE9PSB0aGlzKSB7CnUuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwp1Ll9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiB1Owp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2p4X3VpX1dpZGdldC5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewptYXJnaW5Cb3R0b206ICIkJG1hcmdpbiIsCmNvbG9yOiAiJCRtZW51SGVhZGVyQ29sb3IiCn0sCiImLml0ZW0iOiB7Cm1hcmdpbjogIiQkbWVudUl0ZW1QYWRkaW5nIgp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX2p4X3VpX1dpZGdldCwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfbWVudV9IZWFkZXIiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4oKSB7CmlmICghYS5pc1dlYktpdCB8fCBhLmlzQ2hyb21lKSByZXR1cm4gITE7CnZhciB0ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDsKcmV0dXJuIHQgJiYgInNlbGVjdCIgPT09IHQudGFnTmFtZS50b0xvd2VyQ2FzZSgpOwp9CmZ1bmN0aW9uIG8oKSB7CmlmIChhLmlzSUUgJiYgZG9jdW1lbnQuZG9jdW1lbnRNb2RlICYmICEoYS5pc1N0cmljdCAmJiBkb2N1bWVudC5kb2N1bWVudE1vZGUgPiA3KSkgZm9yICh2YXIgdCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzZWxlY3QiKSwgZSA9IHQubGVuZ3RoOyBlLS07ICkgewp2YXIgaSA9IHRbZV0uc3R5bGUsIG4gPSBpLmRpc3BsYXk7CmkuZGlzcGxheSA9ICJub25lIjsKaS5kaXNwbGF5ID0gbjsKfQp9CmZ1bmN0aW9uIHIoKSB7Cm8oKTsKfQp2YXIgYSA9IGkoOCksIHMgPSB7CnRlc3RTYWZhcmlGb2N1c0J1ZzogbiwKaWVRdWlya3NNb2RlRml4OiByCn07CnQuZXhwb3J0cyA9IHM7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX2p4X3VpX1dpZGdldCA9IGkoNyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX3JhdGluZ0Jhcl9lbW90aWNvbl9FbW90aWNvbiA9IGkoMjk2KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfcmF0aW5nQmFyX3RodW1iX1RodW1iID0gaSgyOTIpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBpLCBvLCByLCBfKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIGksIG8sIHIsIF8pOwppID0gaSB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGwgPSBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19yYXRpbmdCYXJfZW1vdGljb25fRW1vdGljb24sICJlbW90aWNvbl9yYXRpbmdfb3B0aW9ucyIsICIiLCBbXSwgewppZDogImVtb3RpY29uX3JhdGluZ19vcHRpb25zIiwKYWRkQ2xhc3M6ICJidXR0b25fYmFyIiwKdmlzaWJsZTogIm5vbmUiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19yYXRpbmdCYXJfdGh1bWJfVGh1bWIsICJ0aHVtYl9yYXRpbmdfb3B0aW9ucyIsICIiLCBbXSwgewppZDogInRodW1iX3JhdGluZ19vcHRpb25zIiwKYWRkQ2xhc3M6ICJidXR0b25fYmFyIiwKdmlzaWJsZTogIm5vbmUiCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIKfSBdLCBkID0gbFswXS5jYWxsKHRoaXMsIGUsIGksIG51bGwsIHMubWFuZ2xlSURzKGksIGxbM10pLCBsWzRdKSwgdSA9IGQgfHwgdGhpczsKcy5zZXQoaSwgdSk7CnZhciBjID0gcy5nZXQoaSArICJfX2Vtb3RpY29uX3JhdGluZ19vcHRpb25zIiksIGggPSBzLmdldChpICsgIl9fdGh1bWJfcmF0aW5nX29wdGlvbnMiKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIGYgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCh0KSB7CnMgJiYgdS5hdXRvdW5iaW5kKHMsICJ2YWx1ZSIsIG4pOwpzID0gdDsKcyAmJiB1LmF1dG9iaW5kKHMsICJ2YWx1ZSIsIG4pOwp9CmZ1bmN0aW9uIGUoKSB7CnJldHVybiBkOwp9CmZ1bmN0aW9uIGkodCkgewpkID0gdDsKbC5zZXRWYWx1ZSh0KTsKbC51cGRhdGVUaXRsZShkKTsKfQpmdW5jdGlvbiBuKHQpIHsKZCAhPT0gdCAmJiBpKHQpOwp9CmZ1bmN0aW9uIG8oKSB7CnZhciB0ID0gbC5nZXRWYWx1ZSgpOwpkID09PSB0ICYmICh0ID0gbnVsbCk7CmkodCk7CnUuZmlyZSgiY2hhbmdlIiwgdCk7Cn0KZnVuY3Rpb24gcigpIHsKXyA9ICJ0aHVtYiI7CmlmICgidGh1bWIiID09PSBfKSB7Cmguc2hvdygpOwpjLmhpZGUoKTsKbCA9IGg7Cn0gZWxzZSBpZiAoImVtb3RpY29uIiA9PT0gXykgewpoLmhpZGUoKTsKYy5zaG93KCk7CmwgPSBjOwp9IGVsc2UgewpoLmhpZGUoKTsKYy5oaWRlKCk7CmwgPSBudWxsOwp9Cn0KZnVuY3Rpb24gYSh0KSB7CmwuYWRkQ2xhc3ModCk7Cn0KdmFyIHMsIF8sIGwsIGQ7CiFmdW5jdGlvbigpIHsKdS5zZXREYXRhTm9kZSA9IHQ7CnUuZ2V0VmFsdWUgPSBlOwp1LnNldFZhbHVlID0gaTsKdS5zZXRTaXplID0gYTsKcigpOwpsLm9uKCJjaGFuZ2UiLCBvKTsKfSgpOwp9KCk7CmZvciAodmFyIGcgaW4gZikgdVtnXSA9IGZbZ107CnUuZmlyZSAmJiB1LmZpcmUoImluaXQiKTsKdS5zZXRTdHlsZSAmJiB1LnNldFN0eWxlKG8pOwp1LnNldEF0dHJpYnV0ZXMgJiYgdS5zZXRBdHRyaWJ1dGVzKF8pOwoiZnVuY3Rpb24iID09IHR5cGVvZiB1LmFkZENoaWxkcmVuID8gdS5hZGRDaGlsZHJlbihyKSA6IHMuYWRkQ2hpbGRyZW4odSwgcik7CmlmICh1ICE9PSB0aGlzKSB7CnUuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwp1Ll9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiB1Owp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2p4X3VpX1dpZGdldC5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewpwb3NpdGlvbjogInJlbGF0aXZlIiwKIi5idXR0b25fYmFyIjogewp3aWR0aDogIjEwMCUiLAp0ZXh0QWxpZ246ICJjZW50ZXIiCn0KfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9XaWRnZXQsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX1JhdGluZ0JhciIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX2p4X3VpX2h0bWxfZGl2ID0gaSgxMyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX2NoYXRMb2dSZW5kZXJlcl9DaGF0TmFtZSA9IGkoMzI0KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfY2hhdExvZ1JlbmRlcmVyX0NoYXRNZXNzYWdlID0gaSgzMjMpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19jaGF0TG9nUmVuZGVyZXJfUmVzZW5kQ2hhdE1lc3NhZ2UgPSBpKDMyMCk7Cm4uX18kJF9fanhfdWlfaHRtbF9zcGFuID0gaSgzMCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX2NoYXRMb2dSZW5kZXJlcl9DaGF0T3B0aW9uID0gaSgzMTkpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19jaGF0TG9nUmVuZGVyZXJfVHJhbnNsYXRpb25Td2l0Y2ggPSBpKDMxNyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX2NoYXRMb2dSZW5kZXJlcl9DaGF0RmlsZSA9IGkoMzE2KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX2p4X3VpX2h0bWxfZGl2LCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19jaGF0TG9nUmVuZGVyZXJfQ2hhdE5hbWUsICJjaGF0X25hbWUiLCAiIiwgW10sIHsKaWQ6ICJjaGF0X25hbWUiLAphZGRDbGFzczogImNoYXRfbmFtZSIKfSBdLCBbIG4uX18kJF9fanhfdWlfaHRtbF9kaXYsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX2NoYXRMb2dSZW5kZXJlcl9DaGF0TWVzc2FnZSwgImNoYXRfbXNnIiwgIiIsIFtdLCB7CmlkOiAiY2hhdF9tc2ciLAphZGRDbGFzczogImNoYXRfbXNnIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfY2hhdExvZ1JlbmRlcmVyX1Jlc2VuZENoYXRNZXNzYWdlLCAicmVzZW5kIiwgIiIsIFtdLCB7CmlkOiAicmVzZW5kIiwKYWRkQ2xhc3M6ICJyZXNlbmRfY2hhdF9tc2ciCn0gXSBdLCB7CmNsYXNzOiAiY2hhdF9tc2dfaG9sZGVyIgp9IF0sIFsgbi5fXyQkX19qeF91aV9odG1sX3NwYW4sICIiLCAiIiwgW10sIHsKdGV4dDogIiAiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19jaGF0TG9nUmVuZGVyZXJfQ2hhdE9wdGlvbiwgImNoYXRfb3B0aW9uIiwgIiIsIFtdLCB7CmlkOiAiY2hhdF9vcHRpb24iLAphZGRDbGFzczogImNoYXRfb3B0aW9uIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfY2hhdExvZ1JlbmRlcmVyX1RyYW5zbGF0aW9uU3dpdGNoLCAidHJhbnNsYXRpb25fc3dpdGNoIiwgIiIsIFtdLCB7CmlkOiAidHJhbnNsYXRpb25fc3dpdGNoIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfY2hhdExvZ1JlbmRlcmVyX0NoYXRGaWxlLCAiY2hhdF9maWxlIiwgIiIsIFtdLCB7CmlkOiAiY2hhdF9maWxlIiwKYWRkQ2xhc3M6ICJjaGF0X2ZpbGUiCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczptdWkiOiAibWVzaGltLnVpIiwKInhtbG5zOmxvZ1JlbmRlcmVyIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cy5jaGF0TG9nUmVuZGVyZXIiCn0gXSwgdSA9IGRbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBzLm1hbmdsZUlEcyhvLCBkWzNdKSwgZFs0XSksIGMgPSB1IHx8IHRoaXM7CnMuc2V0KG8sIGMpOwp2YXIgaCA9IHMuZ2V0KG8gKyAiX19jaGF0X25hbWUiKSwgZiA9IHMuZ2V0KG8gKyAiX19jaGF0X21zZyIpLCBnID0gcy5nZXQobyArICJfX3Jlc2VuZCIpLCBwID0gcy5nZXQobyArICJfX2NoYXRfb3B0aW9uIiksIG0gPSBzLmdldChvICsgIl9fdHJhbnNsYXRpb25fc3dpdGNoIiksICQgPSBzLmdldChvICsgIl9fY2hhdF9maWxlIik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBiID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQodCkgewppZiAobiAhPT0gdCkgewppZiAobikgewpjLmF1dG91bmJpbmQobiwgInZhbHVlIiwgZSk7CmMuYXV0b3VuYmluZChvLCAidmFsdWUiLCBlKTsKbyA9IG51bGw7Cn0KbiA9IHQ7CmlmIChuKSB7Cm8gPSBhLiQodC5uYW1lKS4kKCJzaG93X29yaWdpbmFsJGJvb2wiKTsKYy5hdXRvYmluZChuLCAidmFsdWUiLCBlKTsKYy5hdXRvYmluZChvLCAidmFsdWUiLCBlKTsKfQpnLnNldERhdGFOb2RlKHQpOwpoLnNldERhdGFOb2RlKHQpOwokLnNldERhdGFOb2RlKHQpOwp9Cn0KZnVuY3Rpb24gZSgpIHsKdmFyIHQgPSBuLiQoIm1zZyRzdHJpbmciKSwgZSA9IG4uJCgib3B0aW9ucyRzdHJpbmciKSwgaSA9IG51bGw7CmlmIChuLmhhc0tleSgidHJhbnNsYXRpb24iKSkgewppID0gbzsKaWYgKCFpLmdldFZhbHVlKCkpIHsKdCA9IG4uJCgidHJhbnNsYXRpb24iKS4kKCJtc2ckc3RyaW5nIik7CmUgPSBuLiQoInRyYW5zbGF0aW9uIikuJCgib3B0aW9ucyRzdHJpbmciKTsKfQp9CmYuc2V0RGF0YU5vZGUodCk7CnAuc2V0RGF0YU5vZGUoZSk7Cm0uc2V0RGF0YU5vZGUoaSk7Cn0KdmFyIG4sIG8sIHIgPSBpKDYpLCBhID0gci5yb290LiQoImxpdmVjaGF0IikuJCgidWkiKS4kKCJjaGFubmVsIikuJCgibG9nIik7CiFmdW5jdGlvbigpIHsKYy5zZXREYXRhTm9kZSA9IHQ7Cn0oKTsKfSgpOwpmb3IgKHZhciB3IGluIGIpIGNbd10gPSBiW3ddOwpjLmZpcmUgJiYgYy5maXJlKCJpbml0Iik7CmMuc2V0U3R5bGUgJiYgYy5zZXRTdHlsZShyKTsKYy5zZXRBdHRyaWJ1dGVzICYmIGMuc2V0QXR0cmlidXRlcyhsKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5hZGRDaGlsZHJlbiA/IGMuYWRkQ2hpbGRyZW4oXykgOiBzLmFkZENoaWxkcmVuKGMsIF8pOwppZiAoYyAhPT0gdGhpcykgewpjLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKYy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gYzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19qeF91aV9odG1sX2Rpdi5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewptYXJnaW5Ub3A6ICIxMHB4IiwKIi5jaGF0X25hbWUiOiB7CmZvbnRXZWlnaHQ6ICJib2xkIiwKIiYiOiAiJCRjaGF0TG9nTmFtZSIKfSwKIiYudmlzaXRvciAuY2hhdF9uYW1lIjogewpjb2xvcjogIiQkY2hhdExvZ1Zpc2l0b3JOYW1lQ29sb3IiCn0sCiImLmFnZW50IC5jaGF0X25hbWUiOiB7CmNvbG9yOiAiJCRjaGF0TG9nQWdlbnROYW1lQ29sb3IiCn0sCiIuY2hhdF9tc2dfaG9sZGVyIjogewp3aGl0ZVNwYWNlOiAicHJlLXdyYXAiLAp3b3JkV3JhcDogImJyZWFrLXdvcmQiLApkaXNwbGF5OiAiaW5saW5lIiwKIi5jaGF0X21zZyI6IHsKIiYiOiAiJCRjaGF0TG9nTXNnIgp9LAoiLnJlc2VuZF9jaGF0X21zZyI6IHsKbWFyZ2luTGVmdDogIjZweCIKfQp9LAoiLmNoYXRfb3B0aW9uIjogewp3b3JkQnJlYWs6ICJicmVhay1hbGwiLAppbnB1dDogewptYXJnaW46ICIycHggNXB4Igp9Cn0sCiIuY2hhdF9maWxlIjogewoibWFyZ2luVG9wLCBtYXJnaW5Cb3R0b20iOiAiNXB4IiwKIiYiOiAiJCRjaGF0TG9nRmlsZSIKfQp9LAoiKipzZWxmLmdyb3VwX2NoaWxkcmVuIjogewptYXJnaW5Ub3A6ICIwcHgiLAoiLmNoYXRfbmFtZSI6IHsKZGlzcGxheTogIm5vbmUiCn0KfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfY2hhdExvZ1JlbmRlcmVyX0Jhc2ljUmVuZGVyZXIiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19jaGF0UGFuZWxfQ2hhdExvZyA9IGkoMTQ5KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X2NoYXRQYW5lbF9DaGF0TG9nLCAiIiwgIiIsIFtdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczpqeCI6ICJqeC5jb250cm9scyIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIsCiJ4bWxuczpjaGF0UGFuZWwiOiAibWVzaGltLndpZGdldC5jb21wb25lbnRzLmNoYXRXaW5kb3cuY2hhdFBhbmVsIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIGggPSBmdW5jdGlvbigpIHsKdmFyIHQgPSBpKDYpLCBlID0gdC5yb290LiQoImxpdmVjaGF0IikuJCgidWkiKS4kKCJoaXN0b3J5IiksIG4gPSBlLiQoImxvZyIpLCBvID0gZS4kKCJsb2dfbGVuZ3RoJGludCIpOwohZnVuY3Rpb24oKSB7CmMuZ2V0RWxlbWVudCgibGlzdCIpLm9uKCJqeDpsaXN0Omxlbmd0aCIsIGZ1bmN0aW9uKHQpIHsKby51cGRhdGUodCk7Cn0pOwpjLnNldERhdGFOb2RlKG4pOwp9KCk7Cn0oKTsKZm9yICh2YXIgZiBpbiBoKSBjW2ZdID0gaFtmXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfY2hhdFBhbmVsX0NoYXRMb2cucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHt9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19jaGF0UGFuZWxfQ2hhdExvZywgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19jaGF0UGFuZWxfSGlzdG9yeUxvZyIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX2p4X3VpX1dpZGdldCA9IGkoNyk7Cm4uX18kJF9fanhfdWlfaHRtbF9kaXYgPSBpKDEzKTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgImlubmVyIiwgIiIsIFtdLCB7CmlkOiAiaW5uZXIiLAphZGRDbGFzczogImlubmVyIiwKdXNlRGlzcGxheTogInRydWUiCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CnZhciBoID0gcy5nZXQobyArICJfX2lubmVyIik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBmID0gZnVuY3Rpb24oKSB7CnZhciB0ID0gaSgxMiksIGUgPSB7ClNNQUxMOiAxNiwKQklHOiAzMAp9LCBuID0gYy5zZXRWaXNpYmxlOwpjLnNldFZpc2libGUgPSBmdW5jdGlvbihlKSB7CmUgPSB0KGUpOwpuLmNhbGwoYywgZSk7Cmguc2V0VmlzaWJsZShlKTsKfTsKYy5zZXRTaXplID0gZnVuY3Rpb24odCkgewp2YXIgaSA9ICJiaWciID09PSB0ID8gZS5CSUcgOiBlLlNNQUxMOwpjLnNldFdpZHRoKGkpOwpjLnNldEhlaWdodChpKTsKfTsKfSgpOwpmb3IgKHZhciBnIGluIGYpIGNbZ10gPSBmW2ddOwpjLmZpcmUgJiYgYy5maXJlKCJpbml0Iik7CmMuc2V0U3R5bGUgJiYgYy5zZXRTdHlsZShyKTsKYy5zZXRBdHRyaWJ1dGVzICYmIGMuc2V0QXR0cmlidXRlcyhsKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5hZGRDaGlsZHJlbiA/IGMuYWRkQ2hpbGRyZW4oXykgOiBzLmFkZENoaWxkcmVuKGMsIF8pOwppZiAoYyAhPT0gdGhpcykgewpjLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKYy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gYzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19qeF91aV9XaWRnZXQucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIkBrZXlmcmFtZXMiOiB7CnNwaW5uZXI6IHsKdG86IHsKdHJhbnNmb3JtOiAicm90YXRlKDM2MGRlZykiCn0KfQp9LAoiKipzZWxmIjogewp3aWR0aDogIjE2cHgiLApoZWlnaHQ6ICIxNnB4IiwKbWFyZ2luOiAiYXV0byIKfSwKIi5pbm5lciI6IHsKd2lkdGg6ICIxMDAlIiwKaGVpZ2h0OiAiMTAwJSIsCmJvcmRlclJhZGl1czogIjUwJSIsCmJvcmRlcjogIjJweCBzb2xpZCB0cmFuc3BhcmVudCIsCmJvcmRlclRvcENvbG9yOiAiI2RkZCIsCmJvcmRlclJpZ2h0Q29sb3I6ICIjZGRkIiwKYW5pbWF0aW9uOiAic3Bpbm5lciAuNnMgbGluZWFyIGluZmluaXRlIgp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX2p4X3VpX1dpZGdldCwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19jaGF0UGFuZWxfU3Bpbm5lciIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpLCBvLCBhKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiBuKSkgcmV0dXJuIG5ldyBuKHQsIGUsIGksIG8sIGEpOwphIHx8IChhID0ge30pOwphLnRhZ05hbWUgfHwgKGEudGFnTmFtZSA9ICJpbnB1dCIpOwphLnR5cGUgfHwgKGEudHlwZSA9ICJjaGVja2JveCIpOwpfLmNhbGwodGhpcywgdCwgZSwgaSwgbywgYSk7CnRoaXMub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CnRoaXMub25BdXRvVmFsaWRhdGUoKTsKfSk7CnIuZW5naW5lSUUgPCA5ICYmIHRoaXMub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CnRoaXMuZmlyZSgiY2hhbmdlIik7Cn0pOwp9CnZhciBvID0gaSgxKSwgciA9IGkoOCksIGEgPSBpKDApLCBzID0gaSgxMiksIF8gPSBpKDQzKTsKbi5wcm90b3R5cGUgPSBhKF8ucHJvdG90eXBlKTsKbyhuLCBfLCB7CmZxbmFtZTogImp4X3VpX0NoZWNrQm94Igp9KTsKbi5wcm90b3R5cGUuZ2V0Q2hlY2tlZCA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gdGhpcy5kb20uY2hlY2tlZDsKfTsKbi5wcm90b3R5cGUuc2V0Q2hlY2tlZCA9IGZ1bmN0aW9uKHQpIHsKdGhpcy5kb20uY2hlY2tlZCA9IHModCk7CnJldHVybiB0aGlzOwp9OwpuLnByb3RvdHlwZS50b2dnbGVDaGVja2VkID0gZnVuY3Rpb24oKSB7CnRoaXMuc2V0Q2hlY2tlZCghdGhpcy5nZXRDaGVja2VkKCkpOwpyZXR1cm4gdGhpczsKfTsKbi5wcm90b3R5cGUuZ2V0SW5pdGlhbENoZWNrZWQgPSBmdW5jdGlvbigpIHsKcmV0dXJuIHIuZW5naW5lSUUgPD0gOCA/IHRoaXMuX2luaXRpYWxDaGVja2VkIDogdGhpcy5kb20uZ2V0QXR0cmlidXRlKCJjaGVja2VkIik7Cn07Cm4ucHJvdG90eXBlLnNldEluaXRpYWxDaGVja2VkID0gZnVuY3Rpb24odCkgewpyLmVuZ2luZUlFIDw9IDggPyB0aGlzLl9pbml0aWFsQ2hlY2tlZCA9IHQgOiB0aGlzLnNldEF0dHJpYnV0ZSgiY2hlY2tlZCIsIHQpOwpyZXR1cm4gdGhpczsKfTsKbi5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbigpIHsKdGhpcy5zZXRDaGVja2VkKHRoaXMuZ2V0SW5pdGlhbENoZWNrZWQoKSkuc2V0VmFsaWRpdHkoITApOwpfLnByb3RvdHlwZS5yZXNldC5jYWxsKHRoaXMpOwp9OwpuLnByb3RvdHlwZS52YWxpZGF0ZSA9IGZ1bmN0aW9uKHQpIHsKdmFyIGUgPSAhdGhpcy5kb20ucmVxdWlyZWQgfHwgdGhpcy5nZXRDaGVja2VkKCk7CiFlICYmIHQgJiYgdGhpcy5mb2N1cygpOwp0aGlzLnNldFZhbGlkaXR5KGUpOwpyZXR1cm4gZTsKfTsKdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fanhfdWlfV2lkZ2V0ID0gaSg3KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICJjb250YWluZXIiLCAiIiwgW10sIHsKaWQ6ICJjb250YWluZXIiCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczptdWkiOiAibWVzaGltLnVpIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIiwKY2xhc3M6ICJnZW5lcmF0ZWRfZm9ybSIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CnZhciBoID0gcy5nZXQobyArICJfX2NvbnRhaW5lciIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgZiA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KCkgewp2YXIgdCwgaSwgYSwgbDsKdCA9IGUuZ2V0VmFsdWUoKTsKaWYgKCF3LmVxdWFsKG4sIHQpKSB7CmguZW1wdHkoKTsKUyA9IHt9OwpBID0ge307Cm4gPSB0Owp2YXIgZCwgdSwgYywgZiwgZzsKZm9yIChhIGluIHQpIGlmICh0Lmhhc093blByb3BlcnR5KGEpKSB7CmkgPSB0W2FdOwpjID0gbnVsbDsKaWYgKENbaS5uYW1lJHN0cmluZ10pIGNvbnRpbnVlOwppZiAoIWpbaS50eXBlJHN0cmluZ10pIGNvbnRpbnVlOwppZiAoIWkubmFtZSRzdHJpbmcpIGNvbnRpbnVlOwppZiAoIWkubGFiZWwkc3RyaW5nKSBjb250aW51ZTsKaWYgKG8gJiYgIWkudmFsdWVfdXNlciRzdHJpbmcgfHwgImNoZWNrYm94IiA9PSBpLnR5cGUkc3RyaW5nICYmICFpLmNoZWNrZWQkYm9vbCkgY29udGludWU7CmQgPSBBW2kubmFtZSRzdHJpbmddID0gbmV3IF8oaCwgbnVsbCwgbnVsbCwgbnVsbCwgewpjbGFzc05hbWU6ICJmaWVsZCBmaWVsZF8iICsgaS50eXBlJHN0cmluZwp9KTsKZC5sYWJlbCA9IHUgPSBuZXcgdihkLCBudWxsLCBudWxsLCBudWxsLCB7CmNsYXNzTmFtZTogImxhYmVsIgp9KTsKZC5sYWJlbF9uYW1lID0gbmV3IHYodSwgbnVsbCwgbnVsbCwgWyBiLmdldChlLiQkKGEgKyAiLmxhYmVsJHN0cmluZyIpKSBdKTsKZC5sYWJlbF9yZXF1aXJlZCA9IG5ldyB2KHUsIG51bGwsIG51bGwsIFsgaS5yZXF1aXJlZCRib29sICYmICFvID8gIiAqIiA6ICIiIF0pOwpkLmlucHV0ID0gU1tpLm5hbWUkc3RyaW5nXSA9IGMgPSBuZXcgaltpLnR5cGUkc3RyaW5nXShkLCBudWxsLCBudWxsLCBudWxsLCB7Cm5hbWU6IGkubmFtZSRzdHJpbmcsCnJlcXVpcmVkOiBpLnJlcXVpcmVkJGJvb2wsCmF1dG9WYWxpZGF0ZTogITAsCnJlYWRPbmx5OiBvCn0pOwooYy5jb250YWluZXIgfHwgYykuYWRkQ2xhc3MoImlucHV0IGlucHV0XyIgKyBpLnR5cGUkc3RyaW5nKTsKYyAmJiBjLnNldExhYmVsRWxlbWVudCh1KTsKc3dpdGNoIChpLnR5cGUkc3RyaW5nKSB7CmNhc2UgImNoZWNrYm94X211bHRpcGxlIjoKY2FzZSAicmFkaW8iOgppLm9wdGlvbnMgJiYgYy5zZXRPcHRpb25zKGkub3B0aW9ucyk7CmJyZWFrOwoKY2FzZSAidGV4dCI6CmNhc2UgImVtYWlsIjoKY2FzZSAidGV4dGFyZWEiOgppLnBsYWNlaG9sZGVyJHN0cmluZyAmJiBjLnNldFBsYWNlaG9sZGVyKGkucGxhY2Vob2xkZXIkc3RyaW5nKTsKaWYgKG8pIGlmIChyLmlzSUUgPD0gNykgewpjLnN0eWxlLm92ZXJmbG93ID0gInZpc2libGUiOwpjLnN0eWxlLmhlaWdodCA9IDA7Cn0gZWxzZSBzKGZ1bmN0aW9uKHQpIHsKcmV0dXJuIGZ1bmN0aW9uKCkgewp0LnNldE1pbkhlaWdodCgiMCIpOwp0LnNldEhlaWdodCgiMCIpOwp0LnNldEhlaWdodCh0LmdldFNjcm9sbEhlaWdodCgpKTsKfTsKfShjKSk7CmJyZWFrOwoKY2FzZSAiY2hlY2tib3giOgppLmNoZWNrZWQkYm9vbCAmJiBjLnNldENoZWNrZWQoaS5jaGVja2VkJGJvb2wpLnNldEluaXRpYWxDaGVja2VkKGkuY2hlY2tlZCRib29sKTsKZC5pbnNlcnRCZWZvcmUoYy5jb250YWluZXIgfHwgYywgdSk7Cm8gJiYgYy5zZXREaXNhYmxlZCghMCk7CmJyZWFrOwoKY2FzZSAic2VsZWN0IjoKZm9yIChsIGluIGkub3B0aW9ucykgaWYgKGkub3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShsKSkgewpnID0gbmV3IHkoYywgbnVsbCwgbnVsbCwgWyBpLm9wdGlvbnNbbF0ubGFiZWwkc3RyaW5nIHx8IGkub3B0aW9uc1tsXS52YWx1ZSRzdHJpbmcgXSwgewp2YWx1ZTogaS5vcHRpb25zW2xdLnZhbHVlJHN0cmluZwp9KTsKKGkudmFsdWUkc3RyaW5nID09IGkub3B0aW9uc1tsXS52YWx1ZSRzdHJpbmcgfHwgaS5vcHRpb25zW2xdLmNoZWNrZWQkYm9vbCkgJiYgZy5zZXRTZWxlY3RlZCghMCk7Cn0KbyAmJiBjLnNldERpc2FibGVkKCEwKTsKYnJlYWs7CgpjYXNlICJkZXBhcnRtZW50IjoKYy5zZXRTZWxlY3RlZEluZGV4KDApOwp9CmlmICghbykgewpkLmVycm9yX21lc3NhZ2UgPSBmID0gbmV3ICQoZCwgbnVsbCwgbnVsbCwgWyBpLmVycm9yX21lc3NhZ2Ukc3RyaW5nIHx8IGIuZXJyb3JfbWVzc2FnZVtpLnR5cGUkc3RyaW5nXSB8fCBiLmVycm9yX21lc3NhZ2UuZGVmYXVsdCBdLCB7CmNsYXNzTmFtZTogImVycm9yX21lc3NhZ2UiCn0pOwpmLnNldFVzZURpc3BsYXkoITApOwpjICYmIGMuc2V0RXJyb3JNZXNzYWdlRWxlbWVudChmKS5oaWRlRXJyb3JNZXNzYWdlKCk7CmYuc2V0VmlzaWJsZSgibm9uZSIpOwp9CmlmIChvICYmIGkudmFsdWVfdXNlciRzdHJpbmcpIHsKYy5zZXRWYWx1ZSAmJiBjLnNldFZhbHVlKGkudmFsdWVfdXNlciRzdHJpbmcgfHwgIiIpOwpjLnNldEluaXRpYWxWYWx1ZSAmJiBjLnNldEluaXRpYWxWYWx1ZShpLnZhbHVlX3VzZXIkc3RyaW5nIHx8ICIiKTsKfSBlbHNlIGlmIChpLnZhbHVlJHN0cmluZykgewpjLnNldFZhbHVlICYmIGMuc2V0VmFsdWUoaS52YWx1ZSRzdHJpbmcpOwpjLnNldEluaXRpYWxWYWx1ZSAmJiBjLnNldEluaXRpYWxWYWx1ZShpLnZhbHVlJHN0cmluZyk7Cn0KaWYgKGkuaGlkZGVuJGJvb2wpIHsKZC5zZXREaXNwbGF5KCJub25lIik7CmQuc2V0UmVxdWlyZWQoITEpOwp9Cn0KdmFyIHAgPSBoLmdldExhc3RDaGlsZCgpOwpwICYmIHAuYWRkQ2xhc3MoImxhc3QtY2hpbGQiKTsKfQp9CnZhciBlLCBuLCBvLCByID0gaSg4KSwgYSA9IGkoMTIpLCBzID0gaSgxNiksIF8gPSBpKDMzOCksIGwgPSBpKDMzNyksIGQgPSBpKDMzNiksIHUgPSBpKDE1OCksIGYgPSBpKDg2KSwgZyA9IGkoNzgpLCBwID0gaSg3OSksIG0gPSBpKDE1NyksICQgPSBpKDgwKSwgYiA9IGkoMTApLCB3ID0gaSg3MyksIHggPSBpKDEwNiksIHYgPSBpKDE5KSwgeSA9IGkoMTU2KSwgaiA9IHsKdGV4dDogZiwKZW1haWw6IHAsCnRleHRhcmVhOiByLmlzSUUgPCA5ID8gZiA6IGcsCmNoZWNrYm94OiB4LApzZWxlY3Q6IG0sCmNoZWNrYm94X211bHRpcGxlOiBsLApyYWRpbzogZCwKZGVwYXJ0bWVudDogdQp9LCBDID0gewpuYW1lOiAxLAplbWFpbDogMSwKcGhvbmU6IDEKfSwgUyA9IHt9LCBBID0ge307CmMuc3VibWl0U2VsZiA9IGZ1bmN0aW9uKCkgewppZiAoZSkgewp2YXIgdCwgaSA9IHt9Owpmb3IgKHZhciBvIGluIG4pIGlmIChuLmhhc093blByb3BlcnR5KG8pKSB7CmlmIChuW29dLmhpZGRlbiRib29sKSBjb250aW51ZTsKdCA9IFNbbltvXS5uYW1lJHN0cmluZ107CmlmICghdCkgY29udGludWU7Cmlbb10gPSB7CnZhbHVlX3VzZXIkc3RyaW5nOiB0LmdldFZhbHVlKCkKfTsKdC5nZXRDaGVja2VkICYmIChpW29dLmNoZWNrZWRfdXNlciRib29sID0gdC5nZXRDaGVja2VkKCkpOwohdC5nZXRPcHRpb25zIHx8IHQgaW5zdGFuY2VvZiB1IHx8IChpW29dLm9wdGlvbnMgPSB0LmdldE9wdGlvbnMoITApKTsKfQplLnVwZGF0ZShpKTsKfQp9OwpjLnN1Ym1pdCA9IGZ1bmN0aW9uKHQsIGUsIGksIG8pIHsKaWYgKHQpIHsKdmFyIHIsIGEsIHMgPSB7fTsKZm9yIChhIGluIG4pIGlmIChuLmhhc093blByb3BlcnR5KGEpKSB7CmlmIChuW2FdLmhpZGRlbiRib29sKSBjb250aW51ZTsKaWYgKG8gJiYgImRlcGFydG1lbnRfaWQiID09IG5bYV0ubmFtZSRzdHJpbmcpIGNvbnRpbnVlOwpyID0gU1tuW2FdLm5hbWUkc3RyaW5nXTsKaWYgKCFyKSBjb250aW51ZTsKaWYgKGkpIHsKc1thXSA9IHsKdmFsdWVfdXNlciRzdHJpbmc6IHIuZ2V0VmFsdWUoKQp9OwpyLmdldENoZWNrZWQgJiYgKHNbYV0uY2hlY2tlZF91c2VyJGJvb2wgPSByLmdldENoZWNrZWQoKSk7CiFyLmdldE9wdGlvbnMgfHwgciBpbnN0YW5jZW9mIHUgfHwgKHNbYV0ub3B0aW9ucyA9IHIuZ2V0T3B0aW9ucyghMCkpOwp9IGVsc2UgewpzW2FdID0gewpuYW1lJHN0cmluZzogblthXS5uYW1lJHN0cmluZywKdmFsdWUkc3RyaW5nOiByLmdldFZhbHVlKCkKfTsKci5nZXRDaGVja2VkICYmIChzW2FdLmNoZWNrZWQkYm9vbCA9IHIuZ2V0Q2hlY2tlZCgpKTsKIXIuZ2V0T3B0aW9ucyB8fCByIGluc3RhbmNlb2YgdSB8fCAoc1thXS5vcHRpb25zID0gci5nZXRPcHRpb25zKCkpOwp9Cn0KaWYgKGUpIHsKdmFyIF8gPSBlLmdldFZhbHVlKCk7CmZvciAoYSBpbiBfKSBpZiAoXy5oYXNPd25Qcm9wZXJ0eShhKSkgewppZiAoIV9bYV0gfHwgIUNbYV0pIGNvbnRpbnVlOwpzW2FdID0gewpuYW1lJHN0cmluZzogYSwKdmFsdWUkc3RyaW5nOiBfW2FdCn07Cn0KfQp0LndyaXRlKHMpOwp9Cn07CmMuc2V0UmVhZE9ubHkgPSBmdW5jdGlvbih0KSB7Cm8gPSBhKHQpOwpjW28gPyAiYWRkQ2xhc3MiIDogInJlbW92ZUNsYXNzIl0oInJlYWRfb25seSIpOwpyZXR1cm4gYzsKfTsKYy5zZXREYXRhTm9kZSA9IGZ1bmN0aW9uKGkpIHsKaWYgKGUgIT0gaSkgewplICYmIGMuYXV0b3VuYmluZChlLCAidmFsdWUiLCB0KTsKZSA9IGk7CmUgJiYgYy5hdXRvYmluZChlLCAidmFsdWUiLCB0KTsKfQp9OwpjLnBvcHVsYXRlU2VsZiA9IGZ1bmN0aW9uKCkgewppZiAoZSkgewp2YXIgdCwgaSA9IGUuZ2V0VmFsdWUoKTsKZm9yICh2YXIgbyBpbiBpKSBpZiAoaS5oYXNPd25Qcm9wZXJ0eShvKSkgewp0ID0gU1tuW29dLm5hbWUkc3RyaW5nXTsKaWYgKCF0KSBjb250aW51ZTsKdC5zZXRWYWx1ZShpW29dLnZhbHVlX3VzZXIkc3RyaW5nKTsKdC5zZXRDaGVja2VkICYmIHQuc2V0Q2hlY2tlZChpW29dLmNoZWNrZWRfdXNlciRib29sKTsKdC5zZXRPcHRpb25zICYmIHQuc2V0T3B0aW9ucyhpW29dLm9wdGlvbnMsICEwKTsKfQp9Cn07CmMucmVzZXQgPSBmdW5jdGlvbigpIHsKaWYgKGUpIHsKdmFyIHQsIGkgPSBlLmdldFZhbHVlKCk7CmZvciAodmFyIG8gaW4gaSkgaWYgKGkuaGFzT3duUHJvcGVydHkobykpIHsKdCA9IFNbbltvXS5uYW1lJHN0cmluZ107CmlmICghdCkgY29udGludWU7CnQucmVzZXQgJiYgdC5yZXNldCgpOwp9Cn0KfTsKYy5nZXRGaWVsZCA9IGZ1bmN0aW9uKHQpIHsKcmV0dXJuIEFbdF07Cn07CmMuZ2V0SW5wdXQgPSBmdW5jdGlvbih0KSB7CnJldHVybiBTW3RdOwp9Owp9KCk7CmZvciAodmFyIGcgaW4gZikgY1tnXSA9IGZbZ107CmMuZmlyZSAmJiBjLmZpcmUoImluaXQiKTsKYy5zZXRTdHlsZSAmJiBjLnNldFN0eWxlKHIpOwpjLnNldEF0dHJpYnV0ZXMgJiYgYy5zZXRBdHRyaWJ1dGVzKGwpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBjLmFkZENoaWxkcmVuID8gYy5hZGRDaGlsZHJlbihfKSA6IHMuYWRkQ2hpbGRyZW4oYywgXyk7CmlmIChjICE9PSB0aGlzKSB7CmMuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpjLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBjOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2p4X3VpX1dpZGdldC5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewoiKnpvb20iOiAxCn0sCiIuaW5wdXRfdGV4dCwgLmlucHV0X2VtYWlsLCB0ZXh0YXJlYSwgc2VsZWN0Ijogewp3aWR0aDogIjEwMCUiCn0sCiIubGFiZWwsIC5lcnJvcl9tZXNzYWdlLCAub3B0aW9uX2xhYmVsIjogewpkaXNwbGF5OiAiYmxvY2siCn0sCiIuaW5wdXRfY2hlY2tib3gsIC5pbnB1dF9pbnB1dF9yYWRpbywgLmlucHV0X2lucHV0X2NoZWNrYm94IjogewpkaXNwbGF5OiAiaW5saW5lLWJsb2NrIiwKZmxvYXQ6ICJsZWZ0IiwKY2xlYXI6ICJib3RoIgp9LAoiLmZpZWxkIjogewptYXJnaW5Cb3R0b206ICIxNXB4IiwKIiYuZmllbGRfcmFkaW8gLmlucHV0LCAmLmZpZWxkX2RlcGFydG1lbnQgLmlucHV0IjogewppbnB1dDogewoid2lkdGgsIGhlaWdodCI6ICIxNnB4Igp9LApsYWJlbDogewpwYWRkaW5nTGVmdDogIjIwcHgiLApsaW5lSGVpZ2h0OiAiMTZweCIKfSwKImxhYmVsLmRpc2FibGVkIjogewpjb2xvcjogIiNjY2MiLAoiJiI6ICIkJGlucHV0RGlzYWJsZWQiCn0KfSwKIiYuZmllbGRfY2hlY2tib3gsICYuZmllbGRfY2hlY2tib3hfbXVsdGlwbGUgLmlucHV0IjogewppbnB1dDogewoid2lkdGgsIGhlaWdodCI6ICIxNnB4Igp9LApsYWJlbDogewpwYWRkaW5nTGVmdDogIjIwcHgiLApsaW5lSGVpZ2h0OiAiMTVweCIKfQp9LAoiJi5maWVsZF9jaGVja2JveCwgJi5maWVsZF9jaGVja2JveF9tdWx0aXBsZSwgJi5maWVsZF9yYWRpbyI6IHsKIiYuaW52YWxpZCI6IHt9Cn0KfSwKIi5sYWJlbCI6IHsKbWFyZ2luQm90dG9tOiAiNXB4IiwKZm9udFdlaWdodDogImJvbGQiCn0sCnRleHRhcmVhOiB7CiJtaW5IZWlnaHQsICpoZWlnaHQiOiAiNzBweCIsCnJlc2l6ZTogInZlcnRpY2FsIgp9LAoiLm9wdGlvbl9sYWJlbCI6IHsKbWFyZ2luQm90dG9tOiAiNXB4IiwKIiY6bGFzdC1jaGlsZCI6IHsKbWFyZ2luQm90dG9tOiAwCn0KfSwKIi5lcnJvcl9tZXNzYWdlIjogewpwYWRkaW5nQm90dG9tOiAiNXB4Igp9LAoiJi5yZWFkX29ubHkiOiB7CiIuZmllbGRfcmFkaW8sIC5maWVsZF9jaGVja2JveF9tdWx0aXBsZSI6IHsKIi5pbnB1dF9pbnB1dF9yYWRpbywgLmlucHV0X2lucHV0X2NoZWNrYm94IjogewpkaXNwbGF5OiAibm9uZSIKfQp9LAp0ZXh0YXJlYTogewpvdmVyZmxvdzogImhpZGRlbiIKfSwKIi5pbnB1dF9jaGVja2JveF9tdWx0aXBsZSI6IHsKbGFiZWw6IHsKZGlzcGxheTogImlubGluZSIsCm1hcmdpblJpZ2h0OiAiMC41ZW0iLAoiJjphZnRlciI6IHsKY29udGVudDogIicsJyIKfSwKIiYubGFzdC1jaGVja2VkIjogewptYXJnaW5SaWdodDogMCwKIiY6YWZ0ZXIiOiB7CmNvbnRlbnQ6ICJub25lIgp9Cn0KfQp9LAoiLmZpZWxkIjogewpwYWRkaW5nOiAiNnB4IiwKbWFyZ2luQm90dG9tOiAwCn0sCiIuaW5wdXRfdGV4dCwgLmlucHV0X2VtYWlsLCB0ZXh0YXJlYSwgLmZha2VfaW5wdXQiOiB7CmJvcmRlcjogIm5vbmUiLApwYWRkaW5nOiAwLApyZXNpemU6ICJub25lIiwKYmFja2dyb3VuZDogInRyYW5zcGFyZW50Igp9LApzZWxlY3Q6IHsKcGFkZGluZzogMCwKYm9yZGVyOiAibm9uZSIsCmhlaWdodDogImF1dG8iLApiYWNrZ3JvdW5kOiAidHJhbnNwYXJlbnQiCn0sCiIub3B0aW9uX2xhYmVsIjogewptYXJnaW5Cb3R0b206IDAsCnBhZGRpbmdMZWZ0OiAiMCAhaW1wb3J0YW50Igp9LAoiLmxhYmVsIjogewpkaXNwbGF5OiAibm9uZSIKfSwKYnV0dG9uOiB7CnBvc2l0aW9uOiAicmVsYXRpdmUiLApiYWNrZ3JvdW5kOiAidHJhbnNwYXJlbnQiCn0KfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9XaWRnZXQsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX0Zvcm0iCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfR3JhdmF0YXIgPSBpKDgzKTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19HcmF2YXRhciwgIiIsICIiLCBbXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6bXVpIjogIm1lc2hpbS51aSIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBoID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQodCkgewpyLnRlc3QodCkgPyBjLnNldERhdGFOb2RlKGEuJCgic2V0dGluZ3MiKS4kKCJjb25jaWVyZ2UiKSkgOiBuLnRlc3QodCkgPyBjLnNldERhdGFOb2RlKGEuJCgidWkiKS4kKCJjYWNoZV9hZ2VudHMiKS4kKHQpKSA6IG8udGVzdCh0KSA/IGMuc2V0RGF0YU5vZGUoYS4kKCJwcm9maWxlIikpIDogYy5zZXREYXRhTm9kZShhLiQoInNldHRpbmdzIikuJCgiY29uY2llcmdlIikpOwpyZXR1cm4gYzsKfQp2YXIgZSA9IGkoNiksIG4gPSAvXmFnZW50L2ksIG8gPSAvXnZpc2l0b3IvaSwgciA9IC9eYWdlbnQ6dHJpZ2dlciQvLCBhID0gZS5yb290LiQoImxpdmVjaGF0Iik7CiFmdW5jdGlvbigpIHsKYy5zZXRNZW1iZXJJZCA9IHQ7Cn0oKTsKfSgpOwpmb3IgKHZhciBmIGluIGgpIGNbZl0gPSBoW2ZdOwpjLmZpcmUgJiYgYy5maXJlKCJpbml0Iik7CmMuc2V0U3R5bGUgJiYgYy5zZXRTdHlsZShyKTsKYy5zZXRBdHRyaWJ1dGVzICYmIGMuc2V0QXR0cmlidXRlcyhsKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5hZGRDaGlsZHJlbiA/IGMuYWRkQ2hpbGRyZW4oXykgOiBzLmFkZENoaWxkcmVuKGMsIF8pOwppZiAoYyAhPT0gdGhpcykgewpjLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKYy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gYzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfR3JhdmF0YXIucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHt9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfR3JhdmF0YXIsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX0F2YXRhciIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gaSgyKSwgXyA9IGkoNCk7Cm4uX18kJF9fanhfdWlfV2lkZ2V0ID0gaSg3KTsKbi5fXyQkX19qeF91aV9MYWJlbCA9IGkoMTkpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19GYWtlSW5wdXQgPSBpKDE2Myk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0F2YXRhciA9IGkoMTA4KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfaWNvbkZvbnRfQnV0dG9uID0gaSgxNjIpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19FcnJvck1lc3NhZ2UgPSBpKDgwKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfVGV4dEZpZWxkID0gaSg4Nik7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0VtYWlsRmllbGQgPSBpKDc5KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfUGhvbmVGaWVsZCA9IGkoMTYxKTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgbCwgZCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBsLCBkKTsKbyA9IG8gfHwgXy5nZW5lcmF0ZUlEKCk7CnZhciB1ID0gcygxODApLCBjID0gcygxODEpLCBoID0gcygxODIpLCBmID0gcygxODMpLCBnID0gcygxODQpLCBwID0gcygxODUpLCBtID0gcygxODYpLCAkID0gcygxODcpLCBiID0gcygxODgpLCB3ID0gcygxODkpLCB4ID0gcygxOTApLCB2ID0gcygxOTEpLCB5ID0gcygxOTIpLCBqID0gWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICJhdmFpbGFibGVfdHlwZXNfZWwiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfTGFiZWwsICJsYWJlbF9sb2dnZWRfb3V0IiwgIiIsIFsgdSwgWyBuLl9fJCRfX2p4X3VpX0xhYmVsLCAibGFiZWxfbG9nZ2VkX291dF9yZXF1aXJlZCIsICIiLCBbXSwgewppZDogImxhYmVsX2xvZ2dlZF9vdXRfcmVxdWlyZWQiCn0gXSBdLCB7CmlkOiAibGFiZWxfbG9nZ2VkX291dCIsCmFkZENsYXNzOiAibGFiZWwgbGFiZWxfbG9nZ2VkX291dCIKfSBdLCBbIG4uX18kJF9fanhfdWlfTGFiZWwsICJsYWJlbF9sb2dnZWRfaW4iLCAiIiwgWyBjIF0sIHsKaWQ6ICJsYWJlbF9sb2dnZWRfaW4iLAphZGRDbGFzczogImxhYmVsIGxhYmVsX2xvZ2dlZF9pbiIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0Zha2VJbnB1dCwgImZha2VfaW5wdXQiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0F2YXRhciwgImF2YXRhciIsICIiLCBbXSwgewppZDogImF2YXRhciIsCmFkZENsYXNzOiAiYXZhdGFyIgp9IF0sIFsgbi5fXyQkX19qeF91aV9MYWJlbCwgImludGVybmFsX3BsYWNlaG9sZGVyIiwgIiIsIFsgaCBdLCB7CmlkOiAiaW50ZXJuYWxfcGxhY2Vob2xkZXIiLAphZGRDbGFzczogImludGVybmFsX3BsYWNlaG9sZGVyIgp9IF0sIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICIiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9MYWJlbCwgImxvZ2dlZF9pbl9uYW1lIiwgIiIsIFtdLCB7CmlkOiAibG9nZ2VkX2luX25hbWUiLAphZGRDbGFzczogImxvZ2dlZF9pbl9uYW1lIgp9IF0sIFsgbi5fXyQkX19qeF91aV9MYWJlbCwgImxvZ2dlZF9pbl9lbWFpbCIsICIiLCBbXSwgewppZDogImxvZ2dlZF9pbl9lbWFpbCIsCmFkZENsYXNzOiAibG9nZ2VkX2luX2VtYWlsIgp9IF0sIFsgbi5fXyQkX19qeF91aV9MYWJlbCwgImxvZ2dlZF9pbl9waG9uZSIsICIiLCBbXSwgewppZDogImxvZ2dlZF9pbl9waG9uZSIsCmFkZENsYXNzOiAibG9nZ2VkX2luX3Bob25lIgp9IF0sIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICJsb2dnZWRfaW5fYWN0aW9ucyIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfaWNvbkZvbnRfQnV0dG9uLCAibG9nZ2VkX2luX2VkaXQiLCAiIiwgW10sIHsKaWQ6ICJsb2dnZWRfaW5fZWRpdCIsCmljb246ICJwZW5jaWwiLAp0aXRsZTogZgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfaWNvbkZvbnRfQnV0dG9uLCAibG9nZ2VkX2luX2NsZWFyIiwgIiIsIFtdLCB7CmlkOiAibG9nZ2VkX2luX2NsZWFyIiwKaWNvbjogImR1c3RiaW4iLAp0aXRsZTogZwp9IF0gXSwgewppZDogImxvZ2dlZF9pbl9hY3Rpb25zIiwKYWRkQ2xhc3M6ICJsb2dnZWRfaW5fYWN0aW9ucyIKfSBdIF0sIHsKYWRkQ2xhc3M6ICJmbG9hdGVyX2lubmVyX3NlcmlvdXNseSIKfSBdIF0sIHsKYWRkQ2xhc3M6ICJmbG9hdGVyX2lubmVyIgp9IF0gXSwgewphZGRDbGFzczogImZsb2F0ZXIiCn0gXSBdLCB7CmlkOiAiZmFrZV9pbnB1dCIsCmFkZENsYXNzOiAiZmFrZV9pbnB1dCIsCnRhYkluZGV4OiAiMCIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0Vycm9yTWVzc2FnZSwgImVycm9yX21lc3NhZ2UiLCAiIiwgWyBwIF0sIHsKaWQ6ICJlcnJvcl9tZXNzYWdlIiwKYWRkQ2xhc3M6ICJlcnJvcl9tZXNzYWdlIiwKdXNlRGlzcGxheTogInRydWUiCn0gXSBdLCB7CmlkOiAiYXZhaWxhYmxlX3R5cGVzX2VsIiwKYWRkQ2xhc3M6ICJmaWVsZCBwcm9maWxlX2ZpZWxkIgp9IF0sIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICJlZGl0aW5nX2VsIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX0xhYmVsLCAibGFiZWxfZWRpdF9pbnRlcm5hbCIsICIiLCBbIHUsIFsgbi5fXyQkX19qeF91aV9MYWJlbCwgImxhYmVsX2VkaXRfaW50ZXJuYWxfcmVxdWlyZWQiLCAiIiwgW10sIHsKaWQ6ICJsYWJlbF9lZGl0X2ludGVybmFsX3JlcXVpcmVkIgp9IF0gXSwgewppZDogImxhYmVsX2VkaXRfaW50ZXJuYWwiLAphZGRDbGFzczogImxhYmVsIGxhYmVsX2VkaXRfaW50ZXJuYWwiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19UZXh0RmllbGQsICJuYW1lIiwgIiIsIFtdLCB7CmlkOiAibmFtZSIsCnBsYWNlaG9sZGVyOiBtLAptYXhMZW5ndGg6ICIyNTUiLAphZGRDbGFzczogImlucHV0X25hbWUgc3RhbmRhbG9uZSBtb2JpbGVfZXJyb3JfaWNvbiIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0Vycm9yTWVzc2FnZSwgIm5hbWVfZXJyb3IiLCAiIiwgWyAkIF0sIHsKaWQ6ICJuYW1lX2Vycm9yIiwKYWRkQ2xhc3M6ICJlcnJvcl9tZXNzYWdlIiwKdXNlRGlzcGxheTogInRydWUiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19FbWFpbEZpZWxkLCAiZW1haWwiLCAiIiwgW10sIHsKaWQ6ICJlbWFpbCIsCnBsYWNlaG9sZGVyOiBiLAphZGRDbGFzczogImlucHV0X2VtYWlsIHN0YW5kYWxvbmUgbW9iaWxlX2Vycm9yX2ljb24iCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19FcnJvck1lc3NhZ2UsICJlbWFpbF9lcnJvciIsICIiLCBbIHcgXSwgewppZDogImVtYWlsX2Vycm9yIiwKYWRkQ2xhc3M6ICJlcnJvcl9tZXNzYWdlIiwKdXNlRGlzcGxheTogInRydWUiCn0gXSBdLCB7CmlkOiAiZWRpdGluZ19lbCIsCmFkZENsYXNzOiAiZWRpdGluZyBmaWVsZCBwcm9maWxlX2ZpZWxkIgp9IF0sIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICJlZGl0X2V4dGVybmFsIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX0xhYmVsLCAiIiwgIiIsIFsgeCBdLCB7CmFkZENsYXNzOiAiZWRpdF9leHRlcm5hbF9sYWJlbCIKfSBdLCBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiZWRpdF9leHRlcm5hbF90eXBlcyIsICIiLCBbXSwgewppZDogImVkaXRfZXh0ZXJuYWxfdHlwZXMiLAphZGRDbGFzczogImVkaXRfZXh0ZXJuYWxfdHlwZXMiCn0gXSBdLCB7CmlkOiAiZWRpdF9leHRlcm5hbCIsCmFkZENsYXNzOiAiZWRpdF9leHRlcm5hbCIKfSBdLCBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAicGhvbmVfZmllbGQiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfTGFiZWwsICJwaG9uZV9sYWJlbCIsICIiLCBbIHYsIFsgbi5fXyQkX19qeF91aV9MYWJlbCwgInBob25lX3JlcXVpcmVkIiwgIiIsIFtdLCB7CmlkOiAicGhvbmVfcmVxdWlyZWQiCn0gXSBdLCB7CmlkOiAicGhvbmVfbGFiZWwiLAphZGRDbGFzczogImxhYmVsIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfUGhvbmVGaWVsZCwgInBob25lIiwgIiIsIFtdLCB7CmlkOiAicGhvbmUiLAptYXhMZW5ndGg6ICIyNSIsCmFkZENsYXNzOiAiaW5wdXRfcGhvbmUgbW9iaWxlX2Vycm9yX2ljb24iCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19FcnJvck1lc3NhZ2UsICJwaG9uZV9lcnJvciIsICIiLCBbIHkgXSwgewppZDogInBob25lX2Vycm9yIiwKYWRkQ2xhc3M6ICJlcnJvcl9tZXNzYWdlIiwKdXNlRGlzcGxheTogInRydWUiCn0gXSBdLCB7CmlkOiAicGhvbmVfZmllbGQiLAphZGRDbGFzczogImZpZWxkIGZpZWxkX3Bob25lIgp9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6bXVpIjogIm1lc2hpbS51aSIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIsCmNsYXNzOiAicHJvZmlsZV9mb3JtIgp9IF0sIEMgPSBqWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgXy5tYW5nbGVJRHMobywgalszXSksIGpbNF0pLCBTID0gQyB8fCB0aGlzOwpfLnNldChvLCBTKTsKdmFyIEEgPSBfLmdldChvICsgIl9fYXZhaWxhYmxlX3R5cGVzX2VsIiksIGsgPSBfLmdldChvICsgIl9fbGFiZWxfbG9nZ2VkX291dCIpLCBJID0gXy5nZXQobyArICJfX2xhYmVsX2xvZ2dlZF9vdXRfcmVxdWlyZWQiKSwgVCA9IF8uZ2V0KG8gKyAiX19sYWJlbF9sb2dnZWRfaW4iKSwgTiA9IF8uZ2V0KG8gKyAiX19mYWtlX2lucHV0IiksIEIgPSBfLmdldChvICsgIl9fYXZhdGFyIiksIEQgPSBfLmdldChvICsgIl9faW50ZXJuYWxfcGxhY2Vob2xkZXIiKSwgRSA9IF8uZ2V0KG8gKyAiX19sb2dnZWRfaW5fbmFtZSIpLCBPID0gXy5nZXQobyArICJfX2xvZ2dlZF9pbl9lbWFpbCIpLCBMID0gXy5nZXQobyArICJfX2xvZ2dlZF9pbl9waG9uZSIpLCBXID0gXy5nZXQobyArICJfX2xvZ2dlZF9pbl9hY3Rpb25zIiksIFAgPSBfLmdldChvICsgIl9fbG9nZ2VkX2luX2VkaXQiKSwgUiA9IF8uZ2V0KG8gKyAiX19sb2dnZWRfaW5fY2xlYXIiKSwgRiA9IF8uZ2V0KG8gKyAiX19lcnJvcl9tZXNzYWdlIiksIE0gPSBfLmdldChvICsgIl9fZWRpdGluZ19lbCIpLCBWID0gXy5nZXQobyArICJfX2xhYmVsX2VkaXRfaW50ZXJuYWwiKSwgSCA9IF8uZ2V0KG8gKyAiX19sYWJlbF9lZGl0X2ludGVybmFsX3JlcXVpcmVkIiksIHEgPSBfLmdldChvICsgIl9fbmFtZSIpLCB6ID0gXy5nZXQobyArICJfX25hbWVfZXJyb3IiKSwgVSA9IF8uZ2V0KG8gKyAiX19lbWFpbCIpLCBHID0gXy5nZXQobyArICJfX2VtYWlsX2Vycm9yIiksIFkgPSBfLmdldChvICsgIl9fZWRpdF9leHRlcm5hbCIpLCBYID0gXy5nZXQobyArICJfX2VkaXRfZXh0ZXJuYWxfdHlwZXMiKSwgWiA9IF8uZ2V0KG8gKyAiX19waG9uZV9maWVsZCIpLCBRID0gXy5nZXQobyArICJfX3Bob25lX2xhYmVsIiksIEsgPSBfLmdldChvICsgIl9fcGhvbmVfcmVxdWlyZWQiKSwgSiA9IF8uZ2V0KG8gKyAiX19waG9uZSIpLCB0dCA9IF8uZ2V0KG8gKyAiX19waG9uZV9lcnJvciIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgZXQgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCgpIHsKdmFyIHQsIGUsIGksIG4gPSBoLmdldFZhbHVlKCk7CmZvciAoZSBpbiBuKSBpZiAobi5oYXNPd25Qcm9wZXJ0eShlKSkgewp0ID0gbltlXTsKaSA9IGl0W3QubmFtZSRzdHJpbmddOwppZiAoIWkpIGNvbnRpbnVlOwppLnNldFJlcXVpcmVkKCEoInJlcXVpcmVkJGJvb2wiIGluIHQpIHx8IHQucmVxdWlyZWQkYm9vbCk7Cmkuc2V0UGxhY2Vob2xkZXIodC5wbGFjZWhvbGRlciRzdHJpbmcgfHwgZXRbdC5uYW1lJHN0cmluZ10pOwp9Cn0KZnVuY3Rpb24gZSgpIHsKdmFyIHQgPSBvdC5nZXRWYWx1ZSgpOwphdCA9IDA7CmlmICh0KSB7CmQgPSB0LmVtYWlsJGJvb2w7CmZvciAodmFyIGUgaW4gaikgaWYgKGouaGFzT3duUHJvcGVydHkoZSkpIGlmICh0W2UgKyAiJGJvb2wiXSkgewphdCsrOwplOwpqW2VdLnNldERpc3BsYXkoIiIpOwp9IGVsc2UgaltlXS5zZXREaXNwbGF5KCJub25lIik7CmEoKTsKfQp9CmZ1bmN0aW9uIG4odCkgewpnID0gdDsKYSgpOwp9CmZ1bmN0aW9uIG8odCkgewpwID0gdDsKYSgpOwp9CmZ1bmN0aW9uIHIodCkgewppZiAodCkgewppZiAoImRpc3BsYXlfbmFtZSRzdHJpbmciIGluIHQpIGlmICh3LmlzRGVmYXVsdE5hbWUodC5kaXNwbGF5X25hbWUkc3RyaW5nKSkgewpFLnNldFRleHQoIiIpOwpxLnNldFZhbHVlKCIiKTsKfSBlbHNlIHsKRS5zZXRUZXh0KHQuZGlzcGxheV9uYW1lJHN0cmluZyB8fCAiIik7CnEuc2V0VmFsdWUodC5kaXNwbGF5X25hbWUkc3RyaW5nIHx8ICIiKTsKfQppZiAoImVtYWlsJHN0cmluZyIgaW4gdCkgewpPLnNldFRleHQodC5lbWFpbCRzdHJpbmcgfHwgIiIpOwpVLnNldFZhbHVlKHQuZW1haWwkc3RyaW5nIHx8ICIiKTsKfQppZiAoInBob25lJHN0cmluZyIgaW4gdCkgewpMLnNldFRleHQodC5waG9uZSRzdHJpbmcgfHwgIiIpOwpKLnNldFZhbHVlKHQucGhvbmUkc3RyaW5nIHx8ICIiKTsKfQphKCk7Cn0KfQpmdW5jdGlvbiBhKCkgewpwICYmICh1ID0gITEpOwprLnNldERpc3BsYXkoZyA/ICJub25lIiA6ICIiKTsKVC5zZXREaXNwbGF5KGcgPyAiIiA6ICJub25lIik7CkEuc2V0RGlzcGxheSh1ID8gIm5vbmUiIDogIiIpOwpCLnNldERpc3BsYXkoZyA/ICIiIDogIm5vbmUiKTsKRC5zZXREaXNwbGF5KCFnICYmIGQgPyAiIiA6ICJub25lIik7Ck0uc2V0RGlzcGxheSh1ID8gIiIgOiAibm9uZSIpOwpZLnNldERpc3BsYXkoIWcgJiYgYXQgPyAiIiA6ICJub25lIik7CmlmICghZyAmJiBhdCkgdSA/IE0uYWRkQ2xhc3MoInplcm9fbWFyZ2luIikgOiBBLmFkZENsYXNzKCJ6ZXJvX21hcmdpbiIpOyBlbHNlIHsKQS5yZW1vdmVDbGFzcygiemVyb19tYXJnaW4iKTsKTS5yZW1vdmVDbGFzcygiemVyb19tYXJnaW4iKTsKfQppZiAoZikgewprLnNldERpc3BsYXkoIm5vbmUiKTsKVC5zZXREaXNwbGF5KCJub25lIik7ClYuc2V0RGlzcGxheSgibm9uZSIpOwp9CkUuc2V0RGlzcGxheShnID8gIiIgOiAibm9uZSIpOwpPLnNldERpc3BsYXkoZyA/ICIiIDogIm5vbmUiKTsKTC5zZXREaXNwbGF5KGcgJiYgUy5kaXNhYmxlZCA/ICIiIDogIm5vbmUiKTsKVy5zZXREaXNwbGF5KCFnIHx8IFMuZGlzYWJsZWQgfHwgaHQuZ2V0VmFsdWUoKSA/ICJub25lIiA6ICIiKTsKZyAmJiAhUy5kaXNhYmxlZCA/IEUuYWRkQ2xhc3MoImJ1dHRvbnNfcGFkIikgOiBFLnJlbW92ZUNsYXNzKCJidXR0b25zX3BhZCIpOwpQLnNldERpc3BsYXkocCA/ICJub25lIiA6ICIiKTsKUy5zZXRDbGFzcygicHJvZmlsZV9mb3JtIik7ClMuZGlzYWJsZWQgJiYgUy5hZGRDbGFzcygiZGlzYWJsZWQiKTsKYyAmJiBTLmFkZENsYXNzKCJtb2JpbGUiKTsKbSAmJiBtLm9uTGFuZ3VhZ2UgJiYgXygpOwpTLmFkZENsYXNzKGcgPyAibG9nZ2VkX2luIiA6ICJsb2dnZWRfb3V0Iik7ClMuYWRkQ2xhc3MoZCA/ICJpbnRlcm5hbF9lbmFibGVkIiA6ICJpbnRlcm5hbF9kaXNhYmxlZCIpOwpTLmFkZENsYXNzKHUgPyAiZWRpdGluZyIgOiAiYXZhaWxhYmxlX3R5cGVzIik7CmF0ID8gMSA9PSBhdCA/IFMuYWRkQ2xhc3MoImV4dGVybmFsX29uZSIpIDogUy5hZGRDbGFzcygiZXh0ZXJuYWxfbWFueSIpIDogUy5hZGRDbGFzcygiZXh0ZXJuYWxfbm9uZSIpOwp9CmZ1bmN0aW9uIHMoKSB7CnZhciB0ID0gIWh0LmdldFZhbHVlKCkgJiYgITEgIT09IHJ0LmdldFZhbHVlKCkgJiYgIVMuZGlzYWJsZWQ7CmwgPSB0OwpaLnNldERpc3BsYXkodCA/ICIiIDogIm5vbmUiKTsKfQpmdW5jdGlvbiBfKCkgewpTW20ucnRsKCkgPyAiYWRkQ2xhc3MiIDogInJlbW92ZUNsYXNzIl0oInJ0bCIpOwp9CnZhciBsLCBkLCB1LCBjLCBoLCBmLCBnLCBwLCBtID0gaSgyKSwgJCA9IGkoMTIpLCBiID0gaSg2KSwgdyA9IGkoMTEpLCB4ID0gaSgxMCksIHYgPSBpKDgxKSwgeSA9IGkoMTYwKSwgaiA9IHsKZmFjZWJvb2s6IHZvaWQgMCwKdHdpdHRlcjogdm9pZCAwLApnb29nbGU6IHZvaWQgMAp9LCBDID0gewpmYWNlYm9vazogImZhY2Vib29rIiwKdHdpdHRlcjogInR3aXR0ZXIiLApnb29nbGU6ICJnb29nbGVfMjAxOSIKfSwgZXQgPSB7Cm5hbWU6IG0oMTkzKSwKZW1haWw6IG0oMTk0KQp9LCBpdCA9IHsKbmFtZTogcSwKZW1haWw6IFUsCnBob25lOiBKCn0sIG50ID0gYi5yb290LiQoImxpdmVjaGF0IikuJCgic2V0dGluZ3MiKS4kKCJsb2dpbiIpLCBvdCA9IG50LiQoImFsbG93ZWRfdHlwZXMiKSwgcnQgPSBudC4kKCJwaG9uZV9kaXNwbGF5JGJvb2wiKSwgYXQgPSAwLCBzdCA9IGIucm9vdCwgX3QgPSBzdC4kKCJsaXZlY2hhdCIpLiQoInVpIiksIGx0ID0gc3QuJCgibGl2ZWNoYXQiKS4kKCJwcm9maWxlIiksIGR0ID0gbHQuJCgibG9nZ2VkX2luJGJvb2wiKSwgdXQgPSBsdC4kKCJhdXRoIikuJCgidHlwZSRzdHJpbmciKSwgY3QgPSBfdC4kKCJtb2JpbGUkYm9vbCIpLCBodCA9IF90LiQoInZpc2l0b3IiKS4kKCJhdXRoZW50aWNhdGVkJGJvb2wiKTsKUy5zdWJtaXQgPSBmdW5jdGlvbigpIHsKdmFyIHQgPSBxLmdldFZhbHVlKCkudHJpbSgpLCBlID0gVS5nZXRWYWx1ZSgpLnRyaW0oKSwgaSA9IEouZ2V0VmFsdWUoKS50cmltKCksIG4gPSB7fTsKaWYgKCFnIHx8IHQgfHwgZSkgewpuLm5hbWUgPSB0OwpuLmVtYWlsID0gZTsKfQpsICYmIChuLnBob25lID0gaSk7CmIubGl2ZWNoYXQudXBkYXRlUHJvZmlsZShuKTsKdSA9ICExOwphKCk7Cn07ClMuc2V0SGlkZUxhYmVsID0gZnVuY3Rpb24oKSB7CmYgPSAhMDsKYSgpOwp9OwpTLnNldERpc2FibGVkID0gZnVuY3Rpb24odCkgewp0ID0gJCh0KTsKUy5kaXNhYmxlZCA9IHQ7ClNbdCA/ICJhZGRDbGFzcyIgOiAicmVtb3ZlQ2xhc3MiXSgiZGlzYWJsZWQiKTsKcS5zZXREaXNhYmxlZCh0KTsKVS5zZXREaXNhYmxlZCh0KTsKcygpOwp9OwpTLnZhbGlkYXRlID0gZnVuY3Rpb24odCkgewpmb3IgKHZhciBlID0gITAsIGkgPSBbIHEsIFUgXSwgbiA9IDAsIG8gPSBpLmxlbmd0aDsgbiA8IG87IG4rKykgaVtuXS52YWxpZGF0ZSghIXQgJiYgZSkgfHwgKGUgPSAhMSk7CmUgPyBBLnJlbW92ZUNsYXNzKCJpbnZhbGlkIikgOiBBLmFkZENsYXNzKCJpbnZhbGlkIik7CkYuc2V0RGlzcGxheShlID8gIm5vbmUiIDogIiIpOwpsICYmICFKLnZhbGlkYXRlKCEhdCAmJiBlKSAmJiAoZSA9ICExKTsKcmV0dXJuIGU7Cn07ClMuc2V0RGF0YU5vZGUgPSBmdW5jdGlvbihlKSB7CmlmIChoICE9IGUpIHsKaCAmJiBTLmF1dG91bmJpbmQoaCwgInZhbHVlIiwgdCk7CmggPSBlOwpoICYmIFMuYXV0b2JpbmQoaCwgInZhbHVlIiwgdCk7Cn0KfTsKUy5nZXRWYWx1ZSA9IGZ1bmN0aW9uKCkgewp2YXIgdCA9IHt9LCBlID0gcS5nZXRWYWx1ZSgpOwp3LmlzRGVmYXVsdE5hbWUoZSkgfHwgKHQubmFtZSA9IGUpOwp0LmVtYWlsID0gVS5nZXRWYWx1ZSgpOwp0LnBob25lID0gSi5nZXRWYWx1ZSgpOwpyZXR1cm4gdDsKfTsKUy5zZXRSZXF1aXJlZCA9IGZ1bmN0aW9uKHQpIHsKdCA9ICQodCk7CnEuc2V0UmVxdWlyZWQodCk7ClUuc2V0UmVxdWlyZWQodCk7Ckkuc2V0VGV4dCh0ID8gIiAqIiA6ICIiKTsKSC5zZXRUZXh0KHQgPyAiICoiIDogIiIpOwppZiAoIXQpIHsKdmFyIGUgPSBxLnZhbGlkYXRlKCExKTsKZSA9IFUudmFsaWRhdGUoITEpICYmIGU7CkYuc2V0RGlzcGxheShlID8gIm5vbmUiIDogIiIpOwp9Cn07ClMuc2V0UGhvbmVSZXF1aXJlZCA9IGZ1bmN0aW9uKHQpIHsKdCA9ICQodCk7Ckouc2V0UmVxdWlyZWQodCk7Cksuc2V0VGV4dCh0ID8gIiAqIiA6ICIiKTsKdCB8fCBKLnZhbGlkYXRlKCExKTsKfTsKIWZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KHQpIHsKaWYgKHQgJiYgKCF0LmtleUNvZGUgfHwgMTMgPT0gdC5rZXlDb2RlKSkgewp2YXIgZSA9IHQudGFyZ2V0Lmp4X3dyYXBwZXI7CmlmIChlICE9IFgpIHsKZm9yICg7ZS5wYXJlbnROb2RlICE9IFg7ICkgZSA9IGUucGFyZW50Tm9kZTsKdmFyIGkgPSBlLmdldE5hbWUgJiYgZS5nZXROYW1lKCk7CmkgJiYgYi5saXZlY2hhdC5kb0V4dGVybmFsTG9naW4oaSk7Cn0KfQp9CmZ1bmN0aW9uIGkodCkgewp0ICYmIHQucHJldmVudERlZmF1bHQoKTsKcS5zZXRWYWxpZGl0eSghMCk7ClUuc2V0VmFsaWRpdHkoITApOwp1ID0gITA7CmEoKTsKcS5mb2N1cygpOwp9CmZ1bmN0aW9uIGwodCkgewp0ICYmIHQucHJldmVudERlZmF1bHQoKTsKYi5saXZlY2hhdC5kb0V4dGVybmFsTG9nb3V0KCk7Ck4uYmx1cigpOwpjdC5nZXRWYWx1ZSgpICYmIGkoKTsKfQp2YXIgaDsKYyA9IGN0LmdldFZhbHVlKCk7CmMgJiYgUy5hZGRDbGFzcygibW9iaWxlIik7CkIuc2V0RGF0YU5vZGUobHQpOwpGLnNldERpc3BsYXkoIm5vbmUiKTsKUy5yZW1vdmVDbGFzcygiZWRpdGluZyIpLmFkZENsYXNzKCJhdmFpbGFibGVfdHlwZXMiKTsKZm9yIChoIGluIGopIGouaGFzT3duUHJvcGVydHkoaCkgJiYgKGpbaF0gPSBuZXcgKGMgPyB5IDogdikoWCwgbnVsbCwgbnVsbCwgYyA/IFsgeC5leHRlcm5hbF9sb2dpbltoXSBdIDogbnVsbCwgYyA/IHsKbmFtZTogaCwKYWRkQ2xhc3M6ICJmbG9hdCBwcm9maWxlX2Zvcm1fZWRpdF9leHRlcm5hbCAiICsgaCwKaWNvbjogQ1toXQp9IDogewpuYW1lOiBoLAphZGRDbGFzczogInByb2ZpbGVfZm9ybV9pY29uICIgKyBoLAppY29uOiBDW2hdLAp0aXRsZTogeC5leHRlcm5hbF9sb2dpbltoXSB8fCBoLApob3ZlcmFibGU6ICEwLAp0YWJJbmRleDogMAp9KSk7Clgub24oImtleXVwIiwgdCk7Clgub24oYyA/ICJ0b3VjaGVuZCIgOiAiY2xpY2siLCB0KTsKTi5vbigiZm9jdXMiLCBmdW5jdGlvbigpIHsKZyB8fCBTLmRpc2FibGVkIHx8IGQgJiYgaSgpOwp9KTsKUC5vbigiY2xpY2siLCBpKTsKUi5vbigiY2xpY2siLCBsKTsKSi5zZXRMYWJlbEVsZW1lbnQoUSk7CnEuc2V0RXJyb3JNZXNzYWdlRWxlbWVudCh6KS5oaWRlRXJyb3JNZXNzYWdlKCk7ClUuc2V0RXJyb3JNZXNzYWdlRWxlbWVudChHKS5oaWRlRXJyb3JNZXNzYWdlKCk7Ckouc2V0RXJyb3JNZXNzYWdlRWxlbWVudCh0dCkuaGlkZUVycm9yTWVzc2FnZSgpOwpTLmF1dG9iaW5kKG90LCAidmFsdWUiLCBlKTsKUy5hdXRvYmluZChkdCwgInZhbHVlIiwgbik7ClMuYXV0b2JpbmQobHQsICJ2YWx1ZSIsIHIpOwpTLmF1dG9iaW5kKHV0LCAidmFsdWUiLCBvKTsKaWYgKG0gJiYgbS5vbkxhbmd1YWdlKSB7Cm0ub25MYW5ndWFnZShfKTsKXygpOwp9ClMuYXV0b2JpbmQoaHQsICJ2YWx1ZSIsIGZ1bmN0aW9uKCkgewpzKCk7CmEoKTsKfSk7ClMuYXV0b2JpbmQocnQsICJ2YWx1ZSIsIGZ1bmN0aW9uKCkgewpzKCk7Cn0pOwp9KCk7Cn0oKTsKZm9yICh2YXIgaXQgaW4gZXQpIFNbaXRdID0gZXRbaXRdOwpTLmZpcmUgJiYgUy5maXJlKCJpbml0Iik7ClMuc2V0U3R5bGUgJiYgUy5zZXRTdHlsZShyKTsKUy5zZXRBdHRyaWJ1dGVzICYmIFMuc2V0QXR0cmlidXRlcyhkKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgUy5hZGRDaGlsZHJlbiA/IFMuYWRkQ2hpbGRyZW4obCkgOiBfLmFkZENoaWxkcmVuKFMsIGwpOwppZiAoUyAhPT0gdGhpcykgewpTLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKUy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gUzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19qeF91aV9XaWRnZXQucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIi5sYWJlbF9sb2dnZWRfb3V0Ijoge30sCiIubGFiZWxfbG9nZ2VkX2luIjoge30sCiIuZmFrZV9pbnB1dCI6IHsKcG9zaXRpb246ICJyZWxhdGl2ZSIsCm92ZXJmbG93OiAiaGlkZGVuIiwKdHJhbnNmb3JtOiAidHJhbnNsYXRlWigwKSIsCiIqem9vbSI6IDEKfSwKIi5hdmF0YXIiOiB7CmZsb2F0OiAibGVmdCIsCiJ3aWR0aCwgaGVpZ2h0IjogIjMycHgiLAptYXJnaW5SaWdodDogIjVweCIsCiImIjogIiQkcHJvZmlsZUZvcm1Mb2dnZWRJbiIKfSwKIiYucnRsIC5hdmF0YXIiOiB7CmZsb2F0OiAicmlnaHQiLAptYXJnaW5SaWdodDogMCwKbWFyZ2luTGVmdDogIjVweCIKfSwKIi5pbnRlcm5hbF9wbGFjZWhvbGRlciI6IHsKZmxvYXQ6ICJsZWZ0IiwKInZlcnRpY2FsLWFsaWduIjogInRvcCIsCmN1cnNvcjogInBvaW50ZXIiCn0sCiImLnJ0bCAuaW50ZXJuYWxfcGxhY2Vob2xkZXIiOiB7CmZsb2F0OiAicmlnaHQiCn0sCiIucHJvZmlsZV9kaXZpZGVyIjogewoidmVydGljYWwtYWxpZ24iOiAidG9wIiwKbWFyZ2luUmlnaHQ6ICI1cHgiCn0sCiImLnJ0bCAucHJvZmlsZV9kaXZpZGVyIjogewptYXJnaW5SaWdodDogMCwKbWFyZ2luTGVmdDogIjVweCIKfSwKIi5pbnRlcm5hbF9wbGFjZWhvbGRlciwgLnByb2ZpbGVfZGl2aWRlciI6IHsKbGluZUhlaWdodDogIjE4cHgiLAoiKmxpbmVIZWlnaHQiOiAiMThweCAhaW1wb3J0YW50Igp9LAoiLmVkaXRpbmciOiB7CiIuaW5wdXRfbmFtZSI6IHt9LAoiLmlucHV0X2VtYWlsIjoge30sCiIuaW5wdXRfcGhvbmUiOiB7fQp9LAoiLmVkaXRfZXh0ZXJuYWwiOiB7Cm1hcmdpblRvcDogIjVweCIsCmNvbG9yOiAiJCRtZW51SGVhZGVyQ29sb3IiLAptYXJnaW5Cb3R0b206ICIxNXB4IiwKIi5lZGl0X2V4dGVybmFsX2xhYmVsIjogewp2ZXJ0aWNhbEFsaWduOiAibWlkZGxlIgp9LAoiLmVkaXRfZXh0ZXJuYWxfdHlwZXMiOiB7CmRpc3BsYXk6ICJpbmxpbmUtYmxvY2siLAp2ZXJ0aWNhbEFsaWduOiAibWlkZGxlIiwKIi5wcm9maWxlX2Zvcm1fZWRpdF9leHRlcm5hbCI6IHsKZGlzcGxheTogImlubGluZS1ibG9jayIKfQp9Cn0sCiImLnJ0bCAuZWRpdF9leHRlcm5hbCI6IHsKIi5lZGl0X2V4dGVybmFsX3R5cGVzIjogewoiLnByb2ZpbGVfZm9ybV9lZGl0X2V4dGVybmFsIjogewptYXJnaW5MZWZ0OiAwLAptYXJnaW5SaWdodDogIjVweCIKfQp9Cn0sCiIubG9nZ2VkX2luX25hbWUiOiB7CmZvbnRXZWlnaHQ6ICJib2xkIgp9LAoiLmxvZ2dlZF9pbl9uYW1lLmJ1dHRvbnNfcGFkIjogewpwYWRkaW5nUmlnaHQ6ICI0MHB4Igp9LAoiLmxvZ2dlZF9pbl9uYW1lLCAubG9nZ2VkX2luX2VtYWlsIjogewpkaXNwbGF5OiAiYmxvY2siLAp3aGl0ZVNwYWNlOiAibm93cmFwIiwKb3ZlcmZsb3c6ICJoaWRkZW4iLAp0ZXh0T3ZlcmZsb3c6ICJlbGxpcHNpcyIKfSwKIiYucnRsIC5sb2dnZWRfaW5fbmFtZSI6IHsKcGFkZGluZ1JpZ2h0OiAwCn0sCiImLnJ0bCAubG9nZ2VkX2luX25hbWUuYnV0dG9uc19wYWQiOiB7CnBhZGRpbmdMZWZ0OiAiNDBweCIKfSwKIi5sb2dnZWRfaW5fYWN0aW9ucyI6IHsKcG9zaXRpb246ICJhYnNvbHV0ZSIsCiJ0b3AsIHJpZ2h0IjogMCwKY29sb3I6ICIkJG1lbnVIZWFkZXJDb2xvciIsCm1hcmdpblRvcDogIjVweCIsCm1hcmdpblJpZ2h0OiAiNXB4IiwKYnV0dG9uOiB7Cm1hcmdpbkxlZnQ6ICI1cHgiLAoiJjpob3ZlciwgJjpmb2N1cyI6IHsKY29sb3I6ICIkJG1lbnVDb2xvciIKfQp9LAoiLmRpdmlkZXIiOiB7CmZvbnRTaXplOiAiJCRmb250U2l6ZVhTIiwKbGluZUhlaWdodDogIjEuNSIsCm1hcmdpbjogIjAgNXB4IiwKY3Vyc29yOiAiZGVmYXVsdCIsCm9wYWNpdHk6IC41Cn0KfSwKIiYucnRsIC5sb2dnZWRfaW5fYWN0aW9ucyI6IHsKcmlnaHQ6ICJhdXRvIiwKbGVmdDogMAp9LAoiLmZsb2F0ZXIiOiB7CmRpc3BsYXk6ICJibG9jayIsCm92ZXJmbG93OiAiaGlkZGVuIiwKIipwb3NpdGlvbiI6ICJyZWxhdGl2ZSAhaW1wb3J0YW50IiwKIi5mbG9hdGVyX2lubmVyIjogewpkaXNwbGF5OiAidGFibGUiLAoiLmZsb2F0ZXJfaW5uZXJfc2VyaW91c2x5IjogewpkaXNwbGF5OiAidGFibGUtY2VsbCIsCnZlcnRpY2FsQWxpZ246ICJtaWRkbGUiCn0KfQp9LAoiJi5pbnRlcm5hbF9lbmFibGVkIjogewoiLmZsb2F0ZXIiOiB7CmZsb2F0OiAicmlnaHQiLAoiKmZsb2F0IjogInJpZ2h0ICFpbXBvcnRhbnQiCn0KfSwKIiYucnRsLmludGVybmFsX2VuYWJsZWQiOiB7CiIuZmxvYXRlciI6IHsKZmxvYXQ6ICJsZWZ0Igp9Cn0sCiImLmxvZ2dlZF9pbiwgJi5pbnRlcm5hbF9kaXNhYmxlZCI6IHsKIi5mbG9hdGVyIjogewoiLmZsb2F0ZXJfaW5uZXIiOiB7CnRhYmxlTGF5b3V0OiAiZml4ZWQiLAp3aWR0aDogIjEwMCUiLApoZWlnaHQ6ICIzMnB4Igp9Cn0KfSwKIiYubG9nZ2VkX2luIjogewoiLmZha2VfaW5wdXQiOiB7CmJhY2tncm91bmQ6ICIkJGZvcm1TdWJtaXR0ZWRCZyIsCmJvcmRlclJhZGl1czogIiQkZm9ybVN1Ym1pdHRlZFJhZGl1cyIsCmJvcmRlcldpZHRoOiAiJCRmb3JtU3VibWl0dGVkQm9yZGVyV2lkdGgiLApib3JkZXJTdHlsZTogIiQkZm9ybVN1Ym1pdHRlZEJvcmRlclN0eWxlIiwKYm9yZGVyQ29sb3I6ICIkJGZvcm1TdWJtaXR0ZWRCb3JkZXJDb2xvciIKfSwKIi5mbG9hdGVyIjogewpmbG9hdDogIm5vbmUgIWltcG9ydGFudCIKfQp9LAoiJi5sb2dnZWRfb3V0LmludGVybmFsX2Rpc2FibGVkLCAmLmxvZ2dlZF9pbiI6IHsKIi5mYWtlX2lucHV0Ijoge30KfSwKIi5wcm9maWxlX2Zvcm1faWNvbiI6IHsKY3Vyc29yOiAicG9pbnRlciIsCmRpc3BsYXk6ICJpbmxpbmUtYmxvY2siLAptYXJnaW5MZWZ0OiAiOHB4IiwKImhlaWdodCwgZm9udFNpemUiOiAiMTdweCIsCmxpbmVIZWlnaHQ6ICIyMXB4IiwKIipwYWRkaW5nIjogIjAgIWltcG9ydGFudCIsCiIqbWFyZ2luTGVmdCI6ICI4cHggIWltcG9ydGFudCIKfSwKIiYucnRsIC5wcm9maWxlX2Zvcm1faWNvbiI6IHsKbWFyZ2luTGVmdDogMCwKbWFyZ2luUmlnaHQ6ICI4cHgiCn0sCiIuZmllbGQiOiB7Cm1hcmdpbkJvdHRvbTogIjE1cHgiLAoiJi5sYXN0LWNoaWxkIjogewptYXJnaW5Cb3R0b206IDAKfSwKIiYucHJvZmlsZV9maWVsZCI6IHsKIipwYWRkaW5nIjogIjAgIWltcG9ydGFudCIsCiImLmludmFsaWQiOiB7fSwKIiYuemVyb19tYXJnaW4iOiB7Cm1hcmdpbkJvdHRvbTogIjAiCn0KfQp9LAoiLmxhYmVsIjogewpkaXNwbGF5OiAiYmxvY2siLAptYXJnaW5Cb3R0b206ICI1cHgiLApmb250V2VpZ2h0OiAiYm9sZCIKfSwKIiYubW9iaWxlIjogewoiLmF2YXRhciI6IHsKIndpZHRoLCBoZWlnaHQiOiAiMzZweCIKfSwKIiYuYXZhaWxhYmxlX3R5cGVzIjogewoiLmZha2VfaW5wdXQiOiB7CiIuaW50ZXJuYWxfcGxhY2Vob2xkZXIiOiB7CmxpbmVIZWlnaHQ6ICIyNXB4Igp9LAoiLnByb2ZpbGVfZGl2aWRlciI6IHsKbGluZUhlaWdodDogIjQ0cHgiLAptYXJnaW5SaWdodDogIjEwcHgiCn0KfSwKIi5mbG9hdGVyIjogewpwb3NpdGlvbjogImFic29sdXRlIiwKdG9wOiAwLApyaWdodDogIi0ycHgiLApoZWlnaHQ6ICIxMDAlIgp9LAoiLnByb2ZpbGVfZm9ybV9pY29uIjogewoibWFyZ2luTGVmdCwgbWFyZ2luUmlnaHQiOiAwLAp3aWR0aDogImF1dG8iLApoZWlnaHQ6ICI0NnB4IiwKcGFkZGluZzogIjEzcHggMTJweCAxMHB4IiwKYm9yZGVyV2lkdGg6ICIwIDAgMCAxcHgiLApib3JkZXJSYWRpdXM6ICIwIiwKIi5pY29uX2ZvbnQiOiB7CnRleHRBbGlnbjogImNlbnRlciIKfSwKIiYuZ29vZ2xlIjogewoicGFkZGluZ0xlZnQsIHBhZGRpbmdSaWdodCI6ICI4cHgiCn0KfSwKIiYubG9nZ2VkX2luIjogewoiLmZha2VfaW5wdXQiOiB7fSwKIi5mbG9hdGVyIjogewpwb3NpdGlvbjogInJlbGF0aXZlIiwKInRvcCwgcmlnaHQsIGxlZnQiOiAwCn0KfQp9LAoiLmxvZ2dlZF9pbl9uYW1lLCAubG9nZ2VkX2luX2VtYWlsIjogewpwYWRkaW5nUmlnaHQ6ICI4MHB4Igp9LAoiLmxvZ2dlZF9pbl9hY3Rpb25zIjogewptYXJnaW46ICIwcHgiLApoZWlnaHQ6ICIxMDAlIiwKYnV0dG9uOiB7CmhlaWdodDogIjEwMCUiLApwYWRkaW5nOiAiMCA1cHgiCn0KfSwKIi5lZGl0aW5nIjogewoiLm5hbWVfY29udGFpbmVyLCAuZW1haWxfY29udGFpbmVyIjogewpwb3NpdGlvbjogInJlbGF0aXZlIiwKImlucHV0LmludmFsaWQgfiAuZXJyb3JfaWNvbiI6IHsKZGlzcGxheTogImJsb2NrIgp9Cn0KfSwKIi5lZGl0X2V4dGVybmFsIjogewptYXJnaW5Cb3R0b206ICIxNXB4IiwKIi5lZGl0X2V4dGVybmFsX3R5cGVzIjogewpkaXNwbGF5OiAiYmxvY2siLAptYXJnaW5Ub3A6ICIxMHB4Igp9Cn0KfSwKIiYucnRsLm1vYmlsZSI6IHsKIi5mbG9hdGVyIjogewpyaWdodDogImF1dG8iLApsZWZ0OiAiLTJweCIKfSwKIi5wcm9maWxlX2RpdmlkZXIiOiB7Cm1hcmdpblJpZ2h0OiAwLAptYXJnaW5MZWZ0OiAiMTBweCIKfSwKIi5sb2dnZWRfaW5fbmFtZSwgLmxvZ2dlZF9pbl9lbWFpbCI6IHsKcGFkZGluZ1JpZ2h0OiAwLApwYWRkaW5nTGVmdDogIjgwcHgiCn0sCiImLmF2YWlsYWJsZV90eXBlcyI6IHsKIi5wcm9maWxlX2Zvcm1faWNvbiI6IHsKYm9yZGVyV2lkdGg6ICIwIDFweCAwIDAiCn0KfQp9LAoiJi5kaXNhYmxlZCI6IHsKIi5maWVsZCI6IHsKbWFyZ2luQm90dG9tOiAwCn0sCiIuZmFrZV9pbnB1dCI6IHsKYm9yZGVyOiAibm9uZSIsCmJhY2tncm91bmQ6ICJ0cmFuc3BhcmVudCIKfSwKIi5maWVsZF9waG9uZSI6IHsKZGlzcGxheTogIm5vbmUiCn0KfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9XaWRnZXQsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX2Zvcm1fUHJvZmlsZSIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpLCBvLCBhKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiBuKSkgcmV0dXJuIG5ldyBuKHQsIGUsIGksIG8sIGEpOwppZiAoIW4uX19qeF9famNzc19nZW5lcmF0ZWQpIHsKci5nZW5lcmF0ZSh0aGlzLCBuLnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIG4uX19qeF9famNzcywgbnVsbCwgbik7Cm4uX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQpzLmNhbGwodGhpcywgdCwgZSwgaSwgbywgYSk7CnZhciBsID0gdGhpczsKdGhpcy4kY29ubmVjdGlvbl9tZXNzYWdlID0gXy5yb290LiQoImNvbm5lY3Rpb24iKS4kKCJtZXNzYWdlJHN0cmluZyIpOwp0aGlzLmNvbm5lY3RlZF9zdWJtaXRzID0gW107CnRoaXMub24oInN1Ym1pdCIsIGZ1bmN0aW9uKHQpIHsKbC5oYW5kbGVTdWJtaXQodCk7Cn0pOwp0aGlzLm9uRGVzdHJ1Y3Rpb24oZnVuY3Rpb24oKSB7CmwuY29ubmVjdGVkX3N1Ym1pdHMgPSBudWxsOwp9KTsKfQp2YXIgbyA9IGkoMSksIHIgPSBpKDMpLCBhID0gaSgwKSwgcyA9IGkoNDIpLCBfID0gaSg2KTsKbi5fX2p4X19qY3NzID0ge307Cm4ucHJvdG90eXBlID0gYShzLnByb3RvdHlwZSk7Cm8obiwgcywgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfQ29ubkF3YXJlRm9ybSIKfSk7Cm4ucHJvdG90eXBlLl9fanhfX3N1cGVyID0gczsKbi5wcm90b3R5cGUub25Db25uZWN0ZWRBbmRTdWJtaXQgPSBmdW5jdGlvbih0KSB7CnRoaXMuY29ubmVjdGVkX3N1Ym1pdHMucHVzaCh0KTsKfTsKbi5wcm90b3R5cGUuaGFuZGxlU3VibWl0ID0gZnVuY3Rpb24odCkgewppZiAoIXRoaXMuJGNvbm5lY3Rpb25fbWVzc2FnZS5nZXRWYWx1ZSgpKSBmb3IgKHZhciBlID0gMDsgZSA8IHRoaXMuY29ubmVjdGVkX3N1Ym1pdHMubGVuZ3RoOyBlKyspIHRoaXMuY29ubmVjdGVkX3N1Ym1pdHNbZV0odCk7IGVsc2UgdC5wcmV2ZW50RGVmYXVsdCgpOwp9Owp0LmV4cG9ydHMgPSBuOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19qeF91aV9XaWRnZXQgPSBpKDcpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBpLCBvLCByLCBfKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIGksIG8sIHIsIF8pOwppID0gaSB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGwgPSBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFtdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCnNlbGVjdGFibGU6ICJmYWxzZSIKfSBdLCBkID0gbFswXS5jYWxsKHRoaXMsIGUsIGksIG51bGwsIHMubWFuZ2xlSURzKGksIGxbM10pLCBsWzRdKSwgdSA9IGQgfHwgdGhpczsKcy5zZXQoaSwgdSk7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CmZvciAodmFyIGMgaW4gdm9pZCAwKSB1W2NdID0gKHZvaWQgMClbY107CnUuZmlyZSAmJiB1LmZpcmUoImluaXQiKTsKdS5zZXRTdHlsZSAmJiB1LnNldFN0eWxlKG8pOwp1LnNldEF0dHJpYnV0ZXMgJiYgdS5zZXRBdHRyaWJ1dGVzKF8pOwoiZnVuY3Rpb24iID09IHR5cGVvZiB1LmFkZENoaWxkcmVuID8gdS5hZGRDaGlsZHJlbihyKSA6IHMuYWRkQ2hpbGRyZW4odSwgcik7CmlmICh1ICE9PSB0aGlzKSB7CnUuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwp1Ll9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiB1Owp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2p4X3VpX1dpZGdldC5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewpjb2xvcjogIiQkdG9hc3RDb2xvciIsCmJhY2tncm91bmQ6ICIkJHRvYXN0QmciLApwYWRkaW5nOiAiJCR0b2FzdFBhZGRpbmciLApib3JkZXJXaWR0aDogIiQkdG9hc3RCb3JkZXJXaWR0aCIsCmJvcmRlclN0eWxlOiAiJCR0b2FzdEJvcmRlclN0eWxlIiwKYm9yZGVyQ29sb3I6ICIkJHRvYXN0Qm9yZGVyQ29sb3IiLApib3JkZXJSYWRpdXM6ICIkJHRvYXN0UmFkaXVzIiwKYm94U2hhZG93OiAiJCR0b2FzdFNoYWRvdyIKfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9XaWRnZXQsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX1RvYXN0Igp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQsIGUsIGksIG8sIHIpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIG4pKSByZXR1cm4gbmV3IG4odCwgZSwgaSwgbywgcik7CnIgfHwgKHIgPSB7fSk7CnIudGFnTmFtZSA9ICJpbWciOwphLmNhbGwodGhpcywgdCwgZSwgaSwgbywgcik7Cn0KdmFyIG8gPSBpKDEpLCByID0gaSgwKSwgYSA9IGkoMjMpOwpuLnByb3RvdHlwZSA9IHIoYS5wcm90b3R5cGUpOwpvKG4sIGEsIHsKZnFuYW1lOiAianhfdWlfaHRtbF9pbWciCn0pOwp0LmV4cG9ydHMgPSBuOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CihmdW5jdGlvbih0KSB7CihmdW5jdGlvbigpIHsKdmFyIGksIG4sIG8sIHIsIGEsIHMsIF8sIGwsIGQsIHUsIGMsIGgsIGYsIGcsIHAsIG0sICQsIGIsIHcsIHgsIHYsIHksIGosIEMsIFMsIEEsIGssIEksIFQsIE4sIEIsIEQsIEUsIE8sIEwsIFcsIFAsIFIsIEY7CkIgPSB2b2lkIDAgIT09IGUgJiYgbnVsbCAhPT0gZSA/IGUgOiB0aGlzOwpsID0gbnVsbCAhPSAoVyA9IEIuY2hyb21hKSA/IFcgOiBCLmNocm9tYSA9IHt9Owp2b2lkIDAgIT09IHQgJiYgbnVsbCAhPT0gdCAmJiAodC5leHBvcnRzID0gbCk7CmkgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCh0LCBlLCBpLCBuKSB7CnZhciBvLCByOwpvID0gdGhpczsKbnVsbCA9PSB0ICYmIG51bGwgPT0gZSAmJiBudWxsID09IGkgJiYgbnVsbCA9PSBuICYmICh0ID0gWyAyNTUsIDAsIDI1NSBdKTsKaWYgKCJhcnJheSIgPT09IEQodCkgJiYgMyA9PT0gdC5sZW5ndGgpIHsKbnVsbCA9PSBuICYmIChuID0gZSk7CnIgPSB0LCB0ID0gclswXSwgZSA9IHJbMV0sIGkgPSByWzJdOwp9CiJzdHJpbmciID09PSBEKHQpID8gbiA9ICJoZXgiIDogbnVsbCA9PSBuICYmIChuID0gInJnYiIpOwoicmdiIiA9PT0gbiA/IG8uX3JnYiA9IFsgdCwgZSwgaSBdIDogImhzbCIgPT09IG4gPyBvLl9yZ2IgPSBnKHQsIGUsIGkpIDogImhzdiIgPT09IG4gPyBvLl9yZ2IgPSBwKHQsIGUsIGkpIDogImhleCIgPT09IG4gPyBvLl9yZ2IgPSBoKHQpIDogImxhYiIgPT09IG4gPyBvLl9yZ2IgPSAkKHQsIGUsIGkpIDogImxjaCIgPT09IG4gPyBvLl9yZ2IgPSB4KHQsIGUsIGkpIDogImhzaSIgPT09IG4gJiYgKG8uX3JnYiA9IGYodCwgZSwgaSkpOwpkKG8uX3JnYik7Cn0KdC5wcm90b3R5cGUucmdiID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLl9yZ2I7Cn07CnQucHJvdG90eXBlLmhleCA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gQyh0aGlzLl9yZ2IpOwp9Owp0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gdGhpcy5oZXgoKTsKfTsKdC5wcm90b3R5cGUuaHNsID0gZnVuY3Rpb24oKSB7CnJldHVybiBBKHRoaXMuX3JnYik7Cn07CnQucHJvdG90eXBlLmhzdiA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gayh0aGlzLl9yZ2IpOwp9Owp0LnByb3RvdHlwZS5sYWIgPSBmdW5jdGlvbigpIHsKcmV0dXJuIEkodGhpcy5fcmdiKTsKfTsKdC5wcm90b3R5cGUubGNoID0gZnVuY3Rpb24oKSB7CnJldHVybiBUKHRoaXMuX3JnYik7Cn07CnQucHJvdG90eXBlLmhzaSA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gUyh0aGlzLl9yZ2IpOwp9Owp0LnByb3RvdHlwZS5sdW1pbmFuY2UgPSBmdW5jdGlvbigpIHsKcmV0dXJuIHkodGhpcy5fcmdiKTsKfTsKdC5wcm90b3R5cGUubmFtZSA9IGZ1bmN0aW9uKCkgewp2YXIgdCwgZTsKdCA9IHRoaXMuaGV4KCk7CmZvciAoZSBpbiBsLmNvbG9ycykgaWYgKGwuY29sb3JzLmhhc093blByb3BlcnR5KGUpICYmIHQgPT09IGwuY29sb3JzW2VdKSByZXR1cm4gZTsKcmV0dXJuIHQ7Cn07CnQucHJvdG90eXBlLmludGVycG9sYXRlID0gZnVuY3Rpb24oZSwgaSwgbikgewp2YXIgbywgciwgYSwgcywgXywgbCwgZCwgdSwgYywgaCwgZiwgZywgcDsKdSA9IHRoaXM7Cm51bGwgPT0gbiAmJiAobiA9ICJyZ2IiKTsKInN0cmluZyIgPT09IEQoaSkgJiYgKGkgPSBuZXcgdChpKSk7CmlmICgiaHNsIiA9PT0gbiB8fCAiaHN2IiA9PT0gbiB8fCAibGNoIiA9PT0gbiB8fCAiaHNpIiA9PT0gbikgewppZiAoImhzbCIgPT09IG4pIHsKZyA9IHUuaHNsKCk7CnAgPSBpLmhzbCgpOwp9IGVsc2UgaWYgKCJoc3YiID09PSBuKSB7CmcgPSB1LmhzdigpOwpwID0gaS5oc3YoKTsKfSBlbHNlIGlmICgiaHNpIiA9PT0gbikgewpnID0gdS5oc2koKTsKcCA9IGkuaHNpKCk7Cn0gZWxzZSBpZiAoImxjaCIgPT09IG4pIHsKZyA9IHUubGNoKCk7CnAgPSBpLmxjaCgpOwp9CmlmICgiaCIgPT09IG4uc3Vic3RyKDAsIDEpKSB7CmEgPSBnWzBdLCBoID0gZ1sxXSwgbCA9IGdbMl07CnMgPSBwWzBdLCBmID0gcFsxXSwgZCA9IHBbMl07Cn0gZWxzZSB7CmwgPSBnWzBdLCBoID0gZ1sxXSwgYSA9IGdbMl07CmQgPSBwWzBdLCBmID0gcFsxXSwgcyA9IHBbMl07Cn0KaWYgKGlzTmFOKGEpIHx8IGlzTmFOKHMpKSBpZiAoaXNOYU4oYSkpIGlmIChpc05hTihzKSkgciA9IHZvaWQgMDsgZWxzZSB7CnIgPSBzOwoxICE9PSBsICYmIDAgIT09IGwgfHwgKGMgPSBmKTsKfSBlbHNlIHsKciA9IGE7CjEgIT09IGQgJiYgMCAhPT0gZCB8fCAoYyA9IGgpOwp9IGVsc2UgewpvID0gcyA+IGEgJiYgcyAtIGEgPiAxODAgPyBzIC0gKGEgKyAzNjApIDogcyA8IGEgJiYgYSAtIHMgPiAxODAgPyBzICsgMzYwIC0gYSA6IHMgLSBhOwpyID0gYSArIGUgKiBvOwp9Cm51bGwgPT0gYyAmJiAoYyA9IGggKyBlICogKGYgLSBoKSk7Cl8gPSBsICsgZSAqIChkIC0gbCk7CnJldHVybiAiaCIgPT09IG4uc3Vic3RyKDAsIDEpID8gbmV3IHQociwgYywgXywgbikgOiBuZXcgdChfLCBjLCByLCBuKTsKfQppZiAoInJnYiIgPT09IG4pIHsKZyA9IHUuX3JnYjsKcCA9IGkuX3JnYjsKcmV0dXJuIG5ldyB0KGdbMF0gKyBlICogKHBbMF0gLSBnWzBdKSwgZ1sxXSArIGUgKiAocFsxXSAtIGdbMV0pLCBnWzJdICsgZSAqIChwWzJdIC0gZ1syXSksIG4pOwp9CmlmICgibGFiIiA9PT0gbikgewpnID0gdS5sYWIoKTsKcCA9IGkubGFiKCk7CnJldHVybiBuZXcgdChnWzBdICsgZSAqIChwWzBdIC0gZ1swXSksIGdbMV0gKyBlICogKHBbMV0gLSBnWzFdKSwgZ1syXSArIGUgKiAocFsyXSAtIGdbMl0pLCBuKTsKfQp0aHJvdyAiY29sb3IgbW9kZSAiICsgbiArICIgaXMgbm90IHN1cHBvcnRlZCI7Cn07CnQucHJvdG90eXBlLmRhcmtlbiA9IGZ1bmN0aW9uKHQpIHsKdmFyIGUsIGk7Cm51bGwgPT0gdCAmJiAodCA9IDIwKTsKaSA9IHRoaXM7CmUgPSBpLmxjaCgpOwplWzBdIC09IHQ7CnJldHVybiBsLmxjaChlKTsKfTsKdC5wcm90b3R5cGUuZGFya2VyID0gZnVuY3Rpb24odCkgewpyZXR1cm4gdGhpcy5kYXJrZW4odCk7Cn07CnQucHJvdG90eXBlLmJyaWdodGVuID0gZnVuY3Rpb24odCkgewpudWxsID09IHQgJiYgKHQgPSAyMCk7CnJldHVybiB0aGlzLmRhcmtlbigtdCk7Cn07CnQucHJvdG90eXBlLmJyaWdodGVyID0gZnVuY3Rpb24odCkgewpyZXR1cm4gdGhpcy5icmlnaHRlbih0KTsKfTsKdC5wcm90b3R5cGUuc2F0dXJhdGUgPSBmdW5jdGlvbih0KSB7CnZhciBlLCBpOwpudWxsID09IHQgJiYgKHQgPSAyMCk7CmkgPSB0aGlzOwplID0gaS5sY2goKTsKZVsxXSArPSB0OwpyZXR1cm4gbC5sY2goZSk7Cn07CnQucHJvdG90eXBlLmRlc2F0dXJhdGUgPSBmdW5jdGlvbih0KSB7Cm51bGwgPT0gdCAmJiAodCA9IDIwKTsKcmV0dXJuIHRoaXMuc2F0dXJhdGUoLXQpOwp9OwpyZXR1cm4gdDsKfSgpOwpoID0gZnVuY3Rpb24odCkgewp2YXIgZSwgaSwgbiwgbywgcjsKaWYgKHQubWF0Y2goL14jPyhbQS1GYS1mMC05XXs2fXxbQS1GYS1mMC05XXszfSkkLykpIHsKNCAhPT0gdC5sZW5ndGggJiYgNyAhPT0gdC5sZW5ndGggfHwgKHQgPSB0LnN1YnN0cigxKSk7CmlmICgzID09PSB0Lmxlbmd0aCkgewp0ID0gdC5zcGxpdCgiIik7CnQgPSB0WzBdICsgdFswXSArIHRbMV0gKyB0WzFdICsgdFsyXSArIHRbMl07Cn0KciA9IHBhcnNlSW50KHQsIDE2KTsKbiA9IHIgPj4gMTY7CmkgPSByID4+IDggJiAyNTU7CmUgPSAyNTUgJiByOwpyZXR1cm4gWyBuLCBpLCBlIF07Cn0KaWYgKG8gPSBjKHQpKSByZXR1cm4gbzsKdGhyb3cgInVua25vd24gY29sb3I6ICIgKyB0Owp9OwpjID0gZnVuY3Rpb24odCkgewp2YXIgZSwgaSwgbiwgbzsKaWYgKG51bGwgIT0gbC5jb2xvcnMgJiYgbC5jb2xvcnNbdF0pIHJldHVybiBoKGwuY29sb3JzW3RdKTsKaWYgKG4gPSB0Lm1hdGNoKC9yZ2JcKFxzKihcLT9cZCspLFxzKihcLT9cZCspXHMqLFxzKihcLT9cZCspXHMqXCkvKSkgcmV0dXJuIG4uc2xpY2UoMSwgNCk7CmlmIChuID0gdC5tYXRjaCgvcmdiXChccyooXC0/XGQrKSUsXHMqKFwtP1xkKyklXHMqLFxzKihcLT9cZCspJVxzKlwpLykpIHsKbyA9IG4uc2xpY2UoMSwgNCk7CmZvciAoaSBpbiBvKSBvLmhhc093blByb3BlcnR5KGkpICYmIChvW2ldID0gTWF0aC5yb3VuZCgyLjU1ICogb1tpXSkpOwpyZXR1cm4gbzsKfQppZiAobiA9IHQubWF0Y2goL2hzbFwoXHMqKFwtP1xkKyksXHMqKFwtP1xkKyklXHMqLFxzKihcLT9cZCspJVxzKlwpLykpIHsKZSA9IG4uc2xpY2UoMSwgNCk7CmVbMV0gKj0gLjAxOwplWzJdICo9IC4wMTsKcmV0dXJuIGcoZSk7Cn0KfTsKQyA9IGZ1bmN0aW9uKCkgewp2YXIgdCwgZSwgaSwgbiwgbywgcjsKciA9IEUoYXJndW1lbnRzKSwgaSA9IHJbMF0sIGUgPSByWzFdLCB0ID0gclsyXTsKbyA9IGkgPDwgMTYgfCBlIDw8IDggfCB0OwpuID0gIjAwMDAwMCIgKyBvLnRvU3RyaW5nKDE2KTsKcmV0dXJuICIjIiArIG4uc3Vic3RyKG4ubGVuZ3RoIC0gNik7Cn07CnAgPSBmdW5jdGlvbigpIHsKdmFyIHQsIGUsIGksIG4sIG8sIHIsIGEsIHMsIF8sIGwsIGQsIHUsIGMsIGgsIGYsIGcsIHAsIG07CnUgPSBFKGFyZ3VtZW50cyksIG4gPSB1WzBdLCBfID0gdVsxXSwgZCA9IHVbMl07CmQgKj0gMjU1OwppZiAoMCA9PT0gXykgcyA9IGkgPSB0ID0gZDsgZWxzZSB7CjM2MCA9PT0gbiAmJiAobiA9IDApOwpuID4gMzYwICYmIChuIC09IDM2MCk7Cm4gPCAwICYmIChuICs9IDM2MCk7Cm4gLz0gNjA7Cm8gPSBNYXRoLmZsb29yKG4pOwplID0gbiAtIG87CnIgPSBkICogKDEgLSBfKTsKYSA9IGQgKiAoMSAtIF8gKiBlKTsKbCA9IGQgKiAoMSAtIF8gKiAoMSAtIGUpKTsKc3dpdGNoIChvKSB7CmNhc2UgMDoKYyA9IFsgZCwgbCwgciBdLCBzID0gY1swXSwgaSA9IGNbMV0sIHQgPSBjWzJdOwpicmVhazsKCmNhc2UgMToKaCA9IFsgYSwgZCwgciBdLCBzID0gaFswXSwgaSA9IGhbMV0sIHQgPSBoWzJdOwpicmVhazsKCmNhc2UgMjoKZiA9IFsgciwgZCwgbCBdLCBzID0gZlswXSwgaSA9IGZbMV0sIHQgPSBmWzJdOwpicmVhazsKCmNhc2UgMzoKZyA9IFsgciwgYSwgZCBdLCBzID0gZ1swXSwgaSA9IGdbMV0sIHQgPSBnWzJdOwpicmVhazsKCmNhc2UgNDoKcCA9IFsgbCwgciwgZCBdLCBzID0gcFswXSwgaSA9IHBbMV0sIHQgPSBwWzJdOwpicmVhazsKCmNhc2UgNToKbSA9IFsgZCwgciwgYSBdLCBzID0gbVswXSwgaSA9IG1bMV0sIHQgPSBtWzJdOwp9Cn0KcyA9IE1hdGgucm91bmQocyk7CmkgPSBNYXRoLnJvdW5kKGkpOwp0ID0gTWF0aC5yb3VuZCh0KTsKcmV0dXJuIFsgcywgaSwgdCBdOwp9OwprID0gZnVuY3Rpb24oKSB7CnZhciB0LCBlLCBpLCBuLCBvLCByLCBhLCBzLCBfLCBsOwpsID0gRShhcmd1bWVudHMpLCBhID0gbFswXSwgaSA9IGxbMV0sIHQgPSBsWzJdOwpyID0gTWF0aC5taW4oYSwgaSwgdCk7Cm8gPSBNYXRoLm1heChhLCBpLCB0KTsKZSA9IG8gLSByOwpfID0gbyAvIDI1NTsKaWYgKDAgPT09IG8pIHsKbiA9IHZvaWQgMDsKcyA9IDA7Cn0gZWxzZSB7CnMgPSBlIC8gbzsKYSA9PT0gbyAmJiAobiA9IChpIC0gdCkgLyBlKTsKaSA9PT0gbyAmJiAobiA9IDIgKyAodCAtIGEpIC8gZSk7CnQgPT09IG8gJiYgKG4gPSA0ICsgKGEgLSBpKSAvIGUpOwpuICo9IDYwOwpuIDwgMCAmJiAobiArPSAzNjApOwp9CnJldHVybiBbIG4sIHMsIF8gXTsKfTsKZyA9IGZ1bmN0aW9uKCkgewp2YXIgdCwgZSwgaSwgbiwgbywgciwgYSwgcywgXywgbCwgZCwgdSwgYywgaDsKYyA9IEUoYXJndW1lbnRzKSwgbiA9IGNbMF0sIHMgPSBjWzFdLCByID0gY1syXTsKaWYgKDAgPT09IHMpIGEgPSBpID0gdCA9IDI1NSAqIHI7IGVsc2UgewpkID0gWyAwLCAwLCAwIF07CmUgPSBbIDAsIDAsIDAgXTsKbCA9IHIgPCAuNSA/IHIgKiAoMSArIHMpIDogciArIHMgLSByICogczsKXyA9IDIgKiByIC0gbDsKbiAvPSAzNjA7CmRbMF0gPSBuICsgMSAvIDM7CmRbMV0gPSBuOwpkWzJdID0gbiAtIDEgLyAzOwpmb3IgKG8gPSB1ID0gMDsgdSA8PSAyOyBvID0gKyt1KSB7CmRbb10gPCAwICYmIChkW29dICs9IDEpOwpkW29dID4gMSAmJiAoZFtvXSAtPSAxKTsKNiAqIGRbb10gPCAxID8gZVtvXSA9IF8gKyA2ICogKGwgLSBfKSAqIGRbb10gOiAyICogZFtvXSA8IDEgPyBlW29dID0gbCA6IDMgKiBkW29dIDwgMiA/IGVbb10gPSBfICsgKGwgLSBfKSAqICgyIC8gMyAtIGRbb10pICogNiA6IGVbb10gPSBfOwp9CmggPSBbIE1hdGgucm91bmQoMjU1ICogZVswXSksIE1hdGgucm91bmQoMjU1ICogZVsxXSksIE1hdGgucm91bmQoMjU1ICogZVsyXSkgXSwgCmEgPSBoWzBdLCBpID0gaFsxXSwgdCA9IGhbMl07Cn0KcmV0dXJuIFsgYSwgaSwgdCBdOwp9OwpBID0gZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiwgbywgciwgYSwgcywgXzsKdm9pZCAwICE9PSB0ICYmIDMgPT09IHQubGVuZ3RoICYmIChfID0gdCwgdCA9IF9bMF0sIGUgPSBfWzFdLCBpID0gX1syXSk7CnQgLz0gMjU1OwplIC89IDI1NTsKaSAvPSAyNTU7CmEgPSBNYXRoLm1pbih0LCBlLCBpKTsKciA9IE1hdGgubWF4KHQsIGUsIGkpOwpvID0gKHIgKyBhKSAvIDI7CmlmIChyID09PSBhKSB7CnMgPSAwOwpuID0gdm9pZCAwOwp9IGVsc2UgcyA9IG8gPCAuNSA/IChyIC0gYSkgLyAociArIGEpIDogKHIgLSBhKSAvICgyIC0gciAtIGEpOwp0ID09PSByID8gbiA9IChlIC0gaSkgLyAociAtIGEpIDogZSA9PT0gciA/IG4gPSAyICsgKGkgLSB0KSAvIChyIC0gYSkgOiBpID09PSByICYmIChuID0gNCArICh0IC0gZSkgLyAociAtIGEpKTsKbiAqPSA2MDsKbiA8IDAgJiYgKG4gKz0gMzYwKTsKcmV0dXJuIFsgbiwgcywgbyBdOwp9OwoxODsKYSA9IC45NTA0NzsKcyA9IDE7Cl8gPSAxLjA4ODgzOwokID0gZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiwgbywgciwgbCwgZCwgdSwgYzsKdm9pZCAwICE9PSB0ICYmIDMgPT09IHQubGVuZ3RoICYmICh1ID0gdCwgdCA9IHVbMF0sIGUgPSB1WzFdLCBpID0gdVsyXSk7CnZvaWQgMCAhPT0gdCAmJiAzID09PSB0Lmxlbmd0aCAmJiAoYyA9IHQsIHQgPSBjWzBdLCBlID0gY1sxXSwgaSA9IGNbMl0pOwpsID0gKHQgKyAxNikgLyAxMTY7CnIgPSBsICsgZSAvIDUwMDsKZCA9IGwgLSBpIC8gMjAwOwpyID0gYihyKSAqIGE7CmwgPSBiKGwpICogczsKZCA9IGIoZCkgKiBfOwpvID0gTCgzLjI0MDQ1NDIgKiByIC0gMS41MzcxMzg1ICogbCAtIC40OTg1MzE0ICogZCk7Cm4gPSBMKC0uOTY5MjY2ICogciArIDEuODc2MDEwOCAqIGwgKyAuMDQxNTU2ICogZCk7CmkgPSBMKC4wNTU2NDM0ICogciAtIC4yMDQwMjU5ICogbCArIDEuMDU3MjI1MiAqIGQpOwpyZXR1cm4gWyB2KG8sIDAsIDI1NSksIHYobiwgMCwgMjU1KSwgdihpLCAwLCAyNTUpIF07Cn07CkkgPSBmdW5jdGlvbigpIHsKdmFyIHQsIGUsIGksIG4sIG8sIHIsIGw7CmwgPSBFKGFyZ3VtZW50cyksIGkgPSBsWzBdLCBlID0gbFsxXSwgdCA9IGxbMl07CmkgPSBOKGkpOwplID0gTihlKTsKdCA9IE4odCk7Cm4gPSBPKCguNDEyNDU2NCAqIGkgKyAuMzU3NTc2MSAqIGUgKyAuMTgwNDM3NSAqIHQpIC8gYSk7Cm8gPSBPKCguMjEyNjcyOSAqIGkgKyAuNzE1MTUyMiAqIGUgKyAuMDcyMTc1ICogdCkgLyBzKTsKciA9IE8oKC4wMTkzMzM5ICogaSArIC4xMTkxOTIgKiBlICsgLjk1MDMwNDEgKiB0KSAvIF8pOwpyZXR1cm4gWyAxMTYgKiBvIC0gMTYsIDUwMCAqIChuIC0gbyksIDIwMCAqIChvIC0gcikgXTsKfTsKdyA9IGZ1bmN0aW9uKCkgewp2YXIgdCwgZSwgaSwgbjsKbiA9IEUoYXJndW1lbnRzKSwgaSA9IG5bMF0sIHQgPSBuWzFdLCBlID0gblsyXTsKZSA9IGUgKiBNYXRoLlBJIC8gMTgwOwpyZXR1cm4gWyBpLCBNYXRoLmNvcyhlKSAqIHQsIE1hdGguc2luKGUpICogdCBdOwp9Owp4ID0gZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiwgbywgciwgYSwgcywgXywgbDsKXyA9IHcodCwgZSwgaSksIG4gPSBfWzBdLCBvID0gX1sxXSwgciA9IF9bMl07CmwgPSAkKG4sIG8sIHIpLCBzID0gbFswXSwgYSA9IGxbMV0sIHIgPSBsWzJdOwpyZXR1cm4gWyB2KHMsIDAsIDI1NSksIHYoYSwgMCwgMjU1KSwgdihyLCAwLCAyNTUpIF07Cn07CmIgPSBmdW5jdGlvbih0KSB7CnJldHVybiB0ID4gLjIwNjg5MzAzNCA/IHQgKiB0ICogdCA6ICh0IC0gNCAvIDI5KSAvIDcuNzg3MDM3Owp9OwpPID0gZnVuY3Rpb24odCkgewpyZXR1cm4gdCA+IC4wMDg4NTYgPyBNYXRoLnBvdyh0LCAxIC8gMykgOiA3Ljc4NzAzNyAqIHQgKyA0IC8gMjk7Cn07CkwgPSBmdW5jdGlvbih0KSB7CnJldHVybiBNYXRoLnJvdW5kKDI1NSAqICh0IDw9IC4wMDMwNCA/IDEyLjkyICogdCA6IDEuMDU1ICogTWF0aC5wb3codCwgMSAvIDIuNCkgLSAuMDU1KSk7Cn07Ck4gPSBmdW5jdGlvbih0KSB7CnJldHVybiAodCAvPSAyNTUpIDw9IC4wNDA0NSA/IHQgLyAxMi45MiA6IE1hdGgucG93KCh0ICsgLjA1NSkgLyAxLjA1NSwgMi40KTsKfTsKbSA9IGZ1bmN0aW9uKCkgewp2YXIgdCwgZSwgaSwgbiwgbywgcjsKciA9IEUoYXJndW1lbnRzKSwgbyA9IHJbMF0sIHQgPSByWzFdLCBlID0gclsyXTsKaSA9IE1hdGguc3FydCh0ICogdCArIGUgKiBlKTsKbiA9IE1hdGguYXRhbjIoZSwgdCkgLyBNYXRoLlBJICogMTgwOwpyZXR1cm4gWyBvLCBpLCBuIF07Cn07ClQgPSBmdW5jdGlvbigpIHsKdmFyIHQsIGUsIGksIG4sIG8sIHIsIGE7CnIgPSBFKGFyZ3VtZW50cyksIG8gPSByWzBdLCBpID0gclsxXSwgZSA9IHJbMl07CmEgPSBJKG8sIGksIGUpLCBuID0gYVswXSwgdCA9IGFbMV0sIGUgPSBhWzJdOwpyZXR1cm4gbShuLCB0LCBlKTsKfTsKUyA9IGZ1bmN0aW9uKCkgewp2YXIgdCwgZSwgaSwgbiwgbywgciwgYSwgcywgXzsKXyA9IEUoYXJndW1lbnRzKSwgYSA9IF9bMF0sIGkgPSBfWzFdLCBlID0gX1syXTsKdCA9IDIgKiBNYXRoLlBJOwphIC89IDI1NTsKaSAvPSAyNTU7CmUgLz0gMjU1OwpyID0gTWF0aC5taW4oYSwgaSwgZSk7Cm8gPSAoYSArIGkgKyBlKSAvIDM7CnMgPSAxIC0gciAvIG87CmlmICgwID09PSBzKSBuID0gMDsgZWxzZSB7Cm4gPSAoYSAtIGkgKyAoYSAtIGUpKSAvIDI7Cm4gLz0gTWF0aC5zcXJ0KChhIC0gaSkgKiAoYSAtIGkpICsgKGEgLSBlKSAqIChpIC0gZSkpOwpuID0gTWF0aC5hY29zKG4pOwplID4gaSAmJiAobiA9IHQgLSBuKTsKbiAvPSB0Owp9CnJldHVybiBbIDM2MCAqIG4sIHMsIG8gXTsKfTsKZiA9IGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4sIGEsIHMsIF87Cl8gPSBFKGFyZ3VtZW50cyksIHQgPSBfWzBdLCBlID0gX1sxXSwgaSA9IF9bMl07CnQgLz0gMzYwOwppZiAodCA8IDEgLyAzKSB7Cm4gPSAoMSAtIGUpIC8gMzsKcyA9ICgxICsgZSAqIHUociAqIHQpIC8gdShvIC0gciAqIHQpKSAvIDM7CmEgPSAxIC0gKG4gKyBzKTsKfSBlbHNlIGlmICh0IDwgMiAvIDMpIHsKdCAtPSAxIC8gMzsKcyA9ICgxIC0gZSkgLyAzOwphID0gKDEgKyBlICogdShyICogdCkgLyB1KG8gLSByICogdCkpIC8gMzsKbiA9IDEgLSAocyArIGEpOwp9IGVsc2Ugewp0IC09IDIgLyAzOwphID0gKDEgLSBlKSAvIDM7Cm4gPSAoMSArIGUgKiB1KHIgKiB0KSAvIHUobyAtIHIgKiB0KSkgLyAzOwpzID0gMSAtIChhICsgbik7Cn0KcyA9IHYoaSAqIHMgKiAzKTsKYSA9IHYoaSAqIGEgKiAzKTsKbiA9IHYoaSAqIG4gKiAzKTsKcmV0dXJuIFsgMjU1ICogcywgMjU1ICogYSwgMjU1ICogbiBdOwp9OwpkID0gZnVuY3Rpb24odCkgewp2YXIgZTsKZm9yIChlIGluIHQpIGlmICh0Lmhhc093blByb3BlcnR5KGUpKSB7CnRbZV0gPCAwICYmICh0W2VdID0gMCk7CnRbZV0gPiAyNTUgJiYgKHRbZV0gPSAyNTUpOwp9CnJldHVybiB0Owp9Owp5ID0gZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbjsKbiA9IEUoYXJndW1lbnRzKSwgdCA9IG5bMF0sIGUgPSBuWzFdLCBpID0gblsyXTsKdCA9IGoodCk7CmUgPSBqKGUpOwppID0gaihpKTsKcmV0dXJuIC4yMTI2ICogdCArIC43MTUyICogZSArIC4wNzIyICogaTsKfTsKaiA9IGZ1bmN0aW9uKHQpIHsKdCAvPSAyNTU7CnJldHVybiB0IDw9IC4wMzkyOCA/IHQgLyAxMi45MiA6IE1hdGgucG93KCh0ICsgLjA1NSkgLyAxLjA1NSwgMi40KTsKfTsKbC5Db2xvciA9IGk7CmwuY29sb3IgPSBmdW5jdGlvbih0LCBlLCBuLCBvKSB7CnJldHVybiBuZXcgaSh0LCBlLCBuLCBvKTsKfTsKbC5oc2wgPSBmdW5jdGlvbih0LCBlLCBuKSB7CnJldHVybiBuZXcgaSh0LCBlLCBuLCAiaHNsIik7Cn07CmwuaHN2ID0gZnVuY3Rpb24odCwgZSwgbikgewpyZXR1cm4gbmV3IGkodCwgZSwgbiwgImhzdiIpOwp9OwpsLnJnYiA9IGZ1bmN0aW9uKHQsIGUsIG4pIHsKcmV0dXJuIG5ldyBpKHQsIGUsIG4sICJyZ2IiKTsKfTsKbC5oZXggPSBmdW5jdGlvbih0KSB7CnJldHVybiBuZXcgaSh0KTsKfTsKbC5jc3MgPSBmdW5jdGlvbih0KSB7CnJldHVybiBuZXcgaSh0KTsKfTsKbC5sYWIgPSBmdW5jdGlvbih0LCBlLCBuKSB7CnJldHVybiBuZXcgaSh0LCBlLCBuLCAibGFiIik7Cn07CmwubGNoID0gZnVuY3Rpb24odCwgZSwgbikgewpyZXR1cm4gbmV3IGkodCwgZSwgbiwgImxjaCIpOwp9OwpsLmhzaSA9IGZ1bmN0aW9uKHQsIGUsIG4pIHsKcmV0dXJuIG5ldyBpKHQsIGUsIG4sICJoc2kiKTsKfTsKbC5pbnRlcnBvbGF0ZSA9IGZ1bmN0aW9uKHQsIGUsIG4sIG8pIHsKaWYgKG51bGwgPT0gdCB8fCBudWxsID09IGUpIHJldHVybiAiIzAwMCI7CiJzdHJpbmciID09PSBEKHQpICYmICh0ID0gbmV3IGkodCkpOwoic3RyaW5nIiA9PT0gRChlKSAmJiAoZSA9IG5ldyBpKGUpKTsKcmV0dXJuIHQuaW50ZXJwb2xhdGUobiwgZSwgbyk7Cn07CmwuY29udHJhc3QgPSBmdW5jdGlvbih0LCBlKSB7CnZhciBuLCBvOwoic3RyaW5nIiA9PT0gRCh0KSAmJiAodCA9IG5ldyBpKHQpKTsKInN0cmluZyIgPT09IEQoZSkgJiYgKGUgPSBuZXcgaShlKSk7Cm4gPSB0Lmx1bWluYW5jZSgpOwpvID0gZS5sdW1pbmFuY2UoKTsKcmV0dXJuIG4gPiBvID8gKG4gKyAuMDUpIC8gKG8gKyAuMDUpIDogKG8gKyAuMDUpIC8gKG4gKyAuMDUpOwp9OwpCID0gdm9pZCAwICE9PSBlICYmIG51bGwgIT09IGUgPyBlIDogdGhpczsKbCA9IG51bGwgIT0gKFAgPSBCLmNocm9tYSkgPyBQIDogQi5jaHJvbWEgPSB7fTsKaSA9IGwuQ29sb3I7Cm4gPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCh0KSB7CnZhciBlLCBpLCBuOwpudWxsID09IHQgJiYgKHQgPSB7fSk7CmUgPSB0aGlzOwplLnJhbmdlKHQuY29sb3JzLCB0LnBvc2l0aW9ucyk7CmUuX21vZGUgPSBudWxsICE9IChpID0gdC5tb2RlKSA/IGkgOiAicmdiIjsKZS5fbmFjb2wgPSBsLmhleChudWxsICE9IChuID0gdC5uYWNvbCkgPyBuIDogbC5oZXgoIiNjY2MiKSk7CmUuX3NwcmVhZCA9IDA7CmUuX2ZpeGVkID0gITE7CmUuZG9tYWluKFsgMCwgMSBdKTsKfQp0LnByb3RvdHlwZS5yYW5nZSA9IGZ1bmN0aW9uKHQsIGUpIHsKdmFyIG4sIG8sIHIsIGEsIHMsIF8sIGQsIHU7CnIgPSB0aGlzOwpudWxsID09IHQgJiYgKHQgPSBbICIjZGRkIiwgIiMyMjIiIF0pOwpudWxsICE9IHQgJiYgInN0cmluZyIgPT09IEQodCkgJiYgbnVsbCAhPSAobnVsbCAhPSAoXyA9IGwuYnJld2VyKSA/IF9bdF0gOiB2b2lkIDApICYmICh0ID0gbC5icmV3ZXJbdF0uc2xpY2UoMCkpOwpmb3IgKG4gPSBhID0gMCwgZCA9IHQubGVuZ3RoIC0gMTsgMCA8PSBkID8gYSA8PSBkIDogYSA+PSBkOyBuID0gMCA8PSBkID8gKythIDogLS1hKSB7Cm8gPSB0W25dOwoic3RyaW5nIiA9PT0gRChvKSAmJiAodFtuXSA9IG5ldyBpKG8pKTsKfQpyLl9jb2xvcnMgPSB0OwppZiAobnVsbCAhPSBlKSByLl9wb3MgPSBlOyBlbHNlIHsKci5fcG9zID0gW107CmZvciAobiA9IHMgPSAwLCB1ID0gdC5sZW5ndGggLSAxOyAwIDw9IHUgPyBzIDw9IHUgOiBzID49IHU7IG4gPSAwIDw9IHUgPyArK3MgOiAtLXMpIHIuX3Bvcy5wdXNoKG4gLyAodC5sZW5ndGggLSAxKSk7Cn0KcmV0dXJuIHI7Cn07CnQucHJvdG90eXBlLmRvbWFpbiA9IGZ1bmN0aW9uKHQpIHsKdmFyIGU7Cm51bGwgPT0gdCAmJiAodCA9IFtdKTsKZSA9IHRoaXM7CmUuX2RvbWFpbiA9IHQ7CmUuX21pbiA9IHRbMF07CmUuX21heCA9IHRbdC5sZW5ndGggLSAxXTsKMiA9PT0gdC5sZW5ndGggPyBlLl9udW1DbGFzc2VzID0gMCA6IGUuX251bUNsYXNzZXMgPSB0Lmxlbmd0aCAtIDE7CnJldHVybiBlOwp9Owp0LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbih0KSB7CnZhciBlLCBpLCBuOwpuID0gdGhpczsKaWYgKGlzTmFOKHQpKSByZXR1cm4gbi5fbmFjb2w7CmlmIChuLl9kb21haW4ubGVuZ3RoID4gMikgewplID0gbi5nZXRDbGFzcyh0KTsKaSA9IGUgLyAobi5fbnVtQ2xhc3NlcyAtIDEpOwp9IGVsc2UgewppID0gKHQgLSBuLl9taW4pIC8gKG4uX21heCAtIG4uX21pbik7CmkgPSBNYXRoLm1pbigxLCBNYXRoLm1heCgwLCBpKSk7Cn0KcmV0dXJuIG4uZkNvbG9yKGkpOwp9Owp0LnByb3RvdHlwZS5mQ29sb3IgPSBmdW5jdGlvbih0KSB7CnZhciBlLCBpLCBuLCBvLCByLCBhLCBzOwpvID0gdGhpczsKaSA9IG8uX2NvbG9yczsKZm9yIChuID0gYSA9IDAsIHMgPSBvLl9wb3MubGVuZ3RoIC0gMTsgMCA8PSBzID8gYSA8PSBzIDogYSA+PSBzOyBuID0gMCA8PSBzID8gKythIDogLS1hKSB7CnIgPSBvLl9wb3Nbbl07CmlmICh0IDw9IHIpIHsKZSA9IGlbbl07CmJyZWFrOwp9CmlmICh0ID49IHIgJiYgbiA9PT0gby5fcG9zLmxlbmd0aCAtIDEpIHsKZSA9IGlbbl07CmJyZWFrOwp9CmlmICh0ID4gciAmJiB0IDwgby5fcG9zW24gKyAxXSkgewp0ID0gKHQgLSByKSAvIChvLl9wb3NbbiArIDFdIC0gcik7CmUgPSBsLmludGVycG9sYXRlKGlbbl0sIGlbbiArIDFdLCB0LCBvLl9tb2RlKTsKYnJlYWs7Cn0KfQpyZXR1cm4gZTsKfTsKdC5wcm90b3R5cGUuY2xhc3NpZnlWYWx1ZSA9IGZ1bmN0aW9uKHQpIHsKdmFyIGUsIGksIG4sIG8sIHIsIGEsIHM7Cm8gPSB0aGlzOwplID0gby5fZG9tYWluOwpzID0gdDsKaWYgKGUubGVuZ3RoID4gMikgewphID0gZS5sZW5ndGggLSAxOwppID0gby5nZXRDbGFzcyh0KTsKciA9IGVbMF0gKyAoZVsxXSAtIGVbMF0pICogKDAgKyAuNSAqIG8uX3NwcmVhZCk7Cm4gPSBlW2EgLSAxXSArIChlW2FdIC0gZVthIC0gMV0pICogKDEgLSAuNSAqIG8uX3NwcmVhZCk7CnMgPSBvLl9taW4gKyAoZVtpXSArIC41ICogKGVbaSArIDFdIC0gZVtpXSkgLSByKSAvIChuIC0gcikgKiAoby5fbWF4IC0gby5fbWluKTsKfQpyZXR1cm4gczsKfTsKdC5wcm90b3R5cGUuZ2V0Q2xhc3MgPSBmdW5jdGlvbih0KSB7CnZhciBlLCBpLCBuLCBvOwpvID0gdGhpczsKZSA9IG8uX2RvbWFpbjsKaWYgKG51bGwgIT0gZSkgewpuID0gZS5sZW5ndGggLSAxOwppID0gMDsKZm9yICg7aSA8IG4gJiYgdCA+PSBlW2ldOyApIGkrKzsKcmV0dXJuIGkgLSAxOwp9CnJldHVybiAwOwp9Owp0LnByb3RvdHlwZS52YWxpZFZhbHVlID0gZnVuY3Rpb24odCkgewpyZXR1cm4gIWlzTmFOKHQpOwp9OwpyZXR1cm4gdDsKfSgpOwpsLkNvbG9yU2NhbGUgPSBuOwpsLnNjYWxlID0gZnVuY3Rpb24odCwgZSkgewp2YXIgaSwgbiwgbzsKaSA9IG5ldyBsLkNvbG9yU2NhbGUoKTsKaS5yYW5nZSh0LCBlKTsKbyA9ICExOwpuID0gZnVuY3Rpb24odCkgewp2YXIgZTsKZSA9IGkuZ2V0KHQpOwpyZXR1cm4gbyAmJiBlW29dID8gZVtvXSgpIDogZTsKfTsKbi5kb21haW4gPSBmdW5jdGlvbih0LCBlLCBvLCByKSB7CnZhciBhOwpudWxsID09IG8gJiYgKG8gPSAiZSIpOwppZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBpLl9kb21haW47CmlmIChudWxsICE9IGUpIHsKYSA9IGwuYW5hbHl6ZSh0LCByKTsKdCA9IDAgPT09IGUgPyBbIGEubWluLCBhLm1heCBdIDogbC5saW1pdHMoYSwgbywgZSk7Cn0KaS5kb21haW4odCk7CnJldHVybiBuOwp9OwpuLm1vZGUgPSBmdW5jdGlvbih0KSB7CmlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIGkuX21vZGU7CmkuX21vZGUgPSB0OwpyZXR1cm4gbjsKfTsKbi5yYW5nZSA9IGZ1bmN0aW9uKHQsIGUpIHsKaS5yYW5nZSh0LCBlKTsKcmV0dXJuIG47Cn07Cm4ub3V0ID0gZnVuY3Rpb24odCkgewpvID0gdDsKcmV0dXJuIG47Cn07Cm4uZ2V0Q29sb3IgPSBmdW5jdGlvbih0KSB7CnJldHVybiBuKHQpOwp9OwpuLnNwcmVhZCA9IGZ1bmN0aW9uKHQpIHsKaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gaS5fc3ByZWFkOwppLl9zcHJlYWQgPSB0OwpyZXR1cm4gbjsKfTsKcmV0dXJuIG47Cn07Cm51bGwgPT0gbC5zY2FsZXMgJiYgKGwuc2NhbGVzID0ge30pOwpsLnNjYWxlcy5jb29sID0gZnVuY3Rpb24oKSB7CnJldHVybiBsLnNjYWxlKFsgbC5oc2woMTgwLCAxLCAuOSksIGwuaHNsKDI1MCwgLjcsIC40KSBdKTsKfTsKbC5zY2FsZXMuaG90ID0gZnVuY3Rpb24oKSB7CnJldHVybiBsLnNjYWxlKFsgIiMwMDAiLCAiI2YwMCIsICIjZmYwIiwgIiNmZmYiIF0sIFsgMCwgLjI1LCAuNzUsIDEgXSkubW9kZSgicmdiIik7Cn07CmwuYW5hbHl6ZSA9IGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4sIG8sIHIsIGEsIHMsIF8sIGQ7CnIgPSB7Cm1pbjogTnVtYmVyLk1BWF9WQUxVRSwKbWF4OiAtMSAqIE51bWJlci5NQVhfVkFMVUUsCnN1bTogMCwKdmFsdWVzOiBbXSwKY291bnQ6IDAKfTsKbnVsbCA9PSBpICYmIChpID0gZnVuY3Rpb24oKSB7CnJldHVybiAhMDsKfSk7Cm4gPSBmdW5jdGlvbih0KSB7CmlmIChudWxsICE9IHQgJiYgIWlzTmFOKHQpKSB7CnIudmFsdWVzLnB1c2godCk7CnIuc3VtICs9IHQ7CnQgPCByLm1pbiAmJiAoci5taW4gPSB0KTsKdCA+IHIubWF4ICYmIChyLm1heCA9IHQpOwpyLmNvdW50ICs9IDE7Cn0KfTsKcyA9IGZ1bmN0aW9uKHQsIG8pIHsKaWYgKGkodCwgbykpIHJldHVybiBuKG51bGwgIT0gZSAmJiAiZnVuY3Rpb24iID09PSBEKGUpID8gZSh0KSA6IG51bGwgIT0gZSAmJiAic3RyaW5nIiA9PT0gRChlKSB8fCAibnVtYmVyIiA9PT0gRChlKSA/IHRbZV0gOiB0KTsKfTsKaWYgKCJhcnJheSIgPT09IEQodCkpIGZvciAoXyA9IDAsIGQgPSB0Lmxlbmd0aDsgXyA8IGQ7IF8rKykgewphID0gdFtfXTsKcyhhKTsKfSBlbHNlIGZvciAobyBpbiB0KSBpZiAodC5oYXNPd25Qcm9wZXJ0eShvKSkgewphID0gdFtvXTsKcyhhLCBvKTsKfQpyLmRvbWFpbiA9IFsgci5taW4sIHIubWF4IF07CnIubGltaXRzID0gZnVuY3Rpb24odCwgZSkgewpyZXR1cm4gbC5saW1pdHMociwgdCwgZSk7Cn07CnJldHVybiByOwp9OwpsLmxpbWl0cyA9IGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4sIG8sIHIsIGEsIHMsIF8sIGQsIHUsIGMsIGgsIGYsIGcsIHAsIG0sICQsIGIsIHcsIHgsIHYsIHksIGosIEMsIFMsIEEsIGssIEksIFQsIE4sIEIsIEQsIEUsIE8sIEwsIFcsIFAsIFIsIEYsIE0sIFYsIEgsIHEsIHosIFUsIEcsIFksIFgsIFosIFEsIEssIEosIHR0LCBldCwgaXQsIG50LCBvdDsKbnVsbCA9PSBlICYmIChlID0gImVxdWFsIik7Cm51bGwgPT0gaSAmJiAoaSA9IDcpOwpudWxsID09IHQudmFsdWVzICYmICh0ID0gbC5hbmFseXplKHQpKTsKcCA9IHQubWluOwpmID0gdC5tYXg7CnQuc3VtOwprID0gdC52YWx1ZXMuc29ydChmdW5jdGlvbih0LCBlKSB7CnJldHVybiB0IC0gZTsKfSk7CmggPSBbXTsKaWYgKCJjIiA9PT0gZS5zdWJzdHIoMCwgMSkpIHsKaC5wdXNoKHApOwpoLnB1c2goZik7Cn0KaWYgKCJlIiA9PT0gZS5zdWJzdHIoMCwgMSkpIHsKaC5wdXNoKHApOwpmb3IgKGQgPSBJID0gMSwgRyA9IGkgLSAxOyAxIDw9IEcgPyBJIDw9IEcgOiBJID49IEc7IGQgPSAxIDw9IEcgPyArK0kgOiAtLUkpIGgucHVzaChwICsgZCAvIGkgKiAoZiAtIHApKTsKaC5wdXNoKGYpOwp9IGVsc2UgaWYgKCJsIiA9PT0gZS5zdWJzdHIoMCwgMSkpIHsKaWYgKHAgPD0gMCkgdGhyb3cgIkxvZ2FyaXRobWljIHNjYWxlcyBhcmUgb25seSBwb3NzaWJsZSBmb3IgdmFsdWVzID4gMCI7Cm0gPSBNYXRoLkxPRzEwRSAqIE1hdGgubG9nKHApOwpnID0gTWF0aC5MT0cxMEUgKiBNYXRoLmxvZyhmKTsKaC5wdXNoKHApOwpmb3IgKGQgPSBUID0gMSwgWSA9IGkgLSAxOyAxIDw9IFkgPyBUIDw9IFkgOiBUID49IFk7IGQgPSAxIDw9IFkgPyArK1QgOiAtLVQpIGgucHVzaChNYXRoLnBvdygxMCwgbSArIGQgLyBpICogKGcgLSBtKSkpOwpoLnB1c2goZik7Cn0gZWxzZSBpZiAoInEiID09PSBlLnN1YnN0cigwLCAxKSkgewpoLnB1c2gocCk7CmZvciAoZCA9IE4gPSAxLCBYID0gaSAtIDE7IDEgPD0gWCA/IE4gPD0gWCA6IE4gPj0gWDsgZCA9IDEgPD0gWCA/ICsrTiA6IC0tTikgewp2ID0gay5sZW5ndGggKiBkIC8gaTsKeSA9IE1hdGguZmxvb3Iodik7CmlmICh5ID09PSB2KSBoLnB1c2goa1t5XSk7IGVsc2UgewpqID0gdiAtIHk7CmgucHVzaChrW3ldICogaiArIGtbeSArIDFdICogKDEgLSBqKSk7Cn0KfQpoLnB1c2goZik7Cn0gZWxzZSBpZiAoImsiID09PSBlLnN1YnN0cigwLCAxKSkgewpiID0gay5sZW5ndGg7Cm4gPSBuZXcgQXJyYXkoYik7CnMgPSBuZXcgQXJyYXkoaSk7CkMgPSAhMDsKdyA9IDA7CnIgPSBudWxsOwpyID0gW107CnIucHVzaChwKTsKZm9yIChkID0gQiA9IDEsIFogPSBpIC0gMTsgMSA8PSBaID8gQiA8PSBaIDogQiA+PSBaOyBkID0gMSA8PSBaID8gKytCIDogLS1CKSByLnB1c2gocCArIGQgLyBpICogKGYgLSBwKSk7CnIucHVzaChmKTsKZm9yICg7QzsgKSB7CmZvciAodSA9IEQgPSAwLCBRID0gaSAtIDE7IDAgPD0gUSA/IEQgPD0gUSA6IEQgPj0gUTsgdSA9IDAgPD0gUSA/ICsrRCA6IC0tRCkgc1t1XSA9IDA7CmZvciAoZCA9IEUgPSAwLCBLID0gYiAtIDE7IDAgPD0gSyA/IEUgPD0gSyA6IEUgPj0gSzsgZCA9IDAgPD0gSyA/ICsrRSA6IC0tRSkgewpBID0ga1tkXTsKJCA9IE51bWJlci5NQVhfVkFMVUU7CmZvciAodSA9IE8gPSAwLCBKID0gaSAtIDE7IDAgPD0gSiA/IE8gPD0gSiA6IE8gPj0gSjsgdSA9IDAgPD0gSiA/ICsrTyA6IC0tTykgewpfID0gTWF0aC5hYnMoclt1XSAtIEEpOwppZiAoXyA8ICQpIHsKJCA9IF87Cm8gPSB1Owp9Cn0Kc1tvXSsrOwpuW2RdID0gbzsKfQp4ID0gbmV3IEFycmF5KGkpOwpmb3IgKHUgPSBMID0gMCwgUiA9IGkgLSAxOyAwIDw9IFIgPyBMIDw9IFIgOiBMID49IFI7IHUgPSAwIDw9IFIgPyArK0wgOiAtLUwpIHhbdV0gPSBudWxsOwpmb3IgKGQgPSBXID0gMCwgRiA9IGIgLSAxOyAwIDw9IEYgPyBXIDw9IEYgOiBXID49IEY7IGQgPSAwIDw9IEYgPyArK1cgOiAtLVcpIHsKYSA9IG5bZF07Cm51bGwgPT09IHhbYV0gPyB4W2FdID0ga1tkXSA6IHhbYV0gKz0ga1tkXTsKfQpmb3IgKHUgPSBQID0gMCwgTSA9IGkgLSAxOyAwIDw9IE0gPyBQIDw9IE0gOiBQID49IE07IHUgPSAwIDw9IE0gPyArK1AgOiAtLVApIHhbdV0gKj0gMSAvIHNbdV07CkMgPSAhMTsKZm9yICh1ID0gdHQgPSAwLCBWID0gaSAtIDE7IDAgPD0gViA/IHR0IDw9IFYgOiB0dCA+PSBWOyB1ID0gMCA8PSBWID8gKyt0dCA6IC0tdHQpIGlmICh4W3VdICE9PSByW2RdKSB7CkMgPSAhMDsKYnJlYWs7Cn0KciA9IHg7CncrKzsKdyA+IDIwMCAmJiAoQyA9ICExKTsKfQpjID0ge307CmZvciAodSA9IGV0ID0gMCwgSCA9IGkgLSAxOyAwIDw9IEggPyBldCA8PSBIIDogZXQgPj0gSDsgdSA9IDAgPD0gSCA/ICsrZXQgOiAtLWV0KSBjW3VdID0gW107CmZvciAoZCA9IGl0ID0gMCwgcSA9IGIgLSAxOyAwIDw9IHEgPyBpdCA8PSBxIDogaXQgPj0gcTsgZCA9IDAgPD0gcSA/ICsraXQgOiAtLWl0KSB7CmEgPSBuW2RdOwpjW2FdLnB1c2goa1tkXSk7Cn0KUyA9IFtdOwpmb3IgKHUgPSBudCA9IDAsIHogPSBpIC0gMTsgMCA8PSB6ID8gbnQgPD0geiA6IG50ID49IHo7IHUgPSAwIDw9IHogPyArK250IDogLS1udCkgewpTLnB1c2goY1t1XVswXSk7ClMucHVzaChjW3VdW2NbdV0ubGVuZ3RoIC0gMV0pOwp9ClMgPSBTLnNvcnQoZnVuY3Rpb24odCwgZSkgewpyZXR1cm4gdCAtIGU7Cn0pOwpoLnB1c2goU1swXSk7CmZvciAoZCA9IG90ID0gMSwgVSA9IFMubGVuZ3RoIC0gMTsgb3QgPD0gVTsgZCA9IG90ICs9IDIpIGlzTmFOKFNbZF0pIHx8IGgucHVzaChTW2RdKTsKfQpyZXR1cm4gaDsKfTsKQiA9IHZvaWQgMCAhPT0gZSAmJiBudWxsICE9PSBlID8gZSA6IHRoaXM7CkQgPSBmdW5jdGlvbigpIHsKdmFyIHQsIGUsIGksIG4sIG87CnQgPSB7fTsKbyA9ICJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgVW5kZWZpbmVkIE51bGwiLnNwbGl0KCIgIik7CmZvciAoaSA9IDAsIG4gPSBvLmxlbmd0aDsgaSA8IG47IGkrKykgewplID0gb1tpXTsKdFsiW29iamVjdCAiICsgZSArICJdIl0gPSBlLnRvTG93ZXJDYXNlKCk7Cn0KcmV0dXJuIGZ1bmN0aW9uKGUpIHsKdmFyIGk7CmkgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSk7CnJldHVybiB0W2ldIHx8ICJvYmplY3QiOwp9Owp9KCk7Cm51bGwgPT0gQi50eXBlICYmIChCLnR5cGUgPSBEKTsKQXJyYXkubWF4ID0gZnVuY3Rpb24odCkgewpyZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCwgdCk7Cn07CkFycmF5Lm1pbiA9IGZ1bmN0aW9uKHQpIHsKcmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsIHQpOwp9Owp2ID0gZnVuY3Rpb24odCwgZSwgaSkgewpudWxsID09IGUgJiYgKGUgPSAwKTsKbnVsbCA9PSBpICYmIChpID0gMSk7CnQgPCBlICYmICh0ID0gZSk7CnQgPiBpICYmICh0ID0gaSk7CnJldHVybiB0Owp9OwpFID0gZnVuY3Rpb24odCkgewpyZXR1cm4gMyA9PT0gdC5sZW5ndGggPyB0IDogdFswXTsKfTsKciA9IDIgKiBNYXRoLlBJOwpvID0gTWF0aC5QSSAvIDM7CnUgPSBNYXRoLmNvczsKQiA9IHZvaWQgMCAhPT0gZSAmJiBudWxsICE9PSBlID8gZSA6IHRoaXM7CmwgPSBudWxsICE9IChSID0gQi5jaHJvbWEpID8gUiA6IEIuY2hyb21hID0ge307CmwuYnJld2VyID0gewpPclJkOiBbICIjZmZmN2VjIiwgIiNmZWU4YzgiLCAiI2ZkZDQ5ZSIsICIjZmRiYjg0IiwgIiNmYzhkNTkiLCAiI2VmNjU0OCIsICIjZDczMDFmIiwgIiNiMzAwMDAiLCAiIzdmMDAwMCIgXSwKUHVCdTogWyAiI2ZmZjdmYiIsICIjZWNlN2YyIiwgIiNkMGQxZTYiLCAiI2E2YmRkYiIsICIjNzRhOWNmIiwgIiMzNjkwYzAiLCAiIzA1NzBiMCIsICIjMDQ1YThkIiwgIiMwMjM4NTgiIF0sCkJ1UHU6IFsgIiNmN2ZjZmQiLCAiI2UwZWNmNCIsICIjYmZkM2U2IiwgIiM5ZWJjZGEiLCAiIzhjOTZjNiIsICIjOGM2YmIxIiwgIiM4ODQxOWQiLCAiIzgxMGY3YyIsICIjNGQwMDRiIiBdLApPcmFuZ2VzOiBbICIjZmZmNWViIiwgIiNmZWU2Y2UiLCAiI2ZkZDBhMiIsICIjZmRhZTZiIiwgIiNmZDhkM2MiLCAiI2YxNjkxMyIsICIjZDk0ODAxIiwgIiNhNjM2MDMiLCAiIzdmMjcwNCIgXSwKQnVHbjogWyAiI2Y3ZmNmZCIsICIjZTVmNWY5IiwgIiNjY2VjZTYiLCAiIzk5ZDhjOSIsICIjNjZjMmE0IiwgIiM0MWFlNzYiLCAiIzIzOGI0NSIsICIjMDA2ZDJjIiwgIiMwMDQ0MWIiIF0sCllsT3JCcjogWyAiI2ZmZmZlNSIsICIjZmZmN2JjIiwgIiNmZWUzOTEiLCAiI2ZlYzQ0ZiIsICIjZmU5OTI5IiwgIiNlYzcwMTQiLCAiI2NjNGMwMiIsICIjOTkzNDA0IiwgIiM2NjI1MDYiIF0sCllsR246IFsgIiNmZmZmZTUiLCAiI2Y3ZmNiOSIsICIjZDlmMGEzIiwgIiNhZGRkOGUiLCAiIzc4YzY3OSIsICIjNDFhYjVkIiwgIiMyMzg0NDMiLCAiIzAwNjgzNyIsICIjMDA0NTI5IiBdLApSZWRzOiBbICIjZmZmNWYwIiwgIiNmZWUwZDIiLCAiI2ZjYmJhMSIsICIjZmM5MjcyIiwgIiNmYjZhNGEiLCAiI2VmM2IyYyIsICIjY2IxODFkIiwgIiNhNTBmMTUiLCAiIzY3MDAwZCIgXSwKUmRQdTogWyAiI2ZmZjdmMyIsICIjZmRlMGRkIiwgIiNmY2M1YzAiLCAiI2ZhOWZiNSIsICIjZjc2OGExIiwgIiNkZDM0OTciLCAiI2FlMDE3ZSIsICIjN2EwMTc3IiwgIiM0OTAwNmEiIF0sCkdyZWVuczogWyAiI2Y3ZmNmNSIsICIjZTVmNWUwIiwgIiNjN2U5YzAiLCAiI2ExZDk5YiIsICIjNzRjNDc2IiwgIiM0MWFiNWQiLCAiIzIzOGI0NSIsICIjMDA2ZDJjIiwgIiMwMDQ0MWIiIF0sCllsR25CdTogWyAiI2ZmZmZkOSIsICIjZWRmOGIxIiwgIiNjN2U5YjQiLCAiIzdmY2RiYiIsICIjNDFiNmM0IiwgIiMxZDkxYzAiLCAiIzIyNWVhOCIsICIjMjUzNDk0IiwgIiMwODFkNTgiIF0sClB1cnBsZXM6IFsgIiNmY2ZiZmQiLCAiI2VmZWRmNSIsICIjZGFkYWViIiwgIiNiY2JkZGMiLCAiIzllOWFjOCIsICIjODA3ZGJhIiwgIiM2YTUxYTMiLCAiIzU0Mjc4ZiIsICIjM2YwMDdkIiBdLApHbkJ1OiBbICIjZjdmY2YwIiwgIiNlMGYzZGIiLCAiI2NjZWJjNSIsICIjYThkZGI1IiwgIiM3YmNjYzQiLCAiIzRlYjNkMyIsICIjMmI4Y2JlIiwgIiMwODY4YWMiLCAiIzA4NDA4MSIgXSwKR3JleXM6IFsgIiNmZmZmZmYiLCAiI2YwZjBmMCIsICIjZDlkOWQ5IiwgIiNiZGJkYmQiLCAiIzk2OTY5NiIsICIjNzM3MzczIiwgIiM1MjUyNTIiLCAiIzI1MjUyNSIsICIjMDAwMDAwIiBdLApZbE9yUmQ6IFsgIiNmZmZmY2MiLCAiI2ZmZWRhMCIsICIjZmVkOTc2IiwgIiNmZWIyNGMiLCAiI2ZkOGQzYyIsICIjZmM0ZTJhIiwgIiNlMzFhMWMiLCAiI2JkMDAyNiIsICIjODAwMDI2IiBdLApQdVJkOiBbICIjZjdmNGY5IiwgIiNlN2UxZWYiLCAiI2Q0YjlkYSIsICIjYzk5NGM3IiwgIiNkZjY1YjAiLCAiI2U3Mjk4YSIsICIjY2UxMjU2IiwgIiM5ODAwNDMiLCAiIzY3MDAxZiIgXSwKQmx1ZXM6IFsgIiNmN2ZiZmYiLCAiI2RlZWJmNyIsICIjYzZkYmVmIiwgIiM5ZWNhZTEiLCAiIzZiYWVkNiIsICIjNDI5MmM2IiwgIiMyMTcxYjUiLCAiIzA4NTE5YyIsICIjMDgzMDZiIiBdLApQdUJ1R246IFsgIiNmZmY3ZmIiLCAiI2VjZTJmMCIsICIjZDBkMWU2IiwgIiNhNmJkZGIiLCAiIzY3YTljZiIsICIjMzY5MGMwIiwgIiMwMjgxOGEiLCAiIzAxNmM1OSIsICIjMDE0NjM2IiBdLApTcGVjdHJhbDogWyAiIzllMDE0MiIsICIjZDUzZTRmIiwgIiNmNDZkNDMiLCAiI2ZkYWU2MSIsICIjZmVlMDhiIiwgIiNmZmZmYmYiLCAiI2U2ZjU5OCIsICIjYWJkZGE0IiwgIiM2NmMyYTUiLCAiIzMyODhiZCIsICIjNWU0ZmEyIiBdLApSZFlsR246IFsgIiNhNTAwMjYiLCAiI2Q3MzAyNyIsICIjZjQ2ZDQzIiwgIiNmZGFlNjEiLCAiI2ZlZTA4YiIsICIjZmZmZmJmIiwgIiNkOWVmOGIiLCAiI2E2ZDk2YSIsICIjNjZiZDYzIiwgIiMxYTk4NTAiLCAiIzAwNjgzNyIgXSwKUmRCdTogWyAiIzY3MDAxZiIsICIjYjIxODJiIiwgIiNkNjYwNGQiLCAiI2Y0YTU4MiIsICIjZmRkYmM3IiwgIiNmN2Y3ZjciLCAiI2QxZTVmMCIsICIjOTJjNWRlIiwgIiM0MzkzYzMiLCAiIzIxNjZhYyIsICIjMDUzMDYxIiBdLApQaVlHOiBbICIjOGUwMTUyIiwgIiNjNTFiN2QiLCAiI2RlNzdhZSIsICIjZjFiNmRhIiwgIiNmZGUwZWYiLCAiI2Y3ZjdmNyIsICIjZTZmNWQwIiwgIiNiOGUxODYiLCAiIzdmYmM0MSIsICIjNGQ5MjIxIiwgIiMyNzY0MTkiIF0sClBSR246IFsgIiM0MDAwNGIiLCAiIzc2MmE4MyIsICIjOTk3MGFiIiwgIiNjMmE1Y2YiLCAiI2U3ZDRlOCIsICIjZjdmN2Y3IiwgIiNkOWYwZDMiLCAiI2E2ZGJhMCIsICIjNWFhZTYxIiwgIiMxYjc4MzciLCAiIzAwNDQxYiIgXSwKUmRZbEJ1OiBbICIjYTUwMDI2IiwgIiNkNzMwMjciLCAiI2Y0NmQ0MyIsICIjZmRhZTYxIiwgIiNmZWUwOTAiLCAiI2ZmZmZiZiIsICIjZTBmM2Y4IiwgIiNhYmQ5ZTkiLCAiIzc0YWRkMSIsICIjNDU3NWI0IiwgIiMzMTM2OTUiIF0sCkJyQkc6IFsgIiM1NDMwMDUiLCAiIzhjNTEwYSIsICIjYmY4MTJkIiwgIiNkZmMyN2QiLCAiI2Y2ZThjMyIsICIjZjVmNWY1IiwgIiNjN2VhZTUiLCAiIzgwY2RjMSIsICIjMzU5NzhmIiwgIiMwMTY2NWUiLCAiIzAwM2MzMCIgXSwKUmRHeTogWyAiIzY3MDAxZiIsICIjYjIxODJiIiwgIiNkNjYwNGQiLCAiI2Y0YTU4MiIsICIjZmRkYmM3IiwgIiNmZmZmZmYiLCAiI2UwZTBlMCIsICIjYmFiYWJhIiwgIiM4Nzg3ODciLCAiIzRkNGQ0ZCIsICIjMWExYTFhIiBdLApQdU9yOiBbICIjN2YzYjA4IiwgIiNiMzU4MDYiLCAiI2UwODIxNCIsICIjZmRiODYzIiwgIiNmZWUwYjYiLCAiI2Y3ZjdmNyIsICIjZDhkYWViIiwgIiNiMmFiZDIiLCAiIzgwNzNhYyIsICIjNTQyNzg4IiwgIiMyZDAwNGIiIF0sClNldDI6IFsgIiM2NmMyYTUiLCAiI2ZjOGQ2MiIsICIjOGRhMGNiIiwgIiNlNzhhYzMiLCAiI2E2ZDg1NCIsICIjZmZkOTJmIiwgIiNlNWM0OTQiLCAiI2IzYjNiMyIgXSwKQWNjZW50OiBbICIjN2ZjOTdmIiwgIiNiZWFlZDQiLCAiI2ZkYzA4NiIsICIjZmZmZjk5IiwgIiMzODZjYjAiLCAiI2YwMDI3ZiIsICIjYmY1YjE3IiwgIiM2NjY2NjYiIF0sClNldDE6IFsgIiNlNDFhMWMiLCAiIzM3N2ViOCIsICIjNGRhZjRhIiwgIiM5ODRlYTMiLCAiI2ZmN2YwMCIsICIjZmZmZjMzIiwgIiNhNjU2MjgiLCAiI2Y3ODFiZiIsICIjOTk5OTk5IiBdLApTZXQzOiBbICIjOGRkM2M3IiwgIiNmZmZmYjMiLCAiI2JlYmFkYSIsICIjZmI4MDcyIiwgIiM4MGIxZDMiLCAiI2ZkYjQ2MiIsICIjYjNkZTY5IiwgIiNmY2NkZTUiLCAiI2Q5ZDlkOSIsICIjYmM4MGJkIiwgIiNjY2ViYzUiLCAiI2ZmZWQ2ZiIgXSwKRGFyazI6IFsgIiMxYjllNzciLCAiI2Q5NWYwMiIsICIjNzU3MGIzIiwgIiNlNzI5OGEiLCAiIzY2YTYxZSIsICIjZTZhYjAyIiwgIiNhNjc2MWQiLCAiIzY2NjY2NiIgXSwKUGFpcmVkOiBbICIjYTZjZWUzIiwgIiMxZjc4YjQiLCAiI2IyZGY4YSIsICIjMzNhMDJjIiwgIiNmYjlhOTkiLCAiI2UzMWExYyIsICIjZmRiZjZmIiwgIiNmZjdmMDAiLCAiI2NhYjJkNiIsICIjNmEzZDlhIiwgIiNmZmZmOTkiLCAiI2IxNTkyOCIgXSwKUGFzdGVsMjogWyAiI2IzZTJjZCIsICIjZmRjZGFjIiwgIiNjYmQ1ZTgiLCAiI2Y0Y2FlNCIsICIjZTZmNWM5IiwgIiNmZmYyYWUiLCAiI2YxZTJjYyIsICIjY2NjY2NjIiBdLApQYXN0ZWwxOiBbICIjZmJiNGFlIiwgIiNiM2NkZTMiLCAiI2NjZWJjNSIsICIjZGVjYmU0IiwgIiNmZWQ5YTYiLCAiI2ZmZmZjYyIsICIjZTVkOGJkIiwgIiNmZGRhZWMiLCAiI2YyZjJmMiIgXQp9OwpCID0gdm9pZCAwICE9PSBlICYmIG51bGwgIT09IGUgPyBlIDogdGhpczsKbCA9IG51bGwgIT0gKEYgPSBCLmNocm9tYSkgPyBGIDogQi5jaHJvbWEgPSB7fTsKbC5jb2xvcnMgPSB7CmluZGlnbzogIiM0YjAwODIiLApnb2xkOiAiI2ZmZDcwMCIsCmhvdHBpbms6ICIjZmY2OWI0IiwKZmlyZWJyaWNrOiAiI2IyMjIyMiIsCmluZGlhbnJlZDogIiNjZDVjNWMiLAp5ZWxsb3c6ICIjZmZmZjAwIiwKbWlzdHlyb3NlOiAiI2ZmZTRlMSIsCmRhcmtvbGl2ZWdyZWVuOiAiIzU1NmIyZiIsCm9saXZlOiAiIzgwODAwMCIsCmRhcmtzZWFncmVlbjogIiM4ZmJjOGYiLApwaW5rOiAiI2ZmYzBjYiIsCnRvbWF0bzogIiNmZjYzNDciLApsaWdodGNvcmFsOiAiI2YwODA4MCIsCm9yYW5nZXJlZDogIiNmZjQ1MDAiLApuYXZham93aGl0ZTogIiNmZmRlYWQiLApsaW1lOiAiIzAwZmYwMCIsCnBhbGVncmVlbjogIiM5OGZiOTgiLApkYXJrc2xhdGVncmV5OiAiIzJmNGY0ZiIsCmdyZWVueWVsbG93OiAiI2FkZmYyZiIsCmJ1cmx5d29vZDogIiNkZWI4ODciLApzZWFzaGVsbDogIiNmZmY1ZWUiLAptZWRpdW1zcHJpbmdncmVlbjogIiMwMGZhOWEiLApmdWNoc2lhOiAiI2ZmMDBmZiIsCnBhcGF5YXdoaXA6ICIjZmZlZmQ1IiwKYmxhbmNoZWRhbG1vbmQ6ICIjZmZlYmNkIiwKY2hhcnRyZXVzZTogIiM3ZmZmMDAiLApkaW1ncmF5OiAiIzY5Njk2OSIsCmJsYWNrOiAiIzAwMDAwMCIsCnBlYWNocHVmZjogIiNmZmRhYjkiLApzcHJpbmdncmVlbjogIiMwMGZmN2YiLAphcXVhbWFyaW5lOiAiIzdmZmZkNCIsCndoaXRlOiAiI2ZmZmZmZiIsCm9yYW5nZTogIiNmZmE1MDAiLApsaWdodHNhbG1vbjogIiNmZmEwN2EiLApkYXJrc2xhdGVncmF5OiAiIzJmNGY0ZiIsCmJyb3duOiAiI2E1MmEyYSIsCml2b3J5OiAiI2ZmZmZmMCIsCmRvZGdlcmJsdWU6ICIjMWU5MGZmIiwKcGVydTogIiNjZDg1M2YiLApsYXduZ3JlZW46ICIjN2NmYzAwIiwKY2hvY29sYXRlOiAiI2QyNjkxZSIsCmNyaW1zb246ICIjZGMxNDNjIiwKZm9yZXN0Z3JlZW46ICIjMjI4YjIyIiwKZGFya2dyZXk6ICIjYTlhOWE5IiwKbGlnaHRzZWFncmVlbjogIiMyMGIyYWEiLApjeWFuOiAiIzAwZmZmZiIsCm1pbnRjcmVhbTogIiNmNWZmZmEiLApzaWx2ZXI6ICIjYzBjMGMwIiwKYW50aXF1ZXdoaXRlOiAiI2ZhZWJkNyIsCm1lZGl1bW9yY2hpZDogIiNiYTU1ZDMiLApza3libHVlOiAiIzg3Y2VlYiIsCmdyYXk6ICIjODA4MDgwIiwKZGFya3R1cnF1b2lzZTogIiMwMGNlZDEiLApnb2xkZW5yb2Q6ICIjZGFhNTIwIiwKZGFya2dyZWVuOiAiIzAwNjQwMCIsCmZsb3JhbHdoaXRlOiAiI2ZmZmFmMCIsCmRhcmt2aW9sZXQ6ICIjOTQwMGQzIiwKZGFya2dyYXk6ICIjYTlhOWE5IiwKbW9jY2FzaW46ICIjZmZlNGI1IiwKc2FkZGxlYnJvd246ICIjOGI0NTEzIiwKZ3JleTogIiM4MDgwODAiLApkYXJrc2xhdGVibHVlOiAiIzQ4M2Q4YiIsCmxpZ2h0c2t5Ymx1ZTogIiM4N2NlZmEiLApsaWdodHBpbms6ICIjZmZiNmMxIiwKbWVkaXVtdmlvbGV0cmVkOiAiI2M3MTU4NSIsCnNsYXRlZ3JleTogIiM3MDgwOTAiLApyZWQ6ICIjZmYwMDAwIiwKZGVlcHBpbms6ICIjZmYxNDkzIiwKbGltZWdyZWVuOiAiIzMyY2QzMiIsCmRhcmttYWdlbnRhOiAiIzhiMDA4YiIsCnBhbGVnb2xkZW5yb2Q6ICIjZWVlOGFhIiwKcGx1bTogIiNkZGEwZGQiLAp0dXJxdW9pc2U6ICIjNDBlMGQwIiwKbGlnaHRncmV5OiAiI2QzZDNkMyIsCmxpZ2h0Z29sZGVucm9keWVsbG93OiAiI2ZhZmFkMiIsCmRhcmtnb2xkZW5yb2Q6ICIjYjg4NjBiIiwKbGF2ZW5kZXI6ICIjZTZlNmZhIiwKbWFyb29uOiAiIzgwMDAwMCIsCnllbGxvd2dyZWVuOiAiIzlhY2QzMiIsCnNhbmR5YnJvd246ICIjZjRhNDYwIiwKdGhpc3RsZTogIiNkOGJmZDgiLAp2aW9sZXQ6ICIjZWU4MmVlIiwKbmF2eTogIiMwMDAwODAiLAptYWdlbnRhOiAiI2ZmMDBmZiIsCmRpbWdyZXk6ICIjNjk2OTY5IiwKdGFuOiAiI2QyYjQ4YyIsCnJvc3licm93bjogIiNiYzhmOGYiLApvbGl2ZWRyYWI6ICIjNmI4ZTIzIiwKYmx1ZTogIiMwMDAwZmYiLApsaWdodGJsdWU6ICIjYWRkOGU2IiwKZ2hvc3R3aGl0ZTogIiNmOGY4ZmYiLApob25leWRldzogIiNmMGZmZjAiLApjb3JuZmxvd2VyYmx1ZTogIiM2NDk1ZWQiLApzbGF0ZWJsdWU6ICIjNmE1YWNkIiwKbGluZW46ICIjZmFmMGU2IiwKZGFya2JsdWU6ICIjMDAwMDhiIiwKcG93ZGVyYmx1ZTogIiNiMGUwZTYiLApzZWFncmVlbjogIiMyZThiNTciLApkYXJra2hha2k6ICIjYmRiNzZiIiwKc25vdzogIiNmZmZhZmEiLApzaWVubmE6ICIjYTA1MjJkIiwKbWVkaXVtYmx1ZTogIiMwMDAwY2QiLApyb3lhbGJsdWU6ICIjNDE2OWUxIiwKbGlnaHRjeWFuOiAiI2UwZmZmZiIsCmdyZWVuOiAiIzAwODAwMCIsCm1lZGl1bXB1cnBsZTogIiM5MzcwZGIiLAptaWRuaWdodGJsdWU6ICIjMTkxOTcwIiwKY29ybnNpbGs6ICIjZmZmOGRjIiwKcGFsZXR1cnF1b2lzZTogIiNhZmVlZWUiLApiaXNxdWU6ICIjZmZlNGM0IiwKc2xhdGVncmF5OiAiIzcwODA5MCIsCmRhcmtjeWFuOiAiIzAwOGI4YiIsCmtoYWtpOiAiI2YwZTY4YyIsCndoZWF0OiAiI2Y1ZGViMyIsCnRlYWw6ICIjMDA4MDgwIiwKZGFya29yY2hpZDogIiM5OTMyY2MiLApkZWVwc2t5Ymx1ZTogIiMwMGJmZmYiLApzYWxtb246ICIjZmE4MDcyIiwKZGFya3JlZDogIiM4YjAwMDAiLApzdGVlbGJsdWU6ICIjNDY4MmI0IiwKcGFsZXZpb2xldHJlZDogIiNkYjcwOTMiLApsaWdodHNsYXRlZ3JheTogIiM3Nzg4OTkiLAphbGljZWJsdWU6ICIjZjBmOGZmIiwKbGlnaHRzbGF0ZWdyZXk6ICIjNzc4ODk5IiwKbGlnaHRncmVlbjogIiM5MGVlOTAiLApvcmNoaWQ6ICIjZGE3MGQ2IiwKZ2FpbnNib3JvOiAiI2RjZGNkYyIsCm1lZGl1bXNlYWdyZWVuOiAiIzNjYjM3MSIsCmxpZ2h0Z3JheTogIiNkM2QzZDMiLAptZWRpdW10dXJxdW9pc2U6ICIjNDhkMWNjIiwKbGVtb25jaGlmZm9uOiAiI2ZmZmFjZCIsCmNhZGV0Ymx1ZTogIiM1ZjllYTAiLApsaWdodHllbGxvdzogIiNmZmZmZTAiLApsYXZlbmRlcmJsdXNoOiAiI2ZmZjBmNSIsCmNvcmFsOiAiI2ZmN2Y1MCIsCnB1cnBsZTogIiM4MDAwODAiLAphcXVhOiAiIzAwZmZmZiIsCndoaXRlc21va2U6ICIjZjVmNWY1IiwKbWVkaXVtc2xhdGVibHVlOiAiIzdiNjhlZSIsCmRhcmtvcmFuZ2U6ICIjZmY4YzAwIiwKbWVkaXVtYXF1YW1hcmluZTogIiM2NmNkYWEiLApkYXJrc2FsbW9uOiAiI2U5OTY3YSIsCmJlaWdlOiAiI2Y1ZjVkYyIsCmJsdWV2aW9sZXQ6ICIjOGEyYmUyIiwKYXp1cmU6ICIjZjBmZmZmIiwKbGlnaHRzdGVlbGJsdWU6ICIjYjBjNGRlIiwKb2xkbGFjZTogIiNmZGY1ZTYiCn07Cn0pLmNhbGwodGhpcyk7CmUuY2hyb21hLkNvbG9yLnByb3RvdHlwZS5saWdodGVuID0gZnVuY3Rpb24odCkgewpyZXR1cm4gdGhpcy5icmlnaHRlbih0KTsKfTsKfSkuY2FsbCh0aGlzLCBpKDM3MSkodCkpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSgxMTMpLCBvID0gewp3aGl0ZTogIiNGRkYiLApibGFjazogIiMwMDAiLApncmV5OiAiIzgwODA4MCIKfTsKby5jbGFtcEx1bWluYW5jZSA9IGZ1bmN0aW9uKHQsIGUsIGkpIHsKdCA9IG8uZ2V0Q2hyb21hT2JqKHQpOwppZiAodCkgewplIDwgMCAmJiAoZSA9IDApOwppID4gMSAmJiAoaSA9IDEpOwp2YXIgbiA9IHQubHVtaW5hbmNlKCksIHIgPSBuIDwgZSA/IGUgOiBuID4gaSA/IGkgOiBuOwpyZXR1cm4gbiA9PT0gciA/IHQgOiBvLmdldENvbG9yQXRMdW1pbmFuY2UodCwgcik7Cn0KfTsKby5saWdodGVuID0gZnVuY3Rpb24odCwgZSwgaSkgewpyZXR1cm4gbi5pbnRlcnBvbGF0ZSh0LCBvLndoaXRlLCBlLCBpIHx8ICJyZ2IiKTsKfTsKby5kYXJrZW4gPSBmdW5jdGlvbih0LCBlLCBpKSB7CnJldHVybiBuLmludGVycG9sYXRlKHQsIG8uYmxhY2ssIGUsIGkgfHwgInJnYiIpOwp9OwpvLmdldENvbG9yQXRMdW1pbmFuY2UgPSBmdW5jdGlvbih0LCBlKSB7CmlmICghKGUgPCAwIHx8IGUgPiAxKSkgewp0ID0gby5nZXRDaHJvbWFPYmoodCk7CmlmICh0KSB7CnZhciBpID0gMDsKaWYgKHQubHVtaW5hbmNlKCkgPj0gZSkgZm9yICg7OykgewppKys7CmlmICh0Lmx1bWluYW5jZSgpIDw9IGUgKyAuMDUgfHwgaSA+PSAxMDApIHJldHVybiB0Owp0ID0gby5kYXJrZW4odCwgLjA1KTsKfSBlbHNlIGZvciAoOzspIHsKaSsrOwppZiAodC5sdW1pbmFuY2UoKSA+PSBlIC0gLjA1IHx8IGkgPj0gMTAwKSByZXR1cm4gdDsKdCA9IG8ubGlnaHRlbih0LCAuMDUpOwp9Cn0KfQp9OwpvLmdldENvbG9yQXRDb250cmFzdCA9IGZ1bmN0aW9uKHQsIGUsIGkpIHsKaWYgKCEoaSA8IDEpKSB7CnQgPSBvLmdldENocm9tYU9iaih0KTsKZSA9IG8uZ2V0Q2hyb21hT2JqKGUpOwppZiAodCAmJiBlKSB7CnZhciByID0gMDsKaWYgKG4uY29udHJhc3QodCwgZSkgPj0gaSkgZm9yICg7OykgewpyKys7CmlmIChuLmNvbnRyYXN0KHQsIGUpIDw9IGkgKyAuNSB8fCByID49IDEwMCkgcmV0dXJuIGU7CmUgPSBlLmx1bWluYW5jZSgpID49IHQubHVtaW5hbmNlKCkgPyBvLmRhcmtlbihlLCAuMDUpIDogby5saWdodGVuKGUsIC4wNSk7Cn0gZWxzZSBmb3IgKHZhciBhID0gbi5jb250cmFzdCh0LCBvLndoaXRlKSwgcyA9IG4uY29udHJhc3QodCwgby5ibGFjayk7IDspIHsKcisrOwppZiAobi5jb250cmFzdCh0LCBlKSA+PSBpIC0gLjUgfHwgciA+PSAxMDApIHJldHVybiBlOwppZiAoZS5sdW1pbmFuY2UoKSA+PSB0Lmx1bWluYW5jZSgpKSBpZiAoYSA+PSBpIC0gLjUpIGUgPSBvLmxpZ2h0ZW4oZSwgLjA1KTsgZWxzZSB7CmlmICghKHMgPj0gaSAtIC41KSkgcmV0dXJuIGEgPiBzID8gby5nZXRDaHJvbWFPYmooby53aGl0ZSkgOiBvLmdldENocm9tYU9iaihvLmJsYWNrKTsKZSA9IG8uZGFya2VuKGUsIC4wNSk7Cn0gZWxzZSBpZiAocyA+PSBpIC0gLjUpIGUgPSBvLmRhcmtlbihlLCAuMDUpOyBlbHNlIHsKaWYgKCEoYSA+PSBpIC0gLjUpKSByZXR1cm4gYSA+IHMgPyBvLmdldENocm9tYU9iaihvLndoaXRlKSA6IG8uZ2V0Q2hyb21hT2JqKG8uYmxhY2spOwplID0gby5saWdodGVuKGUsIC4wNSk7Cn0KfQp9Cn0KfTsKby5nZXRDb250cmFzdENvbG9yID0gZnVuY3Rpb24odCwgZSwgaSwgbiwgciwgYSwgcykgewp0ID0gby5nZXRDaHJvbWFPYmoodCk7CmUgPSBvLmdldENocm9tYU9iaihlKTsKaSA9IG8uZ2V0Q2hyb21hT2JqKGkpOwppZiAodCAmJiBlICYmIGkpIHsKdmFyIF8gPSB0Lmx1bWluYW5jZSgpOwpyZXR1cm4gImJyaWdodCIgPT09IHIgPyBfIDwgbiA/IGUgOiBvLmdldENvbG9yQXRDb250cmFzdCh0LCBpLCBzIHx8IDIuNSkgOiAiZGFyayIgPT09IHIgPyBfID4gbiA/IGkgOiBvLmdldENvbG9yQXRDb250cmFzdCh0LCBlLCBhIHx8IDQuNSkgOiB2b2lkIDA7Cn0KfTsKby5pc0hleENvbG9yID0gZnVuY3Rpb24odCkgewpyZXR1cm4gISgic3RyaW5nIiAhPSB0eXBlb2YgdCB8fCAhL14jWzAtOUEtRl17M30oWzAtOUEtRl17M30pPyQvaS50ZXN0KHQpKTsKfTsKby5nZXRDaHJvbWFPYmogPSBmdW5jdGlvbih0KSB7CnJldHVybiBvLmlzSGV4Q29sb3IodCkgPyBuLmhleCh0KSA6IHQgaW5zdGFuY2VvZiBuLmNvbnN0cnVjdG9yICYmIHQ7Cn07Cm8ucmdiYUNvbG9yID0gZnVuY3Rpb24odCwgZSkgewp0ID0gby5nZXRDaHJvbWFPYmoodCk7CmlmICh0KSB7CmlmICh2b2lkIDAgPT09IGUpIGUgPSAxOyBlbHNlIHsKZSA9IHBhcnNlRmxvYXQoZSk7Cihpc05hTihlKSB8fCBlID4gMSkgJiYgKGUgPSAxKTsKZSA8IDAgJiYgKGUgPSAwKTsKfQpyZXR1cm4gInJnYmEoIiArIG8udG9SR0IodCkuam9pbigiLCIpICsgIiwiICsgZSArICIpIjsKfQp9OwpvLnRvUkdCID0gZnVuY3Rpb24odCkgewp0ID0gby5nZXRDaHJvbWFPYmoodCk7CmlmICh0KSB7CnZhciBlID0gdC5yZ2IoKTsKZVswXSA9IHBhcnNlSW50KGVbMF0sIDEwKTsKZVsxXSA9IHBhcnNlSW50KGVbMV0sIDEwKTsKZVsyXSA9IHBhcnNlSW50KGVbMl0sIDEwKTsKcmV0dXJuIGU7Cn0KfTsKdC5leHBvcnRzID0gbzsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiwgbywgciwgYSwgcyA9IGkoMjIpLCBfID0gaSgyNSksIGwgPSBpKDIxKSwgZCA9IGkoNiksIHUgPSBpKDI2KSwgYyA9IHt9OwpjLmluaXQgPSBmdW5jdGlvbih0KSB7CmZ1bmN0aW9uIGUodCwgZSkgewppZiAodCAmJiB1LmlzSGV4Q29sb3IodCkpIHsKZSA9IGUgfHwgIiI7CnZhciBpID0ge307CmlbZV0gPSB0OwpjLnNldENvbG9ycyhpKTsKfSBlbHNlIHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLmxvZyh1LmdldFByZWZpeCgpICsgJzogdGhlbWUuc2V0Q29sb3IoKSBJbnZhbGlkIGNvbG9yIGFyZ3VtZW50LiBDb2xvciBtdXN0IGJlIGluIGhleGFkZWNpbWFsIGZvcm1hdCAoIiNBQUJCQ0MiKScpOwp9CmZ1bmN0aW9uIGkodCkgewpmdW5jdGlvbiBlKCkgewp2YXIgZSwgaSA9IHt9Owpmb3IgKHZhciBuIGluIHQpIGlmICh0Lmhhc093blByb3BlcnR5KG4pKSB7CmUgPSBuIHx8ICJwcmltYXJ5IjsKaWYgKCFkLmxpdmVjaGF0LmdldExpbWl0KCkgJiYgInByaW1hcnkiICE9IGUpIGNvbnRpbnVlOwoiYmFkZ2UiID09IGUgJiYgKGUgPSAiYmFubmVyIik7CmUgKz0gIiRzdHJpbmciOwp0W25dICYmIHModFtuXSkgJiYgdS5pc0hleENvbG9yKHRbbl0pICYmIChpW2VdID0gdFtuXSk7Cn0KdS5zYXZlQVBJU2V0dGluZ3MoewpzZXR0aW5nczogewp0aGVtZTogewpjb2xvcnM6IGkKfQp9Cn0pOwpvLiQoImxpdmVjaGF0IikuJCgic2V0dGluZ3MiKS4kKCJ0aGVtZSIpLnVwZGF0ZSh7CmNvbG9yczogaQp9KTsKfQppZiAodCAmJiAib2JqZWN0IiA9PSB0eXBlb2YgdCkgewp1LnNhdmVQb3BvdXRBUElDYWxscygidGhlbWUuc2V0Q29sb3JzIiwgWyB0IF0pOwp1LmNhbGxPbkZhc3RJbml0KGUsICEwKTsKdS5jYWxsT25SZWdpc3RlcmVkKGUsICEwKTsKdS5pbnN0cnVtZW50KCJ0aGVtZS5zZXRDb2xvcnMiKTsKfSBlbHNlIHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLmxvZyh1LmdldFByZWZpeCgpICsgIjogdGhlbWUuc2V0Q29sb3JzKCkgSW52YWxpZCBhcmd1bWVudC4gQXJndW1lbnQgbXVzdCBiZSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgZGVzaXJlZCBjb2xvcnMgaW4gaGV4YWRlY2ltYWwgZm9ybWF0ICgjQUFCQkNDKSIpOwp9CmZ1bmN0aW9uIGgodCwgZSkgewpmdW5jdGlvbiBpKCkgewphLmdldFZhbHVlKCkgPyB1LnNhdmVBUElTZXR0aW5ncyh7CnNldHRpbmdzOiB7CnRoZW1lOiB7CmN1c3RvbV9mb250czogewpjb25maWckanNvbjogdCwKZm9udF9mYW1pbHkkc3RyaW5nOiBlCn0KfQp9Cn0pIDogcih1LmdldFByZWZpeCgpICsgIjogdGhlbWUuc2V0Rm9udENvbmZpZygpIEFQSSByZXF1aXJlcyB5b3VyIGFjY291bnQgdG8gYmUgb24gdGhlIENoYXQgUHJvZmVzc2lvbmFsL0VudGVycHJpc2Ugb3IgQWR2YW5jZWQvUHJlbWl1bSAoTGVnYWN5KSBwbGFuLiBQbGVhc2UgdXBncmFkZSB5b3VyIGFjY291bnQuIik7Cn0KdmFyIG4gPSBvLiQoImNvbm5lY3Rpb24uc3RhdHVzJHN0cmluZyIpLmdldFZhbHVlKCksIHIgPSB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS5sb2cgJiYgd2luZG93LmNvbnNvbGUubG9nLmJpbmQgJiYgd2luZG93LmNvbnNvbGUubG9nLmJpbmQod2luZG93LmNvbnNvbGUpIHx8IHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLmxvZyB8fCBmdW5jdGlvbigpIHt9OwppZiAobikgcih1LmdldFByZWZpeCgpICsgIjogdGhlbWUuc2V0Rm9udENvbmZpZygpIG11c3QgYmUgY2FsbGVkIGltbWVkaWF0ZWx5IGFmdGVyIGVtYmVkZGluZyBzY3JpcHQiKTsgZWxzZSBpZiAoZih0KSAmJiAic3RyaW5nIiA9PSB0eXBlb2YgZSkgaWYgKC9bXkEtWmEtejAtOVwnXCJcLV8sIF0vLnRlc3QoZSkpIHIodS5nZXRQcmVmaXgoKSArICI6IHRoZW1lLnNldEZvbnRDb25maWcoKSBlcnJvcjogSW52YWxpZCBjaGFyYWN0ZXJzIGluIGZvbnQtZmFtaWx5LiIpOyBlbHNlIGlmIChmdW5jdGlvbih0KSB7CmZvciAodmFyIGUsIGkgPSBbXSwgbiA9IDAsIG8gPSB0Lmxlbmd0aDsgbiA8IG87IG4rKykgewplID0gdC5jaGFyQXQobik7CiInIiAhPT0gZSAmJiAnIicgIT09IGUgfHwgKGlbMF0gPT09IGUgPyBpLnNoaWZ0KCkgOiBpLnVuc2hpZnQoZSkpOwp9CnJldHVybiAwID09PSBpLmxlbmd0aDsKfShlKSkgewp1LmNhbGxPbkZhc3RJbml0KGkpOwp1LmNhbGxPblJlZ2lzdGVyZWQoaSk7CnUuaW5zdHJ1bWVudCgidGhlbWUuc2V0Rm9udENvbmZpZyIpOwp9IGVsc2Ugcih1LmdldFByZWZpeCgpICsgIjogdGhlbWUuc2V0Rm9udENvbmZpZygpIGVycm9yOiBNYWxmb3JtZWQgZm9udC1mYW1pbHkgc3RyaW5nLiIpOyBlbHNlIHIodS5nZXRQcmVmaXgoKSArICI6IHRoZW1lLnNldEZvbnRDb25maWcoKSBlcnJvcjogSW52YWxpZCBhcmd1bWVudHMuIik7Cn0KZnVuY3Rpb24gZih0KSB7CmZ1bmN0aW9uIGUodCkgewppZiAoXyh0KSkgcmV0dXJuIG51bGw7CmlmICghbCh0KSB8fCAwID09PSB0Lmxlbmd0aCkgcmV0dXJuICJpcyBvZiBpbnZhbGlkIHR5cGUiOwpmb3IgKHZhciBlID0gMCwgaSA9IHQubGVuZ3RoOyBlIDwgaTsgZSsrKSBpZiAoInN0cmluZyIgIT0gdHlwZW9mIHRbZV0pIHJldHVybiAiaXMgb2YgaW52YWxpZCB0eXBlIjsKcmV0dXJuIG51bGw7Cn0KZnVuY3Rpb24gaSh0KSB7CnJldHVybiBfKHQpID8gImlzIHJlcXVpcmVkIiA6IG51bGw7Cn0KdmFyIG4gPSB7CmN1c3RvbTogewp1cmxzOiBbIGksIGUgXQp9LApmb250ZGVjazogewppZDogWyBpLCAic3RyaW5nIiBdCn0sCm1vbm90eXBlOiB7CnByb2plY3RJZDogWyBpLCAic3RyaW5nIiBdCn0sCmdvb2dsZTogewpmYW1pbGllczogWyBpLCBlIF0sCnRleHQ6IFsgInN0cmluZyIgXQp9LAp0eXBla2l0OiB7CmlkOiBbIGksICJzdHJpbmciIF0sCmFwaTogWyAic3RyaW5nIiBdCn0KfSwgbyA9IFtdLCByID0gd2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUubG9nICYmIHdpbmRvdy5jb25zb2xlLmxvZy5iaW5kICYmIHdpbmRvdy5jb25zb2xlLmxvZy5iaW5kKHdpbmRvdy5jb25zb2xlKSB8fCB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS5sb2cgfHwgZnVuY3Rpb24oKSB7fTsKZm9yICh2YXIgYSBpbiB0KSBpZiAodC5oYXNPd25Qcm9wZXJ0eShhKSkgewppZiAoIW5bYV0pIHsKcih1LmdldFByZWZpeCgpICsgJzogdGhlbWUuc2V0Rm9udENvbmZpZygpIGVycm9yOiB1bmtub3duIGZvbnQgcHJvdmlkZXIgIicgKyBhICsgJyInKTsKcmV0dXJuICExOwp9CnZhciBzLCBkID0gblthXSwgYyA9IHRbYV07CmZvciAocyBpbiBkKSBpZiAoZC5oYXNPd25Qcm9wZXJ0eShzKSkgewp2YXIgaCA9IGRbc10sIGYgPSBmdW5jdGlvbih0LCBlLCBpLCBuKSB7CmZvciAodmFyIG8gPSAnYXR0cmlidXRlICInICsgZSArICciIG9mIHByb3ZpZGVyICInICsgdCArICciICcsIHIgPSAwLCBhID0gbi5sZW5ndGg7IHIgPCBhOyByKyspIHsKdmFyIHMgPSBuW3JdOwppZiAoInN0cmluZyIgPT0gdHlwZW9mIHMpIHsKaWYgKHZvaWQgMCAhPT0gaSAmJiB0eXBlb2YgaSAhPT0gcykgcmV0dXJuIG8gKyAiaXMgb2YgaW52YWxpZCB0eXBlIjsKfSBlbHNlIHsKdmFyIF8gPSBzKGkpOwppZiAoXykgcmV0dXJuIG8gKyBfOwp9Cn0KcmV0dXJuIG51bGw7Cn0oYSwgcywgY1tzXSwgaCk7CmlmIChmKSB7CnIodS5nZXRQcmVmaXgoKSArICI6IHRoZW1lLnNldEZvbnRDb25maWcoKSBlcnJvcjogIiArIGYpOwpyZXR1cm4gITE7Cn0KfQpmb3IgKHMgaW4gYykgYy5oYXNPd25Qcm9wZXJ0eShzKSAmJiAoZFtzXSB8fCBvLnB1c2goYSArICIuIiArIHMpKTsKfQpvLmxlbmd0aCA+IDAgJiYgcih1LmdldFByZWZpeCgpICsgIjogdGhlbWUuc2V0Rm9udENvbmZpZygpIHdhcm5pbmc6IHVudXNlZCBwYXRocyBpbiB3ZWJfZm9udF9jb25maWc6ICIgKyBvLmpvaW4oIiwgIikpOwpyZXR1cm4gITA7Cn0KZnVuY3Rpb24gZygpIHsKZnVuY3Rpb24gdCgpIHsKdS5zYXZlUG9wb3V0QVBJQ2FsbHMoInRoZW1lLnJlbG9hZCIsIFtdKTsKby4kKCJsaXZlY2hhdCIpLiQoInVpIikudXBkYXRlKHsKdGhlbWVfcmVsb2FkJGJvb2w6ICEwCn0pOwp9CnUuY2FsbE9uRmFzdEluaXQodCk7CnUuY2FsbE9uUmVnaXN0ZXJlZCh0KTsKdS5pbnN0cnVtZW50KCJ0aGVtZS5yZWxvYWQiKTsKfQpmdW5jdGlvbiBwKHQpIHsKaWYgKG0odCkpIHsKdS5pbnN0cnVtZW50KCJ0aGVtZS5zZXRQcm9maWxlQ2FyZENvbmZpZyIpOwokKHQpOwp9IGVsc2Ugd2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUubG9nKHUuZ2V0UHJlZml4KCkgKyAiOiBzZXRQcm9maWxlQ2FyZENvbmZpZygpIEludmFsaWQgYXJndW1lbnQuIFBsZWFzZSByZWZlciB0byB0aGUgQVBJIGRvY3VtZW50YXRpb24uIik7Cn0KZnVuY3Rpb24gbSh0KSB7CmlmICghdCB8fCAib2JqZWN0IiAhPSB0eXBlb2YgdCkgcmV0dXJuICExOwpmb3IgKHZhciBlIGluIHQpIGlmICh0Lmhhc093blByb3BlcnR5KGUpICYmICJib29sZWFuIiAhPSB0eXBlb2YgdFtlXSkgcmV0dXJuICExOwpyZXR1cm4gITA7Cn0KZnVuY3Rpb24gJCh0KSB7CnZhciBlID0ge307CiJhdmF0YXIiIGluIHQgJiYgKGUuZGlzcGxheV9hdmF0YXIkYm9vbCA9IHQuYXZhdGFyKTsKInRpdGxlIiBpbiB0ICYmIChlLmRpc3BsYXlfdGl0bGVfbmFtZSRib29sID0gdC50aXRsZSk7CiJyYXRpbmciIGluIHQgJiYgKGUuZGlzcGxheV9yYXRpbmckYm9vbCA9IHQucmF0aW5nKTsKYihlKTsKdS5zYXZlUG9wb3V0QVBJQ2FsbHMoInRoZW1lLnNldFByb2ZpbGVDYXJkQ29uZmlnIiwgWyB0IF0pOwp9CmZ1bmN0aW9uIGIodCkgewpmdW5jdGlvbiBlKCkgewp1LnNhdmVBUElTZXR0aW5ncyh7CnNldHRpbmdzOiB7CnRoZW1lOiB7CmNoYXRfd2luZG93OiB7CnByb2ZpbGVfY2FyZDogdAp9Cn0KfQp9KTsKci51cGRhdGUodCk7Cn0KdS5jYWxsT25GYXN0SW5pdChlKTsKdS5jYWxsT25SZWdpc3RlcmVkKGUpOwp1Lmluc3RydW1lbnQoInRoZW1lLnNldFByb2ZpbGVDYXJkRGlzcGxheSIpOwp9Cm4gPSB0OwpvID0gZC5yb290OwpyID0gby4kKCJsaXZlY2hhdCIpLiQoInNldHRpbmdzIikuJCgidGhlbWUiKS4kKCJjaGF0X3dpbmRvdyIpLiQoInByb2ZpbGVfY2FyZCIpOwphID0gby4kKCJsaXZlY2hhdCIpLiQoImdhdGVzIikuJCgic2V0X2ZvbnRfY29uZmlnJGJvb2wiKTsKYy5zZXRUaGVtZSA9IG4uZ2VuZXJhdGVMaW1pdGVkRnVuY3Rpb24oInRoZW1lLnNldFRoZW1lIiwgMiwgZnVuY3Rpb24odCkgewpmdW5jdGlvbiBlKCkgewp1LnNhdmVBUElTZXR0aW5ncyh7CnNldHRpbmdzOiB7CnRoZW1lOiB7Cm5hbWUkc3RyaW5nOiB0LnRvU3RyaW5nKCkKfQp9Cn0pOwpvLiQoImxpdmVjaGF0IikuJCgic2V0dGluZ3MiKS4kKCJ0aGVtZSIpLnVwZGF0ZSh7Cm5hbWUkc3RyaW5nOiB0LnRvU3RyaW5nKCkKfSk7Cn0KdS5zYXZlUG9wb3V0QVBJQ2FsbHMoInRoZW1lLnNldFRoZW1lIiwgWyB0LnRvU3RyaW5nKCkgXSk7CnUuY2FsbE9uRmFzdEluaXQoZSwgITApOwp1LmNhbGxPblJlZ2lzdGVyZWQoZSwgITApOwp1Lmluc3RydW1lbnQoInRoZW1lLnNldFRoZW1lIik7Cn0pOwpjLnNldENvbG9yID0gZTsKYy5zZXRDb2xvcnMgPSBuLmdlbmVyYXRlTGltaXRlZEZ1bmN0aW9uKCJ0aGVtZS5zZXRDb2xvcnMiLCAxLCBpKTsKYy5zZXRGb250Q29uZmlnID0gaDsKYy52YWxpZGF0ZUNvbmZpZyA9IGY7CmMucmVsb2FkID0gZzsKYy5zZXRQcm9maWxlQ2FyZENvbmZpZyA9IHA7Cn07CnQuZXhwb3J0cyA9IGM7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbigpIHsKViA9IGV0LnJvb3Q7CmlmICghVi4kKCJsaXZlY2hhdCIpLiQoInVpIikuJCgibW9ja3VwJGJvb2wiKS5nZXRWYWx1ZSgpKSB7CnZhciB0ID0gdGhpczsKbnQuaW5pdCh0KTsKb3QuaW5pdCh0KTsKcnQuaW5pdCh0KTsKYXQuaW5pdCh0KTsKc3QuaW5pdCh0KTsKX3QuaW5pdCh0KTsKbHQuaW5pdCh0KTsKZHQuaW5pdCh0KTsKdXQuaW5pdCh0KTsKY3QuaW5pdCh0KTsKaHQuaW5pdCh0KTsKZnQuaW5pdCh0KTsKTygpOwpWLiQoImxpdmVjaGF0IikuJCgidWkiKS4kKCJwb3BvdXQkYm9vbCIpLmdldFZhbHVlKCkgJiYgVygpOwp9Cn0KZnVuY3Rpb24gbygpIHsKbnQuaW5zdHJ1bWVudCgibGl2ZWNoYXQuZ2V0TmFtZSIpOwpyZXR1cm4gVi4kKCJsaXZlY2hhdCIpLiQoInByb2ZpbGUiKS4kKCJkaXNwbGF5X25hbWUkc3RyaW5nIikuZ2V0VmFsdWUoKSB8fCAiIjsKfQpmdW5jdGlvbiByKCkgewpudC5pbnN0cnVtZW50KCJsaXZlY2hhdC5nZXRFbWFpbCIpOwpyZXR1cm4gVi4kKCJsaXZlY2hhdCIpLiQoInByb2ZpbGUiKS4kKCJlbWFpbCRzdHJpbmciKS5nZXRWYWx1ZSgpIHx8ICIiOwp9CmZ1bmN0aW9uIGEoKSB7Cm50Lmluc3RydW1lbnQoImxpdmVjaGF0LmdldFBob25lIik7CnJldHVybiBWLiQoImxpdmVjaGF0IikuJCgicHJvZmlsZSIpLiQoInBob25lJHN0cmluZyIpLmdldFZhbHVlKCkgfHwgIiI7Cn0KZnVuY3Rpb24gcygpIHsKbnQuaW5zdHJ1bWVudCgibGl2ZWNoYXQuaXNDaGF0dGluZyIpOwpyZXR1cm4gVi4kKCJsaXZlY2hhdCIpLiQoImNoYW5uZWwiKS4kKCJjaGF0dGluZyRib29sIikuZ2V0VmFsdWUoKSB8fCAhMTsKfQpmdW5jdGlvbiBfKHQpIHsKaWYgKCJvYmplY3QiID09IHR5cGVvZiB0KSB7CnZhciBlLCBpLCBuID0gdGhpczsKZm9yIChpIGluIHQpIGlmICh0Lmhhc093blByb3BlcnR5KGkpKSB7CmUgPSAic2V0IiArIEYoaSk7ClUobltlXSkgJiYgbltlXSh0W2ldKTsKfQpudC5pbnN0cnVtZW50KCJsaXZlY2hhdC5zZXQiKTsKcmV0dXJuIG47Cn0KfQpmdW5jdGlvbiBsKHQpIHsKZnVuY3Rpb24gZSgpIHsKei5pc0F1dGhlbnRpY2F0ZWQoKSA/IHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLmxvZyhudC5nZXRQcmVmaXgoKSArICI6IHNldE5hbWUgQVBJIGlnbm9yZWQgZm9yIGF1dGhlbnRpY2F0ZWQgdmlzaXRvcnMuIikgOiBldC5saXZlY2hhdC51cGRhdGVQcm9maWxlKHsKbmFtZTogdAp9KTsKfQp0ID0gdCAmJiB0LnRvU3RyaW5nKCk7CmlmIChWLiQoImxpdmVjaGF0IikuJCgicHJvZmlsZSIpLiQoImRpc3BsYXlfbmFtZSRzdHJpbmciKS5nZXRWYWx1ZSgpICE9PSB0KSBpZiAodCAmJiB0Lmxlbmd0aCA+IDI1NSkgd2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUud2FybiAmJiB3aW5kb3cuY29uc29sZS53YXJuKG50LmdldFByZWZpeCgpICsgIjogc2V0TmFtZSgpOiB0aGUgcHJvdmlkZWQgbmFtZSBjYW5ub3QgZXhjZWVkIDI1NSBjaGFyYWN0ZXJzIik7IGVsc2UgewpudC5jYWxsT25GYXN0SW5pdChlKTsKbnQuY2FsbE9uUmVhdHRhY2hlZChlKTsKbnQuaW5zdHJ1bWVudCgibGl2ZWNoYXQuc2V0TmFtZSIpOwp9Cn0KZnVuY3Rpb24gZCh0KSB7CmZ1bmN0aW9uIGUoKSB7CnouaXNBdXRoZW50aWNhdGVkKCkgPyB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS5sb2cobnQuZ2V0UHJlZml4KCkgKyAiOiBzZXRFbWFpbCBBUEkgaWdub3JlZCBmb3IgYXV0aGVudGljYXRlZCB2aXNpdG9ycy4iKSA6IGV0LmxpdmVjaGF0LnVwZGF0ZVByb2ZpbGUoewplbWFpbDogdAp9KTsKfQp0ID0gdCAmJiB0LnRvU3RyaW5nKCkudHJpbSgpOwppZiAoVi4kKCJsaXZlY2hhdCIpLiQoInByb2ZpbGUiKS4kKCJlbWFpbCRzdHJpbmciKS5nZXRWYWx1ZSgpICE9PSB0KSBpZiAodHQuZW1haWwudGVzdCh0KSkgewpudC5jYWxsT25GYXN0SW5pdChlKTsKbnQuY2FsbE9uUmVhdHRhY2hlZChlKTsKbnQuaW5zdHJ1bWVudCgibGl2ZWNoYXQuc2V0RW1haWwiKTsKfSBlbHNlIHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLmxvZyhudC5nZXRQcmVmaXgoKSArICI6IHNldEVtYWlsKCk6IHRoZSBlbWFpbCBwcm92aWRlZCBpcyBub3QgdmFsaWQ6IFsiICsgdCArICJdIik7Cn0KZnVuY3Rpb24gdSh0KSB7CmZ1bmN0aW9uIGUoKSB7CmV0LmxpdmVjaGF0LnVwZGF0ZVByb2ZpbGUoewpwaG9uZTogdAp9KTsKfQp0ID0gdCAmJiB0LnRvU3RyaW5nKCk7CmlmIChWLiQoImxpdmVjaGF0IikuJCgicHJvZmlsZSIpLiQoInBob25lJHN0cmluZyIpLmdldFZhbHVlKCkgIT09IHQpIGlmICh0ICYmIHQubGVuZ3RoID4gMjUpIHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLndhcm4gJiYgd2luZG93LmNvbnNvbGUud2FybihudC5nZXRQcmVmaXgoKSArICI6IHNldFBob25lKCk6IHRoZSBwcm92aWRlZCBwaG9uZSBudW1iZXIgY2Fubm90IGV4Y2VlZCAyNSBjaGFyYWN0ZXJzIik7IGVsc2UgewpudC5jYWxsT25GYXN0SW5pdChlKTsKbnQuY2FsbE9uUmVhdHRhY2hlZChlKTsKbnQuaW5zdHJ1bWVudCgibGl2ZWNoYXQuc2V0UGhvbmUiKTsKfQp9CmZ1bmN0aW9uIGMoKSB7CmZ1bmN0aW9uIHQoKSB7ClYuJCgibGl2ZWNoYXQiKS4kKCJjaGFubmVsIikuJCgidGFncyIpLndyaXRlKHsKYWRkZWQkc3RyaW5nOiBuLmpvaW4oIiwiKQp9KTsKfQppZiAoYXJndW1lbnRzLmxlbmd0aCkgewpmb3IgKHZhciBlLCBpID0gYXJndW1lbnRzLCBuID0gW10sIG8gPSAwLCByID0gaS5sZW5ndGg7IG8gPCByOyBvKyspIHsKZSA9IChpW29dICsgIiIpLnRyaW0oKTsKZSAmJiBuLnB1c2goZSk7Cn0KbnQuY2FsbE9uRmFzdEluaXQodCk7Cm50LmNhbGxPblJlYXR0YWNoZWQodCk7Cm50Lmluc3RydW1lbnQoImxpdmVjaGF0LmFkZFRhZ3MiKTsKfQp9CmZ1bmN0aW9uIGgodCkgewpmdW5jdGlvbiBlKCkgewpWLiQoImxpdmVjaGF0IikuJCgic2Vzc2lvbiIpLiQoInBhZ2VfcGF0aCIpLndyaXRlKHsKdXJsJHN0cmluZzogaSwKdGl0bGUkc3RyaW5nOiBuCn0pOwp9CnZhciBpLCBuOwppZiAoIm9iamVjdCIgPT0gdHlwZW9mIHQgJiYgdCAmJiAoaSA9IE0odC51cmwpKSkgbiA9IHQudGl0bGUgfHwgJHQudGl0bGUgfHwgIiI7IGVsc2UgewppZiAoIUcodCkpIHsKd2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUubG9nKG50LmdldFByZWZpeCgpICsgIjogc2VuZFZpc2l0b3JQYXRoKCk6IHRoZSBwYXJhbWV0ZXJzIHByb3ZpZGVkIGFyZSBub3QgdmFsaWQuIFBsZWFzZSByZWZlciB0byB0aGUgQVBJIGRvY3VtZW50YXRpb24uIik7CnJldHVybjsKfQppID0gYnQgKyAiIjsKbiA9ICR0LnRpdGxlIHx8ICIiOwp9Cm50LmNhbGxPblJlYXR0YWNoZWQoZSk7Cm50Lmluc3RydW1lbnQoImxpdmVjaGF0LnNlbmRWaXNpdG9yUGF0aCIpOwp9CmZ1bmN0aW9uIGYoKSB7CmZ1bmN0aW9uIHQoKSB7ClYuJCgibGl2ZWNoYXQiKS4kKCJjaGFubmVsIikuJCgidGFncyIpLndyaXRlKHsKcmVtb3ZlZCRzdHJpbmc6IG4uam9pbigiLCIpCn0pOwp9CmlmIChhcmd1bWVudHMubGVuZ3RoKSB7CmZvciAodmFyIGUsIGkgPSBhcmd1bWVudHMsIG4gPSBbXSwgbyA9IDAsIHIgPSBpLmxlbmd0aDsgbyA8IHI7IG8rKykgewplID0gKGlbb10gKyAiIikudHJpbSgpOwplICYmIG4ucHVzaChlKTsKfQpudC5jYWxsT25GYXN0SW5pdCh0KTsKbnQuY2FsbE9uUmVhdHRhY2hlZCh0KTsKbnQuaW5zdHJ1bWVudCgibGl2ZWNoYXQucmVtb3ZlVGFncyIpOwp9IGVsc2Ugd2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUubG9nKG50LmdldFByZWZpeCgpICsgIjogcmVtb3ZlVGFncygpOiBQbGVhc2UgcHJvdmlkZSBhdCBsZWFzdCBvbmUgdGFnIik7Cn0KZnVuY3Rpb24gZyh0KSB7CmZ1bmN0aW9uIGUoKSB7ClYuJCgibGl2ZWNoYXQiKS4kKCJwcm9maWxlIikuJCgibm90aWZpY2F0aW9uIikudXBkYXRlKHsKc291bmQkYm9vbDogIXQKfSk7Cn0KaWYgKCJib29sZWFuIiA9PSB0eXBlb2YgdCkgewpudC5jYWxsT25GYXN0SW5pdChlKTsKbnQuY2FsbE9uUmVnaXN0ZXJlZChlKTsKbnQuaW5zdHJ1bWVudCgibGl2ZWNoYXQuc2V0RGlzYWJsZVNvdW5kIik7Cn0gZWxzZSB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS5sb2cobnQuZ2V0UHJlZml4KCkgKyAiOiBzZXREaXNhYmxlU291bmQoKSBleHBlY3RzIHBhc3NlZCBhcmd1bWVudCB0byBiZSB0cnVlL2ZhbHNlIik7Cn0KZnVuY3Rpb24gcCh0KSB7CmZ1bmN0aW9uIGUoKSB7CnEuc2V0RGlzYWJsZWQodCk7Cn0KaWYgKCJib29sZWFuIiA9PSB0eXBlb2YgdCkgewpudC5jYWxsT25GYXN0SW5pdChlKTsKbnQuY2FsbE9uUmVnaXN0ZXJlZChlKTsKbnQuaW5zdHJ1bWVudCgibGl2ZWNoYXQuc2V0RGlzYWJsZUdvb2dsZUFuYWx5dGljcyIpOwp9IGVsc2Ugd2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUubG9nKG50LmdldFByZWZpeCgpICsgIjogc2V0RGlzYWJsZUdvb2dsZUFuYWx5dGljcygpIGV4cGVjdHMgcGFzc2VkIGFyZ3VtZW50IHRvIGJlIHRydWUvZmFsc2UiKTsKfQpmdW5jdGlvbiBtKHQpIHsKZnVuY3Rpb24gZSgpIHsKbnQuc2F2ZUFQSVNldHRpbmdzKHsKc2V0dGluZ3M6IHsKbGFuZ3VhZ2U6IHsKbGFuZ3VhZ2Ukc3RyaW5nOiB0Cn0KfQp9KTsKVi4kKCJsaXZlY2hhdCIpLiQoInNldHRpbmdzIikuJCgibGFuZ3VhZ2UiKS51cGRhdGUoewpsYW5ndWFnZSRzdHJpbmc6IHQKfSk7Cn0KaWYgKFkodCkgJiYgdCkgewpudC5jYWxsT25GYXN0SW5pdChlKTsKbnQuY2FsbE9uUmVnaXN0ZXJlZChlKTsKbnQuaW5zdHJ1bWVudCgibGl2ZWNoYXQuc2V0TGFuZ3VhZ2UiKTsKfSBlbHNlIHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLmxvZyhudC5nZXRQcmVmaXgoKSArICI6IHNldExhbmd1YWdlKCkgZXhwZWN0cyBwYXNzZWQgYXJndW1lbnQgdG8gYmUgYSBub24tZW1wdHkgc3RyaW5nIik7Cn0KZnVuY3Rpb24gJCh0KSB7CmZ1bmN0aW9uIGUodCkgewppZiAob1t0XSAmJiBZKG9bdF0pKSB7CnZhciBlID0ge307CmVbdCArICIkc3RyaW5nIl0gPSBvW3RdOwpudC5zYXZlQVBJU2V0dGluZ3MoewpzZXR0aW5nczogewpncmVldGluZ3M6IGUKfQp9KTsKVi4kKCJsaXZlY2hhdCIpLiQoInNldHRpbmdzIikuJCgiZ3JlZXRpbmdzIikudXBkYXRlKGUpOwp9IGVsc2Ugd2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUubG9nKG50LmdldFByZWZpeCgpICsgJzogc2V0R3JlZXRpbmdzKCkgZXhwZWN0cyBhIG5vbi1lbXB0eSBzdHJpbmcgdG8gYmUgcHJvdmlkZWQgZm9yICInICsgdCArICciJyk7Cn0KZnVuY3Rpb24gaSh0KSB7CnZhciBlID0ge307CmVbdCArICIkc3RyaW5nIl0gPSBudWxsOwpudC5yZXNldEFQSVNldHRpbmdzKHsKc2V0dGluZ3M6IHsKZ3JlZXRpbmdzOiBlCn0KfSk7CnZhciBpID0gbnQuZ2V0U2VydmVyU2V0dGluZ3MoInNldHRpbmdzLmdyZWV0aW5ncy4iICsgdCArICIkc3RyaW5nIik7CmlmIChpKSB7CmVbdCArICIkc3RyaW5nIl0gPSBpOwpWLiQoImxpdmVjaGF0IikuJCgic2V0dGluZ3MiKS4kKCJncmVldGluZ3MiKS51cGRhdGUoZSk7Cn0KfQpmdW5jdGlvbiBuKHQsIGUpIHsKaWYgKGUgaW4gdCkgcmV0dXJuIFgodFtlXSkgPyB0W2VdWzBdIDogdFtlXTsKfQppZiAodCAmJiAib2JqZWN0IiA9PSB0eXBlb2YgdCkgewp2YXIgbyA9IHsKb25saW5lOiBuKHQsICJvbmxpbmUiKSwKb2ZmbGluZTogbih0LCAib2ZmbGluZSIpCn0sIHIgPSBmdW5jdGlvbigpIHsKKG51bGwgPT09IG8ub25saW5lID8gaSA6IGUpKCJvbmxpbmUiKTsKKG51bGwgPT09IG8ub2ZmbGluZSA/IGkgOiBlKSgib2ZmbGluZSIpOwp9OwpudC5jYWxsT25GYXN0SW5pdChyLCAhMCk7Cm50LmNhbGxPblJlYXR0YWNoZWQociwgITApOwpudC5pbnN0cnVtZW50KCJsaXZlY2hhdC5zZXRHcmVldGluZ3MiKTsKfQp9CmZ1bmN0aW9uIGIoKSB7CmZ1bmN0aW9uIHQoKSB7CmV0LmxpdmVjaGF0LmNsZWFyQWxsKCk7CmV0LmxpdmVjaGF0LnJlY29ubmVjdCgpOwp9Cm50LmNhbGxPblJlZ2lzdGVyZWQodCk7Cm50Lmluc3RydW1lbnQoImxpdmVjaGF0LmNsZWFyQWxsIik7Cn0KZnVuY3Rpb24gdygpIHsKZnVuY3Rpb24gdCgpIHsKaXQuaGlkZUFsbCgpOwp9CnZhciBlID0gSi5vbmNlKHQpOwpudC5jYWxsT25GYXN0SW5pdChlKTsKbnQuY2FsbE9uUmVnaXN0ZXJlZChlKTsKbnQuaW5zdHJ1bWVudCgibGl2ZWNoYXQuaGlkZUFsbCIpOwp9CmZ1bmN0aW9uIHgodCkgewppZiAodCAmJiAic3RyaW5nIiA9PSB0eXBlb2YgdCkgewpudC5jYWxsT25SZWF0dGFjaGVkKGZ1bmN0aW9uKCkgewp2YXIgZSA9IFYuJCgibGl2ZWNoYXQiKS4kKCJwcm9maWxlIikuJCgiZGVwYXJ0bWVudF9pZCRpbnQiKS5nZXRWYWx1ZSgpLCBpID0gewptc2c6IHQKfTsKZSAmJiAoaS5kZXBhcnRtZW50ID0gZSk7CmV0LmxpdmVjaGF0LnNlbmRDaGF0TXNnKGkpOwptdC53aW5kb3cuc2hvdygpOwp9KTsKbnQuaW5zdHJ1bWVudCgibGl2ZWNoYXQuc2F5Iik7Cn0gZWxzZSB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS5sb2cobnQuZ2V0UHJlZml4KCkgKyAiOiBzYXkoKSBleHBlY3RzIGEgbm9uLWVtcHR5IHN0cmluZyB0byBiZSBwcm92aWRlZCBhcyBhbiBhcmd1bWVudCIpOwp9CmZ1bmN0aW9uIHYodCkgewppZiAoVSh0KSkgewpudC5jYWxsT25SZWF0dGFjaGVkKG50LmdldENhbGxiYWNrQ2FsbGVyKHQpLCAhMCk7Cm50Lmluc3RydW1lbnQoImxpdmVjaGF0LnNldE9uQ29ubmVjdGVkIik7Cn0gZWxzZSB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS5sb2cobnQuZ2V0UHJlZml4KCkgKyAiOiBzZXRPbkNvbm5lY3RlZCgpIGV4cGVjdHMgYSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBwcm92aWRlZCIpOwp9CmZ1bmN0aW9uIHkodCkgewp2YXIgZSA9IHh0Lmxhc3RfY2hhdHRpbmdfc3RhdGUsIGkgPSBaKHQpOwppZiAoaSAhPT0geHQubGFzdF9jaGF0dGluZ19zdGF0ZSkgewp4dC5sYXN0X2NoYXR0aW5nX3N0YXRlID0gaTsKaSA/IHh0LnN0YXJ0X3JlYWR5ICYmIHh0LmZpcmUoImNoYXRfc3RhcnQiKSA6IGUgJiYgeHQuZmlyZSgiY2hhdF9lbmQiKTsKfQp9CmZ1bmN0aW9uIGooKSB7CmlmICgheHQubGlzdGVuaW5nKSB7Cnh0Lmxpc3RlbmluZyA9ICEwOwpWLiQoImxpdmVjaGF0IikuJCgiY2hhbm5lbCIpLiQoImNoYXR0aW5nJGJvb2wiKS5iaW5kVmFsdWUoeSk7Cn0KfQpmdW5jdGlvbiBDKHQpIHsKaWYgKFUodCkpIHsKeHQub24oImNoYXRfc3RhcnQiLCBudC5nZXRDYWxsYmFja0NhbGxlcih0KSk7CmooKTsKbnQuaW5zdHJ1bWVudCgibGl2ZWNoYXQuc2V0T25DaGF0U3RhcnQiKTsKaWYgKCF4dC5zdGFydF9zZXR0bGVkKSB7Cnh0LnN0YXJ0X3NldHRsZWQgPSAhMDsKbnQuY2FsbE9uUmVhdHRhY2hlZChmdW5jdGlvbigpIHsKeHQubGFzdF9jaGF0dGluZ19zdGF0ZSA9IFooVi4kKCJsaXZlY2hhdCIpLiQoImNoYW5uZWwiKS4kKCJjaGF0dGluZyRib29sIikuZ2V0VmFsdWUoKSk7Cnh0LnN0YXJ0X3JlYWR5ID0gITA7Cn0pOwp9Cn0gZWxzZSB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS5sb2cobnQuZ2V0UHJlZml4KCkgKyAiOiBzZXRPbkNoYXRTdGFydCgpIGV4cGVjdHMgYSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBwcm92aWRlZCIpOwp9CmZ1bmN0aW9uIFModCkgewppZiAoVSh0KSkgewp4dC5vbigiY2hhdF9lbmQiLCBudC5nZXRDYWxsYmFja0NhbGxlcih0KSk7CmooKTsKbnQuaW5zdHJ1bWVudCgibGl2ZWNoYXQuc2V0T25DaGF0RW5kIik7Cn0gZWxzZSB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS5sb2cobnQuZ2V0UHJlZml4KCkgKyAiOiBzZXRPbkNoYXRFbmQoKSBleHBlY3RzIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgcHJvdmlkZWQiKTsKfQpmdW5jdGlvbiBBKHQpIHsKVSh0KSA/IG50LmNhbGxPblJlZ2lzdGVyZWQobnQuZ2V0Q2FsbGJhY2tDYWxsZXIodCksICEwKSA6IHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLmxvZyhudC5nZXRQcmVmaXgoKSArICI6IHNldE9uRmxhc2hSZWFkeSgpIGV4cGVjdHMgYSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBwcm92aWRlZCIpOwp9CmZ1bmN0aW9uIGsodCkgewpmdW5jdGlvbiBlKCkgewppKG4uZ2V0VmFsdWUoKSk7Cn0KaWYgKFUodCkpIHsKdmFyIGkgPSBudC5nZXRDYWxsYmFja0NhbGxlcih0KSwgbiA9IFYuJCgibGl2ZWNoYXQiKS4kKCJhY2NvdW50IikuJCgic3RhdHVzJHN0cmluZyIpLCBvID0gVi4kKCJsaXZlY2hhdCIpLiQoImRlcGFydG1lbnRzIiksIHIgPSBILmRlYm91bmNlKGUpOwpuLmJpbmRWYWx1ZShyKTsKby5iaW5kVmFsdWUocik7Cm50Lmluc3RydW1lbnQoImxpdmVjaGF0LnNldE9uU3RhdHVzIik7Cn0gZWxzZSB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS5sb2cobnQuZ2V0UHJlZml4KCkgKyAiOiBzZXRPblN0YXR1cygpIGV4cGVjdHMgYSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBwcm92aWRlZCIpOwp9CmZ1bmN0aW9uIEkodCkgewppZiAoVSh0KSkgewp2YXIgZTsKdCA9IG50LmdldENhbGxiYWNrQ2FsbGVyKHQpOwpWLiQoImxpdmVjaGF0IikuJCgidWkiKS4kKCJjaGF0X2J1dHRvbiIpLiQoInVucmVhZF9jb3VudCRpbnQiKS5iaW5kVmFsdWUoZnVuY3Rpb24oaSkgewppZiAoUShpKSAmJiBlICE9IGkpIHsKZSA9IGk7Cm50LmNhbGxOb3codCwgZSk7Cn0KfSk7Cm50Lmluc3RydW1lbnQoImxpdmVjaGF0LnNldE9uVW5yZWFkTXNncyIpOwp9IGVsc2Ugd2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUubG9nKG50LmdldFByZWZpeCgpICsgIjogc2V0T25VbnJlYWRNc2dzKCkgZXhwZWN0cyBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIHByb3ZpZGVkIik7Cn0KZnVuY3Rpb24gVCgpIHsKZXQubGl2ZWNoYXQuZW5kQ2hhdCgpOwpudC5pbnN0cnVtZW50KCJsaXZlY2hhdC5lbmRDaGF0Iik7Cn0KZnVuY3Rpb24gTih0KSB7CmZ1bmN0aW9uIGUoKSB7CmlmIChZKHQpICYmIHQpIHsKdCA9IHQudG9Mb3dlckNhc2UoKTsKaWYgKCJvbmxpbmUiID09PSB0IHx8ICJvZmZsaW5lIiA9PT0gdCkgewpudC5zYXZlQVBJU2V0dGluZ3MoewphY2NvdW50OiB7CnN0YXR1cyRzdHJpbmc6IHQKfQp9KTsKVi4kKCJsaXZlY2hhdCIpLiQoImFjY291bnQiKS51cGRhdGUoewpzdGF0dXMkc3RyaW5nOiB0Cn0pOwp9IGVsc2Ugd2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUubG9nKG50LmdldFByZWZpeCgpICsgJzogc2V0U3RhdHVzKCkgb25seSBhY2NlcHRzICJvbmxpbmUiIG9yICJvZmZsaW5lIiBhcyBhIHZhbGlkIHN0YXR1cycpOwp9IGVsc2Ugd2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUubG9nKG50LmdldFByZWZpeCgpICsgIjogc2V0U3RhdHVzKCkgZXhwZWN0cyBwYXNzZWQgYXJndW1lbnQgdG8gYmUgYSBub24tZW1wdHkgc3RyaW5nIik7Cn0KZnVuY3Rpb24gaSgpIHsKbnQucmVzZXRBUElTZXR0aW5ncyh7CmFjY291bnQ6IHsKc3RhdHVzJHN0cmluZzogbnVsbAp9Cn0pOwp2YXIgdCA9IG50LmdldFNlcnZlclNldHRpbmdzKCJhY2NvdW50LnN0YXR1cyRzdHJpbmciKTsKdCAmJiBWLiQoImxpdmVjaGF0IikuJCgiYWNjb3VudCIpLnVwZGF0ZSh7CnN0YXR1cyRzdHJpbmc6IHQKfSk7Cn0KdmFyIG4gPSBudWxsID09PSB0ID8gaSA6IGU7Cm50LnNhdmVQb3BvdXRBUElDYWxscygic2V0U3RhdHVzIiwgWyB0IF0pOwpudC5jYWxsT25GYXN0SW5pdChuKTsKbnQuY2FsbE9uUmVhdHRhY2hlZChuKTsKbnQuaW5zdHJ1bWVudCgibGl2ZWNoYXQuc2V0U3RhdHVzIik7Cn0KZnVuY3Rpb24gQih0KSB7CmZ1bmN0aW9uIGUoKSB7ClYuJCgibGl2ZWNoYXQiKS4kKCJwcm9maWxlIikud3JpdGUoewpub3RlcyRzdHJpbmc6IHQKfSk7Cn0KaWYgKFkodCkpIHsKbnQuY2FsbE9uRmFzdEluaXQoZSk7Cm50LmNhbGxPblJlYXR0YWNoZWQoZSk7Cm50Lmluc3RydW1lbnQoImxpdmVjaGF0LnNldE5vdGVzIik7Cn0gZWxzZSB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS5sb2cobnQuZ2V0UHJlZml4KCkgKyAiOiBzZXROb3RlcygpIGV4cGVjdHMgcGFzc2VkIGFyZ3VtZW50IHRvIGJlIGEgc3RyaW5nIik7Cn0KZnVuY3Rpb24gRCh0KSB7CmZ1bmN0aW9uIGUoKSB7ClYuJCgibGl2ZWNoYXQiKS4kKCJwcm9maWxlIikud3JpdGUoewpub3Rlc19hcHBlbmQkc3RyaW5nOiB0Cn0pOwp9CmlmIChZKHQpKSB7Cm50LmNhbGxPblJlYXR0YWNoZWQoZSk7Cm50Lmluc3RydW1lbnQoImxpdmVjaGF0LmFwcGVuZE5vdGVzIik7Cn0gZWxzZSB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS5sb2cobnQuZ2V0UHJlZml4KCkgKyAiOiBhcHBlbmROb3RlcygpIGV4cGVjdHMgcGFzc2VkIGFyZ3VtZW50IHRvIGJlIGEgc3RyaW5nIik7Cn0KZnVuY3Rpb24gRSh0KSB7CmlmICgib2JqZWN0IiA9PSB0eXBlb2YgdCAmJiBVKHQuand0Rm4pKSB7Cm50Lmluc3RydW1lbnQoImxpdmVjaGF0LmF1dGhlbnRpY2F0ZSIpOwpWLiQoImNvbm5lY3Rpb24iKS4kKCJzdGF0dXMkc3RyaW5nIikuZ2V0VmFsdWUoKSA/IHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLmxvZyhudC5nZXRQcmVmaXgoKSArICI6IHZpc2l0b3IgYXV0aGVudGljYXRpb24gbXVzdCBiZSBpbml0aWF0ZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgZW1iZWRkaW5nIHNjcmlwdCIpIDogei5zZXRTaXRlSldURnVuYyh0Lmp3dEZuKTsKfSBlbHNlIHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLmxvZyhudC5nZXRQcmVmaXgoKSArICI6IGF1dGhlbnRpY2F0ZSgpOiB0aGUgcGFyYW1ldGVycyBwcm92aWRlZCBhcmUgbm90IHZhbGlkLiBQbGVhc2UgcmVmZXIgdG8gdGhlIEFQSSBkb2N1bWVudGF0aW9uLiIpOwp9CmZ1bmN0aW9uIE8oKSB7CnZhciB0ID0gd2luZG93LiR6b3BpbTsKd2luZG93LiR6b3BpbSA9IG50LmNhbGxOb3c7CndpbmRvdy4kem9waW0ubGl2ZWNoYXQgPSBtdDsKbnQuaGFuZGxlRGVsYXllZCh0ICYmIHQuXyk7Cn0KZnVuY3Rpb24gTCgpIHsKdmFyIHQgPSB3aW5kb3cuJHpvcGltLCBlID0gdCAmJiB0Lm9uRXJyb3I7CmlmICgiZnVuY3Rpb24iID09IHR5cGVvZiBlKSB7CmUgPSBudC5nZXRDYWxsYmFja0NhbGxlcihlKTsKbnQuY2FsbE5vdyhlKTsKfQp9CmZ1bmN0aW9uIFcoKSB7Cnd0ID0gewoiZGVwYXJ0bWVudHMuZmlsdGVyIjogbHQuZmlsdGVyLAoiZGVwYXJ0bWVudHMuc2V0TGFiZWwiOiBsdC5zZXRMYWJlbCwKInByZWNoYXRGb3JtLnNldEdyZWV0aW5ncyI6IGh0LnNldEdyZWV0aW5ncywKIm9mZmxpbmVGb3JtLnNldEdyZWV0aW5ncyI6IGZ0LnNldEdyZWV0aW5ncywKInRoZW1lLnNldENvbG9ycyI6IGR0LnNldENvbG9ycywKInRoZW1lLnJlbG9hZCI6IGR0LnJlbG9hZCwKInRoZW1lLnNldFRoZW1lIjogZHQuc2V0VGhlbWUsCiJ0aGVtZS5zZXRQcm9maWxlQ2FyZENvbmZpZyI6IGR0LnNldFByb2ZpbGVDYXJkQ29uZmlnLAoiY29uY2llcmdlLnNldE5hbWUiOiBzdC5zZXROYW1lLAoiY29uY2llcmdlLnNldFRpdGxlIjogc3Quc2V0VGl0bGUsCiJjb25jaWVyZ2Uuc2V0QXZhdGFyIjogc3Quc2V0QXZhdGFyLAoid2luZG93LnNldFRpdGxlIjogdXQuc2V0VGl0bGUsCnNldFN0YXR1czogbXQuc2V0U3RhdHVzCn07CmZvciAodmFyIHQgPSBudC5wYXJzZUFQSUZyb21RdWVyeSgpLCBlID0gdGhpcywgaSA9IDAsIG4gPSB0Lmxlbmd0aDsgaSA8IG47IGkrKykgewp2YXIgbyA9IHRbaV1bMF0sIHIgPSB0W2ldWzFdOwpvIGluIHd0ICYmIHd0W29dLmFwcGx5KGUsIHIpOwp9Cn0KZnVuY3Rpb24gUCh0LCBlLCBpKSB7CnJldHVybiBmdW5jdGlvbigpIHsKd2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUubG9nKG50LmdldFByZWZpeCgpICsgJzogTGl2ZUNoYXRBUEkgY2FsbCAiJyArIHQgKyAnIiBpcyBkZXByZWNhdGVkIGFuZCBtYXkgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLiAnICsgKGUgPyAnVXNlICInICsgZSArICciIGluc3RlYWQuJyA6ICJSZWZlciB0byBodHRwOi8vYXBpLnpvcGltLmNvbS8gZm9yIHRoZSBsYXRlc3QgQVBJIGRvY3VtZW50YXRpb24uIikpOwpyZXR1cm4gaS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9Owp9CmZ1bmN0aW9uIFIodCwgZSwgaSkgewpyZXR1cm4gZnVuY3Rpb24oKSB7CnZhciB0ID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTsKcmV0dXJuIGkuYXBwbHkodGhpcywgdCk7Cn07Cn0KZnVuY3Rpb24gRih0KSB7CnQgKz0gIiI7CnJldHVybiB0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdC5zdWJzdHJpbmcoMSk7Cn0KZnVuY3Rpb24gTSh0KSB7CmlmICgic3RyaW5nIiAhPSB0eXBlb2YgdCkgcmV0dXJuICIiOwp2YXIgZSwgaSA9IHR0LnNlYXJjaC5odXJsOwppLmxhc3RJbmRleCA9IDA7CmUgPSBpLmV4ZWModCk7CmkubGFzdEluZGV4ID0gMDsKcmV0dXJuIGUgPyBlWzBdLnRyaW0oKSA6ICIiOwp9CnZhciBWLCBIID0gaSgzNCksIHEgPSBpKDUwKSwgeiA9IGkoNDUpLCBVID0gaSgyMCksIEcgPSBpKDI1KSwgWSA9IGkoMjIpLCBYID0gaSgyMSksIFogPSBpKDEyKSwgUSA9IGkoMjgpLCBLID0gaSgxNCksIEogPSBpKDQwKSwgdHQgPSBpKDY1KSwgZXQgPSBpKDYpLCBpdCA9IGkoMjQpLCBudCA9IGkoMjYpLCBvdCA9IGkoMjA3KSwgcnQgPSBpKDIwNiksIGF0ID0gaSgyMDUpLCBzdCA9IGkoMjA0KSwgX3QgPSBpKDIwMyksIGx0ID0gaSgyMDIpLCBkdCA9IGkoMTE1KSwgdXQgPSBpKDIwMSksIGN0ID0gaSgyMDApLCBodCA9IGkoMTk5KSwgZnQgPSBpKDE5OCksIGd0ID0gaSgxOTcpLCBwdCA9IHsKaW50ZXJ2YWw6IDUwMCwKbGltaXQ6IDEwCn0sIG10ID0gewpiYWRnZTogb3QsCmJ1YmJsZTogcnQsCmJ1dHRvbjogYXQsCmNvbmNpZXJnZTogc3QsCmNvb2tpZUxhdzogX3QsCmRlcGFydG1lbnRzOiBsdCwKdGhlbWU6IGR0LAp3aW5kb3c6IHV0LApkZWJ1ZzogY3QsCnByZWNoYXRGb3JtOiBodCwKb2ZmbGluZUZvcm06IGZ0LAptb2JpbGVOb3RpZmljYXRpb25zOiBndCwKZ2VuZXJhdGVEZXByZWNhdGVkRnVuY3Rpb246IFAsCmdlbmVyYXRlTGltaXRlZEZ1bmN0aW9uOiBSLAphdXRoZW50aWNhdGU6IEUsCmluaXQ6IG4sCmhhbmRsZUluaXRFcnJvcjogTCwKaXNDaGF0dGluZzogcywKc2V0OiBfLApnZXROYW1lOiBvLApnZXRFbWFpbDogciwKZ2V0UGhvbmU6IGEsCnNldE5hbWU6IGwsCnNldEVtYWlsOiBkLApzZXRQaG9uZTogdSwKYWRkVGFnczogYywKc2VuZFZpc2l0b3JQYXRoOiBoLApyZW1vdmVUYWdzOiBmLApzZXREaXNhYmxlU291bmQ6IGcsCnNldExhbmd1YWdlOiBtLApzZXRHcmVldGluZ3M6ICQsCmNsZWFyQWxsOiBiLApoaWRlQWxsOiB3LApzYXk6IHgsCnNldE9uQ29ubmVjdGVkOiB2LApzZXRPbkNoYXRTdGFydDogQywKc2V0T25DaGF0RW5kOiBTLApzZXRPbkZsYXNoUmVhZHk6IEEsCnNldE9uU3RhdHVzOiBrLApzZXRPblVucmVhZE1zZ3M6IEksCmVuZENoYXQ6IFQsCnNldFN0YXR1czogbnQucmF0ZUxpbWl0KE4sICJzZXRTdGF0dXMiLCBwdCksCnNldE5vdGVzOiBCLAphcHBlbmROb3RlczogRCwKc2V0RGlzYWJsZUdvb2dsZUFuYWx5dGljczogcAp9LCAkdCA9IGRvY3VtZW50LCBidCA9IHdpbmRvdy5sb2NhdGlvbiwgd3QgPSB7fSwgeHQgPSB7Cmxpc3RlbmluZzogITEsCmxhc3RfY2hhdHRpbmdfc3RhdGU6IG51bGwsCnN0YXJ0X3NldHRsZWQ6ICExLApzdGFydF9yZWFkeTogITEKfTsKSy5leHRlbmQoeHQpOwp2YXIgdnQgPSB7Cmdsb2JhbDogImZpcmUgZnJlZXplIHNldE9uR3JlZXRpbmciLnNwbGl0KCIgIiksCmJ1YmJsZTogInNldEltYWdlIi5zcGxpdCgiICIpLApidXR0b246ICJzZXRJbWFnZSBzZXRUaGVtZSB1c2VGYXZpY29uIi5zcGxpdCgiICIpLAp3aW5kb3c6ICJnZXRTZXR0aW5ncyBzZXRCZyIuc3BsaXQoIiAiKSwKY29va2llTGF3OiAic2hvd1ByaXZhY3lQYW5lbCIuc3BsaXQoIiAiKSwKdW5yZWFkZmxhZzogImRpc2FibGUgZW5hYmxlIi5zcGxpdCgiICIpCn07CmZvciAodmFyIHl0IGluIHZ0KSBpZiAodnQuaGFzT3duUHJvcGVydHkoeXQpKSB7CnZhciBqdCwgQ3QgPSB2dFt5dF07CmlmICgiZ2xvYmFsIiA9PSB5dCkganQgPSBtdDsgZWxzZSB7Cm10W3l0XSB8fCAobXRbeXRdID0ge30pOwpqdCA9IG10W3l0XTsKfQpmb3IgKHZhciBTdCA9IDA7IFN0IDwgQ3QubGVuZ3RoOyBTdCsrKSB7CnZhciBBdCA9IEN0W1N0XTsKanRbQXRdID0gZnVuY3Rpb24odCkgewpyZXR1cm4gZnVuY3Rpb24oKSB7CndpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLmxvZyhudC5nZXRQcmVmaXgoKSArICc6IExpdmVDaGF0QVBJIGNhbGwgIicgKyB0ICsgJyIgaXMgb2Jzb2xldGUuIFJlZmVyIHRvIGh0dHA6Ly9hcGkuem9waW0uY29tLyBmb3IgdGhlIGxhdGVzdCBBUEkgZG9jdW1lbnRhdGlvbi4nKTsKfTsKfShBdCk7Cn0KfQp0LmV4cG9ydHMgPSBtdDsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fanhfdWlfV2lkZ2V0ID0gaSg3KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19NZW51U3RhY2sgPSBpKDEyNSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1ZpZXdTdGFjayA9IGkoNTUpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X05ld0NoYXRGb3JtID0gaSgxNzIpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X1ByZUNoYXRPZmZsaW5lRm9ybSA9IGkoMTY0KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfbW9iaWxlQ2hhdFdpbmRvd19DaGF0UGFuZWwgPSBpKDIyMCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfUG9zdENoYXRGb3JtID0gaSgxMzIpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X0Nvb2tpZUZvcm0gPSBpKDEzMCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfQ2FyZEZvcm0gPSBpKDEyOSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfQWdlbnRMaXN0ID0gaSgxMjgpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X0Fib3V0UGFuZWwgPSBpKDEyNyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfUmF0aW5nUGFuZWwgPSBpKDEyNik7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIF8sIGwpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgXywgbCk7Cm8gPSBvIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgZCA9IFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfTWVudVN0YWNrLCAibWVudV9zdGFjayIsICIiLCBbXSwgewppZDogIm1lbnVfc3RhY2siLAphZGRDbGFzczogInBvcG91dCIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1ZpZXdTdGFjaywgIm1haW5fc3RhY2siLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfTmV3Q2hhdEZvcm0sICIiLCAiIiwgW10sIHsKbmFtZTogIm5ld19jaGF0X2Zvcm0iCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X1ByZUNoYXRPZmZsaW5lRm9ybSwgIiIsICIiLCBbXSwgewpuYW1lOiAicHJlX2NoYXRfb2ZmbGluZV9mb3JtIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfbW9iaWxlQ2hhdFdpbmRvd19DaGF0UGFuZWwsICIiLCAiIiwgW10sIHsKbmFtZTogImNoYXRfcGFuZWwiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X1Bvc3RDaGF0Rm9ybSwgIiIsICIiLCBbXSwgewpuYW1lOiAicG9zdF9jaGF0X2Zvcm0iCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X0Nvb2tpZUZvcm0sICIiLCAiIiwgW10sIHsKbmFtZTogImNvb2tpZV9mb3JtIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19DYXJkRm9ybSwgIiIsICIiLCBbXSwgewpuYW1lOiAiY2FyZF9mb3JtIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19BZ2VudExpc3QsICIiLCAiIiwgW10sIHsKbmFtZTogImFnZW50X2xpc3QiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X0Fib3V0UGFuZWwsICIiLCAiIiwgW10sIHsKbmFtZTogImFib3V0X3BhbmVsIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19SYXRpbmdQYW5lbCwgIiIsICIiLCBbXSwgewpuYW1lOiAicmF0aW5nX3BhbmVsIgp9IF0gXSwgewppZDogIm1haW5fc3RhY2siLApvbkNoaWxkSGlkZTogIi0xIgp9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6Y2hhdFdpbmRvdyI6ICJtZXNoaW0ud2lkZ2V0LmNvbXBvbmVudHMuY2hhdFdpbmRvdyIsCiJ4bWxuczptb2JpbGVDaGF0V2luZG93IjogIm1lc2hpbS53aWRnZXQuY29tcG9uZW50cy5tb2JpbGVDaGF0V2luZG93IiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKdmFyIGggPSBzLmdldChvICsgIl9fbWVudV9zdGFjayIpLCBmID0gcy5nZXQobyArICJfX21haW5fc3RhY2siKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIGcgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCgpIHsKYS51cGRhdGUoIiIpOwp9CnZhciBlID0gaSg2KSwgbiA9IGUucm9vdC4kKCJsaXZlY2hhdCIpLCBvID0gbi4kKCJ1aSIpLiQoImNoYXRfd2luZG93IiksIHIgPSBvLiQoIm1haW5fc3RhY2tfbmFtZSRzdHJpbmciKSwgYSA9IG8uJCgibWVudV9zdGFja19uYW1lJHN0cmluZyIpOwohZnVuY3Rpb24oKSB7CnQoKTsKZi5vbigiY2xpY2siLCB0KTsKZi5vbigiaW5kZXhDaGFuZ2UiLCB0KTsKYy5hdXRvYmluZChyLCAidmFsdWUiLCBmdW5jdGlvbigpIHsKZi5zZXROYW1lKHIuZ2V0VmFsdWUoKSk7Cn0pOwpjLmF1dG9iaW5kKGEsICJ2YWx1ZSIsIGZ1bmN0aW9uKCkgewpoLnNldE5hbWUoYS5nZXRWYWx1ZSgpKTsKfSk7Cn0oKTsKfSgpOwpmb3IgKHZhciBwIGluIGcpIGNbcF0gPSBnW3BdOwpjLmZpcmUgJiYgYy5maXJlKCJpbml0Iik7CmMuc2V0U3R5bGUgJiYgYy5zZXRTdHlsZShyKTsKYy5zZXRBdHRyaWJ1dGVzICYmIGMuc2V0QXR0cmlidXRlcyhsKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5hZGRDaGlsZHJlbiA/IGMuYWRkQ2hpbGRyZW4oXykgOiBzLmFkZENoaWxkcmVuKGMsIF8pOwppZiAoYyAhPT0gdGhpcykgewpjLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKYy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gYzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19qeF91aV9XaWRnZXQucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIioqc2VsZiI6IHsKcG9zaXRpb246ICJhYnNvbHV0ZSIsCiJ0b3AsIGxlZnQsIHJpZ2h0LCBib3R0b20iOiAwLApiYWNrZ3JvdW5kQ29sb3I6ICIkJHdpbmRvd0JnIiwKYm94U2hhZG93OiAiJCR3aW5kb3dTaGFkb3ciLAoiLXdlYmtpdC10ZXh0LXNpemUtYWRqdXN0LCAtbW96LXRleHQtc2l6ZS1hZGp1c3QsIC1tcy10ZXh0LXNpemUtYWRqdXN0LCB0ZXh0LXNpemUtYWRqdXN0IjogIjEwMCUiCn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfV2lkZ2V0LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfY29tcG9uZW50c19tb2JpbGVDaGF0V2luZG93X01haW5TY3JlZW4iCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19qeF91aV9odG1sX2EgPSBpKDQ0KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX2p4X3VpX2h0bWxfYSwgIiIsICIiLCBbXSwgewp4bWxuczogImp4LnVpLmh0bWwiLApwb3NpdGlvbjogImFic29sdXRlIiwKdG9wOiAiMCIsCmxlZnQ6ICIwIiwKd2lkdGg6ICIxMDAlIiwKaGVpZ2h0OiAiMTAwJSIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBoID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoKSB7Cm8udHJhY2tFdmVudCgiQnV0dG9uIENsaWNrZWQiKTsKdS53cml0ZSh7CmJ1dHRvbl9jbGlja2VkJGJvb2w6ICEwCn0pOwppZiAoaC5nZXRWYWx1ZSgpKSByLnVzZXJTaG93V2luZG93KCk7IGVsc2UgaWYgKF8ucmVxdWVzdFBlcm1pc3Npb24oKSkgaWYgKGwuaXNJRU1vYmlsZSkgewpjLnNldEF0dHJpYnV0ZSgiaHJlZiIsIHMuZ2V0UG9wb3V0VVJMKCkpOwpjLnNldEF0dHJpYnV0ZSgidGFyZ2V0IiwgZS5QT1BPVVRfV0lORE9XX1BSRUZJWCArIGYuZ2V0VmFsdWUoKSk7Cn0gZWxzZSB7CmEucmVzZXRVbnJlYWRDb3VudCgpOwpzLm9wZW5Qb3BvdXQoITApOwp9Cn0KdmFyIGUgPSBpKDE4KSwgbiA9IGkoNiksIG8gPSBpKDUwKSwgciA9IGkoMjQpLCBhID0gaSgzMyksIHMgPSBpKDcxKSwgXyA9IGkoNDEpLCBsID0gaSgzNSksIGQgPSBuLnJvb3QuJCgibGl2ZWNoYXQiKS4kKCJ1aSIpLCB1ID0gZC4kKCJjaGF0X2J1dHRvbiIpLCBoID0gZC4kKCJtb2JpbGVfb3ZlcmxheSRib29sIiksIGYgPSBuLnJvb3QuJCgibGl2ZWNoYXQiKS4kKCJhY2NvdW50IikuJCgia2V5JHN0cmluZyIpOwohZnVuY3Rpb24oKSB7CmMub24oImNsaWNrIiwgdCk7Cn0oKTsKfSgpOwpmb3IgKHZhciBmIGluIGgpIGNbZl0gPSBoW2ZdOwpjLmZpcmUgJiYgYy5maXJlKCJpbml0Iik7CmMuc2V0U3R5bGUgJiYgYy5zZXRTdHlsZShyKTsKYy5zZXRBdHRyaWJ1dGVzICYmIGMuc2V0QXR0cmlidXRlcyhsKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5hZGRDaGlsZHJlbiA/IGMuYWRkQ2hpbGRyZW4oXykgOiBzLmFkZENoaWxkcmVuKGMsIF8pOwppZiAoYyAhPT0gdGhpcykgewpjLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKYy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gYzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19qeF91aV9odG1sX2EucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHt9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9odG1sX2EsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF9jb21wb25lbnRzX21vYmlsZUNoYXRCdXR0b25fVGFwcGluZ1NjcmVlbiIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX2p4X3VpX1dpZGdldCA9IGkoNyk7Cm4uX18kJF9fanhfdWlfSW1hZ2UgPSBpKDIzMik7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0ljb25Gb250ID0gaSgxNSk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIF8sIGwpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgXywgbCk7Cm8gPSBvIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgZCA9IFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICIiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfSW1hZ2UsICJpbWFnZSIsICIiLCBbXSwgewppZDogImltYWdlIiwKYWRkQ2xhc3M6ICJjdXN0b21faWNvbiIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0ljb25Gb250LCAiaWNvbiIsICIiLCBbXSwgewppZDogImljb24iLAphZGRDbGFzczogImRlZmF1bHRfaWNvbiIKfSBdLCBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgImRvdHMiLCAiIiwgW10sIHsKaWQ6ICJkb3RzIiwKYWRkQ2xhc3M6ICJkb3RzIiwKc2VsZWN0YWJsZTogImZhbHNlIgp9IF0gXSwgewphZGRDbGFzczogImRvdHNfY29udGFpbmVyIgp9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6bXVpIjogIm1lc2hpbS51aSIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CnZhciBoID0gcy5nZXQobyArICJfX2ltYWdlIiksIGYgPSBzLmdldChvICsgIl9faWNvbiIpLCBnID0gcy5nZXQobyArICJfX2RvdHMiKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIHAgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCgpIHsKZnVuY3Rpb24gdCh0KSB7CmQgPSAhdDsKaWYgKHQpIHsKaC5zZXREaXNwbGF5KCJub25lIik7CmYuc2V0RGlzcGxheSgiIik7Cn0gZWxzZSB7Cmguc2V0RGlzcGxheSgiIik7CmYuc2V0RGlzcGxheSgibm9uZSIpOwp9CmUoKTsKfQppZiAobCkgdHJ5IHsKbC5hYm9ydCgpOwp9IGNhdGNoICh0KSB7fQpsID0gbnVsbDsKaWYgKGEpIHsKaWYgKHMpIHsKaC5zZXRTcmMocyk7CnQoITEpOwpyZXR1cm47Cn0KdmFyIGkgPSBmdW5jdGlvbigpIHsKZm9yICh2YXIgdCA9IHdpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLCBlID0gdC5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGluayIpLCBpID0gMCwgbiA9IGUubGVuZ3RoOyBpIDwgbjsgaSsrKSBpZiAoImljb24iID09IGVbaV0ucmVsIHx8ICJzaG9ydGN1dCBpY29uIiA9PSBlW2ldLnJlbCkgcmV0dXJuIGVbaV0uaHJlZjsKfSgpOwppZiAoaSkgewpoLnNldFNyYyhpKTsKdCghMSk7CnJldHVybjsKfQpsID0gZnVuY3Rpb24odCkgewp2YXIgZSwgaSA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArICIvLyIgKyB3aW5kb3cubG9jYXRpb24uaG9zdCArICIvZmF2aWNvbi5pY28iOwp0cnkgewppZiAod2luZG93LkFjdGl2ZVhPYmplY3QpIHsKZSA9IG5ldyB3aW5kb3cuQWN0aXZlWE9iamVjdCgiTXN4bWwyLlhNTEhUVFAiKTsKZSB8fCAoZSA9IG5ldyB3aW5kb3cuQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKSk7Cn0KfSBjYXRjaCAodCkge30KZSB8fCB2b2lkIDAgPT09IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCB8fCAoZSA9IG5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QoKSk7CmlmIChlKSB7CmUub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7CjQgPT09IGUucmVhZHlTdGF0ZSAmJiAoMjAwID09PSBlLnN0YXR1cyB8fCBlLnN0YXR1cyA+PSAzMDAgJiYgZS5zdGF0dXMgPCA0MDAgPyB0KGkpIDogdCgpKTsKfTsKZS5vcGVuKCJIRUFEIiwgaSwgITApOwplLnNlbmQobnVsbCk7Cn0KcmV0dXJuIGU7Cn0oZnVuY3Rpb24oZSkgewppZiAoZSkgewpoLnNldFNyYyhlKTsKdCghMSk7Cn0gZWxzZSB0KCEwKTsKfSk7Cn0gZWxzZSB0KCEwKTsKfQpmdW5jdGlvbiBlKCkgewppZiAociB8fCAib2ZmbGluZSIgIT0gbykgewpmLnNldEljb24oIm1lc3NhZ2UiKTsKZi5yZW1vdmVDbGFzcygiZGVmYXVsdF9pY29uX29mZmxpbmUiKTsKZi5hZGRDbGFzcygiZGVmYXVsdF9pY29uX29ubGluZSIpOwp9IGVsc2UgewpmLnNldEljb24oImVtYWlsIik7CmYucmVtb3ZlQ2xhc3MoImRlZmF1bHRfaWNvbl9vbmxpbmUiKTsKZi5hZGRDbGFzcygiZGVmYXVsdF9pY29uX29mZmxpbmUiKTsKfQppZiAoXyAmJiByICYmICFkKSB7CmlmICghdSkgewpuKCk7CnUgPSB3aW5kb3cuc2V0SW50ZXJ2YWwobiwgbSk7Cn0KZy5zZXREaXNwbGF5KCIiKTsKfSBlbHNlIHsKaWYgKHUpIHsKd2luZG93LmNsZWFySW50ZXJ2YWwodSk7CnUgPSBudWxsOwp9Cmcuc2V0RGlzcGxheSgibm9uZSIpOwp9Cn0KZnVuY3Rpb24gbigpIHsKdmFyIHQgPSBnLmdldFRleHQoKTsKZy5zZXRUZXh0KHQubGVuZ3RoID09ICQgPyAiIiA6IHQgKyAiLiIpOwp9CnZhciBvLCByLCBhLCBzLCBfLCBsLCBkLCB1LCBwID0gaSg2KSwgbSA9IDFlMywgJCA9IDMsIGIgPSBwLnJvb3QuJCgibGl2ZWNoYXQiKS4kKCJhY2NvdW50IiksIHcgPSBwLnJvb3QuJCgibGl2ZWNoYXQiKS4kKCJzZXR0aW5ncyIpLiQoImJyYW5kaW5nIiksIHggPSBiLiQoInN0YXR1cyRzdHJpbmciKSwgdiA9IHAucm9vdC4kKCJsaXZlY2hhdCIpLiQoImNoYW5uZWwiKS4kKCJjaGF0dGluZyRib29sIiksIHkgPSB3LiQoImhpZGVfZmF2aWNvbiRib29sIiksIGogPSB3LiQoImN1c3RvbV9mYXZpY29uX3BhdGgkc3RyaW5nIiksIEMgPSBwLnJvb3QuJCgibGl2ZWNoYXQiKS4kKCJ1aSIpLiQoImNoYXRfYnV0dG9uIikuJCgidW5yZWFkX2NvdW50JGludCIpOwohZnVuY3Rpb24oKSB7CmMuYXV0b2JpbmQoeSwgInZhbHVlIiwgZnVuY3Rpb24oZSkgewphID0gZTsKdCgpOwp9KTsKYy5hdXRvYmluZChqLCAidmFsdWUiLCBmdW5jdGlvbihlKSB7CnMgPSBlOwp0KCk7Cn0pOwpjLmF1dG9iaW5kKHYsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKaWYgKHIgIT09IHQpIHsKciA9IHQ7CmUoKTsKfQp9KTsKYy5hdXRvYmluZCh4LCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CmlmICh0ICE9IG8pIHsKbyA9IHQ7CmUoKTsKfQp9KTsKYy5hdXRvYmluZChDLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CmlmICh0ICE9IF8pIHsKXyA9IHQ7CmUoKTsKfQp9KTsKfSgpOwp9KCk7CmZvciAodmFyIG0gaW4gcCkgY1ttXSA9IHBbbV07CmMuZmlyZSAmJiBjLmZpcmUoImluaXQiKTsKYy5zZXRTdHlsZSAmJiBjLnNldFN0eWxlKHIpOwpjLnNldEF0dHJpYnV0ZXMgJiYgYy5zZXRBdHRyaWJ1dGVzKGwpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBjLmFkZENoaWxkcmVuID8gYy5hZGRDaGlsZHJlbihfKSA6IHMuYWRkQ2hpbGRyZW4oYywgXyk7CmlmIChjICE9PSB0aGlzKSB7CmMuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpjLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBjOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2p4X3VpX1dpZGdldC5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiLmN1c3RvbV9pY29uIjogewoid2lkdGgsIGhlaWdodCI6ICIxNnB4Igp9LAoiLmRlZmF1bHRfaWNvbiI6IHsKZm9udFNpemU6ICIxNnB4IiwKd2lkdGg6ICIxNnB4IiwKZGlzcGxheTogImlubGluZS1ibG9jayIsCiImLmRlZmF1bHRfaWNvbl9vbmxpbmUiOiB7CmxpbmVIZWlnaHQ6ICIyMHB4IiwKdmVydGljYWxBbGlnbjogInRvcCIsCmNvbG9yOiAiJCRmYXZpY29uT25saW5lQ29sb3IiCn0sCiImLmRlZmF1bHRfaWNvbl9vZmZsaW5lIjogewpsaW5lSGVpZ2h0OiAiMThweCIsCnZlcnRpY2FsQWxpZ246ICJ0b3AiLApjb2xvcjogIiQkZmF2aWNvbk9mZmxpbmVDb2xvciIKfQp9LAoiLmRvdHNfY29udGFpbmVyIjogewpmb250RmFtaWx5OiAiQXJpYWwiLApwb3NpdGlvbjogImFic29sdXRlIiwKd2lkdGg6ICIxMDAlIiwKdGV4dEFsaWduOiAiY2VudGVyIiwKZm9udFNpemU6ICIyMHB4IiwKbGV0dGVyU3BhY2luZzogIi0ycHgiLAp0b3A6ICItM3B4IiwKbGVmdDogIi0xcHgiLApsaW5lSGVpZ2h0OiAiMjRweCIKfSwKIi5kb3RzIjogewpkaXNwbGF5OiAiaW5saW5lLWJsb2NrIiwKd2lkdGg6ICIxMnB4IiwKbGluZUhlaWdodDogIjIycHgiLAp0ZXh0QWxpZ246ICJsZWZ0IiwKY29sb3I6IFsgIiQkY2hhdEJ1dHRvbkJnIiwgIiQkZmF2aWNvbkJnIiwgIiQkZmF2aWNvbkRvdHNDb2xvciIgXSwKYmFja2dyb3VuZDogInRyYW5zcGFyZW50Igp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX2p4X3VpX1dpZGdldCwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfRmF2aWNvbiIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUpIHsKZnVuY3Rpb24gaSh0KSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiBpKSkgcmV0dXJuIG5ldyBpKHQpOwp2YXIgZSA9ICIiOwoib2JqZWN0IiA9PSB0eXBlb2YgdCA/IGUgPSAib2JqZWN0IiA6IC8jLy50ZXN0KHQpID8gZSA9ICJoZXgiIDogL2hzbFwoLitcKS8udGVzdCh0KSA/IGUgPSAiaHNsIiA6IC9oc3ZcKC4rXCkvLnRlc3QodCkgPyBlID0gImhzdiIgOiAvcmdiYVwoLitcKS8udGVzdCh0KSAmJiAoZSA9ICJyZ2JhIik7CnN3aXRjaCAoZSkgewpjYXNlICJvYmplY3QiOgpvLmNhbGwodGhpcywgdCk7CmJyZWFrOwoKY2FzZSAiaGV4IjoKbi5jYWxsKHRoaXMsIHQpOwpicmVhazsKCmNhc2UgImhzbCI6CnIuY2FsbCh0aGlzLCB0KTsKYnJlYWs7CgpjYXNlICJoc3YiOgpfLmNhbGwodGhpcywgdCk7CmJyZWFrOwoKY2FzZSAicmdiYSI6CnMuY2FsbCh0aGlzLCB0KTsKfQoibnVtYmVyIiAhPSB0eXBlb2YgdGhpcy5hbHBoYSAmJiAodGhpcy5hbHBoYSA9IDEpOwp9CmZ1bmN0aW9uIG4odCkgewp0ID0gdC5yZXBsYWNlKC8jL2csICIiKS5yZXBsYWNlKC9ccysvZywgIiAiKS5yZXBsYWNlKC9eXHN8XHMkL2csICIiKTsKL15cd3szfS8udGVzdCh0KSAmJiAodCA9IHQucmVwbGFjZSgvXihcdykoXHcpKFx3KSQvLCAiJDEkMSQyJDIkMyQzIikpOwp0aGlzLnJlZCA9IHBhcnNlSW50KHQuc3Vic3RyKDAsIDIpLCAxNik7CnRoaXMuZ3JlZW4gPSBwYXJzZUludCh0LnN1YnN0cigyLCAyKSwgMTYpOwp0aGlzLmJsdWUgPSBwYXJzZUludCh0LnN1YnN0cig0LCAyKSwgMTYpOwp9CmZ1bmN0aW9uIG8odCkgewppZiAoInJlZCIgaW4gdCAmJiAiZ3JlZW4iIGluIHQgJiYgImJsdWUiIGluIHQpIHsKdGhpcy5yZWQgPSB0LnJlZDsKdGhpcy5ncmVlbiA9IHQuZ3JlZW47CnRoaXMuYmx1ZSA9IHQuYmx1ZTsKdGhpcy5hbHBoYSA9IHQuYWxwaGE7Cn0gZWxzZSAiaCIgaW4gdCAmJiAicyIgaW4gdCAmJiAibCIgaW4gdCA/IGEuY2FsbCh0aGlzLCB0KSA6ICJoIiBpbiB0ICYmICJzIiBpbiB0ICYmICJ2IiBpbiB0ICYmIGwuY2FsbCh0aGlzLCB0KTsKfQpmdW5jdGlvbiByKHQpIHsKdCA9IHQucmVwbGFjZSgvW0EtWmEtel0rfFwofFwpL2csICIiKS5yZXBsYWNlKC8sL2csICIgIikucmVwbGFjZSgvXHMrL2csICIgIikucmVwbGFjZSgvXlxzfFxzJC9nLCAiIik7CnZhciBlID0gdC5zcGxpdCgiICIpLCBpID0gewpoOiBwYXJzZUZsb2F0KGVbMF0pIDwgMCA/IDM2MCArIHBhcnNlRmxvYXQoZVswXSkgJSAzNjAgOiBwYXJzZUZsb2F0KGVbMF0pICUgMzYwLApzOiBlWzFdLmluZGV4T2YoIiUiKSA8IDAgPyBwYXJzZUZsb2F0KGVbMV0pIDogcGFyc2VJbnQoZVsxXSwgMTApIC8gMTAwLApsOiBlWzJdLmluZGV4T2YoIiUiKSA8IDAgPyBwYXJzZUZsb2F0KGVbMl0pIDogcGFyc2VJbnQoZVsyXSwgMTApIC8gMTAwCn07CmEuY2FsbCh0aGlzLCBpKTsKfQpmdW5jdGlvbiBhKHQpIHsKdmFyIGUsIGkgPSB0LmgsIG4gPSB0LnMsIG8gPSB0LmwsIHIgPSAoMSAtIE1hdGguYWJzKDIgKiBvIC0gMSkpICogbiwgYSA9IGkgLyA2MCwgcyA9IHIgKiAoMSAtIE1hdGguYWJzKGEgJSAyIC0gMSkpLCBfID0gbyAtIC41ICogcjsKc3dpdGNoIChNYXRoLmZsb29yKGEpKSB7CmNhc2UgMDoKZSA9IFsgciwgcywgMCBdOwpicmVhazsKCmNhc2UgMToKZSA9IFsgcywgciwgMCBdOwpicmVhazsKCmNhc2UgMjoKZSA9IFsgMCwgciwgcyBdOwpicmVhazsKCmNhc2UgMzoKZSA9IFsgMCwgcywgciBdOwpicmVhazsKCmNhc2UgNDoKZSA9IFsgcywgMCwgciBdOwpicmVhazsKCmNhc2UgNToKZSA9IFsgciwgMCwgcyBdOwp9CnRoaXMucmVkID0gTWF0aC5yb3VuZCgyNTUgKiAoZVswXSArIF8pKTsKdGhpcy5ncmVlbiA9IE1hdGgucm91bmQoMjU1ICogKGVbMV0gKyBfKSk7CnRoaXMuYmx1ZSA9IE1hdGgucm91bmQoMjU1ICogKGVbMl0gKyBfKSk7Cn0KZnVuY3Rpb24gcyh0KSB7CnQgPSB0LnJlcGxhY2UoL1tBLVphLXooLF0rL2csICIgIikucmVwbGFjZSgvXHMrL2csICIgIikucmVwbGFjZSgvXlxzfFxzJC9nLCAiIik7CnZhciBlID0gdC5zcGxpdCgiICIpOwp0aGlzLnJlZCA9IHBhcnNlSW50KGVbMF0sIDEwKTsKdGhpcy5ncmVlbiA9IHBhcnNlSW50KGVbMV0sIDEwKTsKdGhpcy5ibHVlID0gcGFyc2VJbnQoZVsyXSwgMTApOwp0aGlzLmFscGhhID0gcGFyc2VGbG9hdChlWzNdKTsKfQpmdW5jdGlvbiBfKHQpIHsKdCA9IHQucmVwbGFjZSgvW0EtWmEteiVdK3xcKHxcKS9nLCAiIikucmVwbGFjZSgvLC9nLCAiICIpLnJlcGxhY2UoL1xzKy9nLCAiICIpLnJlcGxhY2UoL15cc3xccyQvZywgIiIpOwp2YXIgZSA9IHQuc3BsaXQoIiAiKSwgaSA9IHsKaDogcGFyc2VGbG9hdChlWzBdKSA8IDAgPyAoMzYwICsgcGFyc2VGbG9hdChlWzBdKSkgJSAzNjAgOiBwYXJzZUZsb2F0KGVbMF0pICUgMzYwLApzOiBlWzFdLmluZGV4T2YoIiUiKSA8IDAgPyBwYXJzZUZsb2F0KGVbMV0pIDogcGFyc2VJbnQoZVsxXSwgMTApIC8gMTAwLAp2OiBlWzJdLmluZGV4T2YoIiUiKSA8IDAgPyBwYXJzZUZsb2F0KGVbMl0pIDogcGFyc2VJbnQoZVsyXSwgMTApIC8gMTAwCn07CmwuY2FsbCh0aGlzLCBpKTsKfQpmdW5jdGlvbiBsKHQpIHsKdmFyIGUsIGkgPSB0LmgsIG4gPSB0LnMsIG8gPSB0LnYsIHIgPSBvICogbiwgYSA9IGkgLyA2MCwgcyA9IHIgKiAoMSAtIE1hdGguYWJzKGEgJSAyIC0gMSkpLCBfID0gbyAtIHI7CnN3aXRjaCAoTWF0aC5mbG9vcihhKSkgewpjYXNlIDA6CmUgPSBbIHIsIHMsIDAgXTsKYnJlYWs7CgpjYXNlIDE6CmUgPSBbIHMsIHIsIDAgXTsKYnJlYWs7CgpjYXNlIDI6CmUgPSBbIDAsIHIsIHMgXTsKYnJlYWs7CgpjYXNlIDM6CmUgPSBbIDAsIHMsIHIgXTsKYnJlYWs7CgpjYXNlIDQ6CmUgPSBbIHMsIDAsIHIgXTsKYnJlYWs7CgpjYXNlIDU6CmUgPSBbIHIsIDAsIHMgXTsKfQp0aGlzLnJlZCA9IE1hdGgucm91bmQoMjU1ICogKGVbMF0gKyBfKSk7CnRoaXMuZ3JlZW4gPSBNYXRoLnJvdW5kKDI1NSAqIChlWzFdICsgXykpOwp0aGlzLmJsdWUgPSBNYXRoLnJvdW5kKDI1NSAqIChlWzJdICsgXykpOwp9CnZhciBkID0gWyAicmVkIiwgImdyZWVuIiwgImJsdWUiIF07CmkucHJvdG90eXBlLmxpZ2h0ZW4gPSBmdW5jdGlvbih0KSB7CnZhciBlID0gdGhpcy50b0hTTCgpOwplLmwgPSBlLmwgKyAoMSAtIGUubCkgKiB0OwpyZXR1cm4gbmV3IGkoZSk7Cn07CmkucHJvdG90eXBlLmRhcmtlbiA9IGZ1bmN0aW9uKHQpIHsKdmFyIGUgPSB0aGlzLnRvSFNMKCk7CmUubCA9IGUubCAtIGUubCAqIHQ7CnJldHVybiBuZXcgaShlKTsKfTsKaS5wcm90b3R5cGUuYmxlbmQgPSBmdW5jdGlvbih0LCBlKSB7CnQgaW5zdGFuY2VvZiBpIHx8ICh0ID0gbmV3IGkodCkpOwpmb3IgKHZhciBuID0ge30sIG8gPSAwOyBvIDwgMzsgbysrKSB7CnZhciByID0gdGhpc1tkW29dXSwgYSA9IHRbZFtvXV07Cm5bZFtvXV0gPSBNYXRoLnJvdW5kKHIgKyAoYSAtIHIpICogZSk7Cn0KcmV0dXJuIG5ldyBpKG4pOwp9OwppLnByb3RvdHlwZS5jb21wbGVtZW50ID0gZnVuY3Rpb24oKSB7CnZhciB0ID0gdGhpcy5yZWQsIGUgPSB0aGlzLmJsdWUsIG4gPSB0aGlzLmdyZWVuLCBvID0gTWF0aC5tYXgodCwgZSwgbiksIHIgPSBNYXRoLm1pbih0LCBlLCBuKSwgYSA9IHt9OwphLnJlZCA9IG8gKyByIC0gdDsKYS5ncmVlbiA9IG8gKyByIC0gbjsKYS5ibHVlID0gbyArIHIgLSBlOwpyZXR1cm4gbmV3IGkoYSk7Cn07CmkucHJvdG90eXBlLnRvU3RyUkdCID0gaS5wcm90b3R5cGUudG9SR0IgPSBmdW5jdGlvbigpIHsKZm9yICh2YXIgdCA9IFtdLCBlID0gMDsgZSA8IDM7IGUrKykgewp2YXIgaSA9IHRoaXNbZFtlXV0udG9TdHJpbmcoMTYpOwp0W2VdID0gaS5sZW5ndGggPCAyID8gIjAiICsgaSA6IGk7Cn0KcmV0dXJuICIjIiArIHQuam9pbigiIik7Cn07CmkucHJvdG90eXBlLnRvU3RyUkdCQSA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gInJnYmEoIiArIFsgdGhpcy5yZWQsIHRoaXMuZ3JlZW4sIHRoaXMuYmx1ZSwgdGhpcy5hbHBoYSBdLmpvaW4oIiwiKSArICIpIjsKfTsKaS5wcm90b3R5cGUudG9IU0wgPSBmdW5jdGlvbigpIHsKdmFyIHQsIGUsIGksIG4sIG8gPSB0aGlzLnJlZCAvIDI1NSwgciA9IHRoaXMuZ3JlZW4gLyAyNTUsIGEgPSB0aGlzLmJsdWUgLyAyNTUsIHMgPSBNYXRoLm1heChvLCByLCBhKSwgXyA9IE1hdGgubWluKG8sIHIsIGEpLCBsID0gcyAtIF87CjAgPT09IGwgPyBuID0gMCA6IHMgPT0gbyA/IG4gPSAociAtIGEpIC8gbCAlIDYgOiBzID09IHIgPyBuID0gKGEgLSBvKSAvIGwgKyAyIDogcyA9PSBhICYmIChuID0gKG8gLSByKSAvIGwgKyA0KTsKdCA9IDYwICogbjsKdCA9IHQgPCAwID8gMzYwICsgdCAlIDM2MCA6IHQgJSAzNjA7CmkgPSAuNSAqIChzICsgXyk7CmUgPSAwID09PSBsID8gMCA6IGwgLyAoMSAtIE1hdGguYWJzKDIgKiBpIC0gMSkpOwpyZXR1cm4gewpoOiB0LApzOiBlLApsOiBpCn07Cn07CmkucHJvdG90eXBlLnRvSFNWID0gZnVuY3Rpb24oKSB7CnZhciB0LCBlLCBpLCBuLCBvID0gdGhpcy5yZWQgLyAyNTUsIHIgPSB0aGlzLmdyZWVuIC8gMjU1LCBhID0gdGhpcy5ibHVlIC8gMjU1LCBzID0gTWF0aC5tYXgobywgciwgYSksIF8gPSBNYXRoLm1pbihvLCByLCBhKSwgbCA9IHMgLSBfOwowID09PSBsID8gbiA9IDAgOiBzID09IG8gPyBuID0gKHIgLSBhKSAvIGwgJSA2IDogcyA9PSByID8gbiA9IChhIC0gbykgLyBsICsgMiA6IHMgPT0gYSAmJiAobiA9IChvIC0gcikgLyBsICsgNCk7CnQgPSA2MCAqIG47CnQgPSB0IDwgMCA/IDM2MCArIHQgJSAzNjAgOiB0ICUgMzYwOwppID0gczsKZSA9IDAgPT09IGwgPyAwIDogbCAvIGk7CnJldHVybiB7Cmg6IHQsCnM6IGUsCnY6IGkKfTsKfTsKaS5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gWyB0aGlzLnJlZCwgdGhpcy5ncmVlbiwgdGhpcy5ibHVlIF07Cn07CmkucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7CnJldHVybiBuZXcgaSh0aGlzKTsKfTsKaS5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbigpIHsKZm9yICh2YXIgdCA9IDA7IHQgPCAzOyB0KyspIHsKdmFyIGUgPSB0aGlzW2RbdF1dOwppZiAoISgibnVtYmVyIiA9PSB0eXBlb2YgZSAmJiBlID49IDAgJiYgZSA8PSAyNTUpKSByZXR1cm4gITE7Cn0KcmV0dXJuICJudW1iZXIiID09IHR5cGVvZiB0aGlzLmFscGhhICYmIHRoaXMuYWxwaGEgPj0gMCAmJiB0aGlzLmFscGhhIDw9IDE7Cn07CnQuZXhwb3J0cyA9IGk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKInVzZSBzdHJpY3QiOwpmdW5jdGlvbiBuKHQpIHsKcmV0dXJuICJvYmplY3QiID09IHR5cGVvZiB0ICYmIG51bGwgIT09IHQ7Cn0KZnVuY3Rpb24gbyh0KSB7CnN3aXRjaCAoe30udG9TdHJpbmcuY2FsbCh0KSkgewpjYXNlICJbb2JqZWN0IEVycm9yXSI6CmNhc2UgIltvYmplY3QgRXhjZXB0aW9uXSI6CmNhc2UgIltvYmplY3QgRE9NRXhjZXB0aW9uXSI6CnJldHVybiAhMDsKCmRlZmF1bHQ6CnJldHVybiB0IGluc3RhbmNlb2YgRXJyb3I7Cn0KfQpmdW5jdGlvbiByKHQpIHsKZnVuY3Rpb24gZShlLCBpKSB7CnZhciBuID0gdChlKSB8fCBlOwpyZXR1cm4gaSA/IGkobikgfHwgbiA6IG47Cn0KcmV0dXJuIGU7Cn0KdC5leHBvcnRzID0gewppc09iamVjdDogbiwKaXNFcnJvcjogbywKd3JhcHBlZENhbGxiYWNrOiByCn07Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX2p4X3VpX1dpZGdldCA9IGkoNyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0ZpbGVVcGxvYWRlciA9IGkoMjY3KTsKbi5fXyQkX19qeF91aV9JbnB1dCA9IGkoNDMpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19GaWxlVXBsb2FkZXIsICJmaWxlX2Zvcm0iLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfSW5wdXQsICJmaWxlX2lucHV0IiwgIiIsIFtdLCB7CmlkOiAiZmlsZV9pbnB1dCIsCm5hbWU6ICJmaWxlW10iLAp0eXBlOiAiZmlsZSIsCm11bHRpcGxlOiAidHJ1ZSIsCmFkZENsYXNzOiAiZmlsZV9pbnB1dCIKfSBdIF0sIHsKaWQ6ICJmaWxlX2Zvcm0iCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CnZhciBoID0gcy5nZXQobyArICJfX2ZpbGVfZm9ybSIpLCBmID0gcy5nZXQobyArICJfX2ZpbGVfaW5wdXQiKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIGcgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCgpIHsKaWYgKGEgJiYgZi5nZXRWYWx1ZSgpKSB7CnZhciB0ID0gW10sIGkgPSBbXSwgbiA9IDAsIG8gPSBmLmRvbS5maWxlcywgcyA9IHUuZ2V0SG9zdCgpOwppZiAocykgewppZiAobykgewpmb3IgKHZhciBtID0gMCwgJCA9IG8ubGVuZ3RoOyBtIDwgJDsgbSsrKSB7CmlmICghbC5pc1ZhbGlkVHlwZShvW21dLm5hbWUsIHIpKSB7CkMudXBkYXRlKHsKZXJyb3Ikc3RyaW5nOiAidHlwZSIKfSk7CmYuc2V0VmFsdWUoIiIpOwpyZXR1cm47Cn0KdC5wdXNoKG9bbV0ubmFtZSk7CmkucHVzaChvW21dLnR5cGUpOwpuICs9IG9bbV0uc2l6ZSB8fCAwOwp9CmlmIChuID4gXy5GSUxFX1VQTE9BRF9NQVgpIHsKQy51cGRhdGUoewplcnJvciRzdHJpbmc6ICJzaXplIgp9KTsKZi5zZXRWYWx1ZSgiIik7CnJldHVybjsKfQp0ID0gdC5qb2luKCIsICIpOwppID0gaS5qb2luKCIsICIpOwp9IGVsc2UgewpvID0gZi5kb20udmFsdWUgfHwgIiI7CmlmICghbykgcmV0dXJuOwp0ID0gby5zdWJzdHIoby5sYXN0SW5kZXhPZigiXFwiKSArIDEpOwppID0gdC5zdWJzdHIodC5sYXN0SW5kZXhPZigiLiIpICsgMSk7CmlmICghbC5pc1ZhbGlkVHlwZSh0LCByKSkgewpDLnVwZGF0ZSh7CmVycm9yJHN0cmluZzogInR5cGUiCn0pOwpmLnNldFZhbHVlKCIiKTsKcmV0dXJuOwp9Cn0KdmFyIHggPSBnLmxpdmVjaGF0LnNlbmRGaWxlKHsKZmlsZV9uYW1lOiB0LApmaWxlX3R5cGU6IGksCmZpbGVfc2l6ZTogbgp9KSwgdiA9IHsKdHM6IHgsCm1pZDogYi5nZXRWYWx1ZSgpLAp1aWQ6IHcuZ2V0VmFsdWUoKQp9LCB5ID0gImh0dHBzOi8vIiArIHMgKyBfLkZJTEVfVVBMT0FEX1BBVEggKyAiPyIgKyBkLmJ1aWxkUXVlcnkodik7Cmguc2V0UGF0aCh5KTsKYy5maXJlKCJiZWZvcmVfc3VibWl0Iik7Cm8gJiYgIkZvcm1EYXRhIiBpbiB3aW5kb3cgPyBlKHMsIHgsIG8pIDogaC5zdWJtaXQoKTsKcC5pbmNyZW1lbnQoImZpbGVfdXBsb2FkIik7CmYuc2V0VmFsdWUoIiIpOwp9Cn0KfQpmdW5jdGlvbiBlKHQsIGUsIGkpIHsKZm9yICh2YXIgbiA9IG5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QoKSwgbyA9IG5ldyB3aW5kb3cuRm9ybURhdGEoKSwgciA9IHsKdHM6IGUKfSwgYSA9ICJodHRwczovLyIgKyB0ICsgXy5GSUxFX1VQTE9BRF9QQVRIICsgIj8iICsgZC5idWlsZFF1ZXJ5KHIpLCBzID0gMCwgbCA9IGkubGVuZ3RoOyBzIDwgbDsgcysrKSBvLmFwcGVuZCgiZmlsZV8iICsgaVtzXS5uYW1lLCBpW3NdKTsKbi5vcGVuKCJQT1NUIiwgYSwgITApOwpuLnNldFJlcXVlc3RIZWFkZXIoIlgtWm9waW0tTUlEIiwgYi5nZXRWYWx1ZSgpKTsKbi5zZXRSZXF1ZXN0SGVhZGVyKCJYLVpvcGltLVVJRCIsIHcuZ2V0VmFsdWUoKSk7Cm4uc2VuZChvKTsKfQpmdW5jdGlvbiBuKCkgewp2YXIgdCA9IHYuZ2V0VmFsdWUoKSwgZSA9IFMuZ2V0VmFsdWUoImNvbG9yX2N1c3RvbWl6YXRpb25fZW5hYmxlZCRpbnQiKSB8fCBTLmdldFZhbHVlKCJ3aWRnZXRfY3VzdG9taXphdGlvbl9lbmFibGVkJGludCIpOwphID0gISFlICYmICExICE9PSB0Owp9CmZ1bmN0aW9uIG8oKSB7CnZhciB0ID0geS5nZXRWYWx1ZSgpIHx8ICIiOwpyID0gdC50cmltKCkucmVwbGFjZSgvXHMqLFxzKi9nLCAiLCIpLnNwbGl0KCIsIik7Cn0KdmFyIHIsIGEsIHMsIF8gPSBpKDE4KSwgbCA9IGkoNjQpLCBkID0gaSgzNiksIHUgPSBpKDYzKSwgZyA9IGkoNiksIHAgPSBpKDc2KSwgbSA9IGcucm9vdCwgJCA9IG0uJCgibGl2ZWNoYXQiKSwgYiA9ICQuJCgicHJvZmlsZSIpLiQoIm1pZCRzdHJpbmciKSwgdyA9ICQuJCgicHJvZmlsZSIpLiQoInVpZCRzdHJpbmciKSwgeCA9ICQuJCgic2V0dGluZ3MiKS4kKCJmaWxlX3NlbmRpbmciKSwgdiA9IHguJCgiZW5hYmxlZCRib29sIiksIHkgPSB4LiQoImFsbG93ZWRfZXh0ZW5zaW9ucyRzdHJpbmciKSwgaiA9ICQuJCgidWkiKS4kKCJjaGF0X3dpbmRvdyIpLCBDID0gai4kKCJjaGF0X3BhbmVsIikuJCgiZmlsZV90b2FzdCIpLCBTID0gJC4kKCJzZXR0aW5ncyIpLiQoInBhY2thZ2UiKTsKIWZ1bmN0aW9uKCkgewpmLm9uKCJjaGFuZ2UiLCBmdW5jdGlvbigpIHsKaWYgKCFzKSB7CnMgPSAhMDsKdS5yZWNvbm5lY3RJZlNlcnZlclJldGlyZWQoZnVuY3Rpb24oKSB7CnMgPSAhMTsKdCgpOwp9KTsKfQp9KTsKYy5hdXRvYmluZCh2LCAidmFsdWUiLCBuKTsKYy5hdXRvYmluZChTLCAidmFsdWUiLCBuKTsKYy5hdXRvYmluZCh5LCAidmFsdWUiLCBvKTsKfSgpOwp9KCk7CmZvciAodmFyIHAgaW4gZykgY1twXSA9IGdbcF07CmMuZmlyZSAmJiBjLmZpcmUoImluaXQiKTsKYy5zZXRTdHlsZSAmJiBjLnNldFN0eWxlKHIpOwpjLnNldEF0dHJpYnV0ZXMgJiYgYy5zZXRBdHRyaWJ1dGVzKGwpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBjLmFkZENoaWxkcmVuID8gYy5hZGRDaGlsZHJlbihfKSA6IHMuYWRkQ2hpbGRyZW4oYywgXyk7CmlmIChjICE9PSB0aGlzKSB7CmMuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpjLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBjOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2p4X3VpX1dpZGdldC5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiLmZpbGVfaW5wdXQiOiB7CmZvbnRTaXplOiAiMTAwMHB4IiwKb3V0bGluZTogIm5vbmUiLApvcGFjaXR5OiAiMCIKfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9XaWRnZXQsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX1NlbmRGaWxlIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKCkgewphID0gZy5yb290LiQkKCJsaXZlY2hhdC5zZXR0aW5ncy5zb3VuZC5kaXNhYmxlZCRib29sIik7CnMgPSBnLnJvb3QuJCQoImxpdmVjaGF0LnByb2ZpbGUubm90aWZpY2F0aW9uLnNvdW5kJGJvb2wiKTsKXyA9IGcucm9vdC4kJCgiY29ubmVjdGlvbi5yZWF0dGFjaGVkX3RpbWVzdGFtcCRpbnQiKTsKZCA9IGcucm9vdC4kJCgibGl2ZWNoYXQudWkuc291bmRzIik7CmMgPSBnLnJvb3QuJCgibGl2ZWNoYXQiKS4kKCJ1aSIpLiQoIm1vYmlsZSRib29sIik7CmMuZ2V0VmFsdWUoKSAmJiBzLnVwZGF0ZSghMSk7CmgucnVuQWZ0ZXJGaXJzdENoaWxkUmVhZHkoZnVuY3Rpb24oKSB7CmlmICghdSkgewp1ID0gbmV3IHAobSk7CmQuYmluZFZhbHVlKG8pOwp9Cn0pOwp9CmZ1bmN0aW9uIG8odCkgewppZiAodCAmJiByKCkpIHsKbCA9IF8uZ2V0VmFsdWUoKSB8fCAwOwppZiAoMCAhPT0gbCkgZm9yICh2YXIgZSBpbiB0KSBpZiAodC5oYXNPd25Qcm9wZXJ0eShlKSkgewppZiAoIXRbZV0gfHwgdFtlXSA8IGwpIGNvbnRpbnVlOwplID0gZS5zdWJzdHJpbmcoMCwgZS5pbmRleE9mKCIkIikpOwp1Lmhhc1NvdW5kKGUpIHx8IHUuY3JlYXRlKGUsICRbZV0pOwp1LnBsYXkoZSwgMSk7Cn0KfQp9CmZ1bmN0aW9uIHIoKSB7CnZhciB0ID0gYS5nZXRWYWx1ZSgpLCBlID0gcy5nZXRWYWx1ZSgpOwpyZXR1cm4gImJvb2xlYW4iID09IHR5cGVvZiBlID8gZSA6ICJib29sZWFuIiAhPSB0eXBlb2YgdCB8fCAhdDsKfQp2YXIgYSwgcywgXywgbCwgZCwgdSwgYywgaCA9IGkoMTQpLCBmID0gaSgxOCksIGcgPSBpKDYpLCBwID0gaSgyNzQpLCBtID0gZi5TT1VORFNfVVJMLCAkID0gewpuZXdfbWVzc2FnZTogInRyaWFkX2diZCIKfSwgYiA9IHsKaW5pdDogbiwKaXNTb3VuZEVuYWJsZWQ6IHIsCnBsYXk6IGZ1bmN0aW9uKCkge30KfTsKdC5leHBvcnRzID0gYjsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0ljb25Gb250ID0gaSgxNSk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIF8sIGwpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgXywgbCk7Cm8gPSBvIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgZCA9IFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfSWNvbkZvbnQsICIiLCAiIiwgW10sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIGggPSBmdW5jdGlvbigpIHsKdmFyIHQgPSBpKDEyKSwgZSA9IGkoOSksIG4gPSB7CnRydWU6ICJ0aWNrIiwKZmFsc2U6ICJjcm9zcyIKfSwgbyA9IGMuc2V0SWNvbjsKYy5zZXRJY29uID0gZnVuY3Rpb24oZSwgaSkgewppIHx8IChlID0gdChlKS50b1N0cmluZygpKTsKcmV0dXJuIG8uY2FsbChjLCBuW2VdIHx8IGUpOwp9OwohZnVuY3Rpb24oKSB7CmUucnRsKGMpOwp9KCk7Cn0oKTsKZm9yICh2YXIgZiBpbiBoKSBjW2ZdID0gaFtmXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0ljb25Gb250LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CmZsb2F0OiAicmlnaHQiLApsaW5lSGVpZ2h0OiAxLApwb3NpdGlvbjogInJlbGF0aXZlIiwKdG9wOiAiM3B4IiwKdmVydGljYWxBbGlnbjogIm1pZGRsZSIsCiImLnJ0bCI6IHsKZmxvYXQ6ICJsZWZ0Igp9Cn0sCiImLmxlZnQiOiB7CmZsb2F0OiAibGVmdCIsCiImLnJ0bCI6IHsKZmxvYXQ6ICJyaWdodCIKfQp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19JY29uRm9udCwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfbWVudV9JY29uRm9udCIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19WaWV3U3RhY2sgPSBpKDU1KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19TZXR0aW5nc01lbnUgPSBpKDI3Nyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfUHJvZmlsZU1lbnUgPSBpKDI2NCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfRW5kQ2hhdE1lbnUgPSBpKDI1OSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfRW1haWxUcmFuc2NyaXB0TWVudSA9IGkoMjU4KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19FbWFpbFRyYW5zY3JpcHROb3RpZmljYXRpb24gPSBpKDI1Nyk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIF8sIGwpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgXywgbCk7Cm8gPSBvIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgZCA9IFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfVmlld1N0YWNrLCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X1NldHRpbmdzTWVudSwgIiIsICIiLCBbXSwgewpuYW1lOiAic2V0dGluZ3NfbWVudSIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfUHJvZmlsZU1lbnUsICIiLCAiIiwgW10sIHsKbmFtZTogInByb2ZpbGVfbWVudSIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfRW5kQ2hhdE1lbnUsICIiLCAiIiwgW10sIHsKbmFtZTogImVuZF9jaGF0X21lbnUiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X0VtYWlsVHJhbnNjcmlwdE1lbnUsICIiLCAiIiwgW10sIHsKbmFtZTogImVtYWlsX3RyYW5zY3JpcHRfbWVudSIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfRW1haWxUcmFuc2NyaXB0Tm90aWZpY2F0aW9uLCAiIiwgIiIsIFtdLCB7Cm5hbWU6ICJlbWFpbF90cmFuc2NyaXB0X25vdGlmaWNhdGlvbiIKfSBdIF0sIHsKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOmNoYXRXaW5kb3ciOiAibWVzaGltLndpZGdldC5jb21wb25lbnRzLmNoYXRXaW5kb3ciLAoieG1sbnM6d2lkZ2V0cyI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiLApvbkNoaWxkSGlkZTogIi0xIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIGggPSBmdW5jdGlvbigpIHsKaSg5KS5wb3BvdXQoYyk7Cn0oKTsKZm9yICh2YXIgZiBpbiBoKSBjW2ZdID0gaFtmXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1ZpZXdTdGFjay5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewpvdmVyZmxvdzogInZpc2libGUiCn0sCiImLnBvcG91dCI6IHsKcG9zaXRpb246ICJhYnNvbHV0ZSIKfSwKIiYubW9iaWxlIjoge30KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1ZpZXdTdGFjaywgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19NZW51U3RhY2siCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IGkoMiksIF8gPSBpKDQpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93UGFuZWwgPSBpKDM5KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQ2hhdFdpbmRvd0Rpc2Nvbm5lY3RlZFRvYXN0ID0gaSg4NCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NoYXRXaW5kb3dDb250ZW50ID0gaSgyNyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1Njcm9sbGFibGVGcmFtZSA9IGkoMjkpOwpuLl9fJCRfX2p4X3VpX1dpZGdldCA9IGkoNyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1JhdGluZ0JhciA9IGkoMTAyKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfVGV4dEFyZWEgPSBpKDc4KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQm90dG9tID0gaSgzMik7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NvbnRyb2xzID0gaSg0OSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0Nvbm5Bd2FyZVN1Ym1pdCA9IGkoNzcpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19CdXR0b24gPSBpKDE3KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgbCwgZCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBsLCBkKTsKbyA9IG8gfHwgXy5nZW5lcmF0ZUlEKCk7CnZhciB1ID0gcygxMzIpLCBjID0gcygxMzMpLCBoID0gcygxMzQpLCBmID0gcygxMzUpLCBnID0gWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93UGFuZWwsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NoYXRXaW5kb3dEaXNjb25uZWN0ZWRUb2FzdCwgIiIsICIiLCBbXSwge30gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93Q29udGVudCwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfU2Nyb2xsYWJsZUZyYW1lLCAiIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgInJhdGluZ19kZXNjIiwgIiIsIFtdLCB7CmlkOiAicmF0aW5nX2Rlc2MiLAphZGRDbGFzczogInJhdGluZ19kZXNjIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfUmF0aW5nQmFyLCAicmF0aW5nX2JhciIsICIiLCBbXSwgewppZDogInJhdGluZ19iYXIiLAphZGRDbGFzczogInJhdGluZ19iYXIiCn0gXSwgWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIiIsICIiLCBbIHUgXSwgewphZGRDbGFzczogImNvbW1lbnRfaW50cm8iCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19UZXh0QXJlYSwgImNvbW1lbnRfYXJlYSIsICIiLCBbXSwgewppZDogImNvbW1lbnRfYXJlYSIsCmFkZENsYXNzOiAiY29tbWVudF9hcmVhIiwKcm93czogIjQiLApwbGFjZWhvbGRlcjogYwp9IF0gXSwge30gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Cb3R0b20sICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NvbnRyb2xzLCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Db25uQXdhcmVTdWJtaXQsICJzZW5kIiwgIiIsIFtdLCB7CnBsYWNlbWVudDogInByaW1hcnkiLAppZDogInNlbmQiLAphZGRDbGFzczogInNlbmQgd2lkZSIsCnZhbHVlOiBoCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19CdXR0b24sICJjYW5jZWwiLCAiIiwgWyBmIF0sIHsKcGxhY2VtZW50OiAic2Vjb25kYXJ5IiwKaWQ6ICJjYW5jZWwiLAphZGRDbGFzczogImNhbmNlbCBzZWNvbmRhcnkgd2lkZSIKfSBdIF0sIHt9IF0gXSwge30gXSBdLCB7CmFic1BhZGRpbmdCb3R0b206ICJib3R0b21IZWlnaHQiCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIsCnRpdGxlQmFyOiAiaGlkZVBvcG91dCIsCmFjdGlvbkJhcjogIiIKfSBdLCBwID0gZ1swXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIF8ubWFuZ2xlSURzKG8sIGdbM10pLCBnWzRdKSwgbSA9IHAgfHwgdGhpczsKXy5zZXQobywgbSk7CnZhciAkID0gXy5nZXQobyArICJfX3JhdGluZ19kZXNjIiksIGIgPSBfLmdldChvICsgIl9fcmF0aW5nX2JhciIpLCB3ID0gXy5nZXQobyArICJfX2NvbW1lbnRfYXJlYSIpLCB4ID0gXy5nZXQobyArICJfX3NlbmQiKSwgdiA9IF8uZ2V0KG8gKyAiX19jYW5jZWwiKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIHkgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCh0KSB7Cl8gPSB0Owp2LnNldFRleHQodCA/IGcuRU5EX0NIQVQgOiBnLkRVUklOR19DSEFUKTsKfQpmdW5jdGlvbiBlKHQpIHsKdCA/IG8odCkgOiAkLnNldFRleHQoZi5OT1RfUkFURUQpOwp9CmZ1bmN0aW9uIG4oKSB7CnZhciB0ID0gYi5nZXRWYWx1ZSgpOwp0ID8gbyh0KSA6ICQuc2V0VGV4dChmLlVOUkFURUQpOwp9CmZ1bmN0aW9uIG8odCkgewokLnNldFRleHQoImdvb2QiID09IHQgPyBmLlJBVEVEX0dPT0QgOiBmLlJBVEVEX0JBRCk7Cn0KZnVuY3Rpb24gcigpIHsKdmFyIHQsIGUgPSB7Cmdvb2Q6ICJHb29kIiwKYmFkOiAiQmFkIgp9LCBpID0gInJhdGluZ19wYW5lbCIgKyAoXyA/ICJfZW5kX2NoYXQiIDogIl9kdXJpbmdfY2hhdCIpLCBuID0gYi5nZXRWYWx1ZSgpLCBvID0gaiAmJiBqLmdldFZhbHVlKCk7CmlmIChuICE9PSBvKSB7CmogJiYgYy53cml0ZU5vZGUoaiwgbik7CnUudHJhY2tFdmVudCgiQ2hhdF9SYXRpbmdfIiArIChlW25dIHx8ICJSZW1vdmVkIiksIGkpOwp0ID0gITA7Cn0KdmFyIHIgPSB3LmdldFZhbHVlKCkudHJpbSgpOwppZiAocikgewp5LndyaXRlKHsKY29tbWVudCRzdHJpbmc6IHIKfSk7CnUudHJhY2tFdmVudCgiQ2hhdF9Db21tZW50X1N1Ym1pdHRlZCIsIGkpOwp0ID0gITA7Cn0KYSghdCk7Cn0KZnVuY3Rpb24gYSh0KSB7ClMudXBkYXRlKCJjaGF0X3BhbmVsIik7CndpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewppZiAoXykgewpkLmxpdmVjaGF0LmVuZENoYXQoKTsKQS51cGRhdGUobnVsbCk7Cn0KfSwgdCA/IDAgOiAyZTMpOwp9CmZ1bmN0aW9uIHMoKSB7CmIuc2V0VmFsdWUoai5nZXRWYWx1ZSgpKTsKZShqLmdldFZhbHVlKCkpOwp3LnNldFZhbHVlKEMuZ2V0VmFsdWUoKSB8fCAiIikuZm9jdXMoKTsKfQp2YXIgXywgbCA9IGkoMiksIGQgPSBpKDYpLCB1ID0gaSg1MCksIGMgPSBpKDExKSwgaCA9IGwoMTM2KSwgZiA9IHsKTk9UX1JBVEVEOiBoLApSQVRFRF9HT09EOiBsKDEzNyksClJBVEVEX0JBRDogbCgxMzgpLApVTlJBVEVEOiBsKDEzOSkKfSwgZyA9IHsKRFVSSU5HX0NIQVQ6IGwoMTQwKSwKRU5EX0NIQVQ6IGwoMTQxKQp9LCBwID0gZC5yb290LiQoImxpdmVjaGF0IiksIHkgPSBwLiQoImNoYW5uZWwiKSwgaiA9IHkuJCgicmF0aW5nJHN0cmluZyIpLCBDID0geS4kKCJjb21tZW50JHN0cmluZyIpLCBTID0gcC4kKCJ1aSIpLiQoImNoYXRfd2luZG93IikuJCgibWFpbl9zdGFja19uYW1lJHN0cmluZyIpLCBBID0gcC4kKCJ1aSIpLiQoImNoYXRfd2luZG93IikuJCgicmF0aW5nX3BhbmVsIikuJCgiZW5kX2NoYXQkYm9vbCIpOwohZnVuY3Rpb24oKSB7CiQuc2V0VGV4dChmLk5PVF9SQVRFRCk7Cm0uYXV0b2JpbmQoQSwgInZhbHVlIiwgdCk7CmIuc2V0RGF0YU5vZGUoaik7CmIuc2V0U2l6ZSgiYmlnIik7Cngub24oImNsaWNrIiwgcik7CnYub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CmEoITApOwp9KTsKbS5vbigic2hvdyIsIHMpOwptLmF1dG9iaW5kKGosICJ2YWx1ZSIsIGUpOwpiLm9uKCJjaGFuZ2UiLCBuKTsKfSgpOwp9KCk7CmZvciAodmFyIGogaW4geSkgbVtqXSA9IHlbal07Cm0uZmlyZSAmJiBtLmZpcmUoImluaXQiKTsKbS5zZXRTdHlsZSAmJiBtLnNldFN0eWxlKHIpOwptLnNldEF0dHJpYnV0ZXMgJiYgbS5zZXRBdHRyaWJ1dGVzKGQpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBtLmFkZENoaWxkcmVuID8gbS5hZGRDaGlsZHJlbihsKSA6IF8uYWRkQ2hpbGRyZW4obSwgbCk7CmlmIChtICE9PSB0aGlzKSB7Cm0uX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwptLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBtOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93UGFuZWwucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIi5yYXRpbmdfZGVzYyI6IHsKdGV4dEFsaWduOiAiY2VudGVyIiwKbWFyZ2luQm90dG9tOiAiMTVweCIKfSwKIi5yYXRpbmdfYmFyIjogewptYXJnaW5Cb3R0b206ICIyNXB4Igp9LAoiLmNvbW1lbnRfaW50cm8iOiB7CmZvbnRXZWlnaHQ6ICI3MDAiCn0sCiIuY29tbWVudF9hcmVhIjogewpvdmVyZmxvdzogImF1dG8iLAptYXJnaW5Ub3A6ICIxNXB4Igp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93UGFuZWwsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfUmF0aW5nUGFuZWwiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IGkoMiksIF8gPSBpKDQpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93UGFuZWwgPSBpKDM5KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQ2hhdFdpbmRvd0NvbnRlbnQgPSBpKDI3KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfU2Nyb2xsYWJsZUZyYW1lID0gaSgyOSk7Cm4uX18kJF9fanhfdWlfV2lkZ2V0ID0gaSg3KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfSGVhZGVyID0gaSg2MSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0JvZHkgPSBpKDM4KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQnV0dG9uID0gaSgxNyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0JvdHRvbSA9IGkoMzIpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBsLCBkKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIGwsIGQpOwpvID0gbyB8fCBfLmdlbmVyYXRlSUQoKTsKdmFyIHUgPSBzKDEzMSksIGMgPSBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NoYXRXaW5kb3dQYW5lbCwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQ2hhdFdpbmRvd0NvbnRlbnQsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1Njcm9sbGFibGVGcmFtZSwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0hlYWRlciwgIiIsICIiLCBbXSwgewp0ZXh0OiAiWmVuZGVzayBDaGF0Igp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQm9keSwgIiIsICIiLCBbXSwgewphZGRDbGFzczogImJvZHlfdGV4dCIsCnRleHQ6ICJDb3B5cmlnaHQgwqkgMjAxNiBaZW5kZXNrLCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQnV0dG9uLCAiYmFja190b3AiLCAiIiwgWyB1IF0sIHsKaWQ6ICJiYWNrX3RvcCIsCmFkZENsYXNzOiAiYmFja190b3Agd2lkZSIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0hlYWRlciwgIiIsICIiLCBbXSwgewp0ZXh0OiAiT3BlbiBTb3VyY2UgTGljZW5zZXMiCn0gXSBdLCB7fSBdLCBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19IZWFkZXIsICIiLCAiIiwgW10sIHsKdGV4dDogImNocm9tYS5qcyAtIEphdmFTY3JpcHQgbGlicmFyeSBmb3IgY29sb3IgY29udmVyc2lvbnMiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Cb2R5LCAiIiwgIiIsIFtdLCB7CmFkZENsYXNzOiAiYm9keV90ZXh0IiwKdGV4dDogIkNvcHlyaWdodCDCqSAyMDExLTIwMTMsIEdyZWdvciBBaXNjaC4gQWxsIHJpZ2h0cyByZXNlcnZlZC4iCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Cb2R5LCAiIiwgIiIsIFtdLCB7CmFkZENsYXNzOiAiYm9keV90ZXh0IiwKdGV4dDogIlJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDoiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Cb2R5LCAiIiwgIiIsIFtdLCB7CmFkZENsYXNzOiAiYm9keV90ZXh0IiwKdGV4dDogIjEuIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci4iCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Cb2R5LCAiIiwgIiIsIFtdLCB7CmFkZENsYXNzOiAiYm9keV90ZXh0IiwKdGV4dDogIjIuIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi4iCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Cb2R5LCAiIiwgIiIsIFtdLCB7CmFkZENsYXNzOiAiYm9keV90ZXh0IiwKdGV4dDogIjMuIFRoZSBuYW1lIEdyZWdvciBBaXNjaCBtYXkgbm90IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLiIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0JvZHksICIiLCAiIiwgW10sIHsKYWRkQ2xhc3M6ICJib2R5X3RleHQiLAp0ZXh0OiAnVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyAiQVMgSVMiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIEdSRUdPUiBBSVNDSCBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORyxCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS4nCn0gXSBdLCB7CmNsYXNzOiAiYnJlYWtfdG9wIgp9IF0sIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0hlYWRlciwgIiIsICIiLCBbXSwgewp0ZXh0OiAic3RvcmUuanMiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Cb2R5LCAiIiwgIiIsIFtdLCB7CmFkZENsYXNzOiAiYm9keV90ZXh0IiwKdGV4dDogIkNvcHlyaWdodCDCqSAyMDEwLTIwMTMgTWFyY3VzIFdlc3RpbiIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0JvZHksICIiLCAiIiwgW10sIHsKYWRkQ2xhc3M6ICJib2R5X3RleHQiLAp0ZXh0OiAnUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6Jwp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQm9keSwgIiIsICIiLCBbXSwgewphZGRDbGFzczogImJvZHlfdGV4dCIsCnRleHQ6ICJUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4iCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Cb2R5LCAiIiwgIiIsIFtdLCB7CmFkZENsYXNzOiAiYm9keV90ZXh0IiwKdGV4dDogJ1RIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS4nCn0gXSBdLCB7CmNsYXNzOiAiYnJlYWtfdG9wIgp9IF0sIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0hlYWRlciwgIiIsICIiLCBbXSwgewp0ZXh0OiAiZDMtdGltZXIsIGQzLWludGVycG9sYXRlIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQm9keSwgIiIsICIiLCBbXSwgewphZGRDbGFzczogImJvZHlfdGV4dCIsCnRleHQ6ICJDb3B5cmlnaHQgMjAxMC0yMDE1IE1pa2UgQm9zdG9jayIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0JvZHksICIiLCAiIiwgW10sIHsKYWRkQ2xhc3M6ICJib2R5X3RleHQiLAp0ZXh0OiAiQWxsIHJpZ2h0cyByZXNlcnZlZC4iCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Cb2R5LCAiIiwgIiIsIFtdLCB7CmFkZENsYXNzOiAiYm9keV90ZXh0IiwKdGV4dDogIlJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDoiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Cb2R5LCAiIiwgIiIsIFtdLCB7CmFkZENsYXNzOiAiYm9keV90ZXh0IiwKdGV4dDogIiogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLiIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0JvZHksICIiLCAiIiwgW10sIHsKYWRkQ2xhc3M6ICJib2R5X3RleHQiLAp0ZXh0OiAiKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQm9keSwgIiIsICIiLCBbXSwgewphZGRDbGFzczogImJvZHlfdGV4dCIsCnRleHQ6ICIqIE5laXRoZXIgdGhlIG5hbWUgb2YgdGhlIGF1dGhvciBub3IgdGhlIG5hbWVzIG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQm9keSwgIiIsICIiLCBbXSwgewphZGRDbGFzczogImJvZHlfdGV4dCIsCnRleHQ6ICdUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTICJBUyBJUyIgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBPV05FUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuJwp9IF0gXSwgewpjbGFzczogImJyZWFrX3RvcCIKfSBdLCBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19IZWFkZXIsICIiLCAiIiwgW10sIHsKdGV4dDogImQzLWVhc2UiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Cb2R5LCAiIiwgIiIsIFtdLCB7CmFkZENsYXNzOiAiYm9keV90ZXh0IiwKdGV4dDogIkNvcHlyaWdodCAyMDEwLTIwMTUgTWlrZSBCb3N0b2NrIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQm9keSwgIiIsICIiLCBbXSwgewphZGRDbGFzczogImJvZHlfdGV4dCIsCnRleHQ6ICJDb3B5cmlnaHQgMjAwMSBSb2JlcnQgUGVubmVyIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQm9keSwgIiIsICIiLCBbXSwgewphZGRDbGFzczogImJvZHlfdGV4dCIsCnRleHQ6ICJBbGwgcmlnaHRzIHJlc2VydmVkLiIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0JvZHksICIiLCAiIiwgW10sIHsKYWRkQ2xhc3M6ICJib2R5X3RleHQiLAp0ZXh0OiAiUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OiIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0JvZHksICIiLCAiIiwgW10sIHsKYWRkQ2xhc3M6ICJib2R5X3RleHQiLAp0ZXh0OiAiKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQm9keSwgIiIsICIiLCBbXSwgewphZGRDbGFzczogImJvZHlfdGV4dCIsCnRleHQ6ICIqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi4iCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Cb2R5LCAiIiwgIiIsIFtdLCB7CmFkZENsYXNzOiAiYm9keV90ZXh0IiwKdGV4dDogIiogTmVpdGhlciB0aGUgbmFtZSBvZiB0aGUgYXV0aG9yIG5vciB0aGUgbmFtZXMgb2YgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi4iCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Cb2R5LCAiIiwgIiIsIFtdLCB7CmFkZENsYXNzOiAiYm9keV90ZXh0IiwKdGV4dDogJ1RISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgIkFTIElTIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS4nCn0gXSBdLCB7CmNsYXNzOiAiYnJlYWtfdG9wIgp9IF0gXSwgewphZGRDbGFzczogImx0ciIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0JvdHRvbSwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQnV0dG9uLCAiYmFjayIsICIiLCBbIHUgXSwgewppZDogImJhY2siLAphZGRDbGFzczogImJhY2sgd2lkZSIKfSBdIF0sIHt9IF0gXSwgewphYnNQYWRkaW5nQm90dG9tOiAiYm90dG9tSGVpZ2h0Igp9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6d2lkZ2V0cyI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiLAp0aXRsZUJhcjogImhpZGVQb3BvdXQiLAphY3Rpb25CYXI6ICIiCn0gXSwgaCA9IGNbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBfLm1hbmdsZUlEcyhvLCBjWzNdKSwgY1s0XSksIGYgPSBoIHx8IHRoaXM7Cl8uc2V0KG8sIGYpOwp2YXIgZyA9IF8uZ2V0KG8gKyAiX19iYWNrX3RvcCIpLCBwID0gXy5nZXQobyArICJfX2JhY2siKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIG0gPSBmdW5jdGlvbigpIHsKdmFyIHQgPSBpKDYpLCBlID0gaSg5KSwgbiA9IHQucm9vdC4kKCJsaXZlY2hhdCIpLiQoInVpIikuJCgiY2hhdF93aW5kb3ciKS4kKCJtYWluX3N0YWNrX25hbWUkc3RyaW5nIik7CiFmdW5jdGlvbigpIHsKZS5tb2JpbGUoZik7CnAub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7Cm4udXBkYXRlKCJjaGF0X3BhbmVsIik7Cn0pOwpnLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewpuLnVwZGF0ZSgiY2hhdF9wYW5lbCIpOwp9KTsKfSgpOwp9KCk7CmZvciAodmFyICQgaW4gbSkgZlskXSA9IG1bJF07CmYuZmlyZSAmJiBmLmZpcmUoImluaXQiKTsKZi5zZXRTdHlsZSAmJiBmLnNldFN0eWxlKHIpOwpmLnNldEF0dHJpYnV0ZXMgJiYgZi5zZXRBdHRyaWJ1dGVzKGQpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBmLmFkZENoaWxkcmVuID8gZi5hZGRDaGlsZHJlbihsKSA6IF8uYWRkQ2hpbGRyZW4oZiwgbCk7CmlmIChmICE9PSB0aGlzKSB7CmYuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpmLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBmOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93UGFuZWwucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIi5icmVha190b3AiOiB7CnBhZGRpbmc6ICIxMHB4IDAiLApib3JkZXJUb3A6ICIxcHggc29saWQiLApib3JkZXJDb2xvcjogIiQkaW5wdXRDb2xvciIsCmZvbnRTaXplOiAiJCRmb250U2l6ZVhTIiwKIi5ib2R5X3RleHQiOiB7CmNvbG9yOiAiJCRpbnB1dENvbG9yIiwKbWFyZ2luQm90dG9tOiAiJCRtYXJnaW5TIgp9Cn0sCiIuYmFja190b3AiOiB7CmRpc3BsYXk6ICJub25lIiwKIiYubW9iaWxlIjogewptYXJnaW5Cb3R0b206ICIxOHB4IiwKZGlzcGxheTogImJsb2NrIgp9Cn0sCiIubHRyIjogewpkaXJlY3Rpb246ICJsdHIiCn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NoYXRXaW5kb3dQYW5lbCwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19BYm91dFBhbmVsIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSBpKDIpLCBfID0gaSg0KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQ2hhdFdpbmRvd1BhbmVsID0gaSgzOSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NoYXRXaW5kb3dDb250ZW50ID0gaSgyNyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1Njcm9sbGFibGVGcmFtZSA9IGkoMjkpOwpuLl9fJCRfX2p4X2NvbnRyb2xzX0xpc3QgPSBpKDE0OCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX21vdGlmX0NoYXQgPSBpKDEzMSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0JvdHRvbSA9IGkoMzIpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19CdXR0b24gPSBpKDE3KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgbCwgZCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBsLCBkKTsKbyA9IG8gfHwgXy5nZW5lcmF0ZUlEKCk7CnZhciB1ID0gcygxMzApLCBjID0gWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93UGFuZWwsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NoYXRXaW5kb3dDb250ZW50LCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19TY3JvbGxhYmxlRnJhbWUsICJzY3JvbGxhYmxlX2ZyYW1lIiwgIiIsIFsgWyBuLl9fJCRfX2p4X2NvbnRyb2xzX0xpc3QsICJsaXN0IiwgIiIsIFtdLCB7CmlkOiAibGlzdCIsCmFkZENsYXNzOiAibGlzdCIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX21vdGlmX0NoYXQsICJjaGF0X21vdGlmIiwgIiIsIFtdLCB7CmlkOiAiY2hhdF9tb3RpZiIsCmFkZENsYXNzOiAiY2hhdF9tb3RpZiIKfSBdIF0sIHsKaWQ6ICJzY3JvbGxhYmxlX2ZyYW1lIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQm90dG9tLCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19CdXR0b24sICJiYWNrIiwgIiIsIFsgdSBdLCB7CmlkOiAiYmFjayIsCmFkZENsYXNzOiAiYmFjayB3aWRlIgp9IF0gXSwgewphZGRDbGFzczogInBhZGRpbmdfYm90dG9tIgp9IF0gXSwgewphYnNQYWRkaW5nQm90dG9tOiAiYm90dG9tSGVpZ2h0Qm90dG9tUGFkZGluZyIKfSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOmp4IjogImp4LmNvbnRyb2xzIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIiwKInhtbG5zOmNoYXRXaW5kb3ciOiAibWVzaGltLndpZGdldC5jb21wb25lbnRzLmNoYXRXaW5kb3ciLAp0aXRsZUJhcjogImhpZGVQb3BvdXQiLAphY3Rpb25CYXI6ICJub25lIgp9IF0sIGggPSBjWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgXy5tYW5nbGVJRHMobywgY1szXSksIGNbNF0pLCBmID0gaCB8fCB0aGlzOwpfLnNldChvLCBmKTsKdmFyIGcgPSBfLmdldChvICsgIl9fc2Nyb2xsYWJsZV9mcmFtZSIpLCBwID0gXy5nZXQobyArICJfX2xpc3QiKSwgbSA9IF8uZ2V0KG8gKyAiX19jaGF0X21vdGlmIiksICQgPSBfLmdldChvICsgIl9fYmFjayIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgYiA9IGZ1bmN0aW9uKCkgewp2YXIgdCA9IGkoMTYpLCBlID0gaSg2KSwgbiA9IGkoMjc4KSwgbyA9IGUucm9vdC4kKCJsaXZlY2hhdCIpLiQoImFnZW50cyIpLCByID0gZS5yb290LiQoImxpdmVjaGF0IikuJCgidWkiKS4kKCJjaGF0X3dpbmRvdyIpLiQoIm1haW5fc3RhY2tfbmFtZSRzdHJpbmciKTsKIWZ1bmN0aW9uKCkgewpwLnNldFJlbmRlcmVyKG4pOwpwLnNldERhdGFOb2RlKG8pOwpmLmF1dG9iaW5kKG8sICJrZXlzIiwgZnVuY3Rpb24oKSB7CnQoZnVuY3Rpb24oKSB7CmlmIChmLmRvbSkgewp2YXIgdCA9IHAub2Zmc2V0SGVpZ2h0LCBlID0gZy5nZXRIZWlnaHQoKSwgaSA9IG0uZ2V0SGVpZ2h0KCk7CnQgPD0gZSAmJiBlIC0gdCA+IGkgPyBmLnJlbW92ZUNsYXNzKCJtYW55X2FnZW50cyIpIDogZi5hZGRDbGFzcygibWFueV9hZ2VudHMiKTsKfQp9KTsKfSk7CiQub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CnIudXBkYXRlKCJjaGF0X3BhbmVsIik7Cn0pOwp9KCk7Cn0oKTsKZm9yICh2YXIgdyBpbiBiKSBmW3ddID0gYlt3XTsKZi5maXJlICYmIGYuZmlyZSgiaW5pdCIpOwpmLnNldFN0eWxlICYmIGYuc2V0U3R5bGUocik7CmYuc2V0QXR0cmlidXRlcyAmJiBmLnNldEF0dHJpYnV0ZXMoZCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGYuYWRkQ2hpbGRyZW4gPyBmLmFkZENoaWxkcmVuKGwpIDogXy5hZGRDaGlsZHJlbihmLCBsKTsKaWYgKGYgIT09IHRoaXMpIHsKZi5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmYuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGY7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NoYXRXaW5kb3dQYW5lbC5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjoge30sCiIubGlzdCI6IHsKcG9zaXRpb246ICJyZWxhdGl2ZSIsCiJ3aWR0aCwgaGVpZ2h0IjogIjEwMCUiCn0sCiIuY2hhdF9tb3RpZiI6IHsKcG9zaXRpb246ICJhYnNvbHV0ZSIsCiJib3R0b20sIGxlZnQiOiAwLAp0cmFuc2l0aW9uOiAib3BhY2l0eSAwLjVzIiwKb3BhY2l0eTogMQp9LAoiJi5tYW55X2FnZW50cyAuY2hhdF9tb3RpZiI6IHsKb3BhY2l0eTogMAp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93UGFuZWwsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfQWdlbnRMaXN0Igp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSBpKDIpLCBfID0gaSg0KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQ2hhdFdpbmRvd1BhbmVsID0gaSgzOSk7Cm4uX18kJF9fanhfdWlfRm9ybSA9IGkoNDIpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93Q29udGVudCA9IGkoMjcpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19TY3JvbGxhYmxlRnJhbWUgPSBpKDI5KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQm9keSA9IGkoMzgpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19mb3JtX1Byb2ZpbGUgPSBpKDEwOSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0Zvcm0gPSBpKDEwNyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0JvdHRvbSA9IGkoMzIpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Db250cm9scyA9IGkoNDkpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19TdWJtaXQgPSBpKDY5KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQnV0dG9uID0gaSgxNyk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIGwsIGQpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgbCwgZCk7Cm8gPSBvIHx8IF8uZ2VuZXJhdGVJRCgpOwp2YXIgdSA9IHMoMTI4KSwgYyA9IHMoMTI5KSwgaCA9IFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQ2hhdFdpbmRvd1BhbmVsLCAiIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX0Zvcm0sICJmb3JtIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93Q29udGVudCwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfU2Nyb2xsYWJsZUZyYW1lLCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Cb2R5LCAibWVzc2FnZSIsICIiLCBbXSwgewppZDogIm1lc3NhZ2UiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19mb3JtX1Byb2ZpbGUsICJwcm9maWxlIiwgIiIsIFtdLCB7CmlkOiAicHJvZmlsZSIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0Zvcm0sICJmb3JtX2dlbmVyYXRvciIsICIiLCBbXSwgewppZDogImZvcm1fZ2VuZXJhdG9yIgp9IF0gXSwge30gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Cb3R0b20sICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NvbnRyb2xzLCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19TdWJtaXQsICIiLCAiIiwgW10sIHsKcGxhY2VtZW50OiAicHJpbWFyeSIsCmFkZENsYXNzOiAid2lkZSIsCnZhbHVlOiB1Cn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19CdXR0b24sICJjYW5jZWwiLCAiIiwgWyBjIF0sIHsKcGxhY2VtZW50OiAic2Vjb25kYXJ5IiwKaWQ6ICJjYW5jZWwiLAphZGRDbGFzczogInNlY29uZGFyeSB3aWRlIgp9IF0gXSwge30gXSBdLCB7fSBdIF0sIHsKYWJzUGFkZGluZ0JvdHRvbTogImJvdHRvbUhlaWdodCIKfSBdIF0sIHsKaWQ6ICJmb3JtIiwKbm9WYWxpZGF0ZTogInRydWUiCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczpjb21wb25lbnRzIjogIm1lc2hpbS53aWRnZXQuY29tcG9uZW50cyIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIsCiJ4bWxuczpjaGF0V2luZG93IjogIm1lc2hpbS53aWRnZXQuY29tcG9uZW50cy5jaGF0V2luZG93IiwKdGl0bGVCYXI6ICJoaWRlUG9wb3V0IiwKYWN0aW9uQmFyOiAiIgp9IF0sIGYgPSBoWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgXy5tYW5nbGVJRHMobywgaFszXSksIGhbNF0pLCBnID0gZiB8fCB0aGlzOwpfLnNldChvLCBnKTsKdmFyIHAgPSBfLmdldChvICsgIl9fZm9ybSIpLCBtID0gXy5nZXQobyArICJfX21lc3NhZ2UiKSwgJCA9IF8uZ2V0KG8gKyAiX19wcm9maWxlIiksIGIgPSBfLmdldChvICsgIl9fZm9ybV9nZW5lcmF0b3IiKSwgdyA9IF8uZ2V0KG8gKyAiX19jYW5jZWwiKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIHggPSBmdW5jdGlvbigpIHsKdmFyIHQsIGUgPSBpKDYpLCBuID0gZS5yb290LiQoImxpdmVjaGF0IikuJCgic2V0dGluZ3MiKS4kKCJmb3JtcyIpLiQoImNhcmRfZm9ybSIpLCBvID0gbi4kKCJtZXNzYWdlJHN0cmluZyIpLCByID0gbi4kKCJmb3JtIiksIGEgPSBuLiQoImZvcm1fc3VibWl0dGVkIiksIHMgPSBuLiQoInByb2ZpbGVfcmVxdWlyZWQkYm9vbCIpLCBfID0gZS5yb290LiQoImxpdmVjaGF0IikuJCgidWkiKS4kKCJjaGF0X3dpbmRvdyIpLiQoIm1haW5fc3RhY2tfbmFtZSRzdHJpbmciKTsKIWZ1bmN0aW9uKCkgewpiLnNldERhdGFOb2RlKHIpOwokLnNldERhdGFOb2RlKHIpOwpnLmF1dG9iaW5kKG8sICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKbS5zZXRUZXh0KHQgfHwgIiIpOwp9KTsKZy5hdXRvYmluZChzLCAidmFsdWUiLCBmdW5jdGlvbihlKSB7CnQgPSBlOwokLnNldERpc3BsYXkoZSA/ICIiIDogIm5vbmUiKTsKJC5zZXREaXNhYmxlZChlKTsKfSk7CnAub24oInN1Ym1pdCIsIGZ1bmN0aW9uKHQpIHsKdC5wcmV2ZW50RGVmYXVsdCgpOwppZiAocC52YWxpZGF0ZSghMCkpIHsKJC5zdWJtaXQoKTsKYi5zdWJtaXQoYSwgJCk7Cl8udXBkYXRlKCJjaGF0X3BhbmVsIik7Cn0KfSk7Cncub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7Cl8udXBkYXRlKCJjaGF0X3BhbmVsIik7Cn0pOwp9KCk7Cn0oKTsKZm9yICh2YXIgdiBpbiB4KSBnW3ZdID0geFt2XTsKZy5maXJlICYmIGcuZmlyZSgiaW5pdCIpOwpnLnNldFN0eWxlICYmIGcuc2V0U3R5bGUocik7Cmcuc2V0QXR0cmlidXRlcyAmJiBnLnNldEF0dHJpYnV0ZXMoZCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGcuYWRkQ2hpbGRyZW4gPyBnLmFkZENoaWxkcmVuKGwpIDogXy5hZGRDaGlsZHJlbihnLCBsKTsKaWYgKGcgIT09IHRoaXMpIHsKZy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmcuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGc7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NoYXRXaW5kb3dQYW5lbC5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0ge307CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93UGFuZWwsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfQ2FyZEZvcm0iCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQ2hhdFdpbmRvd1BhbmVsID0gaSgzOSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1ZpZXdTdGFjayA9IGkoNTUpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X2Nvb2tpZUZvcm1fQWNjZXB0ID0gaSgyODApOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X2Nvb2tpZUZvcm1fRGVjbGluZSA9IGkoMjc5KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93UGFuZWwsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1ZpZXdTdGFjaywgInZzIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X2Nvb2tpZUZvcm1fQWNjZXB0LCAiIiwgIiIsIFtdLCB7fSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfY29va2llRm9ybV9EZWNsaW5lLCAiIiwgIiIsIFtdLCB7fSBdIF0sIHsKaWQ6ICJ2cyIKfSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIiwKInhtbG5zOmNvb2tpZUZvcm0iOiAibWVzaGltLndpZGdldC5jb21wb25lbnRzLmNoYXRXaW5kb3cuY29va2llRm9ybSIsCnRpdGxlQmFyOiAiaGlkZVBvcG91dCIsCmFjdGlvbkJhcjogIiIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CnZhciBoID0gcy5nZXQobyArICJfX3ZzIik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBmID0gZnVuY3Rpb24oKSB7CnZhciB0ID0gaSg2KSwgZSA9IHQucm9vdC4kKCJsaXZlY2hhdCIpLiQoInByb2ZpbGUiKS4kKCJhbGxvd19jb29raWVzJGJvb2wiKTsKIWZ1bmN0aW9uKCkgewpjLmF1dG9iaW5kKGUsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKaC5zZXRJbmRleCghMSA9PT0gdCA/IDAgOiAxKTsKfSk7Cn0oKTsKfSgpOwpmb3IgKHZhciBnIGluIGYpIGNbZ10gPSBmW2ddOwpjLmZpcmUgJiYgYy5maXJlKCJpbml0Iik7CmMuc2V0U3R5bGUgJiYgYy5zZXRTdHlsZShyKTsKYy5zZXRBdHRyaWJ1dGVzICYmIGMuc2V0QXR0cmlidXRlcyhsKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5hZGRDaGlsZHJlbiA/IGMuYWRkQ2hpbGRyZW4oXykgOiBzLmFkZENoaWxkcmVuKGMsIF8pOwppZiAoYyAhPT0gdGhpcykgewpjLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKYy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gYzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQ2hhdFdpbmRvd1BhbmVsLnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CmE6IHsKY29sb3I6ICJpbmhlcml0Igp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93UGFuZWwsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfQ29va2llRm9ybSIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Nb3RpZiA9IGkoMjgyKTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Nb3RpZiwgIiIsICIiLCBbXSwgewoieG1sbnM6d2lkZ2V0cyI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiLAppdGVtczogImhpbGwsIGJ1YmJsZSBiMSwgYnViYmxlIGIyLCBidWJibGUgYjMsIGJ1YmJsZSBiNCwgYnViYmxlIGI1Igp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIGggPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCh0KSB7CnZhciBlID0gYy5kb20uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSh0KVswXTsKaWYgKGUpIHsKZS5zdHlsZS5PVHJhbnNmb3JtID0gIm5vbmUiOwplLnN0eWxlLnRyYW5zZm9ybSA9ICJub25lIjsKfQp9CnZhciBlID0gaSg4KTsKaWYgKGUuaXNPcGVyYSkgewp0KCJiMyIpOwp0KCJiNCIpOwp0KCJiNSIpOwp9CmUuaXNJRTggJiYgYy5zZXREaXNwbGF5KCJub25lIik7Cn0oKTsKZm9yICh2YXIgZiBpbiBoKSBjW2ZdID0gaFtmXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX01vdGlmLnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CndpZHRoOiAiMTAwJSIsCmhlaWdodDogIjUwcHgiLApmb250RmFtaWx5OiAnem9waW0sICJTZWdvZSBVSSBTeW1ib2wiLCAiQXJpYWwgVW5pY29kZSBNUyIsICJMdWNpZGEgU2FucyBVbmljb2RlIiwgc2Fucy1zZXJpZicsCiIqZGlzcGxheSI6ICJub25lIgp9LAoiKiI6IHsKcG9zaXRpb246ICJhYnNvbHV0ZSIKfSwKIi5oaWxsIjogewp3aWR0aDogIjk1JSIsCmhlaWdodDogIjIwcHgiLApib3R0b206IDAsCmxlZnQ6ICIyLjUlIiwKYm9yZGVyVG9wTGVmdFJhZGl1czogIjUwJSAxMDAlIiwKYm9yZGVyVG9wUmlnaHRSYWRpdXM6ICI1MCUgMTAwJSIsCmJhY2tncm91bmQ6ICIkJGNoYXRNb3RpZkhpbGwiCn0sCiIuYnViYmxlIjogewp0b3A6IDAsCmNvbG9yOiAiJCRjaGF0TW90aWZCdWJibGUiLAoiJjpiZWZvcmUiOiB7CmNvbnRlbnQ6ICInXFwxZjRhYyciCn0KfSwKIi5iMSI6IHsKZm9udFNpemU6ICIyNHB4IiwKdG9wOiAiMTJweCIsCmxlZnQ6ICIxMCUiLApvcGFjaXR5OiAuNAp9LAoiLmIyIjogewpmb250U2l6ZTogIjE2cHgiLAp0b3A6ICIxNnB4IiwKbGVmdDogIjIxJSIKfSwKIi5iMyI6IHsKZm9udFNpemU6ICIxNnB4IiwKdG9wOiAiMTNweCIsCnJpZ2h0OiAiMzMuNSUiLApvcGFjaXR5OiAuNAp9LAoiLmI0Ijogewpmb250U2l6ZTogIjE2cHgiLAp0b3A6ICIxNHB4IiwKcmlnaHQ6ICIyNiUiCn0sCiIuYjUiOiB7CmZvbnRTaXplOiAiMzVweCIsCnRvcDogMCwKcmlnaHQ6ICIxMSUiLApvcGFjaXR5OiAuMgp9LAoiLmIzLCAuYjQsIC5iNSI6IHsKdHJhbnNmb3JtOiAic2NhbGUoLTEsIDEpIgp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Nb3RpZiwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfbW90aWZfQ2hhdCIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93UGFuZWwgPSBpKDM5KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfVmlld1N0YWNrID0gaSg1NSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfcG9zdENoYXRGb3JtX1JhdGluZ0Zvcm0gPSBpKDI4Myk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfcG9zdENoYXRGb3JtX0NvbW1lbnRzRm9ybSA9IGkoMjgxKTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93UGFuZWwsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1ZpZXdTdGFjaywgInZzIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X3Bvc3RDaGF0Rm9ybV9SYXRpbmdGb3JtLCAiIiwgIiIsIFtdLCB7fSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfcG9zdENoYXRGb3JtX0NvbW1lbnRzRm9ybSwgIiIsICIiLCBbXSwge30gXSBdLCB7CmlkOiAidnMiCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIsCiJ4bWxuczpwb3N0Q2hhdEZvcm0iOiAibWVzaGltLndpZGdldC5jb21wb25lbnRzLmNoYXRXaW5kb3cucG9zdENoYXRGb3JtIiwKdGl0bGVCYXI6ICJoaWRlUG9wb3V0IiwKYWN0aW9uQmFyOiAibm9uZSIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CnZhciBoID0gcy5nZXQobyArICJfX3ZzIik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBmID0gZnVuY3Rpb24oKSB7CnZhciB0LCBlID0gaSg2KSwgbiA9IGUucm9vdC4kKCJsaXZlY2hhdCIpLiQoInVpIikuJCgiY2hhdF93aW5kb3ciKS4kKCJwb3N0X2NoYXRfZm9ybSIpLiQoInN0YWNrX2luZGV4JGludCIpLCBvID0gZS5yb290LiQkKCJsaXZlY2hhdC5jaGFubmVsLnJhdGluZyRzdHJpbmciKTsKIWZ1bmN0aW9uKCkgewpjLmF1dG9iaW5kKG4sICJ2YWx1ZSIsIGZ1bmN0aW9uKGUpIHsKMCA9PSBlICYmIHQgPyBuLnVwZGF0ZSgxKSA6IDEgIT0gZSB8fCB0ID8gaC5zZXRJbmRleChlIHx8IDApIDogbi51cGRhdGUoMCk7Cn0pOwpjLmF1dG9iaW5kKG8sICJ2YWx1ZSIsIGZ1bmN0aW9uKGUpIHsKdCA9IGU7Cn0pOwp9KCk7Cn0oKTsKZm9yICh2YXIgZyBpbiBmKSBjW2ddID0gZltnXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NoYXRXaW5kb3dQYW5lbC5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0ge307CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93UGFuZWwsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfUG9zdENoYXRGb3JtIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSBpKDIpLCBfID0gaSg0KTsKbi5fXyQkX19qeF91aV9odG1sX2RpdiA9IGkoMTMpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBsLCBkKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIGwsIGQpOwpvID0gbyB8fCBfLmdlbmVyYXRlSUQoKTsKdmFyIHUgPSBzKDIwMiksIGMgPSBbIG4uX18kJF9fanhfdWlfaHRtbF9kaXYsICIiLCAiIiwgWyAiIHtzdHJfcXVldWVfcG9zaXRpb259ICIgXSwgewp4bWxuczogImp4LnVpLmh0bWwiCn0gXSwgaCA9IGNbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBfLm1hbmdsZUlEcyhvLCBjWzNdKSwgY1s0XSksIGYgPSBoIHx8IHRoaXM7Cl8uc2V0KG8sIGYpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgZyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KCkgewp2YXIgdCA9IHIuZ2V0VmFsdWUoKSwgZSA9ICEwOwppZiAodCAmJiB0ID4gMCkgewp0ID4gOTkgJiYgKHQgPSA5OSk7CmYuc2V0VGV4dCh1LnJlcGxhY2UoIjxudW1iZXI+IiwgdCkpOwp9IGVsc2UgZSA9ICExOwpmW2UgPyAicmVtb3ZlQ2xhc3MiIDogImFkZENsYXNzIl0oImhpZGRlbiIpOwp9CnZhciBlID0gaSgyKSwgbiA9IGkoNiksIG8gPSBuLnJvb3QuJCgibGl2ZWNoYXQiKSwgciA9IG8uJCgiY2hhbm5lbCIpLiQoInF1ZXVlX3Bvc2l0aW9uJGludCIpOwpvLiQoInVpIikuJCgibW9iaWxlJGJvb2wiKS5nZXRWYWx1ZSgpOwohZnVuY3Rpb24oKSB7CmYuYXV0b2JpbmQociwgInZhbHVlIiwgdCk7CmlmIChlICYmIGUub25MYW5ndWFnZSkgewplLm9uTGFuZ3VhZ2UodCk7CmYub25EZXN0cnVjdGlvbihmdW5jdGlvbigpIHsKZS51bkxhbmd1YWdlKHQpOwp9KTsKfQp9KCk7Cn0oKTsKZm9yICh2YXIgcCBpbiBnKSBmW3BdID0gZ1twXTsKZi5maXJlICYmIGYuZmlyZSgiaW5pdCIpOwpmLnNldFN0eWxlICYmIGYuc2V0U3R5bGUocik7CmYuc2V0QXR0cmlidXRlcyAmJiBmLnNldEF0dHJpYnV0ZXMoZCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGYuYWRkQ2hpbGRyZW4gPyBmLmFkZENoaWxkcmVuKGwpIDogXy5hZGRDaGlsZHJlbihmLCBsKTsKaWYgKGYgIT09IHRoaXMpIHsKZi5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmYuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGY7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfaHRtbF9kaXYucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIioqc2VsZiI6IHsKZm9udFNpemU6ICIkJGZvbnRTaXplUyIsCmNvbG9yOiAiJCRjaGF0TG9nU3lzdGVtTXNnQ29sb3IiLApiYWNrZ3JvdW5kOiAiJCRjaGF0TG9nU3lzdGVtTXNnQmciLApib3JkZXJXaWR0aDogIiQkY2hhdExvZ1N5c3RlbU1zZ0JvcmRlcldpZHRoIiwKYm9yZGVyU3R5bGU6ICIkJGNoYXRMb2dTeXN0ZW1Nc2dCb3JkZXJTdHlsZSIsCmJvcmRlckNvbG9yOiAiJCRjaGF0TG9nU3lzdGVtTXNnQm9yZGVyQ29sb3IiLApwYWRkaW5nOiAiJCRjaGF0TG9nU3lzdGVtTXNnUGFkZGluZyIsCnRleHRBbGlnbjogImNlbnRlciIKfSwKIiYuaGlkZGVuIjogewpkaXNwbGF5OiAibm9uZSIKfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19jaGF0UGFuZWxfUXVldWVNZXNzYWdlIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fanhfdWlfV2lkZ2V0ID0gaSg3KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIiIsICIiLCBbXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6angiOiAianguY29udHJvbHMiCn0gXSwgdSA9IGRbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBzLm1hbmdsZUlEcyhvLCBkWzNdKSwgZFs0XSksIGMgPSB1IHx8IHRoaXM7CnMuc2V0KG8sIGMpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgaCA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KCkgewppZiAoImZhc3RfaW5pdCIgPT0gbikgewppZiAoIXIpIHsKciA9IG5ldyBfKGMpOwpyLnNldERhdGFOb2RlKHUpOwpjLmF1dG9iaW5kKGQsICJ2YWx1ZSIsIGUpOwpjLmZpcmUoImZhc3RfbG9nX2FwcGVuZGVkIik7Cn0KfSBlbHNlIGlmICgicmVnaXN0ZXJlZCIgPT0gbyB8fCAicmVhdHRhY2hlZCIgPT0gbykgewppZiAociBpbnN0YW5jZW9mIF8pIHsKYy5hdXRvdW5iaW5kKGQsICJ2YWx1ZSIsIGUpOwpyLmRlc3Ryb3koKTsKfQpyID0gITA7CmlmICghYSkgewphID0gbmV3IF8oYyk7CmEuc2V0RGF0YU5vZGUoZCk7CmMuZmlyZSgiY2hhdF9sb2dfYXBwZW5kZWQiKTsKfQp9Cn0KZnVuY3Rpb24gZSh0KSB7CmlmICh0KSB7CnZhciBlOwpmb3IgKHZhciBpIGluIHQpIGlmICh0Lmhhc093blByb3BlcnR5KGkpKSB7CmUgPSB0W2ldOwppZiAoIWUpIGNvbnRpbnVlOwppZiAoZS51bnZlcmlmaWVkJGJvb2wgJiYgIWUubmljayRzdHJpbmcpIHsKZS5uaWNrJHN0cmluZyA9ICJ2aXNpdG9yOmxvY2FsIjsKdS4kKGkpLnVwZGF0ZShlKTsKfQp9Cn0KfQp2YXIgbiwgbywgciwgYSwgcyA9IGkoNiksIF8gPSBpKDE0OSksIGwgPSBzLnJvb3QuJCgibGl2ZWNoYXQiKSwgZCA9IGwuJCgiY2hhbm5lbCIpLiQoImxvZyIpLCB1ID0gbC4kKCJ0ZW1wIikuJCgicHJldl9sb2ciKSwgaCA9IHMucm9vdC4kKCJjb25uZWN0aW9uIiksIGYgPSBoLiQoIm1lc3NhZ2Ukc3RyaW5nIiksIGcgPSBoLiQoInN0YXR1cyRzdHJpbmciKTsKIWZ1bmN0aW9uKCkgewpjLmF1dG9iaW5kKGYsICJ2YWx1ZSIsIGZ1bmN0aW9uKGUpIHsKaWYgKG4gIT0gZSkgewpuID0gZTsKdCgpOwp9Cn0pOwpjLmF1dG9iaW5kKGcsICJ2YWx1ZSIsIGZ1bmN0aW9uKGUpIHsKaWYgKG8gIT0gZSkgewpvID0gZTsKdCgpOwp9Cn0pOwp9KCk7Cn0oKTsKZm9yICh2YXIgZiBpbiBoKSBjW2ZdID0gaFtmXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfV2lkZ2V0LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7fTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfV2lkZ2V0LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X2NoYXRQYW5lbF9GYXN0SW5pdENoYXRMb2ciCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19qeF91aV9odG1sX3NwYW4gPSBpKDMwKTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX2p4X3VpX2h0bWxfc3BhbiwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9odG1sX3NwYW4sICIiLCAiIiwgW10sIHsKY2xhc3M6ICJkZWZhdWx0X3ZhbHVlIiwKY29udGFpbmVyOiAiZGVmYXVsdF92YWx1ZSIKfSBdLCBbIG4uX18kJF9fanhfdWlfaHRtbF9zcGFuLCAiIiwgIiIsIFtdLCB7CmNsYXNzOiAic2VsZWN0ZWRfdmFsdWUiLApjb250YWluZXI6ICJzZWxlY3RlZF92YWx1ZSIKfSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIGggPSBmdW5jdGlvbigpIHsKdmFyIHQgPSBpKDExKSwgZSA9IGkoNik7CnQuaG92ZXJGaXgoYyk7CiFmdW5jdGlvbigpIHsKdmFyIHQgPSBlLnJvb3QuJCgibGl2ZWNoYXQiKS4kKCJ1aSIpLiQoIm1vYmlsZSRib29sIik7CmMuYXV0b2JpbmQodCwgInZhbHVlIiwgZnVuY3Rpb24odCkgewp0IHx8IGMuYWRkQ2xhc3MoImRlc2t0b3AiKTsKfSk7Cn0oKTsKfSgpOwpmb3IgKHZhciBmIGluIGgpIGNbZl0gPSBoW2ZdOwpjLmZpcmUgJiYgYy5maXJlKCJpbml0Iik7CmMuc2V0U3R5bGUgJiYgYy5zZXRTdHlsZShyKTsKYy5zZXRBdHRyaWJ1dGVzICYmIGMuc2V0QXR0cmlidXRlcyhsKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5hZGRDaGlsZHJlbiA/IGMuYWRkQ2hpbGRyZW4oXykgOiBzLmFkZENoaWxkcmVuKGMsIF8pOwppZiAoYyAhPT0gdGhpcykgewpjLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKYy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gYzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19qeF91aV9odG1sX3NwYW4ucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIioqc2VsZiI6IHsKd2lkdGg6ICI1MCUiLApkaXNwbGF5OiAiaW5saW5lLWJsb2NrIiwKIi5kZWZhdWx0X3ZhbHVlIjogewpkaXNwbGF5OiAiaW5saW5lIgp9LAoiLnNlbGVjdGVkX3ZhbHVlIjogewpkaXNwbGF5OiAibm9uZSIKfSwKIiYuZGVza3RvcC5ob3ZlciwgJi5kZXNrdG9wOmhvdmVyLCAmLmFjdGl2ZSI6IHsKIi5kZWZhdWx0X3ZhbHVlIjogewpkaXNwbGF5OiAibm9uZSIKfSwKIi5zZWxlY3RlZF92YWx1ZSI6IHsKZGlzcGxheTogImlubGluZSIKfQp9Cn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfaHRtbF9zcGFuLCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19yYXRpbmdCYXJfZW1vdGljb25fQnV0dG9uIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fanhfdWlfQnV0dG9uQmFyID0gaSgyOTUpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBpLCBvLCByLCBfKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIGksIG8sIHIsIF8pOwppID0gaSB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGwgPSBbIG4uX18kJF9fanhfdWlfQnV0dG9uQmFyLCAiIiwgIiIsIFtdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIsCnNlbGVjdGFibGU6ICJmYWxzZSIKfSBdLCBkID0gbFswXS5jYWxsKHRoaXMsIGUsIGksIG51bGwsIHMubWFuZ2xlSURzKGksIGxbM10pLCBsWzRdKSwgdSA9IGQgfHwgdGhpczsKcy5zZXQoaSwgdSk7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CmZvciAodmFyIGMgaW4gdm9pZCAwKSB1W2NdID0gKHZvaWQgMClbY107CnUuZmlyZSAmJiB1LmZpcmUoImluaXQiKTsKdS5zZXRTdHlsZSAmJiB1LnNldFN0eWxlKG8pOwp1LnNldEF0dHJpYnV0ZXMgJiYgdS5zZXRBdHRyaWJ1dGVzKF8pOwoiZnVuY3Rpb24iID09IHR5cGVvZiB1LmFkZENoaWxkcmVuID8gdS5hZGRDaGlsZHJlbihyKSA6IHMuYWRkQ2hpbGRyZW4odSwgcik7CmlmICh1ICE9PSB0aGlzKSB7CnUuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwp1Ll9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiB1Owp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2p4X3VpX0J1dHRvbkJhci5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiLm9wdGlvbiI6IHsKY3Vyc29yOiAicG9pbnRlciIsCmRpc3BsYXk6ICJpbmxpbmUtYmxvY2siLAp0ZXh0QWxpZ246ICJjZW50ZXIiLAoiJjpmaXJzdC1jaGlsZCI6IHt9LAoiJjpsYXN0LWNoaWxkIjoge30sCiImLmFjdGl2ZSI6IHsKY3Vyc29yOiAiZGVmYXVsdCIKfSwKIiY6aG92ZXIiOiB7fSwKIiYuZGlzYWJsZWQiOiB7CmN1cnNvcjogImRlZmF1bHQiLAoiJi5hY3RpdmUiOiB7CmN1cnNvcjogImRlZmF1bHQiCn0sCiImOmhvdmVyIjogewpjdXJzb3I6ICJkZWZhdWx0Igp9Cn0KfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9CdXR0b25CYXIsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX0J1dHRvbkJhciIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX2p4X3VpX2h0bWxfZGl2ID0gaSgxMyk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIF8sIGwpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgXywgbCk7Cm8gPSBvIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgZCA9IFsgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgIiIsICIiLCBbXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6d2lkZ2V0IjogIm1lc2hpbS53aWRnZXQiLAoieG1sbnM6bXVpIjogIm1lc2hpbS51aSIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBoID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoKSB7CmMuc2V0VGV4dChvLmdldChuKSk7Cn0KZnVuY3Rpb24gZShlKSB7CmlmIChuICE9PSBlKSB7Cm4gJiYgYy5hdXRvdW5iaW5kKG4sICJ2YWx1ZSIsIHQpOwpuID0gZTsKbiAmJiBjLmF1dG9iaW5kKG4sICJ2YWx1ZSIsIHQpOwp9Cn0KdmFyIG4sIG8gPSBpKDEwKTsKYy5zZXREYXRhTm9kZSA9IGU7Cn0oKTsKZm9yICh2YXIgZiBpbiBoKSBjW2ZdID0gaFtmXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfaHRtbF9kaXYucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIioqc2VsZiI6IHsKd2hpdGVTcGFjZTogImluaGVyaXQiLApvdmVyZmxvdzogImhpZGRlbiIsCnRleHRPdmVyZmxvdzogImVsbGlwc2lzIiwKZm9udFdlaWdodDogImJvbGQiLApsaW5lSGVpZ2h0OiAiMS4yIiwKcGFkZGluZ0JvdHRvbTogIjJweCIKfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfcHJvZmlsZUNhcmRfTWVtYmVyTmFtZSIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX2p4X3VpX2h0bWxfZGl2ID0gaSgxMyk7Cm4uX18kJF9fanhfdWlfaHRtbF90YWJsZSA9IGkoNTQpOwpuLl9fJCRfX2p4X3VpX2h0bWxfdGJvZHkgPSBpKDUzKTsKbi5fXyQkX19qeF91aV9odG1sX3RyID0gaSg1Mik7Cm4uX18kJF9fanhfdWlfaHRtbF90ZCA9IGkoNTEpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19HcmF2YXRhciA9IGkoODMpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19wcm9maWxlQ2FyZF9NZW1iZXJOYW1lID0gaSgxMzcpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19wcm9maWxlQ2FyZF9UaXRsZUhvbGRlciA9IGkoMjk5KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX2p4X3VpX2h0bWxfZGl2LCAiIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX2h0bWxfdGFibGUsICIiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfaHRtbF90Ym9keSwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9odG1sX3RyLCAiIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX2h0bWxfdGQsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0dyYXZhdGFyLCAiZ3JhdmF0YXIiLCAiIiwgW10sIHsKaWQ6ICJncmF2YXRhciIsCmFkZENsYXNzOiAicHJvZmlsZV9hdmF0YXIiCn0gXSBdLCB7CmNsYXNzOiAiYXZhdGFyX2NlbGwiCn0gXSwgWyBuLl9fJCRfX2p4X3VpX2h0bWxfdGQsICJjb250ZW50X2NlbGwiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX3Byb2ZpbGVDYXJkX01lbWJlck5hbWUsICJuYW1lX2hvbGRlciIsICIiLCBbXSwgewppZDogIm5hbWVfaG9sZGVyIiwKYWRkQ2xhc3M6ICJwcm9maWxlX25hbWUiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19wcm9maWxlQ2FyZF9UaXRsZUhvbGRlciwgInRpdGxlX2hvbGRlciIsICIiLCBbXSwgewppZDogInRpdGxlX2hvbGRlciIsCmFkZENsYXNzOiAicHJvZmlsZV90aXRsZSIKfSBdIF0sIHsKcHNldWRvOiAiY29udGVudF9jZWxsIiwKaWQ6ICJjb250ZW50X2NlbGwiCn0gXSBdLCB7fSBdIF0sIHt9IF0gXSwgewpjbGFzczogInByb2ZpbGVfdGFibGUiCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp3aWRnZXQiOiAibWVzaGltLndpZGdldCIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CnZhciBoID0gcy5nZXQobyArICJfX2dyYXZhdGFyIiksIGYgPSBzLmdldChvICsgIl9fY29udGVudF9jZWxsIiksIGcgPSBzLmdldChvICsgIl9fbmFtZV9ob2xkZXIiKSwgcCA9IHMuZ2V0KG8gKyAiX190aXRsZV9ob2xkZXIiKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIG0gPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCh0KSB7Cmguc2V0TWVtYmVyTm9kZSh0KTsKaWYgKHQpIHsKbiA9IHQuJCgiZGlzcGxheV9uYW1lJHN0cmluZyIpOwpnLnNldERhdGFOb2RlKG4pOwpvID0gdC4kKCJ0aXRsZSRzdHJpbmciKTsKZShvKTsKfSBlbHNlIHsKZy5zZXREYXRhTm9kZShudWxsKTsKZShudWxsKTsKfQp9CmZ1bmN0aW9uIGUodCkgewpvID0gdDsKcC5zZXREYXRhTm9kZShvKTsKfQp2YXIgbiwgbywgciA9IGkoNiksIGEgPSByLnJvb3QuJCgibGl2ZWNoYXQiKSwgcyA9IGEuJCgic2V0dGluZ3MiKS4kKCJ0aGVtZSIpLiQoImNoYXRfd2luZG93IikuJCgicHJvZmlsZV9jYXJkIikuJCgiZGlzcGxheV9hdmF0YXIkYm9vbCIpLCBfID0gYS4kKCJzZXR0aW5ncyIpLiQoInRoZW1lIikuJCgiY2hhdF93aW5kb3ciKS4kKCJwcm9maWxlX2NhcmQiKS4kKCJkaXNwbGF5X3RpdGxlX25hbWUkYm9vbCIpLCBsID0gYS4kKCJ1aSIpLiQoIm1vYmlsZSRib29sIik7CiFmdW5jdGlvbigpIHsKaC5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKYy5vbkdyYXZhdGFyQ2xpY2sgJiYgYy5vbkdyYXZhdGFyQ2xpY2soKTsKfSk7CmYub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CmMub25Db250ZW50Q2xpY2sgJiYgYy5vbkNvbnRlbnRDbGljaygpOwp9KTsKbC5nZXRWYWx1ZSgpICYmIGMuYWRkQ2xhc3MoIm1vYmlsZSIpOwpjLmF1dG9iaW5kKHMsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKY1t0ID8gInJlbW92ZUNsYXNzIiA6ICJhZGRDbGFzcyJdKCJub19hdmF0YXIiKTsKfSk7CmMuYXV0b2JpbmQoXywgInZhbHVlIiwgZnVuY3Rpb24odCkgewpjW3QgPyAicmVtb3ZlQ2xhc3MiIDogImFkZENsYXNzIl0oIm5vX3RpdGxlX25hbWUiKTsKfSk7CmMuc2V0RGF0YU5vZGUgPSB0OwpjLnNldFRpdGxlTm9kZSA9IGU7Cn0oKTsKfSgpOwpmb3IgKHZhciAkIGluIG0pIGNbJF0gPSBtWyRdOwpjLmZpcmUgJiYgYy5maXJlKCJpbml0Iik7CmMuc2V0U3R5bGUgJiYgYy5zZXRTdHlsZShyKTsKYy5zZXRBdHRyaWJ1dGVzICYmIGMuc2V0QXR0cmlidXRlcyhsKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5hZGRDaGlsZHJlbiA/IGMuYWRkQ2hpbGRyZW4oXykgOiBzLmFkZENoaWxkcmVuKGMsIF8pOwppZiAoYyAhPT0gdGhpcykgewpjLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKYy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gYzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19qeF91aV9odG1sX2Rpdi5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewp3aWR0aDogIjEwMCUiLApwb3NpdGlvbjogInJlbGF0aXZlIiwKIi5wcm9maWxlX3RhYmxlIjogewp3aWR0aDogIjEwMCUiLAp0YWJsZUxheW91dDogImZpeGVkIiwKZm9udFNpemU6ICIxMDAlIiwKYm9yZGVyU3BhY2luZzogIjBweCIsCmJvcmRlckNvbGxhcHNlOiAiY29sbGFwc2UiLAp0ZDogewpwYWRkaW5nOiAiMHB4Igp9Cn0sCiIucHJvZmlsZV9hdmF0YXIiOiB7CndpZHRoOiAiMzJweCIsCmhlaWdodDogIjMycHgiLApib3JkZXJXaWR0aDogIiQkcHJvZmlsZUNhcmRBdmF0YXJCb3JkZXJXaWR0aCIsCmJvcmRlclN0eWxlOiAiJCRwcm9maWxlQ2FyZEF2YXRhckJvcmRlclN0eWxlIiwKYm9yZGVyQ29sb3I6ICIkJHByb2ZpbGVDYXJkQXZhdGFyQm9yZGVyQ29sb3IiLApib3JkZXJSYWRpdXM6ICIkJHByb2ZpbGVDYXJkQXZhdGFyUmFkaXVzIiwKYm94U2hhZG93OiAiJCRwcm9maWxlQ2FyZEF2YXRhclNoYWRvdyIKfSwKIi5wcm9maWxlX25hbWUiOiB7CmZvbnRXZWlnaHQ6ICJib2xkIiwKY29sb3I6ICIkJHByb2ZpbGVDYXJkTmFtZUNvbG9yIgp9LAoiLnByb2ZpbGVfdGl0bGUiOiB7CmNvbG9yOiAiJCRwcm9maWxlQ2FyZFRpdGxlQ29sb3IiCn0sCiIucHJvZmlsZV9uYW1lLCAucHJvZmlsZV90aXRsZSI6IHsKbGluZUhlaWdodDogIjEuMiIKfQp9LAoiKipzZWxmLm5vX2F2YXRhciAucHJvZmlsZV90YWJsZSI6IHsKIi5hdmF0YXJfY2VsbCI6IHsKZGlzcGxheTogIm5vbmUiCn0sCiIuY29udGVudF9jZWxsIjogewpwYWRkaW5nTGVmdDogIjBweCIKfQp9LAoiKipzZWxmLm5vX3RpdGxlX25hbWUgLnByb2ZpbGVfdGFibGUiOiB7CiIuY29udGVudF9jZWxsIjogewp2aXNpYmlsaXR5OiAiaGlkZGVuIgp9Cn0sCiIqKnNlbGYubW9iaWxlIjogewoiLnByb2ZpbGVfdGFibGUiOiB7CmhlaWdodDogIjEwMCUiCn0KfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfUHJvZmlsZUNhcmQiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfUHJvZmlsZUNhcmQgPSBpKDEzOCk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIF8sIGwpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgXywgbCk7Cm8gPSBvIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgZCA9IFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfUHJvZmlsZUNhcmQsICIiLCAiIiwgW10sIHsKeG1sbnM6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiCn0gXSwgdSA9IGRbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBzLm1hbmdsZUlEcyhvLCBkWzNdKSwgZFs0XSksIGMgPSB1IHx8IHRoaXM7CnMuc2V0KG8sIGMpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgaCA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KHQpIHsKZS5jYWxsKGMsIHQpOwppZiAodCAmJiB0ICE9PSBfKSB7CnZhciBpID0gdC4kKCJ0aXRsZSRzdHJpbmciKSwgbiA9IG5ldyBhKGksIGwpOwpjLnNldFRpdGxlTm9kZShuKTsKfQp9CnZhciBlLCBuID0gaSgyKSwgbyA9IG4oMjEyKSwgciA9IGkoNiksIGEgPSBpKDI5OCksIHMgPSBpKDk1KSwgXyA9IHIucm9vdC4kJCgibGl2ZWNoYXQuc2V0dGluZ3MuY29uY2llcmdlIiksIGwgPSBuZXcgcygidGl0bGUkc3RyaW5nIik7CmwudXBkYXRlKG8pOwohZnVuY3Rpb24oKSB7CmUgPSBjLnNldERhdGFOb2RlIHx8IGZ1bmN0aW9uKCkge307CmMuc2V0RGF0YU5vZGUgPSB0Owp9KCk7Cn0oKTsKZm9yICh2YXIgZiBpbiBoKSBjW2ZdID0gaFtmXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1Byb2ZpbGVDYXJkLnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7fTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1Byb2ZpbGVDYXJkLCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19BZ2VudFByb2ZpbGVDYXJkIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fanhfdWlfaHRtbF9kaXYgPSBpKDEzKTsKbi5fXyQkX19qeF91aV9odG1sX3RhYmxlID0gaSg1NCk7Cm4uX18kJF9fanhfdWlfaHRtbF90Ym9keSA9IGkoNTMpOwpuLl9fJCRfX2p4X3VpX2h0bWxfdHIgPSBpKDUyKTsKbi5fXyQkX19qeF91aV9odG1sX3RkID0gaSg1MSk7Cm4uX18kJF9fanhfdWlfVmlld1N0YWNrID0gaSgxNzMpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19BZ2VudFByb2ZpbGVDYXJkID0gaSgxMzkpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19NdWx0aVByb2ZpbGVzQ2FyZCA9IGkoMjk3KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX2p4X3VpX2h0bWxfZGl2LCAiIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX2h0bWxfdGFibGUsICIiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfaHRtbF90Ym9keSwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9odG1sX3RyLCAiIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX2h0bWxfdGQsICIiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfVmlld1N0YWNrLCAic3RhY2siLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0FnZW50UHJvZmlsZUNhcmQsICJhZ2VudF9jYXJkIiwgIiIsIFtdLCB7CmlkOiAiYWdlbnRfY2FyZCIsCmFkZENsYXNzOiAiY2FyZCIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX011bHRpUHJvZmlsZXNDYXJkLCAibXVsdGlfYWdlbnRzX2NhcmQiLCAiIiwgW10sIHsKaWQ6ICJtdWx0aV9hZ2VudHNfY2FyZCIsCmFkZENsYXNzOiAiY2FyZCBjdXJzb3JfcG9pbnRlciIKfSBdIF0sIHsKaWQ6ICJzdGFjayIKfSBdIF0sIHsKcHNldWRvOiAic2VydmVkX2J5X2NlbGwiCn0gXSwgWyBuLl9fJCRfX2p4X3VpX2h0bWxfdGQsICJyYXRpbmdfY2VsbCIsICIiLCBbXSwgewpwc2V1ZG86ICJyYXRpbmdfY2VsbCIsCmlkOiAicmF0aW5nX2NlbGwiLApjbGFzczogImRpc3BsYXlfbm9uZSIKfSBdIF0sIHt9IF0gXSwge30gXSBdLCB7CmNsYXNzOiAicHJvZmlsZV90YWJsZSIKfSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKdmFyIGggPSBzLmdldChvICsgIl9fc3RhY2siKSwgZiA9IHMuZ2V0KG8gKyAiX19hZ2VudF9jYXJkIiksIGcgPSBzLmdldChvICsgIl9fbXVsdGlfYWdlbnRzX2NhcmQiKSwgcCA9IHMuZ2V0KG8gKyAiX19yYXRpbmdfY2VsbCIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgbSA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KCkgewp2YXIgdCA9IHYuZ2V0S2V5cygpLmxlbmd0aDsKaWYgKHQgPiAxKSB7CmlmICgxID09PSBoLmdldEluZGV4KCkpIHJldHVybjsKaC5zZXRJbmRleCgxKTsKZi5zZXREYXRhTm9kZShudWxsKTsKZy5zZXREYXRhTm9kZSh2KTsKfSBlbHNlIHsKaWYgKDAgIT09IGguZ2V0SW5kZXgoKSkgewpoLnNldEluZGV4KDApOwpnLnNldERhdGFOb2RlKG51bGwpOwp9CnZhciBlOwppZiAoMSA9PT0gdCkgewplID0gdi4kKHYuZ2V0S2V5cygpWzBdKTsKZi5hZGRDbGFzcygiY3Vyc29yX3BvaW50ZXIiKTsKfSBlbHNlIHsKZSA9IEM7CmYucmVtb3ZlQ2xhc3MoImN1cnNvcl9wb2ludGVyIik7Cn0KZi5zZXREYXRhTm9kZShlKTsKfQp9CmZ1bmN0aW9uIGUoKSB7CkkuZ2V0VmFsdWUoKSAmJiBfLnJlc2V0VW5yZWFkQ291bnQoKTsKdi5nZXRLZXlzKCkubGVuZ3RoICYmIGsudXBkYXRlKCJhZ2VudF9saXN0Iik7Cn0KZnVuY3Rpb24gbigpIHsKdmFyIHQgPSBzKFMuZ2V0VmFsdWUoKSksIGUgPSBzKHkuZ2V0VmFsdWUoKSksIGkgPSBzKEEuZ2V0VmFsdWUoKSk7Cm8odCAmJiBlICYmIGkpOwp9CmZ1bmN0aW9uIG8odCkgewppZiAodCkgewpiIHx8IHIoKTsKcC5yZW1vdmVDbGFzcygiZGlzcGxheV9ub25lIik7Cn0gZWxzZSBwLmFkZENsYXNzKCJkaXNwbGF5X25vbmUiKTsKfQpmdW5jdGlvbiByKCkgewpiID0gbmV3ICQocCkuc2V0UHNldWRvKCJyYXRpbmdfYmFyIik7CmIuc2V0RGF0YU5vZGUoaik7CmIuc2V0U2l6ZSgic21hbGwiKTsKYi5vbigiY2hhbmdlIiwgYSk7Cn0KZnVuY3Rpb24gYSh0KSB7Ck4gJiYgbC5zY3JvbGxUb0JvdHRvbSgpOwpqICYmIG0ud3JpdGVOb2RlKGosIHQpOwp2YXIgZSA9IHsKZ29vZDogIkdvb2QiLApiYWQ6ICJCYWQiCn07CnUudHJhY2tFdmVudCgiQ2hhdF9SYXRpbmdfIiArIChlW3RdIHx8ICJSZW1vdmVkIiksICJjaGF0X3BhbmVsIik7Cn0KdmFyIHMgPSBpKDEyKSwgXyA9IGkoMzMpLCBsID0gaSg2MCksIGQgPSBpKDYpLCB1ID0gaSg1MCksIG0gPSBpKDExKSwgJCA9IGkoMTAyKSwgYiA9IG51bGwsIHcgPSBkLnJvb3QuJCgibGl2ZWNoYXQiKSwgeCA9IHcuJCgiY2hhbm5lbCIpLCB2ID0gdy4kKCJhZ2VudHMiKSwgeSA9IHguJCgic2VydmVkJGJvb2wiKSwgaiA9IHguJCgicmF0aW5nJHN0cmluZyIpLCBDID0gdy4kKCJzZXR0aW5ncyIpLiQoImNvbmNpZXJnZSIpLCBTID0gdy4kKCJzZXR0aW5ncyIpLiQoInJhdGluZyIpLiQoImVuYWJsZWQkYm9vbCIpLCBBID0gdy4kKCJzZXR0aW5ncyIpLiQoInRoZW1lIikuJCgiY2hhdF93aW5kb3ciKS4kKCJwcm9maWxlX2NhcmQiKS4kKCJkaXNwbGF5X3JhdGluZyRib29sIiksIGsgPSB3LiQoInVpIikuJCgiY2hhdF93aW5kb3ciKS4kKCJtYWluX3N0YWNrX25hbWUkc3RyaW5nIiksIEkgPSB3LiQoInVpIikuJCgicG9wb3V0JGJvb2wiKSwgVCA9IHcuJCgidWkiKS4kKCJtb2JpbGUkYm9vbCIpLmdldFZhbHVlKCksIE4gPSB3LiQoInVpIikuJCgibW9iaWxlX292ZXJsYXkkYm9vbCIpLmdldFZhbHVlKCk7CiFmdW5jdGlvbigpIHsKaC5vbigiaW5zdGFudGlhdGUiLCBmdW5jdGlvbih0KSB7CnZhciBpID0gaC5jaGlsZHJlblt0XTsKaS5vbkdyYXZhdGFyQ2xpY2sgPSBlOwppLm9uQ29udGVudENsaWNrID0gZTsKMCA9PT0gdCA/IGYgPSBpIDogZyA9IGk7Cn0pOwpoLnNldEluZGV4KDApOwpjLmF1dG9iaW5kKHYsICJrZXlzIiwgdCk7CmMuYXV0b2JpbmQoUywgInZhbHVlIiwgbik7CmMuYXV0b2JpbmQoeSwgInZhbHVlIiwgbik7CmMuYXV0b2JpbmQoQSwgInZhbHVlIiwgbik7ClQgJiYgYy5hZGRDbGFzcygibW9iaWxlIik7Cn0oKTsKfSgpOwpmb3IgKHZhciAkIGluIG0pIGNbJF0gPSBtWyRdOwpjLmZpcmUgJiYgYy5maXJlKCJpbml0Iik7CmMuc2V0U3R5bGUgJiYgYy5zZXRTdHlsZShyKTsKYy5zZXRBdHRyaWJ1dGVzICYmIGMuc2V0QXR0cmlidXRlcyhsKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5hZGRDaGlsZHJlbiA/IGMuYWRkQ2hpbGRyZW4oXykgOiBzLmFkZENoaWxkcmVuKGMsIF8pOwppZiAoYyAhPT0gdGhpcykgewpjLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKYy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gYzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19qeF91aV9odG1sX2Rpdi5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewpoZWlnaHQ6ICIxMDAlIiwKIi5wcm9maWxlX3RhYmxlIjogewp3aWR0aDogIjEwMCUiCn0sCiIuY2FyZCI6IHsKIi5hdmF0YXJfY2VsbCI6IHsKd2lkdGg6ICI1MHB4IiwKdmVydGljYWxBbGlnbjogImJvdHRvbSIsCiIucHJvZmlsZV9hdmF0YXIiOiB7CnBvc2l0aW9uOiAiYWJzb2x1dGUiLApib3R0b206ICIwIiwKIndpZHRoLCBoZWlnaHQiOiAiNTBweCIsCmJvcmRlcldpZHRoOiAiJCRjaGF0UGFuZWxQcm9maWxlQ2FyZEF2YXRhckJvcmRlcldpZHRoIiwKYm9yZGVyU3R5bGU6ICIkJGNoYXRQYW5lbFByb2ZpbGVDYXJkQXZhdGFyQm9yZGVyU3R5bGUiLApib3JkZXJDb2xvcjogIiQkY2hhdFBhbmVsUHJvZmlsZUNhcmRBdmF0YXJCb3JkZXJDb2xvciIsCmJvcmRlclJhZGl1czogIiQkY2hhdFBhbmVsUHJvZmlsZUNhcmRBdmF0YXJSYWRpdXMiLApib3hTaGFkb3c6ICIkJGNoYXRQYW5lbFByb2ZpbGVDYXJkQXZhdGFyU2hhZG93Igp9Cn0sCiIuY29udGVudF9jZWxsIjogewpwYWRkaW5nOiAiMCAxMHB4IiwKdmVydGljYWxBbGlnbjogIm1pZGRsZSIsCndpZHRoOiAiMTAwJSIsCmhlaWdodDogIjMycHgiLAoiLnByb2ZpbGVfbmFtZSwgLnByb2ZpbGVfdGl0bGUiOiB7Cm92ZXJmbG93OiAiaGlkZGVuIiwKd2lkdGg6ICIxMDAlIiwKd2hpdGVTcGFjZTogIm5vd3JhcCIKfQp9Cn0sCiIucmF0aW5nX2NlbGwiOiB7CndpZHRoOiAiNTJweCIsCnZlcnRpY2FsQWxpZ246ICJtaWRkbGUiCn0sCiIuY3Vyc29yX3BvaW50ZXIiOiB7CmN1cnNvcjogInBvaW50ZXIiCn0sCiIuZGlzcGxheV9ub25lIjogewpkaXNwbGF5OiAibm9uZSIKfQp9LAoiJi5tb2JpbGUiOiB7CiIuY2FyZCI6IHsKIi5hdmF0YXJfY2VsbCI6IHsKd2lkdGg6ICI0MHB4IiwKdmVydGljYWxBbGlnbjogIm1pZGRsZSIsCiIucHJvZmlsZV9hdmF0YXIiOiB7CnBvc2l0aW9uOiAicmVsYXRpdmUiLAoid2lkdGgsIGhlaWdodCI6ICI0MHB4Igp9Cn0sCiIuY29udGVudF9jZWxsIjogewp2ZXJ0aWNhbEFsaWduOiAibWlkZGxlIiwKIi5wcm9maWxlX25hbWUiOiB7Cm1hcmdpblRvcDogIjNweCIKfQp9Cn0sCiIucmF0aW5nX2NlbGwiOiB7CndpZHRoOiAiODhweCIKfQp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX2p4X3VpX2h0bWxfZGl2LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X2NoYXRQYW5lbF9DaGF0UGFuZWxIZWFkZXIiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfVG9hc3QgPSBpKDExMSk7Cm4uX18kJF9fanhfdWlfaHRtbF9kaXYgPSBpKDEzKTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Ub2FzdCwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgIm1lc3NhZ2UiLCAiIiwgW10sIHsKaWQ6ICJtZXNzYWdlIgp9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6d2lkZ2V0cyI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiCn0gXSwgdSA9IGRbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBzLm1hbmdsZUlEcyhvLCBkWzNdKSwgZFs0XSksIGMgPSB1IHx8IHRoaXM7CnMuc2V0KG8sIGMpOwp2YXIgaCA9IHMuZ2V0KG8gKyAiX19tZXNzYWdlIik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBmID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoKSB7CmMuc2V0RGlzcGxheSgibm9uZSIpOwp9CnZhciBlID0gaSg4KSwgbiA9IGkoMTQpLCBvID0gaSgxNiksIHIgPSBpKDYpLCBhID0gaSg2NCksIHMgPSBpKDE4KSwgXyA9IGkoMTEpLCBsID0gaSgxMCksIGQgPSBsLmZpbGVfdXBsb2FkLmVycm9yLCB1ID0gYS5wcmV0dHlTaXplKHMuRklMRV9VUExPQURfTUFYLCB7CmJhc2UyOiAhMAp9KSwgZiA9IDMxMDAsIGcgPSBfLmlzU3R5bGVTdXBwb3J0ZWQoInRyYW5zaXRpb24iKTsKZS5pc0ZGICYmIChnID0gITEpOwp2YXIgcCwgbSA9IHIucm9vdC4kKCJsaXZlY2hhdCIpLiQoInVpIikuJCgiY2hhdF93aW5kb3ciKS4kKCJjaGF0X3BhbmVsIikuJCgiZmlsZV90b2FzdCIpLiQoImVycm9yJHN0cmluZyIpLCAkID0gci5yb290LiQoImxpdmVjaGF0IikuJCgidWkiKS4kKCJwb3BvdXQkYm9vbCIpOwohZnVuY3Rpb24oKSB7Cl8ub25UcmFuc2l0aW9uRW5kKGMsIGMsIHQpOwokICYmIG4ud2luZG93Lm9uKCJjbGljayIsIHQpOwpjLm9uRGVzdHJ1Y3Rpb24oZnVuY3Rpb24oKSB7CiQgJiYgbi53aW5kb3cudW4oImNsaWNrIiwgdCk7Cn0pOwpjLmF1dG9iaW5kKG0sICJ2YWx1ZSIsIGZ1bmN0aW9uKGUpIHsKaWYgKGUpIHsKInNpemUiID09IGUgPyBoLnNldFRleHQoZFtlXS5yZXBsYWNlKCI8c2l6ZT4iLCB1KSkgOiBoLnNldFRleHQoZFtlXSB8fCBkLmRlZmF1bHQpOwpwICYmIHdpbmRvdy5jbGVhclRpbWVvdXQocCk7CmcgJiYgYy5yZW1vdmVDbGFzcygiZmFkZV9vdXQiKTsKYy5zZXREaXNwbGF5KCIiKTsKZyAmJiBjLmRvbS5vZmZzZXRIZWlnaHQ7CmcgJiYgbyhmdW5jdGlvbigpIHsKYy5hZGRDbGFzcygiZmFkZV9vdXQiKTsKfSk7CnAgPSB3aW5kb3cuc2V0VGltZW91dCh0LCBmKTsKfSBlbHNlIHQoKTsKfSk7Cn0oKTsKfSgpOwpmb3IgKHZhciBnIGluIGYpIGNbZ10gPSBmW2ddOwpjLmZpcmUgJiYgYy5maXJlKCJpbml0Iik7CmMuc2V0U3R5bGUgJiYgYy5zZXRTdHlsZShyKTsKYy5zZXRBdHRyaWJ1dGVzICYmIGMuc2V0QXR0cmlidXRlcyhsKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5hZGRDaGlsZHJlbiA/IGMuYWRkQ2hpbGRyZW4oXykgOiBzLmFkZENoaWxkcmVuKGMsIF8pOwppZiAoYyAhPT0gdGhpcykgewpjLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKYy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gYzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfVG9hc3QucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIioqc2VsZiI6IHsKcG9zaXRpb246ICJhYnNvbHV0ZSIsCnpJbmRleDogIjEwMDAiLAp0b3A6ICI1MCUiLApsZWZ0OiAiNTAlIiwKd2lkdGg6ICIxNjBweCIsCmhlaWdodDogImF1dG8iLAptYXJnaW5Ub3A6ICItMzJweCIsCm1hcmdpbkxlZnQ6ICItODBweCIsCnBhZGRpbmc6ICIxMHB4IiwKdGV4dEFsaWduOiAiY2VudGVyIiwKZm9udFdlaWdodDogImJvbGQiLAp0cmFuc2l0aW9uOiAib3BhY2l0eSAwLjVzIGxpbmVhciAyLjVzIiwKb3BhY2l0eTogMSwKIiYiOiAiJCRmaWxlVG9hc3QiLAoiJi5mYWRlX291dCI6IHsKb3BhY2l0eTogMAp9Cn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1RvYXN0LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X2NoYXRQYW5lbF9GaWxlIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSkgewpmdW5jdGlvbiBpKHQsIGUpIHsKZnVuY3Rpb24gaSgpIHsKRGF0ZS5ub3coKSAtIG4gPj0gZSA/IHQuY2FsbCgpIDogby5pZCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoaSk7Cn0KdmFyIG4gPSBEYXRlLm5vdygpLCBvID0gbmV3IE9iamVjdCgpOwpvLmlkID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShpKTsKcmV0dXJuIG87Cn0KZnVuY3Rpb24gbih0KSB7CndpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0LmlkKTsKfQpmdW5jdGlvbiBvKHQsIGUpIHsKZnVuY3Rpb24gbygpIHsKdC5hcHBseShhLCByKTsKfQp2YXIgciwgYSwgczsKcmV0dXJuIGZ1bmN0aW9uKCkgewpzICYmIG4ocyk7CnIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpOwphID0gdGhpczsKcyA9IGkobywgZSk7Cn07Cn0KdmFyIHIgPSB7CmRlYm91bmNlOiBvCn07CnQuZXhwb3J0cyA9IHI7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX2p4X3VpX2h0bWxfZGl2ID0gaSgxMyk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIF8sIGwpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgXywgbCk7Cm8gPSBvIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgZCA9IFsgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgIiIsICIiLCBbXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiCn0gXSwgdSA9IGRbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBzLm1hbmdsZUlEcyhvLCBkWzNdKSwgZFs0XSksIGMgPSB1IHx8IHRoaXM7CnMuc2V0KG8sIGMpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgaCA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KHQpIHsKciAmJiBjLmF1dG91bmJpbmQociwgInZhbHVlIiwgZSk7CmEgPSB0OwpyID0gYS4kKCJ0eXBlJHN0cmluZyIpOwpjLmF1dG9iaW5kKHIsICJ2YWx1ZSIsIGUpOwp9CmZ1bmN0aW9uIGUodCkgewppZiAodCAmJiAhcykgewpzd2l0Y2ggKHQpIHsKY2FzZSAiY2hhdC5tZW1iZXJqb2luIjoKcyA9IG5ldyBkKGMpOwpicmVhazsKCmNhc2UgImNoYXQubWVtYmVybGVhdmUiOgpzID0gbmV3IGQoYyk7Cl8gPSBuZXcgZyhjKTsKXy5zZXREYXRhTm9kZShhKTsKYnJlYWs7CgpjYXNlICJjaGF0LmNoYW5nZW5hbWUiOgpzID0gbmV3IHUoYyk7CmJyZWFrOwoKY2FzZSAiY2hhdC5yYXRpbmciOgpzID0gbmV3IGgoYyk7CmJyZWFrOwoKY2FzZSAiY2hhdC5jb21tZW50IjoKcyA9IG5ldyBmKGMpOwp9Cm4oKTsKfQp9CmZ1bmN0aW9uIG4oKSB7CmlmIChhKSB7CnMgJiYgcy5zZXREYXRhTm9kZShhKTsKXyAmJiBfLnNldERhdGFOb2RlKGEpOwp9Cn0KZnVuY3Rpb24gbygpIHsKbC51bkxhbmd1YWdlICYmIGwudW5MYW5ndWFnZShuKTsKfQp2YXIgciwgYSwgcywgXywgbCA9IGkoMiksIGQgPSBpKDMwNyksIHUgPSBpKDMwNiksIGggPSBpKDMwNSksIGYgPSBpKDMwNCksIGcgPSBpKDMwMyk7CiFmdW5jdGlvbigpIHsKYy5zZXREYXRhTm9kZSA9IHQ7CmMub25EZXN0cnVjdGlvbihvKTsKbC5vbkxhbmd1YWdlICYmIGwub25MYW5ndWFnZShuKTsKfSgpOwp9KCk7CmZvciAodmFyIGYgaW4gaCkgY1tmXSA9IGhbZl07CmMuZmlyZSAmJiBjLmZpcmUoImluaXQiKTsKYy5zZXRTdHlsZSAmJiBjLnNldFN0eWxlKHIpOwpjLnNldEF0dHJpYnV0ZXMgJiYgYy5zZXRBdHRyaWJ1dGVzKGwpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBjLmFkZENoaWxkcmVuID8gYy5hZGRDaGlsZHJlbihfKSA6IHMuYWRkQ2hpbGRyZW4oYywgXyk7CmlmIChjICE9PSB0aGlzKSB7CmMuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpjLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBjOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2p4X3VpX2h0bWxfZGl2LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CmZvbnRTaXplOiAiJCRmb250U2l6ZVMiLApjb2xvcjogIiQkY2hhdExvZ1N5c3RlbU1zZ0NvbG9yIiwKYmFja2dyb3VuZDogIiQkY2hhdExvZ1N5c3RlbU1zZ0JnIiwKYm9yZGVyV2lkdGg6ICIkJGNoYXRMb2dTeXN0ZW1Nc2dCb3JkZXJXaWR0aCIsCmJvcmRlclN0eWxlOiAiJCRjaGF0TG9nU3lzdGVtTXNnQm9yZGVyU3R5bGUiLApib3JkZXJDb2xvcjogIiQkY2hhdExvZ1N5c3RlbU1zZ0JvcmRlckNvbG9yIiwKcGFkZGluZzogIiQkY2hhdExvZ1N5c3RlbU1zZ1BhZGRpbmciLAp0ZXh0QWxpZ246ICJjZW50ZXIiCn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfaHRtbF9kaXYsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX2NoYXRMb2dSZW5kZXJlcl9TeXN0ZW1Mb2dSZW5kZXJlciIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19CdXR0b24gPSBpKDE3KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgaSwgbywgciwgXykgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBpLCBvLCByLCBfKTsKaSA9IGkgfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBsID0gWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19CdXR0b24sICIiLCAiIiwgW10sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIiwKYWRkQ2xhc3M6ICJzZWNvbmRhcnkgY2hhdF9sb2dfYnV0dG9uIgp9IF0sIGQgPSBsWzBdLmNhbGwodGhpcywgZSwgaSwgbnVsbCwgcy5tYW5nbGVJRHMoaSwgbFszXSksIGxbNF0pLCB1ID0gZCB8fCB0aGlzOwpzLnNldChpLCB1KTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KZm9yICh2YXIgYyBpbiB2b2lkIDApIHVbY10gPSAodm9pZCAwKVtjXTsKdS5maXJlICYmIHUuZmlyZSgiaW5pdCIpOwp1LnNldFN0eWxlICYmIHUuc2V0U3R5bGUobyk7CnUuc2V0QXR0cmlidXRlcyAmJiB1LnNldEF0dHJpYnV0ZXMoXyk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHUuYWRkQ2hpbGRyZW4gPyB1LmFkZENoaWxkcmVuKHIpIDogcy5hZGRDaGlsZHJlbih1LCByKTsKaWYgKHUgIT09IHRoaXMpIHsKdS5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CnUuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIHU7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0J1dHRvbi5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmLmNoYXRfbG9nX2J1dHRvbiI6IHsKd2lkdGg6ICJhdXRvIiwKbWF4V2lkdGg6ICIxMDAlIiwKcGFkZGluZzogIjZweCIKfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQnV0dG9uLCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19jaGF0TG9nUmVuZGVyZXJfQnV0dG9uIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSBpKDIpLCBfID0gaSg0KTsKbi5fXyQkX19qeF91aV9odG1sX2RpdiA9IGkoMTMpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19jaGF0TG9nUmVuZGVyZXJfQnV0dG9uID0gaSgxNDQpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBsLCBkKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIGwsIGQpOwpvID0gbyB8fCBfLmdlbmVyYXRlSUQoKTsKdmFyIHUgPSBzKDIyMCksIGMgPSBbIG4uX18kJF9fanhfdWlfaHRtbF9kaXYsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX2NoYXRMb2dSZW5kZXJlcl9CdXR0b24sICJyYXRlX3RoaXNfY2hhdCIsICIiLCBbIHUgXSwgewppZDogInJhdGVfdGhpc19jaGF0Igp9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6d2lkZ2V0cyI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiCn0gXSwgaCA9IGNbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBfLm1hbmdsZUlEcyhvLCBjWzNdKSwgY1s0XSksIGYgPSBoIHx8IHRoaXM7Cl8uc2V0KG8sIGYpOwp2YXIgZyA9IF8uZ2V0KG8gKyAiX19yYXRlX3RoaXNfY2hhdCIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgcCA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiBlKCkgewpvLnVwZGF0ZSgicmF0aW5nX3BhbmVsIik7Cn0KdmFyIG4gPSBpKDYpLCBvID0gbi5yb290LiQoImxpdmVjaGF0IikuJCgidWkiKS4kKCJjaGF0X3dpbmRvdyIpLiQoIm1haW5fc3RhY2tfbmFtZSRzdHJpbmciKTsKIWZ1bmN0aW9uKCkgewp0Lmxhc3RfaW5zdGFuY2UgJiYgdC5sYXN0X2luc3RhbmNlLmRlc3Ryb3koKTsKdC5sYXN0X2luc3RhbmNlID0gZjsKZi5hdXRvYmluZChnLCAiY2xpY2siLCBlKTsKfSgpOwp9KCk7CmZvciAodmFyIG0gaW4gcCkgZlttXSA9IHBbbV07CmYuZmlyZSAmJiBmLmZpcmUoImluaXQiKTsKZi5zZXRTdHlsZSAmJiBmLnNldFN0eWxlKHIpOwpmLnNldEF0dHJpYnV0ZXMgJiYgZi5zZXRBdHRyaWJ1dGVzKGQpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBmLmFkZENoaWxkcmVuID8gZi5hZGRDaGlsZHJlbihsKSA6IF8uYWRkQ2hpbGRyZW4oZiwgbCk7CmlmIChmICE9PSB0aGlzKSB7CmYuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpmLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBmOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2p4X3VpX2h0bWxfZGl2LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7Cm1hcmdpblRvcDogIjVweCIsCm1hcmdpbkJvdHRvbTogIjVweCIKfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfY2hhdExvZ1JlbmRlcmVyX1JhdGluZ1Byb21wdCIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19jaGF0TG9nUmVuZGVyZXJfQXJyb3dCdWJibGUgPSBpKDMxMSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX2NoYXRMb2dSZW5kZXJlcl9CYXNpY1JlbmRlcmVyID0gaSgxMDMpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBpLCBvLCByLCBfKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIGksIG8sIHIsIF8pOwppID0gaSB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGwgPSBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX2NoYXRMb2dSZW5kZXJlcl9BcnJvd0J1YmJsZSwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfY2hhdExvZ1JlbmRlcmVyX0Jhc2ljUmVuZGVyZXIsICJjb250ZW50IiwgIiIsIFtdLCB7CmlkOiAiY29udGVudCIsCmNsYXNzOiAiY29udGVudCIKfSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOm11aSI6ICJtZXNoaW0udWkiLAoieG1sbnM6d2lkZ2V0cyI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiLAoieG1sbnM6bG9nUmVuZGVyZXIiOiAibWVzaGltLndpZGdldC53aWRnZXRzLmNoYXRMb2dSZW5kZXJlciIsCmFkZENsYXNzOiAiY2hhdF9idWJibGUiCn0gXSwgZCA9IGxbMF0uY2FsbCh0aGlzLCBlLCBpLCBudWxsLCBzLm1hbmdsZUlEcyhpLCBsWzNdKSwgbFs0XSksIHUgPSBkIHx8IHRoaXM7CnMuc2V0KGksIHUpOwp2YXIgYyA9IHMuZ2V0KGkgKyAiX19jb250ZW50Iik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBoID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQodCkgewppIHx8IGMuc2V0RGF0YU5vZGUodCk7CmkgJiYgdS5hdXRvdW5iaW5kKGksICJ2YWx1ZSIsIGUpOwppID0gdC4kKCJuaWNrJHN0cmluZyIpOwp1LmF1dG9iaW5kKGksICJ2YWx1ZSIsIGUpOwp9CmZ1bmN0aW9uIGUodCkgewppZiAodCkgaWYgKG4udGVzdCh0KSkgewp1LnNldEFycm93UG9pbnRpbmcoImxlZnQiKTsKdS5yZW1vdmVDbGFzcygidmlzaXRvcl9idWJibGUiKTsKdS5hZGRDbGFzcygiYWdlbnRfYnViYmxlIik7Cn0gZWxzZSBpZiAoby50ZXN0KHQpKSB7CnUuc2V0QXJyb3dQb2ludGluZygicmlnaHQiKTsKdS5yZW1vdmVDbGFzcygiYWdlbnRfYnViYmxlIik7CnUuYWRkQ2xhc3MoInZpc2l0b3JfYnViYmxlIik7Cn0KfQp2YXIgaSwgbiA9IC9eYWdlbnQvLCBvID0gL152aXNpdG9yOi87CiFmdW5jdGlvbigpIHsKdS5zZXREYXRhTm9kZSA9IHQ7Cn0oKTsKfSgpOwpmb3IgKHZhciBmIGluIGgpIHVbZl0gPSBoW2ZdOwp1LmZpcmUgJiYgdS5maXJlKCJpbml0Iik7CnUuc2V0U3R5bGUgJiYgdS5zZXRTdHlsZShvKTsKdS5zZXRBdHRyaWJ1dGVzICYmIHUuc2V0QXR0cmlidXRlcyhfKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgdS5hZGRDaGlsZHJlbiA/IHUuYWRkQ2hpbGRyZW4ocikgOiBzLmFkZENoaWxkcmVuKHUsIHIpOwppZiAodSAhPT0gdGhpcykgewp1Ll9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKdS5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gdTsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfY2hhdExvZ1JlbmRlcmVyX0Fycm93QnViYmxlLnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7Cm1heFdpZHRoOiAiOTAlIiwKY2xlYXI6ICJib3RoIiwKcGFkZGluZzogIjVweCAxMHB4IiwKbWFyZ2luOiAiMHB4IDVweCIsCmJvcmRlclJhZGl1czogIjRweCIsCiIuYXJyb3dfYm9yZGVyIjoge30sCiIuYXJyb3dfYmFja2dyb3VuZCI6IHt9LAoiLmFycm93X2JvcmRlciI6IHsKdG9wOiAiYXV0byAhaW1wb3J0YW50IiwKYm90dG9tOiAiNXB4IiwKbWFyZ2luVG9wOiAiMHB4IiwKYm9yZGVyV2lkdGg6ICI2cHgiCn0sCiIuYXJyb3dfYmFja2dyb3VuZCI6IHsKdG9wOiAiYXV0byAhaW1wb3J0YW50IiwKYm90dG9tOiAiNnB4IiwKbWFyZ2luVG9wOiAiMHB4IiwKYm9yZGVyV2lkdGg6ICI1cHgiCn0sCiIuY29udGVudCI6IHsKbWFyZ2luVG9wOiAiMHB4Igp9LAoiJi5hZ2VudF9idWJibGUiOiB7CmZsb2F0OiAibGVmdCIKfSwKIiYucnRsLmFnZW50X2J1YmJsZSI6IHsKZmxvYXQ6ICJyaWdodCIKfSwKIiYudmlzaXRvcl9idWJibGUiOiB7CmZsb2F0OiAicmlnaHQiCn0sCiImLnJ0bC52aXNpdG9yX2J1YmJsZSI6IHsKZmxvYXQ6ICJsZWZ0Igp9Cn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX2NoYXRMb2dSZW5kZXJlcl9BcnJvd0J1YmJsZSwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfY2hhdExvZ1JlbmRlcmVyX0NoYXRCdWJibGUiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg0KSwgbyA9IG4ubmF0aXZlR2VuZXJhdG9yKCJkaXYiKTsKdC5leHBvcnRzID0gbzsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fZGl2ID0gaSgxNDcpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fZGl2LCAiIiwgIiIsIFsgWyBuLl9fJCRfX2RpdiwgInRlbXBsYXRlIiwgIiIsIFsgWyBuLl9fJCRfX2RpdiwgIiIsICIiLCBbXSwge30gXSBdLCB7CmlkOiAidGVtcGxhdGUiLApjb250YWluZXI6ICJkZWZhdWx0IiwKZGlzcGxheTogIm5vbmUiCn0gXSwgWyBuLl9fJCRfX2RpdiwgImNvbnRlbnQiLCAiIiwgW10sIHsKaWQ6ICJjb250ZW50Igp9IF0gXSwge30gXSwgdSA9IGRbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBzLm1hbmdsZUlEcyhvLCBkWzNdKSwgZFs0XSksIGMgPSB1IHx8IHRoaXM7CnMuc2V0KG8sIGMpOwp2YXIgaCA9IHMuZ2V0KG8gKyAiX190ZW1wbGF0ZSIpLCBmID0gcy5nZXQobyArICJfX2NvbnRlbnQiKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KYy5kZWZhdWx0UGxhY2VtZW50ID0gaDsKdmFyIGcgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCh0KSB7ClMgJiYgYy5hdXRvdW5iaW5kKFMsICJrZXlzIiwgbik7ClMgPSB0OwplKCk7CmMuYXV0b2JpbmQoUywgImtleXMiLCBuKTsKfQpmdW5jdGlvbiBlKCkgewpmLmVtcHR5KCk7CkkgPSB7fTsKQiA9IFtdOwppZiAoRCkgewpEID0gMDsKYy5maXJlKCJqeDpsaXN0Omxlbmd0aCIsIEQpOwp9Cn0KZnVuY3Rpb24gbih0LCBlKSB7CnZhciBpID0gdC5sZW5ndGggKyBlLmxlbmd0aCA+IDI7CmkgJiYgYy5yZW1vdmVDaGlsZChmKTsKdmFyIG4sIHIsIGEsIHMsIF8gPSBEOwpmb3IgKHIgPSAwOyByIDwgdC5sZW5ndGg7IHIrKykgewpuID0gdFtyXTsKaWYgKCEobiBpbiBJKSkgewp2YXIgbCA9IE8oZiksIGQgPSBTLiQobik7Cklbbl0gPSBsOwpEKys7CkMuYXBwbHlTZXREYXRhTm9kZShsKTsKYSA9IEEgPyAkKG4pIDogbjsKcyA9IHgoYSwgbCk7Cmwuc2V0QXR0cmlidXRlKCJqeDpsaXN0OnJvd0lEIiwgbik7Cmwuc2V0RGF0YU5vZGUoZCk7Cm8ocyk7Cn0KfQpmb3IgKHIgPSAwOyByIDwgZS5sZW5ndGg7IHIrKykgewpuID0gZVtyXTsKaWYgKG4gaW4gSSkgewphID0gQSA/ICQobiwgITApIDogbjsKcyA9IHcoYSk7CmRlbGV0ZSBUW2FdOwpJW25dID09PSBMICYmIChMID0gbnVsbCk7Cklbbl0uZGVzdHJveSgpOwpkZWxldGUgSVtuXTsKbyhzKTsKRC0tOwp9Cn0KaSAmJiBjLmFwcGVuZENoaWxkKGYpOwpfICE9IEQgJiYgYy5maXJlKCJqeDpsaXN0Omxlbmd0aCIsIEQpOwp0Lmxlbmd0aCAmJiBjLmZpcmUoImp4Omxpc3Q6YWRkZWQiLCB0KTsKfQpmdW5jdGlvbiBvKHQpIHsKaWYgKCEodCA8IDApICYmIEJbdF0pIHsKdmFyIGUsIGksIG4gPSBCW3RdLCBvID0gSVtuXTsKaWYgKG8pIHsKaWYgKEJbdCArIDFdKSB7Cm8uc2V0QXR0cmlidXRlKCJqeDpsaXN0Om5leHRJRCIsIEJbdCArIDFdKTsKZSA9IElbQlt0ICsgMV1dOwplLnNldEF0dHJpYnV0ZSgiang6bGlzdDpwcmV2SUQiLCBuKTsKby5maXJlKCJ1cGRhdGUubmVpZ2hib3VyIiwgewpuZXh0OiBCW3QgKyAxXQp9KTsKZS5maXJlKCJ1cGRhdGUubmVpZ2hib3VyIiwgewpwcmV2OiBuCn0pOwp9IGVsc2UgewpvLnJlbW92ZUF0dHJpYnV0ZSgiang6bGlzdDpuZXh0SUQiKTsKby5maXJlKCJ1cGRhdGUubmVpZ2hib3VyIiwgewpuZXh0OiBudWxsCn0pOwp9CmlmIChCW3QgLSAxXSkgewpvLnNldEF0dHJpYnV0ZSgiang6bGlzdDpwcmV2SUQiLCBCW3QgLSAxXSk7CmkgPSBJW0JbdCAtIDFdXTsKaS5zZXRBdHRyaWJ1dGUoImp4Omxpc3Q6bmV4dElEIiwgbik7Cm8uZmlyZSgidXBkYXRlLm5laWdoYm91ciIsIHsKcHJldjogQlt0IC0gMV0KfSk7CmkuZmlyZSgidXBkYXRlLm5laWdoYm91ciIsIHsKbmV4dDogbgp9KTsKfSBlbHNlIHsKby5yZW1vdmVBdHRyaWJ1dGUoImp4Omxpc3Q6cHJldklEIik7Cm8uZmlyZSgidXBkYXRlLm5laWdoYm91ciIsIHsKcHJldjogbnVsbAp9KTsKfQp9Cn0KfQpmdW5jdGlvbiByKHQpIHsKZm9yICg7dC5wYXJlbnROb2RlICYmIHQgIT0gYzsgKSB7CnZhciBlID0gdC5nZXRBdHRyaWJ1dGUoImp4Omxpc3Q6bmV4dElEIik7CmlmIChlKSByZXR1cm4gZTsKdCA9IHQucGFyZW50Tm9kZTsKfQp9CmZ1bmN0aW9uIGEodCkgewpmb3IgKDt0LnBhcmVudE5vZGUgJiYgdCAhPSBjOyApIHsKdmFyIGUgPSB0LmdldEF0dHJpYnV0ZSgiang6bGlzdDpwcmV2SUQiKTsKaWYgKGUpIHJldHVybiBlOwp0ID0gdC5wYXJlbnROb2RlOwp9Cn0KZnVuY3Rpb24gcyh0KSB7CmZvciAoO3QucGFyZW50Tm9kZSAmJiB0ICE9IGM7ICkgewp2YXIgZSA9IHQuZ2V0QXR0cmlidXRlKCJqeDpsaXN0OnJvd0lEIik7CmlmIChlKSByZXR1cm4gZTsKdCA9IHQucGFyZW50Tm9kZTsKfQp9CmZ1bmN0aW9uIF8oKSB7CnZhciB0LCBlLCBpID0gW107CmZvciAodCBpbiBJKSBpZiAoSS5oYXNPd25Qcm9wZXJ0eSh0KSkgewplID0gSVt0XS5nZXRBdHRyaWJ1dGUoImp4Omxpc3Q6cm93SUQiKTsKZSAmJiBpLnB1c2goZSk7Cn0KcmV0dXJuIGk7Cn0KZnVuY3Rpb24gbCh0KSB7CnZhciBlID0gSVt0XTsKaWYgKGUpIHJldHVybiBlLmp4X3dyYXBwZXIgfHwgZTsKfQpmdW5jdGlvbiBkKHQpIHsKdSh0LnRhcmdldCk7Cn0KZnVuY3Rpb24gdSh0KSB7CnZhciBlLCBpOwppZiAoaih0KSkgewppID0gdDsKZSA9IElbaV07Cn0gZWxzZSBpZiAoIm51bWJlciIgPT0gdHlwZW9mIHQpIHsKZSA9IGYuY2hpbGROb2Rlc1t0XTsKZSAmJiAoaSA9IGUuZ2V0QXR0cmlidXRlKCJqeDpsaXN0OnJvd0lEIikpOwp9IGVsc2UgewplID0gdDsKZm9yICg7ZS5wYXJlbnROb2RlICYmIGUgIT0gZjsgKSB7CmkgPSBlLmdldEF0dHJpYnV0ZSgiang6bGlzdDpyb3dJRCIpOwppZiAoaSkgewplLmp4X3dyYXBwZXIgJiYgKGUgPSBlLmp4X3dyYXBwZXIpOwpicmVhazsKfQplID0gZS5wYXJlbnROb2RlOwp9Cn0KaWYgKGUgJiYgZSAhPSBMKSB7CmcoKTsKTCA9IGUuanhfd3JhcHBlciB8fCBlOwpMLmFkZENsYXNzKCJhY3RpdmUiKTsKTC5maXJlKCJqeDpsaXN0OnNlbGVjdGVkIik7CmMuZmlyZSgiang6bGlzdDpzZWxlY3QiLCBpKTsKfQp9CmZ1bmN0aW9uIGcoKSB7CkwgJiYgTC5yZW1vdmVDbGFzcygiYWN0aXZlIik7CkwgJiYgTC5maXJlKCJqeDpsaXN0OmRlc2VsZWN0ZWQiKTsKTCA9IG51bGw7Cn0KZnVuY3Rpb24gcCh0LCBlKSB7CmlmIChBICE9IHQgfHwgayAhPSBlKSB7CmsgPSBlOwpBID0gdDsKaWYgKEEpIHsKaWYgKCFFKSB7CmMuYXV0b2JpbmQoUywgInZhbHVlIiwgYik7CkUgPSAhMDsKfQp9IGVsc2UgewppZiAoRSkgewpjLmF1dG91bmJpbmQoUywgInZhbHVlIiwgYik7CkUgPSAhMTsKfQprID0gITE7Cn0KVCA9IHt9OwpOID0ge307CkQgPiAxICYmIG0oKTsKfQp9CmZ1bmN0aW9uIG0oKSB7CnZhciB0LCBlLCBpOwpmLmlubmVySFRNTCA9ICIiOwpCID0gW107CmZvciAoZSBpbiBJKSBpZiAoSS5oYXNPd25Qcm9wZXJ0eShlKSkgewppZiAoIUkuaGFzT3duUHJvcGVydHkoZSkpIHJldHVybjsKdCA9IEEgPyAkKGUpIDogZTsKaSA9IHgodCwgSVtlXSk7Ck5bZV0gPSB0OwpUW3RdID0gZTsKbyhpKTsKfQp9CmZ1bmN0aW9uICQodCwgZSkgewpyZXR1cm4gZSA/IE5bdF0gOiAoUy4kKHQpLmdldFZhbHVlKEEpICsgIlwwIiArIHQpLnJlcGxhY2UoLyAvZywgIiIpLnRvTG93ZXJDYXNlKCk7Cn0KZnVuY3Rpb24gYih0KSB7CmlmIChBKSB7CnZhciBlLCBpLCBuLCByLCBhLCBzOwpmb3IgKG4gaW4gdCkgaWYgKHQuaGFzT3duUHJvcGVydHkobikpIHsKaWYgKCF0Lmhhc093blByb3BlcnR5KG4pKSByZXR1cm47CmkgPSB0W25dOwppZiAoTltuXSAmJiBpICYmIGlbQV0pIHsKZSA9IElbbl07CmYucmVtb3ZlQ2hpbGQoZSk7CmEgPSBOW25dOwpyID0gJChuKTsKZGVsZXRlIFRbYV07CnMgPSB3KGEpOwpvKHMpOwpUW3JdID0gbjsKTltuXSA9IHI7CnMgPSB4KHIsIGUsIGlbQV0pOwpvKHMpOwp9Cn0KfQp9CmZ1bmN0aW9uIHcodCkgewp2YXIgZSA9IHYoQiwgdCk7CmlmIChlIDwgMCkgcmV0dXJuIGU7CkIuc3BsaWNlKGUsIDEpOwpyZXR1cm4gZTsKfQpmdW5jdGlvbiB4KHQsIGUpIHsKdmFyIGkgPSAoLXYoQiwgdCkgPj4gMCkgLSAxOwppIDwgMCAmJiAidW5kZWZpbmVkIiAhPSB0eXBlb2YgY29uc29sZSAmJiAibG9nIiBpbiBjb25zb2xlICYmIGNvbnNvbGUubG9nKHQgKyAiIGlzIGFscmVhZHkgaW4gTGlzdCIpOwpCLnNwbGljZShpLCAwLCB0KTsKayAmJiAoaSA9IEIubGVuZ3RoIC0gaSAtIDEpOwpmLmluc2VydEJlZm9yZShlLmRvbSB8fCBlLCBmLmNoaWxkTm9kZXNbaV0gfHwgbnVsbCk7CnJldHVybiBpOwp9CmZ1bmN0aW9uIHYodCwgZSkgewpmb3IgKHZhciBpLCBuLCBvID0gdC5sZW5ndGgsIHIgPSAwLCBhID0gbyAtIDE7IHIgPD0gYTsgKSB7CmkgPSAociArIGEpIC8gMiA+PiAwOwpuID0gdFtpXTsKaWYgKG4gPCBlKSByID0gaSArIDE7IGVsc2UgewppZiAoIShuID4gZSkpIHJldHVybiBpOwphID0gaSAtIDE7Cn0KfQpyZXR1cm4gLShyICsgMSk7Cn0KdmFyIHkgPSBpKDQpLCBqID0gaSgyMiksIEMgPSBpKDMyNik7CmMuc2V0RGF0YU5vZGUgPSB0OwpjLnNldFJlbmRlcmVyID0gZnVuY3Rpb24odCkgewpPID0gdDsKfTsKYy5nZXRJRCA9IHM7CmMuZ2V0TmV4dElEID0gcjsKYy5nZXRQcmV2SUQgPSBhOwpjLmdldFJvd0lEcyA9IF87CmMuZ2V0QnlJRCA9IGw7CmMuY2xlYXJMaXN0ID0gZTsKYy5zZWxlY3QgPSB1OwpjLmRlc2VsZWN0ID0gZzsKYy5zZXRTb3J0ID0gcDsKdmFyIFMsIEEsIGssIEkgPSB7fSwgVCA9IHt9LCBOID0ge30sIEIgPSBbXSwgRCA9IDAsIEUgPSAhMSwgTyA9IGZ1bmN0aW9uKHQpIHsKaWYgKGgubGFzdENoaWxkLl9fanhfX25hdGl2ZSkgewp2YXIgZSA9IGgubGFzdENoaWxkLmNsb25lTm9kZSghMCk7CnkuZXh0ZW5kKGUsICEwKTsKcmV0dXJuIGU7Cn0KcmV0dXJuIGgubGFzdENoaWxkLl9fanhfX2NvbnN0cnVjdG9yKHQpOwp9LCBMID0gbnVsbDsKZi5vbigiY2xpY2siLCBkKTsKfSgpOwpmb3IgKHZhciBwIGluIGcpIGNbcF0gPSBnW3BdOwpjLmZpcmUgJiYgYy5maXJlKCJpbml0Iik7CmMuc2V0U3R5bGUgJiYgYy5zZXRTdHlsZShyKTsKYy5zZXRBdHRyaWJ1dGVzICYmIGMuc2V0QXR0cmlidXRlcyhsKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5hZGRDaGlsZHJlbiA/IGMuYWRkQ2hpbGRyZW4oXykgOiBzLmFkZENoaWxkcmVuKGMsIF8pOwppZiAoYyAhPT0gdGhpcykgewpjLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKYy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gYzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19kaXYucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHt9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19kaXYsIHsKZnFuYW1lOiAianhfY29udHJvbHNfTGlzdCIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX2p4X3VpX1dpZGdldCA9IGkoNyk7Cm4uX18kJF9fanhfY29udHJvbHNfTGlzdCA9IGkoMTQ4KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF9jb250cm9sc19MaXN0LCAibGlzdCIsICIiLCBbXSwgewppZDogImxpc3QiCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczpqeCI6ICJqeC5jb250cm9scyIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIsCiJ4bWxuczpyZW5kZXJlciI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMuY2hhdExvZ1JlbmRlcmVyIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKdmFyIGggPSBzLmdldChvICsgIl9fbGlzdCIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgZiA9IGZ1bmN0aW9uKCkgewp2YXIgdCwgZSwgbiwgbyA9IGkoNiksIHIgPSBpKDMyNSksIGEgPSBvLnJvb3QuJCgibGl2ZWNoYXQiKSwgcyA9IGEuJCgic2V0dGluZ3MiKS4kKCJ0aGVtZSIpLiQoImNoYXRfd2luZG93IikuJCgic2l6ZSRzdHJpbmciKSwgXyA9IGEuJCgic2V0dGluZ3MiKS4kKCJ0aGVtZSIpLiQoIm1lc3NhZ2VfdHlwZSRzdHJpbmciKTsKYy5zZXREYXRhTm9kZSA9IGZ1bmN0aW9uKGUpIHsKaWYgKGUpIHsKdCA9IGU7Cmguc2V0RGF0YU5vZGUodCk7Cn0KfTsKIWZ1bmN0aW9uKCkgewpjLmF1dG9iaW5kKHMsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKZSAmJiBjLnJlbW92ZUNsYXNzKCJjaGF0X2xvZ18iICsgZSk7CmUgPSB0OwplICYmIGMuYWRkQ2xhc3MoImNoYXRfbG9nXyIgKyBlKTsKfSk7CmMuYXV0b2JpbmQoXywgInZhbHVlIiwgZnVuY3Rpb24oZSkgewppZiAoZSAmJiBuICE9IGUpIHsKbiA9IGU7CmMuc2V0RGF0YU5vZGUodCk7Cn0KfSk7Cmguc2V0UmVuZGVyZXIocik7Cn0oKTsKfSgpOwpmb3IgKHZhciBnIGluIGYpIGNbZ10gPSBmW2ddOwpjLmZpcmUgJiYgYy5maXJlKCJpbml0Iik7CmMuc2V0U3R5bGUgJiYgYy5zZXRTdHlsZShyKTsKYy5zZXRBdHRyaWJ1dGVzICYmIGMuc2V0QXR0cmlidXRlcyhsKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5hZGRDaGlsZHJlbiA/IGMuYWRkQ2hpbGRyZW4oXykgOiBzLmFkZENoaWxkcmVuKGMsIF8pOwppZiAoYyAhPT0gdGhpcykgewpjLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKYy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gYzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19qeF91aV9XaWRnZXQucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIioqc2VsZiI6IHsKcG9zaXRpb246ICJyZWxhdGl2ZSIKfSwKIi52aXNpdG9yIC5jaGF0X2J1YmJsZSI6IHsKYmFja2dyb3VuZDogIiQkY2hhdExvZ1Zpc2l0b3JCdWJibGVCZyIsCmJvcmRlcldpZHRoOiAiJCRjaGF0TG9nVmlzaXRvckJ1YmJsZUJvcmRlcldpZHRoIiwKYm9yZGVyU3R5bGU6ICIkJGNoYXRMb2dWaXNpdG9yQnViYmxlQm9yZGVyU3R5bGUiLApib3JkZXJDb2xvcjogIiQkY2hhdExvZ1Zpc2l0b3JCdWJibGVCb3JkZXJDb2xvciIsCiIuYXJyb3dfYm9yZGVyIjogewpib3JkZXJDb2xvcjogIiQkY2hhdExvZ1Zpc2l0b3JCdWJibGVCb3JkZXJDb2xvciIKfSwKIi5hcnJvd19iYWNrZ3JvdW5kIjogewpib3JkZXJDb2xvcjogIiQkY2hhdExvZ1Zpc2l0b3JCdWJibGVCZyIKfSwKIi5pbWFnZV9maWxlX2JvcmRlciI6IHsKYm9yZGVyQ29sb3I6ICIkJGNoYXRMb2dWaXNpdG9yQnViYmxlQm9yZGVyQ29sb3IiCn0sCiIuZ2VuZXJpY19maWxlX2JvcmRlciI6IHsKYm9yZGVyQ29sb3I6ICIkJGNoYXRMb2dWaXNpdG9yQnViYmxlQm9yZGVyQ29sb3IiCn0KfSwKIi5hZ2VudCAuY2hhdF9idWJibGUiOiB7CmJhY2tncm91bmQ6ICIkJGNoYXRMb2dBZ2VudEJ1YmJsZUJnIiwKYm9yZGVyV2lkdGg6ICIkJGNoYXRMb2dBZ2VudEJ1YmJsZUJvcmRlcldpZHRoIiwKYm9yZGVyU3R5bGU6ICIkJGNoYXRMb2dBZ2VudEJ1YmJsZUJvcmRlclN0eWxlIiwKYm9yZGVyQ29sb3I6ICIkJGNoYXRMb2dBZ2VudEJ1YmJsZUJvcmRlckNvbG9yIiwKIi5hcnJvd19ib3JkZXIiOiB7CmJvcmRlckNvbG9yOiAiJCRjaGF0TG9nQWdlbnRCdWJibGVCb3JkZXJDb2xvciIKfSwKIi5hcnJvd19iYWNrZ3JvdW5kIjogewpib3JkZXJDb2xvcjogIiQkY2hhdExvZ0FnZW50QnViYmxlQmciCn0sCiIuaW1hZ2VfZmlsZV9ib3JkZXIiOiB7CmJvcmRlckNvbG9yOiAiJCRjaGF0TG9nQWdlbnRCdWJibGVCb3JkZXJDb2xvciIKfSwKIi5nZW5lcmljX2ZpbGVfYm9yZGVyIjogewpib3JkZXJDb2xvcjogIiQkY2hhdExvZ0FnZW50QnViYmxlQm9yZGVyQ29sb3IiCn0KfSwKIi5sb2dfYXZhdGFyIjogewpib3JkZXJXaWR0aDogIiQkY2hhdExvZ0F2YXRhckJvcmRlcldpZHRoIiwKYm9yZGVyU3R5bGU6ICIkJGNoYXRMb2dBdmF0YXJCb3JkZXJTdHlsZSIsCmJvcmRlckNvbG9yOiAiJCRjaGF0TG9nQXZhdGFyQm9yZGVyQ29sb3IiLApib3JkZXJSYWRpdXM6ICIkJGNoYXRMb2dBdmF0YXJSYWRpdXMiLApib3hTaGFkb3c6ICIkJGNoYXRMb2dBdmF0YXJTaGFkb3ciCn0sCiIuZ3JvdXBfaGVhZCwgLmNhcmQsIC5ncm91cF9jaGlsZHJlbi5idWJibGVfYXZhdGFyLCAuZ3JvdXBfY2hpbGRyZW4uYnViYmxlIjogewptYXJnaW5Ub3A6ICIkJG1hcmdpbiIKfSwKYTogewpjb2xvcjogImluaGVyaXQiCn0sCiIuY2FyZCI6IHsKIm1hcmdpbkxlZnQsIG1hcmdpblJpZ2h0IjogImF1dG8iCn0sCiImLmNoYXRfbG9nX3NtYWxsIjogewoiLmNhcmQiOiB7fQp9LAoiJi5jaGF0X2xvZ19tZWRpdW0iOiB7CiIuY2FyZCI6IHsKbWF4V2lkdGg6ICIyMjBweCIKfQp9LAoiJi5jaGF0X2xvZ19sYXJnZSI6IHsKIi5jYXJkIjogewptYXhXaWR0aDogIjI2MHB4Igp9Cn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfV2lkZ2V0LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X2NoYXRQYW5lbF9DaGF0TG9nIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQpIHsKZm9yICh2YXIgZSwgaSwgbiA9IG8uc2VhcmNoLnVybCwgbCA9IDAsIGQgPSBbXTsgbnVsbCAhPT0gKGkgPSBuLmV4ZWModCkpOyApIHsKdmFyIHUgPSBpWzBdLnRyaW0oKSwgYyA9IGlbMl0sIGggPSBuLmxhc3RJbmRleCAtIHUubGVuZ3RoOwppZiAoby50bGQudGVzdChjKSkgewpoID4gbCAmJiBkLnB1c2godC5zdWJzdHJpbmcobCwgaCkpOwplID0gci5wYXJzZVVSTCgiLy8iICsgdSkuaG9zdG5hbWUgPT09IHMgPyBfIDogImh0dHA6Ly8iOwpkLnB1c2goewpqeG1sQ29uc3RydWN0b3I6IGEsCmF0dHJpYnV0ZXM6IHsKaHJlZjogZSArIHUKfSwKY2hpbGRyZW46IFsgdSBdCn0pOwpsID0gbi5sYXN0SW5kZXg7Cn0KfQpsIDwgdC5sZW5ndGggJiYgZC5wdXNoKHQuc3Vic3RyaW5nKGwpKTsKcmV0dXJuIGQ7Cn0KdmFyIG8gPSBpKDY1KSwgciA9IGkoMzMyKSwgYSA9IGkoMTUxKSwgcyA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSwgXyA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArICIvLyI7CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX2p4X3VpX2h0bWxfYSA9IGkoNDQpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fanhfdWlfaHRtbF9hLCAiIiwgIiIsIFtdLCB7CnhtbG5zOiAiangudWkuaHRtbCIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBoID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQodCkgewp0ICYmIHQucHJldmVudERlZmF1bHQoKTsKdmFyIGUsIGk7CmUgPSBjLmdldEF0dHJpYnV0ZSgiaHJlZiIpOwppZiAoZSkgewppID0gd2luZG93Lm9wZW4oKTsKaS5vcGVuZXIgPSBudWxsOwppLmxvY2F0aW9uLmhyZWYgPSBlOwp9Cn0KdmFyIGUgPSBpKDgpOwohZnVuY3Rpb24oKSB7CmMuc2V0QXR0cmlidXRlKCJyZWwiLCAibm9yZWZlcnJlciIpOwpjLnNldEF0dHJpYnV0ZSgidGFyZ2V0IiwgIl9ibGFuayIpOwplLmlzSUUgJiYgYy5vbigiY2xpY2siLCB0KTsKfSgpOwp9KCk7CmZvciAodmFyIGYgaW4gaCkgY1tmXSA9IGhbZl07CmMuZmlyZSAmJiBjLmZpcmUoImluaXQiKTsKYy5zZXRTdHlsZSAmJiBjLnNldFN0eWxlKHIpOwpjLnNldEF0dHJpYnV0ZXMgJiYgYy5zZXRBdHRyaWJ1dGVzKGwpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBjLmFkZENoaWxkcmVuID8gYy5hZGRDaGlsZHJlbihfKSA6IHMuYWRkQ2hpbGRyZW4oYywgXyk7CmlmIChjICE9PSB0aGlzKSB7CmMuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpjLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBjOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2p4X3VpX2h0bWxfYS5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0ge307CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX2p4X3VpX2h0bWxfYSwgewpmcW5hbWU6ICJtZXNoaW1fY29tbW9uX3N0cmluZ1BhcnNlcl9TYWZlQW5jaG9yIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQpIHsKZm9yICh2YXIgZSwgaSA9IG8uc2VhcmNoLmh1cmwsIG4gPSAwLCBhID0gW107IG51bGwgIT09IChlID0gaS5leGVjKHQpKTsgKSB7CnZhciBzID0gZVswXS50cmltKCksIF8gPSBpLmxhc3RJbmRleCAtIHMubGVuZ3RoOwpfID4gbiAmJiBhLnB1c2godC5zdWJzdHJpbmcobiwgXykpOwphLnB1c2goewpqeG1sQ29uc3RydWN0b3I6IHIsCmF0dHJpYnV0ZXM6IHsKaHJlZjogcwp9LApjaGlsZHJlbjogWyBzIF0KfSk7Cm4gPSBpLmxhc3RJbmRleDsKfQpuIDwgdC5sZW5ndGggJiYgYS5wdXNoKHQuc3Vic3RyaW5nKG4pKTsKcmV0dXJuIGE7Cn0KdmFyIG8gPSBpKDY1KSwgciA9IGkoMTUxKTsKdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24odCwgZSkgewpmdW5jdGlvbiBpKHQpIHsKZm9yICh2YXIgZSwgaSA9IC9ccj9cbi9nLCBuID0gMCwgbyA9IFtdOyBudWxsICE9PSAoZSA9IGkuZXhlYyh0KSk7ICkgewp2YXIgciA9IGVbMF0sIGEgPSBpLmxhc3RJbmRleCAtIHIubGVuZ3RoOwphID4gbiAmJiBvLnB1c2godC5zdWJzdHJpbmcobiwgYSkpOwpvLnB1c2goewp0YWdOYW1lOiAiYnIiCn0pOwpuID0gaS5sYXN0SW5kZXg7Cn0KbiA8IHQubGVuZ3RoICYmIG8ucHVzaCh0LnN1YnN0cmluZyhuKSk7CnJldHVybiBvOwp9CnQuZXhwb3J0cyA9IGk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpKSB7CnZhciBuID0gbyhlLCBpKTsKdC5hZGRDaGlsZHJlbihuKTsKfQpmdW5jdGlvbiBvKHQsIGUpIHsKdCArPSAiIjsKcyhlKSB8fCAoZSA9IFsgZSBdKTsKdmFyIGksIG4sIG8gPSBbXSwgXyA9IFsgdCBdOwpmb3IgKGkgPSAwLCBuID0gZS5sZW5ndGg7IGkgPCBuOyBpKyspIF8gPSBhKF8sIGVbaV0pOwpmb3IgKGkgPSAwLCBuID0gXy5sZW5ndGg7IGkgPCBuOyBpKyspIG9baV0gPSByKF9baV0pOwpyZXR1cm4gbzsKfQpmdW5jdGlvbiByKHQpIHsKaWYgKCJzdHJpbmciID09IHR5cGVvZiB0KSByZXR1cm4gdDsKdmFyIGUsIGkgPSB0LmNoaWxkcmVuLCBuID0gW107CmUgPSBsLmV4dGVuZCh7fSwgdC5hdHRyaWJ1dGVzLCB0LnRhZ05hbWUgPyB7CnRhZ05hbWU6IHQudGFnTmFtZQp9IDogbnVsbCk7CmlmIChpKSBmb3IgKHZhciBvID0gMCwgYSA9IGkubGVuZ3RoOyBvIDwgYTsgbysrKSBuW29dID0gcihpW29dKTsgZWxzZSBuID0gbnVsbDsKcmV0dXJuIFsgdC5qeG1sQ29uc3RydWN0b3IgfHwgXywgbnVsbCwgbnVsbCwgbiwgZSBdOwp9CmZ1bmN0aW9uIGEodCwgZSkgewp2YXIgaSA9IFtdOwp0ID0gdC5zbGljZSgpOwpmb3IgKHZhciBuID0gMDsgbiA8IHQubGVuZ3RoOyBuKyspIHsKdmFyIG8sIHIgPSB0W25dOwppZiAoInN0cmluZyIgPT0gdHlwZW9mIHIpIHsKbyA9IGUocik7CnMobykgPyBpID0gaS5jb25jYXQobykgOiBpLnB1c2gobyk7Cn0gZWxzZSB7CnIuY2hpbGRyZW4gJiYgKHIuY2hpbGRyZW4gPSBhKHIuY2hpbGRyZW4sIGUpKTsKaS5wdXNoKHIpOwp9Cn0KcmV0dXJuIGk7Cn0KdmFyIHMgPSBpKDIxKSwgXyA9IGkoNyksIGwgPSBpKDczKSwgZCA9IHsKYXBwZW5kVG86IG4sCnRvSlhNTEVsZW1lbnRzOiBvLApwYXJzZUNoaWxkcmVuVGV4dDogYQp9Owp0LmV4cG9ydHMgPSBkOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4odCwgZSwgaSwgbywgcikgewppZiAoISh0aGlzIGluc3RhbmNlb2YgbikpIHJldHVybiBuZXcgbih0LCBlLCBpLCBvLCByKTsKciB8fCAociA9IHt9KTsKci50YWdOYW1lIHx8IChyLnRhZ05hbWUgPSAidGV4dGFyZWEiKTsKYS5jYWxsKHRoaXMsIHQsIGUsIGksIG8sIHIpOwp9CnZhciBvID0gaSgxKSwgciA9IGkoMCksIGEgPSBpKDg1KTsKbi5wcm90b3R5cGUgPSByKGEucHJvdG90eXBlKTsKbyhuLCBhLCB7CmZxbmFtZTogImp4X3VpX1RleHRBcmVhIgp9KTsKbi5wcm90b3R5cGUuc2V0Q29scyA9IGZ1bmN0aW9uKHQpIHsKdGhpcy5kb20uY29scyA9IHQ7CnJldHVybiB0aGlzOwp9OwpuLnByb3RvdHlwZS5nZXRDb2xzID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLmRvbS5jb2xzOwp9OwpuLnByb3RvdHlwZS5zZXRSb3dzID0gZnVuY3Rpb24odCkgewp0aGlzLmRvbS5yb3dzID0gdDsKcmV0dXJuIHRoaXM7Cn07Cm4ucHJvdG90eXBlLmdldFJvd3MgPSBmdW5jdGlvbigpIHsKcmV0dXJuIHRoaXMuZG9tLnJvd3M7Cn07Cm4ucHJvdG90eXBlLnNldFJlc2l6ZSA9IGZ1bmN0aW9uKHQpIHsKInJlc2l6ZSIgaW4gdGhpcy5zdHlsZSAmJiAodGhpcy5zdHlsZS5yZXNpemUgPSB0KTsKfTsKbi5wcm90b3R5cGUuZ2V0SW5pdGlhbFZhbHVlID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLl9pbml0aWFsVmFsdWU7Cn07Cm4ucHJvdG90eXBlLnNldEluaXRpYWxWYWx1ZSA9IGZ1bmN0aW9uKHQpIHsKdGhpcy5faW5pdGlhbFZhbHVlID0gdCAmJiAodC50b1N0cmluZyA/IHQudG9TdHJpbmcoKSA6IHQpOwpyZXR1cm4gdGhpczsKfTsKdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQsIGUsIGksIG8sIHIpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIG4pKSByZXR1cm4gbmV3IG4odCwgZSwgaSwgbywgcik7CnIgfHwgKHIgPSB7fSk7CnIudGFnTmFtZSB8fCAoci50YWdOYW1lID0gIm9wdGlvbiIpOwpzLmNhbGwodGhpcywgdCwgZSwgaSwgbywgcik7Cn0KdmFyIG8gPSBpKDEpLCByID0gaSgwKSwgYSA9IGkoMTIpLCBzID0gaSg0Myk7Cm4ucHJvdG90eXBlID0gcihzLnByb3RvdHlwZSk7Cm8obiwgcywgewpmcW5hbWU6ICJqeF91aV9PcHRpb24iCn0pOwpuLnByb3RvdHlwZS5nZXRMYWJlbCA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoImxhYmVsIikgfHwgdGhpcy5kb20ubGFiZWw7Cn07Cm4ucHJvdG90eXBlLnNldExhYmVsID0gZnVuY3Rpb24odCkgewp0aGlzLnNldEF0dHJpYnV0ZSgibGFiZWwiLCB0KTsKcmV0dXJuIHRoaXM7Cn07Cm4ucHJvdG90eXBlLmdldFNlbGVjdGVkID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLmRvbS5kZWZhdWx0U2VsZWN0ZWQ7Cn07Cm4ucHJvdG90eXBlLnNldFNlbGVjdGVkID0gZnVuY3Rpb24odCkgewp0aGlzLmRvbS5kZWZhdWx0U2VsZWN0ZWQgPSBhKHQpOwpyZXR1cm4gdGhpczsKfTsKbi5wcm90b3R5cGUuZ2V0UGxhY2Vob2xkZXIgPSBmdW5jdGlvbigpIHsKcmV0dXJuIHRoaXMucGxhY2Vob2xkZXI7Cn07Cm4ucHJvdG90eXBlLnNldFBsYWNlaG9sZGVyID0gZnVuY3Rpb24odCkgewp0aGlzLnBsYWNlaG9sZGVyID0gdDsKcmV0dXJuIHRoaXM7Cn07CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpLCBvLCBhKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiBuKSkgcmV0dXJuIG5ldyBuKHQsIGUsIGksIG8sIGEpOwppZiAoIW4uX19qeF9famNzc19nZW5lcmF0ZWQpIHsKci5nZW5lcmF0ZSh0aGlzLCBuLnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIG4uX19qeF9famNzcywgbnVsbCwgbik7Cm4uX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQphIHx8IChhID0ge30pOwphLnRhZ05hbWUgfHwgKGEudGFnTmFtZSA9ICJzZWxlY3QiKTsKXy5jYWxsKHRoaXMsIHQsIGUsIGksIG8sIGEpOwppZiAodGhpcy5jb250YWluZXIpIHsKdGhpcy5jb250YWluZXIuYWRkQ2xhc3ModGhpcy5fX2p4X19mcW5hbWUpOwp0aGlzLmljb25Gb250ID0gbmV3IGQodGhpcy5jb250YWluZXIsIG51bGwsIG51bGwsIG51bGwsIHsKYWRkQ2xhc3M6ICJzZWxlY3RfaWNvbiIsCmljb246ICJhcnJvd19kb3duIgp9KTsKdGhpcy5jb250YWluZXIuaW5zZXJ0QmVmb3JlKHRoaXMuaWNvbkZvbnQsIHRoaXMuY29udGFpbmVyLmdldEZpcnN0Q2hpbGQoKSk7CnUubW9iaWxlKHRoaXMuY29udGFpbmVyKTsKdS5ydGwodGhpcy5jb250YWluZXIpOwp9CmwuX19jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpOwp9CnZhciBvID0gaSgxKSwgciA9IGkoMyksIGEgPSBpKDApLCBzID0gaSgxMiksIF8gPSBpKDMzNCksIGwgPSBpKDYyKSwgZCA9IGkoMTUpLCB1ID0gaSg5KTsKbi5fX2p4X19qY3NzID0gewoiJi5tb2JpbGUuaW52YWxpZCwgJi5ydGwubW9iaWxlLmludmFsaWQiOiB7CiJwYWRkaW5nUmlnaHQsIHBhZGRpbmdMZWZ0IjogIiQkaW5wdXRQYWRkaW5nIgp9LAoiLnNlbGVjdF9wbGFjZWhvbGRlciI6IHsKb3ZlcmZsb3c6ICJoaWRkZW4iLAp3aGl0ZVNwYWNlOiAibm93cmFwIiwKdGV4dE92ZXJmbG93OiAiZWxsaXBzaXMiCn0sCiIuc2VsZWN0X2ljb24iOiB7CmZsb2F0OiAicmlnaHQiLAptYXJnaW5Ub3A6ICIzcHgiCn0sCiImLnJ0bCAuc2VsZWN0X2ljb24iOiB7CmZsb2F0OiAibGVmdCIKfSwKIiYubW9iaWxlIjogewoiLnNlbGVjdF9wbGFjZWhvbGRlciI6IHsKbGluZUhlaWdodDogIjI2cHgiCn0sCiIuc2VsZWN0X2ljb24iOiB7Cm1hcmdpblRvcDogIjhweCIKfQp9Cn07Cm4ucHJvdG90eXBlID0gYShfLnByb3RvdHlwZSk7Cm8obiwgXywgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfU2VsZWN0Igp9KTsKbi5wcm90b3R5cGUuX19qeF9fc3VwZXIgPSBsOwpuLnByb3RvdHlwZS5zZXRWYWxpZGl0eSA9IGZ1bmN0aW9uKHQpIHsKaWYgKHRoaXMuY29udGFpbmVyKSB7CnQgPSBzKHQpOwp0aGlzLmNvbnRhaW5lclt0ID8gInJlbW92ZUNsYXNzIiA6ICJhZGRDbGFzcyJdKCJpbnZhbGlkIik7Cn0KcmV0dXJuIF8ucHJvdG90eXBlLnNldFZhbGlkaXR5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn07CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpLCByLCBhKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiBuKSkgcmV0dXJuIG5ldyBuKHQsIGUsIGksIHIsIGEpOwppZiAoIW4uX19qeF9famNzc19nZW5lcmF0ZWQpIHsKcy5nZW5lcmF0ZSh0aGlzLCBuLnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIG4uX19qeF9famNzcywgbnVsbCwgbik7Cm4uX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQphIHx8IChhID0ge30pOwphLnByb21wdCA9IGEucHJvbXB0IHx8IFN0cmluZy5mcm9tQ2hhckNvZGUoMTYwKTsKaC5jYWxsKHRoaXMsIHQsIGUsIGksIHIsIGEpOwp0aGlzLmlucHV0U3VmZml4ID0gInNlbGVjdCI7CnRoaXMuZGVwYXJ0bWVudHNfbGFiZWxfcGF0aCA9ICJsaXZlY2hhdC5zZXR0aW5ncy5mb3Jtcy5wcmVfY2hhdF9mb3JtLmZvcm0uMi5sYWJlbCRzdHJpbmciOwp0aGlzLmRlZmF1bHRfZGVwYXJ0bWVudHNfbGFiZWwgPSBmLmRlc2NlbmRzT2JqKGMsIHRoaXMuZGVwYXJ0bWVudHNfbGFiZWxfcGF0aCk7CnRoaXMuJGRlcGFydG1lbnRzID0gdS5yb290LiQoImxpdmVjaGF0IikuJCgiZGVwYXJ0bWVudHMiKTsKdGhpcy4kZGVwYXJ0bWVudHNfdWkgPSB1LnJvb3QuJCgibGl2ZWNoYXQiKS4kKCJ1aSIpLiQoImRlcGFydG1lbnRzIikuJCgib3B0aW9ucyIpOwp0aGlzLiRwcm9maWxlX2RlcGFydG1lbnRfaWQgPSB1LnJvb3QuJCgibGl2ZWNoYXQiKS4kKCJwcm9maWxlIikuJCgiZGVwYXJ0bWVudF9pZCRpbnQiKTsKdGhpcy4kZGVwYXJ0bWVudHNfbGFiZWwgPSB1LnJvb3QuJCQodGhpcy5kZXBhcnRtZW50c19sYWJlbF9wYXRoKTsKdGhpcy4kZmlsdGVyX2VuYWJsZWQgPSB1LnJvb3QuJCgibGl2ZWNoYXQiKS4kKCJ1aSIpLiQoImRlcGFydG1lbnRzIikuJCgiZmlsdGVyX2VuYWJsZWQkYm9vbCIpOwp0aGlzLiRoaWRlX3doZW5fb2ZmbGluZSA9IHUucm9vdC4kKCJsaXZlY2hhdCIpLiQoInNldHRpbmdzIikuJCgiY2hhdF9idXR0b24iKS4kKCJoaWRlX3doZW5fb2ZmbGluZSRib29sIik7CnRoaXMucHJldl92YWx1ZSA9IG51bGw7CnRoaXMuYXZhaWxfZGVwYXJ0bWVudHMgPSB7fTsKdmFyIF8gPSB0aGlzOwp0aGlzLmF1dG9iaW5kKHRoaXMuJGRlcGFydG1lbnRzLCAidmFsdWUiLCBmdW5jdGlvbigpIHsKXy5zZXRPcHRpb25zKCk7Cn0pOwp0aGlzLmF1dG9iaW5kKHRoaXMuJGRlcGFydG1lbnRzX3VpLCAidmFsdWUiLCBmdW5jdGlvbigpIHsKXy5zZXRPcHRpb25zKCk7Cn0pOwp0aGlzLmF1dG9iaW5kKHRoaXMuJGZpbHRlcl9lbmFibGVkLCAidmFsdWUiLCBmdW5jdGlvbigpIHsKXy5zZXRPcHRpb25zKCk7Cn0pOwp0aGlzLmF1dG9iaW5kKHRoaXMuJGhpZGVfd2hlbl9vZmZsaW5lLCAidmFsdWUiLCBmdW5jdGlvbigpIHsKXy5zZXRPcHRpb25zKCk7Cn0pOwp0aGlzLmF1dG9iaW5kKHRoaXMuJHByb2ZpbGVfZGVwYXJ0bWVudF9pZCwgInZhbHVlIiwgZnVuY3Rpb24odCkgewpvLmNhbGwoXywgdCk7Cn0pOwp0aGlzLmF1dG9iaW5kKHRoaXMuJGRlcGFydG1lbnRzX2xhYmVsLCAidmFsdWUiLCBmdW5jdGlvbigpIHsKXy51cGRhdGVCbGFua09wdGlvbigpOwp9KTsKdGhpcy5vbkRlc3RydWN0aW9uKGZ1bmN0aW9uKCkgewppZiAoXy5ibGFua19vcHRpb24pIHsKXy5ibGFua19vcHRpb24uZGVzdHJveSgpOwpfLmJsYW5rX29wdGlvbiA9IG51bGw7Cn0KfSk7CnRoaXMub24oImNoYW5nZSIsIGZ1bmN0aW9uKCkgewp0aGlzLnVzZXJTZWxlY3RlZCA9ICEwOwp9KTsKdGhpcy5yZXNldCgpOwp9CmZ1bmN0aW9uIG8odCkgewp0aGlzLnByb2ZpbGVfZGVwYXJ0bWVudCA9IHQ7CnRoaXMudXBkYXRlU2VsZWN0ZWREZXBhcnRtZW50KCk7Cn0KZnVuY3Rpb24gcih0KSB7CmZ1bmN0aW9uIGUodCwgZSkgewpyZXR1cm4gdC5uYW1lJHN0cmluZyA8IGUubmFtZSRzdHJpbmcgPyAtMSA6IHQubmFtZSRzdHJpbmcgPiBlLm5hbWUkc3RyaW5nID8gMSA6IDA7Cn0KdmFyIGkgPSBbXSwgbiA9IFtdOwpmb3IgKHZhciBvIGluIHQpIHQuaGFzT3duUHJvcGVydHkobykgJiYgdC5oYXNPd25Qcm9wZXJ0eShvKSAmJiAoIm9mZmxpbmUiID09IHRbb10uc3RhdHVzJHN0cmluZyA/IG4ucHVzaCh7CmlkJGludDogbywKbmFtZSRzdHJpbmc6IHRbb10ubmFtZSRzdHJpbmcsCnN0YXR1cyRzdHJpbmc6ICJvZmZsaW5lIgp9KSA6IGkucHVzaCh7CmlkJGludDogbywKbmFtZSRzdHJpbmc6IHRbb10ubmFtZSRzdHJpbmcsCnN0YXR1cyRzdHJpbmc6ICJvbmxpbmUiCn0pKTsKaS5zb3J0KGUpOwpuLnNvcnQoZSk7CnJldHVybiBpLmNvbmNhdChuKTsKfQp2YXIgYSA9IGkoMSksIHMgPSBpKDMpLCBfID0gaSgwKSwgbCA9IGkoMTIpLCBkID0gaSgyKSwgdSA9IGkoNiksIGMgPSBpKDk0KSwgaCA9IGkoMTU3KSwgZiA9IGkoMTEpLCBnID0gaSgxMCksIHAgPSBpKDE1Nik7Cm4uX19qeF9famNzcyA9IHt9OwpuLnByb3RvdHlwZSA9IF8oaC5wcm90b3R5cGUpOwphKG4sIGgsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX2Zvcm1fRGVwYXJ0bWVudFNlbGVjdCIKfSk7Cm4ucHJvdG90eXBlLl9fanhfX3N1cGVyID0gaDsKbi5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbigpIHsKaWYgKHRoaXMuaXNCbGFuaykgewp0aGlzLnNldFZhbGlkaXR5KCEwKTsKcmV0dXJuICEwOwp9CnJldHVybiBoLnByb3RvdHlwZS52YWxpZGF0ZS5jYWxsKHRoaXMpOwp9OwpuLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKCkgewp2YXIgdCA9IHRoaXMuJHByb2ZpbGVfZGVwYXJ0bWVudF9pZC5nZXRWYWx1ZSgpOwp0ICYmIHRoaXMuYXZhaWxfZGVwYXJ0bWVudHNbdF0gPyB0aGlzLnNldFZhbHVlKHQpIDogdGhpcy5zZXRTZWxlY3RlZEluZGV4KDApOwp0aGlzLnVzZXJTZWxlY3RlZCA9ICExOwp9OwpuLnByb3RvdHlwZS5zZXRIaWRlID0gZnVuY3Rpb24odCkgewp0aGlzLmlzSGlkZSA9IGwodCk7CnRoaXMuc2V0T3B0aW9ucygpOwp9OwpuLnByb3RvdHlwZS5zZXREaXNhYmxlV2hlbk9mZmxpbmUgPSBmdW5jdGlvbih0KSB7CnRoaXMub3ZlcnJpZGVEaXNhYmxlID0gIWwodCk7CnRoaXMuc2V0T3B0aW9ucygpOwp9OwpuLnByb3RvdHlwZS5pc0hpZGRlbiA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gdGhpcy5pc0JsYW5rIHx8IHRoaXMuaXNIaWRlOwp9OwpuLnByb3RvdHlwZS5zZXRSZXF1aXJlZCA9IGZ1bmN0aW9uKCkgewp2YXIgdCA9IGgucHJvdG90eXBlLnNldFJlcXVpcmVkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CnRoaXMudXBkYXRlQmxhbmtPcHRpb24oKTsKcmV0dXJuIHQ7Cn07Cm4ucHJvdG90eXBlLnVwZGF0ZUJsYW5rT3B0aW9uID0gZnVuY3Rpb24oKSB7CmlmICh0aGlzLmJsYW5rX29wdGlvbikgaWYgKHRoaXMuZ2V0UmVxdWlyZWQoKSkgdGhpcy5jaGlsZHJlblswXSA9PSB0aGlzLmJsYW5rX29wdGlvbiAmJiB0aGlzLnJlbW92ZUNoaWxkKHRoaXMuYmxhbmtfb3B0aW9uKTsgZWxzZSB7CnRoaXMuYmxhbmtfb3B0aW9uLnNldFRleHQoZy5nZXQodGhpcy4kZGVwYXJ0bWVudHNfbGFiZWwpID09IHRoaXMuZGVmYXVsdF9kZXBhcnRtZW50c19sYWJlbCA/IGcucHJlX2NoYXRfb2ZmbGluZV9mb3JtLmRlcGFydG1lbnRfYW55IDogIuKAlCIpOwp0aGlzLmNoaWxkcmVuWzBdICE9PSB0aGlzLmJsYW5rX29wdGlvbiAmJiB0aGlzLmluc2VydEJlZm9yZSh0aGlzLmJsYW5rX29wdGlvbiwgdGhpcy5jaGlsZHJlblswXSk7Cn0KfTsKbi5wcm90b3R5cGUuc2V0T3B0aW9ucyA9IGZ1bmN0aW9uKCkgewppZiAodGhpcy4kZGVwYXJ0bWVudHMpIHsKdmFyIHQgPSB0aGlzLiRkZXBhcnRtZW50cy5nZXRWYWx1ZSgpLCBlID0gdGhpcy4kZGVwYXJ0bWVudHNfdWkuZ2V0VmFsdWUoKSwgaSA9IHRoaXMuJGZpbHRlcl9lbmFibGVkLmdldFZhbHVlKCksIG4gPSB0aGlzLiRoaWRlX3doZW5fb2ZmbGluZS5nZXRWYWx1ZSgpLCBvID0ge30sIGEgPSAiIjsKaWYgKHQpIGlmIChudWxsICE9PSB0aGlzLnByZXZfdmFsdWUpIHsKYSA9IHRoaXMucHJldl92YWx1ZTsKdGhpcy5wcmV2X3ZhbHVlID0gbnVsbDsKfSBlbHNlIGEgPSB0aGlzLmdldFZhbHVlKCk7IGVsc2UgdGhpcy5wcmV2X3ZhbHVlID0gdGhpcy5nZXRWYWx1ZSgpOwp0aGlzLmlzQmxhbmsgPSAhMDsKZm9yICh2YXIgcyBpbiB0KSBpZiAodC5oYXNPd25Qcm9wZXJ0eShzKSkgewppZiAoaSAmJiAhKGUgJiYgZVtzXSAmJiBlW3NdLmRpc3BsYXkkYm9vbCkpIGNvbnRpbnVlOwppZiAodFtzXSkgewp0aGlzLmlzQmxhbmsgPSAhMTsKb1tzXSA9IHRbc107Cn0KfQppZiAodGhpcy5pc0JsYW5rIHx8IHRoaXMuaXNIaWRlKSAodGhpcy5jb250YWluZXIgfHwgdGhpcykucGFyZW50Tm9kZS5zZXREaXNwbGF5KCJub25lIik7IGVsc2UgewoodGhpcy5jb250YWluZXIgfHwgdGhpcykucGFyZW50Tm9kZS5zZXREaXNwbGF5KCIiKTsKdGhpcy5lbXB0eSgpOwp2YXIgXywgbCA9IHRoaXMuZ2V0TmFtZSgpOwp0aGlzLmJsYW5rX29wdGlvbiA9IF8gPSBuZXcgcCh0aGlzLCBudWxsLCBudWxsLCBudWxsLCB7Cm5hbWU6ICIiLAp2YWx1ZTogIiIsCmNsYXNzTmFtZTogImlucHV0X2lucHV0XyIgKyB0aGlzLmlucHV0U3VmZml4Cn0pOwooXy5jb250YWluZXIgfHwgXykuYWRkQ2xhc3MoImlucHV0Iik7CnRoaXMuYXZhaWxfZGVwYXJ0bWVudHMgPSBvOwpvID0gcihvKTsKZm9yICh2YXIgdSA9IDAsIGMgPSBvLmxlbmd0aDsgdSA8IGM7IHUrKykgewp2YXIgaCA9ICJvbmxpbmUiID09IG9bdV0uc3RhdHVzJHN0cmluZzsKXyA9IG5ldyBwKHRoaXMsIG51bGwsIG51bGwsIFsgb1t1XS5uYW1lJHN0cmluZyArIChoID8gIiIgOiAiICgiICsgZCgyMDUpICsgIikiKSBdLCB7Cm5hbWU6IGwsCnZhbHVlOiBvW3VdLmlkJGludCwKZGlzYWJsZWQ6ICF0aGlzLm92ZXJyaWRlRGlzYWJsZSAmJiBuICYmICFoLApjbGFzc05hbWU6ICJpbnB1dF9pbnB1dF8iICsgdGhpcy5pbnB1dFN1ZmZpeAp9KTsKKF8uY29udGFpbmVyIHx8IF8pLmFkZENsYXNzKCJpbnB1dCIpOwphICE9IF8uZ2V0VmFsdWUoKSB8fCBfLmdldERpc2FibGVkKCkgfHwgdGhpcy5zZXRWYWx1ZShhKTsKfQp0aGlzLnVwZGF0ZUJsYW5rT3B0aW9uKCk7CnRoaXMudXBkYXRlU2VsZWN0ZWREZXBhcnRtZW50KCk7Cn0KfQp9OwpuLnByb3RvdHlwZS51cGRhdGVTZWxlY3RlZERlcGFydG1lbnQgPSBmdW5jdGlvbigpIHsKdmFyIHQgPSB0aGlzLnByb2ZpbGVfZGVwYXJ0bWVudDsKdCAmJiBwYXJzZUludCh0aGlzLmdldFZhbHVlKCksIDEwKSAhPT0gdCAmJiAodGhpcy51c2VyU2VsZWN0ZWQgfHwgdGhpcy5hdmFpbF9kZXBhcnRtZW50c1t0XSAmJiB0aGlzLnNldFZhbHVlKHQpKTsKfTsKdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQsIGUsIGksIG8sIHIpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIG4pKSByZXR1cm4gbmV3IG4odCwgZSwgaSwgbywgcik7CnIgfHwgKHIgPSB7fSk7CnIudGFnTmFtZSA9ICJkaXYiOwp0aGlzLm9wdGlvbnMgPSBbXTsKdGhpcy5sYWJlbHMgPSBbXTsKXy5jYWxsKHRoaXMsIHQsIGUsIGksIG8sIHIpOwp0aGlzLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewp0aGlzLnZhbGlkYXRlKCk7Cn0pOwp9CnZhciBvID0gaSgxKSwgciA9IGkoMCksIGEgPSBpKDEyKSwgcyA9IGkoMTkpLCBfID0gaSg0Myk7Cm4ucHJvdG90eXBlID0gcihfLnByb3RvdHlwZSk7Cm8obiwgXywgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfZm9ybV9JbnB1dE11bHRpcGxlIgp9KTsKbi5wcm90b3R5cGUuZ2V0UmVxdWlyZWQgPSBmdW5jdGlvbigpIHsKcmV0dXJuIHRoaXMucmVxdWlyZWQ7Cn07Cm4ucHJvdG90eXBlLnNldFJlcXVpcmVkID0gZnVuY3Rpb24odCkgewp0aGlzLnJlcXVpcmVkID0gYSh0KTsKcmV0dXJuIHRoaXM7Cn07Cm4ucHJvdG90eXBlLnNldFJlYWRPbmx5ID0gZnVuY3Rpb24odCkgewp0aGlzLnJlYWRPbmx5ID0gYSh0KTsKcmV0dXJuIF8ucHJvdG90eXBlLnNldFJlYWRPbmx5LmNhbGwodGhpcywgdCk7Cn07Cm4ucHJvdG90eXBlLnNldE9wdGlvbnMgPSBmdW5jdGlvbih0LCBlKSB7CnRoaXMuZW1wdHkoKTsKdGhpcy5vcHRpb25zLmxlbmd0aCA9IHRoaXMubGFiZWxzLmxlbmd0aCA9IDA7CnZhciBpLCBuLCBvID0gdGhpcy5nZXROYW1lKCk7CmZvciAodmFyIHIgaW4gdCkgaWYgKHQuaGFzT3duUHJvcGVydHkocikpIHsKaSA9IG5ldyB0aGlzLm9wdGlvbkNvbnN0cnVjdG9yKHRoaXMsIG51bGwsIG51bGwsIG51bGwsIHsKbmFtZTogbywKdmFsdWU6IHRbcl0udmFsdWUkc3RyaW5nLApjaGVja2VkOiB0W3JdLmNoZWNrZWQkYm9vbCwKaW5pdGlhbENoZWNrZWQ6IHRbcl0uY2hlY2tlZCRib29sLApkaXNhYmxlZDogdGhpcy5yZWFkT25seSwKZGlzcGxheTogdGhpcy5yZWFkT25seSAmJiAhdFtyXS5jaGVja2VkJGJvb2wgPyAibm9uZSIgOiAiIiwKY2xhc3NOYW1lOiAiaW5wdXRfaW5wdXRfIiArIHRoaXMuaW5wdXRTdWZmaXgKfSk7CihpLmNvbnRhaW5lciB8fCBpKS5hZGRDbGFzcygiaW5wdXQiKTsKbiA9IG5ldyBzKHRoaXMsIG51bGwsIG51bGwsIFsgdFtyXS5sYWJlbCRzdHJpbmcgfHwgdFtyXS52YWx1ZSRzdHJpbmcgXSwgewpjbGFzc05hbWU6ICJvcHRpb25fbGFiZWwiLApkaXNwbGF5OiB0aGlzLnJlYWRPbmx5ICYmICF0W3JdLmNoZWNrZWQkYm9vbCA/ICJub25lIiA6ICIiCn0pOwplICYmIGkuc2V0Q2hlY2tlZCh0W3JdLmNoZWNrZWRfdXNlciRib29sKTsKaS5zZXRMYWJlbEVsZW1lbnQobik7CnRoaXMub3B0aW9ucy5wdXNoKGkpOwp0aGlzLmxhYmVscy5wdXNoKG4pOwp9CnJldHVybiB0aGlzOwp9OwpuLnByb3RvdHlwZS5nZXRPcHRpb25zID0gZnVuY3Rpb24odCkgewpmb3IgKHZhciBlID0ge30sIGkgPSB0ID8gImNoZWNrZWRfdXNlciRib29sIiA6ICJjaGVja2VkJGJvb2wiLCBuID0gMCwgbyA9IHRoaXMub3B0aW9ucy5sZW5ndGg7IG4gPCBvOyBuKyspIHsKZVtuXSA9IHt9OwplW25dW2ldID0gdGhpcy5vcHRpb25zW25dLmdldENoZWNrZWQoKTsKfQpyZXR1cm4gZTsKfTsKbi5wcm90b3R5cGUuZm9jdXMgPSBmdW5jdGlvbigpIHsKdGhpcy5vcHRpb25zWzBdICYmIHRoaXMub3B0aW9uc1swXS5mb2N1cygpOwpyZXR1cm4gdGhpczsKfTsKbi5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbih0KSB7CmlmICh0aGlzLnJlcXVpcmVkKSB7CmZvciAodmFyIGUgPSAwLCBpID0gdGhpcy5vcHRpb25zLmxlbmd0aDsgZSA8IGk7IGUrKykgaWYgKHRoaXMub3B0aW9uc1tlXS5nZXRDaGVja2VkKCkpIHsKdGhpcy5oaWRlRXJyb3JNZXNzYWdlKCk7CnJldHVybiAhMDsKfQp0ICYmIHRoaXMub3B0aW9uc1swXSAmJiB0aGlzLm9wdGlvbnNbMF0uZm9jdXMoKTsKdGhpcy5zaG93RXJyb3JNZXNzYWdlKCk7CnJldHVybiAhMTsKfQp0aGlzLmhpZGVFcnJvck1lc3NhZ2UoKTsKcmV0dXJuICEwOwp9OwpuLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKCkgewpmb3IgKHZhciB0ID0gMCwgZSA9IHRoaXMub3B0aW9ucy5sZW5ndGg7IHQgPCBlOyB0KyspIHRoaXMub3B0aW9uc1t0XS5yZXNldCgpOwp9Owp0LmV4cG9ydHMgPSBuOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQnV0dG9uID0gaSgxNyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX2ljb25Gb250X0F1dGggPSBpKDgxKTsKbi5fXyQkX19qeF91aV9XaWRnZXQgPSBpKDcpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0J1dHRvbiwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfaWNvbkZvbnRfQXV0aCwgImkiLCAiIiwgW10sIHsKaWQ6ICJpIiwKYWRkQ2xhc3M6ICJhdXRoX2ljb25fZm9udCIKfSBdLCBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiJCRkZWZhdWx0cGxhY2VtZW50JCQiLCAiIiwgW10sIHsKYWRkQ2xhc3M6ICJ0ZXh0IiwKY29udGFpbmVyOiAiZGVmYXVsdCIsCmlkOiAiJCRkZWZhdWx0cGxhY2VtZW50JCQiCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CnZhciBoID0gcy5nZXQobyArICJfX2kiKSwgZiA9IHMuZ2V0KG8gKyAiX18kJGRlZmF1bHRwbGFjZW1lbnQkJCIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQpjLmRlZmF1bHRQbGFjZW1lbnQgPSBmOwp2YXIgZyA9IGZ1bmN0aW9uKCkgewp2YXIgdCA9IGkoOSk7CmMuc2V0SWNvbiA9IGZ1bmN0aW9uKCkgewpoLnNldEljb24uYXBwbHkoaCwgYXJndW1lbnRzKTsKfTsKdC5ydGwoYyk7Cn0oKTsKZm9yICh2YXIgcCBpbiBnKSBjW3BdID0gZ1twXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0J1dHRvbi5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewpwb3NpdGlvbjogInJlbGF0aXZlIiwKb3ZlcmZsb3c6ICJoaWRkZW4iLApwYWRkaW5nVG9wOiAiOHB4IiwKcGFkZGluZ0JvdHRvbTogIjhweCIsCnBhZGRpbmdMZWZ0OiAiNDBweCIsCnBhZGRpbmdSaWdodDogIjhweCIsCmZvbnRXZWlnaHQ6ICJub3JtYWwiLAp3aWR0aDogImluaXRpYWwiLAp0ZXh0QWxpZ246ICJsZWZ0IiwKYmFja2dyb3VuZDogIiQkYXV0aEJ1dHRvbkJnIiwKYm9yZGVyQ29sb3I6ICIkJGF1dGhCdXR0b25Cb3JkZXJDb2xvciIsCmJveFNoYWRvdzogIiQkYXV0aEJ1dHRvblNoYWRvdyIsCiImLmZhY2Vib29rIjogewpjb2xvcjogIiQkZmFjZWJvb2siCn0sCiImLnR3aXR0ZXIiOiB7CmNvbG9yOiAiJCR0d2l0dGVyIgp9LAoiLnRleHQiOiB7CmNvbG9yOiAicmdiYSgwLCAwLCAwLCAwLjU0KSIKfSwKIiYucnRsIjogewp0ZXh0QWxpZ246ICJyaWdodCIsCnBhZGRpbmdSaWdodDogIjQwcHgiLApwYWRkaW5nTGVmdDogIjhweCIKfQp9LAoiJjpob3ZlciwgJjpmb2N1cywgJjphY3RpdmUiOiB7CiIuYXV0aF9pY29uX2ZvbnQiOiB7CmNvbG9yOiAiI0ZGRkZGRiIKfSwKIiYuZmFjZWJvb2siOiB7CmJhY2tncm91bmQ6ICIkJGZhY2Vib29rIiwKIi50ZXh0Ijogewpjb2xvcjogIiNmZmYiCn0KfSwKIiYudHdpdHRlciI6IHsKYmFja2dyb3VuZDogIiQkdHdpdHRlciIKfSwKIiYuZ29vZ2xlIjogewpiYWNrZ3JvdW5kOiAiI2VlZSIKfQp9LAoiJi5mbG9hdCI6IHsKbWFyZ2luOiAiMCAzJSAwIDAiCn0sCiImLm1vYmlsZSI6IHsKIi5hdXRoX2ljb25fZm9udCI6IHsKcG9zaXRpb246ICJhYnNvbHV0ZSIsCnRvcDogIjEwcHgiLApsZWZ0OiAiOHB4IiwKZGlzcGxheTogImlubGluZS1ibG9jayIsCmZvbnRTaXplOiAiMThweCIKfSwKIiYucnRsIC5hdXRoX2ljb25fZm9udCI6IHsKbGVmdDogImluaXRpYWwiLApyaWdodDogIjhweCIKfQp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19CdXR0b24sIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX2ljb25Gb250X0F1dGhCdXR0b24iCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4odCwgZSwgaSwgbywgYSkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgbikpIHJldHVybiBuZXcgbih0LCBlLCBpLCBvLCBhKTsKaWYgKCFuLl9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CnIuZ2VuZXJhdGUodGhpcywgbi5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCBuLl9fanhfX2pjc3MsIG51bGwsIG4pOwpuLl9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KYSB8fCAoYSA9IHt9KTsKYS5wYXR0ZXJuIHx8IChhLnBhdHRlcm4gPSAiKF4kfFswLTldKykiKTsKYS50eXBlIHx8IChhLnR5cGUgPSAidGVsIik7CnMuY2FsbCh0aGlzLCB0LCBlLCBpLCBvLCBhKTsKXy5fX2NvbnN0cnVjdG9yLmNhbGwodGhpcyk7Cn0KdmFyIG8gPSBpKDEpLCByID0gaSgzKSwgYSA9IGkoMCksIHMgPSBpKDg1KSwgXyA9IGkoNjIpOwpuLl9fanhfX2pjc3MgPSB7fTsKbi5wcm90b3R5cGUgPSBhKHMucHJvdG90eXBlKTsKbyhuLCBzLCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19QaG9uZUZpZWxkIgp9KTsKbi5wcm90b3R5cGUuX19qeF9fc3VwZXIgPSBfOwp0LmV4cG9ydHMgPSBuOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19qeF91aV9CdXR0b24gPSBpKDcwKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfSWNvbkZvbnQgPSBpKDE1KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX2p4X3VpX0J1dHRvbiwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfSWNvbkZvbnQsICJpIiwgIiIsIFtdLCB7CmlkOiAiaSIKfSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKdmFyIGggPSBzLmdldChvICsgIl9faSIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgZiA9IGZ1bmN0aW9uKCkgewppKDkpLm1vYmlsZShjKTsKdmFyIHQ7CmMuc2V0SWNvbiA9IGZ1bmN0aW9uKGUpIHsKdCAmJiBoLnJlbW92ZUNsYXNzKHQpOwp0ID0gZTsKdCAmJiBoLmFkZENsYXNzKHQpOwpyZXR1cm4gaC5zZXRJY29uLmFwcGx5KGgsIGFyZ3VtZW50cyk7Cn07Cn0oKTsKZm9yICh2YXIgZyBpbiBmKSBjW2ddID0gZltnXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfQnV0dG9uLnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CmJhY2tncm91bmQ6ICJ0cmFuc3BhcmVudCIsCmJvcmRlcjogIm5vbmUiLApjb2xvcjogImluaGVyaXQiLAoiLmljb25fZm9udCI6IHsKZGlzcGxheTogImlubGluZSIsCmxpbmVIZWlnaHQ6ICJpbmhlcml0IiwKdmVydGljYWxBbGlnbjogIm1pZGRsZSIsCmZvbnRTaXplOiAiJCRmb250U2l6ZUwiCn0KfSwKIiYubW9iaWxlIjogewoiLmljb25fZm9udCI6IHsKcG9zaXRpb246ICJyZWxhdGl2ZSIsCmZvbnRTaXplOiAiJCRmb250U2l6ZVhYTCIKfQp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX2p4X3VpX0J1dHRvbiwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfaWNvbkZvbnRfQnV0dG9uIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQsIGUsIGksIG8sIGEpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIG4pKSByZXR1cm4gbmV3IG4odCwgZSwgaSwgbywgYSk7CmlmICghbi5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewpyLmdlbmVyYXRlKHRoaXMsIG4ucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgbi5fX2p4X19qY3NzLCBudWxsLCBuKTsKbi5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CmEgfHwgKGEgPSB7fSk7CmEudGFnTmFtZSB8fCAoYS50YWdOYW1lID0gImRpdiIpOwpzLmNhbGwodGhpcywgdCwgZSwgaSwgbywgYSk7Cl8uX19jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpOwp9CnZhciBvID0gaSgxKSwgciA9IGkoMyksIGEgPSBpKDApLCBzID0gaSg3KSwgXyA9IGkoNjIpOwpuLl9fanhfX2pjc3MgPSB7fTsKbi5wcm90b3R5cGUgPSBhKHMucHJvdG90eXBlKTsKbyhuLCBzLCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19GYWtlSW5wdXQiCn0pOwpuLnByb3RvdHlwZS5fX2p4X19zdXBlciA9IF87CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93UGFuZWwgPSBpKDM5KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQ2hhdFdpbmRvd0Rpc2Nvbm5lY3RlZFRvYXN0ID0gaSg4NCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1ZpZXdTdGFjayA9IGkoNTUpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X3ByZUNoYXRPZmZsaW5lRm9ybV9Gb3JtID0gaSgzNDcpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X3ByZUNoYXRPZmZsaW5lRm9ybV9Qb3N0U3VibWl0ID0gaSgzMzEpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X3ByZUNoYXRPZmZsaW5lRm9ybV9PcGVyYXRpbmdIb3VycyA9IGkoMzMwKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19wcmVDaGF0T2ZmbGluZUZvcm1fSGlzdG9yeVBhbmVsID0gaSgzMjcpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NoYXRXaW5kb3dQYW5lbCwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQ2hhdFdpbmRvd0Rpc2Nvbm5lY3RlZFRvYXN0LCAiZGlzY29ubmVjdGVkX3RvYXN0IiwgIiIsIFtdLCB7CmlkOiAiZGlzY29ubmVjdGVkX3RvYXN0IiwKYWRkQ2xhc3M6ICJkaXNjb25uZWN0ZWRfdG9hc3QgaGlkZSIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1ZpZXdTdGFjaywgInZzIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X3ByZUNoYXRPZmZsaW5lRm9ybV9Gb3JtLCAiIiwgIiIsIFtdLCB7Cm5hbWU6ICJmb3JtIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19wcmVDaGF0T2ZmbGluZUZvcm1fUG9zdFN1Ym1pdCwgIiIsICIiLCBbXSwgewpuYW1lOiAicG9zdF9zdWJtaXQiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X3ByZUNoYXRPZmZsaW5lRm9ybV9PcGVyYXRpbmdIb3VycywgIiIsICIiLCBbXSwgewpuYW1lOiAib3BlcmF0aW5nX2hvdXJzIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19wcmVDaGF0T2ZmbGluZUZvcm1fSGlzdG9yeVBhbmVsLCAiIiwgIiIsIFtdLCB7Cm5hbWU6ICJoaXN0b3J5X3BhbmVsIgp9IF0gXSwgewppZDogInZzIgp9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6d2lkZ2V0cyI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiLAoieG1sbnM6cHJlQ2hhdE9mZmxpbmVGb3JtIjogIm1lc2hpbS53aWRnZXQuY29tcG9uZW50cy5jaGF0V2luZG93LnByZUNoYXRPZmZsaW5lRm9ybSIsCnRpdGxlQmFyOiAiaGlkZVBvcG91dCIsCmFjdGlvbkJhcjogIiIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CnZhciBoID0gcy5nZXQobyArICJfX2Rpc2Nvbm5lY3RlZF90b2FzdCIpLCBmID0gcy5nZXQobyArICJfX3ZzIik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBnID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQodCkgewp0ICYmIGgucmVtb3ZlQ2xhc3MoImhpZGUiKTsKfQp2YXIgZSA9IGkoNiksIG4gPSBpKDkpLCBvID0gZS5yb290LCByID0gby4kKCJsaXZlY2hhdCIpLiQoInVpIikuJCgiY2hhdF93aW5kb3ciKS4kKCJwcmVfY2hhdF9vZmZsaW5lX2Zvcm0iKSwgYSA9IG8uJCgiY29ubmVjdGlvbiIpLiQoInJlYXR0YWNoZWRfdGltZXN0YW1wJGludCIpLCBzID0gci4kKCJzdGFja19pbmRleCRpbnQiKSwgXyA9IDhlMzsKIWZ1bmN0aW9uKCkgewpuLm1vYmlsZShjKTsKYy5hdXRvYmluZChzLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CmYuc2V0SW5kZXgodCB8fCAwKTsKci53cml0ZSh7Cm5hbWUkc3RyaW5nOiBmLmdldE5hbWUoKQp9KTsKfSk7CmMuYXV0b2JpbmQoYSwgInZhbHVlIiwgdCk7CnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CnQoITApOwp9LCBfKTsKfSgpOwp9KCk7CmZvciAodmFyIHAgaW4gZykgY1twXSA9IGdbcF07CmMuZmlyZSAmJiBjLmZpcmUoImluaXQiKTsKYy5zZXRTdHlsZSAmJiBjLnNldFN0eWxlKHIpOwpjLnNldEF0dHJpYnV0ZXMgJiYgYy5zZXRBdHRyaWJ1dGVzKGwpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBjLmFkZENoaWxkcmVuID8gYy5hZGRDaGlsZHJlbihfKSA6IHMuYWRkQ2hpbGRyZW4oYywgXyk7CmlmIChjICE9PSB0aGlzKSB7CmMuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpjLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBjOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93UGFuZWwucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIi5kaXNjb25uZWN0ZWRfdG9hc3QuaGlkZSI6IHsKZGlzcGxheTogIm5vbmUiCn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NoYXRXaW5kb3dQYW5lbCwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19QcmVDaGF0T2ZmbGluZUZvcm0iCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19qeF91aV9XaWRnZXQgPSBpKDcpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFtdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBoID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoKSB7CnZhciB0ID0gci5nZXRWYXJpYWJsZShuKTsKYy5zZXRTdHlsZSgicGFkZGluZy10b3AiLCBuICYmIHQgfHwgIiIpOwp9CmZ1bmN0aW9uIGUoKSB7CnZhciB0ID0gci5nZXRWYXJpYWJsZShvKTsKYy5zZXRTdHlsZSgicGFkZGluZy1ib3R0b20iLCBvICYmIHQgfHwgIiIpOwp9CnZhciBuLCBvLCByID0gaSgzKSwgYSA9IGkoNiksIHMgPSBhLnJvb3QuJCgibGl2ZWNoYXQiKS4kKCJ1aSIpLiQoInRoZW1lX2xvYWRlZCRib29sIik7CmMuc2V0QWJzUGFkZGluZ1RvcCA9IGZ1bmN0aW9uKGUpIHsKbiA9IGU7CnQoKTsKfTsKYy5zZXRBYnNQYWRkaW5nQm90dG9tID0gZnVuY3Rpb24odCkgewpvID0gdDsKZSgpOwp9OwohZnVuY3Rpb24oKSB7CmMuYXV0b2JpbmQocywgInZhbHVlIiwgZnVuY3Rpb24oaSkgewppZiAoaSkgewp0KCk7CmUoKTsKfQp9KTsKYy51cGRhdGVQYWRkaW5nVG9wID0gdDsKYy51cGRhdGVQYWRkaW5nQm90dG9tID0gZTsKfSgpOwp9KCk7CmZvciAodmFyIGYgaW4gaCkgY1tmXSA9IGhbZl07CmMuZmlyZSAmJiBjLmZpcmUoImluaXQiKTsKYy5zZXRTdHlsZSAmJiBjLnNldFN0eWxlKHIpOwpjLnNldEF0dHJpYnV0ZXMgJiYgYy5zZXRBdHRyaWJ1dGVzKGwpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBjLmFkZENoaWxkcmVuID8gYy5hZGRDaGlsZHJlbihfKSA6IHMuYWRkQ2hpbGRyZW4oYywgXyk7CmlmIChjICE9PSB0aGlzKSB7CmMuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpjLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBjOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2p4X3VpX1dpZGdldC5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewpwb3NpdGlvbjogInJlbGF0aXZlIiwKIipvdmVyZmxvdyI6ICJ2aXNpYmxlIiwKd2lkdGg6ICIxMDAlIiwKaGVpZ2h0OiAiMTAwJSIKfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9XaWRnZXQsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX0Fic29sdXRlUGFkZGluZ0NvbnRhaW5lciIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gaSgyKSwgXyA9IGkoNCk7Cm4uX18kJF9fanhfdWlfaHRtbF9kaXYgPSBpKDEzKTsKbi5fXyQkX19qeF91aV9Mb2NhbGl6ZXIgPSBpKDg3KTsKbi5fXyQkX19qeF91aV9odG1sX2EgPSBpKDQ0KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgbCwgZCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBsLCBkKTsKbyA9IG8gfHwgXy5nZW5lcmF0ZUlEKCk7CnZhciB1ID0gcygyMDMpLCBjID0gWyBuLl9fJCRfX2p4X3VpX2h0bWxfZGl2LCAiIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX0xvY2FsaXplciwgImxvY2FsaXplciIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9odG1sX2EsICIiLCAiIiwgW10sIHsKY2xhc3M6ICJjb29raWVfbGluayIKfSBdIF0sIHsKaWQ6ICJsb2NhbGl6ZXIiLApjb250ZW50OiB1Cn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczptdWkiOiAibWVzaGltLnVpIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIgp9IF0sIGggPSBjWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgXy5tYW5nbGVJRHMobywgY1szXSksIGNbNF0pLCBmID0gaCB8fCB0aGlzOwpfLnNldChvLCBmKTsKdmFyIGcgPSBfLmdldChvICsgIl9fbG9jYWxpemVyIik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBwID0gZnVuY3Rpb24oKSB7CnZhciB0ID0gaSg2KSwgZSA9IHQucm9vdC4kJCgibGl2ZWNoYXQudWkuY2hhdF93aW5kb3ciKTsKIWZ1bmN0aW9uKCkgewpnLm9uKCJjbGljayIsIGZ1bmN0aW9uKHQpIHsKdC50YXJnZXQuanhfd3JhcHBlci5oYXNDbGFzcygiY29va2llX2xpbmsiKSAmJiBlLnVwZGF0ZSh7Cm1haW5fc3RhY2tfbmFtZSRzdHJpbmc6ICJjb29raWVfZm9ybSIKfSk7Cn0pOwp9KCk7Cn0oKTsKZm9yICh2YXIgbSBpbiBwKSBmW21dID0gcFttXTsKZi5maXJlICYmIGYuZmlyZSgiaW5pdCIpOwpmLnNldFN0eWxlICYmIGYuc2V0U3R5bGUocik7CmYuc2V0QXR0cmlidXRlcyAmJiBmLnNldEF0dHJpYnV0ZXMoZCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGYuYWRkQ2hpbGRyZW4gPyBmLmFkZENoaWxkcmVuKGwpIDogXy5hZGRDaGlsZHJlbihmLCBsKTsKaWYgKGYgIT09IHRoaXMpIHsKZi5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmYuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGY7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfaHRtbF9kaXYucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIi5jb29raWVfbGluayI6IHsKdGV4dERlY29yYXRpb246ICJ1bmRlcmxpbmUiLApjdXJzb3I6ICJwb2ludGVyIgp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX2p4X3VpX2h0bWxfZGl2LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19Db29raWVMYXdOb3RpY2UiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19qeF91aV9XaWRnZXQgPSBpKDcpOwpuLl9fJCRfX2p4X3VpX0xhYmVsID0gaSgxOSk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIF8sIGwpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgXywgbCk7Cm8gPSBvIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgZCA9IFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICIiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfTGFiZWwsICIiLCAiIiwgW10sIHsKdGV4dDogIuKJoSIKfSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIGggPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCh0KSB7CnQgPyBjLmFkZENsYXNzKCJpc0FjdGl2ZSIpIDogYy5yZW1vdmVDbGFzcygiaXNBY3RpdmUiKTsKfQpmdW5jdGlvbiBlKHQpIHsKdC5zdG9wUHJvcGFnYXRpb24oKTsKby51cGRhdGUoInNldHRpbmdzX21lbnUiID09PSBvLmdldFZhbHVlKCkgPyAiIiA6ICJzZXR0aW5nc19tZW51Iik7Cn0KdmFyIG4gPSBpKDYpLCBvID0gbi5yb290LiQoImxpdmVjaGF0IikuJCgidWkiKS4kKCJjaGF0X3dpbmRvdyIpLiQoIm1lbnVfc3RhY2tfbmFtZSRzdHJpbmciKTsKIWZ1bmN0aW9uKCkgewpjLmF1dG9iaW5kKG8sICJ2YWx1ZSIsIHQpOwpjLm9uKCJjbGljayIsIGUpOwp9KCk7Cn0oKTsKZm9yICh2YXIgZiBpbiBoKSBjW2ZdID0gaFtmXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfV2lkZ2V0LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CiJ3aWR0aCwgaGVpZ2h0IjogIiQkdGl0bGVCYXJIZWlnaHQiLApsaW5lSGVpZ2h0OiAiJCR0aXRsZUJhckhlaWdodCIsCnRleHRBbGlnbjogImNlbnRlciIsCmNvbG9yOiAiJCRhY3Rpb25CYXJDb2xvciIsCmZvbnRTaXplOiAiMzBweCIsCiImLmlzQWN0aXZlIjogewpiYWNrZ3JvdW5kQ29sb3I6ICIkJGFjdGlvbkJhckJnIgp9Cn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfV2lkZ2V0LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19Nb2JpbGVPcHRpb25zTWVudUljb24iCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19qeF91aV9XaWRnZXQgPSBpKDcpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Cb3JkZXJPdmVybGF5ID0gaSg4OCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0JyYW5kaW5nID0gaSg4OSk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIF8sIGwpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgXywgbCk7Cm8gPSBvIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgZCA9IFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0JvcmRlck92ZXJsYXksICIiLCAiIiwgW10sIHt9IF0sIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICIkJGRlZmF1bHRwbGFjZW1lbnQkJCIsICIiLCBbXSwgewphZGRDbGFzczogImFjdGlvbnMiLApjb250YWluZXI6ICJkZWZhdWx0IiwKaWQ6ICIkJGRlZmF1bHRwbGFjZW1lbnQkJCIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0JyYW5kaW5nLCAiIiwgIiIsIFtdLCB7CmFkZENsYXNzOiAiYnJhbmRpbmciLApoaWRlT25Nb2JpbGU6ICJ0cnVlIgp9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6d2lkZ2V0cyI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiLApjbGFzczogImFjdGlvbl9iYXIiLApzZWxlY3RhYmxlOiAiZmFsc2UiCn0gXSwgdSA9IGRbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBzLm1hbmdsZUlEcyhvLCBkWzNdKSwgZFs0XSksIGMgPSB1IHx8IHRoaXM7CnMuc2V0KG8sIGMpOwp2YXIgaCA9IHMuZ2V0KG8gKyAiX18kJGRlZmF1bHRwbGFjZW1lbnQkJCIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQpjLmRlZmF1bHRQbGFjZW1lbnQgPSBoOwp2YXIgZiA9IGZ1bmN0aW9uKCkgewp2YXIgdCA9IGkoOSk7CiFmdW5jdGlvbigpIHsKdC5tb2JpbGUoYyk7CnQucnRsKGMpOwp9KCk7Cn0oKTsKZm9yICh2YXIgZyBpbiBmKSBjW2ddID0gZltnXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfV2lkZ2V0LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CnBvc2l0aW9uOiAiYWJzb2x1dGUiLAoiYm90dG9tLCBsZWZ0IjogMCwKb3ZlcmZsb3c6ICJoaWRkZW4iLAp6SW5kZXg6IDEwLAp3aWR0aDogIiQkYWN0aW9uQmFyV2lkdGgiLApoZWlnaHQ6ICIkJGFjdGlvbkJhckhlaWdodCIsCmNvbG9yOiAiJCRhY3Rpb25CYXJDb2xvciIsCmJhY2tncm91bmQ6ICIkJGFjdGlvbkJhckJnIiwKInBhZGRpbmdMZWZ0LCBwYWRkaW5nUmlnaHQiOiAiJCRhY3Rpb25CYXJQYWRkaW5nIgp9LAoiLmJvcmRlcl9vdmVybGF5Ijogewpib3JkZXJXaWR0aDogIiQkYWN0aW9uQmFyQm9yZGVyV2lkdGgiLApib3JkZXJTdHlsZTogIiQkYWN0aW9uQmFyQm9yZGVyU3R5bGUiLApib3JkZXJDb2xvcjogIiQkYWN0aW9uQmFyQm9yZGVyQ29sb3IiCn0sCiIuYWN0aW9ucyI6IHsKZmxvYXQ6ICJsZWZ0Igp9LAoiLmJyYW5kaW5nIjogewpwb3NpdGlvbjogInJlbGF0aXZlIiwKZmxvYXQ6ICJyaWdodCIsCmNvbG9yOiAiJCRhY3Rpb25CYXJDb2xvciIsCmxpbmVIZWlnaHQ6ICIkJGFjdGlvbkJhckhlaWdodCIsCiIuaWNvbl9mb250IjogewoiKmNvbG9yIjogIiQkYWN0aW9uQmFyQ29sb3IiLAoiKmxpbmVIZWlnaHQiOiAiJCRhY3Rpb25CYXJIZWlnaHQiLAoiKnRleHREZWNvcmF0aW9uIjogIm5vbmUiCn0sCiImOmhvdmVyIjogewpjb2xvcjogIiQkYWN0aW9uQmFySG92ZXJDb2xvciIKfQp9LAoiJi5ydGwiOiB7CiIuYWN0aW9ucyI6IHsKZmxvYXQ6ICJyaWdodCIKfSwKIi5icmFuZGluZyI6IHsKZmxvYXQ6ICJsZWZ0Igp9Cn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfV2lkZ2V0LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19BY3Rpb25CYXIiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4oKSB7CnZhciB0ID0gK25ldyBEYXRlKCksIGUgPSB0IC0gaDsKTWF0aC5hYnMoZSAtIGQpID4gdSAmJiByKCk7CmggPSB0Owp9CmZ1bmN0aW9uIG8oKSB7CmZvciAodmFyIHQgPSBnLmxlbmd0aDsgdC0tOyApIHsKZm9yICh2YXIgZSA9IGdbdF0sIGkgPSBlLnF1ZXVlLmxlbmd0aDsgaS0tOyApIHsKImhpc3RvZ3JhbSIgPT09IGUucXVldWVbaV0ubWV0aG9kICYmIGUucXVldWUuc3BsaWNlKGksIDEpOwp9CmUuc3RhcnRfdHMgPSB7fTsKfQp9CmZ1bmN0aW9uIHIoKSB7CmYgPSBjbGVhckludGVydmFsKGYpOwpjID0gITE7Cm8oKTsKfQpmdW5jdGlvbiBhKCkgewp0aGlzLnJlZl90cyA9IG51bGw7CnRoaXMuZnJvbV9yZWZfdHMgPSB7fTsKdGhpcy5zdGFydF90cyA9IHt9Owp0aGlzLnRhZ3MgPSBbXTsKdGhpcy5xdWV1ZSA9IFtdOwpnLnB1c2godGhpcyk7Cn0KdmFyIHMgPSBpKDIxKSwgXyA9IGkoMjIpLCBsID0gaSgyOCksIGQgPSAxNWUzLCB1ID0gLjIgKiBkLCBjID0gITAsIGggPSArbmV3IERhdGUoKSwgZiA9IHNldEludGVydmFsKG4sIGQpLCBnID0gW10sIHAgPSBhLnByb3RvdHlwZTsKcC5mbHVzaCA9IGZ1bmN0aW9uKCkge307CnAuc2V0VGFncyA9IGZ1bmN0aW9uKHQpIHsKcyh0KSAmJiAodGhpcy50YWdzID0gdC5jb25jYXQoKSk7Cn07CnAuYWRkVGFnID0gZnVuY3Rpb24odCkgewpfKHQpICYmIHQgJiYgdGhpcy50YWdzLnB1c2godCk7Cn07CnAuc2V0UmVmVGltZSA9IGZ1bmN0aW9uKHQpIHsKbCh0aGlzLnJlZl90cykgfHwgbCh0KSAmJiAodGhpcy5yZWZfdHMgPSB0KTsKfTsKcC5mcm9tUmVmVGltZSA9IGZ1bmN0aW9uKHQsIGUsIGkpIHsKaWYgKGMgJiYgbCh0aGlzLnJlZl90cykgJiYgXyh0KSAmJiB0ICYmICF0aGlzLmZyb21fcmVmX3RzW3RdKSB7CnRoaXMuZnJvbV9yZWZfdHNbdF0gPSAhMDsKdmFyIG4gPSArbmV3IERhdGUoKTsKbiA8IHRoaXMucmVmX3RzID8gcigpIDogdGhpcy5oaXN0b2dyYW0odCwgKG4gLSB0aGlzLnJlZl90cykgLyAxZTMsIGUsIGkpOwp9Cn07CnAuc3RhcnQgPSBmdW5jdGlvbih0LCBlKSB7CmMgJiYgXyh0KSAmJiB0ICYmICh0IGluIHRoaXMuc3RhcnRfdHMgfHwgKHRoaXMuc3RhcnRfdHNbdF0gPSBsKGUpID8gZSA6ICtuZXcgRGF0ZSgpKSk7Cn07CnAuZW5kID0gZnVuY3Rpb24odCwgZSwgaSkgewppZiAoYyAmJiBfKHQpICYmIHQgJiYgdCBpbiB0aGlzLnN0YXJ0X3RzKSB7CnZhciBuID0gK25ldyBEYXRlKCk7CmlmIChuIDwgdGhpcy5zdGFydF90c1t0XSkgcigpOyBlbHNlIHsKdGhpcy5oaXN0b2dyYW0odCwgKG4gLSB0aGlzLnN0YXJ0X3RzW3RdKSAvIDFlMywgZSwgaSk7CmRlbGV0ZSB0aGlzLnN0YXJ0X3RzW3RdOwp9Cn0KfTsKcC5yZXN0YXJ0ID0gZnVuY3Rpb24odCwgZSkgewpkZWxldGUgdGhpcy5zdGFydF90c1t0XTsKdGhpcy5zdGFydCh0LCBlKTsKfTsKcC5pbmNyZW1lbnQgPSBmdW5jdGlvbih0LCBlLCBpKSB7CnRoaXMuX3F1ZXVlKCJpbmNyZW1lbnQiLCB0LCAxLCBlLCBpKTsKdGhpcy5mbHVzaCgpOwp9OwpwLmhpc3RvZ3JhbSA9IGZ1bmN0aW9uKHQsIGUsIGksIG4pIHsKdGhpcy5fcXVldWUoImhpc3RvZ3JhbSIsIHQsIGUsIGksIG4pOwp0aGlzLmZsdXNoKCk7Cn07CnAuX3F1ZXVlID0gZnVuY3Rpb24odCwgZSwgaSwgbiwgbykgewppZiAocyhuKSkgewpvID0gbjsKbiA9IHZvaWQgMDsKfQp2YXIgciA9IHsKbWV0aG9kOiB0LApuYW1lOiBlLAp2YWx1ZTogaSwKdGFnczogdGhpcy50YWdzLmNvbmNhdChvIHx8IFtdKQp9OwpsKG4pICYmIChyLnNhbXBsZV9yYXRlID0gbik7CnRoaXMucXVldWUucHVzaChyKTsKfTsKdC5leHBvcnRzID0gYTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSBpKDIpLCBfID0gaSg0KTsKbi5fXyQkX19qeF91aV9XaWRnZXQgPSBpKDcpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Cb3JkZXJPdmVybGF5ID0gaSg4OCk7Cm4uX18kJF9fanhfdWlfTGFiZWwgPSBpKDE5KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfSWNvbkZvbnQgPSBpKDE1KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfdGl0bGVCYXJfTWluaW1pemVCdXR0b24gPSBpKDM2MCk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIGwsIGQpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgbCwgZCk7Cm8gPSBvIHx8IF8uZ2VuZXJhdGVJRCgpOwp2YXIgdSA9IHMoMjAwKSwgYyA9IHMoMjAxKSwgaCA9IFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0JvcmRlck92ZXJsYXksICIiLCAiIiwgW10sIHt9IF0sIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICIiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfTGFiZWwsICJ0aXRsZV90ZXh0IiwgIiIsIFtdLCB7CmlkOiAidGl0bGVfdGV4dCIsCmFkZENsYXNzOiAidGl0bGVfdGV4dCIKfSBdLCBbIG4uX18kJF9fanhfdWlfTGFiZWwsICJzdGF0dXNfdGV4dCIsICIiLCBbXSwgewppZDogInN0YXR1c190ZXh0IiwKYWRkQ2xhc3M6ICJzdGF0dXNfdGV4dCIsCmRpc3BsYXk6ICJub25lIgp9IF0gXSwgewphZGRDbGFzczogInRpdGxlIgp9IF0sIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICJpY29ucyIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICJwb3BvdXRfY29udGFpbmVyIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19JY29uRm9udCwgInBvcG91dF9idXR0b24iLCAiIiwgW10sIHsKaWQ6ICJwb3BvdXRfYnV0dG9uIiwKaWNvbjogInBvcG91dCIsCnRpdGxlOiB1Cn0gXSBdLCB7CmlkOiAicG9wb3V0X2NvbnRhaW5lciIsCmFkZENsYXNzOiAiYnV0dG9uX2NvbnRhaW5lciIKfSBdLCBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAibWluaW1pemVfY29udGFpbmVyIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c190aXRsZUJhcl9NaW5pbWl6ZUJ1dHRvbiwgIm1pbmltaXplX2J1dHRvbiIsICIiLCBbXSwgewppZDogIm1pbmltaXplX2J1dHRvbiIKfSBdIF0sIHsKaWQ6ICJtaW5pbWl6ZV9jb250YWluZXIiLAphZGRDbGFzczogImJ1dHRvbl9jb250YWluZXIgbGFzdF9jaGlsZCIsCnRpdGxlOiBjCn0gXSBdLCB7CmlkOiAiaWNvbnMiLAphZGRDbGFzczogImljb25zIgp9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6d2lkZ2V0cyI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiLAoieG1sbnM6dGl0bGVCYXIiOiAibWVzaGltLndpZGdldC53aWRnZXRzLnRpdGxlQmFyIiwKY2xhc3M6ICJ0aXRsZV9iYXIiLApzZWxlY3RhYmxlOiAiZmFsc2UiCn0gXSwgZiA9IGhbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBfLm1hbmdsZUlEcyhvLCBoWzNdKSwgaFs0XSksIGcgPSBmIHx8IHRoaXM7Cl8uc2V0KG8sIGcpOwp2YXIgcCA9IF8uZ2V0KG8gKyAiX190aXRsZV90ZXh0IiksIG0gPSBfLmdldChvICsgIl9fc3RhdHVzX3RleHQiKSwgJCA9IF8uZ2V0KG8gKyAiX19pY29ucyIpLCBiID0gXy5nZXQobyArICJfX3BvcG91dF9jb250YWluZXIiKSwgdyA9IF8uZ2V0KG8gKyAiX19wb3BvdXRfYnV0dG9uIiksIHggPSBfLmdldChvICsgIl9fbWluaW1pemVfY29udGFpbmVyIiksIHYgPSBfLmdldChvICsgIl9fbWluaW1pemVfYnV0dG9uIik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciB5ID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoKSB7CnZhciB0ID0gciAmJiAhYSAmJiAhcyAmJiAhZCAmJiAhYy5idWdzLm5vQm94U2l6aW5nOwp3LnNldERpc3BsYXkodCA/ICIiIDogIm5vbmUiKTsKfQpmdW5jdGlvbiBlKCkgewp2YXIgdCA9IGwgfHwgczsKeC5zZXREaXNwbGF5KHQgPyAibm9uZSIgOiAiIik7CnQgPyBiLmFkZENsYXNzKCJsYXN0X2NoaWxkIikgOiBiLnJlbW92ZUNsYXNzKCJsYXN0X2NoaWxkIik7Cn0KZnVuY3Rpb24gbigpIHsKbyAmJiBtLnNldFRleHQoai5nZXQoSS4kJChfICsgIiRzdHJpbmciKSkpOwp9CnZhciBvLCByLCBhLCBzLCBfLCBsLCBkLCB1ID0gaSgxMiksIGMgPSBpKDgpLCBoID0gaSg2KSwgZiA9IGkoNzEpLCB5ID0gaSgyNCksIGogPSBpKDEwKSwgQyA9IGkoOSksIFMgPSBoLnJvb3QuJCgibGl2ZWNoYXQiKSwgQSA9IFMuJCgic2V0dGluZ3MiKS4kKCJjaGF0X3dpbmRvdyIpLiQoInRpdGxlX2JhciIpLiQoInRpdGxlJHN0cmluZyIpLCBrID0gUy4kKCJ1aSIpLiQoInRoZW1lX2xvYWRlZCRib29sIiksIEkgPSBTLiQoInNldHRpbmdzIikuJCgiY2hhdF93aW5kb3ciKS4kKCJ0aXRsZV9iYXIiKS4kKCJzdGF0dXNfbWVzc2FnZXMiKSwgVCA9IFMuJCgic2V0dGluZ3MiKS4kKCJwb3BvdXQiKS4kKCJlbmFibGVkJGJvb2wiKSwgTiA9IFMuJCgidWkiKS4kKCJwb3BvdXQkYm9vbCIpLCBCID0gUy4kKCJ1aSIpLiQoIm1vYmlsZSRib29sIikuZ2V0VmFsdWUoKSwgRCA9IFMuJCgiYWNjb3VudCIpLiQoInN0YXR1cyRzdHJpbmciKSwgRSA9IFMuJCgic2V0dGluZ3MiKS4kKCJ0aGVtZSIpLiQoImNoYXRfd2luZG93IikuJCgidGl0bGVfYmFyIikuJCgiaGlkZV9taW5pbWl6ZSRib29sIiksIE8gPSBTLiQoInNldHRpbmdzIikuJCgidGhlbWUiKS4kKCJjaGF0X3dpbmRvdyIpLiQoInRpdGxlX2JhciIpLiQoImhpZGVfcG9wb3V0JGJvb2wiKTsKZy5zZXRIaWRlUG9wb3V0ID0gZnVuY3Rpb24oZSkgewphID0gdShlKTsKdCgpOwp9OwohZnVuY3Rpb24oKSB7CkMubW9iaWxlKGcpOwpDLnJ0bChnKTsKQy53aW5kb3dQb3NpdGlvbihnKTsKZy5hdXRvYmluZChOLCAidmFsdWUiLCBmdW5jdGlvbihpKSB7CnMgPSBpOwp0KCk7CmUoKTsKZ1tpID8gImFkZENsYXNzIiA6ICJyZW1vdmVDbGFzcyJdKCJ0aXRsZV9iYXJfcG9wb3V0Iik7Cn0pOwpnLmF1dG9iaW5kKEEsICJ2YWx1ZSIsIGZ1bmN0aW9uKCkgewpwLnNldFRleHQoai5nZXQoQSkpOwp9KTsKQiAmJiBnLmF1dG9iaW5kKGssICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKdCAmJiB2LnNldE1vYmlsZSghMCk7Cn0pOwpnLmF1dG9iaW5kKEksICJ2YWx1ZSIsIGZ1bmN0aW9uKCkgewpvID0gSS5nZXRWYWx1ZSgpOwpuKCk7Cn0pOwpnLmF1dG9iaW5kKEQsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKXyA9IHQ7Cm4oKTsKfSk7CmcuYXV0b2JpbmQoVCwgInZhbHVlIiwgZnVuY3Rpb24oZSkgewpyID0gZTsKdCgpOwp9KTsKZy5hdXRvYmluZChFLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CmwgPSB0OwplKCk7Cn0pOwpnLmF1dG9iaW5kKE8sICJ2YWx1ZSIsIGZ1bmN0aW9uKGUpIHsKZCA9IGU7CnQoKTsKfSk7CiQub24oIm1vdXNlZG93biIsIGZ1bmN0aW9uKHQpIHsKdC5zdG9wUHJvcGFnYXRpb24oKTsKfSk7CmIub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CmYub3BlblBvcG91dCghMCk7CnkudXNlckhpZGVXaW5kb3coKTsKfSk7Cngub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CnkudXNlckhpZGVXaW5kb3coKTsKfSk7Cn0oKTsKfSgpOwpmb3IgKHZhciBqIGluIHkpIGdbal0gPSB5W2pdOwpnLmZpcmUgJiYgZy5maXJlKCJpbml0Iik7Cmcuc2V0U3R5bGUgJiYgZy5zZXRTdHlsZShyKTsKZy5zZXRBdHRyaWJ1dGVzICYmIGcuc2V0QXR0cmlidXRlcyhkKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgZy5hZGRDaGlsZHJlbiA/IGcuYWRkQ2hpbGRyZW4obCkgOiBfLmFkZENoaWxkcmVuKGcsIGwpOwppZiAoZyAhPT0gdGhpcykgewpnLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKZy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gZzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19qeF91aV9XaWRnZXQucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIioqc2VsZiI6IHsKcG9zaXRpb246ICJhYnNvbHV0ZSIsCiJ0b3AsIGxlZnQiOiAwLAp3aWR0aDogIjEwMCUiLApvdmVyZmxvdzogImhpZGRlbiIsCnpJbmRleDogMTAsCmhlaWdodDogIiQkdGl0bGVCYXJIZWlnaHQiLApjb2xvcjogIiQkdGl0bGVCYXJDb2xvciIsCmJhY2tncm91bmQ6ICIkJHRpdGxlQmFyQmciLAoiJi50aXRsZV9iYXJfcG9wb3V0IjogewpjdXJzb3I6ICJkZWZhdWx0Igp9Cn0sCiIuYm9yZGVyX292ZXJsYXkiOiB7CmJvcmRlcldpZHRoOiAiJCR0aXRsZUJhckJvcmRlcldpZHRoIiwKYm9yZGVyU3R5bGU6ICIkJHRpdGxlQmFyQm9yZGVyU3R5bGUiLApib3JkZXJDb2xvcjogIiQkdGl0bGVCYXJCb3JkZXJDb2xvciIKfSwKIi50aXRsZSI6IHsKd2hpdGVTcGFjZTogIm5vd3JhcCIsCm92ZXJmbG93OiAiaGlkZGVuIiwKdGV4dE92ZXJmbG93OiAiZWxsaXBzaXMiLApjdXJzb3I6ICJpbmhlcml0IiwKdGV4dEFsaWduOiAiJCR0aXRsZUJhclRleHRBbGlnbiIsCmZvbnRTaXplOiAiJCR0aXRsZUJhckZvbnRTaXplIiwKbGluZUhlaWdodDogIiQkdGl0bGVCYXJIZWlnaHQiLApmb250V2VpZ2h0OiAiJCR0aXRsZUJhckZvbnRXZWlnaHQiLAoiLnRpdGxlX3RleHQsIC5zdGF0dXNfdGV4dCI6IHsKY3Vyc29yOiAiaW5oZXJpdCIKfSwKIi50aXRsZV90ZXh0IjogewpkaXNwbGF5OiBbICJpbmxpbmUiLCAiJCR0aXRsZUJhclRpdGxlRGlzcGxheSIgXQp9LAoiLnN0YXR1c190ZXh0IjogewpkaXNwbGF5OiBbICJub25lIiwgIiQkdGl0bGVCYXJTdGF0dXNEaXNwbGF5IiBdCn0KfSwKIiYubHRyIC50aXRsZSI6IHsKcGFkZGluZ0xlZnQ6ICIkJHRpdGxlQmFyUGFkZGluZ0JlZm9yZSIsCnBhZGRpbmdSaWdodDogIiQkdGl0bGVCYXJQYWRkaW5nQWZ0ZXIiCn0sCiImLnJ0bCAudGl0bGUiOiB7CnBhZGRpbmdMZWZ0OiAiJCR0aXRsZUJhclBhZGRpbmdBZnRlciIsCnBhZGRpbmdSaWdodDogIiQkdGl0bGVCYXJQYWRkaW5nQmVmb3JlIgp9LAoiLmljb25zIjogewpwb3NpdGlvbjogImFic29sdXRlIiwKY3Vyc29yOiAiZGVmYXVsdCIsCmNvbG9yOiAiJCR0aXRsZUJhckljb25zQ29sb3IiLApmb250U2l6ZTogIiQkZm9udFNpemVYUyIsCiIuaWNvbl9mb250IjogewpkaXNwbGF5OiAiaW5saW5lLWJsb2NrIiwKdGV4dEFsaWduOiAiY2VudGVyIiwKInBhZGRpbmdSaWdodCwgcGFkZGluZ0xlZnQiOiAiNnB4IiwKbGluZUhlaWdodDogIiQkdGl0bGVCYXJIZWlnaHQiLAoiJjpob3ZlciI6IHsKIiYiOiAiJCR0aXRsZUJhckl0ZW1Ib3ZlciIKfQp9LAoiLmJ1dHRvbl9jb250YWluZXIiOiB7CmRpc3BsYXk6ICJpbmxpbmUtYmxvY2siLAp2ZXJ0aWNhbEFsaWduOiAibWlkZGxlIiwKY3Vyc29yOiAicG9pbnRlciIsCnBhZGRpbmdUb3A6ICIycHgiCn0KfSwKIiYubHRyIC5pY29ucyI6IHsKInRvcCwgcmlnaHQiOiAwLAoiLmJ1dHRvbl9jb250YWluZXIiOiB7CiImLmxhc3RfY2hpbGQiOiB7CnBhZGRpbmdSaWdodDogIjNweCIKfQp9Cn0sCiImLnJ0bCAuaWNvbnMiOiB7CiJ0b3AsIGxlZnQiOiAwLAoiLmJ1dHRvbl9jb250YWluZXIiOiB7CiImLmxhc3RfY2hpbGQiOiB7CnBhZGRpbmdMZWZ0OiAiM3B4Igp9Cn0KfSwKIiYuYnIsICYuYm0sICYuYmwiOiB7CiJib3JkZXJUb3BMZWZ0UmFkaXVzLCBib3JkZXJUb3BSaWdodFJhZGl1cyI6ICIkJHdpbmRvd1JhZGl1cyIKfSwKIiYudHIsICYudG0sICYudGwiOiB7fSwKIiYubW9iaWxlIjogewp6SW5kZXg6IDEwMSwKYm9yZGVyUmFkaXVzOiAiMCIsCiIudGl0bGUiOiB7CmZvbnRTaXplOiAiJCRmb250U2l6ZVhMIgp9LAoiJi5sdHIgLmljb25zLCAmLnJ0bCAuaWNvbnMiOiB7CiIuYnV0dG9uX2NvbnRhaW5lciI6IHsKcGFkZGluZzogMCwKIiYubGFzdF9jaGlsZCI6IHsKcGFkZGluZzogMAp9Cn0KfQp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX2p4X3VpX1dpZGdldCwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfVGl0bGVCYXIiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19qeF91aV9odG1sX2EgPSBpKDQ0KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX2p4X3VpX2h0bWxfYSwgIiIsICIiLCBbXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6d2lkZ2V0cyI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiLAp0YXJnZXQ6ICJfYmxhbmsiCn0gXSwgdSA9IGRbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBzLm1hbmdsZUlEcyhvLCBkWzNdKSwgZFs0XSksIGMgPSB1IHx8IHRoaXM7CnMuc2V0KG8sIGMpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgaCA9IGZ1bmN0aW9uKCkgewp2YXIgdCA9IGkoNiksIGUgPSBpKDkpLCBuID0gdC5yb290LiQoImxpdmVjaGF0IiksIG8gPSBuLiQoInVpIikuJCgibW9iaWxlJGJvb2wiKTsKIWZ1bmN0aW9uKCkgewplLm1vYmlsZShjKTsKby5nZXRWYWx1ZSgpICYmIGMub24oImNsaWNrIiwgZnVuY3Rpb24odCkgewp0LnByZXZlbnREZWZhdWx0KCk7CndpbmRvdy5vcGVuKGMuZ2V0QXR0cmlidXRlKCJocmVmIikpOwp9KTsKfSgpOwp9KCk7CmZvciAodmFyIGYgaW4gaCkgY1tmXSA9IGhbZl07CmMuZmlyZSAmJiBjLmZpcmUoImluaXQiKTsKYy5zZXRTdHlsZSAmJiBjLnNldFN0eWxlKHIpOwpjLnNldEF0dHJpYnV0ZXMgJiYgYy5zZXRBdHRyaWJ1dGVzKGwpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBjLmFkZENoaWxkcmVuID8gYy5hZGRDaGlsZHJlbihfKSA6IHMuYWRkQ2hpbGRyZW4oYywgXyk7CmlmIChjICE9PSB0aGlzKSB7CmMuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpjLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBjOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2p4X3VpX2h0bWxfYS5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewpjb2xvcjogImluaGVyaXQiLAp0ZXh0RGVjb3JhdGlvbjogImluaGVyaXQiCn0sCiImLm1vYmlsZSI6IHt9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX2p4X3VpX2h0bWxfYSwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfYnJhbmRpbmdfTGluayIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gaSgyKSwgXyA9IGkoNCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NoYXRXaW5kb3dQYW5lbCA9IGkoMzkpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19BYnNvbHV0ZVBhZGRpbmdDb250YWluZXIgPSBpKDE2NSk7Cm4uX18kJF9fanhfdWlfV2lkZ2V0ID0gaSg3KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19uZXdDaGF0Rm9ybV9CYW5uZXIgPSBpKDM1NCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfbmV3Q2hhdEZvcm1fQnJhbmRpbmcgPSBpKDM1Myk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0ljb25Gb250ID0gaSgxNSk7Cm4uX18kJF9fanhfdWlfRm9ybSA9IGkoNDIpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X25ld0NoYXRGb3JtX1RleHRGaWVsZCA9IGkoMzUyKTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgbCwgZCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBsLCBkKTsKbyA9IG8gfHwgXy5nZW5lcmF0ZUlEKCk7CnZhciB1ID0gcygxMjUpLCBjID0gcygxMjYpLCBoID0gcygxMjcpLCBmID0gWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93UGFuZWwsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0Fic29sdXRlUGFkZGluZ0NvbnRhaW5lciwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICJjb250ZW50IiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X25ld0NoYXRGb3JtX0Jhbm5lciwgImJhbm5lciIsICIiLCBbXSwgewppZDogImJhbm5lciIsCmFkZENsYXNzOiAiYmFubmVyIgp9IF0sIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfbmV3Q2hhdEZvcm1fQnJhbmRpbmcsICIiLCAiIiwgW10sIHsKYWRkQ2xhc3M6ICJicmFuZGluZyIKfSBdIF0sIHsKYWRkQ2xhc3M6ICJicmFuZGluZ19jb250YWluZXIiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19JY29uRm9udCwgImNsb3NlIiwgIiIsIFtdLCB7CmlkOiAiY2xvc2UiLAphZGRDbGFzczogImNsb3NlIiwKaWNvbjogIm1pbmltaXplIiwKdGl0bGU6IHUKfSBdIF0sIHsKaWQ6ICJjb250ZW50IiwKYWRkQ2xhc3M6ICJjb250ZW50Igp9IF0sIFsgbi5fXyQkX19qeF91aV9Gb3JtLCAiZm9ybSIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfSWNvbkZvbnQsICJzdWJtaXQiLCAiIiwgW10sIHsKaWQ6ICJzdWJtaXQiLAppY29uOiAic2VuZCIsCmFkZENsYXNzOiAic2VuZCIsCnRpdGxlOiBjCn0gXSwgWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19uZXdDaGF0Rm9ybV9UZXh0RmllbGQsICJpbnB1dCIsICIiLCBbXSwgewppZDogImlucHV0IiwKYWRkQ2xhc3M6ICJpbnB1dCIsCmF1dG9jb21wbGV0ZTogImZhbHNlIiwKcGxhY2Vob2xkZXI6IGgsCnRhYkluZGV4OiAiMTAiCn0gXSBdLCB7CmNsYXNzOiAiaW5wdXRfd3JhcHBlciIKfSBdIF0sIHsKaWQ6ICJmb3JtIiwKYWRkQ2xhc3M6ICJmb3JtIiwKbm9WYWxpZGF0ZTogInRydWUiCn0gXSwgWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgImRpc2FibGVkX292ZXJsYXkiLCAiIiwgW10sIHsKaWQ6ICJkaXNhYmxlZF9vdmVybGF5IiwKY2xhc3M6ICJkaXNhYmxlZF9vdmVybGF5IiwKdmlzaWJsZTogIm5vbmUiCn0gXSBdLCB7CmFic1BhZGRpbmdCb3R0b206ICJiYWRnZUZvcm1IZWlnaHQiCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczpjb21wb25lbnRzIjogIm1lc2hpbS53aWRnZXQuY29tcG9uZW50cyIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIsCiJ4bWxuczpjaGF0V2luZG93IjogIm1lc2hpbS53aWRnZXQuY29tcG9uZW50cy5jaGF0V2luZG93IiwKInhtbG5zOm5ld0NoYXRGb3JtIjogIm1lc2hpbS53aWRnZXQuY29tcG9uZW50cy5jaGF0V2luZG93Lm5ld0NoYXRGb3JtIiwKbWluaVNpemU6ICJ0cnVlIiwKdGl0bGVCYXI6ICJub25lIiwKYWN0aW9uQmFyOiAibm9uZSIsCmFkZENsYXNzOiAibWluaSIKfSBdLCBnID0gZlswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIF8ubWFuZ2xlSURzKG8sIGZbM10pLCBmWzRdKSwgcCA9IGcgfHwgdGhpczsKXy5zZXQobywgcCk7CnZhciBtID0gXy5nZXQobyArICJfX2NvbnRlbnQiKSwgJCA9IF8uZ2V0KG8gKyAiX19iYW5uZXIiKSwgYiA9IF8uZ2V0KG8gKyAiX19jbG9zZSIpLCB3ID0gXy5nZXQobyArICJfX2Zvcm0iKSwgeCA9IF8uZ2V0KG8gKyAiX19zdWJtaXQiKSwgdiA9IF8uZ2V0KG8gKyAiX19pbnB1dCIpLCB5ID0gXy5nZXQobyArICJfX2Rpc2FibGVkX292ZXJsYXkiKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIGogPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCgpIHsKaWYgKCF3LmdldERpc2FibGVkKCkpIHsKdmFyIHQgPSB2LmdldFZhbHVlKCkudHJpbSgpOwppZiAodCkgewp2LnJlc2V0KCk7Cm4odCk7Cn0gZWxzZSB2LmZvY3VzKCk7Cn0KfQpmdW5jdGlvbiBlKCkgewp2YXIgdCA9IHYuZ2V0VmFsdWUoKS50cmltKCk7CnQgJiYgKG8gPyBqIDogaCkudXBkYXRlKHQpOwp2LnJlc2V0KCk7CmYud3JpdGUoewpidXR0b25fY2xpY2tlZCRib29sOiAhMAp9KTsKbigpOwp9CmZ1bmN0aW9uIG4odCkgewp0ICYmIGgudXBkYXRlKCIiKTsKcy5zZXRCYW5uZXJVc2VySGlkZGVuKCk7CmlmIChvICYmICFyKSB7CnQgJiYgai51cGRhdGUodCk7ClMudXBkYXRlKCEwKTsKYy51cGRhdGUoInByZV9jaGF0X29mZmxpbmVfZm9ybSIpOwp9IGVsc2Ugewp0ICYmIGEubGl2ZWNoYXQuc2VuZENoYXRNc2coewptc2c6IHQKfSk7CmMudXBkYXRlKCJjaGF0X3BhbmVsIik7Cn0KfQp2YXIgbywgciwgYSA9IGkoNiksIHMgPSBpKDI0KSwgXyA9IGkoMTEpLCBsID0gaSg5KSwgZCA9IGEucm9vdCwgdSA9IGQuJCgibGl2ZWNoYXQiKSwgYyA9IHUuJCgidWkiKS4kKCJjaGF0X3dpbmRvdyIpLiQoIm1haW5fc3RhY2tfbmFtZSRzdHJpbmciKSwgaCA9IHUuJCgidWkiKS4kKCJjaGF0X3dpbmRvdyIpLiQoImNoYXRfcGFuZWwiKS4kKCJ0ZXh0YXJlYSIpLiQoInZhbHVlJHN0cmluZyIpLCBmID0gdS4kKCJ1aSIpLiQoImNoYXRfYnV0dG9uIiksIGcgPSB1LiQoInNldHRpbmdzIikuJCgiZm9ybXMiKS4kKCJwcmVfY2hhdF9mb3JtIikuJCgicmVxdWlyZWQkYm9vbCIpLCBqID0gdS4kKCJzZXR0aW5ncyIpLiQoImZvcm1zIikuJCgicHJlX2NoYXRfZm9ybSIpLiQoImZvcm0iKS4kKCIzIikuJCgidmFsdWVfdXNlciRzdHJpbmciKSwgQyA9IHUuJCgidWkiKS4kKCJjaGF0X3dpbmRvdyIpLiQoInByZV9jaGF0X2Zvcm0iKS4kKCJzdWJtaXR0ZWQkYm9vbCIpLCBTID0gdS4kKCJ1aSIpLiQoImNoYXRfd2luZG93IikuJCgicHJlX2NoYXRfZm9ybSIpLiQoImZvcm1fcG9wdWxhdGUkYm9vbCIpLCBBID0gdS4kKCJzZXR0aW5ncyIpLiQoImJyYW5kaW5nIikuJCgiaGlkZV9icmFuZGluZyRib29sIiksIGsgPSB1LiQoInNldHRpbmdzIikuJCgiYmFubmVyIikuJCgibGF5b3V0JHN0cmluZyIpLCBJID0gZC4kKCJjb25uZWN0aW9uIikuJCgic3RhdHVzJHN0cmluZyIpOwohZnVuY3Rpb24oKSB7CmwucnRsKHApOwpsLndpbmRvd1Bvc2l0aW9uKHApOwpfLmhvdmVyRml4KHApOwpwLmF1dG9iaW5kKGcsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKbyA9IHQ7Cn0pOwpwLmF1dG9iaW5kKEMsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKciA9IHQ7Cn0pOwpwLmF1dG9iaW5kKEEsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKJFt0ID8gImFkZENsYXNzIiA6ICJyZW1vdmVDbGFzcyJdKCJoaWRlX2JyYW5kaW5nIik7Cn0pOwpwLmF1dG9iaW5kKGssICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKImltYWdlX29ubHkiID09IHQgPyAkLmFkZENsYXNzKCJpbWFnZV9vbmx5IikgOiAkLnJlbW92ZUNsYXNzKCJpbWFnZV9vbmx5Iik7Cn0pOwp2Lm9uKCJpbnB1dCIsIGZ1bmN0aW9uKCkgewpoLnVwZGF0ZSh2LmdldFZhbHVlKCkudHJpbSgpKTsKfSk7Cncub24oInN1Ym1pdCIsIGZ1bmN0aW9uKGUpIHsKZS5wcmV2ZW50RGVmYXVsdCgpOwp0KCk7Cn0pOwp4Lm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewp0KCk7Cn0pOwpiLm9uKCJjbGljayIsIGZ1bmN0aW9uKHQpIHsKdC5zdG9wUHJvcGFnYXRpb24oKTsKcy51c2VySGlkZUJhbm5lcigpOwp9KTsKbS5vbigiY2xpY2siLCBlKTsKeS5vbigiY2xpY2siLCBlKTsKcC5hdXRvYmluZChJLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CmlmICgiaWRsZV9kaXNjb25uZWN0IiA9PT0gdCkgewp3LnNldERpc2FibGVkKCEwKTsKeS5zaG93KCk7Cn0gZWxzZSB7Cncuc2V0RGlzYWJsZWQoITEpOwp5LmhpZGUoKTsKfQp9KTsKfSgpOwp9KCk7CmZvciAodmFyIEMgaW4gaikgcFtDXSA9IGpbQ107CnAuZmlyZSAmJiBwLmZpcmUoImluaXQiKTsKcC5zZXRTdHlsZSAmJiBwLnNldFN0eWxlKHIpOwpwLnNldEF0dHJpYnV0ZXMgJiYgcC5zZXRBdHRyaWJ1dGVzKGQpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBwLmFkZENoaWxkcmVuID8gcC5hZGRDaGlsZHJlbihsKSA6IF8uYWRkQ2hpbGRyZW4ocCwgbCk7CmlmIChwICE9PSB0aGlzKSB7CnAuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpwLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBwOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93UGFuZWwucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIi5jb250YWluZXIiOiB7CmJhY2tncm91bmQ6ICIkJGJhZGdlQmciLApib3JkZXJXaWR0aDogIiQkYmFkZ2VCb3JkZXJXaWR0aCIsCmJvcmRlclN0eWxlOiAiJCRiYWRnZUJvcmRlclN0eWxlIiwKYm9yZGVyQ29sb3I6ICIkJGJhZGdlQm9yZGVyQ29sb3IiCn0sCiIuY29udGVudCI6IHsKd2lkdGg6ICIxMDAlIiwKaGVpZ2h0OiAiMTAwJSIsCm92ZXJmbG93OiAiaGlkZGVuIiwKY29sb3I6ICIkJGJhZGdlQ29udGVudENvbG9yIiwKYmFja2dyb3VuZDogIiQkYmFkZ2VDb250ZW50QmciLApib3JkZXJXaWR0aDogIiQkYmFkZ2VDb250ZW50Qm9yZGVyV2lkdGgiLApib3JkZXJTdHlsZTogIiQkYmFkZ2VDb250ZW50Qm9yZGVyU3R5bGUiLApib3JkZXJDb2xvcjogIiQkYmFkZ2VDb250ZW50Qm9yZGVyQ29sb3IiCn0sCiIuYmFubmVyIjogewp3aWR0aDogIjEwMCUiLApoZWlnaHQ6ICIxMDAlIiwKcG9zaXRpb246ICJyZWxhdGl2ZSIsCmN1cnNvcjogInBvaW50ZXIiLApmb250U2l6ZTogIjEuNWVtIiwKcGFkZGluZzogIjIwcHggMTBweCAxMHB4IiwKIiYuaGlkZV9icmFuZGluZyI6IHsKcGFkZGluZ1RvcDogIjEwcHgiCn0sCiImLmltYWdlX29ubHkiOiB7CnBhZGRpbmc6ICIwIgp9Cn0sCiIuYnJhbmRpbmdfY29udGFpbmVyIjogewpwb3NpdGlvbjogImFic29sdXRlIiwKdG9wOiAiNnB4IiwKbGVmdDogMCwKd2lkdGg6ICIxMDAlIiwKdGV4dEFsaWduOiAiY2VudGVyIiwKY3Vyc29yOiAicG9pbnRlciIsCiIuYnJhbmRpbmciOiB7CmN1cnNvcjogInBvaW50ZXIiCn0KfSwKIi5jbG9zZSI6IHsKcG9zaXRpb246ICJhYnNvbHV0ZSIsCmN1cnNvcjogInBvaW50ZXIiLApvcGFjaXR5OiAwLAp0cmFuc2l0aW9uOiAib3BhY2l0eSAwLjJzIiwKInRvcCwgcmlnaHQiOiAwLApwYWRkaW5nOiAiOXB4IDEwcHggMnB4IDJweCIKfSwKIiYucnRsIC5jbG9zZSI6IHsKbGVmdDogIjZweCIsCnJpZ2h0OiAiYXV0byIsCnBhZGRpbmc6ICIzcHggMnB4IDJweCA0cHgiCn0sCiImLmhvdmVyLCAmOmhvdmVyIjogewoiLmNsb3NlIjogewpvcGFjaXR5OiAxCn0KfSwKIi5zZW5kIjogewpmbG9hdDogInJpZ2h0IiwKZm9udFNpemU6ICIkJGZvbnRTaXplWFhMIiwKcGFkZGluZzogIjVweCIsCm1hcmdpbjogIjVweCIsCmNvbG9yOiAiJCRiYWRnZUljb25Db2xvciIsCm9wYWNpdHk6ICIwLjgiLApjdXJzb3I6ICJwb2ludGVyIiwKIiY6aG92ZXIiOiB7Cm9wYWNpdHk6ICIxIgp9LAoiJi5kaXNhYmxlZCI6IHsKY3Vyc29yOiAiZGVmYXVsdCIsCiImOmhvdmVyIjogewpvcGFjaXR5OiAiMC44Igp9Cn0KfSwKIi5mb3JtLCAuZGlzYWJsZWRfb3ZlcmxheSI6IHsKcG9zaXRpb246ICJhYnNvbHV0ZSIsCiJib3R0b20sIGxlZnQiOiAiMCIsCndpZHRoOiAiMTAwJSIsCmhlaWdodDogIiQkYmFkZ2VGb3JtSGVpZ2h0Igp9LAoiLmRpc2FibGVkX292ZXJsYXkiOiB7CmN1cnNvcjogInBvaW50ZXIiCn0sCiIuZm9ybSI6IHsKb3ZlcmZsb3c6ICJoaWRkZW4iLAoiKnpvb20iOiAxLApiYWNrZ3JvdW5kOiAiJCRiYWRnZUZvcm1CZyIsCmJvcmRlcldpZHRoOiAiJCRiYWRnZUZvcm1Cb3JkZXJXaWR0aCIsCmJvcmRlclN0eWxlOiAiJCRiYWRnZUZvcm1Cb3JkZXJTdHlsZSIsCmJvcmRlckNvbG9yOiAiJCRiYWRnZUZvcm1Cb3JkZXJDb2xvciIsCiImLmRpc2FibGVkIjogewpvcGFjaXR5OiAiMC41Igp9LAoiLmlucHV0X3dyYXBwZXIiOiB7CmRpc3BsYXk6ICJibG9jayIsCm92ZXJmbG93OiAiaGlkZGVuIiwKIip3aWR0aCI6ICIxNjVweCIsCiIuaW5wdXQiOiB7CndpZHRoOiAiMTAwJSIsCmhlaWdodDogIjEwMCUiLApwb3NpdGlvbjogInJlbGF0aXZlIiwKIip3aWR0aCI6ICIxNjVweCIsCiIqb3ZlcmZsb3ciOiAiaGlkZGVuIgp9Cn0sCiIuYnV0dG9uIjogewoiKndpZHRoIjogIjYwcHgiCn0KfSwKIiYubHRyIC5mb3JtIjogewoiLmlucHV0IjogewpwYWRkaW5nUmlnaHQ6IDAKfSwKIi5idXR0b24iOiB7CmZsb2F0OiAicmlnaHQiCn0KfSwKIiYucnRsIC5mb3JtIjogewoiLmlucHV0IjogewpwYWRkaW5nTGVmdDogMAp9LAoiLmJ1dHRvbiI6IHsKZmxvYXQ6ICJsZWZ0Igp9Cn0sCiImLmJyLCAmLmJtLCAmLmJsIjogewoiLmNvbnRlbnQiOiB7CiJib3JkZXJUb3BMZWZ0UmFkaXVzLCBib3JkZXJUb3BSaWdodFJhZGl1cyI6ICIkJHdpbmRvd1JhZGl1cyIKfQp9LAoiJi50ciwgJi50bSwgJi50bCI6IHt9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93UGFuZWwsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfTmV3Q2hhdEZvcm0iCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4odCwgZSwgaSwgbywgcikgewppZiAoISh0aGlzIGluc3RhbmNlb2YgbikpIHJldHVybiBuZXcgbih0LCBlLCBpLCBvLCByKTsKZC5jYWxsKHRoaXMsIHQsIGUsIGksIG8sIHIpOwp0aGlzLmluZGV4ID0gdm9pZCAwOwp0aGlzLmxlbmd0aCA9IDA7CnRoaXMuY3VycmVudENoaWxkID0gbnVsbDsKdmFyIGEgPSB0aGlzOwp0aGlzLl9vbkNoaWxkSGlkZSA9IGZ1bmN0aW9uKCkgewpzd2l0Y2ggKGEub25DaGlsZEhpZGUpIHsKY2FzZSAibmV4dCI6CmEubmV4dCghMCk7CmJyZWFrOwoKY2FzZSAicHJldiI6CmEucHJldighMCk7CmJyZWFrOwoKY2FzZSAiZmlyc3QiOgphLmZpcnN0KCEwKTsKYnJlYWs7CgpjYXNlICJsYXN0IjoKYS5sYXN0KCEwKTsKYnJlYWs7CgpkZWZhdWx0Ogp2YXIgdCA9IHBhcnNlSW50KGEub25DaGlsZEhpZGUsIDEwKTsKaWYgKGlzTmFOKHQpKSBicmVhazsKYS5zZXRJbmRleCh0LCAhMCk7Cn0KfTsKdGhpcy5vbkRlc3RydWN0aW9uKGZ1bmN0aW9uKCkgewphLmN1cnJlbnRDaGlsZCA9IG51bGw7Cn0pOwp9CnZhciBvID0gaSgxKSwgciA9IGkoMCksIGEgPSBpKDIxKSwgcyA9IGkoMTIpLCBfID0gaSgzMSksIGwgPSBpKDI1KSwgZCA9IGkoNyk7Cm4ucHJvdG90eXBlID0gcihkLnByb3RvdHlwZSk7Cm8obiwgZCwgewpmcW5hbWU6ICJqeF91aV9WaWV3U3RhY2siCn0pOwpuLnByb3RvdHlwZS5hZGRDaGlsZHJlbiA9IGZ1bmN0aW9uKHQpIHsKdmFyIGUgPSB0ICYmIHQubGVuZ3RoOwppZiAodCAmJiBlKSBmb3IgKHZhciBpID0gMDsgaSA8IGU7IGkrKykgYSh0W2ldKSAmJiB0aGlzLmFwcGVuZENoaWxkKHRbaV0pOwp9OwpuLnByb3RvdHlwZS5hcHBlbmRDaGlsZCA9IGZ1bmN0aW9uKHQpIHsKdmFyIGUgPSAhMTsKaWYgKGEodCkpIHsKdGhpcy5jaGlsZHJlbi5wdXNoKHQpOwp0WzRdICYmIChlID0gcyh0WzRdLmZvcmNlSW5zdGFudGlhdGUpKTsKfSBlbHNlIGlmICh0LmRvbSkgewpkLnByb3RvdHlwZS5hcHBlbmRDaGlsZC5jYWxsKHRoaXMsIHQpOwp0LnNldFZpc2libGUoIm5vbmUiKTsKfSBlbHNlIHRoaXMuZG9tLmFwcGVuZENoaWxkKHQpOwplICYmIHRoaXMuaW5zdGFudGlhdGVDaGlsZCh0KTsKcmV0dXJuIHQ7Cn07Cm4ucHJvdG90eXBlLnJlbW92ZUNoaWxkID0gZnVuY3Rpb24odCkgewp0cnkgewppZiAoYSh0KSkgOyBlbHNlIGlmICh0LmRvbSkgewp0aGlzLmRvbS5yZW1vdmVDaGlsZCh0LmRvbSk7CnQucGFyZW50Tm9kZSA9IG51bGw7Cn0gZWxzZSB0aGlzLmRvbS5yZW1vdmVDaGlsZCh0KTsKdmFyIGUgPSBfKHQsIHRoaXMuY2hpbGRyZW4pOwotMSAhPSBlICYmIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGUsIDEpOwp9IGNhdGNoICh0KSB7fQp9OwpuLnByb3RvdHlwZS5zZXRJbmRleCA9IGZ1bmN0aW9uKHQsIGUpIHsKdCA9IHBhcnNlSW50KHQsIDEwKTsKaWYgKHRoaXMudmFsaWRJbmRleCh0KSAmJiB0ICE9IHRoaXMuaW5kZXgpIHsKdmFyIGksIG4gPSB0aGlzLmN1cnJlbnRDaGlsZDsKaWYgKCFlICYmIChuID8gbi5maXJlKCJiZWZvcmVJbmRleENoYW5nZSIsIHQpIDogMSkgKyB0aGlzLmZpcmUoImJlZm9yZUluZGV4Q2hhbmdlIiwgdCkgPCAyKSByZXR1cm4gITE7CmlmIChuKSB7CnRoaXMuYXV0b3VuYmluZChuLCAiaGlkZSIsIHRoaXMuX29uQ2hpbGRIaWRlKTsKbi5zZXRWaXNpYmxlKCJub25lIik7Cn0KdGhpcy5maXJlKCJpbmRleENoYW5naW5nIiwgdCk7CmlmICgtMSA9PSB0KSB7CnRoaXMuY3VycmVudENoaWxkID0gbnVsbDsKdGhpcy5pbmRleCA9IHQ7CnRoaXMuZmlyZSgiaW5kZXhDaGFuZ2UiLCB0KTsKcmV0dXJuICEwOwp9Cm4gPSB0aGlzLmNoaWxkcmVuW3RdOwppZiAoYShuKSkgewpuID0gdGhpcy5pbnN0YW50aWF0ZUNoaWxkKG4pOwppID0gITA7Cn0Kbi5zZXRWaXNpYmxlKCJibG9jayIpOwp0aGlzLmF1dG9iaW5kKG4sICJoaWRlIiwgdGhpcy5fb25DaGlsZEhpZGUpOwp0aGlzLmN1cnJlbnRDaGlsZCA9IG47CnRoaXMuaW5kZXggPSB0OwppICYmIHRoaXMuZmlyZSgiaW5zdGFudGlhdGUiLCB0KTsKdGhpcy5maXJlKCJpbmRleENoYW5nZSIsIHQpOwpyZXR1cm4gITA7Cn0KfTsKbi5wcm90b3R5cGUuaW5zdGFudGlhdGVDaGlsZCA9IGZ1bmN0aW9uKHQpIHsKaWYgKGEodCkpIHsKdmFyIGUgPSBfKHQsIHRoaXMuY2hpbGRyZW4pOwppZiAoLTEgIT0gZSkgewp0ID0gbmV3IHRbMF0odGhpcywgdFsxXSwgdFsyXSwgdFszXSwgdFs0XSk7CnRoaXMuY2hpbGRyZW5bZV0gPSB0Owp0aGlzLmNoaWxkcmVuLnBvcCgpOwpyZXR1cm4gdDsKfQp9Cn07Cm4ucHJvdG90eXBlLnZhbGlkSW5kZXggPSBmdW5jdGlvbih0KSB7CnJldHVybiBudWxsICE9IHQgJiYgdCA8IHRoaXMuZ2V0TGVuZ3RoKCkgJiYgdCA+PSAtMTsKfTsKbi5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKHQpIHsKcmV0dXJuIGwodGhpcy5pbmRleCwgITApID8gdGhpcy5zZXRJbmRleCgwLCB0KSA6IHRoaXMuc2V0SW5kZXgodGhpcy5pbmRleCArIDEsIHQpOwp9OwpuLnByb3RvdHlwZS5wcmV2ID0gZnVuY3Rpb24odCkgewpyZXR1cm4gbCh0aGlzLmluZGV4LCAhMCkgPyB0aGlzLnNldEluZGV4KHRoaXMuZ2V0TGVuZ3RoKCkgLSAxLCB0KSA6IHRoaXMuc2V0SW5kZXgoTWF0aC5tYXgodGhpcy5pbmRleCAtIDEsIDApLCB0KTsKfTsKbi5wcm90b3R5cGUuZmlyc3QgPSBmdW5jdGlvbih0KSB7CnJldHVybiB0aGlzLnNldEluZGV4KDAsIHQpOwp9OwpuLnByb3RvdHlwZS5sYXN0ID0gZnVuY3Rpb24odCkgewpyZXR1cm4gdGhpcy5zZXRJbmRleCh0aGlzLmdldExlbmd0aCgpIC0gMSwgdCk7Cn07Cm4ucHJvdG90eXBlLmdldE5hbWUgPSBmdW5jdGlvbigpIHsKcmV0dXJuIHRoaXMuY3VycmVudENoaWxkICYmIHRoaXMuY3VycmVudENoaWxkLmdldE5hbWUoKTsKfTsKbi5wcm90b3R5cGUuc2V0TmFtZSA9IGZ1bmN0aW9uKHQpIHsKaWYgKCF0KSByZXR1cm4gdGhpcy5zZXRJbmRleCgtMSk7CmZvciAodmFyIGUgPSAwLCBpID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGUgPCBpOyBlKyspIGlmIChhKHRoaXMuY2hpbGRyZW5bZV0pKSB7CmlmICh0aGlzLmNoaWxkcmVuW2VdWzRdICYmIHRoaXMuY2hpbGRyZW5bZV1bNF0ubmFtZSA9PT0gdCkgcmV0dXJuIHRoaXMuc2V0SW5kZXgoZSk7Cn0gZWxzZSBpZiAodGhpcy5jaGlsZHJlbltlXS5nZXROYW1lICYmIHRoaXMuY2hpbGRyZW5bZV0uZ2V0TmFtZSgpID09PSB0KSByZXR1cm4gdGhpcy5zZXRJbmRleChlKTsKfTsKbi5wcm90b3R5cGUuaXNGaXJzdCA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gdGhpcy5pbmRleCA8PSAwOwp9OwpuLnByb3RvdHlwZS5pc0xhc3QgPSBmdW5jdGlvbigpIHsKcmV0dXJuIHRoaXMuaW5kZXggPj0gdGhpcy5nZXRMZW5ndGgoKSAtIDE7Cn07Cm4ucHJvdG90eXBlLmdldExlbmd0aCA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gdGhpcy5jaGlsZHJlbi5sZW5ndGg7Cn07Cm4ucHJvdG90eXBlLmdldENoaWxkcmVuID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLmNoaWxkcmVuOwp9OwpuLnByb3RvdHlwZS5nZXRDdXJyZW50Q2hpbGQgPSBmdW5jdGlvbigpIHsKcmV0dXJuIHRoaXMuY3VycmVudENoaWxkOwp9OwpuLnByb3RvdHlwZS5nZXRJbmRleCA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gdGhpcy5pbmRleDsKfTsKbi5wcm90b3R5cGUuZ2V0T25DaGlsZEhpZGUgPSBmdW5jdGlvbigpIHsKcmV0dXJuIHRoaXMub25DaGlsZEhpZGU7Cn07Cm4ucHJvdG90eXBlLnNldE9uQ2hpbGRIaWRlID0gZnVuY3Rpb24odCkgewp0aGlzLm9uQ2hpbGRIaWRlID0gdDsKcmV0dXJuIHRoaXM7Cn07CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpLCBvLCBsKSB7CmZ1bmN0aW9uIGYodCkgewokLnBhcmVudE5vZGUuc2V0QXR0cmlidXRlKCJsYW5nIiwgdCk7CiQucGFyZW50Tm9kZS5zZXRBdHRyaWJ1dGUoImRpciIsIF8uZmxpcCgibHRyIikpOwp9CmlmICghKHRoaXMgaW5zdGFuY2VvZiBuKSkgcmV0dXJuIG5ldyBuKHQsIGUsIGksIG8sIGwpOwpsIHx8IChsID0ge30pOwpsLnRhZ05hbWUgfHwgKGwudGFnTmFtZSA9ICJpZnJhbWUiKTsKdGhpcy5fdG9wID0gdGhpcy5fYm90dG9tID0gdGhpcy5fbGVmdCA9IHRoaXMuX3JpZ2h0ID0gdGhpcy5fd2lkdGggPSB0aGlzLl9oZWlnaHQgPSBOYU47CnRoaXMuX3Bvc2l0aW9uID0gbnVsbDsKdGhpcy5wb3MgPSAiIjsKdGhpcy5vZmZzZXR4ID0gMDsKdGhpcy5vZmZzZXR5ID0gMDsKdGhpcy5fc25hcHMgPSBbIDAsIDAsIDAsIDAgXTsKdGhpcy51c2VEaXNwbGF5ID0gITE7CnRoaXMuZG9jID0gdGhpcy5vd25lckRvY3VtZW50ID0gdC5vd25lckRvY3VtZW50Owp0aGlzLnBhcmVudE5vZGUgPSB0Owp0aGlzLmF0dHJpYnV0ZXMgPSBsOwp0aGlzLnRhZ05hbWUgPSBsLnRhZ05hbWU7CnRoaXMuaXNOZXcgPSAhMDsKdGhpcy5kb20gPSB0aGlzLmRvYy5jcmVhdGVFbGVtZW50KHRoaXMudGFnTmFtZSk7CnRoaXMuZG9tLmp4X3dyYXBwZXIgPSB0aGlzOwp0aGlzLnN0eWxlID0gdGhpcy5kb20uc3R5bGU7CnRoaXMuY2hpbGRyZW4gPSBbXTsKdGhpcy5fYXV0b2JpbmRzID0gW107CmMuY2FsbCh0aGlzKTsKdm9pZCAwICE9PSB0aGlzLmRvbS5zZWFtbGVzcyAmJiAodGhpcy5kb20uc2VhbWxlc3MgPSAhMCk7CnRoaXMuZG9tLmFsbG93VHJhbnNwYXJlbmN5ID0gInRydWUiOwp0aGlzLmRvbS5mcmFtZUJvcmRlciA9ICIwIjsKdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAidHJhbnNwYXJlbnQiOwp0aGlzLnN0eWxlLnZlcnRpY2FsQWxpZ24gPSAidGV4dC1ib3R0b20iOwp0aGlzLnN0eWxlLnZpc2liaWxpdHkgPSAiaGlkZGVuIjsKdC5hcHBlbmRDaGlsZCh0IGluc3RhbmNlb2YgaCA/IHRoaXMgOiB0aGlzLmRvbSk7CmUgJiYgci5zZXQoZSwgdGhpcyk7CnZhciBnOwpnID0gYS5idWdzLm5vQm94U2l6aW5nID8gIjxodG1sPjxoZWFkPjxzdHlsZT5odG1sLGJvZHl7aGVpZ2h0OjEwMCU7d2lkdGg6MTAwJTtiYWNrZ3JvdW5kOm5vbmV9ICp7Ym9yZGVyOjA7cGFkZGluZzowO21hcmdpbjowO308L3N0eWxlPjwvaGVhZD48Ym9keT48L2JvZHk+PC9odG1sPiIgOiAiPCFET0NUWVBFIGh0bWw+PGh0bWw+PGhlYWQ+PHN0eWxlPmh0bWwsYm9keXtoZWlnaHQ6MTAwJTt3aWR0aDoxMDAlO30gKntib3JkZXI6MDtwYWRkaW5nOjA7bWFyZ2luOjA7Ym94LXNpemluZzpib3JkZXItYm94Oy1tb3otYm94LXNpemluZzpib3JkZXItYm94Oy13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94fTwvc3R5bGU+PC9oZWFkPjxib2R5PjwvYm9keT48L2h0bWw+IjsKdGhpcy5kb20uc3JjID0gImFib3V0OmJsYW5rIjsKdGhpcy5hcHBlbmRUb1BhcmVudCghMCk7CnZhciBwID0gdGhpcy5pd2luID0gdGhpcy5kb20uY29udGVudFdpbmRvdywgbSA9IHRoaXMuaWRvYyA9IHMuZXh0ZW5kKHAuZG9jdW1lbnQpOwptLndyaXRlKGcpOwptLmNsb3NlKCk7CnRoaXMuaWhlYWQgPSBtLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF07CnZhciAkID0gdGhpcy5pYm9keSA9IHMuZXh0ZW5kKG0uYm9keSk7Cl8gJiYgXy5vbkxhbmd1YWdlICYmIF8ub25MYW5ndWFnZShmKTsKXyAmJiBfLmxhbmd1YWdlICYmIGYoXy5sYW5ndWFnZSk7CiQuc3R5bGUucG9zaXRpb24gPSAicmVsYXRpdmUiOwokLnBhcmVudE5vZGUuc3R5bGUub3ZlcmZsb3dZID0gJC5zdHlsZS5vdmVyZmxvd1kgPSAiaGlkZGVuIjsKdmFyIGIsIHc7CmlmIChhLmJ1Z3Mubm9Cb3hTaXppbmcpIHsKYiA9IG5ldyB1KCQsIG51bGwsIG51bGwsIG51bGwsIHsKcG9zaXRpb246ICJyZWxhdGl2ZSIsCndpZHRoOiAiMTAwJSIsCmhlaWdodDogIjEwMCUiLApvdmVyZmxvdzogImhpZGRlbiIKfSk7CmIuYXBwbHlDb25zdHJhaW50cygpOwpiLnNldFBhZGRpbmcgPSBmdW5jdGlvbih0KSB7CiQuc3R5bGUucGFkZGluZyA9IHQ7Cn07Cn0gZWxzZSB7CmIgPSBuZXcgdSgkLCBudWxsLCBudWxsLCBudWxsLCB7CnBvc2l0aW9uOiAiYWJzb2x1dGUiLAp0b3A6IDAsCnJpZ2h0OiAwLApib3R0b206IDAsCmxlZnQ6IDAsCm92ZXJmbG93OiAiaGlkZGVuIgp9KTsKYi5hcHBseUNvbnN0cmFpbnRzKCk7Cn0KZm9yICh2YXIgeCA9ICJCYWNrZ3JvdW5kIEJhY2tncm91bmRJbWFnZSBCb3JkZXIgQm9yZGVyQ29sb3IgQm9yZGVyU3R5bGUgQm9yZGVyV2lkdGggQ29sb3IgQ3Vyc29yIEZvbnRGYW1pbHkgRm9udFNpemUgRm9udFdlaWdodCBMZXR0ZXJTcGFjaW5nIExpbmVIZWlnaHQgT3BhY2l0eSBQYWRkaW5nIFNlbGVjdGFibGUgVGV4dEFsaWduIi5zcGxpdCgiICIpOyB3ID0geC5wb3AoKTsgKSB0aGlzWyJzZXQiICsgd10gPSBmdW5jdGlvbih0KSB7CnJldHVybiBmdW5jdGlvbihlKSB7CmJbInNldCIgKyB0XShlKTsKcmV0dXJuIHRoaXM7Cn07Cn0odyk7CnRoaXMuZGVmYXVsdFBsYWNlbWVudCA9IGI7CnRoaXMuYWRkQ2hpbGRyZW4obyk7CnRoaXMuc3R5bGUudmlzaWJpbGl0eSA9ICIiOwp0aGlzLnNldFN0eWxlKGkpOwp0aGlzLnNldEF0dHJpYnV0ZXMobCk7CmQuYmluZElGcmFtZSh0aGlzKTsKfQp2YXIgbyA9IGkoMSksIHIgPSBpKDQpLCBhID0gaSg4KSwgcyA9IGkoMTQpLCBfID0gaSgyKSwgbCA9IGkoMCksIGQgPSBpKDMpLCB1ID0gaSg3KSwgYyA9IGkoMTg1KSwgaCA9IGkoMjMpOwpuLnByb3RvdHlwZSA9IGwodS5wcm90b3R5cGUpOwpvKG4sIHUsIHsKZnFuYW1lOiAianhfdWlfSUZyYW1lIgp9KTsKbi5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkgewpkLnVuYmluZElGcmFtZSh0aGlzKTsKdGhpcy5kZWZhdWx0UGxhY2VtZW50ICYmIHRoaXMuZGVmYXVsdFBsYWNlbWVudC5kZXN0cm95KCk7CnUucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTsKfTsKdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoMTgpLCBvID0gaSgxMTQpLCByID0ge307CnIuX3N1cGVyID0gbnVsbDsKci5kZWZhdWx0cyA9IHsKY29sb3JzOiB7CnByaW1hcnkkc3RyaW5nOiAiIzAwMDAwMCIsCmJhbm5lciRzdHJpbmc6ICIjMDAwMDAwIiwKYnViYmxlJHN0cmluZzogIiMwMDAwMDAiCn0KfTsKci5vdmVycmlkZXMgPSB7CmF2YXRhcnM6IHsKY29uY2llcmdlJHN0cmluZzogbi5JTUFHRVNfVVJMICsgIi9hdmF0YXJfc2ltcGxlX2FnZW50LnBuZyIsCmFnZW50JHN0cmluZzogbi5JTUFHRVNfVVJMICsgIi9hdmF0YXJfc2ltcGxlX2FnZW50LnBuZyIsCnZpc2l0b3Ikc3RyaW5nOiBuLklNQUdFU19VUkwgKyAiL2F2YXRhcl9zaW1wbGVfdmlzaXRvci5wbmciCn0sCmNoYXRfYnV0dG9uOiB7CmRpc3BsYXlfc3RhdHVzJGJvb2w6ICExLAp1c2VfYnViYmxlJGJvb2w6ICExCn0sCmNoYXRfd2luZG93OiB7CnByb2ZpbGVfY2FyZDogewpkaXNwbGF5X2F2YXRhciRib29sOiAhMAp9LAp1c2VfYmFubmVyJGJvb2w6ICEwCn0KfTsKci5nZW5lcmF0ZSA9IGZ1bmN0aW9uKHQpIHsKdmFyIGUgPSB0LmN1c3RvbV9mb250cyAmJiB0LmN1c3RvbV9mb250cy5mb250X2ZhbWlseSRzdHJpbmcgfHwgIiI7CnJldHVybiB7CnN0YW5kYXJkOiB7CmZvbnRGYW1pbHk6ICJWZXJkYW5hLCBHZW5ldmEsIHNhbnMtc2VyaWYiLApjdXN0b21Gb250RmFtaWx5OiBlID8gZSArICIsIFZlcmRhbmEsIEdlbmV2YSwgc2Fucy1zZXJpZiIgOiAiVmVyZGFuYSwgR2VuZXZhLCBzYW5zLXNlcmlmIiwKZm9udFNpemVYUzogIjEwcHgiLApmb250U2l6ZVM6ICIxMXB4IiwKZm9udFNpemU6ICIxMnB4IiwKZm9udFNpemVMOiAiMTRweCIsCmZvbnRTaXplWEw6ICIxNnB4IiwKZm9udFNpemVYWEw6ICIxOHB4IiwKbWFyZ2luWFM6ICIzcHgiLAptYXJnaW5TOiAiNXB4IiwKbWFyZ2luOiAiMTBweCIsCm1hcmdpbkw6ICIxNXB4IiwKbWFyZ2luWEw6ICIyMHB4IiwKcGFkZGluZ1M6ICIzcHgiLApwYWRkaW5nOiAiNnB4IiwKcGFkZGluZ0w6ICI4cHgiLApwYWRkaW5nWEw6ICIxMHB4IiwKYm9yZGVyV2lkdGg6ICIxcHgiLApib3JkZXJTdHlsZTogInNvbGlkIiwKYm9yZGVyQ29sb3I6IG8uYmxhY2ssCnJhZGl1c1M6ICIzcHgiLApyYWRpdXM6ICI1cHgiLApoZWFkQ29sb3I6IG8ud2hpdGUsCmhlYWRCZzogby5ibGFjaywKaGVhZExvd0NvbnRyYXN0Q29sb3I6IG8uZ3JleSwKY29udGVudENvbG9yOiBvLmJsYWNrLApjb250ZW50SGVhZGVyQ29sb3I6IG8uYmxhY2ssCmNvbnRlbnRCZzogby53aGl0ZSwKY29udGVudEJsb2NrQmc6IG8uZ3JleSwKY29udGVudEJsb2NrUmFkaXVzOiAiJCRyYWRpdXMiLApwbGFjZWhvbGRlckNvbG9yOiBvLmdyZXksCmlucHV0TWVudUJnOiBvLndoaXRlLAplcnJvckNvbG9yOiAiI0NDMDAwMCIsCmRpdmlkZXJDb2xvcjogby5ncmV5LAppbnB1dENvbG9yOiBvLmJsYWNrLAppbnB1dEJnOiAiJCRpbnB1dE1lbnVCZyIsCmlucHV0Qm9yZGVyV2lkdGg6ICIkJGJvcmRlcldpZHRoIiwKaW5wdXRCb3JkZXJTdHlsZTogIiQkYm9yZGVyU3R5bGUiLAppbnB1dEJvcmRlckNvbG9yOiAiJCRib3JkZXJDb2xvciIsCmlucHV0UGFkZGluZzogIiQkcGFkZGluZyIsCmlucHV0UmFkaXVzOiAiJCRyYWRpdXMiLAppbnB1dFNoYWRvdzogIiIsCmlucHV0Rm9jdXNDb2xvcjogIiIsCmlucHV0Rm9jdXNCZzogIiIsCmlucHV0Rm9jdXNCb3JkZXJDb2xvcjogIiIsCmlucHV0Rm9jdXNTaGFkb3c6ICIiLAppbnB1dFBsYWNlaG9sZGVyQ29sb3I6ICIkJHBsYWNlaG9sZGVyQ29sb3IiLAppbnB1dFBsYWNlaG9sZGVyRm9udFN0eWxlOiAiaXRhbGljIiwKaW5wdXRJbnZhbGlkQ29sb3I6ICIiLAppbnB1dEludmFsaWRCZzogIiIsCmlucHV0SW52YWxpZEJvcmRlckNvbG9yOiAiJCRlcnJvckNvbG9yIiwKaW5wdXRJbnZhbGlkU2hhZG93OiAiIiwKYnV0dG9uQ29sb3I6IG8ud2hpdGUsCmJ1dHRvbkJnOiBvLmJsYWNrLApidXR0b25Cb3JkZXJXaWR0aDogIiQkYm9yZGVyV2lkdGgiLApidXR0b25Cb3JkZXJTdHlsZTogIiQkYm9yZGVyU3R5bGUiLApidXR0b25Cb3JkZXJDb2xvcjogIiIsCmJ1dHRvblBhZGRpbmc6ICIkJHBhZGRpbmciLApidXR0b25QYWRkaW5nSG9yaXpvbnRhbDogIiQkcGFkZGluZ1MiLApidXR0b25SYWRpdXM6ICIkJHJhZGl1c1MiLApidXR0b25TaGFkb3c6ICIiLApidXR0b25Gb250V2VpZ2h0OiAiYm9sZCIsCmJ1dHRvbkhvdmVyQ29sb3I6ICIiLApidXR0b25Ib3ZlckJnOiAiIiwKYnV0dG9uSG92ZXJCb3JkZXJDb2xvcjogIiIsCmJ1dHRvbkhvdmVyU2hhZG93OiAiIiwKYnV0dG9uQWN0aXZlQ29sb3I6ICIiLApidXR0b25BY3RpdmVCZzogIiIsCmJ1dHRvbkFjdGl2ZUJvcmRlckNvbG9yOiAiIiwKYnV0dG9uQWN0aXZlU2hhZG93OiAiIiwKYnV0dG9uU2VjQ29sb3I6IG8ud2hpdGUsCmJ1dHRvblNlY0JnOiBvLmdyZXksCmJ1dHRvblNlY0JvcmRlckNvbG9yOiAiIiwKYnV0dG9uU2VjU2hhZG93OiAiIiwKYnV0dG9uU2VjSG92ZXJDb2xvcjogIiIsCmJ1dHRvblNlY0hvdmVyQmc6ICIiLApidXR0b25TZWNIb3ZlckJvcmRlckNvbG9yOiAiIiwKYnV0dG9uU2VjSG92ZXJTaGFkb3c6ICIiLApidXR0b25TZWNBY3RpdmVDb2xvcjogIiIsCmJ1dHRvblNlY0FjdGl2ZUJnOiAiIiwKYnV0dG9uU2VjQWN0aXZlQm9yZGVyQ29sb3I6ICIiLApidXR0b25TZWNBY3RpdmVTaGFkb3c6ICIiLApidXR0b25TaG9ydFBhZGRpbmc6ICIkJHBhZGRpbmdTIiwKZm9ybVN1Ym1pdHRlZEJnOiAiJCRjb250ZW50QmxvY2tCZyIsCmZvcm1TdWJtaXR0ZWRSYWRpdXM6ICIkJHJhZGl1cyIsCmZvcm1TdWJtaXR0ZWRCb3JkZXJXaWR0aDogMCwKZm9ybVN1Ym1pdHRlZEJvcmRlclN0eWxlOiAiIiwKZm9ybVN1Ym1pdHRlZEJvcmRlckNvbG9yOiAiIiwKZXJyb3JNZXNzYWdlQ29sb3I6ICIkJGVycm9yQ29sb3IiLAplcnJvck1lc3NhZ2VGb250V2VpZ2h0OiAiYm9sZCIsCmVycm9yTWVzc2FnZUZvbnRTdHlsZTogIml0YWxpYyIsCnNjcm9sbGFibGVGcmFtZUlubmVyUGFkZGluZ1NtYWxsOiAiJCRtYXJnaW4iLApzY3JvbGxhYmxlRnJhbWVJbm5lclBhZGRpbmdNZWRpdW06ICIkJG1hcmdpblhMIiwKc2Nyb2xsYWJsZUZyYW1lSW5uZXJQYWRkaW5nTGFyZ2U6ICIkJG1hcmdpblhMIiwKc2Nyb2xsYWJsZUZyYW1lVG9wSGVpZ2h0OiAiIiwKc2Nyb2xsYWJsZUZyYW1lVG9wQmFja2dyb3VuZDogIiIsCnNjcm9sbGFibGVGcmFtZVRvcEJhY2tncm91bmRDb2xvcjogIiIsCnNjcm9sbGFibGVGcmFtZUJvdHRvbUhlaWdodDogIiIsCnNjcm9sbGFibGVGcmFtZUJvdHRvbUJhY2tncm91bmQ6ICIiLApzY3JvbGxhYmxlRnJhbWVCb3R0b21CYWNrZ3JvdW5kQ29sb3I6ICIiLAp0b2FzdENvbG9yOiBvLndoaXRlLAp0b2FzdEJnOiBvLmJsYWNrLAp0b2FzdFBhZGRpbmc6ICIkJHBhZGRpbmdYTCIsCnRvYXN0Qm9yZGVyV2lkdGg6ICIkJGJvcmRlcldpZHRoIiwKdG9hc3RCb3JkZXJTdHlsZTogIiQkYm9yZGVyU3R5bGUiLAp0b2FzdEJvcmRlckNvbG9yOiAiJCRib3JkZXJDb2xvciIsCnRvYXN0UmFkaXVzOiAiJCRyYWRpdXMiLAp0b2FzdFNoYWRvdzogIiIsCmF2YXRhckJvcmRlcldpZHRoOiAwLAphdmF0YXJCb3JkZXJTdHlsZTogIiQkYm9yZGVyU3R5bGUiLAphdmF0YXJCb3JkZXJDb2xvcjogIiQkYm9yZGVyQ29sb3IiLAphdmF0YXJSYWRpdXM6ICIkJHJhZGl1c1MiLAphdmF0YXJTaGFkb3c6ICIiLApwcm9maWxlQ2FyZEF2YXRhckJvcmRlcldpZHRoOiAiIiwKcHJvZmlsZUNhcmRBdmF0YXJCb3JkZXJTdHlsZTogIiIsCnByb2ZpbGVDYXJkQXZhdGFyQm9yZGVyQ29sb3I6ICIiLApwcm9maWxlQ2FyZEF2YXRhclJhZGl1czogIiIsCnByb2ZpbGVDYXJkQXZhdGFyU2hhZG93OiAiIiwKcHJvZmlsZUNhcmROYW1lQ29sb3I6IG8uYmxhY2ssCnByb2ZpbGVDYXJkVGl0bGVDb2xvcjogby5ncmV5LApib3R0b21IZWlnaHQ6ICI0MHB4IiwKYm90dG9tSGVpZ2h0Qm90dG9tUGFkZGluZzogIjUwcHgiLApib3R0b21Cb3JkZXJXaWR0aDogIiIsCmJvdHRvbUJvcmRlclN0eWxlOiAiJCRib3JkZXJTdHlsZSIsCmJvdHRvbUJvcmRlckNvbG9yOiAiJCRib3JkZXJDb2xvciIsCmJvdHRvbU5vdGVCb3JkZXJXaWR0aDogMCwKYm90dG9tTm90ZUJvcmRlclN0eWxlOiAiJCRib3JkZXJTdHlsZSIsCmJvdHRvbU5vdGVCb3JkZXJDb2xvcjogIiQkYm9yZGVyQ29sb3IiLApicmFuZGluZ0xpbmtDb2xvcjogIiQkYWN0aW9uQmFyQ29sb3IiLApjaGF0TW90aWZIaWxsOiAiIiwKY2hhdE1vdGlmQnViYmxlOiAiIiwKZmFjZWJvb2s6ICIjM0I1OTk4IiwKZmFjZWJvb2tBY3RpdmU6ICIjNjM3QkFEIiwKdHdpdHRlcjogIiMwMEFDRUUiLAp0d2l0dGVyQWN0aXZlOiAiIzdFQjJENCIsCmdvb2dsZTogIiNERDRCMzkiLApnb29nbGVBY3RpdmU6ICIjRTA3MzZGIiwKZXh0ZXJuYWxJY29uQ29sb3I6ICIkJHBsYWNlaG9sZGVyQ29sb3IiLAphdXRoQnV0dG9uQmc6ICIiLAphdXRoQnV0dG9uQm9yZGVyQ29sb3I6ICIiLAphdXRoQnV0dG9uU2hhZG93OiAiIiwKY2hhdFJhdGluZ3NFbW90aWNvbkNvbG9yOiAiIzk5OSIsCmNoYXRSYXRpbmdzRW1vdGljb25BY3RpdmU6ICIjREREIiwKY2hhdFJhdGluZ3NFbW90aWNvbkhvdmVyOiAiI0VFRSIsCmNoYXRSYXRpbmdzVGh1bWJMaWdodDogIiM5OTkiLApjaGF0UmF0aW5nc1RodW1iRGFyazogIiM2NjYiLApjaGF0UmF0aW5nc1RodW1iQWN0aXZlOiAiI0VFRSIsCmNoYXRSYXRpbmdzVGh1bWJCR0hvdmVyOiAiI0RERCIsCmNoYXRCdXR0b25NaW5XaWR0aDogIjE4MHB4IiwKY2hhdEJ1dHRvbk1heFdpZHRoOiAiMzAwcHgiLApjaGF0QnV0dG9uSGVpZ2h0OiAiMzBweCIsCmNoYXRCdXR0b25Db2xvcjogIiQkaGVhZENvbG9yIiwKY2hhdEJ1dHRvbkJnOiAiJCRoZWFkQmciLApjaGF0QnV0dG9uQm9yZGVyV2lkdGg6ICIkJGJvcmRlcldpZHRoIiwKY2hhdEJ1dHRvbkJvcmRlclN0eWxlOiAiJCRib3JkZXJTdHlsZSIsCmNoYXRCdXR0b25Cb3JkZXJDb2xvcjogIiQkZGl2aWRlckNvbG9yIiwKY2hhdEJ1dHRvblJhZGl1czogIiQkcmFkaXVzIiwKY2hhdEJ1dHRvblNoYWRvdzogIiIsCmNoYXRCdXR0b25QYWRkaW5nOiAiJCRwYWRkaW5nWEwiLApjaGF0QnV0dG9uUGFkZGluZ0Zhdmljb246ICIkJGNoYXRCdXR0b25QYWRkaW5nIiwKY2hhdEJ1dHRvbkZvbnRXZWlnaHQ6ICJib2xkIiwKY2hhdEJ1dHRvblN0YXR1c0ZvbnRXZWlnaHQ6ICJib2xkIiwKZmF2aWNvbldpZHRoOiAiMzZweCIsCmZhdmljb25Db2xvcjogIiQkY2hhdEJ1dHRvbkNvbG9yIiwKZmF2aWNvbk9ubGluZUNvbG9yOiAiIiwKZmF2aWNvbk9mZmxpbmVDb2xvcjogIiIsCmZhdmljb25CZzogIiQkY2hhdEJ1dHRvbkJnIiwKZmF2aWNvbkRvdHNDb2xvcjogIiIsCmNoYXRCdWJibGVUaXRsZTogIiIsCmNoYXRCdWJibGVUZXh0OiAiIiwKY2hhdEJ1YmJsZUNsb3NlOiAiIiwKd2luZG93TWluaVdpZHRoOiAiMjQwcHgiLAp3aW5kb3dNaW5pSGVpZ2h0OiAiMjAwcHgiLAp3aW5kb3dTbWFsbFdpZHRoOiAiMjQwcHgiLAp3aW5kb3dTbWFsbEhlaWdodDogIjMzNXB4IiwKd2luZG93TWVkaXVtV2lkdGg6ICIyOTBweCIsCndpbmRvd01lZGl1bUhlaWdodDogIjQwMHB4IiwKd2luZG93TGFyZ2VXaWR0aDogIjM1MHB4IiwKd2luZG93TGFyZ2VIZWlnaHQ6ICI0NTBweCIsCndpbmRvd0NvbG9yOiAiJCRjb250ZW50Q29sb3IiLAp3aW5kb3dCZzogIiQkY29udGVudEJnIiwKd2luZG93UGFkZGluZzogIiIsCndpbmRvd1JhZGl1czogIiQkcmFkaXVzIiwKd2luZG93U2hhZG93OiAiIiwKd2luZG93Q29udGVudEJnOiAiJCRjb250ZW50QmciLAp3aW5kb3dDb250ZW50Qm9yZGVyV2lkdGg6ICIkJGJvcmRlcldpZHRoIiwKd2luZG93Q29udGVudEJvcmRlclN0eWxlOiAiJCRib3JkZXJTdHlsZSIsCndpbmRvd0NvbnRlbnRCb3JkZXJDb2xvcjogIiQkZGl2aWRlckNvbG9yIiwKaGlzdG9yeUNsb2NrQ29sb3I6ICIjOTk5IiwKaGlzdG9yeUNsb2NrSG92ZXJDb2xvcjogIiM2NjYiLAptZW51Q29sb3I6ICIkJGNvbnRlbnRDb2xvciIsCm1lbnVCZzogIiQkaW5wdXRNZW51QmciLAptZW51Qm9yZGVyV2lkdGg6ICIkJGJvcmRlcldpZHRoIiwKbWVudUJvcmRlclN0eWxlOiAiJCRib3JkZXJTdHlsZSIsCm1lbnVCb3JkZXJDb2xvcjogIiQkZGl2aWRlckNvbG9yIiwKbWVudVJhZGl1czogIiQkcmFkaXVzIiwKbWVudVNoYWRvdzogIiQkd2luZG93U2hhZG93IiwKbWVudUhlYWRlckNvbG9yOiAiJCRwbGFjZWhvbGRlckNvbG9yIiwKbWVudUl0ZW1QYWRkaW5nOiAiM3B4IDIwcHgiLAptZW51SXRlbUhvdmVyQmc6IG8uZ3JleSwKdGl0bGVCYXJIZWlnaHQ6ICIyNHB4IiwKdGl0bGVCYXJQYWRkaW5nQmVmb3JlOiAiNjBweCIsCnRpdGxlQmFyUGFkZGluZ0FmdGVyOiAiNjBweCIsCnRpdGxlQmFyRm9udFNpemU6ICIkJGZvbnRTaXplUyIsCnRpdGxlQmFyQ29sb3I6ICIkJGhlYWRMb3dDb250cmFzdENvbG9yIiwKdGl0bGVCYXJCZzogIiQkaGVhZEJnIiwKdGl0bGVCYXJCb3JkZXJXaWR0aDogIiIsCnRpdGxlQmFyQm9yZGVyU3R5bGU6ICIkJGJvcmRlclN0eWxlIiwKdGl0bGVCYXJCb3JkZXJDb2xvcjogIiQkYm9yZGVyQ29sb3IiLAp0aXRsZUJhckZvbnRXZWlnaHQ6ICJib2xkIiwKdGl0bGVCYXJUZXh0QWxpZ246ICJjZW50ZXIiLAphY3Rpb25CYXJXaWR0aDogIjEwMCUiLAphY3Rpb25CYXJIZWlnaHQ6ICIyNHB4IiwKYWN0aW9uQmFyQ29sb3I6IG8uZ3JleSwKYWN0aW9uQmFyQ29sb3JEaWFibGVkOiAiI0FBQSIsCmFjdGlvbkJhckJnOiAiJCR3aW5kb3dDb250ZW50QmciLAphY3Rpb25CYXJCb3JkZXJXaWR0aDogIiIsCmFjdGlvbkJhckJvcmRlclN0eWxlOiAiJCRib3JkZXJTdHlsZSIsCmFjdGlvbkJhckJvcmRlckNvbG9yOiAiJCRib3JkZXJDb2xvciIsCmFjdGlvbkJhclBhZGRpbmc6ICIxMHB4IiwKYWN0aW9uQmFySG92ZXJDb2xvcjogIiIsCmNoYXRQYW5lbFByb2ZpbGVDYXJkQ29udGFpbmVySGVpZ2h0OiAiNTBweCIsCmNoYXRQYW5lbFByb2ZpbGVDYXJkQ29udGFpbmVyQmFja2dyb3VuZDogIiIsCmNoYXRQYW5lbFByb2ZpbGVDYXJkQ29udGFpbmVyQm9yZGVyV2lkdGg6ICIiLApjaGF0UGFuZWxQcm9maWxlQ2FyZENvbnRhaW5lckJvcmRlclN0eWxlOiAiJCRib3JkZXJTdHlsZSIsCmNoYXRQYW5lbFByb2ZpbGVDYXJkQ29udGFpbmVyQm9yZGVyQ29sb3I6ICIkJGJvcmRlckNvbG9yIiwKY2hhdFBhbmVsUHJvZmlsZUNhcmRBdmF0YXJCb3JkZXJXaWR0aDogIiIsCmNoYXRQYW5lbFByb2ZpbGVDYXJkQXZhdGFyQm9yZGVyU3R5bGU6ICIiLApjaGF0UGFuZWxQcm9maWxlQ2FyZEF2YXRhckJvcmRlckNvbG9yOiAiIiwKY2hhdFBhbmVsUHJvZmlsZUNhcmRBdmF0YXJSYWRpdXM6ICIiLApjaGF0UGFuZWxQcm9maWxlQ2FyZEF2YXRhclNoYWRvdzogIiIsCmNoYXRMb2dNYXJnaW46ICIkJG1hcmdpbiIsCmNoYXRMb2dWaXNpdG9yTmFtZUNvbG9yOiAiJCRjb250ZW50SGVhZGVyQ29sb3IiLApjaGF0TG9nVmlzaXRvckJ1YmJsZUJnOiAiIiwKY2hhdExvZ1Zpc2l0b3JCdWJibGVCb3JkZXJXaWR0aDogIiQkYm9yZGVyV2lkdGgiLApjaGF0TG9nVmlzaXRvckJ1YmJsZUJvcmRlclN0eWxlOiAiJCRib3JkZXJTdHlsZSIsCmNoYXRMb2dWaXNpdG9yQnViYmxlQm9yZGVyQ29sb3I6ICIkJGJvcmRlckNvbG9yIiwKY2hhdExvZ0FnZW50TmFtZUNvbG9yOiAiJCRjb250ZW50SGVhZGVyQ29sb3IiLApjaGF0TG9nQWdlbnRCdWJibGVCZzogIiIsCmNoYXRMb2dBZ2VudEJ1YmJsZUJvcmRlcldpZHRoOiAiJCRib3JkZXJXaWR0aCIsCmNoYXRMb2dBZ2VudEJ1YmJsZUJvcmRlclN0eWxlOiAiJCRib3JkZXJTdHlsZSIsCmNoYXRMb2dBZ2VudEJ1YmJsZUJvcmRlckNvbG9yOiAiJCRib3JkZXJDb2xvciIsCmNoYXRMb2dBdmF0YXJCb3JkZXJXaWR0aDogIiIsCmNoYXRMb2dBdmF0YXJCb3JkZXJTdHlsZTogIiIsCmNoYXRMb2dBdmF0YXJCb3JkZXJDb2xvcjogIiIsCmNoYXRMb2dBdmF0YXJSYWRpdXM6ICIiLApjaGF0TG9nQXZhdGFyU2hhZG93OiAiIiwKY2hhdExvZ1N5c3RlbU1zZ0NvbG9yOiAiJCRwbGFjZWhvbGRlckNvbG9yIiwKY2hhdExvZ1N5c3RlbU1zZ0JnOiAiIiwKY2hhdExvZ1N5c3RlbU1zZ0JvcmRlcldpZHRoOiAwLApjaGF0TG9nU3lzdGVtTXNnQm9yZGVyU3R5bGU6ICIkJGJvcmRlclN0eWxlIiwKY2hhdExvZ1N5c3RlbU1zZ0JvcmRlckNvbG9yOiAiJCRib3JkZXJDb2xvciIsCmNoYXRMb2dTeXN0ZW1Nc2dQYWRkaW5nOiAiIiwKY2hhdExvZ0RhdGVEaXZpZGVyQ29sb3I6ICIkJHBsYWNlaG9sZGVyQ29sb3IiLApjaGF0TG9nRGF0ZURpdmlkZXJGb250V2VpZ2h0OiAiIiwKY2hhdExvZ0ZpbGVQcm9ncmVzc0JnOiAiJCRoZWFkQmciLApjaGF0VGV4dEFyZWFCb3JkZXJXaWR0aDogIiIsCmNoYXRUZXh0QXJlYUJvcmRlclN0eWxlOiAiJCRib3JkZXJTdHlsZSIsCmNoYXRUZXh0QXJlYUJvcmRlckNvbG9yOiAiJCRib3JkZXJDb2xvciIsCmNoYXRUZXh0QXJlYVBhZGRpbmc6ICIxMHB4IDEwcHggMCIsCmNoYXRUZXh0QXJlYUlucHV0Rm9udFNpemU6ICIiLApjaGF0VGV4dEFyZWFJbnB1dE1pbkhlaWdodDogIjQycHgiLApjaGF0VGV4dEFyZWFJbnB1dE1heEhlaWdodDogIjY0cHgiLApjaGF0VGV4dEFyZWFJbnB1dExpbmVIZWlnaHQ6ICIiLApjaGF0VGV4dEFyZWFJbnB1dENvbG9yOiAiIiwKY2hhdFRleHRBcmVhSW5wdXRCZzogIiIsCmNoYXRUZXh0QXJlYUlucHV0Qm9yZGVyV2lkdGg6ICIiLApjaGF0VGV4dEFyZWFJbnB1dEJvcmRlclN0eWxlOiAiIiwKY2hhdFRleHRBcmVhSW5wdXRCb3JkZXJDb2xvcjogIiIsCmNoYXRUZXh0QXJlYUlucHV0UGFkZGluZzogIiIsCmNoYXRUZXh0QXJlYUlucHV0UmFkaXVzOiAiIiwKY2hhdFRleHRBcmVhSW5wdXRTaGFkb3c6ICIiLApjaGF0VGV4dEFyZWFJbnB1dEZvY3VzQ29sb3I6ICIiLApjaGF0VGV4dEFyZWFJbnB1dEZvY3VzQmc6ICIiLApjaGF0VGV4dEFyZWFJbnB1dEZvY3VzQm9yZGVyQ29sb3I6ICIiLApjaGF0VGV4dEFyZWFJbnB1dEZvY3VzU2hhZG93OiAiIiwKY2hhdFRleHRBcmVhU3VibWl0TWFyZ2luOiAiNnB4IiwKY2hhdFRleHRBcmVhU3VibWl0UGFkZGluZzogIjVweCAxMHB4IiwKY2hhdFRyYW5zbGF0aW9uU3dpdGNoQ29sb3I6IG8uZ3JleSwKY2hhdFRleHRBcmVhRHJvcENvbG9yOiAiIiwKY2hhdFRleHRBcmVhRHJvcEJnOiAiIiwKY2hhdFRleHRBcmVhRHJvcEJvcmRlcldpZHRoOiAiIiwKY2hhdFRleHRBcmVhRHJvcEJvcmRlclN0eWxlOiAiIiwKY2hhdFRleHRBcmVhRHJvcEJvcmRlckNvbG9yOiAiIiwKYWdlbnRCdWJibGVCZzogIiIsCnZpc2l0b3JCdWJibGVCZzogIiIsCmJhZGdlQmc6ICIiLApiYWRnZUJvcmRlcldpZHRoOiAiIiwKYmFkZ2VCb3JkZXJTdHlsZTogIiQkYm9yZGVyU3R5bGUiLApiYWRnZUJvcmRlckNvbG9yOiAiJCRib3JkZXJDb2xvciIsCmJhZGdlQ29udGVudENvbG9yOiAiJCRoZWFkQ29sb3IiLApiYWRnZUNvbnRlbnRCZzogIiIsCmJhZGdlQ29udGVudEJvcmRlcldpZHRoOiAiJCRib3JkZXJXaWR0aCIsCmJhZGdlQ29udGVudEJvcmRlclN0eWxlOiAiJCRib3JkZXJTdHlsZSIsCmJhZGdlQ29udGVudEJvcmRlckNvbG9yOiAiJCRib3JkZXJDb2xvciIsCmJhZGdlRm9ybUhlaWdodDogIjM2cHgiLApiYWRnZUZvcm1CZzogIiIsCmJhZGdlRm9ybUJvcmRlcldpZHRoOiAiJCRib3JkZXJXaWR0aCIsCmJhZGdlRm9ybUJvcmRlclN0eWxlOiAiJCRib3JkZXJTdHlsZSIsCmJhZGdlRm9ybUJvcmRlckNvbG9yOiAiJCRib3JkZXJDb2xvciIsCmJhZGdlSW5wdXRDb2xvcjogIiIsCmJhZGdlSW5wdXRCb3JkZXJXaWR0aDogIiIsCmJhZGdlSW5wdXRCb3JkZXJTdHlsZTogIiIsCmJhZGdlSW5wdXRCb3JkZXJDb2xvcjogIiIsCmJhZGdlSW5wdXRQYWRkaW5nOiAiJCRwYWRkaW5nWEwiLApiYWRnZUlucHV0UmFkaXVzOiAiJCRyYWRpdXMiLApiYWRnZUlucHV0U2hhZG93OiAiIiwKYmFkZ2VJbnB1dEZvY3VzQ29sb3I6ICIiLApiYWRnZUlucHV0Rm9jdXNCZzogIiIsCmJhZGdlSW5wdXRGb2N1c0JvcmRlckNvbG9yOiAiIiwKYmFkZ2VJbnB1dEZvY3VzU2hhZG93OiAiIiwKYmFkZ2VJbnB1dFBsYWNlaG9sZGVyQ29sb3I6ICIiLApiYWRnZUljb25Db2xvcjogIiIKfSwKcG9wb3V0OiB7CndpbmRvd1JhZGl1czogMAp9LAptb2JpbGU6IHsKZm9udFNpemVYUzogIjEycHgiLApmb250U2l6ZVM6ICIxM3B4IiwKZm9udFNpemU6ICIxNHB4IiwKZm9udFNpemVMOiAiMTZweCIsCmZvbnRTaXplWEw6ICIxOHB4IiwKZm9udFNpemVYWEw6ICIyMHB4IiwKbW9iaWxlTWF4V2lkdGhTOiAiMzYwcHgiLAptb2JpbGVNYXhXaWR0aDogIjQ4MHB4IiwKbW9iaWxlTWF4V2lkdGhMOiAiNjQwcHgiLAppbnB1dFBhZGRpbmc6ICIkJHBhZGRpbmdYTCIsCmJ1dHRvblBhZGRpbmc6ICIkJHBhZGRpbmdYTCIsCm1lbnVJdGVtUGFkZGluZzogIjE0cHgiLAp0aXRsZUJhckhlaWdodDogIjQ0cHgiLAphY3Rpb25CYXJXaWR0aDogIiQkdGl0bGVCYXJIZWlnaHQiLAphY3Rpb25CYXJIZWlnaHQ6ICIkJHRpdGxlQmFySGVpZ2h0IiwKbWVudVJhZGl1czogMCwKYnJhbmRpbmdMaW5rQ29sb3I6IG8uZ3JleQp9Cn07Cn07CnQuZXhwb3J0cyA9IHI7Cn0sIGZ1bmN0aW9uKHQsIGUpIHsKdmFyIGkgPSB7fTsKaS5TRUNPTkQgPSAxZTM7CmkuTUlOVVRFID0gNjAgKiBpLlNFQ09ORDsKaS5IT1VSID0gNjAgKiBpLk1JTlVURTsKaS5EQVkgPSAyNCAqIGkuSE9VUjsKaS5XRUVLID0gNyAqIGkuREFZOwp0LmV4cG9ydHMgPSBpOwp9LCBmdW5jdGlvbih0LCBlKSB7CmZ1bmN0aW9uIGkodCkgewpyZXR1cm4gd2luZG93W3RdOwp9CnZhciBuID0gewpnZXRWYXJpYWJsZTogaQp9Owp0LmV4cG9ydHMgPSBuOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4odCwgZSkgewp1ID0gdDsKYyA9IGU7CnUuJCgibGl2ZWNoYXQiKS4kKCJjaGFubmVsIikuJCgiZGVwYXJ0bWVudF9pZCRpbnQiKS5vbigidmFsdWUiLCBmdW5jdGlvbih0KSB7CnQgJiYgKGggPSB0KTsKfSk7Cn0KZnVuY3Rpb24gbyh0LCBlLCBpKSB7CnZhciBuID0gcGFyc2VJbnQoZSwgMTApIHx8IHBhcnNlSW50KGMuZ2V0U2VydmVyVGltZSgpLnRvRml4ZWQoMCksIDEwKSwgbyA9IG4gKyAiIiwgciA9IHUuJCgibGl2ZWNoYXQiKS4kKCJwcm9maWxlIiksIGEgPSBoLCBzID0gKHQubXNnIHx8ICIiKSArICIiOwoiZGVwYXJ0bWVudCIgaW4gdCAmJiAoYSA9IHQuZGVwYXJ0bWVudCk7CnUuJCgibGl2ZWNoYXQiKS4kKCJjaGFubmVsIikuJCgibG9nIikuJChvKS53cml0ZSh7CnRpbWVzdGFtcCRpbnQ6IG4sCnR5cGUkc3RyaW5nOiAiY2hhdC5tc2ciLAptc2ckc3RyaW5nOiBzLApuaWNrJHN0cmluZzogci4kKCJuaWNrJHN0cmluZyIpLmdldFZhbHVlKCkgfHwgIiIsCmRpc3BsYXlfbmFtZSRzdHJpbmc6IHIuJCgiZGlzcGxheV9uYW1lJHN0cmluZyIpLmdldFZhbHVlKCkgfHwgIiIsCmRlcGFydG1lbnRfaWQkaW50OiBhLAp1bnZlcmlmaWVkJGJvb2w6ICEwLApfX2NsaWVudCRib29sOiAhMAp9LCBpKTsKfQpmdW5jdGlvbiByKHQsIGUpIHsKdmFyIGkgPSBwYXJzZUludChlLCAxMCkgfHwgcGFyc2VJbnQoYy5nZXRTZXJ2ZXJUaW1lKCkudG9GaXhlZCgwKSwgMTApLCBuID0gaSArICIiOwp1LiQoImxpdmVjaGF0IikuJCgiY2hhbm5lbCIpLiQoImxvZyIpLiQobikud3JpdGUoewp0aW1lc3RhbXAkaW50OiBpLApuaWNrJHN0cmluZzogdS4kKCJsaXZlY2hhdCIpLiQoInByb2ZpbGUiKS4kKCJuaWNrJHN0cmluZyIpLmdldFZhbHVlKCkgfHwgIiIsCmRpc3BsYXlfbmFtZSRzdHJpbmc6IHUuJCgibGl2ZWNoYXQiKS4kKCJwcm9maWxlIikuJCgiZGlzcGxheV9uYW1lJHN0cmluZyIpLmdldFZhbHVlKCkgfHwgIiIsCnR5cGUkc3RyaW5nOiAiY2hhdC5maWxlLnVwbG9hZCIsCmZpbGVfbmFtZSRzdHJpbmc6IHQuZmlsZV9uYW1lIHx8ICIiLApmaWxlX3R5cGUkc3RyaW5nOiB0LmZpbGVfdHlwZSB8fCAiIiwKZmlsZV9zaXplJGludDogdC5maWxlX3NpemUgfHwgMCwKdW52ZXJpZmllZCRib29sOiAhMCwKX19jbGllbnQkYm9vbDogITAKfSk7CnJldHVybiBpOwp9CmZ1bmN0aW9uIGEodCwgZSkgewpmdW5jdGlvbiBpKHQpIHsKaWYgKCJvayIgIT09IHQucmF3Ll9fc3RhdHVzKSByZXR1cm4gZShuZXcgd2luZG93LkVycm9yKGQodC5yYXcuZXJyb3IpKSk7CmlmICghdC5yYXcuZGF0YSB8fCAiY2hhdC5maWxlIiAhPT0gdC5yYXcuZGF0YS50eXBlKSByZXR1cm4gZShuZXcgd2luZG93LkVycm9yKCJJTlRFUk5BTF9FUlJPUiIpKTsKZShudWxsLCB3LnBpY2sodC5yYXcuZGF0YSwgWyAibWltZV90eXBlIiwgIm5hbWUiLCAic2l6ZSIsICJ1cmwiLCAibWV0YWRhdGEiIF0pKTsKfQp2YXIgbiA9IHkuX3ZhbGlkYXRlQW5kUHJlcGFyZURhdGEoWyB0IF0pOwplID0gcC5vbmNlKGUpOwppZiAoZihuKSkgZyhmdW5jdGlvbigpIHsKZShuZXcgd2luZG93LkVycm9yKG4pKTsKfSk7IGVsc2Ugewp2YXIgbyA9IGMucmVnaXN0ZXJDYWxsYmFjayhpKSwgciA9ICJodHRwczovLyIgKyBuLmhvc3QgKyBtLkNBTExCQUNLX0ZJTEVfVVBMT0FEX1BBVEgsIGEgPSB7CnRzOiBwYXJzZUludChjLmdldFNlcnZlclRpbWUoKS50b0ZpeGVkKDApLCAxMCksCl9fbWVzc2FnZUlEOiBvLApfX3NvY2tldElEOiBjLmdldFNvY2tldElEKCkKfSwgcyA9IHsKIlgtWm9waW0tTUlEIjogbi5taWQsCiJYLVpvcGltLVVJRCI6IG4udWlkCn0sIF8gPSB7CmVycm9yOiBmdW5jdGlvbigpIHsKZShuZXcgd2luZG93LkVycm9yKCJDT05OX0VSUk9SIikpOwp9LApsb2FkOiBmdW5jdGlvbigpIHsKaWYgKDIwMCAhPT0gdGhpcy5zdGF0dXMpIHsKdmFyIHQ7CnRyeSB7CnQgPSBKU09OLnBhcnNlKHRoaXMucmVzcG9uc2VUZXh0KTsKfSBjYXRjaCAodCkge30KZSh0ICYmIHQuZXJyb3IgPyBuZXcgd2luZG93LkVycm9yKGQodC5lcnJvcikpIDogbmV3IHdpbmRvdy5FcnJvcigiSU5URVJOQUxfRVJST1IiKSk7Cn0KfQp9Owp5Ll91cGxvYWRGaWxlcyhuLmZvcm1fZGF0YSwgciwgYSwgcywgXyk7Cn0KfQpmdW5jdGlvbiBzKHQsIGUpIHsKdmFyIGkgPSB5Ll92YWxpZGF0ZUFuZFByZXBhcmVEYXRhKHQpOwppZiAoZihpKSkgcmV0dXJuIGk7CnZhciBuID0gcih7CmZpbGVfbmFtZTogaS5uYW1lLApmaWxlX3R5cGU6IGkudHlwZSwKZmlsZV9zaXplOiBpLnNpemUKfSwgZSksIG8gPSAiaHR0cHM6Ly8iICsgaS5ob3N0ICsgbS5GSUxFX1VQTE9BRF9QQVRILCBhID0gewp0czogbgp9LCBzID0gewoiWC1ab3BpbS1NSUQiOiBpLm1pZCwKIlgtWm9waW0tVUlEIjogaS51aWQKfTsKeS5fdXBsb2FkRmlsZXMoaS5mb3JtX2RhdGEsIG8sIGEsIHMpOwp9CmZ1bmN0aW9uIF8odCkgewppZiAoIXdpbmRvdy5Gb3JtRGF0YSkgcmV0dXJuICJOT1RfU1VQUE9SVEVEIjsKdmFyIGUgPSB1LiQoImxpdmVjaGF0IiksIGkgPSBlLiQoInNldHRpbmdzIikuJCgiZmlsZV9zZW5kaW5nIiksIG4gPSBlLiQoInNldHRpbmdzIikuJCgicGFja2FnZSIpLCBvID0gaS4kKCJlbmFibGVkJGJvb2wiKS5nZXRWYWx1ZSgpLCByID0gKGkuJCgiYWxsb3dlZF9leHRlbnNpb25zJHN0cmluZyIpLmdldFZhbHVlKCkgfHwgIiIpLnRyaW0oKS5yZXBsYWNlKC9ccyosXHMqL2csICIsIikuc3BsaXQoIiwiKSwgYSA9IG4uJCgiY29sb3JfY3VzdG9taXphdGlvbl9lbmFibGVkJGludCIpLmdldFZhbHVlKCkgfHwgbi4kKCJ3aWRnZXRfY3VzdG9taXphdGlvbl9lbmFibGVkJGludCIpLmdldFZhbHVlKCksIHMgPSBlLiQoInByb2ZpbGUiKS4kKCJtaWQkc3RyaW5nIikuZ2V0VmFsdWUoKSwgXyA9IGUuJCgicHJvZmlsZSIpLiQoInVpZCRzdHJpbmciKS5nZXRWYWx1ZSgpLCBsID0gYy5nZXRIb3N0KCksIGQgPSBuZXcgd2luZG93LkZvcm1EYXRhKCksIGggPSBbXSwgZiA9IFtdLCBnID0gMDsKaWYgKCFsKSByZXR1cm4gIkNPTk5fRVJST1IiOwppZiAoIWEpIHJldHVybiAiSU5WQUxJRF9QTEFOIjsKaWYgKCFvKSByZXR1cm4gIk5PVF9BTExPV0VEIjsKZm9yICh2YXIgcCA9IDAsIGIgPSB0Lmxlbmd0aDsgcCA8IGI7IHArKykgewppZiAoISQuaXNWYWxpZFR5cGUodFtwXS5uYW1lLCByKSkgcmV0dXJuICJJTlZBTElEX0VYVEVOU0lPTiI7CmgucHVzaCh0W3BdLm5hbWUpOwpmLnB1c2godFtwXS50eXBlKTsKZyArPSB0W3BdLnNpemUgfHwgMDsKZC5hcHBlbmQoImZpbGVfIiArIHRbcF0ubmFtZSwgdFtwXSk7Cn0KcmV0dXJuIGcgPiBtLkZJTEVfVVBMT0FEX01BWCA/ICJFWENFRURfU0laRV9MSU1JVCIgOiB7CmZvcm1fZGF0YTogZCwKbmFtZTogaC5qb2luKCIsICIpLAp0eXBlOiBmLmpvaW4oIiwgIiksCnNpemU6IGcsCmhvc3Q6IGwsCm1pZDogcywKdWlkOiBfCn07Cn0KZnVuY3Rpb24gbCh0LCBlLCBpLCBuLCBvKSB7CnZhciByID0gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCgpLCBhID0gZSArIChPYmplY3Qua2V5cyhpKS5sZW5ndGggPyAiPyIgKyBiLmJ1aWxkUXVlcnkoaSkgOiAiIik7CmlmIChyLnVwbG9hZCkgewpyLm9wZW4oIlBPU1QiLCBhLCAhMCk7CmZvciAodmFyIHMgaW4gbikgbi5oYXNPd25Qcm9wZXJ0eShzKSAmJiByLnNldFJlcXVlc3RIZWFkZXIocywgbltzXSk7CmZvciAodmFyIF8gaW4gbykgby5oYXNPd25Qcm9wZXJ0eShfKSAmJiByLmFkZEV2ZW50TGlzdGVuZXIoXywgb1tfXSk7CnIuc2VuZCh0KTsKfQp9CmZ1bmN0aW9uIGQodCkgewpyZXR1cm4gdlt0XSB8fCAiVU5LTk9XTl9FUlJPUiI7Cn0KdmFyIHUsIGMsIGgsIGYgPSBpKDIyKSwgZyA9IGkoMTYpLCBwID0gaSg0MCksIG0gPSBpKDE4KSwgJCA9IGkoNjQpLCBiID0gaSgzNiksIHcgPSBpKDExKSwgeCA9IHsKTk9UX1NVUFBPUlRFRDogIk5PVF9TVVBQT1JURUQiLApOT1RfQUxMT1dFRDogIk5PVF9BTExPV0VEIiwKQ09OTl9FUlJPUjogIkNPTk5fRVJST1IiLApJTlZBTElEX0VYVEVOU0lPTjogIklOVkFMSURfRVhURU5TSU9OIiwKSU5WQUxJRF9QTEFOOiAiSU5WQUxJRF9QTEFOIiwKRVhDRUVEX1NJWkVfTElNSVQ6ICJFWENFRURfU0laRV9MSU1JVCIsCklOVEVSTkFMX0VSUk9SOiAiSU5URVJOQUxfRVJST1IiLApVTktOT1dOX0VSUk9SOiAiVU5LTk9XTl9FUlJPUiIKfSwgdiA9IHsKVE9PX0xBUkdFOiAiRVhDRUVEX1NJWkVfTElNSVQiLApJTExFR0FMX1RZUEU6ICJJTlZBTElEX0VYVEVOU0lPTiIsCk5PX1NFU1NJT046ICJJTlRFUk5BTF9FUlJPUiIsClVORVhQRUNURURfRVJST1I6ICJJTlRFUk5BTF9FUlJPUiIsClVOQUJMRV9UT19HRVRfU0VUVElOR1M6ICJJTlRFUk5BTF9FUlJPUiIsClMzX1VQTE9BRF9FUlJPUjogIklOVEVSTkFMX0VSUk9SIiwKTk9fR0FURVM6ICJJTlRFUk5BTF9FUlJPUiIsCkZJTEVfVVBMT0FEU19ESVNBQkxFRDogIk5PVF9BTExPV0VEIiwKRklMRV9VUExPQURTX1RFTVBPUkFSSUxZX0RJU0FCTEVEOiAiSU5WQUxJRF9QTEFOIgp9LCB5ID0gewpGSUxFX1NFTkRJTkdfRVJST1JTOiB4LAppbml0OiBuLApzZW5kQ2hhdE1zZzogbywKc2VuZEZpbGVzOiBzLApzZW5kRmlsZVdpdGhDYWxsYmFjazogYSwKX3ZhbGlkYXRlQW5kUHJlcGFyZURhdGE6IF8sCl91cGxvYWRGaWxlczogbAp9Owp0LmV4cG9ydHMgPSB5Owp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4odCkgewpnID0gdCB8fCB3aW5kb3c7CmggPSBnLmVuY29kZVVSSUNvbXBvbmVudDsKZiA9IGcuZGVjb2RlVVJJQ29tcG9uZW50Owp9CmZ1bmN0aW9uIG8odCkgewpyZXR1cm4gInN0cmluZyIgPT0gdHlwZW9mIHQgJiYgIiIgIT0gdDsKfQpmdW5jdGlvbiByKCkgewp2YXIgdCwgZSwgaSwgbiwgbyA9IGcuZG9jdW1lbnQuY29va2llLCByID0ge307CmlmICghbyB8fCAic3RyaW5nIiAhPSB0eXBlb2YgbykgcmV0dXJuIHt9OwpvID0gby5zcGxpdCgvO1xzLyk7CmZvciAodCA9IG8ubGVuZ3RoOyB0LS07ICkgdHJ5IHsKZSA9IG9bdF0ubWF0Y2goL14oW149XSspKD0oLiopKT8kLyk7CmlmICghZSkgY29udGludWU7CmkgPSBmKGVbMV0pOwpuID0gZihlWzNdIHx8ICIiKTsKcltpXSA9IG47Cn0gY2F0Y2ggKHQpIHt9CnJldHVybiByOwp9CmZ1bmN0aW9uIGEodCkgewpyZXR1cm4gbyh0KSA/IHIoKVt0XSB8fCBudWxsIDogbnVsbDsKfQpmdW5jdGlvbiBzKHQpIHsKdmFyIGUgPSBhKHQpLCBpID0ge307CnRyeSB7CmkgPSB1LnBhcnNlKGUpOwp9IGNhdGNoICh0KSB7fQpyZXR1cm4gaSAmJiAib2JqZWN0IiA9PSB0eXBlb2YgaSA/IGkgOiB7fTsKfQpmdW5jdGlvbiBfKHQsIGUsIGkpIHsKaSA9IGkgfHwge307CnZhciBuID0gaCh0KSArICI9IiArIGgoZSk7CmlmICgidHRsIiBpbiBpKSB7CnZhciBvID0gbmV3IERhdGUoKSwgciA9IDI0ICogaS50dGwgKiA2MCAqIDYwICogMWUzOwpvLnNldFRpbWUoby5nZXRUaW1lKCkgKyByKTsKbiArPSAiOyBleHBpcmVzPSIgKyBvLnRvR01UU3RyaW5nKCk7Cn0KInBhdGgiIGluIGkgJiYgKG4gKz0gIjsgcGF0aD0iICsgaS5wYXRoKTsKImRvbWFpbiIgaW4gaSAmJiAobiArPSAiOyBkb21haW49IiArIGkuZG9tYWluKTsKaS5zZWN1cmUgJiYgKG4gKz0gIjsgc2VjdXJlIik7CmcuZG9jdW1lbnQuY29va2llID0gbjsKfQpmdW5jdGlvbiBsKHQsIGUsIGkpIHsKIm9iamVjdCIgIT0gdHlwZW9mIGUgJiYgKGUgPSB7fSk7Cl8odCwgdS5zdHJpbmdpZnkoZSksIGkpOwp9CmZ1bmN0aW9uIGQodCwgZSkgewplID0gZSB8fCB7fTsKZS50dGwgPSAtMTsKXyh0LCAiIiwgZSk7Cn0KdmFyIHUgPSBpKDU2KSwgYyA9IHsKc2V0OiBfLApnZXQ6IGEsCmdldEpTT05Db29raWU6IHMsCnNldEpTT05Db29raWU6IGwsCnJlbW92ZTogZCwKc2V0QWN0aXZpdHlXaW5kb3c6IG4KfSwgaCA9IHdpbmRvdy5lbmNvZGVVUklDb21wb25lbnQsIGYgPSB3aW5kb3cuZGVjb2RlVVJJQ29tcG9uZW50LCBnID0gd2luZG93Owp0LmV4cG9ydHMgPSBjOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4odCwgZSwgaSwgbywgdSkgewp2YXIgYywgaCwgZiwgZywgcCwgbSwgJCA9IFtdLCBiID0gW107CmZvciAoYyBpbiB0KSBpZiAodC5oYXNPd25Qcm9wZXJ0eShjKSkgewpoID0gdFtjXTsKZiA9IHZvaWQgMDsKaWYgKCJAa2V5ZnJhbWVzIiA9PSBjKSB7CmZvciAodmFyIHcgaW4gaCkgaWYgKGguaGFzT3duUHJvcGVydHkodykpIHsKbSA9IHcgKyAiIHsgIiArIG4oaFt3XSkuam9pbigiICIpICsgIiB9ICI7CmIucHVzaCgiQC13ZWJraXQta2V5ZnJhbWVzICIgKyBtLCAiQC1tb3ota2V5ZnJhbWVzICIgKyBtLCAiQC1tcy1rZXlmcmFtZXMgIiArIG0sICJALW8ta2V5ZnJhbWVzICIgKyBtLCAiQGtleWZyYW1lcyAiICsgbSk7Cn0KY29udGludWU7Cn0KIkBtZWRpYSIgPT0gYy5zbGljZSgwLCA2KSAmJiAoYyA9IFsgYywgIkBtZWRpYWVuZCIgXS5qb2luKCIiKSk7CnN3aXRjaCAodHlwZW9mIGgpIHsKY2FzZSAiYm9vbGVhbiI6CmNhc2UgIm51bWJlciI6CmNhc2UgInN0cmluZyI6CmYgPSBjLnNwbGl0KCIsIik7CmZvciAoZyA9IDAsIHAgPSBmLmxlbmd0aDsgZyA8IHA7IGcrKykgJC5wdXNoKHIudG9TdHlsZShmW2ddLCBoKSk7CmJyZWFrOwoKZGVmYXVsdDoKaWYgKGEoaCkpIHsKZm9yIChnID0gMCwgcCA9IGgubGVuZ3RoOyBnIDwgcDsgZysrKSAkLnB1c2goci50b1N0eWxlKGMsIGhbZ10pKTsKYnJlYWs7Cn0KaWYgKF8ucGxhY2Vob2xkZXIudGVzdChjKSkgewptID0gYy5yZXBsYWNlKF8ucGxhY2Vob2xkZXIsICIiKTsKZiA9IFtdOwpmb3IgKGcgPSAwLCBwID0gbC5wbGFjZWhvbGRlci5sZW5ndGg7IGcgPCBwOyBnKyspIGYucHVzaChkKFsgbSwgbC5wbGFjZWhvbGRlcltnXSBdKSk7Cn0KYShmKSB8fCAoZiA9IGMuc3BsaXQoIiwiKSk7CmZvciAoZyA9IDAsIHAgPSBmLmxlbmd0aDsgZyA8IHA7IGcrKykgYiA9IGIuY29uY2F0KG4oaCwgZltnXS50cmltKCkpKTsKfQp9CmlmICgkLmxlbmd0aCkgewppZiAoIXUpIHsKJC51bnNoaWZ0KCJ7Iik7CiQucHVzaCgifSIpOwp9CmIucHVzaCgkLmpvaW4oIiIpKTsKfQppZiAoZSB8fCBpIHx8IG8gJiYgIShzLmlzSUUgPCA5KSkgZm9yIChnID0gMCwgcCA9IGIubGVuZ3RoOyBnIDwgcDsgZysrKSB7CmUgJiYgKGJbZ10gPSBbIGUucmVwbGFjZShfLnJlcGxhY2VQc2V1ZG8sICIuJDEiKSwgIiAiLCBiW2ddIF0uam9pbigiIikpOwppICYmIChiW2ddID0gYltnXS5yZXBsYWNlKF8ucHJlUHJlcGVuZEZRTmFtZSwgIiAiKS5yZXBsYWNlKF8ucHJlcGVuZEZRTmFtZSwgaSkpOwpvICYmIChiW2ddID0gYltnXS5yZXBsYWNlKF8ucmVwbGFjZUFwcGVuZCwgIiIpKTsKbyAmJiAtMSAhPT0gYltnXS5pbmRleE9mKCJAbWVkaWEiKSAmJiAoYltnXSA9IGJbZ10ucmVwbGFjZShfLnJlcGxhY2VNZWRpYSwgIiQyIHsgJDEgJDMgfSIpKTsKfQpyZXR1cm4gYjsKfQp2YXIgbyA9IGkoOTcpLCByID0gaSgxODEpLCBhID0gaSgyMSksIHMgPSBpKDgpLCBfID0gby5SRUdFWCwgbCA9IHsKcGxhY2Vob2xkZXI6IFsgIjo6LXdlYmtpdC1pbnB1dC1wbGFjZWhvbGRlciIsICI6LW1vei1wbGFjZWhvbGRlciIsICI6Oi1tb3otcGxhY2Vob2xkZXIiLCAiOi1tcy1pbnB1dC1wbGFjZWhvbGRlciIsICIucGxhY2Vob2xkZXIiIF0KfSwgZCA9IG8uam9pbjsKdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKCkgewpuID0gZnVuY3Rpb24oKSB7fTsKZm9yICh2YXIgdCA9IFsgIk1veiIsICJ3ZWJraXQiLCAibXMiIF0sIGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKS5zdHlsZSwgaSA9IHAubGVuZ3RoOyBpLS07ICkgewp2YXIgciA9IHBbaV07Cm1bcl0gPSBmdW5jdGlvbihpKSB7CmlmIChpIGluIGUpIHJldHVybiBpOwpmb3IgKHZhciBuID0gaS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGkuc2xpY2UoMSksIHIgPSB0Lmxlbmd0aDsgci0tOyApIHsKaWYgKHRbcl0gKyBuIGluIGUpIHJldHVybiAiLSIgKyB0W3JdLnRvTG93ZXJDYXNlKCkgKyAiLSIgKyBvKGkpOwp9CnJldHVybiBpOwp9KHIpOwp9Cn0KZnVuY3Rpb24gbyh0KSB7CnJldHVybiB0LnJlcGxhY2UoZi5zZWxlY3RvckNhc2UsICItJDEiKS5yZXBsYWNlKGYuY29tbWFTdGFydCwgIiIpLnRvTG93ZXJDYXNlKCk7Cn0KZnVuY3Rpb24gcih0LCBlKSB7Cm4oKTsKdmFyIGk7CmUgKz0gIiI7CmlmIChmLmlzVmFyaWFibGUudGVzdChlKSkgcmV0dXJuIHQgKyAiOiIgKyBlICsgIjsiOwppZiAoIiFpbXBvcnRhbnQiID09PSBlLnN1YnN0cigtMTApKSB7CmkgPSAhMDsKZSA9IGUuc3Vic3RyKDAsIGUubGVuZ3RoIC0gMTApLnRyaW0oKTsKfQpzd2l0Y2ggKCEwKSB7CmNhc2UgImJhY2tncm91bmQiID09PSB0OgpyZXR1cm4gcyhlLCBpKTsKCmNhc2UgImRpc3BsYXkiID09PSB0OgpyZXR1cm4gaC5idWdzLm5vQm94U2l6aW5nICYmICJpbmxpbmUtYmxvY2siID09IGUgPyAiIiArIGEoImRpc3BsYXkiLCAiaW5saW5lIiwgaSkgKyBhKCJ6b29tIiwgIjEiLCBpKSA6IGEoImRpc3BsYXkiLCBlLCBpKTsKCmNhc2UgdCBpbiBtOgpyZXR1cm4gYShtW3RdLCBlLCBpKTsKCmRlZmF1bHQ6CnJldHVybiBhKG8odCksIGUsIGkpOwp9Cn0KZnVuY3Rpb24gYSh0LCBlLCBpKSB7CnJldHVybiB0ICsgIjoiICsgZSArIChpID8gIiFpbXBvcnRhbnQ7IiA6ICI7Iik7Cn0KZnVuY3Rpb24gcyh0LCBlKSB7CnZhciBpLCBuID0gW107CmkgPSB0LnNwbGl0KCIgIik7CnN3aXRjaCAoaVswXSkgewpjYXNlICJsaW5lYXItZ3JhZGllbnQiOgppLnNwbGljZSgwLCAxKTsKdCA9IGkuam9pbigiICIpOwpuLnB1c2goYSgiYmFja2dyb3VuZCIsICItd2Via2l0LWxpbmVhci1ncmFkaWVudCIgKyB0LCBlKSwgYSgiYmFja2dyb3VuZCIsICItby1saW5lYXItZ3JhZGllbnQiICsgdCwgZSksIGEoImJhY2tncm91bmQiLCAiLW1vei1saW5lYXItZ3JhZGllbnQiICsgdCwgZSksIGEoImJhY2tncm91bmQiLCAiLW1zLWxpbmVhci1ncmFkaWVudCIgKyB0LCBlKSwgYSgiYmFja2dyb3VuZCIsICItbGluZWFyLWdyYWRpZW50IiArIHQsIGUpKTsKYnJlYWs7CgpjYXNlICJncmFkaWVudCI6CnZhciBvLCByOwpuLnB1c2goYSgiYmFja2dyb3VuZCIsIF8oaVsyXSwgaVszXSksIGUpKTsKInRvcCIgPT0gaVsxXSAmJiAobyA9ICJib3R0b20iKTsKImxlZnQiID09IGlbMV0gJiYgKG8gPSAicmlnaHQiKTsKInJpZ2h0IiA9PSBpWzFdICYmIChvID0gImxlZnQiKTsKImJvdHRvbSIgPT0gaVsxXSAmJiAobyA9ICJ0b3AiKTsKciA9ICQoWyAiKCIsIGlbMV0sICIsIiwgaVsyXSwgIiwiLCBpWzNdLCAiKSIgXSk7Cm4ucHVzaChhKCJiYWNrZ3JvdW5kIiwgIi1vLWxpbmVhci1ncmFkaWVudCIgKyByLCBlKSwgYSgiYmFja2dyb3VuZCIsICItbW96LWxpbmVhci1ncmFkaWVudCIgKyByLCBlKSwgYSgiYmFja2dyb3VuZCIsICItbXMtbGluZWFyLWdyYWRpZW50IiArIHIsIGUpLCBhKCJiYWNrZ3JvdW5kIiwgImxpbmVhci1ncmFkaWVudCIgKyByLCBlKSk7CmlmICgibGVmdCIgPT0gaVsxXSB8fCAicmlnaHQiID09IGlbMV0pIHsKbi5wdXNoKGEoImJhY2tncm91bmQiLCAkKFsgIi13ZWJraXQtZ3JhZGllbnQobGluZWFyLCIsIGlbMV0sICIgY2VudGVyLCIsIG8sICIgY2VudGVyLCIsICJmcm9tKCIsIGlbMl0sICIpLHRvKCIsIGlbM10sICIpKSIgXSkpKTsKciA9ICQoWyAicHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KHN0YXJ0Q29sb3JzdHI9IiwgbChpWzJdKSwgIiwgZW5kQ29sb3JzdHI9IiwgbChpWzNdKSwgIiwgR3JhZGllbnRUeXBlPTEpIiBdKTsKbi5wdXNoKGEoImZpbHRlciIsIHIsIGUpLCBhKCItbXMtZmlsdGVyIiwgciwgZSkpOwp9IGVsc2UgewpuLnB1c2goYSgiYmFja2dyb3VuZCIsICQoWyAiLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIiwgImNlbnRlciAiLCBpWzFdLCAiLCIsICJjZW50ZXIgIiwgbywgIiwiLCAiZnJvbSgiLCBpWzJdLCAiKSx0bygiLCBpWzNdLCAiKSkiIF0pKSk7CnIgPSAkKFsgInByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5ncmFkaWVudChzdGFydENvbG9yc3RyPSIsIGwoaVsyXSksICIsIGVuZENvbG9yc3RyPSIsIGwoaVszXSksICIpIiBdKTsKbi5wdXNoKGEoImZpbHRlciIsIHIsIGUpLCBhKCItbXMtZmlsdGVyIiwgciwgZSkpOwp9CmJyZWFrOwoKZGVmYXVsdDoKbi5wdXNoKGEoImJhY2tncm91bmQiLCB0LCBlKSk7Cn0KcmV0dXJuIG4uam9pbigiIik7Cn0KZnVuY3Rpb24gXyh0LCBlKSB7CmZ1bmN0aW9uIGkoaSkgewpyZXR1cm4gKDE2ICogTWF0aC5yb3VuZCgocGFyc2VJbnQodC5zdWJzdHJpbmcoaSwgaSArIDIpLCAxNikgKyBwYXJzZUludChlLnN1YnN0cmluZyhpLCBpICsgMiksIDE2KSkgLyAzMikpLnRvU3RyaW5nKDE2KTsKfQoicmdiIiA9PSB0LnNsaWNlKDAsIDMpICYmICh0ID0gZCh0LCAhMCkpOwoicmdiIiA9PSBlLnNsaWNlKDAsIDMpICYmIChlID0gZChlLCAhMCkpOwp0ID0gbCh0KS5zdWJzdHJpbmcoMSk7CmUgPSBsKGUpLnN1YnN0cmluZygxKTsKcmV0dXJuICIjIiArIGkoMCkgKyBpKDIpICsgaSg0KTsKfQpmdW5jdGlvbiBsKHQpIHsKaWYgKCJzdHJpbmciICE9IHR5cGVvZiB0KSByZXR1cm4gIiI7CnZhciBlOwplID0gIiMiID09IHQuY2hhckF0KDApID8gdC5zdWJzdHJpbmcoMSkgOiB0OwppZiAoInJnYiIgPT0gZS5zbGljZSgwLCAzKSkgcmV0dXJuIGQoZSk7CjMgPT0gZS5sZW5ndGggJiYgKGUgPSBlLmNoYXJBdCgwKSArIGUuY2hhckF0KDApICsgZS5jaGFyQXQoMSkgKyBlLmNoYXJBdCgxKSArIGUuY2hhckF0KDIpICsgZS5jaGFyQXQoMikpOwpyZXR1cm4gIiMiICsgZTsKfQpmdW5jdGlvbiBkKHQsIGUpIHsKdCA9IHQuc2xpY2UoNSwgLTEpOwp0ID0gdC5zcGxpdCgiLCIpOwppZiAoMyA9PSB0Lmxlbmd0aCB8fCBlKSByZXR1cm4gIiMiICsgdSh0WzBdKSArIHUodFsxXSkgKyB1KHRbMl0pOwp0WzNdID0gKDI1NSAqIHBhcnNlRmxvYXQodFszXSwgMTApKS50b0ZpeGVkKCk7CnJldHVybiAiIyIgKyB1KHRbM10pICsgdSh0WzBdKSArIHUodFsxXSkgKyB1KHRbMl0pOwp9CmZ1bmN0aW9uIHUodCkgewp0ID0gcGFyc2VJbnQodCwgMTApLnRvU3RyaW5nKDE2KTsKMSA9PSB0Lmxlbmd0aCAmJiAodCA9ICIwIiArIHQpOwpyZXR1cm4gdDsKfQp2YXIgYyA9IGkoOTcpLCBoID0gaSg4KSwgZiA9IGMuUkVHRVgsIGcgPSB7CnRvU3R5bGU6IHIKfSwgcCA9IFsgImFuaW1hdGlvbiIsICJ1c2VyU2VsZWN0IiwgImFwcGVhcmFuY2UiLCAidHJhbnNmb3JtIiwgInRyYW5zZm9ybU9yaWdpbiIgXSwgbSA9IHt9LCAkID0gYy5qb2luOwp0LmV4cG9ydHMgPSBnOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4odCwgZSwgaSwgbikgewp0IHx8ICh0ID0gZG9jdW1lbnQpOwp2YXIgciA9IG8odCwgZSk7CmlmIChyKSBpZiAobikgci5zdHlsZVNoZWV0ID8gci5zdHlsZVNoZWV0LmNzc1RleHQgPSBpIDogcltzID8gInRleHRDb250ZW50IiA6ICJpbm5lclRleHQiXSA9IGk7IGVsc2UgaWYgKHIuc3R5bGVTaGVldCkgci5zdHlsZVNoZWV0LmNzc1RleHQgPSBbIHIuc3R5bGVTaGVldC5jc3NUZXh0LCBpIF0uam9pbigiIik7IGVsc2Ugewp2YXIgYSA9IHQuY3JlYXRlVGV4dE5vZGUoaSk7CnIuYXBwZW5kQ2hpbGQoYSk7Cn0gZWxzZSB7CnIgPSB0LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7CnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXS5hcHBlbmRDaGlsZChyKTsKci50eXBlID0gInRleHQvY3NzIjsKZSAmJiByLnNldEF0dHJpYnV0ZSgiX19qeF9fc3R5bGVzaGVldF9pZCIsIGUpOwppZiAodm9pZCAwICE9PSByLnN0eWxlU2hlZXQpIHsKaWYgKCFyLnN0eWxlU2hlZXQpIHsKdC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLnJlbW92ZUNoaWxkKHIpOwpyID0gbnVsbDsKcmV0dXJuOwp9CnIuc3R5bGVTaGVldC5jc3NUZXh0ID0gaTsKfSBlbHNlIHJbcyA/ICJ0ZXh0Q29udGVudCIgOiAiaW5uZXJUZXh0Il0gPSBpOwp9Cn0KZnVuY3Rpb24gbyh0LCBlKSB7CmlmIChlKSB7CnQgfHwgKHQgPSBkb2N1bWVudCk7CmZvciAodmFyIGkgPSAwLCBuID0gdC5zdHlsZVNoZWV0cy5sZW5ndGg7IGkgPCBuOyBpKyspIGlmICgodC5zdHlsZVNoZWV0c1tpXS5vd25lck5vZGUgJiYgdC5zdHlsZVNoZWV0c1tpXS5vd25lck5vZGUuZ2V0QXR0cmlidXRlKCJfX2p4X19zdHlsZXNoZWV0X2lkIikgfHwgdC5zdHlsZVNoZWV0c1tpXS5vd25pbmdFbGVtZW50ICYmIHQuc3R5bGVTaGVldHNbaV0ub3duaW5nRWxlbWVudC5nZXRBdHRyaWJ1dGUoIl9fanhfX3N0eWxlc2hlZXRfaWQiKSkgPT0gZSkgcmV0dXJuIHQuc3R5bGVTaGVldHNbaV0ub3duZXJOb2RlICYmIHQuc3R5bGVTaGVldHNbaV0ub3duZXJOb2RlIHx8IHQuc3R5bGVTaGVldHNbaV0ub3duaW5nRWxlbWVudCAmJiB0LnN0eWxlU2hlZXRzW2ldLm93bmluZ0VsZW1lbnQ7Cn0KfQp2YXIgciA9IGkoOCksIGEgPSB7CnNldFN0eWxlU2hlZXQ6IG4KfSwgcyA9IHIuaXNUZXh0Q29udGVudDsKdC5leHBvcnRzID0gYTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQpIHsKZm9yICh2YXIgZSA9IDAsIGkgPSBoLmxlbmd0aDsgZSA8IGk7IGUrKykgaWYgKHQgPT09IGhbZV0pIHJldHVybjsKaC5wdXNoKHQpOwpmb3IgKHZhciBuIGluIGwuY2FjaGUpIGwuY2FjaGUuaGFzT3duUHJvcGVydHkobikgJiYgZC5zZXRTdHlsZVNoZWV0KHQuaWRvYywgImpjc3MiICsgbiwgbC5jYWNoZV9yZXBsYWNlZFtuXSk7Cn0KZnVuY3Rpb24gbyh0KSB7CmZvciAodmFyIGUgPSAwLCBpID0gaC5sZW5ndGg7IGUgPCBpOyBlKyspIHQgPT09IGhbZV0gJiYgaC5zcGxpY2UoZSwgMSk7Cn0KZnVuY3Rpb24gcih0KSB7Cl8gPSB1KHQpOwp9CmZ1bmN0aW9uIGEoKSB7CnJldHVybiBfOwp9CmZ1bmN0aW9uIHMoKSB7CnJldHVybiBoOwp9CnZhciBfLCBsID0gaSg5NiksIGQgPSBpKDE4MiksIHUgPSBpKDEyKSwgYyA9IHsKYmluZElGcmFtZTogbiwKdW5iaW5kSUZyYW1lOiBvLApzZXRJRnJhbWVPbmx5OiByLApnZXRJRnJhbWVPbmx5OiBhLApnZXRJRnJhbWVzOiBzCn0sIGggPSBbXTsKdC5leHBvcnRzID0gYzsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQsIGUsIGksIG8sIHIpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIG4pKSByZXR1cm4gbmV3IG4odCwgZSwgaSwgbywgcik7CnZhciBzID0gdC5vd25lckRvY3VtZW50OwpyIHx8IChyID0ge30pOwpyLnRhZ05hbWUgfHwgKHIudGFnTmFtZSA9ICJzdHlsZSIpOwphLmNhbGwodGhpcywgcy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLCBlLCBpLCBudWxsLCByKTsKdGhpcy5kb20udHlwZSA9ICJ0ZXh0L2NzcyI7CnRoaXMuYWRkQ2hpbGRyZW4obyk7Cn0KdmFyIG8gPSBpKDEpLCByID0gaSgwKSwgYSA9IGkoNyk7Cm4ucHJvdG90eXBlID0gcihhLnByb3RvdHlwZSk7Cm8obiwgYSwgewpmcW5hbWU6ICJqeF91aV9TdHlsZVNoZWV0Igp9KTsKbi5wcm90b3R5cGUuZ2V0VGV4dCA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gdGhpcy5kb20uc3R5bGVTaGVldCA/IHRoaXMuZG9tLnN0eWxlU2hlZXQuY3NzVGV4dCA6IGEucHJvdG90eXBlLmdldFRleHQuY2FsbCh0aGlzKTsKfTsKbi5wcm90b3R5cGUuYWRkQ2hpbGRyZW4gPSBmdW5jdGlvbih0KSB7CmlmICh0ICYmIHQubGVuZ3RoKSBpZiAoInN0eWxlU2hlZXQiIGluIHRoaXMuZG9tKSB7CmlmICghdGhpcy5kb20uc3R5bGVTaGVldCkgewp0aGlzLmRlc3Ryb3koKTsKcmV0dXJuOwp9CnRoaXMuZG9tLnN0eWxlU2hlZXQuY3NzVGV4dCArPSB0LmpvaW4oIiIpOwp9IGVsc2UgYS5wcm90b3R5cGUuYWRkQ2hpbGRyZW4uY2FsbCh0aGlzLCBbIHQuam9pbigiIikgXSk7Cn07CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0KSB7CnQucHJldmVudERlZmF1bHQgPSBuLnByZXZlbnREZWZhdWx0Owp0LnN0b3BQcm9wYWdhdGlvbiA9IG4uc3RvcFByb3BhZ2F0aW9uOwp0LnRhcmdldCA9IHQuc3JjRWxlbWVudDsKfQpmdW5jdGlvbiBvKCkgewp0aGlzLmFsbENhbGxiYWNrcyA9IHt9Owp0aGlzLm5hdGl2ZUhhbmRsZXJzID0ge307Cn0KdmFyIHIgPSBpKDgpLCBhID0gaSgxNCk7Cm4ucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbigpIHsKdGhpcy5yZXR1cm5WYWx1ZSA9ICExOwp9OwpuLnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uKCkgewp0aGlzLmNhbmNlbEJ1YmJsZSA9ICEwOwp9OwpvLnByb3RvdHlwZS51c2VDdXN0b21IYW5kbGluZyA9IGZ1bmN0aW9uKHQpIHsKcmV0dXJuICF0aGlzLmRvbS5ub2RlVHlwZSAmJiB0aGlzLmRvbSAhPSB3aW5kb3cgJiYgdGhpcy5kb20gIT0gZG9jdW1lbnQgfHwgKCJmb3JtIiAhPSB0aGlzLnRhZ05hbWUudG9Mb3dlckNhc2UoKSB8fCAic3VibWl0IiAhPSB0KSAmJiAoIXIuaXNDdXN0b21FdmVudHMgJiYgKHIuaXNGRiAmJiByLmlzRkYgPCA5ID8gIWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJldmVudCIpW3QudG9VcHBlckNhc2UoKV0gOiB2b2lkIDAgPT09IHRoaXMuZG9tWyJvbiIgKyB0XSkpOwp9OwpvLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24odCwgZSkgewppZiAoIXQgJiYgImZ1bmN0aW9uIiAhPSB0eXBlb2YgZSkgdGhyb3cgImJhZCBhcmd1bWVudHMgdG8gb24gLyBhZGRFdmVudExpc3RlbmVyIjsKaWYgKCEodCBpbiB0aGlzLmFsbENhbGxiYWNrcykpIHsKdGhpcy5hbGxDYWxsYmFja3NbdF0gPSBbXTsKdGhpcy51c2VDdXN0b21IYW5kbGluZyh0KSB8fCB0aGlzLnNldHVwTmF0aXZlRXZlbnRMaXN0ZW5lcih0KTsKfQp0aGlzLmFsbENhbGxiYWNrc1t0XS5wdXNoKGUpOwpyZXR1cm4gdGhpczsKfTsKby5wcm90b3R5cGUuc2V0dXBOYXRpdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24odCkgewppZiAoISh0IGluIHRoaXMubmF0aXZlSGFuZGxlcnMpKSB7CnZhciBlID0gdGhpczsKdGhpcy5uYXRpdmVIYW5kbGVyc1t0XSA9IGZ1bmN0aW9uKGkpIHsKaSAmJiAoaS5zdG9wUHJvcGFnYXRpb24gfHwgbihpKSk7CnZhciBvLCBzID0gZS5hbGxDYWxsYmFja3NbdF0sIF8gPSBzLmxlbmd0aCwgbCA9ICEwOwpzLl9hY3RpdmUgPSAhMDsKZm9yIChvID0gMDsgbyA8IF87IG8rKykgdHJ5IHsKaWYgKCFzW29dKSBjb250aW51ZTsKITEgPT09IHNbb10uY2FsbChlLCByLmlzQ3VzdG9tRXZlbnRzICYmIGkgaW5zdGFuY2VvZiByLkN1c3RvbUV2ZW50ID8gaS5kZXRhaWwgOiBpKSAmJiAobCA9ICExKTsKfSBjYXRjaCAodCkgewphLmZpcmUoImVycm9yIiwgdCk7Cn0Kcy5fYWN0aXZlID0gITE7CmlmIChzLl9kaXJ0eSkgewpmb3IgKG8gPSAwOyBvIDwgXzsgbysrKSBpZiAoIXNbb10pIHsKbyA9PSBfIC0gMSA/IHMucG9wKCkgOiBzW28tLV0gPSBzLnBvcCgpOwpfLS07Cn0Kcy5fZGlydHkgPSAhMTsKfQppZiAoITEgPT09IGwpIHsKaWYgKGkpIHsKaS5wcmV2ZW50RGVmYXVsdCgpOwppLnJldHVyblZhbHVlID0gITE7Cn0KcmV0dXJuICExOwp9Cn07CnRoaXMuZG9tLmF0dGFjaEV2ZW50ID8gdGhpcy5kb20uYXR0YWNoRXZlbnQoIm9uIiArIHQsIHRoaXMubmF0aXZlSGFuZGxlcnNbdF0pIDogdGhpcy5kb20uYWRkRXZlbnRMaXN0ZW5lciAmJiB0aGlzLmRvbS5hZGRFdmVudExpc3RlbmVyKHQsIHRoaXMubmF0aXZlSGFuZGxlcnNbdF0sICExKTsKfQp9OwpvLnByb3RvdHlwZS50ZWFyZG93bk5hdGl2ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbih0KSB7CnZhciBlID0gdGhpcy5uYXRpdmVIYW5kbGVyc1t0XTsKaWYgKGUpIHsKdGhpcy5kb20uYXR0YWNoRXZlbnQgPyB0aGlzLmRvbS5kZXRhY2hFdmVudCgib24iICsgdCwgZSkgOiB0aGlzLmRvbS5hZGRFdmVudExpc3RlbmVyICYmIHRoaXMuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIodCwgZSwgITEpOwpkZWxldGUgdGhpcy5uYXRpdmVIYW5kbGVyc1t0XTsKZGVsZXRlIHRoaXMuYWxsQ2FsbGJhY2tzW3RdOwp9Cn07Cm8ucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbih0LCBlKSB7CnZhciBpID0gdGhpcy5hbGxDYWxsYmFja3NbdF07CmlmIChpKSB7CmZvciAodmFyIG4gPSAwLCBvID0gaS5sZW5ndGg7IG4gPCBvOyBuKyspIGlmIChpW25dID09PSBlKSB7CjEgPT0gaS5sZW5ndGggPyB0aGlzLm5hdGl2ZUhhbmRsZXJzW3RdID8gdGhpcy50ZWFyZG93bk5hdGl2ZUV2ZW50TGlzdGVuZXIodCkgOiBkZWxldGUgdGhpcy5hbGxDYWxsYmFja3NbdF0gOiBpLl9hY3RpdmUgPyAoaVtuXSA9IG51bGwsIAppLl9kaXJ0eSA9ICEwKSA6IG4gPT0gbyAtIDEgPyBpLnBvcCgpIDogaVtuXSA9IGkucG9wKCk7CmJyZWFrOwp9CnJldHVybiB0aGlzOwp9Cn07Cm8ucHJvdG90eXBlLnVuZXh0ZW5kRXZlbnRzID0gZnVuY3Rpb24oKSB7CmlmICh0aGlzLmFsbENhbGxiYWNrcyAmJiB0aGlzLm5hdGl2ZUhhbmRsZXJzKSB7CmZvciAodmFyIHQgaW4gdGhpcy5uYXRpdmVIYW5kbGVycykgdGhpcy5uYXRpdmVIYW5kbGVycy5oYXNPd25Qcm9wZXJ0eSh0KSAmJiB0aGlzLnRlYXJkb3duTmF0aXZlRXZlbnRMaXN0ZW5lcih0KTsKdGhpcy5hbGxDYWxsYmFja3MgPSB0aGlzLm5hdGl2ZUhhbmRsZXJzID0gbnVsbDsKfQp9OwpvLnByb3RvdHlwZS5maXJlQ3VzdG9tRXZlbnQgPSBmdW5jdGlvbih0LCBlKSB7CmlmICghci5pc0N1c3RvbUV2ZW50cyB8fCB0aGlzLnVzZUN1c3RvbUhhbmRsaW5nKHQpKSB7CnZhciBpID0gdGhpcy5hbGxDYWxsYmFja3NbdF0sIG4gPSAhMDsKaWYgKGkgJiYgaS5sZW5ndGgpIHsKaS5fYWN0aXZlID0gITA7CnZhciBvLCBzLCBfOwpmb3IgKG8gPSAwLCBzID0gaS5sZW5ndGg7IG8gPCBzOyBvKyspIHRyeSB7CmlmICghaVtvXSkgY29udGludWU7Cl8gPSBpW29dLmNhbGwodGhpcywgZSk7CiExID09PSBfICYmIChuID0gITEpOwp9IGNhdGNoICh0KSB7CmEuZmlyZSgiZXJyb3IiLCB0KTsKfQppLl9hY3RpdmUgPSAhMTsKaWYgKGkuX2RpcnR5KSB7CmZvciAobyA9IDA7IG8gPCBzOyBvKyspIGlmICghaVtvXSkgewpvID09IHMgLSAxID8gaS5wb3AoKSA6IGlbby0tXSA9IGkucG9wKCk7CnMtLTsKfQppLl9kaXJ0eSA9ICExOwp9Cn0KcmV0dXJuIG47Cn0KcmV0dXJuIHRoaXMuZG9tLmRpc3BhdGNoRXZlbnQobmV3IHIuQ3VzdG9tRXZlbnQodCwgewpidWJibGVzOiAhMSwKY2FuY2VsYWJsZTogITAsCmRldGFpbDogZQp9KSk7Cn07Cm8ucHJvdG90eXBlLmZpcmUgPSBvLnByb3RvdHlwZS5maXJlQ3VzdG9tRXZlbnQ7Cm8ucHJvdG90eXBlLm9uID0gby5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcjsKby5wcm90b3R5cGUudW4gPSBvLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyOwp0LmV4cG9ydHMgPSBvOwp9LCBmdW5jdGlvbih0LCBlKSB7CmZ1bmN0aW9uIGkodCkgewp0ID0gdC5zcGxpdCgvW15hLXpBLVowLTldLyk7CmZvciAodmFyIGUgPSAxOyBlIDwgdC5sZW5ndGg7IGUrKykgdFtlXS5sZW5ndGggJiYgKHRbZV0gPSB0W2VdLnN1YnN0cigwLCAxKS50b1VwcGVyQ2FzZSgpICsgdFtlXS5zdWJzdHIoMSkpOwpyZXR1cm4gdC5qb2luKCIiKTsKfQp2YXIgbiA9IHsKdG9DYW1lbENhc2U6IGkKfTsKdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQpIHsKdmFyIGUsIGksIG4gPSByLmV4dGVuZCh0aGlzKTsKdHJ5IHsKZSA9IG5ldyB3aW5kb3cuQWN0aXZlWE9iamVjdCgiaHRtbGZpbGUiKTsKZS5vcGVuKCk7CmUud3JpdGUoIjxzY3JpcHQ+ZG9jdW1lbnQud2luID0gd2luZG93PC9zY3JpcHQ+Iik7CmUuY2xvc2UoKTsKaSA9IGUud2luOwp9IGNhdGNoICh0KSB7fQppZiAoIWkpIHsKdmFyIG8gPSB0aGlzLmlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpLCBzID0gby5zdHlsZTsKbi5hbGxvd1RyYW5zcGFyZW5jeSA9ICJ0cnVlIjsKbi5mcmFtZUJvcmRlciA9ICIwIjsKcy5iYWNrZ3JvdW5kQ29sb3IgPSAidHJhbnNwYXJlbnQiOwpzLnBvc2l0aW9uID0gImFic29sdXRlIjsKcy53aWR0aCA9IHMuaGVpZ2h0ID0gIjFweCI7CnMubGVmdCA9IHMudG9wID0gIi05OTk5cHgiOwpzLmJvcmRlciA9IDA7CmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobyk7CnRyeSB7CmkgPSBvLmNvbnRlbnRXaW5kb3c7CmUgPSBpLmRvY3VtZW50OwplLm9wZW4oKTsKZS5jbG9zZSgpOwp9IGNhdGNoICh0KSB7Cm4uZmlyZSgiZXJyb3IiKTsKbi5kZXN0cm95KCk7CnJldHVybjsKfQp9Cm4uZG9jID0gZTsKbi53aW4gPSBpOwpuLiRMb2FkZXIgPSB7CmNsZWFudXA6IGZ1bmN0aW9uKCkgewphKGZ1bmN0aW9uKCkgewpuLiRMb2FkZXIucGF5bG9hZCA/IG4uZmlyZSgic3VjY2VzcyIsIG4uJExvYWRlci5wYXlsb2FkKSA6IG4uZmlyZSgiZXJyb3IiKTsKbi4kTG9hZGVyLnBheWxvYWQgPSBudWxsOwp0IHx8IG4uZGVzdHJveSgpOwp9KTsKfQp9OwpuLnJldXNhYmxlID0gdDsKfQpmdW5jdGlvbiBvKHQpIHsKcmV0dXJuIHQgJiYgdC5yZXBsYWNlKHMsIGZ1bmN0aW9uKHQpIHsKcmV0dXJuICImIyIgKyB0LmNoYXJDb2RlQXQoMCkgKyAiOyI7Cn0pOwp9CnZhciByID0gaSgxNCksIGEgPSBpKDE2KTsKbi5wcm90b3R5cGUuc2V0U2NvcGUgPSBmdW5jdGlvbih0KSB7CnRoaXMuc2NvcGUgPSB0Owp9Owp2YXIgcyA9IC9bJjw+IiddL2c7Cm4ucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbih0KSB7CmlmICgvXig/Omh0dHBzPzopP1wvXC8vaS50ZXN0KHQpKSB7CnQgPSBvKHQpOwp0cnkgewp0aGlzLmRvYy5vcGVuKCk7CnRoaXMud2luLiRMb2FkZXIgPSB0aGlzLiRMb2FkZXI7CnRoaXMud2luLiRMb2FkZXIuc2NvcGUgPSB0aGlzLnNjb3BlIHx8IHt9Owp0aGlzLmRvYy53cml0ZSgnPGh0bWw+PGhlYWQ+PHNjcmlwdCBzcmM9IicgKyB0ICsgJyI+PC9zY3JpcHQ+PHNjcmlwdD5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyICYmIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBmdW5jdGlvbigpIHt0cnkgeyAkTG9hZGVyLmNsZWFudXAoKSB9IGNhdGNoKGUpIHt9fSk8L3NjcmlwdD48L2hlYWQ+PGJvZHk+PC9ib2R5PjwvaHRtbD4nKTsKdGhpcy5kb2MuY2xvc2UoKTsKfSBjYXRjaCAodCkgewp0aGlzLiRMb2FkZXIuY2xlYW51cCgpOwp9Cn0gZWxzZSB0aGlzLiRMb2FkZXIuY2xlYW51cCgpOwp9OwpuLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7CnRyeSB7CnRoaXMuaWZyYW1lICYmIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5pZnJhbWUpOwp0aGlzLmRvYyA9IHRoaXMud2luID0gdGhpcy5pZnJhbWUgPSB0aGlzLndpbi4kTG9hZGVyID0gbnVsbDsKfSBjYXRjaCAodCkge30KfTsKdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQsIGUpIHsKdmFyIGkgPSBzW3RdOwppLm1vZHVsZV9mdW5jdGlvbiA9IG5ldyBGdW5jdGlvbigiJE1vZHVsZXMiLCBlLnRvU3RyaW5nKCkucmVwbGFjZSh1LCAiJDEiKSk7CmkucmVhZHkoKTsKfQpmdW5jdGlvbiBvKHQpIHsKdmFyIGUsIGksIG4sIG87CmZvciAoZSA9IGQubGVuZ3RoIC0gMTsgZSA+PSAwOyBlLS0pIHsKbiA9IGRbZV07Cm8gPSBuLmRlcGVuZGVuY2llczsKZm9yIChpID0gby5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKG9baV0gPT0gdCkgewpvLnNwbGljZShpLCAxKTsKYnJlYWs7Cn0Kbi5yZWFkeSgpOwp9Cn0KZnVuY3Rpb24gcigpIHsKdmFyIHQgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLCBlID0gdC5zaGlmdCgpOwp0aGlzLmZxbmFtZSA9IGU7CnRoaXMubmFtZSA9IGUuc3BsaXQoIi4iKS5wb3AoKTsKdGhpcy5jYWxsYmFja3MgPSBbXTsKdGhpcy5kZXBlbmRlbmNpZXMgPSB0OwpkLnB1c2godGhpcyk7Cn0KZnVuY3Rpb24gYSh0KSB7CnQoKTsKfQp2YXIgcyA9IGkoNSksIF8gPSBpKDQ2KSwgbCA9IGkoMzg5KSwgZCA9IFtdLCB1ID0gL15mdW5jdGlvbiAqXCggKlwpICp7ICooW1xzXFNdKikgKn0kLzsKci5lbnN1cmVMb2FkZWQgPSBmdW5jdGlvbih0LCBlKSB7CnQgaW5zdGFuY2VvZiByID8gdC5lbnN1cmVMb2FkZWQoZSkgOiBlKCk7Cn07CnIucHJvdG90eXBlLmVuc3VyZUxvYWRlZCA9IGZ1bmN0aW9uKHQpIHsKdGhpcy5pZkxvYWRlZCh0KTsKdGhpcy5sb2FkKCk7Cn07CnIucHJvdG90eXBlLmlmTG9hZGVkID0gZnVuY3Rpb24odCkgewp0aGlzLmNhbGxiYWNrcy5wdXNoKHQpOwp9OwpyLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQodCkgewpuKHRbMF0sIHRbMV0pOwp9CnZhciBlLCBpLCBvID0gdGhpcy5nZXREZXBlbmRlbmNpZXMoKTsKZm9yIChlID0gMDsgZSA8IG8ubGVuZ3RoOyBlKyspIHsKaSA9IG9bZV07CmkubG9hZGVyIHx8IChpLmxvYWRlciA9IG5ldyBsKF8uYmFzZVVSTCArICIvbGliLyIgKyBfLmJ1aWxkX251bWJlciArICIvIiArIGkuZnFuYW1lICsgIi5qcyIsIHMsIHQpKTsKfQp9OwpyLnByb3RvdHlwZS5nZXREZXBlbmRlbmNpZXMgPSBmdW5jdGlvbigpIHsKdmFyIHQsIGUgPSB0aGlzLmRlcGVuZGVuY2llcywgaSA9IFsgdGhpcyBdOwpmb3IgKHQgPSAwOyB0IDwgZS5sZW5ndGg7IHQrKykgewp2YXIgbiA9IHNbZVt0XV07CmkgPSBpLmNvbmNhdChuLmdldERlcGVuZGVuY2llcygpKTsKfQpyZXR1cm4gaTsKfTsKci5wcm90b3R5cGUucmVhZHkgPSBmdW5jdGlvbigpIHsKaWYgKCF0aGlzLmRlcGVuZGVuY2llcy5sZW5ndGggJiYgdGhpcy5tb2R1bGVfZnVuY3Rpb24pIHsKZm9yICh0ID0gZC5sZW5ndGggLSAxOyB0ID49IDA7IHQtLSkgaWYgKGRbdF0gPT0gdGhpcykgewpkLnNwbGljZSh0LCAxKTsKYnJlYWs7Cn0KdGhpcy5tb2R1bGVfZnVuY3Rpb24ocyk7CnZhciB0LCBlID0gc1t0aGlzLmZxbmFtZV07CmUuaWZMb2FkZWQgPSBlLmVuc3VyZUxvYWRlZCA9IGE7CmZvciAodCA9IDA7IHQgPCB0aGlzLmNhbGxiYWNrcy5sZW5ndGg7IHQrKykgdGhpcy5jYWxsYmFja3NbdF0oZSk7Cm8odGhpcy5mcW5hbWUpOwpkZWxldGUgdGhpcy5jYWxsYmFja3M7CmRlbGV0ZSB0aGlzLmZxbmFtZTsKZGVsZXRlIHRoaXMubmFtZTsKZGVsZXRlIHRoaXMuZGVwZW5kZW5jaWVzOwpkZWxldGUgdGhpcy5sb2FkZXI7Cn0KfTsKcy5Nb2R1bGUgPSByOwp0LmV4cG9ydHMgPSByOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4oKSB7CmlmICghZCkgewphID0gYy5yb290LiQoImxpdmVjaGF0Iik7CnMgPSBhLiQoInNldHRpbmdzIikuJCgidGhlbWUiKS4kKCJjaGF0X3dpbmRvdyIpLiQoInByb2ZpbGVfY2FyZCIpOwpfID0gYS4kKCJ1aSIpLiQoImNoYXRfd2luZG93IikuJCgiZGlzcGxheV9wcm9maWxlX2NhcmQkYm9vbCIpOwpsID0gYS4kKCJzZXR0aW5ncyIpLiQoInJhdGluZyIpLiQoImVuYWJsZWQkYm9vbCIpOwpzLmJpbmRWYWx1ZShvKTsKbC5iaW5kVmFsdWUobyk7CmQgPSAhMDsKfQp9CmZ1bmN0aW9uIG8oKSB7CnZhciB0ID0gdShzLmdldFZhbHVlKCJkaXNwbGF5X2F2YXRhciRib29sIikpLCBlID0gdShzLmdldFZhbHVlKCJkaXNwbGF5X3RpdGxlX25hbWUkYm9vbCIpKSwgaSA9IHUocy5nZXRWYWx1ZSgiZGlzcGxheV9yYXRpbmckYm9vbCIpKSAmJiB1KGwuZ2V0VmFsdWUoKSksIG4gPSB0IHx8IGkgfHwgZTsKXy51cGRhdGUobik7Cn0KZnVuY3Rpb24gcigpIHsKZCA9ICExOwp9CnZhciBhLCBzLCBfLCBsLCBkLCB1ID0gaSgxMiksIGMgPSBpKDYpLCBoID0gewppbml0OiBuLApyZXNldFN0YXRlOiByCn07CnQuZXhwb3J0cyA9IGg7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbigpIHsKZCA9IHkucm9vdDsKdSA9IGQuJCgibGl2ZWNoYXQiKS4kKCJnYXRlcyIpLiQoInByZW1pdW1fc3VwcG9ydCRib29sIik7CmggPSBkLiQoInRtcCIpLiQoInBhY2thZ2VfbmFtZSRzdHJpbmciKTsKZyA9IGQuJCgibGl2ZWNoYXQiKS4kKCJ1aSIpLiQoImNoYXRfd2luZG93IikuJCgib2ZmbGluZV9mb3JtIik7CnAgPSBkLiQoImxpdmVjaGF0IikuJCgidWkiKS4kKCJtb2NrdXAkYm9vbCIpOwppZiAoIXAuZ2V0VmFsdWUoKSkgewptID0gZC4kKCJsaXZlY2hhdCIpLiQoInNldHRpbmdzIikuJCgiZm9ybXMiKS4kKCJvZmZsaW5lX2Zvcm0iKTsKJCA9IGQuJCgidG1wIikuJCgiYXBpX3NldHRpbmdzIikuJCgic2V0dGluZ3MiKS4kKCJmb3JtcyIpLiQoIm9mZmxpbmVfZm9ybSIpLiQoIm1lc3NhZ2Ukc3RyaW5nIik7CmIgPSBkLiQoInRtcCIpLiQoInNlcnZlcl9zZXR0aW5ncyIpLiQoInNldHRpbmdzIikuJCgiZm9ybXMiKS4kKCJvZmZsaW5lX2Zvcm0iKS4kKCJtZXNzYWdlJHN0cmluZyIpOwpoLnVwZGF0ZSh3aW5kb3cuc2Vzc2lvblN0b3JhZ2UgPyB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiJHpjaGF0X3BhY2thZ2VfbmFtZSIpIDogIiIpOwpoLmJpbmRWYWx1ZShvKTsKdS5iaW5kVmFsdWUocik7Cn0KfQpmdW5jdGlvbiBvKCkgewpmID0gaC5nZXRWYWx1ZSgpOwphKCk7Cn0KZnVuY3Rpb24gcigpIHsKYyA9IHUuZ2V0VmFsdWUoKTsKYyA/IGEoKSA6IF8oKTsKfQpmdW5jdGlvbiBhKCkgewppZiAoYykgewppZiAoUy5pbmRleE9mKGYpID4gLTEpIHsKXygpOwpsKG51bGwpOwp9IGVsc2Ugewp2YXIgdCwgZSA9IG5ldyBEYXRlKGouZ2V0U2VydmVyVGltZSgpKSwgaSA9IChlLmdldFVUQ0RheSgpICsgMSkgJSA3ICogdi5EQVkgKyBlLmdldFVUQ0hvdXJzKCkgKiB2LkhPVVIgKyBlLmdldFVUQ01pbnV0ZXMoKSAqIHYuTUlOVVRFICsgZS5nZXRVVENTZWNvbmRzKCkgKiB2LlNFQ09ORCwgbiA9IGkgPCBBOwpsKG4gPyAib2ZmbGluZSIgOiBudWxsKTsKdCA9IChuID8gMiA6IDcpICogdi5EQVkgLSBpOwpzKHQgKyB2LlNFQ09ORCk7Cn0KfQp9CmZ1bmN0aW9uIHModCkgewpfKCk7CncgPSB3aW5kb3cuc2V0VGltZW91dChhLCB0KTsKfQpmdW5jdGlvbiBfKCkgewp3ICYmICh3ID0gd2luZG93LmNsZWFyVGltZW91dCh3KSk7Cn0KZnVuY3Rpb24gbCh0KSB7CkMuc2V0U3RhdHVzKHQpOwp2YXIgZSA9ICQuZ2V0VmFsdWUoKSB8fCAoIm9mZmxpbmUiID09PSB0ID8gay50b1N0cmluZygpIDogYi5nZXRWYWx1ZSgpKTsKbS51cGRhdGUoewptZXNzYWdlJHN0cmluZzogZQp9KTsKZy51cGRhdGUoewp1cGdyYWRlX2xpbmtfZGlzcGxheSRib29sOiAib2ZmbGluZSIgPT09IHQKfSk7Cn0KdmFyIGQsIHUsIGMsIGgsIGYsIGcsIHAsIG0sICQsIGIsIHcsIHggPSBpKDIpLCB2ID0gaSgxNzYpLCB5ID0gaSg2KSwgaiA9IGkoNjMpLCBDID0gaSgxMTYpLCBTID0gWyAicHJlbWl1bSIsICJlbnRlcnByaXNlIiwgIm1hc3RlciIgXSwgQSA9IDIgKiB2LkRBWSwgayA9IHgoMyksIEkgPSB7CmluaXQ6IG4KfTsKdC5leHBvcnRzID0gSTsKfSwgZnVuY3Rpb24odCwgZSkgewpmdW5jdGlvbiBpKHQsIGUpIHsKdmFyIGkgPSBlLm1hdGNoKHQpOwpyZXR1cm4gaSA/IGkubGVuZ3RoIDogMDsKfQpmdW5jdGlvbiBuKHQsIGUsIG4sIG8pIHsKcmV0dXJuIE1hdGgucG93KGkodCwgZSkgLyBuLCAxIC8gbyk7Cn0KZnVuY3Rpb24gbyh0KSB7CnZhciBlLCBpID0gMSAtIHRbMF07CmZvciAoZSA9IDE7IGUgPCB0Lmxlbmd0aDsgZSsrKSBpICo9IDEgLSB0W2VdOwpyZXR1cm4gMSAtIGk7Cn0KZnVuY3Rpb24gcih0LCBlLCByKSB7CnIgfHwgKHIgPSBpKC8gL2csIGUpKTsKZm9yICh2YXIgYSwgcywgXywgZCwgdSA9IGUubGVuZ3RoLCBjID0gW10sIGggPSAwOyBoIDwgbFt0XS5sZW5ndGg7IGggKz0gMikgewphID0gbFt0XVtoXTsKcyA9IGxbdF1baCArIDFdOwpfID0gIlxcXFxiIiA9PSBhLnRvU3RyaW5nKCkuc3Vic3RyKDEsIDIpID8gciA6IHU7CmQgPSBuKGEsIGUsIF8sIHMpOwpjLnB1c2goZCk7Cn0KImVuIiA9PSB0ICYmIGMucHVzaCguNiAvIGUubGVuZ3RoKTsKcmV0dXJuIG8oYyk7Cn0KZnVuY3Rpb24gYSh0LCBlKSB7CnZhciBuID0gZG9jdW1lbnQuYm9keS5nZXRBdHRyaWJ1dGUoImxhbmciKSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCJsYW5nIik7CmlmIChuKSByZXR1cm4gbjsKdCB8fCAodCA9IF8pOwplIHx8IChlID0gZG9jdW1lbnQuYm9keS5pbm5lckhUTUwucmVwbGFjZSgvXHMrL2csICIgIikucmVwbGFjZSgvPHNjcmlwdFtePl0qPz4uKj88XC9zY3JpcHQ+L2dpLCAiICIpLnJlcGxhY2UoLzxzdHlsZVtePl0qPz4uKj88XC9zdHlsZT4vZ2ksICIgIikucmVwbGFjZSgvPCEtLS4qPy0tPi9nLCAiICIpLnJlcGxhY2UoLzxcLz9bXj5dKz8+L2csICIgIikucmVwbGFjZSgvWy1fYS16MC05LkBdK1suQF1bLV9hLXowLTkuQF0rL2dpLCAiIikucmVwbGFjZSgvW1xzXGQhJyMkJSYnKCkqKywtLlwvOjs8PT4/QF5fe3x9flxbXF1cL10rL2csICIgIikpOwplID0gZS5yZXBsYWNlKC9ccysvZywgIiAiKTsKdmFyIG8sIGEsIHMgPSBpKC8gKy9nLCBlKSwgbCA9IFtdOwpmb3IgKG8gPSAwOyBvIDwgdC5sZW5ndGg7IG8rKykgbC5wdXNoKFsgdFtvXSwgcih0W29dLCBlLCBzKSBdKTsKbC5zb3J0KGZ1bmN0aW9uKHQsIGUpIHsKcmV0dXJuIGVbMV0gLSB0WzFdOwp9KTsKYSA9IGxbMF1bMF07CmEuc2NvcmVzID0gbDsKd2luZG93Ll9fJHpfcmVzdWx0cyA9IHMgKyAiICIgKyBlLmxlbmd0aCArICIgIiArIGUubGVuZ3RoIC8gcyArICJcbiIgKyBsLmpvaW4oIlxuIik7CndpbmRvdy5fXyR6X2lubmVyVGV4dCA9IGU7CnJldHVybiBhOwp9CnZhciBzID0gewpndWVzczogYQp9LCBfID0gW10sIGwgPSB7CmVuOiBbIC9cYih1cHxtZXxzdWJtaXR8b2ZmZXJzP3xhYm91dHxyaWdodHM/fG1vcmV8Y29udGFjdHxhbGx8ZG93bmxvYWRzP3xob3d8c2VhcmNofHRvfGRvfGlbbnN0XT98eW91cj98dGhhdHx3YXN8b25lP3xhcmV8d2l0aHxbYnddZXxoYXZlfHRoaXN8Zj9vcnxoYWR8Ynl8W2huXW90P3xbYm9ddXR8c298c29tZXx3aGF0fGNhbnxbdHddaGVyZXx3aHl8b3RoZXJ8b3ZlcnxkaWV8dGVuKVxiL2dpLCA0LCAvXGIoaW5ufHNldHxlbmR8YWJvdXR8cHJvfHRoZXxvZnxmcm9tfGFuZHxhfGFzfGF0KVxiL2dpLCA2IF0sCmNzOiBbIC9bXHUwMGUxXHUwMTBkXHUwMTBmXHUwMGU5XHUwMTFiXHUwMGVkXHUwMTQ4XHUwMGYzXHUwMTU5XHUwMTYxXHUwMTY1XHUwMGZhXHUwMTZmXHUwMGZkXHUwMTdlXS9naSwgNSwgL1xiKGJ5fGRvfHRvfFthaWtvc3Z6XSlcYi9naSwgMywgL1xiKG5hfHphfHNlfGplfFx1MDE3ZWV8dmV8amFrb3xqc2VtfHByb3x0YWt8cG98dVx1MDE3ZXxqc291fGJ5bClcYi9naSwgNiBdLApkZTogWyAvW1x1MDBkZl0vZywgMTAsIC9bXHUwMGU0XHUwMGY2XHUwMGZjXHUwMGM0XHUwMGQ2XHUwMGRjXS9nLCA3LCAvXGIoZGVbbXJzXXx2b1tubV18enVbbXJdP3xkYVtzXHUwMGRmXT98ZWluZVttbnJzXT98YVtsdV1zfHdpcnxbc3ddaWV8blthb11jaHx2b3JbbXNdP3woXHUwMGZjYnxvZHxhYillcnx1bmR8aW18bWl0fHNpY2h8YXVmfGZcdTAwZmNyfG5pY2h0fGF1Y2h8ZXN8YmVpfG51cnxiaXN8bWVocnxkdXJjaClcYi9naSwgNiBdLAplczogWyAvW1x1MDBmMV0vZywgMTAsIC9bXHhFMVx4RTlceEVEXHhGM1x4RkFdL2dpLCA2LCAvXGIocXVlfG51ZXN0cm98aW5ncmVzYXJ8aW5pY2lvfHF1W2VcdTAwZTldfFtkdF1lfHNlcj98W21zXWl8bD9hfGVbbG5zXXx5fHR1fGxvcz98dW5hP3xwb3J8Y29ufHBhcmF8ZXN0KFx1MDBlMXxhcikpXGIvZ2ksIDYgXSwKZnI6IFsgL1tcdTAxNTNdL2dpLCAxNSwgL1tcdTAwZTBcdTAwZTJcdTAwZTdcdTAwZTlcdTAwZThcdTAwZWFcdTAwZWJcdTAwZWVcdTAwZWZcdTAwZjRcdTAwZmJcdTAwZjlcdTAwZmNcdTAwZmZdL2dpLCA3LCAvXGIoc29uKVxiL2dpLCA0LCAvXGIoZW4pXGIvZ2ksIDUsIC9cYihbYWRvXXV8YXV4P3xbZG9ddXxsYXxbY2Rsc11lc3xlcz90fHVuZT98bmV8cXVbZWldfHN1cnxkYW5zfHBhW3JzXXxpbHxzb250fGF2ZWN8dm9pcilcYi9naSwgNiBdLApocjogWyAvW1x1MDEwZFx1MDEwN1x1MDExMVx1MDE2MVx1MDE3ZV0vZ2ksIDEwLCAvZFx1MDE3ZXxsanxuai9naSwgMywgL1xiKGFsaXxqYXxqZXxtZW5lfG5hfG5lfG9kfG92b3xzZXxzdmV8dGl8dXx6YXx6bmF0aSlcYi9naSwgNiBdLAptczogWyAvXGIoYW5kKVxiL2dpLCA0LCAvXGIoKHNlKT8oYmlqaXxidWFofG9yYW5nKXxhZGF8YW5kYXxhdGF1fGJvbGVofGJ1a2FufGRhbGFtfGRhbnxkYXJpfGRpfGluaXxrYW1pfGtlfGxhZ2l8c2lsYXx0aWRha3x0aW5nZ2l8dGVsYWh8dW50dWspXGIvZ2ksIDYgXSwKZGE6IFsgL1tcdTAwYzZcdTAwZTZcdTAwZDhcdTAwZjhcdTAwYzVcdTAwZTVdL2csIDEwLCAvXGIoZGUpXGIvZ2ksIDUsIC9cYihpbmR8bFx1MDBlNnN8bnloZWRlcnxbdnRdaWx8cz9vbXxvZ3xbbXZdZWR8a2FufGhhcnx2YXJ8dGFnZXJ8YWZ8ZD9ldHxkZVt0bl17Mn1lfHNrYWx8ZGVufHNldHxub2dldHxub2dsZXxtYW5nZXxoYWRkZXxlbGxlcnxlZnRlcnxlbmR8YmxpdmV8ZXJ8c2VrdW5kfHZpc2VyfHVkfChhfHZpfHNrdSlsbGUpXGIvZ2ksIDYgXSwKbmI6IFsgL1tcdTAwYzZcdTAwZTZcdTAwZDhcdTAwZjhcdTAwYzVcdTAwZTVdL2csIDEwLCAvXGIoZGUpXGIvZ2ksIDUsIC9cYihwYXNzb3JkfG55aGV0ZXJ8aW5ufFt2dF1pbHxzP29tfG9nfFttdl1lZHxrYW58W2h0dl1hcnxhdnxkP2V0fGRlW3RuXXsyfWV8c2thbHxzZShnfHR0KXxub2VuP3xtYW5nZXxoYWRkZXxlW2x0XXsyfWVyfGVubnxibGlyP3xibGV8YW5kcmV8dmlzZXJ8dXR8KGF8dml8c2t1KWxsZSlcYi9naSwgNiBdLApubDogWyAvXGIoaW58ZGllKVxiL2dpLCA0LCAvXGIoZGV8ZW4pXGIvZ2ksIDUsIC9cYihoZXR8ZGF0fHZhbnxpa3x0ZXxlZW58aGlqfG5pZXR8emlqbilcYi9naSwgNiBdLApwdDogWyAvW1x1MDBlMVx1MDBlMlx1MDBlM1x1MDBlMFx1MDBlN1x1MDBlOVx1MDBlYVx1MDBlZFx1MDBmM1x1MDBmNFx1MDBmNVx1MDBmYV0vZ2ksIDcsIC9cYihnclx1MDBlMWZpY298YW98Y29tb3xkYXM/fGRlfGRvc3xlbGV8ZW0/fG1haT9zfG5hfG5cdTAwZTNvfG9zP3xwYXJhfHBvcnxxdWV8c2V8dW1hPylcYi9naSwgNiBdLApzazogWyAvXHUwMGUxXHUwMGU0XHUwMTBkXHUwMTBmXHUwMGU5XHUwMGVkXHUwMTNlXHUwMTNhXHUwMTQ4XHUwMGYzXHUwMGY0XHUwMTU1XHUwMTYxXHUwMTY1XHUwMGZhXHUwMGZkXHUwMTdlL2dpLCAxMCwgL2R6fGRcdTAxN2UvZ2ksIDUsIC9cYih0ZW58dG98ZG98c28pXGIvZ2ksIDQsIC9cYihqYXxuYXx6YXxjXHUwMzBjb3x0XHUwMGUxfHBvfHZvfHpvfG5cdTAwZTFbc1x1MDMwY3NdKVxiL2dpLCA2IF0sCnRyOiBbIC9bXHUwMGM3XHUwMTFlXHUwMTMwXHUwMGQ2XHUwMTVlXHUwMGRjXHUwMGU3XHUwMTFmXHUwMTMxXHUwMGY2XHUwMTVmXHUwMGZjXS9nLCA3LCAvXGIoc29uKVxiL2dpLCA0LCAvXGIoZm9ybXV8YmlyfHZlfG5lfGJ1fGlcdTAwZTdpbnxvfGI/ZW58XHUwMGU3b2t8KGFsfFx1MDBlN1x1MDEzMWt8b2x8eWFwKW1ha3woZGV8Z2VsfGdpdHxnXHUwMGY2cnxpc3RlfHZlciltZWt8Z2liaXxkYWhhfGtlbmRpfGlsZXxhbWF8c29ucmF8a2FkYXJ8eWVyfGluc2FufGRlXHUwMTFmaWx8eVx1MDEzMWx8Z1x1MDBmY258Yml6KVxiL2dpLCA2IF0sCnZpOiBbIC9bXHUwMGUwXHUxZWEzXHUwMGUzXHUwMGUxXHUxZWExXHUwMTAzXHUxZWIxXHUxZWIzXHUxZWI1XHUxZWFmXHUxZWI3XHUwMGUyXHUxZWE3XHUxZWE5XHUxZWFiXHUxZWE1XHUxZWFkXHUwMTExXHUwMGU4XHUxZWJiXHUxZWJkXHUwMGU5XHUxZWI5XHUwMGVhXHUxZWMxXHUxZWMzXHUxZWM1XHUxZWJmXHUxZWM3XHUwMGVjXHUxZWM5XHUwMTI5XHUwMGVkXHUxZWNiXHUwMGYyXHUxZWNmXHUwMGY1XHUwMGYzXHUxZWNkXHUwMGY0XHUxZWQzXHUxZWQ1XHUxZWQ3XHUxZWQxXHUxZWQ5XHUwMWExXHUxZWRkXHUxZWRmXHUxZWUxXHUxZWRiXHUxZWUzXHUwMGY5XHUxZWU3XHUwMTY5XHUwMGZhXHUxZWU1XHUwMWIwXHUxZWViXHUxZWVkXHUxZWVmXHUxZWU5XHUxZWYxXHUxZWYzXHUxZWY3XHUxZWY5XHUwMGZkXHUxZWY1XS9naSwgOCwgL1xiKHZcdTAwZTB8Y1x1MDBlMWN8Y1x1MWVlN2F8Y1x1MDBmM3xcdTAxMTFcdTAxMDNuZ3xcdTAxMTFcdTAwZTJ5fGhvXHUxZWI3Y3xraFx1MWVhOXV8a1x1MDBmZHxtXHUxZWQ5dHxuZ1x1MDBlMHl8bFx1MDBlMHx0cm9uZ3xjaG8pXGIvZ2ksIDYgXSwKamE6IFsgL1tcdTMwNDEtXHUzMGZmXS9nLCAxMCBdLAprbzogWyAvW1x1QUMwMC1cdUQ3QTNcdTExMDAtXHUxMUZGXHUzMTMxLVx1MzE4RVx1RkZBMS1cdUZGRENdL2csIDEwIF0sCnRoOiBbIC9bXHUwRTAwLVx1MEU3Rl0vZywgMTAgXSwKemhfQ046IFsgL1tcdTRlMDAtXHU5ZmI0XS9nLCAxLCAvW1x1NzY4NFx1NjYyZlx1OGZkOVx1NjcwOVx1NTcyOFx1NGUwZFx1NGU4Nlx1Njc2NVx1NGUyYVx1NTIzMFx1NGUzYVx1NTQ4Y1x1OTA1M1x1NGU1Zlx1NjVmNlx1NWY5N1x1NWMzMVx1OTBhM1x1ODk4MVx1NGVlNVx1Nzc0MFx1NTNiYlx1NGU0Ylx1OGZjN1x1NWJiNlx1NWJmOVx1NTNlZlx1OTFjY1x1NTQwZVx1NGU0OFx1NTkxYVx1ODAwY1x1ODBmZFx1OTBmZFx1NzEzNlx1NmNhMVx1OGQ3N1x1OGZkOF0vZywgNyBdLApydTogWyAvW1x1MDQxMC1cdTA0MmZcdTA0MzAtXHUwNDRmXHUwNDAxXHUwNDUxXS9nLCAzIF0sCmFyOiBbIC9bXHUwNjAwLVx1MDZGRlx1MDc1MC1cdTA3N0ZcdUZCNTAtXHVGREZGXHVGRTcwLVx1RkVGRl0vZywgMSBdCn07CmZvciAodmFyIGQgaW4gbCkgbC5oYXNPd25Qcm9wZXJ0eShkKSAmJiBfLnB1c2goZCk7CnQuZXhwb3J0cyA9IHM7Cn0sIGZ1bmN0aW9uKHQsIGUpIHsKZnVuY3Rpb24gaSh0KSB7CiJzdHJpbmciICE9IHR5cGVvZiB0ICYmICh0ID0gIiIpOwpyZXR1cm4gdC5yZXBsYWNlKC9eW0EtWmEtel17NH0kLywgZnVuY3Rpb24odCkgewpyZXR1cm4gdC5zbGljZSgwLCAyKS50b0xvd2VyQ2FzZSgpICsgIl8iICsgdC5zbGljZSgyKS50b1VwcGVyQ2FzZSgpOwp9KTsKfQp2YXIgbiA9IHsKImVuLXVzIjogImVuIiwKImVuLWNhIjogImVuIiwKImVuLWdiIjogImVuIiwKImVzLTQxOSI6ICJlcyIsCiJlcy1lcyI6ICJlcyIsCmZpbDogInRsIiwKImZyLWNhIjogImZyIiwKbm86ICJuYiIsCnB0OiAicHRfQlIiLAoicHQtYnIiOiAicHRfQlIiLAp1azogInJ1IiwKInpoLWNuIjogInpoX0NOIiwKInpoLXR3IjogInpoX1RXIgp9LCBvID0gWyAicHQiLCAidWsiIF0sIHIgPSB7fTsKci56ZW5kZXNrVG9ab3BpbSA9IGZ1bmN0aW9uKHQsIGUpIHsKaWYgKCFlIHx8IC0xID09PSBvLmluZGV4T2YodCkpIHsKdmFyIHIgPSAic3RyaW5nIiA9PSB0eXBlb2YgdCA/IHQudG9Mb3dlckNhc2UoKSA6IHQsIGEgPSBuW3JdOwppZiAoYSkgcmV0dXJuIGE7Cn0KcmV0dXJuIGkodCk7Cn07CnQuZXhwb3J0cyA9IHI7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0KSB7CiItLSIgIT09IHQgJiYgdCB8fCAodCA9IF8uZ3Vlc3MoKSk7CnJldHVybiBzLnplbmRlc2tUb1pvcGltKHQsICEwKTsKfQp2YXIgbyA9IGkoMiksIHIgPSBpKDYpLCBhID0gaSgzNiksIHMgPSBpKDE5MiksIF8gPSBpKDE5MSksIGwgPSB7fTsKbC5pbml0ID0gZnVuY3Rpb24oKSB7CnZhciB0LCBlID0gci5yb290LiQoImxpdmVjaGF0IikuJCgidWkiKS4kKCJtb2NrdXAkYm9vbCIpLCBpID0gci5yb290LiQoImxpdmVjaGF0IikuJCgidWkiKS4kKCJwb3BvdXQkYm9vbCIpLCBzID0gci5yb290LiQoImxpdmVjaGF0IikuJCgidWkiKS4kKCJsYW5nX2RpciRzdHJpbmciKSwgXyA9IHIucm9vdC4kKCJsaXZlY2hhdCIpLiQoInNldHRpbmdzIikuJCgibGFuZ3VhZ2UiKS4kKCJsYW5ndWFnZSRzdHJpbmciKTsKaWYgKCFlLmdldFZhbHVlKCkpIGlmIChpLmdldFZhbHVlKCkpIHsKdCA9IGEoKS5nZXQoImxhbmciKTsKdCA9IG4odCk7Cl8udXBkYXRlKHQpOwpvICYmIG8udXBkYXRlICYmIG8udXBkYXRlKHQpOwpvICYmIG8ucnRsICYmIHMudXBkYXRlKG8ucnRsKCkgPyAicnRsIiA6ICJsdHIiKTsKfSBlbHNlIF8uYmluZFZhbHVlKGZ1bmN0aW9uKHQpIHsKaWYgKCItLSIgIT09IHQgJiYgdCkgewp0ID0gbih0KTsKbyAmJiBvLnVwZGF0ZSAmJiBvLnVwZGF0ZSh0KTsKbyAmJiBvLnJ0bCAmJiBzLnVwZGF0ZShvLnJ0bCgpID8gInJ0bCIgOiAibHRyIik7Cn0gZWxzZSB7CnQgPSBuKHQpOwpfLnVwZGF0ZSh0KTsKfQp9KTsKfTsKdC5leHBvcnRzID0gbDsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKCkgewp2YXIgdCA9IGMucm9vdDsKdSA9IHQuJCgiY29ubmVjdGlvbiIpLiQoInN0YXR1cyRzdHJpbmciKTsKYSA9IHQuJCgibGl2ZWNoYXQiKTsKcyA9IGEuJCgiYWdlbnRzIik7Cl8gPSBhLiQoImNoYW5uZWwiKS4kKCJjaGF0dGluZyRib29sIik7CmwgPSBhLiQoImFjY291bnQiKS4kKCJzdGF0dXMkc3RyaW5nIik7CmQgPSBhLiQoInVpIikuJCgibW9ja3VwJGJvb2wiKTsKcy5iaW5kS2V5cyhyKTsKfQpmdW5jdGlvbiBvKCkgewpzLnVuYmluZEtleXMocik7CmEgPSBzID0gXyA9IG51bGw7CmwgPSBkID0gdSA9IG51bGw7Cn0KZnVuY3Rpb24gcigpIHsKaWYgKCFkLmdldFZhbHVlKCkgJiYgInJlYXR0YWNoZWQiID09PSB1LmdldFZhbHVlKCkpIHsKdmFyIHQgPSBsLmdldFZhbHVlKCksIGUgPSBzLmdldEtleXMoKS5sZW5ndGg7Cl8uZ2V0VmFsdWUoKSAmJiAhZSAmJiAib2ZmbGluZSIgPT0gdCAmJiBjLmxpdmVjaGF0LmVuZENoYXQoKTsKfQp9CnZhciBhLCBzLCBfLCBsLCBkLCB1LCBjID0gaSg2KSwgaCA9IHsKaW5pdDogbiwKcmVzZXQ6IG8KfTsKdC5leHBvcnRzID0gaDsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQsIGUpIHsKZSA9IGUgfHwgd2luZG93OwpyID0gdC4kKCJsaXZlY2hhdCIpLiQoInByb2ZpbGUiKTsKdmFyIGkgPSB7CndpbmRvdzogYS5leHRlbmQoZSwgITApLApkb2N1bWVudDogYS5leHRlbmQoZS5kb2N1bWVudCwgITApCn0sIG4gPSBzLnRocm90dGxlKG8sIGwpOwppLmRvY3VtZW50Lm9uKCJtb3VzZW1vdmUiLCBuKTsKaS53aW5kb3cub24oImNsaWNrIiwgbik7Cmkud2luZG93Lm9uKCJzY3JvbGwiLCBuKTsKaS53aW5kb3cub24oImtleXByZXNzIiwgbik7Cm4oKTsKfQpmdW5jdGlvbiBvKCkgewpyLndyaXRlKHsKYWN0aXZlJGludDogK25ldyBEYXRlKCkKfSk7Cn0KdmFyIHIsIGEgPSBpKDE0KSwgcyA9IGkoMzQpLCBfID0gewppbml0OiBuCn0sIGwgPSAzZTU7CnQuZXhwb3J0cyA9IF87Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbigpIHsKYSA9IG0ucm9vdC4kKCJsaXZlY2hhdCIpLiQoInByb2ZpbGUiKTsKcyA9IGEuJCgiZGlzcGxheV9uYW1lJHN0cmluZyIpOwpsID0gYS4kKCJlbWFpbCRzdHJpbmciKTsKdSA9IGEuJCgiYXV0aCIpLiQoInR5cGUkc3RyaW5nIik7CmggPSBhLiQoImxvZ2dlZF9pbiRib29sIik7CnMub24oInZhbHVlIiwgZnVuY3Rpb24odCkgewpfID0gdDsKbygpOwp9KTsKbC5vbigidmFsdWUiLCBmdW5jdGlvbih0KSB7CmQgPSB0OwpvKCk7Cn0pOwp1Lm9uKCJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKYyA9IHQ7Cm8oKTsKfSk7CmYgPSBtLnJvb3QuJCgibGl2ZWNoYXQiKS4kKCJzZXR0aW5ncyIpOwpnID0gZi4kKCJsb2dpbiIpLiQoImFsbG93ZWRfdHlwZXMiKTsKcCA9IGYuJCgibG9naW4iKS4kKCJhbGxvd2VkX3R5cGVzX2NvdW50JGludCIpOwpnLm9uKCJ2YWx1ZSIsIGZ1bmN0aW9uKCkgewp2YXIgdCA9IGcuZ2V0VmFsdWUoKSwgZSA9IDA7CmZvciAodmFyIGkgaW4gdCkgaWYgKHQuaGFzT3duUHJvcGVydHkoaSkpIHsKaWYgKCJlbWFpbCRib29sIiA9PSBpKSBjb250aW51ZTsKdFtpXSAmJiBlKys7Cn0KZSAhPSBwLmdldFZhbHVlKCkgJiYgcC51cGRhdGUoZSk7Cn0pOwp9CmZ1bmN0aW9uIG8oKSB7CmgudXBkYXRlKHIoKSk7Cn0KZnVuY3Rpb24gcigpIHsKcmV0dXJuICEhYyB8fCAoISghZCB8fCAhKGQgKyAiIikudHJpbSgpKSB8fCAoISghXyB8fCAhKF8gKyAiIikudHJpbSgpIHx8ICQuaXNEZWZhdWx0TmFtZShfKSkgfHwgdm9pZCAwKSk7Cn0KdmFyIGEsIHMsIF8sIGwsIGQsIHUsIGMsIGgsIGYsIGcsIHAsIG0gPSBpKDYpLCAkID0gaSgxMSksIGIgPSB7CmluaXQ6IG4KfTsKdC5leHBvcnRzID0gYjsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQpIHsKZnVuY3Rpb24gZSgpIHsKYS5kaXNhYmxlTW9iaWxlTm90aWZpY2F0aW9ucyh0KTsKfQppZiAoImJvb2xlYW4iID09IHR5cGVvZiB0KSB7CnIuY2FsbE9uRmFzdEluaXQoZSk7CnIuY2FsbE9uUmVnaXN0ZXJlZChlKTsKci5pbnN0cnVtZW50KCJtb2JpbGVOb3RpZmljYXRpb25zLnNldERpc2FibGVkIik7Cn0gZWxzZSB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS5sb2coci5nZXRQcmVmaXgoKSArICI6IG1vYmlsZU5vdGlmaWNhdGlvbnMuc2V0RGlzYWJsZWQoKSBleHBlY3RzIGFyZ3VtZW50IHBhc3NlZCB0byBiZSBhIGJvb2xlYW4iKTsKfQpmdW5jdGlvbiBvKHQpIHsKZnVuY3Rpb24gZSgpIHsKYS5tb2JpbGVOb3RpZmljYXRpb25zSWdub3JlQ2hhdEJ1dHRvblZpc2liaWxpdHkodCk7Cn0KaWYgKCJib29sZWFuIiA9PSB0eXBlb2YgdCkgewpyLmNhbGxPbkZhc3RJbml0KGUpOwpyLmNhbGxPblJlZ2lzdGVyZWQoZSk7CnIuaW5zdHJ1bWVudCgibW9iaWxlTm90aWZpY2F0aW9ucy5zZXRJZ25vcmVDaGF0QnV0dG9uVmlzaWJpbGl0eSIpOwp9IGVsc2Ugd2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUubG9nKHIuZ2V0UHJlZml4KCkgKyAiOiBtb2JpbGVOb3RpZmljYXRpb25zLnNldElnbm9yZUNoYXRCdXR0b25WaXNpYmlsaXR5KCkgZXhwZWN0cyBhcmd1bWVudCBwYXNzZWQgdG8gYmUgYSBib29sZWFuIik7Cn0KdmFyIHIgPSBpKDI2KSwgYSA9IGkoMjQpLCBzID0ge307CnMuc2V0RGlzYWJsZWQgPSBuOwpzLnNldElnbm9yZUNoYXRCdXR0b25WaXNpYmlsaXR5ID0gbzsKdC5leHBvcnRzID0gczsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQpIHsKZnVuY3Rpb24gZSgpIHsKaWYgKHIodCkpIHsKcy5zYXZlQVBJU2V0dGluZ3MoewpzZXR0aW5nczogewpmb3JtczogewpvZmZsaW5lX2Zvcm06IHsKbWVzc2FnZSRzdHJpbmc6IHQKfQp9Cn0KfSk7Cm8uJCgibGl2ZWNoYXQiKS4kKCJzZXR0aW5ncyIpLiQoImZvcm1zIikuJCgib2ZmbGluZV9mb3JtIikudXBkYXRlKHsKbWVzc2FnZSRzdHJpbmc6IHQKfSk7Cn0gZWxzZSB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS5sb2cocy5nZXRQcmVmaXgoKSArICI6IG9mZmxpbmVGb3JtLnNldEdyZWV0aW5ncygpIGV4cGVjdHMgcGFzc2VkIGFyZ3VtZW50IHRvIGJlIGEgc3RyaW5nIik7Cn0KZnVuY3Rpb24gaSgpIHsKcy5yZXNldEFQSVNldHRpbmdzKHsKc2V0dGluZ3M6IHsKZm9ybXM6IHsKb2ZmbGluZV9mb3JtOiB7Cm1lc3NhZ2Ukc3RyaW5nOiBudWxsCn0KfQp9Cn0pOwp2YXIgdCA9IHMuZ2V0U2VydmVyU2V0dGluZ3MoInNldHRpbmdzLmZvcm1zLm9mZmxpbmVfZm9ybS5tZXNzYWdlJHN0cmluZyIpOwp0ICYmIG8uJCgibGl2ZWNoYXQiKS4kKCJzZXR0aW5ncyIpLiQoImZvcm1zIikuJCgib2ZmbGluZV9mb3JtIikudXBkYXRlKHsKbWVzc2FnZSRzdHJpbmc6IHQKfSk7Cn0KdmFyIG4gPSBudWxsID09PSB0ID8gaSA6IGU7CnMuc2F2ZVBvcG91dEFQSUNhbGxzKCJvZmZsaW5lRm9ybS5zZXRHcmVldGluZ3MiLCBbIHQgXSk7CnMuY2FsbE9uRmFzdEluaXQobiwgITApOwpzLmNhbGxPblJlZ2lzdGVyZWQobiwgITApOwpzLmluc3RydW1lbnQoIm9mZmxpbmVGb3JtLnNldEdyZWV0aW5ncyIpOwp9CnZhciBvLCByID0gaSgyMiksIGEgPSBpKDYpLCBzID0gaSgyNiksIF8gPSB7fTsKXy5pbml0ID0gZnVuY3Rpb24oKSB7Cm8gPSBhLnJvb3Q7Cn07Cl8uc2V0R3JlZXRpbmdzID0gbjsKdC5leHBvcnRzID0gXzsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQpIHsKZnVuY3Rpb24gZSgpIHsKcy5zYXZlQVBJU2V0dGluZ3MoewpzZXR0aW5nczogewpmb3JtczogewpwcmVfY2hhdF9mb3JtOiB7Cm1lc3NhZ2Ukc3RyaW5nOiB0Cn0KfQp9Cn0pOwpvLiQoImxpdmVjaGF0IikuJCgic2V0dGluZ3MiKS4kKCJmb3JtcyIpLiQoInByZV9jaGF0X2Zvcm0iKS51cGRhdGUoewptZXNzYWdlJHN0cmluZzogdAp9KTsKfQppZiAocih0KSkgewpzLnNhdmVQb3BvdXRBUElDYWxscygicHJlY2hhdEZvcm0uc2V0R3JlZXRpbmdzIiwgWyB0IF0pOwpzLmNhbGxPbkZhc3RJbml0KGUsICEwKTsKcy5jYWxsT25SZWdpc3RlcmVkKGUsICEwKTsKcy5pbnN0cnVtZW50KCJwcmVjaGF0Rm9ybS5zZXRHcmVldGluZ3MiKTsKfSBlbHNlIHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLmxvZyhzLmdldFByZWZpeCgpICsgIjogcHJlY2hhdEZvcm0uc2V0R3JlZXRpbmdzKCkgZXhwZWN0cyBwYXNzZWQgYXJndW1lbnQgdG8gYmUgYSBzdHJpbmciKTsKfQp2YXIgbywgciA9IGkoMjIpLCBhID0gaSg2KSwgcyA9IGkoMjYpLCBfID0ge307Cl8uaW5pdCA9IGZ1bmN0aW9uKCkgewpvID0gYS5yb290Owp9OwpfLnNldEdyZWV0aW5ncyA9IG47CnQuZXhwb3J0cyA9IF87Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDgpLCBvID0gaSg1NiksIHIgPSBpKDYpLCBhID0ge307CmEuaW5pdCA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KHQpIHsKd2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUubG9nKGkgPyBvLnN0cmluZ2lmeSh0KSA6IHQpOwp9CnZhciBlID0gci5yb290LCBpID0gbi5pc0lFIHx8IG4uaXNOZXdJRTsKYS5jb25uZWN0aW9uID0gZnVuY3Rpb24oKSB7CnQoZS4kKCJjb25uZWN0aW9uIikuZ2V0VmFsdWUoKSk7Cn07CmEubGl2ZWNoYXQgPSBmdW5jdGlvbigpIHsKdChlLiQoImxpdmVjaGF0IikuZ2V0VmFsdWUoKSk7Cn07CmEuYWxsID0gZnVuY3Rpb24oKSB7CnQoZS5nZXRWYWx1ZSgpKTsKfTsKfTsKdC5leHBvcnRzID0gYTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQpIHsKaWYgKGcodCkpIHsKdi5pbnN0cnVtZW50KCJ3aW5kb3cub25TaG93Iik7CnZhciBlID0gdi5nZXRDYWxsYmFja0NhbGxlcih0KTsKeC5vbigiQVBJOndpbmRvdzpzaG93IiwgZSk7Cn0gZWxzZSB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS5sb2codi5nZXRQcmVmaXgoKSArICI6IHdpbmRvdy5vblNob3coKSBleHBlY3RzIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgcHJvdmlkZWQiKTsKfQpmdW5jdGlvbiBvKHQpIHsKaWYgKGcodCkpIHsKdi5pbnN0cnVtZW50KCJ3aW5kb3cub25IaWRlIik7CnZhciBlID0gdi5nZXRDYWxsYmFja0NhbGxlcih0KTsKeC5vbigiQVBJOndpbmRvdzpoaWRlIiwgZSk7Cn0gZWxzZSB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS5sb2codi5nZXRQcmVmaXgoKSArICI6IHdpbmRvdy5vbkhpZGUoKSBleHBlY3RzIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgcHJvdmlkZWQiKTsKfQpmdW5jdGlvbiByKHQpIHsKZnVuY3Rpb24gZSgpIHsKdi5zYXZlQVBJU2V0dGluZ3MoewpzZXR0aW5nczogewpjaGF0X3dpbmRvdzogewp0aXRsZV9iYXI6IHsKdGl0bGUkc3RyaW5nOiB0Cn0KfQp9Cn0pOwpoLiQoImxpdmVjaGF0IikuJCgic2V0dGluZ3MiKS4kKCJjaGF0X3dpbmRvdyIpLiQoInRpdGxlX2JhciIpLnVwZGF0ZSh7CnRpdGxlJHN0cmluZzogdAp9KTsKfQp0ID0gdCAmJiB0LnRvU3RyaW5nKCk7CmlmIChmKHQpKSB7CnYuc2F2ZVBvcG91dEFQSUNhbGxzKCJ3aW5kb3cuc2V0VGl0bGUiLCBbIHQgXSk7CnYuY2FsbE9uRmFzdEluaXQoZSk7CnYuY2FsbE9uUmVnaXN0ZXJlZChlKTsKdi5pbnN0cnVtZW50KCJ3aW5kb3cuc2V0VGl0bGUiKTsKfSBlbHNlIHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLmxvZyh2LmdldFByZWZpeCgpICsgIjogd2luZG93LnNldFRpdGxlIGV4cGVjdHMgcGFzc2VkIGFyZ3VtZW50IHRvIGJlIGEgc3RyaW5nIik7Cn0KZnVuY3Rpb24gYSgpIHsKdi5jYWxsT25SZWdpc3RlcmVkKGZ1bmN0aW9uKCkgewp4LnRvZ2dsZVdpbmRvdygpOwp9KTsKdi5pbnN0cnVtZW50KCJ3aW5kb3cudG9nZ2xlIik7Cn0KZnVuY3Rpb24gcygpIHsKdi5pbnN0cnVtZW50KCJ3aW5kb3cuZ2V0RGlzcGxheSIpOwpyZXR1cm4gaC4kKCJsaXZlY2hhdCIpLiQoInVpIikuJCgiY2hhdF93aW5kb3ciKS4kKCJkaXNwbGF5JGJvb2wiKS5nZXRWYWx1ZSgpOwp9CmZ1bmN0aW9uIF8odCkgewpmdW5jdGlvbiBlKCkgewp2LnNhdmVBUElTZXR0aW5ncyh7CnNldHRpbmdzOiB7CnRoZW1lOiB7CmNoYXRfd2luZG93OiB7CnZfb2Zmc2V0JGludDogdAp9Cn0KfQp9KTsKaC4kKCJsaXZlY2hhdCIpLiQoInNldHRpbmdzIikuJCgidGhlbWUiKS4kKCJjaGF0X3dpbmRvdyIpLnVwZGF0ZSh7CnZfb2Zmc2V0JGludDogdAp9KTsKfQp0ID0gcGFyc2VJbnQodCwgMTApOwppZiAoaXNOYU4odCkgfHwgdCA8IDApIHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLmxvZyh2LmdldFByZWZpeCgpICsgJzogd2luZG93LnNldE9mZnNldFZlcnRpY2FsKCkgSW52YWxpZCBhcmd1bWVudC4gQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlciAoMjApIG9yIGluIHBpeGVscyAoIjIwcHgiKSBhbmQgbm90IHNtYWxsZXIgdGhhbiAwJyk7IGVsc2Ugewp2LmNhbGxPbkZhc3RJbml0KGUsICEwKTsKdi5jYWxsT25SZWdpc3RlcmVkKGUsICEwKTsKdi5pbnN0cnVtZW50KCJ3aW5kb3cuc2V0T2Zmc2V0VmVydGljYWwiKTsKfQp9CmZ1bmN0aW9uIGwodCkgewpmdW5jdGlvbiBlKCkgewp2LnNhdmVBUElTZXR0aW5ncyh7CnNldHRpbmdzOiB7CnRoZW1lOiB7CmNoYXRfd2luZG93OiB7Cmhfb2Zmc2V0JGludDogdAp9Cn0KfQp9KTsKaC4kKCJsaXZlY2hhdCIpLiQoInNldHRpbmdzIikuJCgidGhlbWUiKS4kKCJjaGF0X3dpbmRvdyIpLnVwZGF0ZSh7Cmhfb2Zmc2V0JGludDogdAp9KTsKfQp0ID0gcGFyc2VJbnQodCwgMTApOwppZiAoaXNOYU4odCkgfHwgdCA8IDApIHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLmxvZyh2LmdldFByZWZpeCgpICsgJzogd2luZG93LnNldE9mZnNldEhvcml6b250YWwoKSBJbnZhbGlkIGFyZ3VtZW50LiBBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyICgyMCkgb3IgaW4gcGl4ZWxzICgiMjBweCIpIGFuZCBub3Qgc21hbGxlciB0aGFuIDAnKTsgZWxzZSB7CnYuY2FsbE9uRmFzdEluaXQoZSwgITApOwp2LmNhbGxPblJlZ2lzdGVyZWQoZSwgITApOwp2Lmluc3RydW1lbnQoIndpbmRvdy5zZXRPZmZzZXRIb3Jpem9udGFsIik7Cn0KfQpmdW5jdGlvbiBkKHQpIHsKZnVuY3Rpb24gZSgpIHsKdi5zYXZlQVBJU2V0dGluZ3MoewpzZXR0aW5nczogewp0aGVtZTogewpjaGF0X3dpbmRvdzogewpwb3NpdGlvbiRzdHJpbmc6IHQKfQp9Cn0KfSk7CmguJCgibGl2ZWNoYXQiKS4kKCJzZXR0aW5ncyIpLiQoInRoZW1lIikuJCgiY2hhdF93aW5kb3ciKS51cGRhdGUoewpwb3NpdGlvbiRzdHJpbmc6IHQKfSk7Cn0KaWYgKGYodCkpIHsKdi5jYWxsT25GYXN0SW5pdChlLCAhMCk7CnYuY2FsbE9uUmVnaXN0ZXJlZChlLCAhMCk7CnYuaW5zdHJ1bWVudCgid2luZG93LnNldFBvc2l0aW9uIik7Cn0gZWxzZSB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS5sb2codi5nZXRQcmVmaXgoKSArICI6IHdpbmRvdy5zZXRQb3NpdGlvbigpIGV4cGVjdHMgcGFzc2VkIGFyZ3VtZW50IHRvIGJlIGEgc3RyaW5nIik7Cn0KZnVuY3Rpb24gdSgpIHsKaWYgKGIuaXNBdXRoZW50aWNhdGVkKCkpIHsKd2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUubG9nKHYuZ2V0UHJlZml4KCkgKyAiOiBvcGVuUG9wb3V0IEFQSSBpZ25vcmVkIGZvciBhdXRoZW50aWNhdGVkIHZpc2l0b3JzLiBGYWxsaW5nIGJhY2sgdG8gd2luZG93LnNob3coKS4uLiIpOwp5LnNob3coKTsKcmV0dXJuICExOwp9CmlmIChnKHcuaXNSZWFkeSkgJiYgdy5pc1JlYWR5KCkgJiYgbS5yZXF1ZXN0UGVybWlzc2lvbigpKSB7CnYuaW5zdHJ1bWVudCgid2luZG93Lm9wZW5Qb3BvdXQiKTsKcmV0dXJuIHcub3BlblBvcG91dCghMCk7Cn0KcmV0dXJuICExOwp9CnZhciBjLCBoLCBmID0gaSgyMiksIGcgPSBpKDIwKSwgcCA9IGkoNDApLCBtID0gaSg0MSksICQgPSBpKDYpLCBiID0gaSg0NSksIHcgPSBpKDcxKSwgeCA9IGkoMjQpLCB2ID0gaSgyNiksIHkgPSB7fTsKeS5pbml0ID0gZnVuY3Rpb24odCkgewpmdW5jdGlvbiBlKCkgewpmdW5jdGlvbiB0KCkgewp4LnNob3dXaW5kb3coKTsKfQp2YXIgZSA9IHAub25jZSh0KTsKdi5jYWxsT25GYXN0SW5pdChlKTsKdi5jYWxsT25SZWdpc3RlcmVkKGUpOwp2Lmluc3RydW1lbnQoIndpbmRvdy5zaG93Iik7Cn0KZnVuY3Rpb24gaSgpIHsKZnVuY3Rpb24gdCgpIHsKeC5oaWRlV2luZG93KCk7Cn0KdmFyIGUgPSBwLm9uY2UodCk7CnYuY2FsbE9uRmFzdEluaXQoZSk7CnYuY2FsbE9uUmVnaXN0ZXJlZChlKTsKdi5pbnN0cnVtZW50KCJ3aW5kb3cuaGlkZSIpOwp9CmMgPSB0OwpoID0gJC5yb290Owp5LnNldENvbG9yID0gYy5nZW5lcmF0ZURlcHJlY2F0ZWRGdW5jdGlvbigid2luZG93LnNldENvbG9yIiwgIiR6b3BpbS5saXZlY2hhdC50aGVtZS5zZXRDb2xvciIsIGZ1bmN0aW9uKCkgewp2Lmluc3RydW1lbnQoIndpbmRvdy5zZXRDb2xvciIpOwpyZXR1cm4gYy50aGVtZS5zZXRDb2xvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9KTsKeS5zZXRTaXplID0gYy5nZW5lcmF0ZUxpbWl0ZWRGdW5jdGlvbigid2luZG93LnNldFNpemUiLCAxLCBmdW5jdGlvbih0KSB7CmZ1bmN0aW9uIGUoKSB7CnYuc2F2ZUFQSVNldHRpbmdzKHsKc2V0dGluZ3M6IHsKdGhlbWU6IHsKY2hhdF93aW5kb3c6IHsKc2l6ZSRzdHJpbmc6IHQKfQp9Cn0KfSk7CmguJCgibGl2ZWNoYXQiKS4kKCJzZXR0aW5ncyIpLiQoInRoZW1lIikuJCgiY2hhdF93aW5kb3ciKS51cGRhdGUoewpzaXplJHN0cmluZzogdAp9KTsKfQppZiAoZih0KSAmJiB0KSB7CnYuY2FsbE9uRmFzdEluaXQoZSk7CnYuY2FsbE9uUmVnaXN0ZXJlZChlKTsKdi5pbnN0cnVtZW50KCJ3aW5kb3cuc2V0U2l6ZSIpOwp9IGVsc2Ugd2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUubG9nKHYuZ2V0UHJlZml4KCkgKyAiOiB3aW5kb3cuc2V0U2l6ZSBleHBlY3RzIHBhc3NlZCBhcmd1bWVudCB0byBiZSBhIG5vbi1lbXB0eSBzdHJpbmciKTsKfSk7Cnkuc2hvdyA9IGU7CnkuaGlkZSA9IGk7Cn07Cnkub25TaG93ID0gbjsKeS5vbkhpZGUgPSBvOwp5LnNldFRpdGxlID0gcjsKeS50b2dnbGUgPSBhOwp5LmdldERpc3BsYXkgPSBzOwp5LnNldE9mZnNldEJvdHRvbSA9IHkuc2V0T2Zmc2V0VmVydGljYWwgPSBfOwp5LnNldE9mZnNldEhvcml6b250YWwgPSBsOwp5LnNldFBvc2l0aW9uID0gZDsKeS5vcGVuUG9wb3V0ID0gdTsKdC5leHBvcnRzID0geTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKCkgewp2YXIgdCA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7CnYuc2F2ZVBvcG91dEFQSUNhbGxzKCJkZXBhcnRtZW50cy5maWx0ZXIiLCB0KTsKdi5pbnN0cnVtZW50KCJkZXBhcnRtZW50cy5maWx0ZXIiKTsKaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHsKYiA9IHQ7CmlmIChqKSByKCk7IGVsc2UgewokLnVwZGF0ZSghMCk7CmcuYmluZFZhbHVlKHIpOwpqID0gITA7Cn0KfSBlbHNlIHsKJC51cGRhdGUoITEpOwpnLnVuYmluZFZhbHVlKHIpOwpqID0gITE7Cn0KfQpmdW5jdGlvbiBvKHQpIHsKdmFyIGUsIGkgPSB7fSwgbiA9IGcuZ2V0VmFsdWUoKTsKaWYgKCFuKSByZXR1cm4gaTsKZm9yICh2YXIgbyA9IHQubGVuZ3RoOyBvLS07ICkgewplID0gdFtvXTsKIm51bWJlciIgIT0gdHlwZW9mIGUgJiYgKGUgPSBjKGUpKTsKbltlXSAmJiAoaVtlXSA9ICEwKTsKfQpyZXR1cm4gaTsKfQpmdW5jdGlvbiByKCkgewppZiAoIXcgJiYgYikgewp2YXIgdCA9IHt9LCBlID0gZy5nZXRWYWx1ZSgpLCBpID0gbyhiKTsKaWYgKGUpIHsKZm9yICh2YXIgbiBpbiBlKSBlLmhhc093blByb3BlcnR5KG4pICYmICh0W25dID0gewpkaXNwbGF5JGJvb2w6IG4gaW4gaQp9KTsKdyA9ICEwOwpwLnVwZGF0ZSh0KTsKdyA9ICExOwp9Cn0KfQpmdW5jdGlvbiBhKHQpIHsKZnVuY3Rpb24gZSgpIHsKcyh0KTsKfQp2LmNhbGxPbkZhc3RJbml0KGUpOwp2LmNhbGxPblJlZ2lzdGVyZWQoZSwgITApOwp2Lmluc3RydW1lbnQoImRlcGFydG1lbnRzLnNldFZpc2l0b3JEZXBhcnRtZW50Iik7Cn0KZnVuY3Rpb24gcyh0KSB7CiJudW1iZXIiICE9IHR5cGVvZiB0ICYmICh0ID0gYyh0KSk7CnQgJiYgbS5wYXJlbnROb2RlLndyaXRlKHsKZGVwYXJ0bWVudF9pZCRpbnQ6IHQKfSk7Cn0KZnVuY3Rpb24gXygpIHsKdi5jYWxsT25GYXN0SW5pdChsKTsKdi5jYWxsT25SZWdpc3RlcmVkKGwsICEwKTsKdi5pbnN0cnVtZW50KCJkZXBhcnRtZW50cy5jbGVhclZpc2l0b3JEZXBhcnRtZW50Iik7Cn0KZnVuY3Rpb24gbCgpIHsKbS5wYXJlbnROb2RlLndyaXRlKHsKZGVwYXJ0bWVudF9pZCRpbnQ6IG51bGwKfSk7Cn0KZnVuY3Rpb24gZCh0KSB7CiJudW1iZXIiICE9IHR5cGVvZiB0ICYmICh0ID0gYyh0KSk7CmlmICh0KSB7CnZhciBlID0gZy4kKHQpLmdldFZhbHVlKCk7CmlmIChlKSB7CnYuaW5zdHJ1bWVudCgiZGVwYXJ0bWVudHMuZ2V0RGVwYXJ0bWVudCIpOwpyZXR1cm4gewppZDogdCwKbmFtZTogZS5uYW1lJHN0cmluZywKc3RhdHVzOiBlLnN0YXR1cyRzdHJpbmcKfTsKfQp9Cn0KZnVuY3Rpb24gdSgpIHsKdmFyIHQgPSBnLmdldFZhbHVlKCksIGUgPSBbXTsKZm9yICh2YXIgaSBpbiB0KSB0Lmhhc093blByb3BlcnR5KGkpICYmIGUucHVzaCh7CmlkOiBwYXJzZUludChpLCAxMCksCm5hbWU6IHRbaV0ubmFtZSRzdHJpbmcsCnN0YXR1czogdFtpXS5zdGF0dXMkc3RyaW5nCn0pOwp2Lmluc3RydW1lbnQoImRlcGFydG1lbnRzLmdldEFsbERlcGFydG1lbnRzIik7CnJldHVybiBlOwp9CmZ1bmN0aW9uIGModCkgewp0ID0gdCAmJiB0LnRvU3RyaW5nKCk7CmlmICh0KSB7CnZhciBlID0gZy5nZXRWYWx1ZSgpOwpmb3IgKHZhciBpIGluIGUpIGlmIChlLmhhc093blByb3BlcnR5KGkpICYmIGVbaV0ubmFtZSRzdHJpbmcgPT0gdCkgcmV0dXJuIHBhcnNlSW50KGksIDEwKTsKfQp9CmZ1bmN0aW9uIGgodCkgewpmdW5jdGlvbiBlKCkgewp2LnNhdmVBUElTZXR0aW5ncyh7CnNldHRpbmdzOiB7CmZvcm1zOiB7CnByZV9jaGF0X2Zvcm06IHsKZm9ybTogewoyOiB7CmxhYmVsJHN0cmluZzogdAp9Cn0KfQp9Cn0KfSk7CmYuJCgibGl2ZWNoYXQiKS4kKCJzZXR0aW5ncyIpLiQoImZvcm1zIikuJCgicHJlX2NoYXRfZm9ybSIpLiQoImZvcm0iKS4kKCIyIikudXBkYXRlKHsKbGFiZWwkc3RyaW5nOiB0Cn0pOwp9CmlmICh0ICYmICJzdHJpbmciID09IHR5cGVvZiB0KSB7CnYuc2F2ZVBvcG91dEFQSUNhbGxzKCJkZXBhcnRtZW50cy5zZXRMYWJlbCIsIFsgdCBdKTsKdi5jYWxsT25GYXN0SW5pdChlLCAhMCk7CnYuY2FsbE9uUmVnaXN0ZXJlZChlLCAhMCk7CnYuaW5zdHJ1bWVudCgiZGVwYXJ0bWVudHMuc2V0TGFiZWwiKTsKfSBlbHNlIHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLmxvZyh2LmdldFByZWZpeCgpICsgIjogZGVwYXJ0bWVudHMuc2V0TGFiZWwoKSBleHBlY3RzIHBhc3NlZCBhcmd1bWVudCB0byBiZSBhIG5vbi1lbXB0eSBzdHJpbmciKTsKfQp2YXIgZiwgZywgcCwgbSwgJCwgYiwgdywgeCA9IGkoNiksIHYgPSBpKDI2KSwgeSA9IHt9Owp5LmluaXQgPSBmdW5jdGlvbigpIHsKZiA9IHgucm9vdDsKZyA9IGYuJCgibGl2ZWNoYXQiKS4kKCJkZXBhcnRtZW50cyIpOwpwID0gZi4kKCJsaXZlY2hhdCIpLiQoInVpIikuJCgiZGVwYXJ0bWVudHMiKS4kKCJvcHRpb25zIik7Cm0gPSBmLiQoImxpdmVjaGF0IikuJCgicHJvZmlsZSIpLiQoImRlcGFydG1lbnRfaWQkaW50Iik7CiQgPSBmLiQoImxpdmVjaGF0IikuJCgidWkiKS4kKCJkZXBhcnRtZW50cyIpLiQoImZpbHRlcl9lbmFibGVkJGJvb2wiKTsKfTsKdmFyIGo7CnkuZmlsdGVyID0gbjsKeS5zZXRWaXNpdG9yRGVwYXJ0bWVudCA9IGE7CnkuY2xlYXJWaXNpdG9yRGVwYXJ0bWVudCA9IF87CnkuZ2V0RGVwYXJ0bWVudCA9IGQ7CnkuZ2V0QWxsRGVwYXJ0bWVudHMgPSB1Owp5LnNldExhYmVsID0gaDsKdC5leHBvcnRzID0geTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKCkgewpzLmVuYWJsZUNvb2tpZUxhdygpOwpfLmluc3RydW1lbnQoImNvb2tpZUxhdy5jb21wbHkiKTsKfQpmdW5jdGlvbiBvKCkgewpzLnNldERlZmF1bHRJbXBsaWNpdENvbnNlbnQoKTsKXy5pbnN0cnVtZW50KCJjb29raWVMYXcuc2V0RGVmYXVsdEltcGxpY2l0Q29uc2VudCIpOwp9CnZhciByLCBhID0gaSg2KSwgcyA9IGkoNDEpLCBfID0gaSgyNiksIGwgPSB7fTsKbC5pbml0ID0gZnVuY3Rpb24oKSB7CnIgPSBhLnJvb3Q7Cn07CmwuY29tcGx5ID0gbjsKbC5zZXREZWZhdWx0SW1wbGljaXRDb25zZW50ID0gbzsKdC5leHBvcnRzID0gbDsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQpIHsKZnVuY3Rpb24gZSgpIHsKXy5zYXZlQVBJU2V0dGluZ3MoewpzZXR0aW5nczogewpjb25jaWVyZ2U6IHQKfQp9KTsKci4kKCJsaXZlY2hhdCIpLiQoInNldHRpbmdzIikuJCgiY29uY2llcmdlIikudXBkYXRlKHQpOwp9Cl8uY2FsbE9uRmFzdEluaXQoZSwgITApOwpfLmNhbGxPblJlZ2lzdGVyZWQoZSwgITApOwp9CnZhciBvLCByLCBhID0gaSgyMiksIHMgPSBpKDYpLCBfID0gaSgyNiksIGwgPSB7fTsKbC5pbml0ID0gZnVuY3Rpb24odCkgewpmdW5jdGlvbiBlKHQpIHsKdCA9IHQgfHwgIiI7CmlmIChhKHQpKSB7Cm4oewpkaXNwbGF5X25hbWUkc3RyaW5nOiB0Cn0pOwpfLnNhdmVQb3BvdXRBUElDYWxscygiY29uY2llcmdlLnNldE5hbWUiLCBbIHQgXSk7Cl8uaW5zdHJ1bWVudCgiY29uY2llcmdlLnNldE5hbWUiKTsKfSBlbHNlIHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLmxvZyhfLmdldFByZWZpeCgpICsgIjogY29uY2llcmdlLnNldE5hbWUoKSBleHBlY3RzIHBhc3NlZCBhcmd1bWVudCB0byBiZSBhIHN0cmluZyIpOwp9CmZ1bmN0aW9uIGkodCkgewp0ID0gdCB8fCAiIjsKaWYgKGEodCkpIHsKbih7CnRpdGxlJHN0cmluZzogdAp9KTsKXy5zYXZlUG9wb3V0QVBJQ2FsbHMoImNvbmNpZXJnZS5zZXRUaXRsZSIsIFsgdCBdKTsKXy5pbnN0cnVtZW50KCJjb25jaWVyZ2Uuc2V0VGl0bGUiKTsKfSBlbHNlIHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLmxvZyhfLmdldFByZWZpeCgpICsgIjogY29uY2llcmdlLnNldFRpdGxlKCkgZXhwZWN0cyBwYXNzZWQgYXJndW1lbnQgdG8gYmUgYSBzdHJpbmciKTsKfQpvID0gdDsKciA9IHMucm9vdDsKbC5zZXRBdmF0YXIgPSBvLmdlbmVyYXRlTGltaXRlZEZ1bmN0aW9uKCJjb25jaWVyZ2Uuc2V0QXZhdGFyIiwgMSwgZnVuY3Rpb24odCkgewp0ID0gdCB8fCAiIjsKaWYgKGEodCkpIHsKbih7CmF2YXRhcl9wYXRoJHN0cmluZzogdAp9KTsKXy5zYXZlUG9wb3V0QVBJQ2FsbHMoImNvbmNpZXJnZS5zZXRBdmF0YXIiLCBbIHQgXSk7Cl8uaW5zdHJ1bWVudCgiY29uY2llcmdlLnNldEF2YXRhciIpOwp9IGVsc2Ugd2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUubG9nKF8uZ2V0UHJlZml4KCkgKyAiOiBjb25jaWVyZ2Uuc2V0QXZhdGFyKCkgZXhwZWN0cyBwYXNzZWQgYXJndW1lbnQgdG8gYmUgYSBzdHJpbmciKTsKfSk7Cmwuc2V0TmFtZSA9IGU7Cmwuc2V0VGl0bGUgPSBpOwp9Owp0LmV4cG9ydHMgPSBsOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4oKSB7CmZ1bmN0aW9uIHQoKSB7CiQuaGlkZUJ1dHRvbigpOwp9CnZhciBlID0gcC5vbmNlKHQpOwp3LmNhbGxPbkZhc3RJbml0KGUpOwp3LmNhbGxPblJlZ2lzdGVyZWQoZSk7CncuaW5zdHJ1bWVudCgiYnV0dG9uLmhpZGUiKTsKfQpmdW5jdGlvbiBvKCkgewpmdW5jdGlvbiB0KCkgewokLnNob3dCdXR0b24oKTsKfQp2YXIgZSA9IHAub25jZSh0KTsKdy5jYWxsT25GYXN0SW5pdChlKTsKdy5jYWxsT25SZWdpc3RlcmVkKGUpOwp3Lmluc3RydW1lbnQoImJ1dHRvbi5zaG93Iik7Cn0KZnVuY3Rpb24gcih0KSB7CmZ1bmN0aW9uIGUoKSB7Cncuc2F2ZUFQSVNldHRpbmdzKHsKc2V0dGluZ3M6IHsKdGhlbWU6IHsKY2hhdF9idXR0b246IHsKdl9vZmZzZXQkaW50OiB0Cn0KfQp9Cn0pOwpjLiQoImxpdmVjaGF0IikuJCgic2V0dGluZ3MiKS4kKCJ0aGVtZSIpLiQoImNoYXRfYnV0dG9uIikudXBkYXRlKHsKdl9vZmZzZXQkaW50OiB0Cn0pOwp9CnQgPSBwYXJzZUludCh0LCAxMCk7CmlmIChpc05hTih0KSB8fCB0IDwgMCkgd2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUubG9nKHcuZ2V0UHJlZml4KCkgKyAnOiBidXR0b24uc2V0T2Zmc2V0VmVydGljYWwoKSBJbnZhbGlkIGFyZ3VtZW50LiBBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyICgyMCkgb3IgaW4gcGl4ZWxzICgiMjBweCIpIGFuZCBub3Qgc21hbGxlciB0aGFuIDAnKTsgZWxzZSB7CncuY2FsbE9uRmFzdEluaXQoZSwgITApOwp3LmNhbGxPblJlZ2lzdGVyZWQoZSwgITApOwp3Lmluc3RydW1lbnQoImJ1dHRvbi5zZXRPZmZzZXRWZXJ0aWNhbCIpOwp9Cn0KZnVuY3Rpb24gYSh0KSB7CmZ1bmN0aW9uIGUoKSB7Cncuc2F2ZUFQSVNldHRpbmdzKHsKc2V0dGluZ3M6IHsKdGhlbWU6IHsKY2hhdF9idXR0b246IHsKdl9vZmZzZXRfbW9iaWxlJGludDogdAp9Cn0KfQp9KTsKYy4kKCJsaXZlY2hhdCIpLiQoInNldHRpbmdzIikuJCgidGhlbWUiKS4kKCJjaGF0X2J1dHRvbiIpLnVwZGF0ZSh7CnZfb2Zmc2V0X21vYmlsZSRpbnQ6IHQKfSk7Cn0KdCA9IHBhcnNlSW50KHQsIDEwKTsKaWYgKGlzTmFOKHQpIHx8IHQgPCAwKSB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS5sb2cody5nZXRQcmVmaXgoKSArICc6IGJ1dHRvbi5zZXRPZmZzZXRWZXJ0aWNhbE1vYmlsZSgpIEludmFsaWQgYXJndW1lbnQuIEFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXIgKDIwKSBvciBpbiBwaXhlbHMgKCIyMHB4IikgYW5kIG5vdCBzbWFsbGVyIHRoYW4gMCcpOyBlbHNlIHsKdy5jYWxsT25GYXN0SW5pdChlLCAhMCk7CncuY2FsbE9uUmVnaXN0ZXJlZChlLCAhMCk7CncuaW5zdHJ1bWVudCgiYnV0dG9uLnNldE9mZnNldFZlcnRpY2FsTW9iaWxlIik7Cn0KfQpmdW5jdGlvbiBzKHQpIHsKZnVuY3Rpb24gZSgpIHsKdy5zYXZlQVBJU2V0dGluZ3MoewpzZXR0aW5nczogewp0aGVtZTogewpjaGF0X2J1dHRvbjogewpoX29mZnNldCRpbnQ6IHQKfQp9Cn0KfSk7CmMuJCgibGl2ZWNoYXQiKS4kKCJzZXR0aW5ncyIpLiQoInRoZW1lIikuJCgiY2hhdF9idXR0b24iKS51cGRhdGUoewpoX29mZnNldCRpbnQ6IHQKfSk7Cn0KdCA9IHBhcnNlSW50KHQsIDEwKTsKaWYgKGlzTmFOKHQpIHx8IHQgPCAwKSB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS5sb2cody5nZXRQcmVmaXgoKSArICc6IGJ1dHRvbi5zZXRPZmZzZXRIb3Jpem9udGFsKCkgSW52YWxpZCBhcmd1bWVudC4gQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlciAoMjApIG9yIGluIHBpeGVscyAoIjIwcHgiKSBhbmQgbm90IHNtYWxsZXIgdGhhbiAwJyk7IGVsc2Ugewp3LmNhbGxPbkZhc3RJbml0KGUsICEwKTsKdy5jYWxsT25SZWdpc3RlcmVkKGUsICEwKTsKdy5pbnN0cnVtZW50KCJidXR0b24uc2V0T2Zmc2V0SG9yaXpvbnRhbCIpOwp9Cn0KZnVuY3Rpb24gXyh0KSB7CmZ1bmN0aW9uIGUoKSB7Cncuc2F2ZUFQSVNldHRpbmdzKHsKc2V0dGluZ3M6IHsKdGhlbWU6IHsKY2hhdF9idXR0b246IHsKaF9vZmZzZXRfbW9iaWxlJGludDogdAp9Cn0KfQp9KTsKYy4kKCJsaXZlY2hhdCIpLiQoInNldHRpbmdzIikuJCgidGhlbWUiKS4kKCJjaGF0X2J1dHRvbiIpLnVwZGF0ZSh7Cmhfb2Zmc2V0X21vYmlsZSRpbnQ6IHQKfSk7Cn0KdCA9IHBhcnNlSW50KHQsIDEwKTsKaWYgKGlzTmFOKHQpIHx8IHQgPCAwKSB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS5sb2cody5nZXRQcmVmaXgoKSArICc6IGJ1dHRvbi5zZXRPZmZzZXRIb3Jpem9udGFsTW9iaWxlKCkgSW52YWxpZCBhcmd1bWVudC4gQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlciAoMjApIG9yIGluIHBpeGVscyAoIjIwcHgiKSBhbmQgbm90IHNtYWxsZXIgdGhhbiAwJyk7IGVsc2Ugewp3LmNhbGxPbkZhc3RJbml0KGUsICEwKTsKdy5jYWxsT25SZWdpc3RlcmVkKGUsICEwKTsKdy5pbnN0cnVtZW50KCJidXR0b24uc2V0T2Zmc2V0SG9yaXpvbnRhbE1vYmlsZSIpOwp9Cn0KZnVuY3Rpb24gbCh0KSB7CmZ1bmN0aW9uIGUoKSB7Cncuc2F2ZUFQSVNldHRpbmdzKHsKc2V0dGluZ3M6IHsKdGhlbWU6IHsKY2hhdF9idXR0b246IHsKcG9zaXRpb24kc3RyaW5nOiB0Cn0KfQp9Cn0pOwpjLiQoImxpdmVjaGF0IikuJCgic2V0dGluZ3MiKS4kKCJ0aGVtZSIpLiQoImNoYXRfYnV0dG9uIikudXBkYXRlKHsKcG9zaXRpb24kc3RyaW5nOiB0Cn0pOwp9CmlmICghaCkgaWYgKGcodCkpIHsKdy5jYWxsT25GYXN0SW5pdChlLCAhMCk7CncuY2FsbE9uUmVnaXN0ZXJlZChlLCAhMCk7CncuaW5zdHJ1bWVudCgiYnV0dG9uLnNldFBvc2l0aW9uIik7Cn0gZWxzZSB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS5sb2cody5nZXRQcmVmaXgoKSArICI6IGJ1dHRvbi5zZXRQb3NpdGlvbigpIGV4cGVjdHMgcGFzc2VkIGFyZ3VtZW50IHRvIGJlIGEgc3RyaW5nIik7Cn0KZnVuY3Rpb24gZCh0KSB7CmZ1bmN0aW9uIGUoKSB7Cncuc2F2ZUFQSVNldHRpbmdzKHsKc2V0dGluZ3M6IHsKdGhlbWU6IHsKY2hhdF9idXR0b246IHsKcG9zaXRpb25fbW9iaWxlJHN0cmluZzogdAp9Cn0KfQp9KTsKYy4kKCJsaXZlY2hhdCIpLiQoInNldHRpbmdzIikuJCgidGhlbWUiKS4kKCJjaGF0X2J1dHRvbiIpLnVwZGF0ZSh7CnBvc2l0aW9uX21vYmlsZSRzdHJpbmc6IHQKfSk7Cn0KaWYgKGcodCkpIHsKdy5jYWxsT25GYXN0SW5pdChlLCAhMCk7CncuY2FsbE9uUmVnaXN0ZXJlZChlLCAhMCk7CncuaW5zdHJ1bWVudCgiYnV0dG9uLnNldFBvc2l0aW9uTW9iaWxlIik7Cn0gZWxzZSB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS5sb2cody5nZXRQcmVmaXgoKSArICI6IGJ1dHRvbi5zZXRQb3NpdGlvbk1vYmlsZSgpIGV4cGVjdHMgcGFzc2VkIGFyZ3VtZW50IHRvIGJlIGEgc3RyaW5nIik7Cn0KdmFyIHUsIGMsIGgsIGYgPSBpKDEyKSwgZyA9IGkoMjIpLCBwID0gaSg0MCksIG0gPSBpKDYpLCAkID0gaSgyNCksIGIgPSBpKDExNSksIHcgPSBpKDI2KSwgeCA9IHt9Owp4LmluaXQgPSBmdW5jdGlvbih0KSB7CmZ1bmN0aW9uIGUodCkgewpmdW5jdGlvbiBlKCkgewokLnNldEhpZGVXaGVuT2ZmbGluZSh0KTsKfQp0ID0gZih0KTsKdy5jYWxsT25GYXN0SW5pdChlLCAhMCk7CncuY2FsbE9uUmVnaXN0ZXJlZChlLCAhMCk7CncuaW5zdHJ1bWVudCgiYnV0dG9uLnNldEhpZGVXaGVuT2ZmbGluZSIpOwp9CnUgPSB0OwpjID0gbS5yb290OwpoID0gYy4kKCJsaXZlY2hhdCIpLiQoInVpIikuJCgibW9iaWxlJGJvb2wiKS5nZXRWYWx1ZSgpOwp4LnNldENvbG9yID0gdS5nZW5lcmF0ZURlcHJlY2F0ZWRGdW5jdGlvbigiYnV0dG9uLnNldENvbG9yIiwgIiR6b3BpbS5saXZlY2hhdC50aGVtZS5zZXRDb2xvciIsIGZ1bmN0aW9uKCkgewp3Lmluc3RydW1lbnQoImJ1dHRvbi5zZXRDb2xvciIpOwpyZXR1cm4gYi5zZXRDb2xvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9KTsKeC5zZXRIaWRlV2hlbk9mZmxpbmUgPSB1LmdlbmVyYXRlTGltaXRlZEZ1bmN0aW9uKCJidXR0b24uc2V0SGlkZVdoZW5PZmZsaW5lIiwgMSwgZSk7Cn07CnguaGlkZSA9IG47Cnguc2hvdyA9IG87Cnguc2V0T2Zmc2V0Qm90dG9tID0geC5zZXRPZmZzZXRWZXJ0aWNhbCA9IHI7Cnguc2V0T2Zmc2V0VmVydGljYWxNb2JpbGUgPSBhOwp4LnNldE9mZnNldEhvcml6b250YWwgPSBzOwp4LnNldE9mZnNldEhvcml6b250YWxNb2JpbGUgPSBfOwp4LnNldFBvc2l0aW9uID0gbDsKeC5zZXRQb3NpdGlvbk1vYmlsZSA9IGQ7CnQuZXhwb3J0cyA9IHg7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbigpIHsKZnVuY3Rpb24gdCgpIHsKYy5zaG93QnViYmxlKCk7Cn0KaC5jYWxsT25GYXN0SW5pdCh0KTsKaC5jYWxsT25SZWdpc3RlcmVkKHQpOwpoLmluc3RydW1lbnQoImJ1YmJsZS5zaG93Iik7Cn0KZnVuY3Rpb24gbygpIHsKZnVuY3Rpb24gdCgpIHsKYy5oaWRlQnViYmxlKCk7Cn0KaC5jYWxsT25GYXN0SW5pdCh0KTsKaC5jYWxsT25SZWdpc3RlcmVkKHQpOwpoLmluc3RydW1lbnQoImJ1YmJsZS5oaWRlIik7Cn0KZnVuY3Rpb24gcigpIHsKZnVuY3Rpb24gdCgpIHsKYy5yZXNldEJ1YmJsZSgpOwp9CmguY2FsbE9uRmFzdEluaXQodCk7CmguY2FsbE9uUmVnaXN0ZXJlZCh0KTsKaC5pbnN0cnVtZW50KCJidWJibGUucmVzZXQiKTsKfQpmdW5jdGlvbiBhKHQpIHsKZnVuY3Rpb24gZSgpIHsKaC5zYXZlQVBJU2V0dGluZ3MoewpzZXR0aW5nczogewpidWJibGU6IHsKdGl0bGUkc3RyaW5nOiB0Cn0KfQp9KTsKbC4kKCJsaXZlY2hhdCIpLiQoInNldHRpbmdzIikuJCgiYnViYmxlIikudXBkYXRlKHsKdGl0bGUkc3RyaW5nOiB0Cn0pOwp9CmlmICh0ICYmIGQodCkpIHsKaC5jYWxsT25GYXN0SW5pdChlLCAhMCk7CmguY2FsbE9uUmVnaXN0ZXJlZChlLCAhMCk7CmguaW5zdHJ1bWVudCgiYnViYmxlLnNldFRpdGxlIik7Cn0gZWxzZSB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS5sb2coaC5nZXRQcmVmaXgoKSArICI6IGJ1YmJsZS5zZXRUaXRsZSgpIGV4cGVjdHMgcGFzc2VkIGFyZ3VtZW50IHRvIGJlIGEgbm9uLWVtcHR5IHN0cmluZyIpOwp9CmZ1bmN0aW9uIHModCkgewpmdW5jdGlvbiBlKCkgewpoLnNhdmVBUElTZXR0aW5ncyh7CnNldHRpbmdzOiB7CmJ1YmJsZTogewp0ZXh0JHN0cmluZzogdAp9Cn0KfSk7CmwuJCgibGl2ZWNoYXQiKS4kKCJzZXR0aW5ncyIpLiQoImJ1YmJsZSIpLnVwZGF0ZSh7CnRleHQkc3RyaW5nOiB0Cn0pOwp9CmlmICh0ICYmIGQodCkpIHsKaC5jYWxsT25GYXN0SW5pdChlLCAhMCk7CmguY2FsbE9uUmVnaXN0ZXJlZChlLCAhMCk7CmguaW5zdHJ1bWVudCgiYnViYmxlLnNldFRleHQiKTsKfSBlbHNlIHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLmxvZyhoLmdldFByZWZpeCgpICsgIjogYnViYmxlLnNldFRleHQoKSBleHBlY3RzIHBhc3NlZCBhcmd1bWVudCB0byBiZSBhIG5vbi1lbXB0eSBzdHJpbmciKTsKfQp2YXIgXywgbCwgZCA9IGkoMjIpLCB1ID0gaSg2KSwgYyA9IGkoMjQpLCBoID0gaSgyNiksIGYgPSB7fTsKZi5pbml0ID0gZnVuY3Rpb24odCkgewpfID0gdDsKbCA9IHUucm9vdDsKZi5zZXRDb2xvciA9IF8uZ2VuZXJhdGVMaW1pdGVkRnVuY3Rpb24oImJ1YmJsZS5zZXRDb2xvciIsIDEsIGZ1bmN0aW9uKHQpIHsKaC5pbnN0cnVtZW50KCJidWJibGUuc2V0Q29sb3IiKTsKcmV0dXJuIF8udGhlbWUuc2V0Q29sb3IodCwgImJ1YmJsZSIpOwp9KTsKfTsKZi5zaG93ID0gbjsKZi5oaWRlID0gbzsKZi5yZXNldCA9IHI7CmYuc2V0VGl0bGUgPSBhOwpmLnNldFRleHQgPSBzOwp0LmV4cG9ydHMgPSBmOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4odCkgewpmdW5jdGlvbiBlKCkgewpkLnNhdmVBUElTZXR0aW5ncyh7CnNldHRpbmdzOiB7CmJhbm5lcjogdAp9Cn0pOwpyLiQoImxpdmVjaGF0IikuJCgic2V0dGluZ3MiKS4kKCJiYW5uZXIiKS51cGRhdGUodCk7Cn0KZC5jYWxsT25GYXN0SW5pdChlLCAhMCk7CmQuY2FsbE9uUmVnaXN0ZXJlZChlLCAhMCk7Cn0KdmFyIG8sIHIsIGEgPSBpKDMxKSwgcyA9IGkoMjIpLCBfID0gaSg2KSwgbCA9IGkoMjQpLCBkID0gaSgyNiksIHUgPSB7fTsKdS5pbml0ID0gZnVuY3Rpb24odCkgewpmdW5jdGlvbiBlKHQpIHsKZnVuY3Rpb24gZSgpIHsKdCA9IHQgfHwgIiI7CnModCkgPyBuKHsKdGV4dCRzdHJpbmc6IHQKfSkgOiB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS5sb2coZC5nZXRQcmVmaXgoKSArICI6IGJhZGdlLnNldFRleHQoKSBleHBlY3RzIHBhc3NlZCBhcmd1bWVudCB0byBiZSBhIHN0cmluZyIpOwp9CmQuY2FsbE9uRmFzdEluaXQoZSwgITApOwpkLmNhbGxPblJlZ2lzdGVyZWQoZSwgITApOwpkLmluc3RydW1lbnQoImJhZGdlLnNldFRleHQiKTsKfQpmdW5jdGlvbiBpKCkgewpmdW5jdGlvbiB0KCkgewpsLnNob3dCYW5uZXIoKTsKfQpkLmNhbGxPbkZhc3RJbml0KHQpOwpkLmNhbGxPblJlZ2lzdGVyZWQodCk7CmQuaW5zdHJ1bWVudCgiYmFkZ2Uuc2hvdyIpOwp9CmZ1bmN0aW9uIGMoKSB7CmZ1bmN0aW9uIHQoKSB7CmwuaGlkZUJhbm5lcigpOwp9CmQuY2FsbE9uRmFzdEluaXQodCk7CmQuY2FsbE9uUmVnaXN0ZXJlZCh0KTsKZC5pbnN0cnVtZW50KCJiYWRnZS5oaWRlIik7Cn0KbyA9IHQ7CnIgPSBfLnJvb3Q7CnUuc2V0TGF5b3V0ID0gZnVuY3Rpb24oKSB7CnZhciB0ID0gWyAiaW1hZ2VfcmlnaHQiLCAiaW1hZ2VfbGVmdCIsICJ0ZXh0X29ubHkiLCAiaW1hZ2Vfb25seSIgXSwgZSA9IHQuam9pbigiLCAiKTsKcmV0dXJuIG8uZ2VuZXJhdGVMaW1pdGVkRnVuY3Rpb24oImJhZGdlLnNldExheW91dCIsIDEsIGZ1bmN0aW9uKGkpIHsKZnVuY3Rpb24gbygpIHsKaSAmJiAtMSAhPSBhKGksIHQpID8gbih7CmxheW91dCRzdHJpbmc6IGkKfSkgOiB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS5sb2coIkludmFsaWQgbGF5b3V0LiBWYWxpZCBsYXlvdXRzOiAiICsgZSk7Cn0KZC5jYWxsT25GYXN0SW5pdChvLCAhMCk7CmQuY2FsbE9uUmVnaXN0ZXJlZChvLCAhMCk7CmQuaW5zdHJ1bWVudCgiYmFkZ2Uuc2V0TGF5b3V0Iik7Cn0pOwp9KCk7CnUuc2V0SW1hZ2UgPSBvLmdlbmVyYXRlTGltaXRlZEZ1bmN0aW9uKCJiYWRnZS5zZXRJbWFnZSIsIDEsIGZ1bmN0aW9uKHQpIHsKZnVuY3Rpb24gZSgpIHsKdCA9IHQgfHwgIiI7CnModCkgPyBuKHsKaW1hZ2VfcGF0aCRzdHJpbmc6IHQKfSkgOiB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS5sb2coZC5nZXRQcmVmaXgoKSArICI6IGJhZGdlLnNldEltYWdlKCkgZXhwZWN0cyBwYXNzZWQgYXJndW1lbnQgdG8gYmUgYSBzdHJpbmciKTsKfQpkLmNhbGxPbkZhc3RJbml0KGUsICEwKTsKZC5jYWxsT25SZWdpc3RlcmVkKGUsICEwKTsKZC5pbnN0cnVtZW50KCJiYWRnZS5zZXRJbWFnZSIpOwp9KTsKdS5zZXRDb2xvciA9IG8uZ2VuZXJhdGVMaW1pdGVkRnVuY3Rpb24oImJhZGdlLnNldENvbG9yIiwgMSwgZnVuY3Rpb24odCkgewpkLmluc3RydW1lbnQoImJhZGdlLnNldENvbG9yIik7CnJldHVybiBvLnRoZW1lLnNldENvbG9yKHQsICJiYWRnZSIpOwp9KTsKdS5zZXRUZXh0ID0gZTsKdS5zaG93ID0gaTsKdS5oaWRlID0gby5nZW5lcmF0ZUxpbWl0ZWRGdW5jdGlvbigiYmFkZ2UuaGlkZSIsIDEsIGMpOwp9Owp0LmV4cG9ydHMgPSB1Owp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4oKSB7CnMgPSBkLnJvb3QuJCgibGl2ZWNoYXQiKTsKXyA9IHMuJCgiYWdlbnRzIik7CmwgPSBzLiQoInVpIikuJCgiY2FjaGVfYWdlbnRzIik7Cl8uYmluZFZhbHVlKHIpOwp9CmZ1bmN0aW9uIG8oKSB7Cl8udW5iaW5kVmFsdWUocik7CnMgPSBfID0gbCA9IG51bGw7Cn0KZnVuY3Rpb24gcih0KSB7CnQgJiYgbC51cGRhdGUoYSh0KSk7Cn0KZnVuY3Rpb24gYSh0KSB7CnZhciBlLCBpLCBuID0ge307CmlmICghdCkgcmV0dXJuIHt9Owpmb3IgKGUgaW4gdCkgaWYgKHQuaGFzT3duUHJvcGVydHkoZSkpIHsKaSA9IHRbZV07CmlmIChudWxsID09PSBpKSBjb250aW51ZTsKbltlXSA9ICJvYmplY3QiID09IHR5cGVvZiBpID8gYShpKSA6IGk7Cn0KcmV0dXJuIG47Cn0KdmFyIHMsIF8sIGwsIGQgPSBpKDYpLCB1ID0gewppbml0OiBuLApyZXNldDogbwp9Owp0LmV4cG9ydHMgPSB1Owp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4oKSB7CmEgPSBkLnJvb3QuJCgibGl2ZWNoYXQiKTsKcyA9IGEuJCgiYWdlbnRzIik7Cl8gPSBhLiQoInRyaWdnZXJzIikuJCgiYWdlbnRzIik7CmwgPSBhLiQoInVpIikuJCgiY2hhdF93aW5kb3ciKS4kKCJ0eXBpbmdfaW5mbyIpOwpzLm9uKCJ2YWx1ZSIsIG8pOwpfLm9uKCJ2YWx1ZSIsIG8pOwp9CmZ1bmN0aW9uIG8oKSB7CnZhciB0LCBlID0gcy5nZXRWYWx1ZSgpLCBpID0gXy5nZXRWYWx1ZSgpLCBuID0gW107CmlmIChlKSBmb3IgKHQgaW4gZSkgZS5oYXNPd25Qcm9wZXJ0eSh0KSAmJiBlW3RdLnR5cGluZyRib29sICYmIG4ucHVzaChlW3RdLmRpc3BsYXlfbmFtZSRzdHJpbmcpOwppZiAoaSkgZm9yICh0IGluIGkpIGkuaGFzT3duUHJvcGVydHkodCkgJiYgaVt0XS50eXBpbmckYm9vbCAmJiBuLnB1c2godCk7CmwudXBkYXRlKHsKYWdlbnRfdHlwaW5nJGJvb2w6IG4ubGVuZ3RoID4gMCwKYWdlbnRfbmFtZXMkc3RyaW5nOiBuLmpvaW4odSksCm51bV90eXBpbmdfYWdlbnRzJGludDogbi5sZW5ndGgKfSk7Cn0KZnVuY3Rpb24gcigpIHsKXy51bigidmFsdWUiLCBvKTsKcy51bigidmFsdWUiLCBvKTsKYSA9IHMgPSBfID0gbCA9IHZvaWQgMDsKfQp2YXIgYSwgcywgXywgbCwgZCA9IGkoNiksIHUgPSAiLCAiLCBjID0gewpTRVBBUkFUT1I6IHUsCmluaXQ6IG4sCnJlc2V0U3RhdGU6IHIKfTsKdC5leHBvcnRzID0gYzsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSBpKDIpLCBfID0gaSg0KTsKbi5fXyQkX19qeF91aV9XaWRnZXQgPSBpKDcpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19HcmF2YXRhciA9IGkoODMpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Db250cm9scyA9IGkoNDkpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19CdXR0b24gPSBpKDE3KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgbCwgZCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBsLCBkKTsKbyA9IG8gfHwgXy5nZW5lcmF0ZUlEKCk7CnZhciB1ID0gcygxMTQpLCBjID0gcygxMTUpLCBoID0gWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICIiLCAiIiwgW10sIHsKYWRkQ2xhc3M6ICJwYXBlciIKfSBdLCBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19HcmF2YXRhciwgImdyYXZhdGFyIiwgIiIsIFtdLCB7CmlkOiAiZ3JhdmF0YXIiLAphZGRDbGFzczogInJvdW5kZWRfYXZhdGFyIgp9IF0sIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICIiLCAiIiwgW10sIHsKYWRkQ2xhc3M6ICJhZ2VudF9wcm9maWxlX3NwYWNlciIKfSBdLCBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiYWdlbnRfbmFtZSIsICIiLCBbXSwgewppZDogImFnZW50X25hbWUiLAphZGRDbGFzczogImFnZW50X25hbWUiCn0gXSBdLCB7CmFkZENsYXNzOiAiYWdlbnRfcHJvZmlsZSIKfSBdLCBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiY2hhdF9tc2ciLCAiIiwgW10sIHsKaWQ6ICJjaGF0X21zZyIsCmFkZENsYXNzOiAidGV4dF9jb250YWluZXIiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Db250cm9scywgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQnV0dG9uLCAicmVwbHlfYnRuIiwgIiIsIFsgdSBdLCB7CnBsYWNlbWVudDogInByaW1hcnkiLAppZDogInJlcGx5X2J0biIsCmFkZENsYXNzOiAid2lkZSIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0J1dHRvbiwgImRpc21pc3NfYnRuIiwgIiIsIFsgYyBdLCB7CnBsYWNlbWVudDogInNlY29uZGFyeSIsCmlkOiAiZGlzbWlzc19idG4iLAphZGRDbGFzczogIndpZGUgc2Vjb25kYXJ5Igp9IF0gXSwgewphZGRDbGFzczogImNvbnRyb2xzX2NvbnRhaW5lciIKfSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIiwKInhtbG5zOm1vYmlsZUNoYXROb3RpZmljYXRpb24iOiAibWVzaGltLndpZGdldC5jb21wb25lbnRzLm1vYmlsZUNoYXROb3RpZmljYXRpb24iCn0gXSwgZiA9IGhbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBfLm1hbmdsZUlEcyhvLCBoWzNdKSwgaFs0XSksIGcgPSBmIHx8IHRoaXM7Cl8uc2V0KG8sIGcpOwp2YXIgcCA9IF8uZ2V0KG8gKyAiX19ncmF2YXRhciIpLCBtID0gXy5nZXQobyArICJfX2FnZW50X25hbWUiKSwgJCA9IF8uZ2V0KG8gKyAiX19jaGF0X21zZyIpLCBiID0gXy5nZXQobyArICJfX3JlcGx5X2J0biIpLCB3ID0gXy5nZXQobyArICJfX2Rpc21pc3NfYnRuIik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciB4ID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQodCkgewpwLnNldE1lbWJlck5vZGUodCk7Cn0KZnVuY3Rpb24gZSh0KSB7Cm8gJiYgZy5hdXRvdW5iaW5kKG8sICJ2YWx1ZSIsIG4pOwpvID0gdDsKbyAmJiBnLmF1dG9iaW5kKG8sICJ2YWx1ZSIsIG4pOwp9CmZ1bmN0aW9uIG4odCkgewppZiAodCkgewoiYXR0YWNobWVudCIgaW4gdCA/ICQuc2V0VGV4dChyLmNoYXRfbm90aWZpY2F0aW9uLmF0dGFjaG1lbnQpIDogIm1zZyRzdHJpbmciIGluIHQgJiYgJC5zZXRUZXh0KHQubXNnJHN0cmluZyk7CiJkaXNwbGF5X25hbWUkc3RyaW5nIiBpbiB0ICYmIG0uc2V0VGV4dCh0LmRpc3BsYXlfbmFtZSRzdHJpbmcpOwp9Cn0KdmFyIG8sIHIgPSBpKDEwKSwgYSA9IGkoNiksIHMgPSBpKDI0KSwgXyA9IGEucm9vdC4kKCJsaXZlY2hhdCIpLiQoInVpIikuJCgiY2hhdF9ub3RpZmljYXRpb24iKTsKZy5zZXRBZ2VudERhdGFOb2RlID0gdDsKZy5zZXRMb2dEYXRhTm9kZSA9IGU7CiFmdW5jdGlvbigpIHsKdy5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKcy51c2VyRGlzbWlzc01vYmlsZU5vdGlmaWNhdGlvbigpOwpfLndyaXRlKHsKZGlzbWlzc19jbGlja2VkJGJvb2w6ICEwCn0pOwp9KTsKYi5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKcy51c2VyUmVwbHlNb2JpbGVOb3RpZmljYXRpb24oKTsKXy53cml0ZSh7CnJlcGx5X2NsaWNrZWQkYm9vbDogITAKfSk7Cn0pOwp9KCk7Cn0oKTsKZm9yICh2YXIgdiBpbiB4KSBnW3ZdID0geFt2XTsKZy5maXJlICYmIGcuZmlyZSgiaW5pdCIpOwpnLnNldFN0eWxlICYmIGcuc2V0U3R5bGUocik7Cmcuc2V0QXR0cmlidXRlcyAmJiBnLnNldEF0dHJpYnV0ZXMoZCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGcuYWRkQ2hpbGRyZW4gPyBnLmFkZENoaWxkcmVuKGwpIDogXy5hZGRDaGlsZHJlbihnLCBsKTsKaWYgKGcgIT09IHRoaXMpIHsKZy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmcuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGc7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfV2lkZ2V0LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIucGFwZXIiOiB7CnBvc2l0aW9uOiAiYWJzb2x1dGUiLAp0b3A6ICIxNHB4IiwKImJvdHRvbSwgbGVmdCwgcmlnaHQiOiAwLApiYWNrZ3JvdW5kQ29sb3I6ICJ3aGl0ZSIsCm9wYWNpdHk6ICIwLjkiLAp6SW5kZXg6ICItMSIsCmJveFNoYWRvdzogIjAgMCAycHggcmdiYSgwLCAwLCAwLCAwLjUpOyIsCmJvcmRlclJhZGl1czogIjVweCIsCm1hcmdpbjogIjAgMnB4IDJweCIKfSwKIi5hZ2VudF9wcm9maWxlIjogewp3aWR0aDogIjEwMCUiLApkaXNwbGF5OiBbICJmbGV4IiwgIi13ZWJraXQtZmxleCIgXSwKImFsaWduSXRlbXMsIC13ZWJraXQtYWxpZ24taXRlbXMiOiAiZmxleC1lbmQiLApwb3NpdGlvbjogInJlbGF0aXZlIiwKcGFkZGluZzogIjAgMTRweCIKfSwKIi5yb3VuZGVkX2F2YXRhciI6IHsKImZsZXhTaHJpbmssIC13ZWJraXQtZmxleC1zaHJpbmsiOiAiMCIsCmJvcmRlclJhZGl1czogIjUwJSIsCiJ3aWR0aCwgaGVpZ2h0IjogIjQwcHgiLApib3JkZXI6ICIxcHggc29saWQgI2RkZCIKfSwKIi5hZ2VudF9wcm9maWxlX3NwYWNlciI6IHsKImZsZXhTaHJpbmssIC13ZWJraXQtZmxleC1zaHJpbmsiOiAiMCIsCndpZHRoOiAiOHB4Igp9LAoiLmFnZW50X25hbWUiOiB7CiJmbGV4R3JvdywgLXdlYmtpdC1mbGV4LWdyb3ciOiAiMSIsCnBvc2l0aW9uOiAicmVsYXRpdmUiLApib3R0b206ICI0cHgiLApjb2xvcjogIiQkcHJvZmlsZUNhcmROYW1lQ29sb3IiLApmb250V2VpZ2h0OiAiYm9sZCIsCm92ZXJmbG93OiAiaGlkZGVuIiwKdGV4dE92ZXJmbG93OiAiZWxsaXBzaXMiLAp3aGl0ZVNwYWNlOiAibm93cmFwIgp9LAoiLmNvbnRyb2xzX2NvbnRhaW5lciI6IHsKcG9zaXRpb246ICJhYnNvbHV0ZSIsCiJib3R0b20sIGxlZnQsIHJpZ2h0IjogMCwKcGFkZGluZzogIjEwcHgiCn0sCiIudGV4dF9jb250YWluZXIiOiB7CndpZHRoOiAiMTAwJSIsCnBhZGRpbmc6ICIxMHB4IiwKcGFkZGluZ1RvcDogIjZweCIsCm92ZXJmbG93OiAiaGlkZGVuIiwKdGV4dE92ZXJmbG93OiAiZWxsaXBzaXMiLAp3aGl0ZVNwYWNlOiAibm93cmFwIgp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX2p4X3VpX1dpZGdldCwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfbW9iaWxlQ2hhdE5vdGlmaWNhdGlvbl9Ob3RpZmljYXRpb25DYXJkIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fanhfdWlfRmxvYXRpbmdGcmFtZSA9IGkoNzIpOwpuLl9fJCRfX2p4X3VpX0Z1bGxGcmFtZSA9IGkoOTApOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19tb2JpbGVDaGF0Tm90aWZpY2F0aW9uX05vdGlmaWNhdGlvbkNhcmQgPSBpKDIxMCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX2ZvbnRMb2FkZXJfWm9waW1Gb250ID0gaSg1OSk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIF8sIGwpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgXywgbCk7Cm8gPSBvIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgZCA9IFsgbi5fXyQkX19qeF91aV9GbG9hdGluZ0ZyYW1lLCAiIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX0Z1bGxGcmFtZSwgIm5vdGlmaWNhdGlvbl9jYXJkX2NvbnRhaW5lciIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfbW9iaWxlQ2hhdE5vdGlmaWNhdGlvbl9Ob3RpZmljYXRpb25DYXJkLCAibm90aWZpY2F0aW9uX2NhcmQiLCAiIiwgW10sIHsKaWQ6ICJub3RpZmljYXRpb25fY2FyZCIsCmFkZENsYXNzOiAibm90aWZpY2F0aW9uX2NhcmQiCn0gXSBdLCB7CmlkOiAibm90aWZpY2F0aW9uX2NhcmRfY29udGFpbmVyIiwKYWRkQ2xhc3M6ICJub3RpZmljYXRpb25fY2FyZF9jb250YWluZXIiLApvdmVyZmxvdzogImhpZGRlbiIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX2ZvbnRMb2FkZXJfWm9waW1Gb250LCAiIiwgIiIsIFtdLCB7fSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIiwKInhtbG5zOm1vYmlsZUNoYXROb3RpZmljYXRpb24iOiAibWVzaGltLndpZGdldC5jb21wb25lbnRzLm1vYmlsZUNoYXROb3RpZmljYXRpb24iLApwb3NpdGlvbjogImZpeGVkIiwKYm90dG9tOiAiMCIsCmxlZnQ6ICIwIiwKcmlnaHQ6ICIwIiwKd2lkdGg6ICIxMDAlIiwKaGVpZ2h0OiAiMTMycHgiLAptaW5XaWR0aDogIjIyMHB4IiwKbWF4V2lkdGg6ICIzNTBweCIsCm1hcmdpbkxlZnQ6ICJhdXRvIiwKbWFyZ2luUmlnaHQ6ICJhdXRvIiwKekluZGV4OiAiMTYwMDAwMDQiLAp1c2VEaXNwbGF5OiAidHJ1ZSIsCnZpc2libGU6ICJmYWxzZSIsCmFkZENsYXNzOiAiem9waW0iCn0gXSwgdSA9IGRbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBzLm1hbmdsZUlEcyhvLCBkWzNdKSwgZFs0XSksIGMgPSB1IHx8IHRoaXM7CnMuc2V0KG8sIGMpOwp2YXIgaCA9IHMuZ2V0KG8gKyAiX19ub3RpZmljYXRpb25fY2FyZF9jb250YWluZXIiKSwgZiA9IHMuZ2V0KG8gKyAiX19ub3RpZmljYXRpb25fY2FyZCIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgZyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KCkgewp2YXIgdCA9IHdpbmRvdy5pbm5lcldpZHRoOwppZiAoISh0IDwgdykpIHsKdmFyIGUgPSBwYXJzZUZsb2F0KEIuZ2V0VmFsdWUoKSksIGkgPSBlICogZy5NT0JJTEVfWk9PTV9BRERJVElPTkFMOwpiIC8gaSA+IHQgJiYgKGkgPSAoYiArIDQpIC8gdCk7CmMuc2V0U3R5bGUoewptYXhXaWR0aDogYiAvIGkgKyAicHgiLApoZWlnaHQ6ICQgLyBpICsgInB4Igp9KTsKaC5zZXRTdHlsZSh7CnRyYW5zZm9ybTogInNjYWxlKCIgKyAxIC8gaSArICIpIiwKIi13ZWJraXQtdHJhbnNmb3JtIjogInNjYWxlKCIgKyAxIC8gaSArICIpIiwKdHJhbnNmb3JtT3JpZ2luOiAidG9wIGxlZnQiLAoiLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luIjogInRvcCBsZWZ0IiwKd2lkdGg6IGIgKyAicHgiLApoZWlnaHQ6ICQgKyAicHgiCn0pOwp9Cn0KZnVuY3Rpb24gZShlKSB7CmlmIChlICYmICEocGFyc2VGbG9hdChCLmdldFZhbHVlKCkpID4gMSkpIHsKdmFyIGkgPSBBLmdldFZhbHVlKCk7CmlmICghKGkgPiBlIHx8IHZvaWQgMCA9PT0gaSkgJiYgKGUgPCBrLmdldFZhbHVlKCkgfHwgIWsuZ2V0VmFsdWUoKSkpIHsKdmFyIG4gPSBULmdldFZhbHVlKCksIG8gPSBDLiQoImxvZyIpLiQobiksIHIgPSBvLmdldFZhbHVlKCksIGEgPSByLm5pY2skc3RyaW5nLCBzID0gai4kKCJhZ2VudHMiKS4kKGEpOwpudWxsID09PSBzLmdldFZhbHVlKCkgJiYgKHMgPSBqLiQoInNldHRpbmdzIikuJCgiY29uY2llcmdlIikpOwp0KCk7CmYuc2V0QWdlbnREYXRhTm9kZShzKTsKZi5zZXRMb2dEYXRhTm9kZShvKTsKZC5zaG93TW9iaWxlTm90aWZpY2F0aW9uKCk7Cn0KfQp9CmZ1bmN0aW9uIG4odCkgewpjLnNldFZpc2libGUoITApOwpyID0gY2xlYXJUaW1lb3V0KHIpOwphLmFuaW1hdGUoewplbmRTdHlsZTogdiwKZHVyYXRpb246IDIwMAp9LCBmdW5jdGlvbihlKSB7CmlmICghZSkgewpOLndyaXRlKHsKc2hvd24kYm9vbDogITAKfSk7CnIgPSBzZXRUaW1lb3V0KGQuaGlkZU1vYmlsZU5vdGlmaWNhdGlvbiwgbSk7Cn0KdCAmJiB0KGUpOwp9KTsKfQpmdW5jdGlvbiBvKHQpIHsKciA9IGNsZWFyVGltZW91dChyKTsKYS5hbmltYXRlKHsKZW5kU3R5bGU6IHgsCmR1cmF0aW9uOiAyMDAKfSwgZnVuY3Rpb24oZSkgewplIHx8IGMuc2V0VmlzaWJsZSghMSk7CnQgJiYgdChlKTsKfSk7Cn0KdmFyIHIsIGEsIHMgPSBpKDYpLCBfID0gaSg1NyksIGwgPSBpKDkyKSwgZCA9IGkoMjQpLCB1ID0gaSg2NiksIGcgPSBpKDM1KSwgcCA9IGkoNDcpLCBtID0gNzIwMCwgJCA9IDEzMiwgYiA9IDM1MCwgdyA9IDk4MCwgeCA9IHsKb3BhY2l0eTogMCwKdHJhbnNsYXRlWTogIjEwMCUiCn0sIHYgPSB7Cm9wYWNpdHk6IDEsCnRyYW5zbGF0ZVk6ICIwJSIKfSwgeSA9IHMucm9vdCwgaiA9IHkuJCgibGl2ZWNoYXQiKSwgQyA9IGouJCgiY2hhbm5lbCIpLCBTID0gai4kKCJ1aSIpLCBBID0geS4kKCJjb25uZWN0aW9uIikuJCgicmVhdHRhY2hlZF90aW1lc3RhbXAkaW50IiksIGsgPSBDLiQoImZpcnN0X3Zpc2l0b3JfbXNnX3RzJGludCIpLCBJID0gQy4kKCJmaXJzdF9hY2NvdW50X21zZ190cyRpbnQiKSwgVCA9IEMuJCgiZmlyc3RfYWNjb3VudF9tc2dfaWQkc3RyaW5nIiksIE4gPSBTLiQoImNoYXRfbm90aWZpY2F0aW9uIiksIEIgPSBTLiQoImNoYXRfYnV0dG9uIikuJCgibW9iaWxlIikuJCgiY2FsY3VsYXRlZF9zdHlsZXMiKS4kKCJ6b29tJHN0cmluZyIpOwohZnVuY3Rpb24oKSB7CmMuZGVmYXVsdFBsYWNlbWVudC5hZGRDbGFzcyhjLl9fanhfX2ZxbmFtZSk7CmMuZGVmYXVsdFBsYWNlbWVudC5hZGRDbGFzcyhfLnByb3RvdHlwZS5fX2p4X19mcW5hbWUpOwpjLnNldENTU1N0eWxlKCJ3aWxsQ2hhbmdlIiwgInRyYW5zZm9ybSIpOwpwKGMuaWJvZHkpOwphID0gbmV3IHUoYywgeCk7CmMuYXV0b2JpbmQoSSwgInZhbHVlIiwgZSk7CmMubW92ZURvd24gPSBvOwpjLm1vdmVVcCA9IG47CmwucmVnaXN0ZXJDaGF0Tm90aWZpY2F0aW9uKGMpOwp9KCk7Cn0oKTsKZm9yICh2YXIgcCBpbiBnKSBjW3BdID0gZ1twXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfRmxvYXRpbmdGcmFtZS5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiLm5vdGlmaWNhdGlvbl9jYXJkIjogewpwb3NpdGlvbjogInJlbGF0aXZlIiwKaGVpZ2h0OiAiMTIycHgiLAp3aWR0aDogIjEwMCUiCn0sCiIubm90aWZpY2F0aW9uX2NhcmRfY29udGFpbmVyIjogewpwYWRkaW5nTGVmdDogIjVweCIsCnBhZGRpbmdSaWdodDogIjVweCIKfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9GbG9hdGluZ0ZyYW1lLCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfY29tcG9uZW50c19Nb2JpbGVDaGF0Tm90aWZpY2F0aW9uIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fanhfdWlfRnVsbEZyYW1lID0gaSg5MCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX21vYmlsZUNoYXRXaW5kb3dfTWFpblNjcmVlbiA9IGkoMTE3KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfZm9udExvYWRlcl9ab3BpbUZvbnQgPSBpKDU5KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX2p4X3VpX0Z1bGxGcmFtZSwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfbW9iaWxlQ2hhdFdpbmRvd19NYWluU2NyZWVuLCAiIiwgIiIsIFtdLCB7fSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX2ZvbnRMb2FkZXJfWm9waW1Gb250LCAiIiwgIiIsIFtdLCB7fSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIiwKInhtbG5zOm1vYmlsZVdpbmRvdyI6ICJtZXNoaW0ud2lkZ2V0LmNvbXBvbmVudHMubW9iaWxlQ2hhdFdpbmRvdyIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBoID0gZnVuY3Rpb24oKSB7CnZhciB0ID0gaSg2MCksIGUgPSBpKDQ3KTsKIWZ1bmN0aW9uKCkgewplKGMpOwp0LmluaXQoKTsKfSgpOwp9KCk7CmZvciAodmFyIGYgaW4gaCkgY1tmXSA9IGhbZl07CmMuZmlyZSAmJiBjLmZpcmUoImluaXQiKTsKYy5zZXRTdHlsZSAmJiBjLnNldFN0eWxlKHIpOwpjLnNldEF0dHJpYnV0ZXMgJiYgYy5zZXRBdHRyaWJ1dGVzKGwpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBjLmFkZENoaWxkcmVuID8gYy5hZGRDaGlsZHJlbihfKSA6IHMuYWRkQ2hpbGRyZW4oYywgXyk7CmlmIChjICE9PSB0aGlzKSB7CmMuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpjLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBjOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2p4X3VpX0Z1bGxGcmFtZS5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0ge307CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX2p4X3VpX0Z1bGxGcmFtZSwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfUG9wb3V0TW9iaWxlQ2hhdFdpbmRvdyIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbigpIHsKdmFyIHQgPSB1LmdldERvY3VtZW50U2Nyb2xsRWxlbWVudCgpOwpfID0gdC5zY3JvbGxUb3A7CmwgPSB0LnNjcm9sbExlZnQ7Cn0KZnVuY3Rpb24gbygpIHsKaWYgKHZvaWQgMCAhPT0gXykgewp2YXIgdCA9IHUuZ2V0RG9jdW1lbnRTY3JvbGxFbGVtZW50KCk7CnQuc2Nyb2xsVG9wID0gXzsKdC5zY3JvbGxMZWZ0ID0gbDsKfQp9CmZ1bmN0aW9uIHIoKSB7CmlmIChzKSByZXR1cm4gczsKcyA9IGRvY3VtZW50LnNjcm9sbGluZ0VsZW1lbnQgPyBkb2N1bWVudC5zY3JvbGxpbmdFbGVtZW50IDogIWQuaXNXZWJLaXQgJiYgZC5pc1N0cmljdCA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA6IGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OwpyZXR1cm4gczsKfQpmdW5jdGlvbiBhKCkgewpfID0gbCA9IHMgPSB2b2lkIDA7Cn0KdmFyIHMsIF8sIGwsIGQgPSBpKDgpLCB1ID0gewpzdG9yZTogbiwKcmVzdG9yZTogbywKcmVzZXRTdGF0ZTogYSwKZ2V0RG9jdW1lbnRTY3JvbGxFbGVtZW50OiByCn07CnQuZXhwb3J0cyA9IHU7Cn0sIGZ1bmN0aW9uKHQsIGUpIHsKZnVuY3Rpb24gaSh0KSB7CnZhciBlLCBpLCBzOwppZiAoZG9jdW1lbnQuYm9keSAmJiBkb2N1bWVudC5ib2R5LnN0eWxlKSB7Cm4gPSBkb2N1bWVudC5ib2R5LnN0eWxlLCB0ID0gISF0OwppZiAodCAmJiAhbykgewpmb3IgKGUgPSAwLCBpID0gci5sZW5ndGg7IGUgPCBpOyBlKyspIHsKcyA9IHJbZV07CmFbc10gPSBuW3NdOwp9Cm4ucG9zaXRpb24gPSAiZml4ZWQiOwpuLm92ZXJmbG93WSA9ICJoaWRkZW4iOwpuLndlYmtpdFRleHRTaXplQWRqdXN0ID0gIjEwMCUiOwpuLndpZHRoID0gIjEwMCUiOwpuLm1pbkhlaWdodCA9ICIxMDAlIjsKbi5tYXJnaW4gPSAiMHB4IjsKbyA9ICEwOwp9IGVsc2UgaWYgKCF0ICYmIG8pIHsKZm9yIChlID0gMCwgaSA9IHIubGVuZ3RoOyBlIDwgaTsgZSsrKSB7CnMgPSByW2VdOwpuW3NdID0gYVtzXTsKfQpvID0gITE7Cn0KfQp9CnZhciBuLCBvLCByID0gWyAicG9zaXRpb24iLCAib3ZlcmZsb3dZIiwgIndlYmtpdFRleHRTaXplQWRqdXN0IiwgIndpZHRoIiwgIm1pbkhlaWdodCIsICJtYXJnaW4iIF0sIGEgPSB7fTsKaS5yZXNldFN0YXRlID0gZnVuY3Rpb24oKSB7Cm8gPSB2b2lkIDA7CmEgPSB7fTsKfTsKdC5leHBvcnRzID0gaTsKfSwgZnVuY3Rpb24odCwgZSkgewpmdW5jdGlvbiBpKHQpIHsKdmFyIGU7CmlmICh0ICYmICFzKSB7CmUgPSBuKCk7CnIgPSBlLmdldEF0dHJpYnV0ZSgiY29udGVudCIpIHx8ICIiOwplLnNldEF0dHJpYnV0ZSgiY29udGVudCIsIF8pOwpzID0gITA7Cn0gZWxzZSBpZiAoIXQgJiYgcykgewplID0gbigpOwplLnNldEF0dHJpYnV0ZSgiY29udGVudCIsIHIpOwpzID0gITE7Cn0KfQpmdW5jdGlvbiBuKCkgewppZiAoYSkgcmV0dXJuIGE7CnZhciB0ID0gZG9jdW1lbnQuaGVhZC5xdWVyeVNlbGVjdG9yQWxsKCJtZXRhW25hbWU9dmlld3BvcnRdIik7CmEgPSB0W3QubGVuZ3RoIC0gMV0gfHwgbygpOwpyZXR1cm4gYTsKfQpmdW5jdGlvbiBvKCkgewp2YXIgdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm1ldGEiKTsKdC5zZXRBdHRyaWJ1dGUoIm5hbWUiLCAidmlld3BvcnQiKTsKZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCh0KTsKcmV0dXJuIHQ7Cn0KdmFyIHIsIGEsIHMsIF8gPSAid2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEsIG1heGltdW0tc2NhbGU9MSwgdXNlci1zY2FsYWJsZT1ubyI7CmkucmVzZXRTdGF0ZSA9IGZ1bmN0aW9uKCkgewphICYmIGEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKTsKciA9IGEgPSBzID0gdm9pZCAwOwp9Owp0LmV4cG9ydHMgPSBpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfVG9hc3QgPSBpKDExMSk7Cm4uX18kJF9fanhfdWlfaHRtbF9kaXYgPSBpKDEzKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfSWNvbkZvbnQgPSBpKDE1KTsKbi5fXyQkX19qeF91aV9odG1sX3NwYW4gPSBpKDMwKTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Ub2FzdCwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfSWNvbkZvbnQsICIiLCAiIiwgW10sIHsKaWNvbjogImFycm93X2Rvd25fbG9uZyIsCmFkZENsYXNzOiAiYXJyb3dfZG93bl9sb25nIgp9IF0gXSwgewphZGRDbGFzczogImFycm93X2NvbnRhaW5lciIKfSBdLCBbIG4uX18kJF9fanhfdWlfaHRtbF9zcGFuLCAibWVzc2FnZSIsICIiLCBbXSwgewppZDogIm1lc3NhZ2UiCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIsCmRpc3BsYXk6ICJpbmxpbmUtYmxvY2siLAp1c2VEaXNwbGF5OiAidHJ1ZSIsCnZpc2libGU6ICJmYWxzZSIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CnZhciBoID0gcy5nZXQobyArICJfX21lc3NhZ2UiKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIGYgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCh0KSB7CnQgJiYgbigpOwp9CmZ1bmN0aW9uIGUoKSB7CnIgPSAhMDsKYy5zZXRWaXNpYmxlKCEwKTsKby5hbmltYXRlKHsKZW5kU3R5bGU6IGYsCmR1cmF0aW9uOiAzMDAsCmRlbGF5OiA1MDAKfSk7Cn0KZnVuY3Rpb24gbigpIHsKaWYgKHIpIHsKciA9ICExOwpvLmFuaW1hdGUoewplbmRTdHlsZTogdSwKZHVyYXRpb246IDEwMAp9LCBmdW5jdGlvbih0KSB7CnQgfHwgYy5zZXRWaXNpYmxlKCExKTsKfSk7Cn0KfQp2YXIgbywgciwgYSA9IGkoMzMpLCBzID0gaSg2MCksIF8gPSBpKDYpLCBsID0gaSg2NiksIGQgPSBpKDEwKSwgdSA9IHsKb3BhY2l0eTogMAp9LCBmID0gewpvcGFjaXR5OiAxCn0sIGcgPSBfLnJvb3QuJCgibGl2ZWNoYXQiKS4kKCJ1aSIpLCBwID0gZy4kKCJjaGF0X2J1dHRvbiIpLiQoInVucmVhZF9jb3VudCRpbnQiKSwgbSA9IGcuJCgiY2hhdF93aW5kb3ciKS4kKCJjaGF0X3BhbmVsIikuJCgic2Nyb2xsYWJsZSIpLCAkID0gbS4kKCJzY3JvbGxlZF90b19ib3R0b20kYm9vbCIpLCBiID0gbS4kKCJzbW9vdGhfc2Nyb2xsX2NvdW50JGludCIpOwohZnVuY3Rpb24oKSB7Cm8gPSBuZXcgbChjLCB1KTsKYy5hdXRvYmluZCgkLCAidmFsdWUiLCB0KTsKYy5hdXRvYmluZChiLCAidmFsdWUiLCB0KTsKYy5hdXRvYmluZChwLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CmlmICh0ID4gMCkgewplKCk7Cmguc2V0VGV4dChkLmNoYXRfcGFuZWxbMSA9PSB0ID8gIm5ld19tZXNzYWdlX2JlbG93IiA6ICJuZXdfbWVzc2FnZXNfYmVsb3ciXS5yZXBsYWNlKCI8bnVtYmVyPiIsIHQpKTsKfSBlbHNlIG4oKTsKfSk7CmMub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CmEucmVzZXRVbnJlYWRDb3VudCgpOwpzLnNjcm9sbFRvQm90dG9tKCk7Cn0pOwp9KCk7Cn0oKTsKZm9yICh2YXIgZyBpbiBmKSBjW2ddID0gZltnXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1RvYXN0LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CmZvbnRXZWlnaHQ6ICJib2xkIgp9LAoiLmFycm93X2NvbnRhaW5lciI6IHsKZGlzcGxheTogImlubGluZS1ibG9jayIsCnBhZGRpbmdSaWdodDogIjRweCIsCnZlcnRpY2FsQWxpZ246ICJib3R0b20iCn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1RvYXN0LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfY29tcG9uZW50c19tb2JpbGVDaGF0V2luZG93X2NoYXRQYW5lbF9OZXdNZXNzYWdlc1RvYXN0Igp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1RleHRBcmVhID0gaSg3OCk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIF8sIGwpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgXywgbCk7Cm8gPSBvIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgZCA9IFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfVGV4dEFyZWEsICIiLCAiIiwgW10sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIiwKYWRkQ2xhc3M6ICJ1bnN0eWxlZCIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBoID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQodCkgewp0ID0gbih0LCAiY2hlY2tOdWxsIikgPyAiIiA6IHQ7CnQgIT09IGMuZ2V0VmFsdWUoKSAmJiBhLmNhbGwoYywgdCk7CmUoKTsKfQpmdW5jdGlvbiBlKCkgewpjLnNldEhlaWdodCgwKS5zZXRIZWlnaHQoYy5nZXRTY3JvbGxIZWlnaHQoKSk7Cn0KdmFyIG4gPSBpKDI1KSwgbyA9IGkoNiksIHIgPSBvLnJvb3QuJCgibGl2ZWNoYXQiKS4kKCJ1aSIpLiQoInRoZW1lX2xvYWRlZCRib29sIiksIGEgPSBjLnNldFZhbHVlOwohZnVuY3Rpb24oKSB7CmMuc2V0VmFsdWUgPSB0OwpjLmF1dG9iaW5kKHIsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKdCAmJiBlKCk7Cn0pOwpjLm9uKCJpbnB1dCIsIGUpOwp9KCk7Cn0oKTsKZm9yICh2YXIgZiBpbiBoKSBjW2ZdID0gaFtmXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1RleHRBcmVhLnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7Cm92ZXJmbG93WDogImhpZGRlbiIKfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfVGV4dEFyZWEsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF9jb21wb25lbnRzX21vYmlsZUNoYXRXaW5kb3dfY2hhdFBhbmVsX0F1dG9SZXNpemVUZXh0QXJlYSIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX2p4X3VpX1dpZGdldCA9IGkoNyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0J1dHRvbiA9IGkoMTcpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19JY29uRm9udCA9IGkoMTUpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19TZW5kRmlsZSA9IGkoMTIyKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfbW9iaWxlQ2hhdFdpbmRvd19jaGF0UGFuZWxfQXV0b1Jlc2l6ZVRleHRBcmVhID0gaSgyMTcpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQnV0dG9uLCAic2VuZCIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfSWNvbkZvbnQsICIiLCAiIiwgW10sIHsKaWNvbjogInNlbmQiLAphZGRDbGFzczogInNlbmQiCn0gXSBdLCB7CmlkOiAic2VuZCIsCmFkZENsYXNzOiAic2VuZF9idXR0b24gcHJpbWFyeSBmaXQiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19CdXR0b24sICJ1cGxvYWQiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0ljb25Gb250LCAiIiwgIiIsIFtdLCB7Cmljb246ICJ1cGxvYWQiLAphZGRDbGFzczogInVwbG9hZCIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1NlbmRGaWxlLCAiIiwgIiIsIFtdLCB7CmFkZENsYXNzOiAic2VuZF9maWxlIgp9IF0gXSwgewppZDogInVwbG9hZCIsCmFkZENsYXNzOiAidXBsb2FkX2J1dHRvbiBwcmltYXJ5IGZpdCIKfSBdIF0sIHsKYWRkQ2xhc3M6ICJzZW5kX3dyYXBwZXIiCn0gXSwgWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfbW9iaWxlQ2hhdFdpbmRvd19jaGF0UGFuZWxfQXV0b1Jlc2l6ZVRleHRBcmVhLCAidGV4dGFyZWEiLCAiIiwgW10sIHsKaWQ6ICJ0ZXh0YXJlYSIsCmFkZENsYXNzOiAidGV4dGFyZWEiCn0gXSBdLCB7CmFkZENsYXNzOiAidGV4dGFyZWFfd3JhcHBlciIKfSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOm11aSI6ICJtZXNoaW0udWkiLAoieG1sbnM6d2lkZ2V0cyI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiLAoieG1sbnM6bW9iaWxlQ2hhdFdpbmRvdyI6ICJtZXNoaW0ud2lkZ2V0LmNvbXBvbmVudHMubW9iaWxlQ2hhdFdpbmRvdyIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CnZhciBoID0gcy5nZXQobyArICJfX3NlbmQiKSwgZiA9IHMuZ2V0KG8gKyAiX191cGxvYWQiKSwgZyA9IHMuZ2V0KG8gKyAiX190ZXh0YXJlYSIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgcCA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KCkgewp2LiQoImNoYXRfd2luZG93IikudXBkYXRlKHsKbWVudV9zdGFja19uYW1lJHN0cmluZzogIiIKfSk7Cn0KZnVuY3Rpb24gZSgpIHsKdS5yZXNldFVucmVhZENvdW50KCk7Cn0KZnVuY3Rpb24gbigpIHsKZC5pc0lPUyAmJiAiamEiID09PSBzICYmIF8gJiYgZy5kb20uc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZCgpOwpwLnVzZXJJbnB1dFZhbHVlKGcuZ2V0VmFsdWUoKSk7Cn0KZnVuY3Rpb24gbyh0LCBlKSB7CmlmIChhICE9PSB0IHx8IGwgIT09IGUpIHsKYSA9IHQ7CmwgPSBlOwppZiAobCAmJiBhID09PSBJLkZJTEUpIHsKaC5zZXREaXNwbGF5KCJub25lIik7CmYuc2V0RGlzcGxheSgiIik7Cn0gZWxzZSB7Cmguc2V0RGlzcGxheSgiIik7CmYuc2V0RGlzcGxheSgibm9uZSIpOwp9Cn0KfQpmdW5jdGlvbiByKCkgewp2YXIgdCA9IEEuZ2V0VmFsdWUoKSwgZSA9IGouZ2V0VmFsdWUoImNvbG9yX2N1c3RvbWl6YXRpb25fZW5hYmxlZCRpbnQiKSB8fCBqLmdldFZhbHVlKCJ3aWRnZXRfY3VzdG9taXphdGlvbl9lbmFibGVkJGludCIpLCBpID0gITA7CmUgPyAhMSA9PT0gdCAmJiAoaSA9ICExKSA6IGkgPSAhMTsKbyhhLCBpKTsKfQp2YXIgYSwgcywgXywgbCwgZCA9IGkoOCksIHUgPSBpKDMzKSwgcCA9IGkoNjApLCBtID0gaSg2KSwgJCA9IGkoMTApLCBiID0gaSgzNSksIHcgPSBtLnJvb3QsIHggPSB3LiQoImxpdmVjaGF0IiksIHYgPSB4LiQoInVpIiksIHkgPSB2LiQoImNoYXRfd2luZG93IikuJCgiY2hhdF9wYW5lbCIpLiQoInRleHRhcmVhIikuJCgidmFsdWUkc3RyaW5nIiksIGogPSB4LiQoInNldHRpbmdzIikuJCgicGFja2FnZSIpLCBDID0geC4kKCJzZXR0aW5ncyIpLiQoImxhbmd1YWdlIikuJCgibGFuZ3VhZ2Ukc3RyaW5nIiksIFMgPSB4LiQoInNldHRpbmdzIikuJCgiZmlsZV9zZW5kaW5nIiksIEEgPSBTLiQoImVuYWJsZWQkYm9vbCIpLCBrID0gdy4kKCJjb25uZWN0aW9uIikuJCgic3RhdHVzJHN0cmluZyIpLCBJID0gewpURVhUOiAwLApGSUxFOiAxCn07CiFmdW5jdGlvbigpIHsKZy5zZXRQbGFjZWhvbGRlcigkLmNoYXRfcGFuZWwuY2hhdHRleHRhcmVhX3BsYWNlaG9sZGVyKTsKXyA9ICEhZy5kb20uc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZDsKYy5hdXRvYmluZChDLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CnMgPSB0Owp9KTsKYy5hdXRvYmluZCh5LCAidmFsdWUiLCBmdW5jdGlvbih0KSB7Cmcuc2V0VmFsdWUodCk7Cm8odCA/IEkuVEVYVCA6IEkuRklMRSwgbCk7Cn0pOwpjLmF1dG9iaW5kKEEsICJ2YWx1ZSIsIHIpOwpjLmF1dG9iaW5kKGosICJ2YWx1ZSIsIHIpOwpnLm9uKCJpbnB1dCIsIG4pOwpnLm9uKCJmb2N1cyIsIGZ1bmN0aW9uKCkgewplKCk7CnQoKTsKcC51c2VyRm9jdXNUZXh0QXJlYSgpOwp9KTsKZy5vbigia2V5ZG93biIsIGZ1bmN0aW9uKHQpIHsKaWYgKDEzID09PSB0LmtleUNvZGUgJiYgIXQuc2hpZnRLZXkgJiYgIXQuY3RybEtleSAmJiAhdC5hbHRLZXkpIHsKdC5wcmV2ZW50RGVmYXVsdCgpOwpwLnVzZXJTZW5kTWVzc2FnZShnLmdldFZhbHVlKCkpOwp9Cn0pOwpoLm9uKCJtb3VzZWRvd24iLCBmdW5jdGlvbihpKSB7CmIuaXNDaHJvbWVJT1NNb2JpbGUgfHwgZC5pc0lPUyAmJiAiamEiID09PSBzIHx8IGkucHJldmVudERlZmF1bHQoKTsKZC5pc0FuZHJvaWQgJiYgZy5kb20uc2V0U2VsZWN0aW9uUmFuZ2UgJiYgZy5kb20uc2V0U2VsZWN0aW9uUmFuZ2UoMCwgMSk7CnAudXNlclNlbmRNZXNzYWdlKGcuZ2V0VmFsdWUoKSk7CmUoKTsKdCgpOwp9KTsKYy5hdXRvYmluZChrLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CmMuc2V0RGlzYWJsZWQoImlkbGVfZGlzY29ubmVjdCIgPT09IHQpOwp9KTsKfSgpOwp9KCk7CmZvciAodmFyIG0gaW4gcCkgY1ttXSA9IHBbbV07CmMuZmlyZSAmJiBjLmZpcmUoImluaXQiKTsKYy5zZXRTdHlsZSAmJiBjLnNldFN0eWxlKHIpOwpjLnNldEF0dHJpYnV0ZXMgJiYgYy5zZXRBdHRyaWJ1dGVzKGwpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBjLmFkZENoaWxkcmVuID8gYy5hZGRDaGlsZHJlbihfKSA6IHMuYWRkQ2hpbGRyZW4oYywgXyk7CmlmIChjICE9PSB0aGlzKSB7CmMuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpjLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBjOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2p4X3VpX1dpZGdldC5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewp3aWR0aDogIjEwMCUiLApkaXNwbGF5OiBbICJmbGV4IiwgIi13ZWJraXQtZmxleCIgXSwKYm9yZGVyV2lkdGg6ICIkJGNoYXRUZXh0QXJlYUJvcmRlcldpZHRoIiwKYm9yZGVyU3R5bGU6ICIkJGNoYXRUZXh0QXJlYUJvcmRlclN0eWxlIiwKYm9yZGVyQ29sb3I6ICIkJGNoYXRUZXh0QXJlYUJvcmRlckNvbG9yIiwKIiYuZGlzYWJsZWQiOiB7Cm9wYWNpdHk6ICIwLjUiCn0KfSwKIi50ZXh0YXJlYSI6IHsKd2lkdGg6ICIxMDAlIiwKbGluZUhlaWdodDogIjEuM2VtIiwKbWF4SGVpZ2h0OiAiMy45ZW0iLAptaW5IZWlnaHQ6ICIyZW0iLApwYWRkaW5nOiAiMTBweCIsCnBhZGRpbmdCb3R0b206ICIwcHgiLApyZXNpemU6ICJub25lIgp9LAoiLnRleHRhcmVhX3dyYXBwZXIiOiB7CiJmbGV4R3JvdywgLXdlYmtpdC1mbGV4LWdyb3ciOiAiMSIsCiJvcmRlciwgLXdlYmtpdC1vcmRlciI6ICIxIgp9LAoiLnNlbmRfYnV0dG9uLCAudXBsb2FkX2J1dHRvbiI6IHsKZm9udFNpemU6ICIkJGZvbnRTaXplWFhMIiwKbWFyZ2luOiAiJCRjaGF0VGV4dEFyZWFTdWJtaXRNYXJnaW4iLApwYWRkaW5nOiAiJCRjaGF0VGV4dEFyZWFTdWJtaXRQYWRkaW5nIiwKd2lkdGg6ICI0NHB4IiwKaGVpZ2h0OiAiMzJweCIsCmJveFNoYWRvdzogImluc2V0IDBweCAycHggMHB4IDBweCByZ2JhKDI1NSwyNTUsMjU1LDAuMzApIiwKYm9yZGVyUmFkaXVzOiAiNHB4IiwKIi5zZW5kIjogewpwYWRkaW5nTGVmdDogIjNweCIsCnBhZGRpbmdUb3A6ICI0cHgiCn0sCiIudXBsb2FkIjogewpwYWRkaW5nVG9wOiAiM3B4Igp9Cn0sCiIuc2VuZF9idXR0b24ucnRsIC5zZW5kIjogewpkaXJlY3Rpb246ICJsdHIiCn0sCiIudXBsb2FkX2J1dHRvbiI6IHsKcG9zaXRpb246ICJyZWxhdGl2ZSIKfSwKIi5zZW5kX2ZpbGUiOiB7CnBvc2l0aW9uOiAiYWJzb2x1dGUiLAoidG9wLCBsZWZ0IjogMAp9LAoiLnNlbmRfd3JhcHBlciI6IHsKImZsZXhTaHJpbmssIC13ZWJraXQtZmxleC1zaHJpbmsiOiAiMCIsCiJvcmRlciwgLXdlYmtpdC1vcmRlciI6ICIyIiwKbWFyZ2luVG9wOiAiYXV0byIKfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9XaWRnZXQsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF9jb21wb25lbnRzX21vYmlsZUNoYXRXaW5kb3dfY2hhdFBhbmVsX0NoYXRUZXh0QXJlYSIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX2p4X3VpX1dpZGdldCA9IGkoNyk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIF8sIGwpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgXywgbCk7Cm8gPSBvIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgZCA9IFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICIiLCAiIiwgW10sIHsKInhtbG5zOnVpIjogImp4LnVpIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIGggPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCgpIHsKdmFyIHQgPSBhLiQoIm51bV90eXBpbmdfYWdlbnRzJGludCIpLmdldFZhbHVlKCk7CmlmICh0ID49IDEpIHsKYy5zZXRUZXh0KCgxID09IHQgPyBvLmNoYXRfcGFuZWwubmFtZV9pc190eXBpbmcgOiBvLmNoYXRfcGFuZWwuYWdlbnRzX2FyZV90eXBpbmcpLnJlcGxhY2UoIjxuYW1lPiIsIGEuJCgiYWdlbnRfbmFtZXMkc3RyaW5nIikuZ2V0VmFsdWUoKSkpOwpjLnNldERpc3BsYXkoIiIpOwp9IGVsc2UgYy5zZXREaXNwbGF5KCJub25lIik7Cn0KdmFyIGUgPSBpKDIpLCBuID0gaSg2KSwgbyA9IGkoMTApLCByID0gbi5yb290LiQoImxpdmVjaGF0IiksIGEgPSByLiQoInVpIikuJCgiY2hhdF93aW5kb3ciKS4kKCJ0eXBpbmdfaW5mbyIpOwohZnVuY3Rpb24oKSB7CmMuYXV0b2JpbmQoYS4kKCJudW1fdHlwaW5nX2FnZW50cyRpbnQiKSwgInZhbHVlIiwgdCk7CmlmIChlICYmIGUub25MYW5ndWFnZSkgewplLm9uTGFuZ3VhZ2UodCk7CmMub25EZXN0cnVjdGlvbihmdW5jdGlvbigpIHsKZS51bkxhbmd1YWdlKHQpOwp9KTsKfQp9KCk7Cn0oKTsKZm9yICh2YXIgZiBpbiBoKSBjW2ZdID0gaFtmXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfV2lkZ2V0LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CmZvbnRTaXplOiAiJCRmb250U2l6ZVMiLApjb2xvcjogIiQkY2hhdExvZ1N5c3RlbU1zZ0NvbG9yIiwKYmFja2dyb3VuZDogIiQkY2hhdExvZ1N5c3RlbU1zZ0JnIiwKdGV4dEFsaWduOiAiY2VudGVyIgp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX2p4X3VpX1dpZGdldCwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfbW9iaWxlQ2hhdFdpbmRvd19jaGF0UGFuZWxfQWdlbnRUeXBpbmdTdGF0dXMiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19qeF91aV9XaWRnZXQgPSBpKDcpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X2NoYXRQYW5lbF9DaGF0UGFuZWxIZWFkZXIgPSBpKDE0MCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfY2hhdFBhbmVsX1NwaW5uZXIgPSBpKDEwNSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfY2hhdFBhbmVsX0hpc3RvcnlMb2cgPSBpKDEwNCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfY2hhdFBhbmVsX0Zhc3RJbml0Q2hhdExvZyA9IGkoMTM0KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQnJhbmRpbmcgPSBpKDg5KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfbW9iaWxlQ2hhdFdpbmRvd19jaGF0UGFuZWxfQWdlbnRUeXBpbmdTdGF0dXMgPSBpKDIxOSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0Nvb2tpZUxhd05vdGljZSA9IGkoMTY2KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19jaGF0UGFuZWxfUXVldWVNZXNzYWdlID0gaSgxMzMpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19tb2JpbGVDaGF0V2luZG93X2NoYXRQYW5lbF9DaGF0VGV4dEFyZWEgPSBpKDIxOCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1RpdGxlQmFyID0gaSgxNzApOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Nb2JpbGVPcHRpb25zTWVudUljb24gPSBpKDE2Nyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NoYXRXaW5kb3dEaXNjb25uZWN0ZWRUb2FzdCA9IGkoODQpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X2NoYXRQYW5lbF9GaWxlID0gaSgxNDEpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19tb2JpbGVDaGF0V2luZG93X2NoYXRQYW5lbF9OZXdNZXNzYWdlc1RvYXN0ID0gaSgyMTYpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICJzZXJ2ZWRfYnlfY29udGFpbmVyIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X2NoYXRQYW5lbF9DaGF0UGFuZWxIZWFkZXIsICIiLCAiIiwgW10sIHt9IF0gXSwgewppZDogInNlcnZlZF9ieV9jb250YWluZXIiLAphZGRDbGFzczogInNlcnZlZF9ieV9jb250YWluZXIiCn0gXSwgWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICJzY3JvbGxhYmxlIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X2NoYXRQYW5lbF9TcGlubmVyLCAibGFyZ2Vfc3Bpbm5lciIsICIiLCBbXSwgewppZDogImxhcmdlX3NwaW5uZXIiLAphZGRDbGFzczogImxhcmdlX3NwaW5uZXIiLApzaXplOiAiYmlnIiwKdmlzaWJsZTogImZhbHNlIgp9IF0sIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICIiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X2NoYXRQYW5lbF9TcGlubmVyLCAic21hbGxfc3Bpbm5lciIsICIiLCBbXSwgewppZDogInNtYWxsX3NwaW5uZXIiLAp2aXNpYmxlOiAiZmFsc2UiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X2NoYXRQYW5lbF9IaXN0b3J5TG9nLCAiIiwgIiIsIFtdLCB7fSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfY2hhdFBhbmVsX0Zhc3RJbml0Q2hhdExvZywgIiIsICIiLCBbXSwge30gXSBdLCB7CmFkZENsYXNzOiAiY2hhdF9sb2dfd3JhcHBlciIKfSBdIF0sIHsKYWRkQ2xhc3M6ICJjaGF0bG9nX2NvbnRhaW5lciIKfSBdLCBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiYnJhbmRpbmdfYW5kX2FnZW50X3R5cGluZ19jb250YWluZXIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0JyYW5kaW5nLCAiY2hhdHBhbmVsX2JyYW5kaW5nIiwgIiIsIFtdLCB7CmlkOiAiY2hhdHBhbmVsX2JyYW5kaW5nIiwKYWRkQ2xhc3M6ICJjaGF0cGFuZWxfYnJhbmRpbmciCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19tb2JpbGVDaGF0V2luZG93X2NoYXRQYW5lbF9BZ2VudFR5cGluZ1N0YXR1cywgImFnZW50X3R5cGluZyIsICIiLCBbXSwgewppZDogImFnZW50X3R5cGluZyIsCmNsYXNzOiAiYWdlbnRfdHlwaW5nIgp9IF0gXSwgewppZDogImJyYW5kaW5nX2FuZF9hZ2VudF90eXBpbmdfY29udGFpbmVyIiwKYWRkQ2xhc3M6ICJicmFuZGluZ19hbmRfYWdlbnRfdHlwaW5nX2NvbnRhaW5lciIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0Nvb2tpZUxhd05vdGljZSwgImNvb2tpZV9sYXdfbm90aWNlIiwgIiIsIFtdLCB7CmlkOiAiY29va2llX2xhd19ub3RpY2UiLAphZGRDbGFzczogImNvb2tpZV9sYXdfbm90aWNlIgp9IF0gXSwgewppZDogInNjcm9sbGFibGUiLAphZGRDbGFzczogInNjcm9sbGFibGUiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X2NoYXRQYW5lbF9RdWV1ZU1lc3NhZ2UsICJxdWV1ZV9tZXNzYWdlIiwgIiIsIFtdLCB7CmlkOiAicXVldWVfbWVzc2FnZSIsCmFkZENsYXNzOiAicXVldWVfbWVzc2FnZSIKfSBdIF0sIHsKYWRkQ2xhc3M6ICJzY3JvbGxhYmxlX2NvbnRhaW5lciIKfSBdLCBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19tb2JpbGVDaGF0V2luZG93X2NoYXRQYW5lbF9DaGF0VGV4dEFyZWEsICIiLCAiIiwgW10sIHt9IF0gXSwgewphZGRDbGFzczogInRleHRhcmVhX2NvbnRhaW5lciIKfSBdIF0sIHsKYWRkQ2xhc3M6ICJtYWluX2ZsZXhib3giCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19UaXRsZUJhciwgIiIsICIiLCBbXSwge30gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Nb2JpbGVPcHRpb25zTWVudUljb24sICIiLCAiIiwgW10sIHsKYWRkQ2xhc3M6ICJtb2JpbGVfb3B0aW9uc19tZW51X2ljb24iCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93RGlzY29ubmVjdGVkVG9hc3QsICIiLCAiIiwgW10sIHt9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19jaGF0UGFuZWxfRmlsZSwgIiIsICIiLCBbXSwge30gXSwgWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfbW9iaWxlQ2hhdFdpbmRvd19jaGF0UGFuZWxfTmV3TWVzc2FnZXNUb2FzdCwgIiIsICIiLCBbXSwgewphZGRDbGFzczogIm5ld19tZXNzYWdlc190b2FzdCIKfSBdIF0sIHsKYWRkQ2xhc3M6ICJuZXdfbWVzc2FnZXNfdG9hc3RfcGFyZW50Igp9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6d2lkZ2V0cyI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiLAoieG1sbnM6Y2hhdFBhbmVsIjogIm1lc2hpbS53aWRnZXQuY29tcG9uZW50cy5jaGF0V2luZG93LmNoYXRQYW5lbCIsCiJ4bWxuczptb2JpbGVDaGF0UGFuZWwiOiAibWVzaGltLndpZGdldC5jb21wb25lbnRzLm1vYmlsZUNoYXRXaW5kb3cuY2hhdFBhbmVsIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKdmFyIGggPSBzLmdldChvICsgIl9fc2VydmVkX2J5X2NvbnRhaW5lciIpLCBmID0gcy5nZXQobyArICJfX3Njcm9sbGFibGUiKSwgZyA9IHMuZ2V0KG8gKyAiX19sYXJnZV9zcGlubmVyIiksIHAgPSBzLmdldChvICsgIl9fc21hbGxfc3Bpbm5lciIpLCBtID0gcy5nZXQobyArICJfX2JyYW5kaW5nX2FuZF9hZ2VudF90eXBpbmdfY29udGFpbmVyIiksICQgPSBzLmdldChvICsgIl9fY2hhdHBhbmVsX2JyYW5kaW5nIiksIGIgPSAocy5nZXQobyArICJfX2FnZW50X3R5cGluZyIpLCAKcy5nZXQobyArICJfX2Nvb2tpZV9sYXdfbm90aWNlIikpLCB3ID0gcy5nZXQobyArICJfX3F1ZXVlX21lc3NhZ2UiKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIHggPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCgpIHsKaWYgKFIuZ2V0VmFsdWUoKSAmJiAhUC5nZXRWYWx1ZSgpKSB7Cm0uc2V0RGlzcGxheSgibm9uZSIpOwpiLnNldERpc3BsYXkoIiIpOwp3LnNldERpc3BsYXkoIm5vbmUiKTsKfSBlbHNlIHsKbS5zZXREaXNwbGF5KCIiKTsKYi5zZXREaXNwbGF5KCJub25lIik7Cncuc2V0RGlzcGxheSgiIik7Cn0KfQpmdW5jdGlvbiBlKHQpIHsKJFt0ID8gImFkZENsYXNzIiA6ICJyZW1vdmVDbGFzcyJdKCJoaWRlIik7Cn0KZnVuY3Rpb24gbih0KSB7CmhbdCA/ICJyZW1vdmVDbGFzcyIgOiAiYWRkQ2xhc3MiXSgiaGlkZSIpOwp9CmZ1bmN0aW9uIG8oKSB7CkYuZ2V0VmFsdWUoKSA+IDAgPyAkLnNldERpc3BsYXkoIm5vbmUiKSA6ICQuc2V0RGlzcGxheSgiIik7Cn0KZnVuY3Rpb24gcih0KSB7CmlmICghViB8fCAhMCA9PT0gdCkgewp2YXIgZSA9IF8oKTsKaWYgKGUgPD0gSSkgViA9ICExOyBlbHNlIHsKdmFyIGkgPSBNYXRoLmZsb29yKE1hdGgubWF4KGUgKiBBLCBrKSk7Ck0uc2Nyb2xsVG9wID0gTS5zY3JvbGxUb3AgKyBpOwppZiAoZSAtIGkgPiAwKSB7ClYgPSAhMDsKSChmdW5jdGlvbigpIHsKcighMCk7Cn0pOwp9IGVsc2UgViA9ICExOwp9Cn0KfQpmdW5jdGlvbiBhKCkgewpNLnNjcm9sbFRvcCA9IDk5OTk5OTk5OTk5Owp4LnVzZXJEaXN0RnJvbUJvdHRvbSgwKTsKfQpmdW5jdGlvbiBzKCkgewpyZXR1cm4gTS5zY3JvbGxIZWlnaHQgLSBNLm9mZnNldEhlaWdodCAtIE0uc2Nyb2xsVG9wOwp9CmZ1bmN0aW9uIF8oKSB7CnZhciB0ID0gcygpOwp4LnVzZXJEaXN0RnJvbUJvdHRvbSh0KTsKZCAmJiBxKHQpOwpyZXR1cm4gdDsKfQpmdW5jdGlvbiBsKCkgewpmdW5jdGlvbiB0KCkgewp2YXIgdCA9IE8uZ2V0VmFsdWUoKSwgaSA9IEUuZ2V0VmFsdWUoKTsKImNoYXRfcGFuZWwiID09PSB0ICYmICEwID09PSBpICYmIGUoKTsKfQpmdW5jdGlvbiBlKCkgewpmLnNldENTU1N0eWxlKCJ3ZWJraXRPdmVyZmxvd1Njcm9sbGluZyIsICJhdXRvIik7CnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CmYuc2V0Q1NTU3R5bGUoIndlYmtpdE92ZXJmbG93U2Nyb2xsaW5nIiwgInRvdWNoIik7Cn0sIDUwKTsKfQpjLmF1dG9iaW5kKEUsICJ2YWx1ZSIsIHQpOwpjLmF1dG9iaW5kKE8sICJ2YWx1ZSIsIHQpOwp9CnZhciBkLCB1ID0gaSgxNiksIHggPSBpKDYwKSwgdiA9IGkoNjgpLCB5ID0gaSg2KSwgaiA9IGkoOSksIEMgPSBpKDExKSwgUyA9IGkoMzQpLCBBID0gLjI1LCBrID0gNSwgSSA9IDEsIFQgPSB5LnJvb3QuJCgibGl2ZWNoYXQiKSwgTiA9IFQuJCgidWkiKS4kKCJjaGF0X3dpbmRvdyIpLiQoImNoYXRfcGFuZWwiKS4kKCJzY3JvbGxhYmxlIiksIEIgPSBULiQoInVpIikuJCgiY2hhdF93aW5kb3ciKS4kKCJ0eXBpbmdfaW5mbyIpLiQoImFnZW50X3R5cGluZyRib29sIiksIEQgPSBULiQoInVpIikuJCgiY2hhdF93aW5kb3ciKSwgRSA9IEQuJCgiZGlzcGxheSRib29sIiksIE8gPSBELiQoIm1haW5fc3RhY2tfbmFtZSRzdHJpbmciKSwgTCA9IEQuJCgiZGlzcGxheV9wcm9maWxlX2NhcmQkYm9vbCIpLCBXID0gRC4kKCJjaGF0X3BhbmVsIikuJCgic2VydmVkX2J5IikuJCgidmlzaWJsZSRib29sIiksIFAgPSBULiQoInByb2ZpbGUiKS4kKCJhbGxvd19jb29raWVzJGJvb2wiKSwgUiA9IFQuJCgic2V0dGluZ3MiKS4kKCJjb29raWVfbGF3IikuJCgiZW5hYmxlZCRib29sIiksIEYgPSBULiQoImNoYW5uZWwiKS4kKCJxdWV1ZV9wb3NpdGlvbiRpbnQiKSwgTSA9IChULiQoInVpIikuJCgiaGlzdG9yeSIpLiQoInNwaW5uZXJfdmlzaWJpbGl0eSIpLCAKZi5kb20pLCBWID0gITEsIEggPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHUsIHEgPSBTLmRlYm91bmNlKGZ1bmN0aW9uKHQpIHsKTS5zY3JvbGxIZWlnaHQgLSBNLm9mZnNldEhlaWdodCAhPSAxICYmICgwID09PSB0ID8gTS5zY3JvbGxUb3AgPSBNLnNjcm9sbEhlaWdodCAtIE0ub2Zmc2V0SGVpZ2h0IC0gSSA6IDAgPT09IE0uc2Nyb2xsVG9wICYmIChNLnNjcm9sbFRvcCA9IEkpKTsKfSwgNTApOwohZnVuY3Rpb24oKSB7CmoucnRsKGMpOwp2LnNldHVwU2Nyb2xsTGlzdGVuZXIoZiwgNjApOwp2LmJpbmRTcGlubmVyVUkoYywgcCwgZyk7CmYub24oInNjcm9sbCIsIF8pOwpjLm9uKCJ0b3VjaHN0YXJ0IiwgeC51c2VyVG91Y2hTdGFydCk7CmMub24oInRvdWNobW92ZSIsIHgudXNlclRvdWNoTW92ZSk7CmMub24oInRvdWNoZW5kIiwgeC51c2VyVG91Y2hFbmQpOwpjLmF1dG9iaW5kKEIsICJ2YWx1ZSIsIGUpOwpjLmF1dG9iaW5kKEYsICJ2YWx1ZSIsIG8pOwpjLmF1dG9iaW5kKE4uJCgic21vb3RoX3Njcm9sbF9jb3VudCRpbnQiKSwgInZhbHVlIiwgcik7CmMuYXV0b2JpbmQoTi4kKCJpbnN0YW50X3Njcm9sbF9jb3VudCRpbnQiKSwgInZhbHVlIiwgYSk7CmMuYXV0b2JpbmQoUiwgInZhbHVlIiwgdCk7CmMuYXV0b2JpbmQoUCwgInZhbHVlIiwgdCk7CmMuYXV0b2JpbmQoVywgInZhbHVlIiwgbik7CmQgPSBDLmlzU3R5bGVTdXBwb3J0ZWQoIm92ZXJmbG93LXNjcm9sbGluZyIpOwpkICYmIGwoKTsKYy5hdXRvYmluZChMLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7Cmguc2V0RGlzcGxheSh0ID8gImJsb2NrIiA6ICJub25lIik7Cn0pOwp9KCk7Cn0oKTsKZm9yICh2YXIgdiBpbiB4KSBjW3ZdID0geFt2XTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfV2lkZ2V0LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CmhlaWdodDogIjEwMCUiCn0sCiIubW9iaWxlX29wdGlvbnNfbWVudV9pY29uIjogewpwb3NpdGlvbjogImFic29sdXRlIiwKekluZGV4OiAiMTAyIgp9LAoiJi5sdHIiOiB7CiIubW9iaWxlX29wdGlvbnNfbWVudV9pY29uIjogewoidG9wLCBsZWZ0IjogMAp9Cn0sCiImLnJ0bCI6IHsKIi5tb2JpbGVfb3B0aW9uc19tZW51X2ljb24iOiB7CiJ0b3AsIHJpZ2h0IjogMAp9Cn0sCiIubWFpbl9mbGV4Ym94IjogewpwYWRkaW5nVG9wOiAiJCR0aXRsZUJhckhlaWdodCIsCnBvc2l0aW9uOiAicmVsYXRpdmUiLApoZWlnaHQ6ICIxMDAlIiwKZGlzcGxheTogWyAiZmxleCIsICItd2Via2l0LWZsZXgiIF0sCiJmbGV4RGlyZWN0aW9uLCAtd2Via2l0LWZsZXgtZGlyZWN0aW9uIjogImNvbHVtbiIKfSwKIi5zY3JvbGxhYmxlX2NvbnRhaW5lciI6IHsKcG9zaXRpb246ICJyZWxhdGl2ZSIsCiJmbGV4R3JvdywgLXdlYmtpdC1mbGV4LWdyb3ciOiAiMSIsCmRpc3BsYXk6IFsgImZsZXgiLCAiLXdlYmtpdC1mbGV4IiBdLApvdmVyZmxvdzogImhpZGRlbiIKfSwKIi5zY3JvbGxhYmxlIjogewoiZmxleEdyb3csIC13ZWJraXQtZmxleC1ncm93IjogIjEiLApkaXNwbGF5OiBbICJmbGV4IiwgIi13ZWJraXQtZmxleCIgXSwKImZsZXhEaXJlY3Rpb24sIC13ZWJraXQtZmxleC1kaXJlY3Rpb24iOiAiY29sdW1uIiwKb3ZlcmZsb3dZOiAiYXV0byIsCiItd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZyI6ICJ0b3VjaCIKfSwKIi5zZXJ2ZWRfYnlfY29udGFpbmVyIjogewoiZmxleFNocmluaywgLXdlYmtpdC1mbGV4LXNocmluayI6ICIwIiwKdHJhbnNpdGlvbjogInRyYW5zZm9ybSAwLjNzIiwKcG9zaXRpb246ICJhYnNvbHV0ZSIsCnpJbmRleDogMSwKd2lkdGg6ICIxMDAlIiwKcGFkZGluZzogIjEwcHgiLApiYWNrZ3JvdW5kOiAid2hpdGUiLApib3JkZXJXaWR0aDogIiQkY2hhdFBhbmVsUHJvZmlsZUNhcmRDb250YWluZXJCb3JkZXJXaWR0aCIsCmJvcmRlclN0eWxlOiAiJCRjaGF0UGFuZWxQcm9maWxlQ2FyZENvbnRhaW5lckJvcmRlclN0eWxlIiwKYm9yZGVyQ29sb3I6ICIkJGNoYXRQYW5lbFByb2ZpbGVDYXJkQ29udGFpbmVyQm9yZGVyQ29sb3IiLAoiJi5oaWRlIjogewp0cmFuc2Zvcm06ICJ0cmFuc2xhdGVZKC02MHB4KSIKfQp9LAoiLmNoYXRsb2dfY29udGFpbmVyIjogewpwb3NpdGlvbjogInJlbGF0aXZlIiwKbWFyZ2luVG9wOiAiYXV0byIsCiJmbGV4U2hyaW5rLCAtd2Via2l0LWZsZXgtc2hyaW5rIjogIjAiCn0sCiIuY2hhdF9sb2dfd3JhcHBlciI6IHsKcGFkZGluZ1RvcDogIjYwcHgiLAptYXJnaW46ICIkJGNoYXRMb2dNYXJnaW4iCn0sCiIuYnJhbmRpbmdfYW5kX2FnZW50X3R5cGluZ19jb250YWluZXIiOiB7CnBvc2l0aW9uOiAicmVsYXRpdmUiLAoiZmxleFNocmluaywgLXdlYmtpdC1mbGV4LXNocmluayI6ICIwIiwKaGVpZ2h0OiAiMS41ZW0iLAp3aWR0aDogIjEwMCUiCn0sCiIuY2hhdHBhbmVsX2JyYW5kaW5nIjogewpwb3NpdGlvbjogImFic29sdXRlIiwKdHJhbnNpdGlvbjogIm9wYWNpdHkgMi41cyAwLjVzIiwKcGFkZGluZzogIjBweCAxNXB4IDVweCIKfSwKIi5jaGF0cGFuZWxfYnJhbmRpbmcuaGlkZSI6IHsKdmlzaWJpbGl0eTogImhpZGRlbiIsCnRyYW5zaXRpb246ICJub25lIiwKb3BhY2l0eTogMAp9LAoiLmFnZW50X3R5cGluZyI6IHsKcGFkZGluZ1RvcDogIjJweCIsCndpZHRoOiAiMTAwJSIsCndoaXRlU3BhY2U6ICJub3dyYXAiLApvdmVyZmxvdzogImhpZGRlbiIsCnRleHRPdmVyZmxvdzogImVsbGlwc2lzIgp9LAoiLmNvb2tpZV9sYXdfbm90aWNlIjogewoiZmxleFNocmluaywgLXdlYmtpdC1mbGV4LXNocmluayI6ICIwIiwKZm9udFNpemU6ICIkJGZvbnRTaXplUyIsCmNvbG9yOiAiJCRjaGF0TG9nU3lzdGVtTXNnQ29sb3IiLAp0ZXh0QWxpZ246ICJjZW50ZXIiLApoZWlnaHQ6ICIyMXB4Igp9LAoiLnRleHRhcmVhX2NvbnRhaW5lciI6IHsKcG9zaXRpb246ICJyZWxhdGl2ZSIsCiJmbGV4U2hyaW5rLCAtd2Via2l0LWZsZXgtc2hyaW5rIjogIjAiCn0sCiIubmV3X21lc3NhZ2VzX3RvYXN0X3BhcmVudCI6IHsKcG9zaXRpb246ICJhYnNvbHV0ZSIsCmJvdHRvbTogIjExNXB4IiwKd2lkdGg6ICIxMDAlIiwKaGVpZ2h0OiAiMHB4IiwKdGV4dEFsaWduOiAiY2VudGVyIgp9LAoiLm5ld19tZXNzYWdlc190b2FzdCI6IHsKbWF4V2lkdGg6ICI4MCUiCn0sCiIubGFyZ2Vfc3Bpbm5lciI6IHsKcG9zaXRpb246ICJhYnNvbHV0ZSIsCm1hcmdpbjogImF1dG8iLAoidG9wLCBsZWZ0LCByaWdodCI6ICIwIiwKYm90dG9tOiAiNDBweCIKfSwKIi5xdWV1ZV9tZXNzYWdlIjogewpwb3NpdGlvbjogImFic29sdXRlIiwKYm90dG9tOiAiMHB4IiwKbGVmdDogIjEwcHgiLApyaWdodDogIjEwcHgiLApiYWNrZ3JvdW5kOiAid2hpdGUiLApoZWlnaHQ6ICIzMHB4IiwKcGFkZGluZzogIjdweCAwIgp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX2p4X3VpX1dpZGdldCwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfbW9iaWxlQ2hhdFdpbmRvd19DaGF0UGFuZWwiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19qeF91aV9JRnJhbWUgPSBpKDE3NCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX21vYmlsZUNoYXRXaW5kb3dfTWFpblNjcmVlbiA9IGkoMTE3KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfZm9udExvYWRlcl9ab3BpbUZvbnQgPSBpKDU5KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX2p4X3VpX0lGcmFtZSwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfbW9iaWxlQ2hhdFdpbmRvd19NYWluU2NyZWVuLCAiIiwgIiIsIFtdLCB7fSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX2ZvbnRMb2FkZXJfWm9waW1Gb250LCAiIiwgIiIsIFtdLCB7fSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIiwKInhtbG5zOm1vYmlsZVdpbmRvdyI6ICJtZXNoaW0ud2lkZ2V0LmNvbXBvbmVudHMubW9iaWxlQ2hhdFdpbmRvdyIsCnRvcDogIjAiLApsZWZ0OiAiMCIsCndpZHRoOiAiMTAwJSIsCmhlaWdodDogIjEwMCUiLApwb3NpdGlvbjogImZpeGVkIiwKekluZGV4OiAiMTYwMDAwMDMiLAptaW5XaWR0aDogIjEwMCUiLAptYXhXaWR0aDogIjEwMCUiLAptaW5IZWlnaHQ6ICIxMDAlIiwKbWF4SGVpZ2h0OiAiMTAwJSIsCnVzZURpc3BsYXk6ICJ0cnVlIiwKdmlzaWJsZTogImZhbHNlIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIGggPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCh0KSB7CmMuc2V0VmlzaWJsZSghMCk7CmQuc3RvcmUoKTsKXyghMCk7Cm8uYW5pbWF0ZSh7CmVuZFN0eWxlOiBnLApkdXJhdGlvbjogNTAwCn0sIGZ1bmN0aW9uKGUpIHsKZSB8fCBsKCEwKTsKdCAmJiB0KGUpOwp9KTsKfQpmdW5jdGlvbiBlKHQpIHsKbCghMSk7Cl8oITEpOwpkLnJlc3RvcmUoKTsKby5hbmltYXRlKHsKZW5kU3R5bGU6IGYsCmR1cmF0aW9uOiAzMDAKfSwgZnVuY3Rpb24oZSkgewplIHx8IGMuc2V0VmlzaWJsZSghMSk7CnQgJiYgdChlKTsKfSk7Cn0KZnVuY3Rpb24gbigpIHsKdmFyIHQgPSBjLmlkb2MuY3JlYXRlRWxlbWVudCgibWV0YSIpOwp0LnNldEF0dHJpYnV0ZSgibmFtZSIsICJ2aWV3cG9ydCIpOwp0LnNldEF0dHJpYnV0ZSgiY29udGVudCIsICJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wLCBtYXhpbXVtLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubyIpOwpjLmlkb2MuaGVhZC5hcHBlbmRDaGlsZCh0KTsKfQp2YXIgbywgciA9IGkoNTcpLCBhID0gaSg2MCksIHMgPSBpKDkyKSwgXyA9IGkoMjE1KSwgbCA9IGkoMjE0KSwgZCA9IGkoMjEzKSwgdSA9IGkoNjYpLCBoID0gaSg0NyksIGYgPSB7Cm9wYWNpdHk6IDAsCnRyYW5zbGF0ZVk6ICIxMDAlIgp9LCBnID0gewpvcGFjaXR5OiAxLAp0cmFuc2xhdGVZOiAiMCUiCn07CiFmdW5jdGlvbigpIHsKYy5kZWZhdWx0UGxhY2VtZW50LmFkZENsYXNzKGMuX19qeF9fZnFuYW1lKTsKYy5kZWZhdWx0UGxhY2VtZW50LmFkZENsYXNzKHIucHJvdG90eXBlLl9fanhfX2ZxbmFtZSk7CmgoYy5pYm9keSk7CmEuaW5pdCgpOwpuKCk7Cm8gPSBuZXcgdShjLCBmKTsKYy5tb3ZlRG93biA9IGU7CmMubW92ZVVwID0gdDsKcy5yZWdpc3RlckNoYXRXaW5kb3coYyk7Cn0oKTsKfSgpOwpmb3IgKHZhciBmIGluIGgpIGNbZl0gPSBoW2ZdOwpjLmZpcmUgJiYgYy5maXJlKCJpbml0Iik7CmMuc2V0U3R5bGUgJiYgYy5zZXRTdHlsZShyKTsKYy5zZXRBdHRyaWJ1dGVzICYmIGMuc2V0QXR0cmlidXRlcyhsKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5hZGRDaGlsZHJlbiA/IGMuYWRkQ2hpbGRyZW4oXykgOiBzLmFkZENoaWxkcmVuKGMsIF8pOwppZiAoYyAhPT0gdGhpcykgewpjLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKYy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gYzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19qeF91aV9JRnJhbWUucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHt9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9JRnJhbWUsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF9jb21wb25lbnRzX01vYmlsZUNoYXRXaW5kb3ciCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19qeF91aV9XaWRnZXQgPSBpKDcpOwpuLl9fJCRfX2p4X3VpX0xhYmVsID0gaSgxOSk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIGksIG8sIHIsIF8pIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgaSwgbywgciwgXyk7CmkgPSBpIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgbCA9IFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICIiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFtdLCB7CmFkZENsYXNzOiAidW5yZWFkX2JhZGdlIgp9IF0sIFsgbi5fXyQkX19qeF91aV9MYWJlbCwgInVucmVhZF9iYWRnZV90ZXh0IiwgIiIsIFtdLCB7CmlkOiAidW5yZWFkX2JhZGdlX3RleHQiLAphZGRDbGFzczogInVucmVhZF9iYWRnZV90ZXh0Igp9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiCn0gXSwgZCA9IGxbMF0uY2FsbCh0aGlzLCBlLCBpLCBudWxsLCBzLm1hbmdsZUlEcyhpLCBsWzNdKSwgbFs0XSksIHUgPSBkIHx8IHRoaXM7CnMuc2V0KGksIHUpOwp2YXIgYyA9IHMuZ2V0KGkgKyAiX191bnJlYWRfYmFkZ2VfdGV4dCIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgaCA9IGZ1bmN0aW9uKCkgewp2YXIgdCA9IDA7CnUudXBkYXRlVW5yZWFkID0gZnVuY3Rpb24oZSkgewp2YXIgaSA9IE1hdGgubWluKGUsIDk5KTsKaWYgKGkgIT09IHQpIHsKdCA9IGk7CmlmICh0KSB7CmMuc2V0VGV4dCh0KTsKdS5zZXRPcGFjaXR5KDEpOwp9IGVsc2UgdS5zZXRPcGFjaXR5KDApOwp9Cn07Cn0oKTsKZm9yICh2YXIgZiBpbiBoKSB1W2ZdID0gaFtmXTsKdS5maXJlICYmIHUuZmlyZSgiaW5pdCIpOwp1LnNldFN0eWxlICYmIHUuc2V0U3R5bGUobyk7CnUuc2V0QXR0cmlidXRlcyAmJiB1LnNldEF0dHJpYnV0ZXMoXyk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHUuYWRkQ2hpbGRyZW4gPyB1LmFkZENoaWxkcmVuKHIpIDogcy5hZGRDaGlsZHJlbih1LCByKTsKaWYgKHUgIT09IHRoaXMpIHsKdS5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CnUuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIHU7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfV2lkZ2V0LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CnBvc2l0aW9uOiAicmVsYXRpdmUiLAp3aWR0aDogIjIycHgiLApoZWlnaHQ6ICIyMnB4Igp9LAoiLnVucmVhZF9iYWRnZSI6IHsKcG9zaXRpb246ICJhYnNvbHV0ZSIsCnRvcDogIjAiLApsZWZ0OiAiMCIsCmhlaWdodDogIjEwMCUiLAp3aWR0aDogIjEwMCUiLApiYWNrZ3JvdW5kOiAiI0VGNDQ0NCIsCmJvcmRlcjogIjFweCBzb2xpZCAjQUYxRTFFIiwKYm94U2hhZG93OiAiMHB4IDBweCAzcHggMHB4IHJnYmEoMCwwLDAsMC42KSIsCmJvcmRlclJhZGl1czogIjUwJSIKfSwKIi51bnJlYWRfYmFkZ2VfdGV4dCI6IHsKcG9zaXRpb246ICJhYnNvbHV0ZSIsCnRvcDogIjAiLApsZWZ0OiAiMCIsCndpZHRoOiAiMTAwJSIsCmhlaWdodDogIjEwMCUiLApmb250V2VpZ2h0OiAiNzAwIiwKZm9udFNpemU6ICIxMnB4IiwKY29sb3I6ICIjRkZGIiwKbGluZUhlaWdodDogIjIycHgiLAp0ZXh0QWxpZ246ICJjZW50ZXIiCn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfV2lkZ2V0LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfY29tcG9uZW50c19tb2JpbGVDaGF0VW5yZWFkQ291bnRCYWRnZV9VbnJlYWRDb3VudCIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX2p4X3VpX0Zsb2F0aW5nRnJhbWUgPSBpKDcyKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfbW9iaWxlQ2hhdFVucmVhZENvdW50QmFkZ2VfVW5yZWFkQ291bnQgPSBpKDIyMik7Cm4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX21vYmlsZUNoYXRCdXR0b25fVGFwcGluZ1NjcmVlbiA9IGkoMTE4KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX2p4X3VpX0Zsb2F0aW5nRnJhbWUsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX21vYmlsZUNoYXRVbnJlYWRDb3VudEJhZGdlX1VucmVhZENvdW50LCAibW9iaWxlX3VucmVhZCIsICIiLCBbXSwgewppZDogIm1vYmlsZV91bnJlYWQiLApvcGFjaXR5OiAiMCIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX21vYmlsZUNoYXRCdXR0b25fVGFwcGluZ1NjcmVlbiwgIiIsICIiLCBbXSwge30gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczptdWkiOiAibWVzaGltLnVpIiwKInhtbG5zOmNvbXBvbmVudHMiOiAibWVzaGltLndpZGdldC5jb21wb25lbnRzIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIiwKInhtbG5zOm1vYmlsZUNoYXRCdXR0b24iOiAibWVzaGltLndpZGdldC5jb21wb25lbnRzLm1vYmlsZUNoYXRCdXR0b24iLAoieG1sbnM6bW9iaWxlQ2hhdFVucmVhZENvdW50QmFkZ2UiOiAibWVzaGltLndpZGdldC5jb21wb25lbnRzLm1vYmlsZUNoYXRVbnJlYWRDb3VudEJhZGdlIiwKdXNlRGlzcGxheTogInRydWUiLAp2aXNpYmxlOiAiZmFsc2UiLApjdXJzb3I6ICJwb2ludGVyIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKdmFyIGggPSBzLmdldChvICsgIl9fbW9iaWxlX3VucmVhZCIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgZiA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KCkgewppZiAodiAmJiBuICYmIHcgPiAwICYmIG8pIHsKYy5zZXREaXNwbGF5KCIiKTsKci5hbmltYXRlKHsKZW5kU3R5bGU6IHUsCmR1cmF0aW9uOiAyMDAKfSk7Cn0gZWxzZSByLmFuaW1hdGUoewplbmRTdHlsZTogZCwKZHVyYXRpb246IDIwMAp9LCBmdW5jdGlvbih0KSB7CnQgfHwgYy5zZXREaXNwbGF5KCJub25lIik7Cn0pOwp9CmZ1bmN0aW9uIGUoKSB7CnZhciB0ID0gcC5nZXRWYWx1ZSgpOwppZiAodCAmJiAwICE9IHQud2lkdGgkc3RyaW5nICYmIDAgIT0gdC5oZWlnaHQkc3RyaW5nKSB7CmZvciAodmFyIGUsIGksIG4sIG8sIHIgPSB0Lnpvb20kc3RyaW5nLCBhID0gdC5zY2FsZSRzdHJpbmcsIHMgPSAwLCBfID0gbC5jc3NvbV9wcmVmaXhlcy5sZW5ndGg7IHMgPCBfOyBzKyspIHsKYy53cmFwcGVyLnNldFN0eWxlKGwuY3Nzb21fcHJlZml4ZXNbc10gKyAiVHJhbnNmb3JtIiwgInNjYWxlKCIgKyBhICsgIikiKTsKYy53cmFwcGVyLnNldFN0eWxlKGwuY3Nzb21fcHJlZml4ZXNbc10gKyAiVHJhbnNmb3JtT3JpZ2luIiwgIjAgMCIpOwp9CmlmICgiYXV0byIgPT09IHQubGVmdCRzdHJpbmcpIHsKZSA9ICJhdXRvIjsKaSA9IHBhcnNlRmxvYXQodC5yaWdodCRzdHJpbmcpIC0gMTQgKiBhOwp9IGVsc2UgewppID0gImF1dG8iOwplID0gcGFyc2VGbG9hdCh0LmxlZnQkc3RyaW5nKSArIHBhcnNlRmxvYXQodC53aWR0aCRzdHJpbmcpIC0gMTQgKiBhOwp9CmlmICgiYXV0byIgPT09IHQuYm90dG9tJHN0cmluZykgewpvID0gImF1dG8iOwpuID0gcGFyc2VGbG9hdCh0LnRvcCRzdHJpbmcpIC0gMTQgKiBhOwp9IGVsc2UgewpuID0gImF1dG8iOwpvID0gcGFyc2VGbG9hdCh0LmJvdHRvbSRzdHJpbmcpICsgcGFyc2VGbG9hdCh0LmhlaWdodCRzdHJpbmcpIC0gMTQgKiBhOwp9CmMuc2V0U3R5bGUoewp0b3A6ICIiLApyaWdodDogIiIsCmJvdHRvbTogIiIsCmxlZnQ6ICIiCn0pOwpjLnNldFN0eWxlKHsKcG9zaXRpb246IHQucG9zaXRpb24kc3RyaW5nLAp0b3A6IG4sCnJpZ2h0OiBpLApsZWZ0OiBlLApib3R0b206IG8sCmhlaWdodDogYy53cmFwcGVyLmdldEhlaWdodCgpIC8gciwKd2lkdGg6IGMud3JhcHBlci5nZXRXaWR0aCgpIC8gcgp9KTsKfQp9CnZhciBuLCBvLCByLCBhID0gaSg2KSwgcyA9IGkoNTcpLCBfID0gaSg2NiksIGwgPSBpKDExKSwgZCA9IHsKb3BhY2l0eTogMAp9LCB1ID0gewpvcGFjaXR5OiAxCn0sIGYgPSBhLnJvb3QuJCgibGl2ZWNoYXQiKSwgZyA9IGYuJCgidWkiKS4kKCJjaGF0X2J1dHRvbiIpLCBwID0gZy4kKCJtb2JpbGUiKS4kKCJjYWxjdWxhdGVkX3N0eWxlcyIpLCBtID0gZi4kKCJzZXR0aW5ncyIpLiQoInRoZW1lIikuJCgiY2hhdF9idXR0b24iKS4kKCJwb3NpdGlvbl9tb2JpbGUkc3RyaW5nIiksICQgPSBnLiQoImZ1bGx5X3Zpc2libGUkYm9vbCIpLCBiID0gZy4kKCJ1bnJlYWRfY291bnQkaW50IiksIHcgPSAwLCB4ID0gZi4kKCJjaGFubmVsIikuJCgiY2hhdHRpbmckYm9vbCIpLCB2ID0gZi4kKCJ1aSIpLiQoIm1vYmlsZSRib29sIikuZ2V0VmFsdWUoKTsKIWZ1bmN0aW9uKCkgewppZiAodikgewpyID0gbmV3IF8oYywgZCk7CmMuZG9tLmNsYXNzTmFtZSA9ICJ6b3BpbSI7CmMuY29udGVudC5zZXRTdHlsZSgidGV4dEFsaWduIiwgImxlZnQiKTsKYy5jb250ZW50LmFkZENsYXNzKHMucHJvdG90eXBlLl9fanhfX2ZxbmFtZSk7CmMud3JhcHBlci5hZGRDbGFzcyhjLl9fanhfX2ZxbmFtZSk7CmMuaWZyYW1lLnN0eWxlLnZlcnRpY2FsQWxpZ24gPSAidG9wIjsKYy5hdXRvYmluZChwLCAidmFsdWUiLCBlKTsKYy5hdXRvYmluZChtLCAidmFsdWUiLCBlKTsKYy5hdXRvYmluZCgkLCAidmFsdWUiLCBmdW5jdGlvbihlKSB7CmlmIChuICE9PSBlKSB7Cm4gPSBlOwp0KCk7Cn0KfSk7CmMuYXV0b2JpbmQoYiwgInZhbHVlIiwgZnVuY3Rpb24oaSkgewppZiAodyAhPT0gaSkgewp3ID0gaTsKdCgpOwplKCk7CmgudXBkYXRlVW5yZWFkKHcpOwp9Cn0pOwpjLmF1dG9iaW5kKHgsICJ2YWx1ZSIsIGZ1bmN0aW9uKGUpIHsKaWYgKG8gIT09IGUpIHsKbyA9IGU7CnQoKTsKfQp9KTsKfQp9KCk7Cn0oKTsKZm9yICh2YXIgZyBpbiBmKSBjW2ddID0gZltnXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfRmxvYXRpbmdGcmFtZS5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewpwYWRkaW5nOiAiM3B4Igp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX2p4X3VpX0Zsb2F0aW5nRnJhbWUsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF9jb21wb25lbnRzX01vYmlsZUNoYXRVbnJlYWRDb3VudEJhZGdlIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQpIHsKdCA9IGEuc2hhbGxvd0V4dGVuZCh7fSwgdCk7CmZvciAodmFyIGUgaW4gdCkgaWYgKHQuaGFzT3duUHJvcGVydHkoZSkgJiYgbyhlLCByKSA+IC0xKSB7CmZvciAodmFyIGkgPSAiIiwgbiA9IDAsIHMgPSByLmxlbmd0aDsgbiA8IHM7IG4rKykgewp2YXIgXyA9IHJbbl07CmlmIChfIGluIHQpIHsKaSArPSBfICsgIigiICsgdFtfXSArICIpIjsKZGVsZXRlIHRbX107Cn0KfQp0LnRyYW5zZm9ybSA9IGk7CnQud2Via2l0VHJhbnNmb3JtID0gaTsKfQpyZXR1cm4gdDsKfQp2YXIgbyA9IGkoMzEpLCByID0gWyAibWF0cml4IiwgInRyYW5zbGF0ZSIsICJ0cmFuc2xhdGVYIiwgInRyYW5zbGF0ZVkiLCAic2NhbGUiLCAic2NhbGVYIiwgInNjYWxlWSIsICJyb3RhdGUiLCAic2tldyIsICJza2V3WCIsICJza2V3WSIsICJtYXRyaXgzZCIsICJ0cmFuc2xhdGUzZCIsICJ0cmFuc2xhdGVaIiwgInNjYWxlM2QiLCAic2NhbGVaIiwgInJvdGF0ZTNkIiwgInJvdGF0ZVgiLCAicm90YXRlWSIsICJyb3RhdGVaIiwgInBlcnNwZWN0aXZlIiBdLCBhID0gaSgxMSk7CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKIWZ1bmN0aW9uKHQsIGkpIHsKIWZ1bmN0aW9uKHQpIHsKInVzZSBzdHJpY3QiOwpmdW5jdGlvbiBlKCkge30KZnVuY3Rpb24gaSh0KSB7CnZhciBlOwp0ID0gKHQgKyAiIikudHJpbSgpLnRvTG93ZXJDYXNlKCk7CnJldHVybiAoZSA9IGIuZXhlYyh0KSkgPyAoZSA9IHBhcnNlSW50KGVbMV0sIDE2KSwgbmV3IHIoZSA+PiA4ICYgMTUgfCBlID4+IDQgJiAyNDAsIGUgPj4gNCAmIDE1IHwgMjQwICYgZSwgKDE1ICYgZSkgPDwgNCB8IDE1ICYgZSkpIDogKGUgPSB3LmV4ZWModCkpID8gbihwYXJzZUludChlWzFdLCAxNikpIDogKGUgPSB4LmV4ZWModCkpID8gbmV3IHIoZVsxXSwgZVsyXSwgZVszXSkgOiAoZSA9IHYuZXhlYyh0KSkgPyBuZXcgcigyNTUgKiBlWzFdIC8gMTAwLCAyNTUgKiBlWzJdIC8gMTAwLCAyNTUgKiBlWzNdIC8gMTAwKSA6IChlID0geS5leGVjKHQpKSA/IG5ldyBzKGVbMV0sIGVbMl0gLyAxMDAsIGVbM10gLyAxMDApIDogai5oYXNPd25Qcm9wZXJ0eSh0KSA/IG4oalt0XSkgOiBudWxsOwp9CmZ1bmN0aW9uIG4odCkgewpyZXR1cm4gbmV3IHIodCA+PiAxNiAmIDI1NSwgdCA+PiA4ICYgMjU1LCAyNTUgJiB0KTsKfQpmdW5jdGlvbiBvKHQsIG4sIG8pIHsKaWYgKDEgPT09IGFyZ3VtZW50cy5sZW5ndGgpIHsKdCBpbnN0YW5jZW9mIGUgfHwgKHQgPSBpKHQpKTsKaWYgKHQpIHsKdCA9IHQucmdiKCk7Cm8gPSB0LmI7Cm4gPSB0Lmc7CnQgPSB0LnI7Cn0gZWxzZSB0ID0gbiA9IG8gPSBOYU47Cn0KcmV0dXJuIG5ldyByKHQsIG4sIG8pOwp9CmZ1bmN0aW9uIHIodCwgZSwgaSkgewp0aGlzLnIgPSArdDsKdGhpcy5nID0gK2U7CnRoaXMuYiA9ICtpOwp9CmZ1bmN0aW9uIGEodCwgbiwgbykgewppZiAoMSA9PT0gYXJndW1lbnRzLmxlbmd0aCkgaWYgKHQgaW5zdGFuY2VvZiBzKSB7Cm8gPSB0Lmw7Cm4gPSB0LnM7CnQgPSB0Lmg7Cn0gZWxzZSB7CnQgaW5zdGFuY2VvZiBlIHx8ICh0ID0gaSh0KSk7CmlmICh0KSB7CmlmICh0IGluc3RhbmNlb2YgcykgcmV0dXJuIHQ7CnQgPSB0LnJnYigpOwp2YXIgciA9IHQuciAvIDI1NSwgYSA9IHQuZyAvIDI1NSwgXyA9IHQuYiAvIDI1NSwgbCA9IE1hdGgubWluKHIsIGEsIF8pLCBkID0gTWF0aC5tYXgociwgYSwgXyksIHUgPSBkIC0gbDsKbyA9IChkICsgbCkgLyAyOwppZiAodSkgewpuID0gbyA8IC41ID8gdSAvIChkICsgbCkgOiB1IC8gKDIgLSBkIC0gbCk7CnQgPSByID09PSBkID8gKGEgLSBfKSAvIHUgKyA2ICogKGEgPCBfKSA6IGEgPT09IGQgPyAoXyAtIHIpIC8gdSArIDIgOiAociAtIGEpIC8gdSArIDQ7CnQgKj0gNjA7Cn0gZWxzZSB7CnQgPSBOYU47Cm4gPSBvID4gMCAmJiBvIDwgMSA/IDAgOiB0Owp9Cn0gZWxzZSB0ID0gbiA9IG8gPSBOYU47Cn0KcmV0dXJuIG5ldyBzKHQsIG4sIG8pOwp9CmZ1bmN0aW9uIHModCwgZSwgaSkgewp0aGlzLmggPSArdDsKdGhpcy5zID0gK2U7CnRoaXMubCA9ICtpOwp9CmZ1bmN0aW9uIF8odCwgZSwgaSkgewpyZXR1cm4gMjU1ICogKHQgPCA2MCA/IGUgKyAoaSAtIGUpICogdCAvIDYwIDogdCA8IDE4MCA/IGkgOiB0IDwgMjQwID8gZSArIChpIC0gZSkgKiAoMjQwIC0gdCkgLyA2MCA6IGUpOwp9CmZ1bmN0aW9uIGwodCwgZSwgaSkgewppZiAoMSA9PT0gYXJndW1lbnRzLmxlbmd0aCkgaWYgKHQgaW5zdGFuY2VvZiBkKSB7CmkgPSB0LmI7CmUgPSB0LmE7CnQgPSB0Lmw7Cn0gZWxzZSBpZiAodCBpbnN0YW5jZW9mIHApIHsKdmFyIG4gPSB0LmggKiBBOwppID0gTWF0aC5zaW4obikgKiB0LmM7CmUgPSBNYXRoLmNvcyhuKSAqIHQuYzsKdCA9IHQubDsKfSBlbHNlIHsKdCBpbnN0YW5jZW9mIHIgfHwgKHQgPSBvKHQpKTsKaSA9IGYodC5yKTsKZSA9IGYodC5nKTsKdCA9IGYodC5iKTsKdmFyIGEgPSB1KCguNDEyNDU2NCAqIGkgKyAuMzU3NTc2MSAqIGUgKyAuMTgwNDM3NSAqIHQpIC8gSSksIHMgPSB1KCguMjEyNjcyOSAqIGkgKyAuNzE1MTUyMiAqIGUgKyAuMDcyMTc1ICogdCkgLyBUKSwgXyA9IHUoKC4wMTkzMzM5ICogaSArIC4xMTkxOTIgKiBlICsgLjk1MDMwNDEgKiB0KSAvIE4pOwppID0gMjAwICogKHMgLSBfKTsKZSA9IDUwMCAqIChhIC0gcyk7CnQgPSAxMTYgKiBzIC0gMTY7Cn0KcmV0dXJuIG5ldyBkKHQsIGUsIGkpOwp9CmZ1bmN0aW9uIGQodCwgZSwgaSkgewp0aGlzLmwgPSArdDsKdGhpcy5hID0gK2U7CnRoaXMuYiA9ICtpOwp9CmZ1bmN0aW9uIHUodCkgewpyZXR1cm4gdCA+IE8gPyBNYXRoLnBvdyh0LCAxIC8gMykgOiB0IC8gRSArIEI7Cn0KZnVuY3Rpb24gYyh0KSB7CnJldHVybiB0ID4gRCA/IHQgKiB0ICogdCA6IEUgKiAodCAtIEIpOwp9CmZ1bmN0aW9uIGgodCkgewpyZXR1cm4gMjU1ICogKHQgPD0gLjAwMzEzMDggPyAxMi45MiAqIHQgOiAxLjA1NSAqIE1hdGgucG93KHQsIDEgLyAyLjQpIC0gLjA1NSk7Cn0KZnVuY3Rpb24gZih0KSB7CnJldHVybiAodCAvPSAyNTUpIDw9IC4wNDA0NSA/IHQgLyAxMi45MiA6IE1hdGgucG93KCh0ICsgLjA1NSkgLyAxLjA1NSwgMi40KTsKfQpmdW5jdGlvbiBnKHQsIGUsIGkpIHsKaWYgKDEgPT09IGFyZ3VtZW50cy5sZW5ndGgpIGlmICh0IGluc3RhbmNlb2YgcCkgewppID0gdC5sOwplID0gdC5jOwp0ID0gdC5oOwp9IGVsc2Ugewp0IGluc3RhbmNlb2YgZCB8fCAodCA9IGwodCkpOwppID0gdC5sOwplID0gTWF0aC5zcXJ0KHQuYSAqIHQuYSArIHQuYiAqIHQuYik7CnQgPSBNYXRoLmF0YW4yKHQuYiwgdC5hKSAqIGs7CnQgPCAwICYmICh0ICs9IDM2MCk7Cn0KcmV0dXJuIG5ldyBwKHQsIGUsIGkpOwp9CmZ1bmN0aW9uIHAodCwgZSwgaSkgewp0aGlzLmggPSArdDsKdGhpcy5jID0gK2U7CnRoaXMubCA9ICtpOwp9CmZ1bmN0aW9uIG0odCwgZSwgaSkgewppZiAoMSA9PT0gYXJndW1lbnRzLmxlbmd0aCkgaWYgKHQgaW5zdGFuY2VvZiAkKSB7CmkgPSB0Lmw7CmUgPSB0LnM7CnQgPSB0Lmg7Cn0gZWxzZSB7CnQgaW5zdGFuY2VvZiByIHx8ICh0ID0gbyh0KSk7CnZhciBuID0gdC5yIC8gMjU1LCBhID0gdC5nIC8gMjU1LCBzID0gdC5iIC8gMjU1OwppID0gKHogKiBzICsgSCAqIG4gLSBxICogYSkgLyAoeiArIEggLSBxKTsKdmFyIF8gPSBzIC0gaSwgbCA9IChWICogKGEgLSBpKSAtIEYgKiBfKSAvIE07CmUgPSBNYXRoLnNxcnQobCAqIGwgKyBfICogXykgLyAoViAqIGkgKiAoMSAtIGkpKTsKdCA9IGUgPyBNYXRoLmF0YW4yKGwsIF8pICogayAtIDEyMCA6IE5hTjsKdCA8IDAgJiYgKHQgKz0gMzYwKTsKfQpyZXR1cm4gbmV3ICQodCwgZSwgaSk7Cn0KZnVuY3Rpb24gJCh0LCBlLCBpKSB7CnRoaXMuaCA9ICt0Owp0aGlzLnMgPSArZTsKdGhpcy5sID0gK2k7Cn0KdmFyIGIgPSAvXiMoWzAtOWEtZl17M30pJC8sIHcgPSAvXiMoWzAtOWEtZl17Nn0pJC8sIHggPSAvXnJnYlwoXHMqKFstK10/XGQrKVxzKixccyooWy0rXT9cZCspXHMqLFxzKihbLStdP1xkKylccypcKSQvLCB2ID0gL15yZ2JcKFxzKihbLStdP1xkKyg/OlwuXGQrKT8pJVxzKixccyooWy0rXT9cZCsoPzpcLlxkKyk/KSVccyosXHMqKFstK10/XGQrKD86XC5cZCspPyklXHMqXCkkLywgeSA9IC9eaHNsXChccyooWy0rXT9cZCsoPzpcLlxkKyk/KVxzKixccyooWy0rXT9cZCsoPzpcLlxkKyk/KSVccyosXHMqKFstK10/XGQrKD86XC5cZCspPyklXHMqXCkkLywgaiA9IHsKYWxpY2VibHVlOiAxNTc5MjM4MywKYW50aXF1ZXdoaXRlOiAxNjQ0NDM3NSwKYXF1YTogNjU1MzUsCmFxdWFtYXJpbmU6IDgzODg1NjQsCmF6dXJlOiAxNTc5NDE3NSwKYmVpZ2U6IDE2MTE5MjYwLApiaXNxdWU6IDE2NzcwMjQ0LApibGFjazogMCwKYmxhbmNoZWRhbG1vbmQ6IDE2NzcyMDQ1LApibHVlOiAyNTUsCmJsdWV2aW9sZXQ6IDkwNTUyMDIsCmJyb3duOiAxMDgyNDIzNCwKYnVybHl3b29kOiAxNDU5NjIzMSwKY2FkZXRibHVlOiA2MjY2NTI4LApjaGFydHJldXNlOiA4Mzg4MzUyLApjaG9jb2xhdGU6IDEzNzg5NDcwLApjb3JhbDogMTY3NDQyNzIsCmNvcm5mbG93ZXJibHVlOiA2NTkxOTgxLApjb3Juc2lsazogMTY3NzUzODgsCmNyaW1zb246IDE0NDIzMTAwLApjeWFuOiA2NTUzNSwKZGFya2JsdWU6IDEzOSwKZGFya2N5YW46IDM1NzIzLApkYXJrZ29sZGVucm9kOiAxMjA5MjkzOSwKZGFya2dyYXk6IDExMTE5MDE3LApkYXJrZ3JlZW46IDI1NjAwLApkYXJrZ3JleTogMTExMTkwMTcsCmRhcmtraGFraTogMTI0MzMyNTksCmRhcmttYWdlbnRhOiA5MTA5NjQzLApkYXJrb2xpdmVncmVlbjogNTU5Nzk5OSwKZGFya29yYW5nZTogMTY3NDc1MjAsCmRhcmtvcmNoaWQ6IDEwMDQwMDEyLApkYXJrcmVkOiA5MTA5NTA0LApkYXJrc2FsbW9uOiAxNTMwODQxMCwKZGFya3NlYWdyZWVuOiA5NDE5OTE5LApkYXJrc2xhdGVibHVlOiA0NzM0MzQ3LApkYXJrc2xhdGVncmF5OiAzMTAwNDk1LApkYXJrc2xhdGVncmV5OiAzMTAwNDk1LApkYXJrdHVycXVvaXNlOiA1Mjk0NSwKZGFya3Zpb2xldDogOTY5OTUzOSwKZGVlcHBpbms6IDE2NzE2OTQ3LApkZWVwc2t5Ymx1ZTogNDkxNTEsCmRpbWdyYXk6IDY5MDgyNjUsCmRpbWdyZXk6IDY5MDgyNjUsCmRvZGdlcmJsdWU6IDIwMDMxOTksCmZpcmVicmljazogMTE2NzQxNDYsCmZsb3JhbHdoaXRlOiAxNjc3NTkyMCwKZm9yZXN0Z3JlZW46IDIyNjM4NDIsCmZ1Y2hzaWE6IDE2NzExOTM1LApnYWluc2Jvcm86IDE0NDc0NDYwLApnaG9zdHdoaXRlOiAxNjMxNjY3MSwKZ29sZDogMTY3NjY3MjAsCmdvbGRlbnJvZDogMTQzMjkxMjAsCmdyYXk6IDg0MjE1MDQsCmdyZWVuOiAzMjc2OCwKZ3JlZW55ZWxsb3c6IDExNDAzMDU1LApncmV5OiA4NDIxNTA0LApob25leWRldzogMTU3OTQxNjAsCmhvdHBpbms6IDE2NzM4NzQwLAppbmRpYW5yZWQ6IDEzNDU4NTI0LAppbmRpZ286IDQ5MTUzMzAsCml2b3J5OiAxNjc3NzIwMCwKa2hha2k6IDE1Nzg3NjYwLApsYXZlbmRlcjogMTUxMzI0MTAsCmxhdmVuZGVyYmx1c2g6IDE2NzczMzY1LApsYXduZ3JlZW46IDgxOTA5NzYsCmxlbW9uY2hpZmZvbjogMTY3NzU4ODUsCmxpZ2h0Ymx1ZTogMTEzOTMyNTQsCmxpZ2h0Y29yYWw6IDE1NzYxNTM2LApsaWdodGN5YW46IDE0NzQ1NTk5LApsaWdodGdvbGRlbnJvZHllbGxvdzogMTY0NDgyMTAsCmxpZ2h0Z3JheTogMTM4ODIzMjMsCmxpZ2h0Z3JlZW46IDk0OTgyNTYsCmxpZ2h0Z3JleTogMTM4ODIzMjMsCmxpZ2h0cGluazogMTY3NTg0NjUsCmxpZ2h0c2FsbW9uOiAxNjc1Mjc2MiwKbGlnaHRzZWFncmVlbjogMjE0Mjg5MCwKbGlnaHRza3libHVlOiA4OTAwMzQ2LApsaWdodHNsYXRlZ3JheTogNzgzMzc1MywKbGlnaHRzbGF0ZWdyZXk6IDc4MzM3NTMsCmxpZ2h0c3RlZWxibHVlOiAxMTU4NDczNCwKbGlnaHR5ZWxsb3c6IDE2Nzc3MTg0LApsaW1lOiA2NTI4MCwKbGltZWdyZWVuOiAzMzI5MzMwLApsaW5lbjogMTY0NDU2NzAsCm1hZ2VudGE6IDE2NzExOTM1LAptYXJvb246IDgzODg2MDgsCm1lZGl1bWFxdWFtYXJpbmU6IDY3MzczMjIsCm1lZGl1bWJsdWU6IDIwNSwKbWVkaXVtb3JjaGlkOiAxMjIxMTY2NywKbWVkaXVtcHVycGxlOiA5NjYyNjgzLAptZWRpdW1zZWFncmVlbjogMzk3ODA5NywKbWVkaXVtc2xhdGVibHVlOiA4MDg3NzkwLAptZWRpdW1zcHJpbmdncmVlbjogNjQxNTQsCm1lZGl1bXR1cnF1b2lzZTogNDc3MjMwMCwKbWVkaXVtdmlvbGV0cmVkOiAxMzA0NzE3MywKbWlkbmlnaHRibHVlOiAxNjQ0OTEyLAptaW50Y3JlYW06IDE2MTIxODUwLAptaXN0eXJvc2U6IDE2NzcwMjczLAptb2NjYXNpbjogMTY3NzAyMjksCm5hdmFqb3doaXRlOiAxNjc2ODY4NSwKbmF2eTogMTI4LApvbGRsYWNlOiAxNjY0MzU1OCwKb2xpdmU6IDg0MjEzNzYsCm9saXZlZHJhYjogNzA0ODczOSwKb3JhbmdlOiAxNjc1MzkyMCwKb3JhbmdlcmVkOiAxNjcyOTM0NCwKb3JjaGlkOiAxNDMxNTczNCwKcGFsZWdvbGRlbnJvZDogMTU2NTcxMzAsCnBhbGVncmVlbjogMTAwMjU4ODAsCnBhbGV0dXJxdW9pc2U6IDExNTI5OTY2LApwYWxldmlvbGV0cmVkOiAxNDM4MTIwMywKcGFwYXlhd2hpcDogMTY3NzMwNzcsCnBlYWNocHVmZjogMTY3Njc2NzMsCnBlcnU6IDEzNDY4OTkxLApwaW5rOiAxNjc2MTAzNSwKcGx1bTogMTQ1MjQ2MzcsCnBvd2RlcmJsdWU6IDExNTkxOTEwLApwdXJwbGU6IDgzODg3MzYsCnJlYmVjY2FwdXJwbGU6IDY2OTc4ODEsCnJlZDogMTY3MTE2ODAsCnJvc3licm93bjogMTIzNTc1MTksCnJveWFsYmx1ZTogNDI4Njk0NSwKc2FkZGxlYnJvd246IDkxMjcxODcsCnNhbG1vbjogMTY0MTY4ODIsCnNhbmR5YnJvd246IDE2MDMyODY0LApzZWFncmVlbjogMzA1MDMyNywKc2Vhc2hlbGw6IDE2Nzc0NjM4LApzaWVubmE6IDEwNTA2Nzk3LApzaWx2ZXI6IDEyNjMyMjU2LApza3libHVlOiA4OTAwMzMxLApzbGF0ZWJsdWU6IDY5NzAwNjEsCnNsYXRlZ3JheTogNzM3Mjk0NCwKc2xhdGVncmV5OiA3MzcyOTQ0LApzbm93OiAxNjc3NTkzMCwKc3ByaW5nZ3JlZW46IDY1NDA3LApzdGVlbGJsdWU6IDQ2MjA5ODAsCnRhbjogMTM4MDg3ODAsCnRlYWw6IDMyODk2LAp0aGlzdGxlOiAxNDIwNDg4OCwKdG9tYXRvOiAxNjczNzA5NSwKdHVycXVvaXNlOiA0MjUxODU2LAp2aW9sZXQ6IDE1NjMxMDg2LAp3aGVhdDogMTYxMTMzMzEsCndoaXRlOiAxNjc3NzIxNSwKd2hpdGVzbW9rZTogMTYxMTkyODUsCnllbGxvdzogMTY3NzY5NjAsCnllbGxvd2dyZWVuOiAxMDE0NTA3NAp9OwppLnByb3RvdHlwZSA9IGUucHJvdG90eXBlID0gewpkaXNwbGF5YWJsZTogZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLnJnYigpLmRpc3BsYXlhYmxlKCk7Cn0sCnRvU3RyaW5nOiBmdW5jdGlvbigpIHsKcmV0dXJuIHRoaXMucmdiKCkgKyAiIjsKfQp9Owp2YXIgQyA9IG8ucHJvdG90eXBlID0gci5wcm90b3R5cGUgPSBuZXcgZSgpOwpDLmJyaWdodGVyID0gZnVuY3Rpb24odCkgewp0ID0gbnVsbCA9PSB0ID8gMSAvIC43IDogTWF0aC5wb3coMSAvIC43LCB0KTsKcmV0dXJuIG5ldyByKHRoaXMuciAqIHQsIHRoaXMuZyAqIHQsIHRoaXMuYiAqIHQpOwp9OwpDLmRhcmtlciA9IGZ1bmN0aW9uKHQpIHsKdCA9IG51bGwgPT0gdCA/IC43IDogTWF0aC5wb3coLjcsIHQpOwpyZXR1cm4gbmV3IHIodGhpcy5yICogdCwgdGhpcy5nICogdCwgdGhpcy5iICogdCk7Cn07CkMucmdiID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzOwp9OwpDLmRpc3BsYXlhYmxlID0gZnVuY3Rpb24oKSB7CnJldHVybiAwIDw9IHRoaXMuciAmJiB0aGlzLnIgPD0gMjU1ICYmIDAgPD0gdGhpcy5nICYmIHRoaXMuZyA8PSAyNTUgJiYgMCA8PSB0aGlzLmIgJiYgdGhpcy5iIDw9IDI1NTsKfTsKQy50b1N0cmluZyA9IGZ1bmN0aW9uKCkgewp2YXIgdCA9IE1hdGgucm91bmQodGhpcy5yKSwgZSA9IE1hdGgucm91bmQodGhpcy5nKSwgaSA9IE1hdGgucm91bmQodGhpcy5iKTsKcmV0dXJuICIjIiArIChpc05hTih0KSB8fCB0IDw9IDAgPyAiMDAiIDogdCA8IDE2ID8gIjAiICsgdC50b1N0cmluZygxNikgOiB0ID49IDI1NSA/ICJmZiIgOiB0LnRvU3RyaW5nKDE2KSkgKyAoaXNOYU4oZSkgfHwgZSA8PSAwID8gIjAwIiA6IGUgPCAxNiA/ICIwIiArIGUudG9TdHJpbmcoMTYpIDogZSA+PSAyNTUgPyAiZmYiIDogZS50b1N0cmluZygxNikpICsgKGlzTmFOKGkpIHx8IGkgPD0gMCA/ICIwMCIgOiBpIDwgMTYgPyAiMCIgKyBpLnRvU3RyaW5nKDE2KSA6IGkgPj0gMjU1ID8gImZmIiA6IGkudG9TdHJpbmcoMTYpKTsKfTsKdmFyIFMgPSBhLnByb3RvdHlwZSA9IHMucHJvdG90eXBlID0gbmV3IGUoKTsKUy5icmlnaHRlciA9IGZ1bmN0aW9uKHQpIHsKdCA9IG51bGwgPT0gdCA/IDEgLyAuNyA6IE1hdGgucG93KDEgLyAuNywgdCk7CnJldHVybiBuZXcgcyh0aGlzLmgsIHRoaXMucywgdGhpcy5sICogdCk7Cn07ClMuZGFya2VyID0gZnVuY3Rpb24odCkgewp0ID0gbnVsbCA9PSB0ID8gLjcgOiBNYXRoLnBvdyguNywgdCk7CnJldHVybiBuZXcgcyh0aGlzLmgsIHRoaXMucywgdGhpcy5sICogdCk7Cn07ClMucmdiID0gZnVuY3Rpb24oKSB7CnZhciB0ID0gdGhpcy5oICUgMzYwICsgMzYwICogKHRoaXMuaCA8IDApLCBlID0gaXNOYU4odCkgfHwgaXNOYU4odGhpcy5zKSA/IDAgOiB0aGlzLnMsIGkgPSB0aGlzLmwsIG4gPSBpICsgKGkgPCAuNSA/IGkgOiAxIC0gaSkgKiBlLCBvID0gMiAqIGkgLSBuOwpyZXR1cm4gbmV3IHIoXyh0ID49IDI0MCA/IHQgLSAyNDAgOiB0ICsgMTIwLCBvLCBuKSwgXyh0LCBvLCBuKSwgXyh0IDwgMTIwID8gdCArIDI0MCA6IHQgLSAxMjAsIG8sIG4pKTsKfTsKUy5kaXNwbGF5YWJsZSA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gKDAgPD0gdGhpcy5zICYmIHRoaXMucyA8PSAxIHx8IGlzTmFOKHRoaXMucykpICYmIDAgPD0gdGhpcy5sICYmIHRoaXMubCA8PSAxOwp9Owp2YXIgQSA9IE1hdGguUEkgLyAxODAsIGsgPSAxODAgLyBNYXRoLlBJLCBJID0gLjk1MDQ3LCBUID0gMSwgTiA9IDEuMDg4ODMsIEIgPSA0IC8gMjksIEQgPSA2IC8gMjksIEUgPSAzICogRCAqIEQsIE8gPSBEICogRCAqIEQsIEwgPSBsLnByb3RvdHlwZSA9IGQucHJvdG90eXBlID0gbmV3IGUoKTsKTC5icmlnaHRlciA9IGZ1bmN0aW9uKHQpIHsKcmV0dXJuIG5ldyBkKHRoaXMubCArIDE4ICogKG51bGwgPT0gdCA/IDEgOiB0KSwgdGhpcy5hLCB0aGlzLmIpOwp9OwpMLmRhcmtlciA9IGZ1bmN0aW9uKHQpIHsKcmV0dXJuIG5ldyBkKHRoaXMubCAtIDE4ICogKG51bGwgPT0gdCA/IDEgOiB0KSwgdGhpcy5hLCB0aGlzLmIpOwp9OwpMLnJnYiA9IGZ1bmN0aW9uKCkgewp2YXIgdCA9ICh0aGlzLmwgKyAxNikgLyAxMTYsIGUgPSBpc05hTih0aGlzLmEpID8gdCA6IHQgKyB0aGlzLmEgLyA1MDAsIGkgPSBpc05hTih0aGlzLmIpID8gdCA6IHQgLSB0aGlzLmIgLyAyMDA7CnQgPSBUICogYyh0KTsKZSA9IEkgKiBjKGUpOwppID0gTiAqIGMoaSk7CnJldHVybiBuZXcgcihoKDMuMjQwNDU0MiAqIGUgLSAxLjUzNzEzODUgKiB0IC0gLjQ5ODUzMTQgKiBpKSwgaCgtLjk2OTI2NiAqIGUgKyAxLjg3NjAxMDggKiB0ICsgLjA0MTU1NiAqIGkpLCBoKC4wNTU2NDM0ICogZSAtIC4yMDQwMjU5ICogdCArIDEuMDU3MjI1MiAqIGkpKTsKfTsKdmFyIFcgPSBnLnByb3RvdHlwZSA9IHAucHJvdG90eXBlID0gbmV3IGUoKTsKVy5icmlnaHRlciA9IGZ1bmN0aW9uKHQpIHsKcmV0dXJuIG5ldyBwKHRoaXMuaCwgdGhpcy5jLCB0aGlzLmwgKyAxOCAqIChudWxsID09IHQgPyAxIDogdCkpOwp9OwpXLmRhcmtlciA9IGZ1bmN0aW9uKHQpIHsKcmV0dXJuIG5ldyBwKHRoaXMuaCwgdGhpcy5jLCB0aGlzLmwgLSAxOCAqIChudWxsID09IHQgPyAxIDogdCkpOwp9OwpXLnJnYiA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gbCh0aGlzKS5yZ2IoKTsKfTsKdmFyIFAgPSAtLjE0ODYxLCBSID0gMS43ODI3NywgRiA9IC0uMjkyMjcsIE0gPSAtLjkwNjQ5LCBWID0gMS45NzI5NCwgSCA9IFYgKiBNLCBxID0gViAqIFIsIHogPSBSICogRiAtIE0gKiBQLCBVID0gbS5wcm90b3R5cGUgPSAkLnByb3RvdHlwZSA9IG5ldyBlKCk7ClUuYnJpZ2h0ZXIgPSBmdW5jdGlvbih0KSB7CnQgPSBudWxsID09IHQgPyAxIC8gLjcgOiBNYXRoLnBvdygxIC8gLjcsIHQpOwpyZXR1cm4gbmV3ICQodGhpcy5oLCB0aGlzLnMsIHRoaXMubCAqIHQpOwp9OwpVLmRhcmtlciA9IGZ1bmN0aW9uKHQpIHsKdCA9IG51bGwgPT0gdCA/IC43IDogTWF0aC5wb3coLjcsIHQpOwpyZXR1cm4gbmV3ICQodGhpcy5oLCB0aGlzLnMsIHRoaXMubCAqIHQpOwp9OwpVLnJnYiA9IGZ1bmN0aW9uKCkgewp2YXIgdCA9IGlzTmFOKHRoaXMuaCkgPyAwIDogKHRoaXMuaCArIDEyMCkgKiBBLCBlID0gK3RoaXMubCwgaSA9IGlzTmFOKHRoaXMucykgPyAwIDogdGhpcy5zICogZSAqICgxIC0gZSksIG4gPSBNYXRoLmNvcyh0KSwgbyA9IE1hdGguc2luKHQpOwpyZXR1cm4gbmV3IHIoMjU1ICogKGUgKyBpICogKFAgKiBuICsgUiAqIG8pKSwgMjU1ICogKGUgKyBpICogKEYgKiBuICsgTSAqIG8pKSwgMjU1ICogKGUgKyBpICogKFYgKiBuKSkpOwp9Owp0LnZlcnNpb24gPSAiMC4zLjQiOwp0LmNvbG9yID0gaTsKdC5yZ2IgPSBvOwp0LmhzbCA9IGE7CnQubGFiID0gbDsKdC5oY2wgPSBnOwp0LmN1YmVoZWxpeCA9IG07Cn0oZSk7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewohZnVuY3Rpb24odCwgbikgewohZnVuY3Rpb24odCwgZSkgewoidXNlIHN0cmljdCI7CmZ1bmN0aW9uIGkodCwgaSkgewp0ID0gZS5yZ2IodCk7CmkgPSBlLnJnYihpKTsKdmFyIG4gPSB0LnIsIG8gPSB0LmcsIHIgPSB0LmIsIGEgPSBpLnIgLSBuLCBzID0gaS5nIC0gbywgXyA9IGkuYiAtIHI7CnJldHVybiBmdW5jdGlvbihlKSB7CnQuciA9IG4gKyBhICogZTsKdC5nID0gbyArIHMgKiBlOwp0LmIgPSByICsgXyAqIGU7CnJldHVybiB0ICsgIiI7Cn07Cn0KZnVuY3Rpb24gbih0LCBlKSB7CnZhciBpLCBuID0gW10sIG8gPSBbXSwgciA9IHQgPyB0Lmxlbmd0aCA6IDAsIGEgPSBlID8gZS5sZW5ndGggOiAwLCBzID0gTWF0aC5taW4ociwgYSk7CmZvciAoaSA9IDA7IGkgPCBzOyArK2kpIG4ucHVzaChsKHRbaV0sIGVbaV0pKTsKZm9yICg7aSA8IHI7ICsraSkgb1tpXSA9IHRbaV07CmZvciAoO2kgPCBhOyArK2kpIG9baV0gPSBlW2ldOwpyZXR1cm4gZnVuY3Rpb24odCkgewpmb3IgKGkgPSAwOyBpIDwgczsgKytpKSBvW2ldID0gbltpXSh0KTsKcmV0dXJuIG87Cn07Cn0KZnVuY3Rpb24gbyh0LCBlKSB7CnJldHVybiB0ID0gK3QsIGUgLT0gdCwgZnVuY3Rpb24oaSkgewpyZXR1cm4gdCArIGUgKiBpOwp9Owp9CmZ1bmN0aW9uIHIodCwgZSkgewp2YXIgaSwgbiA9IHt9LCBvID0ge307Cm51bGwgIT09IHQgJiYgIm9iamVjdCIgPT0gdHlwZW9mIHQgfHwgKHQgPSB7fSk7Cm51bGwgIT09IGUgJiYgIm9iamVjdCIgPT0gdHlwZW9mIGUgfHwgKGUgPSB7fSk7CmZvciAoaSBpbiB0KSBpIGluIGUgPyBuW2ldID0gbCh0W2ldLCBlW2ldKSA6IG9baV0gPSB0W2ldOwpmb3IgKGkgaW4gZSkgaSBpbiB0IHx8IChvW2ldID0gZVtpXSk7CnJldHVybiBmdW5jdGlvbih0KSB7CmZvciAoaSBpbiBuKSBvW2ldID0gbltpXSh0KTsKcmV0dXJuIG87Cn07Cn0KZnVuY3Rpb24gYSh0KSB7CnJldHVybiBmdW5jdGlvbigpIHsKcmV0dXJuIHQ7Cn07Cn0KZnVuY3Rpb24gcyh0KSB7CnJldHVybiBmdW5jdGlvbihlKSB7CnJldHVybiB0KGUpICsgIiI7Cn07Cn0KZnVuY3Rpb24gXyh0LCBlKSB7CnZhciBpLCBuLCByLCBfID0gTC5sYXN0SW5kZXggPSBXLmxhc3RJbmRleCA9IDAsIGwgPSAtMSwgZCA9IFtdLCB1ID0gW107CnQgKz0gIiIsIGUgKz0gIiI7CmZvciAoOyhpID0gTC5leGVjKHQpKSAmJiAobiA9IFcuZXhlYyhlKSk7ICkgewppZiAoKHIgPSBuLmluZGV4KSA+IF8pIHsKciA9IGUuc2xpY2UoXywgcik7CmRbbF0gPyBkW2xdICs9IHIgOiBkWysrbF0gPSByOwp9CmlmICgoaSA9IGlbMF0pID09PSAobiA9IG5bMF0pKSBkW2xdID8gZFtsXSArPSBuIDogZFsrK2xdID0gbjsgZWxzZSB7CmRbKytsXSA9IG51bGw7CnUucHVzaCh7Cmk6IGwsCng6IG8oaSwgbikKfSk7Cn0KXyA9IFcubGFzdEluZGV4Owp9CmlmIChfIDwgZS5sZW5ndGgpIHsKciA9IGUuc2xpY2UoXyk7CmRbbF0gPyBkW2xdICs9IHIgOiBkWysrbF0gPSByOwp9CnJldHVybiBkLmxlbmd0aCA8IDIgPyB1WzBdID8gcyh1WzBdLngpIDogYShlKSA6IChlID0gdS5sZW5ndGgsIGZ1bmN0aW9uKHQpIHsKZm9yICh2YXIgaSwgbiA9IDA7IG4gPCBlOyArK24pIGRbKGkgPSB1W25dKS5pXSA9IGkueCh0KTsKcmV0dXJuIGQuam9pbigiIik7Cn0pOwp9CmZ1bmN0aW9uIGwodCwgZSkgewpmb3IgKHZhciBpLCBuID0gUC5sZW5ndGg7IC0tbiA+PSAwICYmICEoaSA9IFBbbl0odCwgZSkpOyApIDsKcmV0dXJuIGk7Cn0KZnVuY3Rpb24gZCh0LCBlKSB7CnJldHVybiB0ID0gK3QsIGUgLT0gdCwgZnVuY3Rpb24oaSkgewpyZXR1cm4gTWF0aC5yb3VuZCh0ICsgZSAqIGkpOwp9Owp9CmZ1bmN0aW9uIHUodCkgewpPIHx8IChPID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsICJnIikpOwp0ICYmIChPLnNldEF0dHJpYnV0ZSgidHJhbnNmb3JtIiwgdCksIGUgPSBPLnRyYW5zZm9ybS5iYXNlVmFsLmNvbnNvbGlkYXRlKCkpOwp2YXIgZSwgaSA9IGUgPyBlLm1hdHJpeCA6IEYsIG4gPSBbIGkuYSwgaS5iIF0sIG8gPSBbIGkuYywgaS5kIF0sIHIgPSBoKG4pLCBhID0gYyhuLCBvKSwgcyA9IGgoZihvLCBuLCAtYSkpIHx8IDA7CmlmIChuWzBdICogb1sxXSA8IG9bMF0gKiBuWzFdKSB7Cm5bMF0gKj0gLTE7Cm5bMV0gKj0gLTE7CnIgKj0gLTE7CmEgKj0gLTE7Cn0KdGhpcy5yb3RhdGUgPSAociA/IE1hdGguYXRhbjIoblsxXSwgblswXSkgOiBNYXRoLmF0YW4yKC1vWzBdLCBvWzFdKSkgKiBSOwp0aGlzLnRyYW5zbGF0ZSA9IFsgaS5lLCBpLmYgXTsKdGhpcy5zY2FsZSA9IFsgciwgcyBdOwp0aGlzLnNrZXcgPSBzID8gTWF0aC5hdGFuMihhLCBzKSAqIFIgOiAwOwp9CmZ1bmN0aW9uIGModCwgZSkgewpyZXR1cm4gdFswXSAqIGVbMF0gKyB0WzFdICogZVsxXTsKfQpmdW5jdGlvbiBoKHQpIHsKdmFyIGUgPSBNYXRoLnNxcnQoYyh0LCB0KSk7CmUgJiYgKHRbMF0gLz0gZSwgdFsxXSAvPSBlKTsKcmV0dXJuIGU7Cn0KZnVuY3Rpb24gZih0LCBlLCBpKSB7CnRbMF0gKz0gaSAqIGVbMF07CnRbMV0gKz0gaSAqIGVbMV07CnJldHVybiB0Owp9CmZ1bmN0aW9uIGcodCkgewpyZXR1cm4gdC5sZW5ndGggPyB0LnBvcCgpICsgIiwiIDogIiI7Cn0KZnVuY3Rpb24gcCh0LCBlLCBpLCBuKSB7CmlmICh0WzBdICE9PSBlWzBdIHx8IHRbMV0gIT09IGVbMV0pIHsKdmFyIHIgPSBpLnB1c2goInRyYW5zbGF0ZSgiLCBudWxsLCAiLCIsIG51bGwsICIpIik7Cm4ucHVzaCh7Cmk6IHIgLSA0LAp4OiBvKHRbMF0sIGVbMF0pCn0sIHsKaTogciAtIDIsCng6IG8odFsxXSwgZVsxXSkKfSk7Cn0gZWxzZSAoZVswXSB8fCBlWzFdKSAmJiBpLnB1c2goInRyYW5zbGF0ZSgiICsgZSArICIpIik7Cn0KZnVuY3Rpb24gbSh0LCBlLCBpLCBuKSB7CmlmICh0ICE9PSBlKSB7CnQgLSBlID4gMTgwID8gZSArPSAzNjAgOiBlIC0gdCA+IDE4MCAmJiAodCArPSAzNjApOwpuLnB1c2goewppOiBpLnB1c2goZyhpKSArICJyb3RhdGUoIiwgbnVsbCwgIikiKSAtIDIsCng6IG8odCwgZSkKfSk7Cn0gZWxzZSBlICYmIGkucHVzaChnKGkpICsgInJvdGF0ZSgiICsgZSArICIpIik7Cn0KZnVuY3Rpb24gJCh0LCBlLCBpLCBuKSB7CnQgIT09IGUgPyBuLnB1c2goewppOiBpLnB1c2goZyhpKSArICJza2V3WCgiLCBudWxsLCAiKSIpIC0gMiwKeDogbyh0LCBlKQp9KSA6IGUgJiYgaS5wdXNoKGcoaSkgKyAic2tld1goIiArIGUgKyAiKSIpOwp9CmZ1bmN0aW9uIGIodCwgZSwgaSwgbikgewppZiAodFswXSAhPT0gZVswXSB8fCB0WzFdICE9PSBlWzFdKSB7CnZhciByID0gaS5wdXNoKGcoaSkgKyAic2NhbGUoIiwgbnVsbCwgIiwiLCBudWxsLCAiKSIpOwpuLnB1c2goewppOiByIC0gNCwKeDogbyh0WzBdLCBlWzBdKQp9LCB7Cmk6IHIgLSAyLAp4OiBvKHRbMV0sIGVbMV0pCn0pOwp9IGVsc2UgMSA9PT0gZVswXSAmJiAxID09PSBlWzFdIHx8IGkucHVzaChnKGkpICsgInNjYWxlKCIgKyBlICsgIikiKTsKfQpmdW5jdGlvbiB3KHQsIGUpIHsKdmFyIGkgPSBbXSwgbiA9IFtdOwp0ID0gbmV3IHUodCksIGUgPSBuZXcgdShlKTsKcCh0LnRyYW5zbGF0ZSwgZS50cmFuc2xhdGUsIGksIG4pOwptKHQucm90YXRlLCBlLnJvdGF0ZSwgaSwgbik7CiQodC5za2V3LCBlLnNrZXcsIGksIG4pOwpiKHQuc2NhbGUsIGUuc2NhbGUsIGksIG4pOwp0ID0gZSA9IG51bGw7CnJldHVybiBmdW5jdGlvbih0KSB7CmZvciAodmFyIGUsIG8gPSAtMSwgciA9IG4ubGVuZ3RoOyArK28gPCByOyApIGlbKGUgPSBuW29dKS5pXSA9IGUueCh0KTsKcmV0dXJuIGkuam9pbigiIik7Cn07Cn0KZnVuY3Rpb24geCh0KSB7CnJldHVybiAoKHQgPSBNYXRoLmV4cCh0KSkgKyAxIC8gdCkgLyAyOwp9CmZ1bmN0aW9uIHYodCkgewpyZXR1cm4gKCh0ID0gTWF0aC5leHAodCkpIC0gMSAvIHQpIC8gMjsKfQpmdW5jdGlvbiB5KHQpIHsKcmV0dXJuICgodCA9IE1hdGguZXhwKDIgKiB0KSkgLSAxKSAvICh0ICsgMSk7Cn0KZnVuY3Rpb24gaih0LCBlKSB7CnZhciBpLCBuLCBvID0gdFswXSwgciA9IHRbMV0sIGEgPSB0WzJdLCBzID0gZVswXSwgXyA9IGVbMV0sIGwgPSBlWzJdLCBkID0gcyAtIG8sIHUgPSBfIC0gciwgYyA9IGQgKiBkICsgdSAqIHU7CmlmIChjIDwgcSkgewpuID0gTWF0aC5sb2cobCAvIGEpIC8gTTsKaSA9IGZ1bmN0aW9uKHQpIHsKcmV0dXJuIFsgbyArIHQgKiBkLCByICsgdCAqIHUsIGEgKiBNYXRoLmV4cChNICogdCAqIG4pIF07Cn07Cn0gZWxzZSB7CnZhciBoID0gTWF0aC5zcXJ0KGMpLCBmID0gKGwgKiBsIC0gYSAqIGEgKyBIICogYykgLyAoMiAqIGEgKiBWICogaCksIGcgPSAobCAqIGwgLSBhICogYSAtIEggKiBjKSAvICgyICogbCAqIFYgKiBoKSwgcCA9IE1hdGgubG9nKE1hdGguc3FydChmICogZiArIDEpIC0gZiksIG0gPSBNYXRoLmxvZyhNYXRoLnNxcnQoZyAqIGcgKyAxKSAtIGcpOwpuID0gKG0gLSBwKSAvIE07CmkgPSBmdW5jdGlvbih0KSB7CnZhciBlID0gdCAqIG4sIGkgPSB4KHApLCBzID0gYSAvIChWICogaCkgKiAoaSAqIHkoTSAqIGUgKyBwKSAtIHYocCkpOwpyZXR1cm4gWyBvICsgcyAqIGQsIHIgKyBzICogdSwgYSAqIGkgLyB4KE0gKiBlICsgcCkgXTsKfTsKfQppLmR1cmF0aW9uID0gMWUzICogbjsKcmV0dXJuIGk7Cn0KZnVuY3Rpb24gQyh0LCBlKSB7CnZhciBpID0gdCAtIGU7CnJldHVybiBpID4gMTgwIHx8IGkgPCAtMTgwID8gaSAtIDM2MCAqIE1hdGgucm91bmQoaSAvIDM2MCkgOiBpOwp9CmZ1bmN0aW9uIFModCwgaSkgewp0ID0gZS5oc2wodCk7CmkgPSBlLmhzbChpKTsKdmFyIG4gPSBpc05hTih0LmgpID8gaS5oIDogdC5oLCBvID0gaXNOYU4odC5zKSA/IGkucyA6IHQucywgciA9IHQubCwgYSA9IGlzTmFOKGkuaCkgPyAwIDogQyhpLmgsIG4pLCBzID0gaXNOYU4oaS5zKSA/IDAgOiBpLnMgLSBvLCBfID0gaS5sIC0gcjsKcmV0dXJuIGZ1bmN0aW9uKGUpIHsKdC5oID0gbiArIGEgKiBlOwp0LnMgPSBvICsgcyAqIGU7CnQubCA9IHIgKyBfICogZTsKcmV0dXJuIHQgKyAiIjsKfTsKfQpmdW5jdGlvbiBBKHQsIGkpIHsKdCA9IGUuaHNsKHQpOwppID0gZS5oc2woaSk7CnZhciBuID0gaXNOYU4odC5oKSA/IGkuaCA6IHQuaCwgbyA9IGlzTmFOKHQucykgPyBpLnMgOiB0LnMsIHIgPSB0LmwsIGEgPSBpc05hTihpLmgpID8gMCA6IGkuaCAtIG4sIHMgPSBpc05hTihpLnMpID8gMCA6IGkucyAtIG8sIF8gPSBpLmwgLSByOwpyZXR1cm4gZnVuY3Rpb24oZSkgewp0LmggPSBuICsgYSAqIGU7CnQucyA9IG8gKyBzICogZTsKdC5sID0gciArIF8gKiBlOwpyZXR1cm4gdCArICIiOwp9Owp9CmZ1bmN0aW9uIGsodCwgaSkgewp0ID0gZS5sYWIodCk7CmkgPSBlLmxhYihpKTsKdmFyIG4gPSB0LmwsIG8gPSB0LmEsIHIgPSB0LmIsIGEgPSBpLmwgLSBuLCBzID0gaS5hIC0gbywgXyA9IGkuYiAtIHI7CnJldHVybiBmdW5jdGlvbihlKSB7CnQubCA9IG4gKyBhICogZTsKdC5hID0gbyArIHMgKiBlOwp0LmIgPSByICsgXyAqIGU7CnJldHVybiB0ICsgIiI7Cn07Cn0KZnVuY3Rpb24gSSh0LCBpKSB7CnQgPSBlLmhjbCh0KTsKaSA9IGUuaGNsKGkpOwp2YXIgbiA9IGlzTmFOKHQuaCkgPyBpLmggOiB0LmgsIG8gPSBpc05hTih0LmMpID8gaS5jIDogdC5jLCByID0gdC5sLCBhID0gaXNOYU4oaS5oKSA/IDAgOiBDKGkuaCwgbiksIHMgPSBpc05hTihpLmMpID8gMCA6IGkuYyAtIG8sIF8gPSBpLmwgLSByOwpyZXR1cm4gZnVuY3Rpb24oZSkgewp0LmggPSBuICsgYSAqIGU7CnQuYyA9IG8gKyBzICogZTsKdC5sID0gciArIF8gKiBlOwpyZXR1cm4gdCArICIiOwp9Owp9CmZ1bmN0aW9uIFQodCwgaSkgewp0ID0gZS5oY2wodCk7CmkgPSBlLmhjbChpKTsKdmFyIG4gPSBpc05hTih0LmgpID8gaS5oIDogdC5oLCBvID0gaXNOYU4odC5jKSA/IGkuYyA6IHQuYywgciA9IHQubCwgYSA9IGlzTmFOKGkuaCkgPyAwIDogaS5oIC0gbiwgcyA9IGlzTmFOKGkuYykgPyAwIDogaS5jIC0gbywgXyA9IGkubCAtIHI7CnJldHVybiBmdW5jdGlvbihlKSB7CnQuaCA9IG4gKyBhICogZTsKdC5jID0gbyArIHMgKiBlOwp0LmwgPSByICsgXyAqIGU7CnJldHVybiB0ICsgIiI7Cn07Cn0KZnVuY3Rpb24gTih0LCBpLCBuKSB7CmFyZ3VtZW50cy5sZW5ndGggPCAzICYmIChuID0gMSk7CnQgPSBlLmN1YmVoZWxpeCh0KTsKaSA9IGUuY3ViZWhlbGl4KGkpOwp2YXIgbyA9IGlzTmFOKHQuaCkgPyBpLmggOiB0LmgsIHIgPSBpc05hTih0LnMpID8gaS5zIDogdC5zLCBhID0gdC5sLCBzID0gaXNOYU4oaS5oKSA/IDAgOiBDKGkuaCwgbyksIF8gPSBpc05hTihpLnMpID8gMCA6IGkucyAtIHIsIGwgPSBpLmwgLSBhOwpyZXR1cm4gZnVuY3Rpb24oZSkgewp0LmggPSBvICsgcyAqIGU7CnQucyA9IHIgKyBfICogZTsKdC5sID0gYSArIGwgKiBNYXRoLnBvdyhlLCBuKTsKcmV0dXJuIHQgKyAiIjsKfTsKfQpmdW5jdGlvbiBCKHQsIGksIG4pIHsKYXJndW1lbnRzLmxlbmd0aCA8IDMgJiYgKG4gPSAxKTsKdCA9IGUuY3ViZWhlbGl4KHQpOwppID0gZS5jdWJlaGVsaXgoaSk7CnZhciBvID0gaXNOYU4odC5oKSA/IGkuaCA6IHQuaCwgciA9IGlzTmFOKHQucykgPyBpLnMgOiB0LnMsIGEgPSB0LmwsIHMgPSBpc05hTihpLmgpID8gMCA6IGkuaCAtIG8sIF8gPSBpc05hTihpLnMpID8gMCA6IGkucyAtIHIsIGwgPSBpLmwgLSBhOwpyZXR1cm4gZnVuY3Rpb24oZSkgewp0LmggPSBvICsgcyAqIGU7CnQucyA9IHIgKyBfICogZTsKdC5sID0gYSArIGwgKiBNYXRoLnBvdyhlLCBuKTsKcmV0dXJuIHQgKyAiIjsKfTsKfQpmdW5jdGlvbiBEKHQsIGUpIHsKZSA9IHouY2FsbChlKTsKZVswXSA9IG51bGw7CmUudW5zaGlmdChudWxsKTsKcmV0dXJuIGZ1bmN0aW9uKGksIG4pIHsKZVswXSA9IGk7CmVbMV0gPSBuOwpyZXR1cm4gdC5hcHBseShudWxsLCBlKTsKfTsKfQpmdW5jdGlvbiBFKHQpIHsKcmV0dXJuIDEgPT09IGFyZ3VtZW50cy5sZW5ndGggPyB0IDogRCh0LCBhcmd1bWVudHMpOwp9CnZhciBPLCBMID0gL1stK10/KD86XGQrXC4/XGQqfFwuP1xkKykoPzpbZUVdWy0rXT9cZCspPy9nLCBXID0gbmV3IFJlZ0V4cChMLnNvdXJjZSwgImciKSwgUCA9IFsgZnVuY3Rpb24odCwgYSkgewp2YXIgcywgbCA9IHR5cGVvZiBhOwpyZXR1cm4gKCJzdHJpbmciID09PSBsID8gKHMgPSBlLmNvbG9yKGEpKSA/IChhID0gcywgaSkgOiBfIDogYSBpbnN0YW5jZW9mIGUuY29sb3IgPyBpIDogQXJyYXkuaXNBcnJheShhKSA/IG4gOiAib2JqZWN0IiA9PT0gbCAmJiBpc05hTihhKSA/IHIgOiBvKSh0LCBhKTsKfSBdLCBSID0gMTgwIC8gTWF0aC5QSSwgRiA9IHsKYTogMSwKYjogMCwKYzogMCwKZDogMSwKZTogMCwKZjogMAp9LCBNID0gTWF0aC5TUVJUMiwgViA9IDIsIEggPSA0LCBxID0gMWUtMTIsIHogPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7CnQudmVyc2lvbiA9ICIwLjQuMCI7CnQuaW50ZXJwb2xhdGUgPSBsOwp0LmludGVycG9sYXRvcnMgPSBQOwp0LmludGVycG9sYXRlQXJyYXkgPSBuOwp0LmludGVycG9sYXRlTnVtYmVyID0gbzsKdC5pbnRlcnBvbGF0ZU9iamVjdCA9IHI7CnQuaW50ZXJwb2xhdGVSb3VuZCA9IGQ7CnQuaW50ZXJwb2xhdGVTdHJpbmcgPSBfOwp0LmludGVycG9sYXRlVHJhbnNmb3JtID0gdzsKdC5pbnRlcnBvbGF0ZVpvb20gPSBqOwp0LmludGVycG9sYXRlUmdiID0gaTsKdC5pbnRlcnBvbGF0ZUhzbCA9IFM7CnQuaW50ZXJwb2xhdGVIc2xMb25nID0gQTsKdC5pbnRlcnBvbGF0ZUxhYiA9IGs7CnQuaW50ZXJwb2xhdGVIY2wgPSBJOwp0LmludGVycG9sYXRlSGNsTG9uZyA9IFQ7CnQuaW50ZXJwb2xhdGVDdWJlaGVsaXggPSBOOwp0LmludGVycG9sYXRlQ3ViZWhlbGl4TG9uZyA9IEI7CnQuaW50ZXJwb2xhdGVCaW5kID0gRTsKfShlLCBpKDIyNSkpOwp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKIWZ1bmN0aW9uKHQsIGkpIHsKIWZ1bmN0aW9uKHQpIHsKInVzZSBzdHJpY3QiOwpmdW5jdGlvbiBlKHQsIGUpIHsKcmV0dXJuIGZ1bmN0aW9uKGkpIHsKcmV0dXJuIHQoaSwgZSk7Cn07Cn0KZnVuY3Rpb24gaSh0LCBlLCBpKSB7CnJldHVybiBmdW5jdGlvbihuKSB7CnJldHVybiB0KG4sIGUsIGkpOwp9Owp9CmZ1bmN0aW9uIG4odCwgZSkgewplID0gRC5jYWxsKGUpOwplWzBdID0gbnVsbDsKcmV0dXJuIGZ1bmN0aW9uKGkpIHsKZVswXSA9IGk7CnJldHVybiB0LmFwcGx5KG51bGwsIGUpOwp9Owp9CmZ1bmN0aW9uIG8odCwgbywgcikgewpzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHsKY2FzZSAxOgpyZXR1cm4gdDsKCmNhc2UgMjoKcmV0dXJuIGUodCwgbyk7CgpjYXNlIDM6CnJldHVybiBpKHQsIG8sIHIpOwoKZGVmYXVsdDoKcmV0dXJuIG4odCwgYXJndW1lbnRzKTsKfQp9CmZ1bmN0aW9uIHIodCkgewpyZXR1cm4gK3Q7Cn0KZnVuY3Rpb24gYSh0KSB7CnJldHVybiB0ICogdDsKfQpmdW5jdGlvbiBzKHQpIHsKcmV0dXJuIHQgKiAoMiAtIHQpOwp9CmZ1bmN0aW9uIF8odCkgewpyZXR1cm4gKCh0ICo9IDIpIDw9IDEgPyB0ICogdCA6IC0tdCAqICgyIC0gdCkgKyAxKSAvIDI7Cn0KZnVuY3Rpb24gbCh0KSB7CnJldHVybiB0ICogdCAqIHQ7Cn0KZnVuY3Rpb24gZCh0KSB7CnJldHVybiAtLXQgKiB0ICogdCArIDE7Cn0KZnVuY3Rpb24gdSh0KSB7CnJldHVybiAoKHQgKj0gMikgPD0gMSA/IHQgKiB0ICogdCA6ICh0IC09IDIpICogdCAqIHQgKyAyKSAvIDI7Cn0KZnVuY3Rpb24gYyh0LCBlKSB7Cm51bGwgPT0gZSAmJiAoZSA9IDMpOwpyZXR1cm4gTWF0aC5wb3codCwgZSk7Cn0KZnVuY3Rpb24gaCh0LCBlKSB7Cm51bGwgPT0gZSAmJiAoZSA9IDMpOwpyZXR1cm4gMSAtIE1hdGgucG93KDEgLSB0LCBlKTsKfQpmdW5jdGlvbiBmKHQsIGUpIHsKbnVsbCA9PSBlICYmIChlID0gMyk7CnJldHVybiAoKHQgKj0gMikgPD0gMSA/IE1hdGgucG93KHQsIGUpIDogMiAtIE1hdGgucG93KDIgLSB0LCBlKSkgLyAyOwp9CmZ1bmN0aW9uIGcodCkgewpyZXR1cm4gMSAtIE1hdGguY29zKHQgKiBPKTsKfQpmdW5jdGlvbiBwKHQpIHsKcmV0dXJuIE1hdGguc2luKHQgKiBPKTsKfQpmdW5jdGlvbiBtKHQpIHsKcmV0dXJuICgxIC0gTWF0aC5jb3MoRSAqIHQpKSAvIDI7Cn0KZnVuY3Rpb24gJCh0KSB7CnJldHVybiBNYXRoLnBvdygyLCAxMCAqIHQgLSAxMCk7Cn0KZnVuY3Rpb24gYih0KSB7CnJldHVybiAxIC0gTWF0aC5wb3coMiwgLTEwICogdCk7Cn0KZnVuY3Rpb24gdyh0KSB7CnJldHVybiAoKHQgKj0gMikgPD0gMSA/IE1hdGgucG93KDIsIDEwICogdCAtIDEwKSA6IDIgLSBNYXRoLnBvdygyLCAxMCAtIDEwICogdCkpIC8gMjsKfQpmdW5jdGlvbiB4KHQpIHsKcmV0dXJuIDEgLSBNYXRoLnNxcnQoMSAtIHQgKiB0KTsKfQpmdW5jdGlvbiB2KHQpIHsKcmV0dXJuIE1hdGguc3FydCgxIC0gLS10ICogdCk7Cn0KZnVuY3Rpb24geSh0KSB7CnJldHVybiAoKHQgKj0gMikgPD0gMSA/IDEgLSBNYXRoLnNxcnQoMSAtIHQgKiB0KSA6IE1hdGguc3FydCgxIC0gKHQgLT0gMikgKiB0KSArIDEpIC8gMjsKfQpmdW5jdGlvbiBqKHQpIHsKcmV0dXJuIDEgLSBDKDEgLSB0KTsKfQpmdW5jdGlvbiBDKHQpIHsKcmV0dXJuIHQgPCBMID8geiAqIHQgKiB0IDogdCA8IFAgPyB6ICogKHQgLT0gVykgKiB0ICsgUiA6IHQgPCBNID8geiAqICh0IC09IEYpICogdCArIFYgOiB6ICogKHQgLT0gSCkgKiB0ICsgcTsKfQpmdW5jdGlvbiBTKHQpIHsKcmV0dXJuICgodCAqPSAyKSA8PSAxID8gMSAtIEMoMSAtIHQpIDogQyh0IC0gMSkgKyAxKSAvIDI7Cn0KZnVuY3Rpb24gQSh0LCBlKSB7CmUgPSBudWxsID09IGUgPyAxLjcwMTU4IDogK2U7CnJldHVybiB0ICogdCAqICgoZSArIDEpICogdCAtIGUpOwp9CmZ1bmN0aW9uIGsodCwgZSkgewplID0gbnVsbCA9PSBlID8gMS43MDE1OCA6ICtlOwpyZXR1cm4gLS10ICogdCAqICgoZSArIDEpICogdCArIGUpICsgMTsKfQpmdW5jdGlvbiBJKHQsIGUpIHsKZSA9IG51bGwgPT0gZSA/IDEuNzAxNTggOiArZTsKcmV0dXJuICgodCAqPSAyKSA8IDEgPyB0ICogdCAqICgoZSArIDEpICogdCAtIGUpIDogKHQgLT0gMikgKiB0ICogKChlICsgMSkgKiB0ICsgZSkgKyAyKSAvIDI7Cn0KZnVuY3Rpb24gVCh0LCBlLCBpKSB7CmUgPSBudWxsID09IGUgPyAxIDogTWF0aC5tYXgoMSwgZSk7CmkgPSAobnVsbCA9PSBpID8gLjMgOiBpKSAvIFU7CnJldHVybiBlICogTWF0aC5wb3coMiwgMTAgKiAtLXQpICogTWF0aC5zaW4oKGkgKiBNYXRoLmFzaW4oMSAvIGUpIC0gdCkgLyBpKTsKfQpmdW5jdGlvbiBOKHQsIGUsIGkpIHsKZSA9IG51bGwgPT0gZSA/IDEgOiBNYXRoLm1heCgxLCBlKTsKaSA9IChudWxsID09IGkgPyAuMyA6IGkpIC8gVTsKcmV0dXJuIDEgLSBlICogTWF0aC5wb3coMiwgLTEwICogdCkgKiBNYXRoLnNpbigoK3QgKyBpICogTWF0aC5hc2luKDEgLyBlKSkgLyBpKTsKfQpmdW5jdGlvbiBCKHQsIGUsIGkpIHsKZSA9IG51bGwgPT0gZSA/IDEgOiBNYXRoLm1heCgxLCBlKTsKaSA9IChudWxsID09IGkgPyAuMyA6IGkpIC8gVTsKdmFyIG4gPSBpICogTWF0aC5hc2luKDEgLyBlKTsKcmV0dXJuICgodCA9IDIgKiB0IC0gMSkgPCAwID8gZSAqIE1hdGgucG93KDIsIDEwICogdCkgKiBNYXRoLnNpbigobiAtIHQpIC8gaSkgOiAyIC0gZSAqIE1hdGgucG93KDIsIC0xMCAqIHQpICogTWF0aC5zaW4oKG4gKyB0KSAvIGkpKSAvIDI7Cn0KdmFyIEQgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UsIEUgPSBNYXRoLlBJLCBPID0gRSAvIDIsIEwgPSA0IC8gMTEsIFcgPSA2IC8gMTEsIFAgPSA4IC8gMTEsIFIgPSAuNzUsIEYgPSA5IC8gMTEsIE0gPSAxMCAvIDExLCBWID0gLjkzNzUsIEggPSAyMSAvIDIyLCBxID0gNjMgLyA2NCwgeiA9IDEgLyBMIC8gTCwgVSA9IDIgKiBNYXRoLlBJOwp0LnZlcnNpb24gPSAiMC41LjEiOwp0LmVhc2VCaW5kID0gbzsKdC5lYXNlTGluZWFySW4gPSByOwp0LmVhc2VMaW5lYXJPdXQgPSByOwp0LmVhc2VMaW5lYXJJbk91dCA9IHI7CnQuZWFzZVF1YWRJbiA9IGE7CnQuZWFzZVF1YWRPdXQgPSBzOwp0LmVhc2VRdWFkSW5PdXQgPSBfOwp0LmVhc2VDdWJpY0luID0gbDsKdC5lYXNlQ3ViaWNPdXQgPSBkOwp0LmVhc2VDdWJpY0luT3V0ID0gdTsKdC5lYXNlUG9seUluID0gYzsKdC5lYXNlUG9seU91dCA9IGg7CnQuZWFzZVBvbHlJbk91dCA9IGY7CnQuZWFzZVNpbkluID0gZzsKdC5lYXNlU2luT3V0ID0gcDsKdC5lYXNlU2luSW5PdXQgPSBtOwp0LmVhc2VFeHBJbiA9ICQ7CnQuZWFzZUV4cE91dCA9IGI7CnQuZWFzZUV4cEluT3V0ID0gdzsKdC5lYXNlQ2lyY2xlSW4gPSB4Owp0LmVhc2VDaXJjbGVPdXQgPSB2Owp0LmVhc2VDaXJjbGVJbk91dCA9IHk7CnQuZWFzZUJvdW5jZUluID0gajsKdC5lYXNlQm91bmNlT3V0ID0gQzsKdC5lYXNlQm91bmNlSW5PdXQgPSBTOwp0LmVhc2VCYWNrSW4gPSBBOwp0LmVhc2VCYWNrT3V0ID0gazsKdC5lYXNlQmFja0luT3V0ID0gSTsKdC5lYXNlRWxhc3RpY0luID0gVDsKdC5lYXNlRWxhc3RpY091dCA9IE47CnQuZWFzZUVsYXN0aWNJbk91dCA9IEI7Cn0oZSk7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewohZnVuY3Rpb24odCwgaSkgewohZnVuY3Rpb24odCkgewoidXNlIHN0cmljdCI7CmZ1bmN0aW9uIGUodCwgZSwgaSkgewp0aGlzLmlkID0gKytkOwp0aGlzLnJlc3RhcnQodCwgZSwgaSk7Cn0KZnVuY3Rpb24gaSh0LCBpLCBuKSB7CnJldHVybiBuZXcgZSh0LCBpLCBuKTsKfQpmdW5jdGlvbiBuKHQpIHsKdCA9IG51bGwgPT0gdCA/IERhdGUubm93KCkgOiArdDsKKytfOwp0cnkgewpmb3IgKHZhciBlID0gYTsgZTsgKSB7CnQgPj0gZS50aW1lICYmICgwLCBlLmNhbGxiYWNrKSh0IC0gZS50aW1lLCB0KTsKZSA9IGUubmV4dDsKfQp9IGZpbmFsbHkgewotLV87Cn0KfQpmdW5jdGlvbiBvKCkgewpfID0gbCA9IDA7CnRyeSB7Cm4oKTsKfSBmaW5hbGx5IHsKZm9yICh2YXIgdCwgZSA9IGEsIGkgPSAxIC8gMDsgZTsgKSBpZiAoZS5jYWxsYmFjaykgewppID4gZS50aW1lICYmIChpID0gZS50aW1lKTsKZSA9ICh0ID0gZSkubmV4dDsKfSBlbHNlIGUgPSB0ID8gdC5uZXh0ID0gZS5uZXh0IDogYSA9IGUubmV4dDsKcyA9IHQ7CnIoaSk7Cn0KfQpmdW5jdGlvbiByKHQpIHsKaWYgKCFfKSB7CmwgJiYgKGwgPSBjbGVhclRpbWVvdXQobCkpOwp2YXIgZSA9IHQgLSBEYXRlLm5vdygpOwplID4gMjQgPyB0IDwgMSAvIDAgJiYgKGwgPSBzZXRUaW1lb3V0KG8sIGUpKSA6IChfID0gMSwgYyhvKSk7Cn0KfQp2YXIgYSwgcywgXyA9IDAsIGwgPSAwLCBkID0gMCwgdSA9IHt9LCBjID0gInVuZGVmaW5lZCIgIT0gdHlwZW9mIHdpbmRvdyAmJiAod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB8fCBmdW5jdGlvbih0KSB7CnJldHVybiBzZXRUaW1lb3V0KHQsIDE3KTsKfTsKZS5wcm90b3R5cGUgPSBpLnByb3RvdHlwZSA9IHsKcmVzdGFydDogZnVuY3Rpb24odCwgZSwgaSkgewppZiAoImZ1bmN0aW9uIiAhPSB0eXBlb2YgdCkgdGhyb3cgbmV3IFR5cGVFcnJvcigiY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb24iKTsKaSA9IChudWxsID09IGkgPyBEYXRlLm5vdygpIDogK2kpICsgKG51bGwgPT0gZSA/IDAgOiArZSk7CnZhciBuID0gdGhpcy5pZCwgbyA9IHVbbl07CmlmIChvKSBvLmNhbGxiYWNrID0gdCwgby50aW1lID0gaTsgZWxzZSB7Cm8gPSB7Cm5leHQ6IG51bGwsCmNhbGxiYWNrOiB0LAp0aW1lOiBpCn07CnMgPyBzLm5leHQgPSBvIDogYSA9IG87CnVbbl0gPSBzID0gbzsKfQpyKCk7Cn0sCnN0b3A6IGZ1bmN0aW9uKCkgewp2YXIgdCA9IHRoaXMuaWQsIGUgPSB1W3RdOwppZiAoZSkgewplLmNhbGxiYWNrID0gbnVsbCwgZS50aW1lID0gMSAvIDA7CmRlbGV0ZSB1W3RdOwpyKCk7Cn0KfQp9Owp0LnZlcnNpb24gPSAiMC4xLjAiOwp0LnRpbWVyID0gaTsKdC50aW1lckZsdXNoID0gbjsKfShlKTsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19qeF91aV9XaWRnZXQgPSBpKDcpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19GYXZpY29uID0gaSgxMTkpOwpuLl9fJCRfX2p4X3VpX0xhYmVsID0gaSgxOSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0JvcmRlck92ZXJsYXkgPSBpKDg4KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgaSwgbywgciwgXykgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBpLCBvLCByLCBfKTsKaSA9IGkgfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBsID0gWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfRmF2aWNvbiwgIiIsICIiLCBbXSwgewphZGRDbGFzczogImZhdmljb24iCn0gXSwgWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9MYWJlbCwgInN0YXR1c190ZXh0X3dyYXBwZXIiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfTGFiZWwsICJzdGF0dXNfdGV4dCIsICIiLCBbXSwgewppZDogInN0YXR1c190ZXh0Igp9IF0sIFsgbi5fXyQkX19qeF91aV9MYWJlbCwgIiIsICIiLCBbXSwgewp0ZXh0OiAiIC0gIgp9IF0gXSwgewphZGRDbGFzczogInN0YXR1cyIsCmlkOiAic3RhdHVzX3RleHRfd3JhcHBlciIKfSBdLCBbIG4uX18kJF9fanhfdWlfTGFiZWwsICJncmVldGluZyIsICIiLCBbXSwgewppZDogImdyZWV0aW5nIgp9IF0gXSwgewphZGRDbGFzczogImJ1dHRvbl90ZXh0Igp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQm9yZGVyT3ZlcmxheSwgIiIsICIiLCBbXSwge30gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIKfSBdLCBkID0gbFswXS5jYWxsKHRoaXMsIGUsIGksIG51bGwsIHMubWFuZ2xlSURzKGksIGxbM10pLCBsWzRdKSwgdSA9IGQgfHwgdGhpczsKcy5zZXQoaSwgdSk7CnZhciBjID0gcy5nZXQoaSArICJfX3N0YXR1c190ZXh0X3dyYXBwZXIiKSwgaCA9IHMuZ2V0KGkgKyAiX19zdGF0dXNfdGV4dCIpLCBmID0gcy5nZXQoaSArICJfX2dyZWV0aW5nIik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBnID0gZnVuY3Rpb24oKSB7CnUuc2V0TGFuZ3VhZ2VEaXJlY3Rpb24gPSBmdW5jdGlvbih0KSB7CiJydGwiID09IHQgPyB1LmFkZENsYXNzKCJpcy1ydGwiKSA6IHUucmVtb3ZlQ2xhc3MoImlzLXJ0bCIpOwp9Owp1LnNldFN0YXR1c0Rpc3BsYXkgPSBmdW5jdGlvbih0KSB7CmMuc2V0RGlzcGxheSh0ID8gIiIgOiAibm9uZSIpOwp9Owp1LnNldFN0YXR1c1RleHQgPSBmdW5jdGlvbih0KSB7Cmguc2V0VGV4dCh0KTsKfTsKdS51cGRhdGVHcmVldGluZyA9IGZ1bmN0aW9uKHQpIHsKZi5zZXRUZXh0KHQpOwp9Owp9KCk7CmZvciAodmFyIHAgaW4gZykgdVtwXSA9IGdbcF07CnUuZmlyZSAmJiB1LmZpcmUoImluaXQiKTsKdS5zZXRTdHlsZSAmJiB1LnNldFN0eWxlKG8pOwp1LnNldEF0dHJpYnV0ZXMgJiYgdS5zZXRBdHRyaWJ1dGVzKF8pOwoiZnVuY3Rpb24iID09IHR5cGVvZiB1LmFkZENoaWxkcmVuID8gdS5hZGRDaGlsZHJlbihyKSA6IHMuYWRkQ2hpbGRyZW4odSwgcik7CmlmICh1ICE9PSB0aGlzKSB7CnUuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwp1Ll9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiB1Owp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2p4X3VpX1dpZGdldC5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewpwb3NpdGlvbjogInJlbGF0aXZlIiwKcGFkZGluZ0xlZnQ6ICIkJGZhdmljb25XaWR0aCIsCm92ZXJmbG93OiAiaGlkZGVuIgp9LAoiJi5pcy1ydGwiOiB7CnBhZGRpbmdMZWZ0OiAwLApwYWRkaW5nUmlnaHQ6ICIkJGZhdmljb25XaWR0aCIKfSwKIi5mYXZpY29uIjogewpwb3NpdGlvbjogImFic29sdXRlIiwKaGVpZ2h0OiAiMTAwJSIsCmxlZnQ6IDAsCnZlcnRpY2FsQWxpZ246ICJ0ZXh0LXRvcCIsCnRleHRBbGlnbjogImNlbnRlciIsCnBhZGRpbmdUb3A6ICI4cHgiLAp3aWR0aDogIiQkZmF2aWNvbldpZHRoIiwKYmFja2dyb3VuZDogIiQkZmF2aWNvbkJnIiwKY29sb3I6ICIkJGZhdmljb25Db2xvciIsCiJib3JkZXJUb3BMZWZ0UmFkaXVzLCBib3JkZXJCb3R0b21MZWZ0UmFkaXVzIjogIiQkY2hhdEJ1dHRvblJhZGl1cyIKfSwKIiYuaXMtcnRsIC5mYXZpY29uIjogewpsZWZ0OiAiYXV0byIsCnJpZ2h0OiAwLAoiYm9yZGVyVG9wTGVmdFJhZGl1cywgYm9yZGVyQm90dG9tTGVmdFJhZGl1cyI6IDAsCiJib3JkZXJUb3BSaWdodFJhZGl1cywgYm9yZGVyQm90dG9tUmlnaHRSYWRpdXMiOiAiJCRjaGF0QnV0dG9uUmFkaXVzIgp9LAoiLmJ1dHRvbl90ZXh0Ijogewpwb3NpdGlvbjogInJlbGF0aXZlIiwKb3ZlcmZsb3c6ICJoaWRkZW4iLAp2ZXJ0aWNhbEFsaWduOiAidGV4dC10b3AiLAp3aWR0aDogIjEwMCUiLApib3R0b206ICIwIiwKd2hpdGVTcGFjZTogIm5vd3JhcCIsCmZvbnRXZWlnaHQ6ICIkJGNoYXRCdXR0b25Gb250V2VpZ2h0IiwKbGluZUhlaWdodDogIiQkY2hhdEJ1dHRvbkhlaWdodCIsCnBhZGRpbmdMZWZ0OiAiJCRjaGF0QnV0dG9uUGFkZGluZ0Zhdmljb24iLApwYWRkaW5nUmlnaHQ6ICIkJGNoYXRCdXR0b25QYWRkaW5nIiwKIi5zdGF0dXMiOiB7CmZvbnRXZWlnaHQ6ICIkJGNoYXRCdXR0b25TdGF0dXNGb250V2VpZ2h0Igp9Cn0sCiIuYm9yZGVyX292ZXJsYXkiOiB7CmJvcmRlcldpZHRoOiAiJCRjaGF0QnV0dG9uQm9yZGVyV2lkdGgiLApib3JkZXJTdHlsZTogIiQkY2hhdEJ1dHRvbkJvcmRlclN0eWxlIiwKYm9yZGVyQ29sb3I6ICIkJGNoYXRCdXR0b25Cb3JkZXJDb2xvciIKfSwKIiYuaXMtcnRsIC5idXR0b25fdGV4dCI6IHsKcGFkZGluZ0xlZnQ6ICIkJGNoYXRCdXR0b25QYWRkaW5nIiwKcGFkZGluZ1JpZ2h0OiAiJCRjaGF0QnV0dG9uUGFkZGluZ0Zhdmljb24iCn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfV2lkZ2V0LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfY29tcG9uZW50c19tb2JpbGVDaGF0QnV0dG9uX0J1dHRvbkJhciIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX2p4X3VpX1dpZGdldCA9IGkoNyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX21vYmlsZUNoYXRCdXR0b25fQnV0dG9uQmFyID0gaSgyMjkpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19tb2JpbGVDaGF0QnV0dG9uX0J1dHRvbkJhciwgImJ1dHRvbl9iYXIiLCAiIiwgW10sIHsKaWQ6ICJidXR0b25fYmFyIiwKYWRkQ2xhc3M6ICJidXR0b25fYmFyIgp9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6bW9iaWxlQ2hhdEJ1dHRvbiI6ICJtZXNoaW0ud2lkZ2V0LmNvbXBvbmVudHMubW9iaWxlQ2hhdEJ1dHRvbiIsCnZpc2liaWxpdHk6ICJoaWRkZW4iCn0gXSwgdSA9IGRbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBzLm1hbmdsZUlEcyhvLCBkWzNdKSwgZFs0XSksIGMgPSB1IHx8IHRoaXM7CnMuc2V0KG8sIGMpOwp2YXIgaCA9IHMuZ2V0KG8gKyAiX19idXR0b25fYmFyIik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBmID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoKSB7Cm0oZSwgYywgITApOwp9CmZ1bmN0aW9uIGUoKSB7Ck8udXBkYXRlKHBhcnNlSW50KGMuZ2V0V2lkdGgoKSwgMTApIHx8IHBhcnNlSW50KCQuZ2V0VmFyaWFibGUoImNoYXRCdXR0b25NaW5XaWR0aCIpLCAxMCkpOwpMLnVwZGF0ZShwYXJzZUludCgkLmdldFZhcmlhYmxlKCJjaGF0QnV0dG9uSGVpZ2h0IiksIDEwKSk7CmlmICghZiAmJiB1KSB7CmMuc2V0VmlzaWJpbGl0eSgiIik7CmYgPSAhMDsKfQp9CnZhciBuLCBvLCByLCBhLCBzLCBfLCBsLCBkLCB1LCBmLCBnID0gaSgyKSwgcCA9IGkoMjApLCBtID0gaSgxNiksICQgPSBpKDMpLCBiID0gaSg2KSwgdyA9IGkoOSksIHggPSBpKDEwKSwgdiA9IGkoMTAxKSwgeSA9IGIucm9vdC4kKCJsaXZlY2hhdCIpLCBqID0geS4kKCJ1aSIpLCBDID0gai4kKCJjaGF0X2J1dHRvbiIpLCBTID0gQy4kKCJkaXNwbGF5JGJvb2wiKSwgQSA9IHkuJCgiYWNjb3VudCIpLiQoInN0YXR1cyRzdHJpbmciKSwgayA9IHkuJCgic2V0dGluZ3MiKS4kKCJ0aGVtZSIpLiQoImNoYXRfYnV0dG9uIikuJCgiZGlzcGxheV9zdGF0dXMkYm9vbCIpLCBJID0gLTEsIFQgPSB5LiQoInNldHRpbmdzIikuJCgiZ3JlZXRpbmdzIiksIE4gPSBULiQoIm9ubGluZSRzdHJpbmciKSwgQiA9IFQuJCgib2ZmbGluZSRzdHJpbmciKSwgRCA9IHkuJCgic2V0dGluZ3MiKS4kKCJjb29raWVfbGF3IikuJCgiZW5hYmxlZCRib29sIiksIEUgPSB5LiQoInByb2ZpbGUiKS4kKCJhbGxvd19jb29raWVzJGJvb2wiKSwgTyA9IEMuJCgiYnV0dG9uX3dpZHRoJGludCIpLCBMID0gQy4kKCJidXR0b25faGVpZ2h0JGludCIpLCBXID0gai4kKCJ0aGVtZV9sb2FkZWQkYm9vbCIpLCBQID0gai4kKCJsYW5nX2RpciRzdHJpbmciKSwgUiA9IHkuJCgiY2hhbm5lbCIpLiQoImNoYXR0aW5nJGJvb2wiKTsKIWZ1bmN0aW9uKCkgewpmdW5jdGlvbiBlKCkgewp2YXIgdDsKdCA9IHMgJiYgdm9pZCAwICE9PSBfICYmICFfID8geC5jb29raWVfbGF3LmRpc2FibGVkX21vYmlsZSA6ICJvZmZsaW5lIiAhPSBvIHx8IGQgPyB4LmNoYXRfYnV0dG9uLm1vYmlsZV9ncmVldGluZy5vbmxpbmUgOiB4LmNoYXRfYnV0dG9uLm1vYmlsZV9ncmVldGluZy5vZmZsaW5lOwppZiAodSAhPSB0KSB7CnUgPSB0OwpoLnVwZGF0ZUdyZWV0aW5nKHQpOwp9Cn0KZnVuY3Rpb24gaSgpIHsKdmFyIHQgPSAib2ZmbGluZSIgPT0gbyAmJiBkID8geC5zdGF0dXMub25saW5lIDogeC5zdGF0dXNbbyB8fCAib2ZmbGluZSJdOwpoLnNldFN0YXR1c1RleHQodCk7CiQoZSk7Cn0KZnVuY3Rpb24gZigpIHsKJChlKTsKfQpmdW5jdGlvbiAkKCkgewpmb3IgKHZhciBlID0gMCwgaSA9IGFyZ3VtZW50cy5sZW5ndGg7IGUgPCBpOyBlKyspIHAoYXJndW1lbnRzW2VdKSAmJiBhcmd1bWVudHNbZV0oKTsKdCgpOwp9CncucnRsKGMpOwpjLmF1dG9iaW5kKFMsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKaWYgKG4gIT09IHQpIHsKbiA9IHQ7CiQoKTsKfQp9KTsKYy5hdXRvYmluZChOLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CnIgPSB0OwokKGUpOwp9KTsKYy5hdXRvYmluZChCLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CmEgPSB0OwokKGUpOwp9KTsKYy5hdXRvYmluZChFLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7Cl8gPSB0OwokKGUpOwp9KTsKYy5hdXRvYmluZChSLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CmlmIChkICE9PSB0KSB7CmQgPSB0OwokKGkpOwp9Cn0pOwpjLmF1dG9iaW5kKEQsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKcyA9IHQ7CiQoZSk7Cn0pOwpjLmF1dG9iaW5kKFcsICJ2YWx1ZSIsIHQpOwppZiAoZyAmJiBnLm9uTGFuZ3VhZ2UpIHsKZy5vbkxhbmd1YWdlKGYpOwpjLm9uRGVzdHJ1Y3Rpb24oZnVuY3Rpb24oKSB7CmcudW5MYW5ndWFnZShmKTsKfSk7Cn0KYy5hdXRvYmluZChrLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CmlmIChJICE9PSB0KSB7CkkgPSB0OwpoLnNldFN0YXR1c0Rpc3BsYXkodCk7CiQoKTsKfQp9KTsKYy5hdXRvYmluZChBLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CmlmIChvICE9PSB0KSB7Cm8gPSB0OwokKGkpOwp9Cn0pOwpjLmF1dG9iaW5kKFAsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKaWYgKHZvaWQgMCAhPT0gdCAmJiBsICE9PSB0KSB7CmwgPSB0OwpoLnNldExhbmd1YWdlRGlyZWN0aW9uKHQpOwp9Cn0pOwptKHYuaWVRdWlya3NNb2RlRml4KTsKfSgpOwp9KCk7CmZvciAodmFyIGcgaW4gZikgY1tnXSA9IGZbZ107CmMuZmlyZSAmJiBjLmZpcmUoImluaXQiKTsKYy5zZXRTdHlsZSAmJiBjLnNldFN0eWxlKHIpOwpjLnNldEF0dHJpYnV0ZXMgJiYgYy5zZXRBdHRyaWJ1dGVzKGwpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBjLmFkZENoaWxkcmVuID8gYy5hZGRDaGlsZHJlbihfKSA6IHMuYWRkQ2hpbGRyZW4oYywgXyk7CmlmIChjICE9PSB0aGlzKSB7CmMuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpjLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBjOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2p4X3VpX1dpZGdldC5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewptYXJnaW46ICIwIGF1dG8iLApwb3NpdGlvbjogInJlbGF0aXZlIiwKImJvdHRvbSwgbGVmdCI6ICJhdXRvIiwKcGFkZGluZ1JpZ2h0OiAiMHB4IiwKcGFkZGluZ1RvcDogIjBweCIKfSwKIi5idXR0b25fYmFyIjogewptaW5XaWR0aDogIjAiLAptYXhXaWR0aDogIiQkY2hhdEJ1dHRvbk1heFdpZHRoIiwKaGVpZ2h0OiAiJCRjaGF0QnV0dG9uSGVpZ2h0IiwKY29sb3I6ICIkJGNoYXRCdXR0b25Db2xvciIsCmJhY2tncm91bmQ6ICIkJGNoYXRCdXR0b25CZyIsCmJveFNoYWRvdzogIiQkY2hhdEJ1dHRvblNoYWRvdyIsCmJvcmRlclJhZGl1czogIiQkY2hhdEJ1dHRvblJhZGl1cyIKfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9XaWRnZXQsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF9jb21wb25lbnRzX21vYmlsZUNoYXRCdXR0b25fQnV0dG9uIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fanhfdWlfRmxvYXRpbmdGcmFtZSA9IGkoNzIpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19mb250TG9hZGVyX1pvcGltRm9udCA9IGkoNTkpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19tb2JpbGVDaGF0QnV0dG9uX0J1dHRvbiA9IGkoMjMwKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfbW9iaWxlQ2hhdEJ1dHRvbl9UYXBwaW5nU2NyZWVuID0gaSgxMTgpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fanhfdWlfRmxvYXRpbmdGcmFtZSwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfZm9udExvYWRlcl9ab3BpbUZvbnQsICIiLCAiIiwgW10sIHt9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfbW9iaWxlQ2hhdEJ1dHRvbl9CdXR0b24sICIiLCAiIiwgW10sIHt9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfbW9iaWxlQ2hhdEJ1dHRvbl9UYXBwaW5nU2NyZWVuLCAiIiwgIiIsIFtdLCB7fSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIiwKInhtbG5zOm1vYmlsZUNoYXRCdXR0b24iOiAibWVzaGltLndpZGdldC5jb21wb25lbnRzLm1vYmlsZUNoYXRCdXR0b24iLAp1c2VEaXNwbGF5OiAidHJ1ZSIsCnZpc2libGU6ICJmYWxzZSIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBoID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQodCkgewpjLnNldFZpc2libGUoITApOwphLmFuaW1hdGUoewplbmRTdHlsZTogdiwKZHVyYXRpb246IEYgPyAyMDAgOiAwCn0sIGZ1bmN0aW9uKGUpIHsKZSB8fCBULnVwZGF0ZSghMCk7CnQgJiYgdChlKTsKfSk7CkYgPSAhMDsKfQpmdW5jdGlvbiBlKHQpIHsKVC51cGRhdGUoITEpOwphLmFuaW1hdGUoewplbmRTdHlsZTogeSwKZHVyYXRpb246IDIwMAp9LCBmdW5jdGlvbihlKSB7CmUgfHwgYy5zZXRWaXNpYmxlKCExKTsKdCAmJiB0KGUpOwp9KTsKfQpmdW5jdGlvbiBuKHQpIHsKcmV0dXJuICJhdXRvIiAhPT0gdCA/IHQgKyAicHgiIDogdDsKfQpmdW5jdGlvbiBvKCkgewp2YXIgdCwgZSwgaSwgbywgYSwgcywgbCwgZCwgdSwgaCwgZiwgZywgJCwgYiwgdiwgeSwgaiwgQywgUywgQSwgSSA9IGMud3JhcHBlci5nZXRXaWR0aCgpLCBUID0gYy53cmFwcGVyLmdldEhlaWdodCgpOwppZiAoUikgewp0ID0gUi5zY2FsZTsKaSA9IFIucGFnZUxlZnQ7Cm8gPSBSLnBhZ2VUb3A7CmwgPSB3aW5kb3cuaW5uZXJXaWR0aDsKZCA9IHdpbmRvdy5pbm5lckhlaWdodDsKdSA9IFIub2Zmc2V0TGVmdDsKaCA9IFIub2Zmc2V0VG9wOwphID0gUi53aWR0aDsKcyA9IFIuaGVpZ2h0Owp9IGVsc2Ugewp0ID0gbS5nZXRab29tTGV2ZWwoKTsKaSA9IHdpbmRvdy5wYWdlWE9mZnNldDsKbyA9IHdpbmRvdy5wYWdlWU9mZnNldDsKYSA9IHdpbmRvdy5pbm5lcldpZHRoOwpzID0gd2luZG93LmlubmVySGVpZ2h0Owp9CmUgPSAoMSAvIHQpLnRvRml4ZWQoMik7CmYgPSBJIC8gdDsKZyA9IFQgLyB0Owp2ID0gbS5nZXRPZmZzZXQoKTsKeSA9IF8uaXNJT1MgJiYgdCA+PSAxID8gImFic29sdXRlIiA6ICJmaXhlZCI7CmZvciAodmFyIE4gPSAwLCBCID0gcC5jc3NvbV9wcmVmaXhlcy5sZW5ndGg7IE4gPCBCOyBOKyspIHsKYy53cmFwcGVyLnNldFN0eWxlKHAuY3Nzb21fcHJlZml4ZXNbTl0gKyAiVHJhbnNmb3JtIiwgInNjYWxlKCIgKyBlICsgIikiKTsKYy53cmFwcGVyLnNldFN0eWxlKHAuY3Nzb21fcHJlZml4ZXNbTl0gKyAiVHJhbnNmb3JtT3JpZ2luIiwgIjAgMCIpOwp9CmMuc2V0U3R5bGUoewpwb3NpdGlvbjogeSwKd2lkdGg6IGYgKyAicHgiLApoZWlnaHQ6IGcgKyAicHgiLAp0b3A6ICIiLApyaWdodDogIiIsCmJvdHRvbTogIiIsCmxlZnQ6ICIiCn0pOwokID0gUDsKYiA9IFc7CmlmICgiYnIiID09PSByKSB7CnZvaWQgMCA9PT0gTC5nZXRWYWx1ZSgpICYmIChiICs9IHcpOwp2b2lkIDAgPT09IE8uZ2V0VmFsdWUoKSAmJiAoJCArPSB4KTsKfQokIC89IHQ7CmIgLz0gdDsKaiA9IEEgPSBDID0gUyA9ICJhdXRvIjsKaWYgKCJmaXhlZCIgPT09IHkpIGlmIChSKSB7CiJibCIgPT09IHIgPyBBID0gdSArICQgOiBDID0gbCAtIChhICsgdSkgKyAkOwpTID0gTWF0aC5mbG9vcihsIC0gYSkgPCAxID8gYiA6IGQgLSAocyArIGgpICsgYjsKfSBlbHNlIHsKImJsIiA9PT0gciA/IEEgPSAkIDogQyA9ICQ7ClMgPSBiOwp9IGVsc2UgewpqID0gTWF0aC5jZWlsKG8gKyBzIC0gZyAtIGIgLSB2LnRvcCk7CkEgPSAiYmwiID09PSByID8gTWF0aC5jZWlsKGkgKyAkIC0gdi5sZWZ0KSA6IE1hdGguZmxvb3IoaSArIGEgLSBmIC0gJCAtIHYubGVmdCk7Cn0KaiA9IG4oaik7CkMgPSBuKEMpOwpTID0gbihTKTsKQSA9IG4oQSk7CmsudXBkYXRlKHsKaGVpZ2h0JHN0cmluZzogZywKd2lkdGgkc3RyaW5nOiBmLAp6b29tJHN0cmluZzogdCwKc2NhbGUkc3RyaW5nOiBlLApwb3NpdGlvbiRzdHJpbmc6IHksCnRvcCRzdHJpbmc6IGosCnJpZ2h0JHN0cmluZzogQywKYm90dG9tJHN0cmluZzogUywKbGVmdCRzdHJpbmc6IEEKfSk7CmMuc2V0U3R5bGUoewp0b3A6IGosCnJpZ2h0OiBDLApib3R0b206IFMsCmxlZnQ6IEEKfSk7ClYoKTsKfQp2YXIgciwgYSwgcyA9IGkoMTQpLCBfID0gaSg4KSwgbCA9IGkoMzQpLCBkID0gaSg0MCksIHUgPSBpKDYpLCBoID0gaSg5MiksIGYgPSBpKDU3KSwgZyA9IGkoNjYpLCBwID0gaSgxMSksIG0gPSBpKDM1KSwgJCA9IGkoNDcpLCBiID0gaSg3NCksIHcgPSA1LCB4ID0gNSwgdiA9IHsKb3BhY2l0eTogMSwKdHJhbnNsYXRlWTogIjAlIgp9LCB5ID0gewpvcGFjaXR5OiAwLAp0cmFuc2xhdGVZOiAiNTAlIgp9LCBqID0gdS5yb290LiQoImxpdmVjaGF0IiksIEMgPSBqLiQoInNldHRpbmdzIiksIFMgPSBqLiQoInVpIiksIEEgPSBTLiQoImNoYXRfYnV0dG9uIiksIGsgPSBBLiQoIm1vYmlsZSIpLiQoImNhbGN1bGF0ZWRfc3R5bGVzIiksIEkgPSBBLiQoImRpc3BsYXkkYm9vbCIpLCBUID0gQS4kKCJmdWxseV92aXNpYmxlJGJvb2wiKSwgTiA9IEEuJCgiYnV0dG9uX3dpZHRoJGludCIpLCBCID0gQS4kKCJidXR0b25faGVpZ2h0JGludCIpLCBEID0gQy4kKCJ0aGVtZSIpLiQoImNoYXRfYnV0dG9uIiksIEUgPSBELiQoInBvc2l0aW9uX21vYmlsZSRzdHJpbmciKSwgTyA9IEQuJCgiaF9vZmZzZXRfbW9iaWxlJGludCIpLCBMID0gRC4kKCJ2X29mZnNldF9tb2JpbGUkaW50IiksIFcgPSAxMCwgUCA9IDEwLCBSID0gd2luZG93LnZpc3VhbFZpZXdwb3J0LCBGID0gITE7CmMub24oInNob3ciLCBmdW5jdGlvbigpIHsKTSgpOwp9KTsKdmFyIE0gPSBsLmRlYm91bmNlKG8sIDMwMCksIFYgPSBkLm9uY2UoZnVuY3Rpb24oKSB7CmgucmVnaXN0ZXJDaGF0QnV0dG9uKGMpOwp9KTsKIWZ1bmN0aW9uKCkgewpiLmJpbmQoYy5pd2luKTsKUiAmJiAib2Zmc2V0VG9wIiBpbiBSICYmICJvZmZzZXRMZWZ0IiBpbiBSICYmICJwYWdlVG9wIiBpbiBSICYmICJwYWdlTGVmdCIgaW4gUiB8fCAoUiA9IG51bGwpOwphID0gbmV3IGcoYywgeSk7CmMuZG9tLmNsYXNzTmFtZSA9ICJ6b3BpbSI7CmMuaWZyYW1lLnNldFN0eWxlKCJkaXNwbGF5IiwgImJsb2NrIik7CmMuY29udGVudC5hZGRDbGFzcyhmLnByb3RvdHlwZS5fX2p4X19mcW5hbWUpOwpjLndyYXBwZXIuYWRkQ2xhc3MoYy5fX2p4X19mcW5hbWUpOwpjLmlib2R5LnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7CiQoYy5pYm9keSk7CmMud3JhcHBlci5hZGRDbGFzcygibW9iaWxlIikuc2V0U3R5bGUoewpwb3NpdGlvbjogImFic29sdXRlIiwKdG9wOiAwLApsZWZ0OiAwCn0pOwpjLmNvbnRlbnQuc2V0U3R5bGUoInRleHRBbGlnbiIsICJsZWZ0Iik7CmMuaWZyYW1lLnN0eWxlLnZlcnRpY2FsQWxpZ24gPSAidG9wIjsKYy5hdXRvYmluZChPLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CnQgPSBwYXJzZUludCh0LCAxMCk7CmlmIChQICE9IHQgJiYgIWlzTmFOKHQpICYmIHQgPj0gMCkgewpQID0gdDsKTSgpOwp9Cn0pOwpjLmF1dG9iaW5kKEwsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKdCA9IHBhcnNlSW50KHQsIDEwKTsKaWYgKFcgIT0gdCAmJiAhaXNOYU4odCkgJiYgdCA+PSAwKSB7ClcgPSB0OwpNKCk7Cn0KfSk7CmMuYXV0b2JpbmQoRSwgInZhbHVlIiwgZnVuY3Rpb24odCkgewppZiAodCAmJiByICE9IHQpIHsKImJsIiAhPSB0ICYmICJiciIgIT0gdCAmJiAodCA9ICJiciIpOwpyICYmIGMud3JhcHBlci5yZW1vdmVDbGFzcyhyKTsKciA9IHQ7CnIgJiYgYy53cmFwcGVyLmFkZENsYXNzKHIpOwpNKCk7Cn0KfSk7CmlmIChSKSB7ClIuYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgTSk7ClIuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgTSk7Cn0gZWxzZSB7CnMud2luZG93Lm9uKCJvcmllbnRhdGlvbmNoYW5nZSIsIE0pOwpzLndpbmRvdy5vbigicmVzaXplIiwgTSk7CnMud2luZG93Lm9uKCJzY3JvbGwiLCBNKTsKfQpjLmF1dG9iaW5kKE4sICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKdCAmJiBNKCk7Cn0pOwpjLmF1dG9iaW5kKEIsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKdCAmJiBNKCk7Cn0pOwpjLmF1dG9iaW5kKEksICJ2YWx1ZSIsIE0pOwpjLm1vdmVVcCA9IHQ7CmMubW92ZURvd24gPSBlOwp9KCk7Cn0oKTsKZm9yICh2YXIgZiBpbiBoKSBjW2ZdID0gaFtmXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfRmxvYXRpbmdGcmFtZS5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0ge307CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX2p4X3VpX0Zsb2F0aW5nRnJhbWUsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF9jb21wb25lbnRzX01vYmlsZUNoYXRCdXR0b24iCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4odCwgZSwgaSwgbywgcikgewppZiAoISh0aGlzIGluc3RhbmNlb2YgbikpIHJldHVybiBuZXcgbih0LCBlLCBpLCBvLCByKTsKciB8fCAociA9IHt9KTsKci50YWdOYW1lIHx8IChyLnRhZ05hbWUgPSAiaW1nIik7CmEuY2FsbCh0aGlzLCB0LCBlLCBpLCBvLCByKTsKfQp2YXIgbyA9IGkoMSksIHIgPSBpKDApLCBhID0gaSg3KTsKbi5wcm90b3R5cGUgPSByKGEucHJvdG90eXBlKTsKbyhuLCBhLCB7CmZxbmFtZTogImp4X3VpX0ltYWdlIgp9KTsKbi5wcm90b3R5cGUuZ2V0QWx0ID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLmRvbS5hbHQ7Cn07Cm4ucHJvdG90eXBlLnNldEFsdCA9IGZ1bmN0aW9uKHQpIHsKdGhpcy5kb20uYWx0ID0gdDsKcmV0dXJuIHRoaXM7Cn07CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX2p4X3VpX1dpZGdldCA9IGkoNyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0Zhdmljb24gPSBpKDExOSk7Cm4uX18kJF9fanhfdWlfTGFiZWwgPSBpKDE5KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQm9yZGVyT3ZlcmxheSA9IGkoODgpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19GYXZpY29uLCAiIiwgIiIsIFtdLCB7CmFkZENsYXNzOiAiZmF2aWNvbiIKfSBdLCBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9MYWJlbCwgInN0YXR1c190ZXh0X3dyYXBwZXIiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfTGFiZWwsICJzdGF0dXNfdGV4dCIsICIiLCBbXSwgewppZDogInN0YXR1c190ZXh0Igp9IF0sIFsgbi5fXyQkX19qeF91aV9MYWJlbCwgIiIsICIiLCBbXSwgewp0ZXh0OiAiIC0gIgp9IF0gXSwgewphZGRDbGFzczogInN0YXR1cyIsCmlkOiAic3RhdHVzX3RleHRfd3JhcHBlciIKfSBdLCBbIG4uX18kJF9fanhfdWlfTGFiZWwsICJncmVldGluZyIsICIiLCBbXSwgewppZDogImdyZWV0aW5nIiwKYWRkQ2xhc3M6ICJncmVldGluZyIKfSBdIF0sIHsKYWRkQ2xhc3M6ICJibGluZHMgYmxpbmRzX3RvcCIKfSBdLCBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX0xhYmVsLCAidW5yZWFkIiwgIiIsIFtdLCB7CmlkOiAidW5yZWFkIiwKdGV4dDogIlhYIG5ldyBtZXNzYWdlcyIKfSBdIF0sIHsKYWRkQ2xhc3M6ICJibGluZHMgYmxpbmRzX2JvdHRvbSIKfSBdIF0sIHsKYWRkQ2xhc3M6ICJidXR0b25fdGV4dCIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0JvcmRlck92ZXJsYXksICIiLCAiIiwgW10sIHt9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6d2lkZ2V0cyI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiCn0gXSwgdSA9IGRbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBzLm1hbmdsZUlEcyhvLCBkWzNdKSwgZFs0XSksIGMgPSB1IHx8IHRoaXM7CnMuc2V0KG8sIGMpOwp2YXIgaCA9IHMuZ2V0KG8gKyAiX19zdGF0dXNfdGV4dF93cmFwcGVyIiksIGYgPSBzLmdldChvICsgIl9fc3RhdHVzX3RleHQiKSwgZyA9IHMuZ2V0KG8gKyAiX19ncmVldGluZyIpLCBwID0gcy5nZXQobyArICJfX3VucmVhZCIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgbSA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KCkgewphICYmIHIgPiAwID8gYy5hZGRDbGFzcygidW5yZWFkIikgOiBjLnJlbW92ZUNsYXNzKCJ1bnJlYWQiKTsKcC5zZXRUZXh0KG8uY2hhdF9idXR0b25bMSA9PSByID8gInVucmVhZF9vbmUiIDogInVucmVhZF9tYW55Il0ucmVwbGFjZSgiPG51bWJlcj4iLCByKSk7Cn0KdmFyIGUgPSBpKDIpLCBuID0gaSgxMiksIG8gPSBpKDEwKSwgciA9IDAsIGEgPSAhMTsKYy5zZXRJc0NoYXR0aW5nID0gZnVuY3Rpb24oZSkgewp2YXIgaSA9IG4oZSk7CmlmIChhICE9PSBpKSB7CmEgPSBpOwp0KCk7Cn0KfTsKYy5zZXRMYW5ndWFnZURpcmVjdGlvbiA9IGZ1bmN0aW9uKHQpIHsKInJ0bCIgPT0gdCA/IGMuYWRkQ2xhc3MoImlzLXJ0bCIpIDogYy5yZW1vdmVDbGFzcygiaXMtcnRsIik7Cn07CmMuc2V0U3RhdHVzRGlzcGxheSA9IGZ1bmN0aW9uKHQpIHsKaC5zZXREaXNwbGF5KHQgPyAiIiA6ICJub25lIik7Cn07CmMuc2V0U3RhdHVzVGV4dCA9IGZ1bmN0aW9uKHQpIHsKZi5zZXRUZXh0KHQpOwp9OwpjLnVwZGF0ZVVucmVhZCA9IGZ1bmN0aW9uKGUpIHsKaWYgKHIgIT09IGUpIHsKciA9IHBhcnNlSW50KGUsIDEwKSB8fCAwOwp0KCk7Cn0KfTsKYy51cGRhdGVHcmVldGluZyA9IGZ1bmN0aW9uKHQpIHsKZy5zZXRUZXh0KHQpOwp9OwohZnVuY3Rpb24oKSB7CmlmIChlICYmIGUub25MYW5ndWFnZSkgewplLm9uTGFuZ3VhZ2UodCk7CmMub25EZXN0cnVjdGlvbihmdW5jdGlvbigpIHsKZS51bkxhbmd1YWdlKHQpOwp9KTsKfQp9KCk7Cn0oKTsKZm9yICh2YXIgJCBpbiBtKSBjWyRdID0gbVskXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfV2lkZ2V0LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CnBvc2l0aW9uOiAicmVsYXRpdmUiLApwYWRkaW5nTGVmdDogIiQkZmF2aWNvbldpZHRoIiwKb3ZlcmZsb3c6ICJoaWRkZW4iCn0sCiImLmlzLXJ0bCI6IHsKcGFkZGluZ0xlZnQ6IDAsCnBhZGRpbmdSaWdodDogIiQkZmF2aWNvbldpZHRoIgp9LAoiJi51bnJlYWQgLmJ1dHRvbl90ZXh0ICI6IHsKYm90dG9tOiAiMTAwJSIKfSwKIi5ibGluZHMiOiB7CiJ3aWR0aCwgaGVpZ2h0IjogIjEwMCUiLApvdmVyZmxvdzogImhpZGRlbiIsCnRleHRPdmVyZmxvdzogImVsbGlwc2lzIiwKd2hpdGVTcGFjZTogIm5vd3JhcCIKfSwKIi5mYXZpY29uIjogewpwb3NpdGlvbjogImFic29sdXRlIiwKaGVpZ2h0OiAiMTAwJSIsCmxlZnQ6IDAsCnZlcnRpY2FsQWxpZ246ICJ0ZXh0LXRvcCIsCnRleHRBbGlnbjogImNlbnRlciIsCnBhZGRpbmdUb3A6ICI4cHgiLAp3aWR0aDogIiQkZmF2aWNvbldpZHRoIiwKYmFja2dyb3VuZDogIiQkZmF2aWNvbkJnIiwKY29sb3I6ICIkJGZhdmljb25Db2xvciIKfSwKIiYuaXMtcnRsIC5mYXZpY29uIjogewpsZWZ0OiAiYXV0byIsCnJpZ2h0OiAwCn0sCiIuYnV0dG9uX3RleHQiOiB7CnBvc2l0aW9uOiAicmVsYXRpdmUiLApvdmVyZmxvdzogImhpZGRlbiIsCnZlcnRpY2FsQWxpZ246ICJ0ZXh0LXRvcCIsCndpZHRoOiAiMTAwJSIsCmJvdHRvbTogIjAiLAp0cmFuc2l0aW9uOiAiYm90dG9tIDAuM3MgZWFzZS1pbi1vdXQiLApmb250V2VpZ2h0OiAiJCRjaGF0QnV0dG9uRm9udFdlaWdodCIsCmxpbmVIZWlnaHQ6ICIkJGNoYXRCdXR0b25IZWlnaHQiLApwYWRkaW5nTGVmdDogIiQkY2hhdEJ1dHRvblBhZGRpbmdGYXZpY29uIiwKcGFkZGluZ1JpZ2h0OiAiJCRjaGF0QnV0dG9uUGFkZGluZyIsCiIuc3RhdHVzIjogewpmb250V2VpZ2h0OiAiJCRjaGF0QnV0dG9uU3RhdHVzRm9udFdlaWdodCIKfQp9LAoiLmJvcmRlcl9vdmVybGF5Ijogewpib3JkZXJXaWR0aDogIiQkY2hhdEJ1dHRvbkJvcmRlcldpZHRoIiwKYm9yZGVyU3R5bGU6ICIkJGNoYXRCdXR0b25Cb3JkZXJTdHlsZSIsCmJvcmRlckNvbG9yOiAiJCRjaGF0QnV0dG9uQm9yZGVyQ29sb3IiCn0sCiImLmlzLXJ0bCAuYnV0dG9uX3RleHQiOiB7CnBhZGRpbmdMZWZ0OiAiJCRjaGF0QnV0dG9uUGFkZGluZyIsCnBhZGRpbmdSaWdodDogIiQkY2hhdEJ1dHRvblBhZGRpbmdGYXZpY29uIgp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX2p4X3VpX1dpZGdldCwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdEJ1dHRvbl9CdXR0b25CYXIiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19qeF91aV9XaWRnZXQgPSBpKDcpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0QnV0dG9uX0J1dHRvbkJhciA9IGkoMjMzKTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdEJ1dHRvbl9CdXR0b25CYXIsICJidXR0b25fYmFyIiwgIiIsIFtdLCB7CmlkOiAiYnV0dG9uX2JhciIsCmFkZENsYXNzOiAiYnV0dG9uX2JhciIKfSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIiwKInhtbG5zOmNoYXRCdXR0b24iOiAibWVzaGltLndpZGdldC5jb21wb25lbnRzLmNoYXRCdXR0b24iLAp2aXNpYmlsaXR5OiAiaGlkZGVuIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKdmFyIGggPSBzLmdldChvICsgIl9fYnV0dG9uX2JhciIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgZiA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KCkgewptKGUsIGMsICEwKTsKfQpmdW5jdGlvbiBlKCkgewpXLnVwZGF0ZShwYXJzZUludChjLmdldFdpZHRoKCksIDEwKSB8fCBwYXJzZUludCgkLmdldFZhcmlhYmxlKCJjaGF0QnV0dG9uTWluV2lkdGgiKSwgMTApKTsKUC51cGRhdGUocGFyc2VJbnQoJC5nZXRWYXJpYWJsZSgiY2hhdEJ1dHRvbkhlaWdodCIpLCAxMCkpOwppZiAoIWYgJiYgdSkgewpjLnNldFZpc2liaWxpdHkoIiIpOwpmID0gITA7Cn0KfQp2YXIgbiwgbywgciwgYSwgcywgXywgbCwgZCwgdSwgZiwgZyA9IGkoMiksIHAgPSBpKDIwKSwgbSA9IGkoMTYpLCAkID0gaSgzKSwgYiA9IGkoNiksIHcgPSBpKDkpLCB4ID0gaSgxMCksIHYgPSBpKDEwMSksIHkgPSBiLnJvb3QuJCgibGl2ZWNoYXQiKSwgaiA9IHkuJCgidWkiKSwgQyA9IGouJCgiY2hhdF9idXR0b24iKSwgUyA9IEMuJCgiZGlzcGxheSRib29sIiksIEEgPSBDLiQoInVucmVhZF9jb3VudCRpbnQiKSwgayA9IDAsIEkgPSB5LiQoImFjY291bnQiKS4kKCJzdGF0dXMkc3RyaW5nIiksIFQgPSB5LiQoInNldHRpbmdzIikuJCgidGhlbWUiKS4kKCJjaGF0X2J1dHRvbiIpLiQoImRpc3BsYXlfc3RhdHVzJGJvb2wiKSwgTiA9IC0xLCBCID0geS4kKCJzZXR0aW5ncyIpLiQoImdyZWV0aW5ncyIpLCBEID0gQi4kKCJvbmxpbmUkc3RyaW5nIiksIEUgPSBCLiQoIm9mZmxpbmUkc3RyaW5nIiksIE8gPSB5LiQoInNldHRpbmdzIikuJCgiY29va2llX2xhdyIpLiQoImVuYWJsZWQkYm9vbCIpLCBMID0geS4kKCJwcm9maWxlIikuJCgiYWxsb3dfY29va2llcyRib29sIiksIFcgPSBDLiQoImJ1dHRvbl93aWR0aCRpbnQiKSwgUCA9IEMuJCgiYnV0dG9uX2hlaWdodCRpbnQiKSwgUiA9IGouJCgidGhlbWVfbG9hZGVkJGJvb2wiKSwgRiA9IGouJCgibGFuZ19kaXIkc3RyaW5nIiksIE0gPSB5LiQoImNoYW5uZWwiKS4kKCJjaGF0dGluZyRib29sIik7CiFmdW5jdGlvbigpIHsKZnVuY3Rpb24gZSgpIHsKdmFyIHQ7CnQgPSBzICYmIHZvaWQgMCAhPT0gXyAmJiAhXyA/IHguY29va2llX2xhdy5kaXNhYmxlZCA6ICJvZmZsaW5lIiAhPSBvIHx8IGQgPyB4LmdldChEKSA6IHguZ2V0KEUpOwppZiAodSAhPSB0KSB7CnUgPSB0OwpoLnVwZGF0ZUdyZWV0aW5nKHQpOwp9Cn0KZnVuY3Rpb24gaSgpIHsKdmFyIHQgPSAib2ZmbGluZSIgPT0gbyAmJiBkID8geC5zdGF0dXMub25saW5lIDogeC5zdGF0dXNbbyB8fCAib2ZmbGluZSJdOwpoLnNldFN0YXR1c1RleHQodCk7CmIoZSk7Cn0KZnVuY3Rpb24gZigpIHsKaC51cGRhdGVVbnJlYWQoayk7Cn0KZnVuY3Rpb24gJCgpIHsKYihmLCBlKTsKfQpmdW5jdGlvbiBiKCkgewpmb3IgKHZhciBlID0gMCwgaSA9IGFyZ3VtZW50cy5sZW5ndGg7IGUgPCBpOyBlKyspIHAoYXJndW1lbnRzW2VdKSAmJiBhcmd1bWVudHNbZV0oKTsKdCgpOwp9CncucnRsKGMpOwpjLmF1dG9iaW5kKFMsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKaWYgKG4gIT09IHQpIHsKbiA9IHQ7CmIoKTsKfQp9KTsKYy5hdXRvYmluZChBLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CmsgPSB0OwpiKGYpOwp9KTsKYy5hdXRvYmluZChELCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CnIgPSB0OwpiKGUpOwp9KTsKYy5hdXRvYmluZChFLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CmEgPSB0OwpiKGUpOwp9KTsKYy5hdXRvYmluZChMLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7Cl8gPSB0OwpiKGUpOwp9KTsKYy5hdXRvYmluZChNLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CmlmIChkICE9PSB0KSB7CmQgPSB0OwpoLnNldElzQ2hhdHRpbmcodCk7CmIoaSk7Cn0KfSk7CmMuYXV0b2JpbmQoTywgInZhbHVlIiwgZnVuY3Rpb24odCkgewpzID0gdDsKYihlKTsKfSk7CmMuYXV0b2JpbmQoUiwgInZhbHVlIiwgdCk7CmlmIChnICYmIGcub25MYW5ndWFnZSkgewpnLm9uTGFuZ3VhZ2UoJCk7CmMub25EZXN0cnVjdGlvbihmdW5jdGlvbigpIHsKZy51bkxhbmd1YWdlKCQpOwp9KTsKfQpjLmF1dG9iaW5kKFQsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKaWYgKE4gIT09IHQpIHsKTiA9IHQ7Cmguc2V0U3RhdHVzRGlzcGxheSh0KTsKYigpOwp9Cn0pOwpjLmF1dG9iaW5kKEksICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKaWYgKG8gIT09IHQpIHsKbyA9IHQ7CmIoaSk7Cn0KfSk7CmMuYXV0b2JpbmQoRiwgInZhbHVlIiwgZnVuY3Rpb24odCkgewppZiAodm9pZCAwICE9PSB0ICYmIGwgIT09IHQpIHsKbCA9IHQ7Cmguc2V0TGFuZ3VhZ2VEaXJlY3Rpb24odCk7Cn0KfSk7Cm0odi5pZVF1aXJrc01vZGVGaXgpOwp9KCk7Cn0oKTsKZm9yICh2YXIgZyBpbiBmKSBjW2ddID0gZltnXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfV2lkZ2V0LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7Cm1hcmdpbjogIjAgYXV0byIsCnBvc2l0aW9uOiAiYWJzb2x1dGUiLAoiYm90dG9tLCBsZWZ0IjogMAp9LAoiLmJ1dHRvbl9iYXIiOiB7CiJtaW5XaWR0aCwgKndpZHRoIjogIiQkY2hhdEJ1dHRvbk1pbldpZHRoIiwKbWF4V2lkdGg6ICIkJGNoYXRCdXR0b25NYXhXaWR0aCIsCmhlaWdodDogIiQkY2hhdEJ1dHRvbkhlaWdodCIsCmNvbG9yOiAiJCRjaGF0QnV0dG9uQ29sb3IiLApiYWNrZ3JvdW5kOiAiJCRjaGF0QnV0dG9uQmciLApib3hTaGFkb3c6ICIkJGNoYXRCdXR0b25TaGFkb3ciCn0sCiIqKnNlbGYsICoqc2VsZiAqIjogewpjdXJzb3I6ICJwb2ludGVyIgp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX2p4X3VpX1dpZGdldCwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdEJ1dHRvbl9CdXR0b24iCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4odCwgZSwgbiwgcywgXykgewpmdW5jdGlvbiBsKHQsIGUpIHsKcmV0dXJuIFsgWyB0LCAwLCAwIF0sIFsgMCwgZSwgMCBdLCBbIDAsIDAsIDEgXSBdOwp9CmZ1bmN0aW9uIGQodCwgZSkgewpyZXR1cm4gWyBbIDEsIDAsIHQgXSwgWyAwLCAxLCBlIF0sIFsgMCwgMCwgMSBdIF07Cn0KZnVuY3Rpb24gdSh0KSB7CnJldHVybiBbIHRbMF1bMF0sIHRbMV1bMF0sIHRbMF1bMV0sIHRbMV1bMV0sIHRbMF1bMl0sIHRbMV1bMl0gXS5qb2luKCIgIik7Cn0KZnVuY3Rpb24gYyh0KSB7CnZhciBlID0gZy5nZW5lcmF0ZVN2Z0xpbmVhckdyYWRpZW50KG0sIHQpLCBpID0gbS5jcmVhdGVFbGVtZW50TlMoImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiwgImRlZnMiKTsKaS5hcHBlbmRDaGlsZChlKTsKcC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGkpOwpwLnNldEF0dHJpYnV0ZSgiZmlsbCIsICJ1cmwoIyIgKyBlLmlkICsgIikiKTsKcmV0dXJuIHA7Cn0KZnVuY3Rpb24gaCh0LCBlKSB7CnZhciBpLCBuLCBvID0gW107CmZvciAodmFyIHIgaW4gdCkgaWYgKHQuaGFzT3duUHJvcGVydHkocikpIHsKaSA9IGUgPyBtLmNyZWF0ZUVsZW1lbnROUyhlLCByKSA6IG0uY3JlYXRlRWxlbWVudChyKTsKbiA9IHRbcl07CmZvciAodmFyIGEgaW4gbikgbi5oYXNPd25Qcm9wZXJ0eShhKSAmJiBpLnNldEF0dHJpYnV0ZShhLCBuW2FdKTsKby5wdXNoKGkpOwp9CnJldHVybiBvOwp9CmZ1bmN0aW9uIGYoKSB7CmZvciAodmFyIHQgPSBbIFsgMSwgMCwgMCBdLCBbIDAsIDEsIDAgXSwgWyAwLCAwLCAxIF0gXSwgZSA9IDA7IGUgPCBhcmd1bWVudHMubGVuZ3RoOyBlKyspIHsKZm9yICh2YXIgaSA9IFtdLCBuID0gYXJndW1lbnRzW2VdLCBvID0gMDsgbyA8IDM7IG8rKykgewppW29dID0gW107CmZvciAodmFyIHIgPSAwOyByIDwgMzsgcisrKSB7CmZvciAodmFyIGEgPSAwLCBzID0gMDsgcyA8IDM7IHMrKykgYSArPSB0W29dW3NdICogbltzXVtyXTsKaVtvXVtyXSA9IGE7Cn0KfQp0ID0gaTsKfQpyZXR1cm4gdDsKfQp2YXIgZyA9IGkoNTgpOwplID0gZSB8fCBvLmdlbmVyYXRlSUQoKTsKdmFyIHAsIG0gPSB0Lm93bmVyRG9jdW1lbnQ7CnAgPSBtLmNyZWF0ZUVsZW1lbnROUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCAicGF0aCIpOwpwLnZlY3RvclR5cGUgPSAic3ZnIjsKby5leHRlbmQocCk7CnIuZXh0ZW5kKHApOwpvLnNldChlLCBwKTsKdmFyICQgPSAhMTsKcC5hcHBlbmRUb1BhcmVudCA9IGZ1bmN0aW9uKGUpIHsKby5oYXNQYXJlbnROb2RlKHApIHx8IG8uYXBwZW5kQ2hpbGQodCwgcCk7CmlmIChlICYmICEkKSB7CnQuYXBwZW5kVG9QYXJlbnQgJiYgdC5hcHBlbmRUb1BhcmVudCghMCk7CiQgPSAhMDsKfQp9OwpwLnNldENsYXNzID0gZnVuY3Rpb24odCkgewpwLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCB0KTsKcmV0dXJuIHA7Cn07CnAuYWRkQ2xhc3MgPSBmdW5jdGlvbih0KSB7CnAuc2V0QXR0cmlidXRlKCJjbGFzcyIsIHAuZ2V0QXR0cmlidXRlKCJjbGFzcyIpICsgIiAiICsgdCk7CnJldHVybiBwOwp9OwpwLnJlbW92ZUNsYXNzID0gZnVuY3Rpb24odCkgewp2YXIgZSA9IHAuZ2V0QXR0cmlidXRlKCJjbGFzcyIpLCBpID0gbmV3IFJlZ0V4cCgiXFxiIiArIHQgKyAiXFxiIiwgImciKTsKZS5yZXBsYWNlKGksICIiKTsKcC5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgZSk7CnJldHVybiBwOwp9OwpwLnNldFBhdGggPSBmdW5jdGlvbih0KSB7CnAuc2V0QXR0cmlidXRlKCJkIiwgdCk7CnJldHVybiBwOwp9OwpwLnNldE9wYWNpdHkgPSBmdW5jdGlvbih0KSB7CnAuc3R5bGUub3BhY2l0eSA9IHBhcnNlRmxvYXQodCk7CnJldHVybiBwOwp9OwpwLnNldEZpbGwgPSBmdW5jdGlvbih0KSB7Ci9saW5lYXIvLnRlc3QodCkgPyBjKHQpIDogcC5zZXRBdHRyaWJ1dGUoImZpbGwiLCB0KTsKcmV0dXJuIHA7Cn07CnAuc2V0U3Ryb2tlID0gZnVuY3Rpb24odCkgewpwLnNldEF0dHJpYnV0ZSgic3Ryb2tlIiwgdCk7CnJldHVybiBwOwp9OwpwLnNldFN0cm9rZVdpZHRoID0gZnVuY3Rpb24odCkgewpwLnNldEF0dHJpYnV0ZSgic3Ryb2tlLXdpZHRoIiwgdCk7CnJldHVybiBwOwp9Owp2YXIgYiA9IFsgWyAxLCAwLCAwIF0sIFsgMCwgMSwgMCBdLCBbIDAsIDAsIDEgXSBdOwpwLnJlc2V0VHJhbnNmb3JtID0gZnVuY3Rpb24oKSB7CnAuc2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iLCAiIik7CmIgPSBbIFsgMSwgMCwgMCBdLCBbIDAsIDEsIDAgXSwgWyAwLCAwLCAxIF0gXTsKcmV0dXJuIHA7Cn07CnAubW92ZVJpZ2h0ID0gZnVuY3Rpb24odCkgewp2YXIgZSA9IHBhcnNlSW50KHQsIDEwKTsKaWYgKGlzTmFOKGUpKSByZXR1cm4gcDsKYiA9IGYoYiwgZChlLCAwKSk7CnAuc2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iLCAibWF0cml4KCIgKyB1KGIpICsgIikiKTsKcmV0dXJuIHA7Cn07CnAuc2V0TGVmdCA9IHAubW92ZVJpZ2h0OwpwLm1vdmVEb3duID0gZnVuY3Rpb24odCkgewp2YXIgZSA9IHBhcnNlSW50KHQsIDEwKTsKaWYgKGlzTmFOKGUpKSByZXR1cm4gcDsKYiA9IGYoYiwgZCgwLCBlKSk7CnAuc2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iLCAibWF0cml4KCIgKyB1KGIpICsgIikiKTsKcmV0dXJuIHA7Cn07CnAuc2V0VG9wID0gcC5tb3ZlRG93bjsKcC5mbGlwQWxvbmcgPSBmdW5jdGlvbih0KSB7CnQgPSB0LnNwbGl0KCIiKTsKZm9yICh2YXIgZSA9IDA7IGUgPCB0Lmxlbmd0aDsgZSsrKSB7CnZhciBpID0gcC5nZXRCQm94KCk7CnN3aXRjaCAodFtlXSkgewpjYXNlICJ4IjoKYiA9IGYoYiwgbCgtMSwgMSksIGQoLSgyICogaS54ICsgaS53aWR0aCksIDApKTsKcC5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsICJtYXRyaXgoIiArIHUoYikgKyAiKSIpOwpicmVhazsKCmNhc2UgInkiOgpiID0gZihiLCBsKDEsIC0xKSwgZCgwLCAtKDIgKiBpLnkgKyBpLmhlaWdodCkpKTsKcC5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsICJtYXRyaXgoIiArIHUoYikgKyAiKSIpOwp9Cn0KaWYgKGEuaXNXZWJraXQpIHsKdmFyIG4gPSBwLmdldEF0dHJpYnV0ZSgiZmlsdGVyIik7CnAuc2V0QXR0cmlidXRlKCJmaWx0ZXIiLCAiIik7CnAuc2V0QXR0cmlidXRlKCJmaWx0ZXIiLCBuKTsKfQpyZXR1cm4gcDsKfTsKcC5zZXRTaGFkb3cgPSBmdW5jdGlvbih0KSB7CnQgPSBnLnBhcnNlU2hhZG93KHQpOwp2YXIgZSwgaTsKaWYgKCFhLmlzT3BlcmEpIHsKdmFyIG4gPSB7CmZlT2Zmc2V0OiB7CnJlc3VsdDogIm9mZnNldC1vdXQiLAppbjogIlNvdXJjZUdyYXBoaWMiLApkeDogdC5vZmZzZXRYLApkeTogdC5vZmZzZXRZCn0sCmZlQ29sb3JNYXRyaXg6IHsKcmVzdWx0OiAibWF0cml4LW91dCIsCmluOiAib2Zmc2V0LW91dCIsCnR5cGU6ICJtYXRyaXgiLAp2YWx1ZXM6ICIwLjIgMCAwIDAgMCAwIDAuMiAwIDAgMCAwIDAgMC4yIDAgMCAwIDAgMCAxIDAiCn0sCmZlR2F1c3NpYW5CbHVyOiB7CnJlc3VsdDogImJsdXItb3V0IiwKaW46ICJtYXRyaXgtb3V0IiwKc3RkRGV2aWF0aW9uOiB0LmJsdXJSYWRpdXMgLyAyCn0sCmZlQmxlbmQ6IHsKaW46ICJTb3VyY2VHcmFwaGljIiwKaW4yOiAiYmx1ci1vdXQiLAptb2RlOiAibm9ybWFsIgp9Cn07CmUgPSBtLmNyZWF0ZUVsZW1lbnROUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCAiZmlsdGVyIiksIGkgPSAic2hhXyIgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKZS5zZXRBdHRyaWJ1dGUoImlkIiwgaSk7CmZvciAodmFyIG8gPSBoKG4sICJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIpLCByID0gMDsgciA8IG8ubGVuZ3RoOyByKyspIGUuYXBwZW5kQ2hpbGQob1tyXSk7CnZhciBzID0gbS5jcmVhdGVFbGVtZW50TlMoImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiwgImRlZnMiKTsKcy5hcHBlbmRDaGlsZChlKTsKcC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHMpOwpwLnNldEF0dHJpYnV0ZSgiZmlsdGVyIiwgInVybCgjIiArIGkgKyAiKSIpOwpyZXR1cm4gcDsKfQp9OwpvLmFkZENoaWxkcmVuKHAsIHMpOwpwLmFwcGVuZFRvUGFyZW50KCk7CnAuc2V0U3R5bGUobik7CnAuc2V0QXR0cmlidXRlcyhfKTsKcmV0dXJuIHA7Cn0KdmFyIG8gPSBpKDQpLCByID0gaSgxNCksIGEgPSBpKDgpOwp0LmV4cG9ydHMgPSBuOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4odCwgZSwgbiwgYSwgcykgewp2YXIgXyA9IGkoNTgpOwplID0gZSB8fCBvLmdlbmVyYXRlSUQoKTsKdmFyIGwsIGQgPSB0Lm93bmVyRG9jdW1lbnQ7CmwgPSBfLmNyZWF0ZVZNTE5vZGUoZCwgInNoYXBlIik7CmwuY2xhc3NOYW1lID0gInZtbCI7Cmwuc3R5bGUud2lkdGggPSAiMTAwJSI7Cmwuc3R5bGUuaGVpZ2h0ID0gIjEwMCUiOwpsLnN0cm9rZWQgPSAhMTsKbC5maWxsZWQgPSAhMDsKbC5maWxsQ29sb3IgPSAiIzAwMDAwMCI7CmwudmVjdG9yVHlwZSA9ICJ2bWwiOwp2YXIgdSA9IF8uY3JlYXRlVk1MTm9kZShkLCAic2tldyIpOwp1LmNsYXNzTmFtZSA9ICJ2bWwiOwp1LnNldEF0dHJpYnV0ZSgib24iLCAidHJ1ZSIpOwp1LnNldEF0dHJpYnV0ZSgibWF0cml4IiwgIjEsMCwwLDEsMCwwIik7CnUuc2V0QXR0cmlidXRlKCJvZmZzZXQiLCAiLTAuNSwtMC41Iik7CmwuYXBwZW5kQ2hpbGQodSk7Cm8uZXh0ZW5kKGwpOwpyLmV4dGVuZChsKTsKby5zZXQoZSwgbCk7CnZhciBjID0gITE7CmwuYXBwZW5kVG9QYXJlbnQgPSBmdW5jdGlvbihlKSB7Cm8uaGFzUGFyZW50Tm9kZShsKSB8fCBvLmFwcGVuZENoaWxkKHQsIGwpOwppZiAoZSAmJiAhYykgewp0LmFwcGVuZFRvUGFyZW50ICYmIHQuYXBwZW5kVG9QYXJlbnQoITApOwpjID0gITA7Cn0KaWYgKCJ2bWwiID09IGwudmVjdG9yVHlwZSkgewpsLnN0eWxlLndpZHRoID0gIjEwMCUiOwpsLnN0eWxlLmhlaWdodCA9ICIxMDAlIjsKfQp9OwpsLm1vdmVSaWdodCA9IGZ1bmN0aW9uKHQpIHsKdmFyIGUgPSBwYXJzZUludCh0LCAxMCk7CmlmIChpc05hTihlKSkgcmV0dXJuIGw7Cmwuc3R5bGUubGVmdCA9IChwYXJzZUludChsLnN0eWxlLmxlZnQsIDEwKSB8fCAwKSArIGU7CnZhciBpID0gbC5zdHlsZS5kaXNwbGF5OwpsLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7Cmwuc3R5bGUuZGlzcGxheSA9IGk7Cn07Cmwuc2V0TGVmdCA9IGwubW92ZVJpZ2h0OwpsLm1vdmVEb3duID0gZnVuY3Rpb24odCkgewp2YXIgZSA9IHBhcnNlSW50KHQsIDEwKTsKaWYgKGlzTmFOKGUpKSByZXR1cm4gbDsKbC5zdHlsZS50b3AgPSAocGFyc2VJbnQobC5zdHlsZS50b3AsIDEwKSB8fCAwKSArIGU7CnZhciBpID0gbC5zdHlsZS5kaXNwbGF5OwpsLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7Cmwuc3R5bGUuZGlzcGxheSA9IGk7Cn07Cmwuc2V0VG9wID0gbC5tb3ZlRG93bjsKbC5zZXRQYXRoID0gZnVuY3Rpb24odCkgewp2YXIgZSwgaTsKdCA9IHQucmVwbGFjZSgvYy9nLCAidiIpLnJlcGxhY2UoL3ovZywgIngiKS5yZXBsYWNlKC9tL2csICJ0IikucmVwbGFjZSgvbC9nLCAiciIpLnJlcGxhY2UoL0wvZywgImwiKSArICJlIjsKaSA9IGwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInY6cGF0aCIpWzBdOwplID0gaSB8fCBfLmNyZWF0ZVZNTE5vZGUoZCwgInBhdGgiKTsKZS5jbGFzc05hbWUgPSAidm1sIjsKZS5zZXRBdHRyaWJ1dGUoInYiLCB0KTsKbC5hcHBlbmRDaGlsZChlKTsKcmV0dXJuIGw7Cn07Cmwuc2V0T3BhY2l0eSA9IGZ1bmN0aW9uKHQpIHsKdmFyIGUgPSBwYXJzZUZsb2F0KHQpLCBpID0gXy5jcmVhdGVWTUxOb2RlKGQsICJmaWxsIik7CmkuY2xhc3NOYW1lID0gInZtbCI7Cmkuc2V0QXR0cmlidXRlKCJvcGFjaXR5IiwgZSk7Cmkuc2V0QXR0cmlidXRlKCJvOm9wYWNpdHkyIiwgZSk7CmwuYXBwZW5kQ2hpbGQoaSk7CnJldHVybiBsOwp9OwpsLnNldEZpbGwgPSBmdW5jdGlvbih0KSB7CnZhciBlID0gXy5jcmVhdGVWTUxOb2RlKGQsICJmaWxsIik7CmUuY2xhc3NOYW1lID0gInZtbCI7CmlmICgvbGluZWFyLy50ZXN0KHQpKSBlID0gXy5nZW5lcmF0ZVZtbExpbmVhckdyYWRpZW50KGQsIHQpOyBlbHNlIHsKZSA9IF8uY3JlYXRlVk1MTm9kZShkLCAiZmlsbCIpOwplLmNsYXNzTmFtZSA9ICJ2bWwiOwoibm9uZSIgPT0gdCA/IGUuc2V0QXR0cmlidXRlKCJvbiIsICJmYWxzZSIpIDogZS5zZXRBdHRyaWJ1dGUoIm9uIiwgInRydWUiKTsKZS5zZXRBdHRyaWJ1dGUoImNvbG9yIiwgdCk7Cn0KbC5hcHBlbmRDaGlsZChlKTsKcmV0dXJuIGw7Cn07Cmwuc2V0U3Ryb2tlID0gZnVuY3Rpb24odCkgewp2YXIgZSA9IF8uY3JlYXRlVk1MTm9kZShkLCAic3Ryb2tlIik7CmUuY2xhc3NOYW1lID0gInZtbCI7CiJub25lIiA9PSB0ID8gZS5zZXRBdHRyaWJ1dGUoIm9uIiwgImZhbHNlIikgOiBlLnNldEF0dHJpYnV0ZSgib24iLCAidHJ1ZSIpOwplLnNldEF0dHJpYnV0ZSgiY29sb3IiLCB0KTsKbC5hcHBlbmRDaGlsZChlKTsKcmV0dXJuIGw7Cn07Cmwuc2V0U3Ryb2tlV2lkdGggPSBmdW5jdGlvbih0KSB7CnZhciBlID0gXy5jcmVhdGVWTUxOb2RlKGQsICJzdHJva2UiKTsKZS5jbGFzc05hbWUgPSAidm1sIjsKdCA9IHBhcnNlSW50KHQsIDEwKTsKZS5zZXRBdHRyaWJ1dGUoIm9uIiwgInRydWUiKTsKZS5zZXRBdHRyaWJ1dGUoIndlaWdodCIsIHQpOwpsLmFwcGVuZENoaWxkKGUpOwpyZXR1cm4gbDsKfTsKdmFyIGggPSAxLCBmID0gMTsKbC5yZXNldFRyYW5zZm9ybSA9IGZ1bmN0aW9uKCkgewpoID0gZiA9IDE7Cmwuc3R5bGUubGVmdCA9IGwuc3R5bGUudG9wID0gTmFOOwpyZXR1cm4gbDsKfTsKbC5mbGlwQWxvbmcgPSBmdW5jdGlvbih0KSB7CnQgPSB0LnNwbGl0KCIiKTsKZm9yICh2YXIgZSA9IDA7IGUgPCB0Lmxlbmd0aDsgZSsrKSBzd2l0Y2ggKHRbZV0pIHsKY2FzZSAieCI6CmggPSAtaDsKYnJlYWs7CgpjYXNlICJ5IjoKZiA9IC1mOwp9CnZhciBpID0gIiI7Ci0xID09IGggJiYgKGkgKz0gIngiKTsKLTEgPT0gZiAmJiAoaSArPSAieSIpOwpsLnN0eWxlLmZsaXAgPSBpOwpyZXR1cm4gbDsKfTsKbC5zZXRTaGFkb3cgPSBmdW5jdGlvbih0KSB7CnZhciBlID0gXy5jcmVhdGVWTUxOb2RlKGQsICJzaGFkb3ciKTsKZS5jbGFzc05hbWUgPSAidm1sIjsKdCA9IF8ucGFyc2VTaGFkb3codCk7CmUuc2V0QXR0cmlidXRlKCJvbiIsICJ0cnVlIik7CmUuc2V0QXR0cmlidXRlKCJvcGFjaXR5IiwgdC5vcGFjaXR5KTsKZS5zZXRBdHRyaWJ1dGUoImNvbG9yIiwgdC5jb2xvcik7CmUuc2V0QXR0cmlidXRlKCJvZmZzZXQiLCB0Lm9mZnNldFggKyAicHgsIiArIHQub2Zmc2V0WSArICJweCIpOwpsLmFwcGVuZENoaWxkKGUpOwpyZXR1cm4gbDsKfTsKby5hZGRDaGlsZHJlbihsLCBhKTsKbC5hcHBlbmRUb1BhcmVudCgpOwpsLnNldFN0eWxlKG4pOwpsLnNldEF0dHJpYnV0ZXMocyk7CnJldHVybiBsOwp9CnZhciBvID0gaSg0KSwgciA9IGkoMTQpOwp0LmV4cG9ydHMgPSBuOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4oKSB7CnJldHVybiBudWxsOwp9CnZhciBvLCByID0gaSgyMzYpLCBhID0gaSgyMzUpLCBzID0gaSg1OCk7CnN3aXRjaCAocy5kZXRlY3RlZEdyYXBoaWNUeXBlKSB7CmNhc2UgImNhbnZhcyI6Cm8gPSBzLkNhbnZhc0RhdGE7CmJyZWFrOwoKY2FzZSAidm1sIjoKbyA9IHI7CmJyZWFrOwoKY2FzZSAic3ZnIjoKbyA9IGE7CmJyZWFrOwoKY2FzZSAiZGl2IjoKbyA9IG47Cn0KdC5leHBvcnRzID0gbzsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQsIGUsIG4sIHMsIF8pIHsKZnVuY3Rpb24gbCgpIHsKdyAmJiB3aW5kb3cuY2xlYXJJbnRlcnZhbCh3KTsKdmFyIHQgPSBNYXRoLmZsb29yKDIwMSAqIE1hdGgucmFuZG9tKCkpIC0gMTAwOwp3ID0gd2luZG93LnNldFRpbWVvdXQodSwgMWUzICsgdCk7Cn0KZnVuY3Rpb24gZCgpIHsKdyAmJiB3aW5kb3cuY2xlYXJUaW1lb3V0KHcpOwp9CmZ1bmN0aW9uIHUoKSB7CmlmIChqICYmIGouYXR0cmlidXRlcy52aWV3Qm94KSB7Cm0oKTsKYygpOwpoKGouY2hpbGRyZW5zKTsKfQp9CmZ1bmN0aW9uIGMoKSB7CnZhciB0ID0gai5hdHRyaWJ1dGVzLnZpZXdCb3gsIGUgPSBqLmF0dHJpYnV0ZXMuY2FudmFzU2NhbGUgPyBwYXJzZUZsb2F0KGouYXR0cmlidXRlcy5jYW52YXNTY2FsZSkgOiAxOwp4LndpZHRoICE9IHQud2lkdGggJiYgKHgud2lkdGggPSB0LndpZHRoICogZSk7CnguaGVpZ2h0ICE9IHQuaGVpZ2h0ICYmICh4LmhlaWdodCA9IHQuaGVpZ2h0ICogZSk7CnYuc2NhbGUoZSwgZSk7CnYudHJhbnNmb3JtKDEsIDAsIDAsIDEsIC10LnggKiBlLCAtdC55ICogZSk7CmEuaXNXZWJLaXQgJiYgdC53aWR0aCAqIHQuaGVpZ2h0ID4gNGU0ID8gbCgpIDogZCgpOwpmKGopOwp9CmZ1bmN0aW9uIGgodCkgewpmb3IgKHZhciBlID0gMCwgaSA9IHQubGVuZ3RoOyBlIDwgaTsgZSsrKSB7CnZhciBuID0gdFtlXTsKdi5zYXZlKCk7Cm4uY2hpbGRyZW5zICYmIGgobi5jaGlsZHJlbnMpOwpmKG4pOwp2LnJlc3RvcmUoKTsKfQp9CmZ1bmN0aW9uIGYodCkgewp2YXIgZSA9IHQuYXR0cmlidXRlczsKZygpOwplLmxlZnQgJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgdC50cmFuc2xhdGVYICYmIHQudHJhbnNsYXRlWCh2LCBlLmxlZnQpOwplLnRvcCAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiB0LnRyYW5zbGF0ZVkgJiYgdC50cmFuc2xhdGVZKHYsIGUucmlnaHQpOwoib3BhY2l0eSIgaW4gZSAmJiAodi5nbG9iYWxBbHBoYSA9IGUub3BhY2l0eSAqIHYuZ2xvYmFsQWxwaGEpOwppZiAoZS5wYXRoKSB7CmUuc3Ryb2tlICYmICh2LnN0cm9rZVN0eWxlID0gZS5zdHJva2UpOwplLnN0cm9rZVdpZHRoICYmICh2LmxpbmVXaWR0aCA9IGUuc3Ryb2tlV2lkdGgpOwplLmZpbGwgJiYgKHYuZmlsbFN0eWxlID0gZS5maWxsKHYsIGUucGF0aC5iQm94KSk7CmlmIChlLnNoYWRvdyAmJiAhYS5pc09wZXJhKSB7CnZhciBpID0gZS5zaGFkb3c7CnYuc2hhZG93T2Zmc2V0WCA9IGkub2Zmc2V0WDsKdi5zaGFkb3dPZmZzZXRZID0gaS5vZmZzZXRZOwp2LnNoYWRvd0JsdXIgPSBpLmJsdXJSYWRpdXM7CnYuc2hhZG93Q29sb3IgPSBpLnJnYmE7Cn0KZS5wYXRoKHYpOwp2LmZpbGwoKTsKZS5zaGFkb3cgJiYgcCgpOwp2LnN0cm9rZSgpOwp9Cn0KZnVuY3Rpb24gZygpIHsKdi5zdHJva2VTdHlsZSA9ICJyZ2JhKDAsIDAsIDAsIDApIjsKdi5maWxsU3R5bGUgPSAicmdiYSgwLCAwLCAwLCAxKSI7CnYubGluZVdpZHRoID0gMDsKfQpmdW5jdGlvbiBwKCkgewp2LnNoYWRvd09mZnNldFggPSAwOwp2LnNoYWRvd09mZnNldFkgPSAwOwp2LnNoYWRvd0JsdXIgPSAwOwp2LnNoYWRvd0NvbG9yID0gIiMwMDAiOwp9CmZ1bmN0aW9uIG0oKSB7CnYuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApOwp2LmNsZWFyUmVjdCgwLCAwLCB4LndpZHRoLCB4LmhlaWdodCk7Cn0KZnVuY3Rpb24gJCh0KSB7CmZvciAodmFyIGUgPSBbXSwgaSA9IDAsIG4gPSB0Lmxlbmd0aDsgaSA8IG47IGkrKykgewp2YXIgbyA9IHRbaV07CmUucHVzaCh7CmNvbnN0cnVjdG9yOiBvWzBdLAppZDogb1sxXSwKYXR0cmlidXRlczogb1s0XSwKY2hpbGRyZW5zOiAkKG9bM10pCn0pOwp9CnJldHVybiBlOwp9CnZhciBiID0gaSg1OCk7CmUgPSBlIHx8IG8uZ2VuZXJhdGVJRCgpOwp2YXIgdywgeCwgdiwgeSA9IHQub3duZXJEb2N1bWVudCwgaiA9IG5ldyBiLnBhcnNlQ2FudmFzRGF0YSh7CnR5cGU6ICJjYW52YXMiLAphdHRyaWJ1dGVzOiB7fSwKY2hpbGRyZW5zOiBbXQp9KTsKeCA9IHkuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7Cngud2lkdGggPSAwOwp4LmhlaWdodCA9IDA7CngudmVjdG9yVHlwZSA9ICJjYW52YXMiOwp4LmdldENvbnRleHQgJiYgKHYgPSB4LmdldENvbnRleHQoIjJkIikpOwpvLmV4dGVuZCh4KTsKci5leHRlbmQoeCk7Cm8uc2V0KGUsIHgpOwp2YXIgQyA9ICExOwp4LmFwcGVuZFRvUGFyZW50ID0gZnVuY3Rpb24oZSkgewpvLmhhc1BhcmVudE5vZGUoeCkgfHwgby5hcHBlbmRDaGlsZCh0LCB4KTsKaWYgKGUgJiYgIUMpIHsKdC5hcHBlbmRUb1BhcmVudCAmJiB0LmFwcGVuZFRvUGFyZW50KCEwKTsKQyA9ICEwOwp9Cn07Cnguc2V0RGF0YSA9IGZ1bmN0aW9uKHQpIHsKImZ1bmN0aW9uIiA9PSB0eXBlb2Ygai5kZXN0cm95ICYmIGouZGVzdHJveSgpOwpqID0gbmV3IGIucGFyc2VDYW52YXNEYXRhKHQpOwpkKCk7CnUoKTsKai5vbigidXBkYXRlIiwgdSk7Cn07Cngub25EZXN0cnVjdGlvbihmdW5jdGlvbigpIHsKZCgpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBqLmRlc3Ryb3kgJiYgai5kZXN0cm95KCk7Cn0pOwp4LnNldFZpZXdCb3ggPSBmdW5jdGlvbih0KSB7Cmouc2V0QXR0cmlidXRlKCJ2aWV3Qm94IiwgdCk7CnJldHVybiB4Owp9Owp4LnNldFN0eWxlKG4pOwp4LnNldEF0dHJpYnV0ZXMoXyk7CmogPSB7CnR5cGU6ICJjYW52YXMiLAphdHRyaWJ1dGVzOiBfLApjaGlsZHJlbnM6ICQocykKfTsKeC5zZXREYXRhKGopOwp4LmFwcGVuZFRvUGFyZW50KCk7CnJldHVybiB4Owp9CnZhciBvID0gaSg0KSwgciA9IGkoMTQpLCBhID0gaSg4KTsKdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQsIGUsIGksIG4sIGEpIHsKZSA9IGUgfHwgby5nZW5lcmF0ZUlEKCk7CnZhciBzLCBfID0gdC5vd25lckRvY3VtZW50OwpzID0gXy5jcmVhdGVFbGVtZW50TlMoImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiwgInN2ZyIpOwpzLnZlY3RvclR5cGUgPSAic3ZnIjsKby5leHRlbmQocyk7CnIuZXh0ZW5kKHMpOwpvLnNldChlLCBzKTsKdmFyIGwgPSAhMTsKcy5hcHBlbmRUb1BhcmVudCA9IGZ1bmN0aW9uKGUpIHsKby5oYXNQYXJlbnROb2RlKHMpIHx8IG8uYXBwZW5kQ2hpbGQodCwgcyk7CmlmIChlICYmICFsKSB7CnQuYXBwZW5kVG9QYXJlbnQgJiYgdC5hcHBlbmRUb1BhcmVudCghMCk7CmwgPSAhMDsKfQp9OwpzLnNldENsYXNzID0gZnVuY3Rpb24odCkgewpzLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCB0KTsKcmV0dXJuIHM7Cn07CnMuYWRkQ2xhc3MgPSBmdW5jdGlvbih0KSB7CnMuc2V0QXR0cmlidXRlKCJjbGFzcyIsIHMuZ2V0QXR0cmlidXRlKCJjbGFzcyIpICsgIiAiICsgdCk7CnJldHVybiBzOwp9OwpzLnJlbW92ZUNsYXNzID0gZnVuY3Rpb24odCkgewp2YXIgZSA9IHMuZ2V0QXR0cmlidXRlKCJjbGFzcyIpLCBpID0gbmV3IFJlZ0V4cCgiXFxiIiArIHQgKyAiXFxiIiwgImciKTsKZS5yZXBsYWNlKGksICIiKTsKcy5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgZSk7CnJldHVybiBzOwp9OwpzLnNldFZpZXdCb3ggPSBmdW5jdGlvbih0KSB7CnMuc2V0QXR0cmlidXRlKCJ2aWV3Qm94IiwgdCk7CnJldHVybiBzOwp9OwpzLnNldFN0eWxlKGkpOwpzLnNldEF0dHJpYnV0ZXMoYSk7Cm8uYWRkQ2hpbGRyZW4ocywgbik7CnMuYXBwZW5kVG9QYXJlbnQoKTsKcmV0dXJuIHM7Cn0KdmFyIG8gPSBpKDQpLCByID0gaSgxNCk7CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBuLCBhLCBzKSB7CnZhciBfID0gaSg1OCk7CmUgPSBlIHx8IG8uZ2VuZXJhdGVJRCgpOwp2YXIgbCwgZCwgdSwgYywgaCwgZiA9IHQub3duZXJEb2N1bWVudDsKbCA9IGYuY3JlYXRlRWxlbWVudCgic3BhbiIpOwpsLnN0eWxlLmRpc3BsYXkgPSAiaW5saW5lLWJsb2NrIjsKbC5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwpsLnN0eWxlLnBvc2l0aW9uID0gInJlbGF0aXZlIjsKbC52ZWN0b3JUeXBlID0gInZtbCI7CmQgPSBfLmNyZWF0ZVZNTE5vZGUoZiwgImdyb3VwIik7CmQuY2xhc3NOYW1lID0gInZtbCI7CmQuc3R5bGUud2lkdGggPSAiMTAwcHgiOwpkLnN0eWxlLmhlaWdodCA9ICIxMDBweCI7CmQuc3R5bGUuYm9yZGVyID0gIjBweCBub25lIjsKZC5zdHlsZS5wYWRkaW5nID0gIjBweCI7CmQuc3R5bGUubWFyZ2luID0gIjBweCI7CmQuc3R5bGUucG9zaXRpb24gPSAiYWJzb2x1dGUiOwpkLnN0eWxlLnRvcCA9ICIwcHgiOwpkLnN0eWxlLmxlZnQgPSAiMHB4IjsKbC5ncm91cHNoYXBlID0gZDsKdSA9IF8uY3JlYXRlVk1MTm9kZShmLCAic2hhcGUiKTsKdS5jbGFzc05hbWUgPSAidm1sIjsKdS5zdHJva2VkID0gITE7CnUuZmlsbCA9ICExOwp1LnN0eWxlLndpZHRoID0gIjFweCI7CnUuc3R5bGUuaGVpZ2h0ID0gIjFweCI7CmQuYXBwZW5kQ2hpbGQodSk7CmwuYXBwZW5kQ2hpbGQoZCk7CmwuZ3JhcGhpY1R5cGUgPSAidm1sIjsKbC5kZWZhdWx0UGxhY2VtZW50ID0gZDsKby5leHRlbmQobCk7CnIuZXh0ZW5kKGwpOwpvLnNldChlLCBsKTsKdmFyIGcgPSAhMTsKbC5hcHBlbmRUb1BhcmVudCA9IGZ1bmN0aW9uKGUpIHsKby5oYXNQYXJlbnROb2RlKGwpIHx8IG8uYXBwZW5kQ2hpbGQodCwgbCk7CmlmIChlICYmICFnKSB7CnQuYXBwZW5kVG9QYXJlbnQgJiYgdC5hcHBlbmRUb1BhcmVudCghMCk7CmcgPSAhMDsKfQp9OwpsLnNldENhbnZhc1NjYWxlID0gZnVuY3Rpb24odCkgewp0ID0gcGFyc2VGbG9hdCh0KTsKYyA9IHQ7CmggJiYgbC5zZXRWaWV3Qm94KGgpOwpyZXR1cm4gbDsKfTsKbC5zZXRWaWV3Qm94ID0gZnVuY3Rpb24odCkgewpoID0gdDsKdCA9IF8ucGFyc2VWaWV3Qm94KHQpOwp2YXIgZSA9IGwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSwgaSA9IHQueCArICIsICIgKyB0LnksIG4gPSAiMSwgMSI7CmMgJiYgKG4gPSAxIC8gYyArICIsIiArIDEgLyBjKTsKZC5jb29yZG9yaWdpbiA9IGk7CmZvciAodmFyIG8gPSAwLCByID0gZS5sZW5ndGg7IG8gPCByOyBvKyspIHsKdmFyIGEgPSBlW29dLnRhZ05hbWU7CiJzaGFwZSIgIT09IGEgJiYgImdyb3VwIiAhPT0gYSB8fCAoZVtvXS5jb29yZHNpemUgPSBuKTsKfQp1LnN0eWxlLmxlZnQgPSB0LnggKyAicHgiOwp1LnN0eWxlLnJpZ2h0ID0gdC55ICsgInB4IjsKcmV0dXJuIGw7Cn07CnZhciBwID0gbC5zZXRXaWR0aCwgbSA9IGwuc2V0SGVpZ2h0OwpsLnNldFdpZHRoID0gZnVuY3Rpb24odCkgewoiZnVuY3Rpb24iID09IHR5cGVvZiBwICYmIHAuY2FsbChsLCB0KTsKZC5zdHlsZS53aWR0aCA9ICIxcHgiOwpyZXR1cm4gbDsKfTsKbC5zZXRIZWlnaHQgPSBmdW5jdGlvbih0KSB7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIG0gJiYgbS5jYWxsKGwsIHQpOwpkLnN0eWxlLmhlaWdodCA9ICIxcHgiOwpyZXR1cm4gbDsKfTsKbC5zZXRTdHlsZShuKTsKbC5zZXRBdHRyaWJ1dGVzKHMpOwpvLmFkZENoaWxkcmVuKGwsIGEpOwpsLmFwcGVuZFRvUGFyZW50KCk7CnJldHVybiBsOwp9CnZhciBvID0gaSg0KSwgciA9IGkoMTQpOwp0LmV4cG9ydHMgPSBuOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4odCwgZSwgaSwgbiwgbykgewplID0gZSB8fCByLmdlbmVyYXRlSUQoKTsKdmFyIHMsIF8gPSB0Lm93bmVyRG9jdW1lbnQ7CnMgPSBfLmNyZWF0ZUVsZW1lbnQoImRpdiIpOwpyLmV4dGVuZChzKTsKYS5leHRlbmQocyk7CnIuc2V0KGUsIHMpOwp2YXIgbCA9ICExOwpzLmFwcGVuZFRvUGFyZW50ID0gZnVuY3Rpb24oZSkgewpyLmhhc1BhcmVudE5vZGUocykgfHwgci5hcHBlbmRDaGlsZCh0LCBzKTsKaWYgKGUgJiYgIWwpIHsKdC5hcHBlbmRUb1BhcmVudCAmJiB0LmFwcGVuZFRvUGFyZW50KCEwKTsKbCA9ICEwOwp9Cn07CnMuc2V0Vmlld0JveCA9IGZ1bmN0aW9uKCkge307CnMuc2V0U3R5bGUoaSk7CnMuc2V0QXR0cmlidXRlcyhvKTsKci5hZGRDaGlsZHJlbihzLCBuKTsKcy5hcHBlbmRUb1BhcmVudCgpOwpyZXR1cm4gczsKfQp2YXIgbywgciA9IGkoNCksIGEgPSBpKDE0KSwgcyA9IGkoMjQwKSwgXyA9IGkoMjM5KSwgbCA9IGkoMjM4KSwgZCA9IGkoNTgpOwpzd2l0Y2ggKGQuZGV0ZWN0ZWRHcmFwaGljVHlwZSkgewpjYXNlICJjYW52YXMiOgpvID0gbDsKYnJlYWs7CgpjYXNlICJ2bWwiOgpvID0gczsKYnJlYWs7CgpjYXNlICJzdmciOgpvID0gXzsKYnJlYWs7CgpjYXNlICJkaXYiOgpvID0gbjsKfQp0LmV4cG9ydHMgPSBvOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19tZXNoaW1fY29tbW9uX0dDYW52YXMgPSBpKDI0MSk7Cm4uX18kJF9fbWVzaGltX2NvbW1vbl9HU2hhcGUgPSBpKDIzNyk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIF8sIGwpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgXywgbCk7Cm8gPSBvIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgZCA9IFsgbi5fXyQkX19tZXNoaW1fY29tbW9uX0dDYW52YXMsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX2NvbW1vbl9HU2hhcGUsICJjb250ZW50IiwgIiIsIFtdLCB7CmlkOiAiY29udGVudCIsCmZpbGw6ICJsaW5lYXIsIHRvcCwgZnJvbSgjRTA3NDFCKSwgdG8oI0UwOTgxQikiLApzdHJva2U6ICIjYzJjMmMyIgp9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6Y29tbW9uIjogIm1lc2hpbS5jb21tb24iCn0gXSwgdSA9IGRbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBzLm1hbmdsZUlEcyhvLCBkWzNdKSwgZFs0XSksIGMgPSB1IHx8IHRoaXM7CnMuc2V0KG8sIGMpOwp2YXIgaCA9IHMuZ2V0KG8gKyAiX19jb250ZW50Iik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBmID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQodCwgaSkgewp2YXIgbiA9IHsKdGw6IFsgdC54LCB0LnkgXSwKdHI6IFsgdC54ICsgdC53aWR0aCwgdC55IF0sCmJyOiBbIHQueCArIHQud2lkdGgsIHQueSArIHQuaGVpZ2h0IF0sCmJsOiBbIHQueCwgdC55ICsgdC5oZWlnaHQgXQp9OwppID0gaS5zbGljZSgpOwpmb3IgKHZhciBvID0gMDsgbyA8IGkubGVuZ3RoOyBvKyspIHsKdmFyIHIgPSBpW29dLCBhID0gclswXTsKblthXSAmJiAoaVtvXSA9IGUoblthXSwgcikpOwp9CnJldHVybiBpOwp9CmZ1bmN0aW9uIGUodCwgZSkgewp2YXIgaSA9IHRbMF0sIG4gPSB0WzFdLCBvID0gW107CmUgPSBlLnNsaWNlKCk7CmUuc2hpZnQoKTsKby5wdXNoKGUuc2hpZnQoKSk7CmZvciAoO2UubGVuZ3RoID4gMTsgKSB7CnZhciByID0gZS5zcGxpY2UoMCwgMik7Cm8ucHVzaChpICsgclswXSk7Cm8ucHVzaChuICsgclsxXSk7Cn0KcmV0dXJuIG87Cn0KZnVuY3Rpb24gbih0KSB7CmZvciAodmFyIGUgPSAiIiwgaSA9IHsKY3M6IG8KfSwgbiA9IDAsIHIgPSB0Lmxlbmd0aDsgbiA8IHI7IG4rKykgewp2YXIgYSA9IHRbbl0sIHMgPSBhWzBdOwppW3NdICYmIChhID0gaVtzXS5hcHBseShudWxsLCBhLnNsaWNlKDEpKSk7CmUgKz0gIiAiICsgYS5qb2luKCIgIik7Cn0KcmV0dXJuIGU7Cn0KZnVuY3Rpb24gbyh0LCBlLCBpKSB7CnZhciBuID0gdCwgbyA9IGUsIHIgPSBNYXRoLnJvdW5kKC41NTIyODQ4ICogbiksIGEgPSBNYXRoLnJvdW5kKC41NTIyODQ4ICogbyk7CnJldHVybiAoaSA/IC1uICogbyA6IG4gKiBvKSA+IDAgPyBbICJjIiwgciwgMCwgbiwgbyAtIGEsIG4sIG8gXSA6IFsgImMiLCAwLCBhLCBuIC0gciwgbywgbiwgbyBdOwp9CmZ1bmN0aW9uIHIoZSwgaSkgewppZiAoIWEoZSkgfHwgIWEoaSkgfHwgaXNOYU4oZSkgfHwgaXNOYU4oaSkpIHRocm93IG5ldyB3aW5kb3cuRXJyb3IoIkJ1YmJsZVZlY3Rvci5zZXREaW1lbnNpb24oKTogaW52YWxpZCBhcmd1bWVudHMiKTsKdmFyIG8gPSB7Cng6IHMgLSAxLAp5OiBzIC0gMSwKd2lkdGg6IGUgLSAyICogcyArIDIsCmhlaWdodDogaSAtIDIgKiBzIC0gMwp9LCByID0gbih0KG8sIF8pKTsKYy5zZXRXaWR0aChlICsgInB4Iikuc2V0SGVpZ2h0KGkgKyAicHgiKS5zZXRWaWV3Qm94KCIwIDAgIiArIGUgKyAiICIgKyBpKTsKaC5zZXRQYXRoKHIpOwpyZXR1cm4gYzsKfQp2YXIgYSA9IGkoMjgpLCBzID0gMiwgXyA9IFsgWyAidGwiLCAiTSIsIDAsIDggXSwgWyAiY3MiLCA4LCAtOCwgMCBdLCBbICJ0ciIsICJMIiwgLTgsIDAgXSwgWyAiY3MiLCA4LCA4LCAwIF0sIFsgImJyIiwgIkwiLCAwLCAtMTYgXSwgWyAiY3MiLCAtOCwgOCwgMCBdLCBbICJibCIsICJMIiwgMzksIC04IF0sIFsgImJsIiwgIkwiLCAzMywgMCBdLCBbICJibCIsICJMIiwgMjcsIC04IF0sIFsgImJsIiwgIkwiLCA4LCAtOCBdLCBbICJjcyIsIC04LCAtOCwgMCBdLCBbICJ6IiBdIF07CiFmdW5jdGlvbigpIHsKaC5zZXRTdHJva2VXaWR0aChzKTsKYy5zZXREaW1lbnNpb24gPSByOwpjLnNldEZpbGwgPSBmdW5jdGlvbih0KSB7Cmguc2V0RmlsbCh0KTsKfTsKfSgpOwp9KCk7CmZvciAodmFyIGcgaW4gZikgY1tnXSA9IGZbZ107CmMuZmlyZSAmJiBjLmZpcmUoImluaXQiKTsKYy5zZXRTdHlsZSAmJiBjLnNldFN0eWxlKHIpOwpjLnNldEF0dHJpYnV0ZXMgJiYgYy5zZXRBdHRyaWJ1dGVzKGwpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBjLmFkZENoaWxkcmVuID8gYy5hZGRDaGlsZHJlbihfKSA6IHMuYWRkQ2hpbGRyZW4oYywgXyk7CmlmIChjICE9PSB0aGlzKSB7CmMuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpjLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBjOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX21lc2hpbV9jb21tb25fR0NhbnZhcy5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0ge307CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX21lc2hpbV9jb21tb25fR0NhbnZhcywgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdEJ1dHRvbl9CdWJibGVWZWN0b3IiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IGkoMiksIF8gPSBpKDQpOwpuLl9fJCRfX2p4X3VpX1dpZGdldCA9IGkoNyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRCdXR0b25fQnViYmxlVmVjdG9yID0gaSgyNDIpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19JY29uRm9udCA9IGkoMTUpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBsLCBkKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIGwsIGQpOwpvID0gbyB8fCBfLmdlbmVyYXRlSUQoKTsKdmFyIHUgPSBzKDE0MiksIGMgPSBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0QnV0dG9uX0J1YmJsZVZlY3RvciwgImJ1YmJsZV92ZWN0b3IiLCAiIiwgW10sIHsKaWQ6ICJidWJibGVfdmVjdG9yIiwKcG9zaXRpb246ICJhYnNvbHV0ZSIKfSBdLCBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19JY29uRm9udCwgImNsb3NlIiwgIiIsIFtdLCB7CmlkOiAiY2xvc2UiLAppY29uOiAiY3Jvc3MiLAphZGRDbGFzczogImNsb3NlIiwKdGl0bGU6IHUKfSBdLCBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiYnViYmxlX3RpdGxlX2NvbnRhaW5lciIsICIiLCBbXSwgewppZDogImJ1YmJsZV90aXRsZV9jb250YWluZXIiLApjbGFzczogImJ1YmJsZV90aXRsZSIKfSBdLCBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiYnViYmxlX3RleHRfY29udGFpbmVyIiwgIiIsIFtdLCB7CmlkOiAiYnViYmxlX3RleHRfY29udGFpbmVyIiwKY2xhc3M6ICJidWJibGVfdGV4dCIKfSBdIF0sIHsKY2xhc3M6ICJidWJibGVfdGV4dF93cmFwcGVyIgp9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6YnV0dG9uIjogIm1lc2hpbS53aWRnZXQuY29tcG9uZW50cy5jaGF0QnV0dG9uIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIiwKdmlzaWJpbGl0eTogImhpZGRlbiIKfSBdLCBoID0gY1swXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIF8ubWFuZ2xlSURzKG8sIGNbM10pLCBjWzRdKSwgZiA9IGggfHwgdGhpczsKXy5zZXQobywgZik7CnZhciBnID0gXy5nZXQobyArICJfX2J1YmJsZV92ZWN0b3IiKSwgcCA9IF8uZ2V0KG8gKyAiX19jbG9zZSIpLCBtID0gXy5nZXQobyArICJfX2J1YmJsZV90aXRsZV9jb250YWluZXIiKSwgJCA9IF8uZ2V0KG8gKyAiX19idWJibGVfdGV4dF9jb250YWluZXIiKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIGIgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCgpIHsKaWYgKCFsKSB7CmwgPSB3aW5kb3cuc2V0VGltZW91dChlLCAwKTsKOCA9PSB1LmlzSUUgJiYgZi5zZXRWaXNpYmlsaXR5KCIiKTsKfQp9CmZ1bmN0aW9uIGUoKSB7CmwgPSBudWxsOwppZiAobiAmJiBvKSB7CnZhciB0ID0gRC5nZXRWYWx1ZSgpOwppZiAodCkgewp2YXIgZSA9IGYuZ2V0SGVpZ2h0KCk7CmlmIChlKSB7Cmcuc2V0RGltZW5zaW9uKHQsIGUpOwpFLnVwZGF0ZShmLmdldEhlaWdodCgpKTsKaWYgKCFkKSB7CmYuc2V0VmlzaWJpbGl0eSgiIik7CmQgPSAhMDsKfQp9Cn0KfQp9CnZhciBuLCBvLCByLCBhLCBzLCBfLCBsLCBkLCB1ID0gaSg4KSwgYyA9IGkoNiksIGggPSBpKDI0KSwgYiA9IGkoOSksIHcgPSBpKDEwKSwgeCA9IGkoMTIwKSwgdiA9IGMucm9vdC4kKCJsaXZlY2hhdCIpLCB5ID0gdi4kKCJzZXR0aW5ncyIpLCBqID0gdi4kKCJ1aSIpLCBDID0gai4kKCJjaGF0X2J1dHRvbiIpLCBTID0gQy4kKCJkaXNwbGF5JGJvb2wiKSwgQSA9IEMuJCgiYnViYmxlIikuJCgiZGlzcGxheSRib29sIiksIGsgPSBqLiQoInRoZW1lX2xvYWRlZCRib29sIiksIEkgPSB5LiQoImJ1YmJsZSIpLCBUID0gSS4kKCJ0aXRsZSRzdHJpbmciKSwgTiA9IEkuJCgidGV4dCRzdHJpbmciKSwgQiA9IHkuJCgidGhlbWUiKS4kKCJjb2xvcnMiKS4kKCJidWJibGUkc3RyaW5nIiksIEQgPSBDLiQoImJ1dHRvbl93aWR0aCRpbnQiKSwgRSA9IEMuJCgiYnViYmxlX2hlaWdodCRpbnQiKTsKIWZ1bmN0aW9uKCkgewpiLnJ0bChmKTsKZi5hdXRvYmluZChTLCAidmFsdWUiLCBmdW5jdGlvbihlKSB7CmlmIChuICE9IGUpIHsKbiA9IGU7CnQoKTsKfQp9KTsKZi5hdXRvYmluZChBLCAidmFsdWUiLCBmdW5jdGlvbihlKSB7CmlmIChvICE9IGUpIHsKbyA9IGU7CnQoKTsKfQp9KTsKZi5hdXRvYmluZChULCAidmFsdWUiLCBmdW5jdGlvbihlKSB7CmlmIChyICE9IGUpIHsKciA9IGU7Cm0uc2V0VGV4dCh3LmdldChUKSk7CnQoKTsKfQp9KTsKZi5hdXRvYmluZChOLCAidmFsdWUiLCBmdW5jdGlvbihlKSB7CmlmIChhICE9IGUpIHsKYSA9IGU7CiQuc2V0VGV4dCh3LmdldChOKSk7CiQuc2V0RGlzcGxheShlID8gIiIgOiAibm9uZSIpOwp0KCk7Cn0KfSk7CmYuYXV0b2JpbmQoQiwgInZhbHVlIiwgZnVuY3Rpb24odCkgewp0ICYmIHMgIT0gdCAmJiAocyA9IHQpOwp9KTsKZi5hdXRvYmluZChrLCAidmFsdWUiLCBmdW5jdGlvbihlKSB7CmlmIChlKSB7CmlmIChfICE9IHMpIHsKXyA9IHM7CnZhciBpID0gbmV3IHgoXyk7Cmcuc2V0RmlsbCgibGluZWFyIHRvcCBmcm9tKCIgKyBpLmxpZ2h0ZW4oLjEpLnRvUkdCKCkgKyAiKSB0bygiICsgaS5kYXJrZW4oLjIpLnRvUkdCKCkgKyAiKSAiKTsKfQp0KCk7Cn0KfSk7CmYuYXV0b2JpbmQoRCwgInZhbHVlIiwgZnVuY3Rpb24oZSkgewplICYmIHQoKTsKfSk7CnAub24oImNsaWNrIiwgZnVuY3Rpb24odCkgewp0LnN0b3BQcm9wYWdhdGlvbigpOwpoLnVzZXJIaWRlQnViYmxlKCk7Cn0pOwp9KCk7Cn0oKTsKZm9yICh2YXIgdyBpbiBiKSBmW3ddID0gYlt3XTsKZi5maXJlICYmIGYuZmlyZSgiaW5pdCIpOwpmLnNldFN0eWxlICYmIGYuc2V0U3R5bGUocik7CmYuc2V0QXR0cmlidXRlcyAmJiBmLnNldEF0dHJpYnV0ZXMoZCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGYuYWRkQ2hpbGRyZW4gPyBmLmFkZENoaWxkcmVuKGwpIDogXy5hZGRDaGlsZHJlbihmLCBsKTsKaWYgKGYgIT09IHRoaXMpIHsKZi5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmYuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGY7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfV2lkZ2V0LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CnBvc2l0aW9uOiAicmVsYXRpdmUiCn0sCiIuYnViYmxlX3RleHRfd3JhcHBlciI6IHsKcG9zaXRpb246ICJyZWxhdGl2ZSIsCnBhZGRpbmc6ICIxMHB4IDEycHggMjZweCIKfSwKIi5idWJibGVfdGl0bGUiOiB7CnBvc2l0aW9uOiAicmVsYXRpdmUiLAp6SW5kZXg6ICIxIiwKZm9udFNpemU6ICIkJGZvbnRTaXplTCIsCmZvbnRXZWlnaHQ6ICJib2xkIiwKY29sb3I6ICIkJGNoYXRCdWJibGVUaXRsZUNvbG9yIiwKd2hpdGVTcGFjZTogInByZS13cmFwIgp9LAoiLmJ1YmJsZV90ZXh0Ijogewpwb3NpdGlvbjogInJlbGF0aXZlIiwKekluZGV4OiAiMSIsCm1hcmdpblRvcDogIjVweCIsCmZvbnRTaXplOiAiMTJweCIsCmZvbnRTdHlsZTogIml0YWxpYyIsCmNvbG9yOiAiJCRjaGF0QnViYmxlVGV4dENvbG9yIiwKd2hpdGVTcGFjZTogInByZS13cmFwIgp9LAoiLmNsb3NlIjogewpmbG9hdDogInJpZ2h0IiwKcG9zaXRpb246ICJyZWxhdGl2ZSIsCnRvcDogIi0xcHgiLApsZWZ0OiAiNXB4IiwKcGFkZGluZzogIjZweCA0cHggMnB4IiwKekluZGV4OiAiMiIsCmNvbG9yOiAiJCRjaGF0QnViYmxlQ2xvc2VDb2xvciIsCnRleHRTaGFkb3c6ICIkJGNoYXRCdWJibGVDbG9zZVNoYWRvdyIsCmJvcmRlclJhZGl1czogIiQkcmFkaXVzIiwKIiY6aG92ZXIiOiB7CmJhY2tncm91bmQ6ICIkJGNoYXRCdWJibGVDbG9zZUhvdmVyQmciCn0KfSwKIiYucnRsIC5jbG9zZSI6IHsKZmxvYXQ6ICJsZWZ0IiwKbGVmdDogImF1dG8iLApyaWdodDogIjVweCIKfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9XaWRnZXQsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRCdXR0b25fQnViYmxlUmVuZGVyZXIiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19qeF91aV9XaWRnZXQgPSBpKDcpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0QnV0dG9uX0J1YmJsZVJlbmRlcmVyID0gaSgyNDMpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0QnV0dG9uX0J1YmJsZVJlbmRlcmVyLCAiIiwgIiIsIFtdLCB7CmFkZENsYXNzOiAiYnViYmxlX3JlbmRlcmVyIgp9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6YnV0dG9uIjogIm1lc2hpbS53aWRnZXQuY29tcG9uZW50cy5jaGF0QnV0dG9uIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIGggPSBmdW5jdGlvbigpIHsKdmFyIHQgPSBpKDYpLCBlID0gdC5yb290LiQoImxpdmVjaGF0IikuJCgidWkiKS4kKCJjaGF0X2J1dHRvbiIpLCBuID0gZS4kKCJidWJibGUiKS4kKCJkaXNwbGF5JGJvb2wiKSwgbyA9IC0xOwohZnVuY3Rpb24oKSB7CmMuYXV0b2JpbmQobiwgInZhbHVlIiwgZnVuY3Rpb24odCkgewppZiAobyAhPSB0KSB7Cm8gPSB0OwpjLnNldERpc3BsYXkobyA/ICIiIDogIm5vbmUiKTsKfQp9KTsKfSgpOwp9KCk7CmZvciAodmFyIGYgaW4gaCkgY1tmXSA9IGhbZl07CmMuZmlyZSAmJiBjLmZpcmUoImluaXQiKTsKYy5zZXRTdHlsZSAmJiBjLnNldFN0eWxlKHIpOwpjLnNldEF0dHJpYnV0ZXMgJiYgYy5zZXRBdHRyaWJ1dGVzKGwpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBjLmFkZENoaWxkcmVuID8gYy5hZGRDaGlsZHJlbihfKSA6IHMuYWRkQ2hpbGRyZW4oYywgXyk7CmlmIChjICE9PSB0aGlzKSB7CmMuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpjLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBjOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2p4X3VpX1dpZGdldC5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewpwb3NpdGlvbjogImFic29sdXRlIiwKd2lkdGg6ICIxMDAlIiwKInRvcCwgbGVmdCI6IDAsCmN1cnNvcjogInBvaW50ZXIiCn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfV2lkZ2V0LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0QnV0dG9uX0J1YmJsZSIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX2p4X3VpX0Zsb2F0aW5nRnJhbWUgPSBpKDcyKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfZm9udExvYWRlcl9ab3BpbUZvbnQgPSBpKDU5KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdEJ1dHRvbl9CdWJibGUgPSBpKDI0NCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRCdXR0b25fQnV0dG9uID0gaSgyMzQpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fanhfdWlfRmxvYXRpbmdGcmFtZSwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfZm9udExvYWRlcl9ab3BpbUZvbnQsICIiLCAiIiwgW10sIHt9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdEJ1dHRvbl9CdWJibGUsICIiLCAiIiwgW10sIHsKYWRkQ2xhc3M6ICJidWJibGUiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0QnV0dG9uX0J1dHRvbiwgIiIsICIiLCBbXSwge30gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIsCiJ4bWxuczpjaGF0QnV0dG9uIjogIm1lc2hpbS53aWRnZXQuY29tcG9uZW50cy5jaGF0QnV0dG9uIiwKY3Vyc29yOiAicG9pbnRlciIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBoID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoKSB7CnZhciB0ID0gdjsKYy5zZXREaXNwbGF5KHQgPyAiIiA6ICJub25lIik7Cm8oKTsKfQpmdW5jdGlvbiBlKCkgewpuKCk7CnMuYnVncy5ub0JveFNpemluZyAmJiB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHsKYy5kb20uY2xhc3NOYW1lID0gYy5kb20uY2xhc3NOYW1lOwp9LCAxMDApOwp9CmZ1bmN0aW9uIG4oKSB7CmlmIChOKSBjLnNldFRvcCgiIikuc2V0UmlnaHQoIiIpLnNldEJvdHRvbSgiIikuc2V0TGVmdCgiIik7IGVsc2Ugc3dpdGNoIChhKSB7CmNhc2UgImJyIjoKYy5zZXRUb3AoIiIpLnNldExlZnQoIiIpLnNldE1hcmdpbkxlZnQoIiIpLnNldFJpZ2h0KEQpLnNldEJvdHRvbShCKTsKYnJlYWs7CgpjYXNlICJibSI6CmMuc2V0VG9wKCIiKS5zZXRSaWdodCgiIikuc2V0Qm90dG9tKEIpLnNldExlZnQoIjUwJSIpLnNldE1hcmdpbkxlZnQoLU1hdGgucm91bmQoYy5fX3dpZHRoIC8gMikgKyAicHgiKTsKYnJlYWs7CgpjYXNlICJibCI6CmMuc2V0VG9wKCIiKS5zZXRSaWdodCgiIikuc2V0TWFyZ2luTGVmdCgiIikuc2V0Qm90dG9tKEIpLnNldExlZnQoRCk7CmJyZWFrOwoKY2FzZSAidHIiOgpjLnNldEJvdHRvbSgiIikuc2V0TGVmdCgiIikuc2V0TWFyZ2luTGVmdCgiIikuc2V0VG9wKEIpLnNldFJpZ2h0KEQpOwpicmVhazsKCmNhc2UgInRtIjoKYy5zZXRSaWdodCgiIikuc2V0Qm90dG9tKCIiKS5zZXRUb3AoQikuc2V0TGVmdCgiNTAlIikuc2V0TWFyZ2luTGVmdCgtTWF0aC5yb3VuZChjLl9fd2lkdGggLyAyKSArICJweCIpOwpicmVhazsKCmNhc2UgInRsIjoKYy5zZXRSaWdodCgiIikuc2V0Qm90dG9tKCIiKS5zZXRNYXJnaW5MZWZ0KCIiKS5zZXRUb3AoQikuc2V0TGVmdChEKTsKfQp9CmZ1bmN0aW9uIG8oKSB7CnIoKTsKXyhyLCBjLCAib25jZSIpOwp9CmZ1bmN0aW9uIHIoKSB7CnZhciB0ID0gQy5nZXRWYWx1ZSgpIHx8IDEwOwp0ICE9PSBjLmdldFdpZHRoKCkgJiYgYy5zZXRXaWR0aCh0ICsgInB4Iik7CnZhciBlID0gUy5nZXRWYWx1ZSgpIHx8IDEwOwpqICYmIChlICs9IEEuZ2V0VmFsdWUoKSB8fCAwKTsKZSAhPT0gYy5nZXRIZWlnaHQoKSAmJiBjLnNldEhlaWdodChlICsgInB4Iik7Cn0KdmFyIGEsIHMgPSBpKDgpLCBfID0gaSgxNiksIGwgPSBpKDU3KSwgZCA9IGkoMzMpLCB1ID0gaSg2KSwgaCA9IGkoNTApLCBmID0gaSgyNCksIGcgPSBpKDQ3KSwgcCA9IGkoNzQpLCBtID0gdS5yb290LiQoImxpdmVjaGF0IiksICQgPSBtLiQoInNldHRpbmdzIiksIGIgPSBtLiQoInVpIiksIHcgPSBiLiQoImNoYXRfYnV0dG9uIiksIHggPSB3LiQoImRpc3BsYXkkYm9vbCIpLCB2ID0gLTEsIHkgPSB3LiQoImJ1YmJsZSIpLiQoImRpc3BsYXkkYm9vbCIpLCBqID0gLTEsIEMgPSB3LiQoImJ1dHRvbl93aWR0aCRpbnQiKSwgUyA9IHcuJCgiYnV0dG9uX2hlaWdodCRpbnQiKSwgQSA9IHcuJCgiYnViYmxlX2hlaWdodCRpbnQiKSwgayA9ICQuJCgidGhlbWUiKS4kKCJjaGF0X2J1dHRvbiIpLiQoInBvc2l0aW9uJHN0cmluZyIpLCBJID0gJC4kJCgidGhlbWUuY2hhdF9idXR0b24uaF9vZmZzZXQkaW50IiksIFQgPSAkLiQkKCJ0aGVtZS5jaGF0X2J1dHRvbi52X29mZnNldCRpbnQiKSwgTiA9IGIuJCgibW9ja3VwJGJvb2wiKS5nZXRWYWx1ZSgpLCBCID0gMCwgRCA9IDEwOwohZnVuY3Rpb24oKSB7CnAuYmluZChjLml3aW4pOwpjLmRvbS5jbGFzc05hbWUgPSAiem9waW0iOwpjLmlmcmFtZS5zZXRTdHlsZSgiZGlzcGxheSIsICJibG9jayIpOwpjLmNvbnRlbnQuYWRkQ2xhc3MobC5wcm90b3R5cGUuX19qeF9fZnFuYW1lKTsKYy53cmFwcGVyLmFkZENsYXNzKGMuX19qeF9fZnFuYW1lKTsKYy5pYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwpnKGMuaWJvZHkpOwpOICYmIGMuc2V0UG9zaXRpb24oInJlbGF0aXZlIik7CmMuYXV0b2JpbmQoeSwgInZhbHVlIiwgZnVuY3Rpb24odCkgewppZiAoaiAhPSB0KSB7CmogPSB0OwpvKCk7Cn0KfSk7CmMuYXV0b2JpbmQoSSwgInZhbHVlIiwgZnVuY3Rpb24odCkgewp0ID0gcGFyc2VJbnQodCwgMTApOwppZiAoIWlzTmFOKHQpICYmIHQgPj0gMCkgewpEID0gdDsKZSgpOwp9Cn0pOwpjLmF1dG9iaW5kKFQsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKdCA9IHBhcnNlSW50KHQsIDEwKTsKaWYgKCFpc05hTih0KSAmJiB0ID49IDApIHsKQiA9IHQ7CmUoKTsKfQp9KTsKYy5hdXRvYmluZChBLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CnQgJiYgbygpOwp9KTsKYy5hdXRvYmluZChrLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CmEgJiYgYy53cmFwcGVyLnJlbW92ZUNsYXNzKGEpOwphID0gdDsKYSAmJiBjLndyYXBwZXIuYWRkQ2xhc3MoYSk7CmUoKTsKfSk7CmMuYXV0b2JpbmQoQywgInZhbHVlIiwgZnVuY3Rpb24odCkgewp0ICYmIG8oKTsKfSk7CmMuYXV0b2JpbmQoUywgInZhbHVlIiwgZnVuY3Rpb24odCkgewp0ICYmIG8oKTsKfSk7CmMuYXV0b2JpbmQoeCwgInZhbHVlIiwgZnVuY3Rpb24oZSkgewppZiAodiAhPSBlKSB7CnYgPSBlOwp0KCk7Cn0KfSk7CmMub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CmgudHJhY2tFdmVudCgiQnV0dG9uIENsaWNrZWQiKTsKZC5yZXNldFVucmVhZENvdW50KCk7Cncud3JpdGUoewpidXR0b25fY2xpY2tlZCRib29sOiAhMAp9KTsKZi51c2VyU2hvd0JhZGdlT3JXaW5kb3coKTsKfSk7Cn0oKTsKfSgpOwpmb3IgKHZhciBmIGluIGgpIGNbZl0gPSBoW2ZdOwpjLmZpcmUgJiYgYy5maXJlKCJpbml0Iik7CmMuc2V0U3R5bGUgJiYgYy5zZXRTdHlsZShyKTsKYy5zZXRBdHRyaWJ1dGVzICYmIGMuc2V0QXR0cmlidXRlcyhsKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5hZGRDaGlsZHJlbiA/IGMuYWRkQ2hpbGRyZW4oXykgOiBzLmFkZENoaWxkcmVuKGMsIF8pOwppZiAoYyAhPT0gdGhpcykgewpjLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKYy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gYzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19qeF91aV9GbG9hdGluZ0ZyYW1lLnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CiIqd2lkdGgiOiAiMTAwJSIKfSwKIiYuYm0sICYudG0iOiB7Cm1hcmdpbjogIjAgYXV0byIKfSwKIiYuYnIsICYuYm0sICYuYmwiOiB7CiIuYnV0dG9uX2JhciI6IHsKImJvcmRlclRvcExlZnRSYWRpdXMsIGJvcmRlclRvcFJpZ2h0UmFkaXVzIjogIiQkY2hhdEJ1dHRvblJhZGl1cyIKfSwKIi5mYXZpY29uIjogewpib3JkZXJUb3BMZWZ0UmFkaXVzOiAiJCRjaGF0QnV0dG9uUmFkaXVzIgp9LAoiLnJ0bCAuZmF2aWNvbiI6IHsKYm9yZGVyVG9wTGVmdFJhZGl1czogMCwKYm9yZGVyVG9wUmlnaHRSYWRpdXM6ICIkJGNoYXRCdXR0b25SYWRpdXMiCn0KfSwKIiYudHIsICYudG0sICYudGwiOiB7CiIuYnV0dG9uX2JhciI6IHsKImJvcmRlckJvdHRvbUxlZnRSYWRpdXMsIGJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzIjogIiQkY2hhdEJ1dHRvblJhZGl1cyIKfSwKIi5mYXZpY29uIjogewpib3JkZXJCb3R0b21MZWZ0UmFkaXVzOiAiJCRjaGF0QnV0dG9uUmFkaXVzIgp9LAoiLnJ0bCAuZmF2aWNvbiI6IHsKYm9yZGVyQm90dG9tTGVmdFJhZGl1czogMCwKYm9yZGVyQm90dG9tUmlnaHRSYWRpdXM6ICIkJGNoYXRCdXR0b25SYWRpdXMiCn0KfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9GbG9hdGluZ0ZyYW1lLCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfY29tcG9uZW50c19DaGF0QnV0dG9uIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewoidXNlIHN0cmljdCI7CnZhciBuID0gZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IHRbZV0sIG8gPSB0OwppZiAoZSBpbiB0KSB7CnZhciByID0gIndhcm4iID09PSBlID8gIndhcm5pbmciIDogZTsKdFtlXSA9IGZ1bmN0aW9uKCkgewp2YXIgdCA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSwgZSA9ICIiICsgdC5qb2luKCIgIiksIGEgPSB7CmxldmVsOiByLApsb2dnZXI6ICJjb25zb2xlIiwKZXh0cmE6IHsKYXJndW1lbnRzOiB0Cn0KfTsKaSAmJiBpKGUsIGEpOwpuICYmIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKG4sIG8sIHQpOwp9Owp9Cn07CnQuZXhwb3J0cyA9IHsKd3JhcE1ldGhvZDogbgp9Owp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CiJ1c2Ugc3RyaWN0IjsKZnVuY3Rpb24gbih0KSB7CnRoaXMubmFtZSA9ICJSYXZlbkNvbmZpZ0Vycm9yIjsKdGhpcy5tZXNzYWdlID0gdDsKfQpuLnByb3RvdHlwZSA9IG5ldyBFcnJvcigpOwpuLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IG47CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKInVzZSBzdHJpY3QiOwpmdW5jdGlvbiBuKHQsIGUpIHsKZm9yICh2YXIgaSA9IDA7IGkgPCB0Lmxlbmd0aDsgKytpKSBpZiAodFtpXSA9PT0gZSkgcmV0dXJuIGk7CnJldHVybiAtMTsKfQpmdW5jdGlvbiBvKHQsIGUsIGksIG4pIHsKcmV0dXJuIEpTT04uc3RyaW5naWZ5KHQsIHIoZSwgbiksIGkpOwp9CmZ1bmN0aW9uIHIodCwgZSkgewp2YXIgaSA9IFtdLCBvID0gW107Cm51bGwgPT0gZSAmJiAoZSA9IGZ1bmN0aW9uKHQsIGUpIHsKcmV0dXJuIGlbMF0gPT09IGUgPyAiW0NpcmN1bGFyIH5dIiA6ICJbQ2lyY3VsYXIgfi4iICsgby5zbGljZSgwLCBuKGksIGUpKS5qb2luKCIuIikgKyAiXSI7Cn0pOwpyZXR1cm4gZnVuY3Rpb24ociwgYSkgewppZiAoaS5sZW5ndGggPiAwKSB7CnZhciBzID0gbihpLCB0aGlzKTsKfnMgPyBpLnNwbGljZShzICsgMSkgOiBpLnB1c2godGhpcyk7Cn5zID8gby5zcGxpY2UocywgMSAvIDAsIHIpIDogby5wdXNoKHIpOwp+bihpLCBhKSAmJiAoYSA9IGUuY2FsbCh0aGlzLCByLCBhKSk7Cn0gZWxzZSBpLnB1c2goYSk7CnJldHVybiBudWxsID09IHQgPyBhIDogdC5jYWxsKHRoaXMsIHIsIGEpOwp9Owp9CmUgPSB0LmV4cG9ydHMgPSBvOwplLmdldFNlcmlhbGl6ZSA9IHI7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKInVzZSBzdHJpY3QiOwooZnVuY3Rpb24oZSkgewpmdW5jdGlvbiBuKCkgewpyZXR1cm4gInVuZGVmaW5lZCIgPT0gdHlwZW9mIGRvY3VtZW50IHx8IHZvaWQgMCA9PT0gZG9jdW1lbnQubG9jYXRpb24gPyAiIiA6IGRvY3VtZW50LmxvY2F0aW9uLmhyZWY7Cn0KdmFyIG8gPSBpKDEyMSksIHIgPSB7CmNvbGxlY3RXaW5kb3dFcnJvcnM6ICEwLApkZWJ1ZzogITEKfSwgYSA9ICJ1bmRlZmluZWQiICE9IHR5cGVvZiB3aW5kb3cgPyB3aW5kb3cgOiB2b2lkIDAgIT09IGUgPyBlIDogInVuZGVmaW5lZCIgIT0gdHlwZW9mIHNlbGYgPyBzZWxmIDoge30sIHMgPSBbXS5zbGljZSwgXyA9ICI/IiwgbCA9IC9eKD86W1V1XW5jYXVnaHQgKD86ZXhjZXB0aW9uOiApPyk/KD86KCg/OkV2YWx8SW50ZXJuYWx8UmFuZ2V8UmVmZXJlbmNlfFN5bnRheHxUeXBlfFVSSXwpRXJyb3IpOiApPyguKikkLzsKci5yZXBvcnQgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCh0KSB7CmMoKTsKJC5wdXNoKHQpOwp9CmZ1bmN0aW9uIGUodCkgewpmb3IgKHZhciBlID0gJC5sZW5ndGggLSAxOyBlID49IDA7IC0tZSkgJFtlXSA9PT0gdCAmJiAkLnNwbGljZShlLCAxKTsKfQpmdW5jdGlvbiBpKCkgewpoKCk7CiQgPSBbXTsKfQpmdW5jdGlvbiBkKHQsIGUpIHsKdmFyIGkgPSBudWxsOwppZiAoIWUgfHwgci5jb2xsZWN0V2luZG93RXJyb3JzKSB7CmZvciAodmFyIG4gaW4gJCkgaWYgKCQuaGFzT3duUHJvcGVydHkobikpIHRyeSB7CiRbbl0uYXBwbHkobnVsbCwgWyB0IF0uY29uY2F0KHMuY2FsbChhcmd1bWVudHMsIDIpKSk7Cn0gY2F0Y2ggKHQpIHsKaSA9IHQ7Cn0KaWYgKGkpIHRocm93IGk7Cn0KfQpmdW5jdGlvbiB1KHQsIGUsIGksIGEsIHMpIHsKdmFyIHUgPSBudWxsOwppZiAoeCkgewpyLmNvbXB1dGVTdGFja1RyYWNlLmF1Z21lbnRTdGFja1RyYWNlV2l0aEluaXRpYWxFbGVtZW50KHgsIGUsIGksIHQpOwpmKCk7Cn0gZWxzZSBpZiAocyAmJiBvLmlzRXJyb3IocykpIHsKdSA9IHIuY29tcHV0ZVN0YWNrVHJhY2Uocyk7CmQodSwgITApOwp9IGVsc2Ugewp2YXIgYywgaCA9IHsKdXJsOiBlLApsaW5lOiBpLApjb2x1bW46IGEKfSwgZyA9IHZvaWQgMCwgbSA9IHQ7CmlmICgiW29iamVjdCBTdHJpbmddIiA9PT0ge30udG9TdHJpbmcuY2FsbCh0KSkgewp2YXIgYyA9IHQubWF0Y2gobCk7CmlmIChjKSB7CmcgPSBjWzFdOwptID0gY1syXTsKfQp9CmguZnVuYyA9IF87CnUgPSB7Cm5hbWU6IGcsCm1lc3NhZ2U6IG0sCnVybDogbigpLApzdGFjazogWyBoIF0KfTsKZCh1LCAhMCk7Cn0KcmV0dXJuICEhcCAmJiBwLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KZnVuY3Rpb24gYygpIHsKaWYgKCFtKSB7CnAgPSBhLm9uZXJyb3I7CmEub25lcnJvciA9IHU7Cm0gPSAhMDsKfQp9CmZ1bmN0aW9uIGgoKSB7CmlmIChtKSB7CmEub25lcnJvciA9IHA7Cm0gPSAhMTsKcCA9IHZvaWQgMDsKfQp9CmZ1bmN0aW9uIGYoKSB7CnZhciB0ID0geCwgZSA9IGI7CmIgPSBudWxsOwp4ID0gbnVsbDsKdyA9IG51bGw7CmQuYXBwbHkobnVsbCwgWyB0LCAhMSBdLmNvbmNhdChlKSk7Cn0KZnVuY3Rpb24gZyh0LCBlKSB7CnZhciBpID0gcy5jYWxsKGFyZ3VtZW50cywgMSk7CmlmICh4KSB7CmlmICh3ID09PSB0KSByZXR1cm47CmYoKTsKfQp2YXIgbiA9IHIuY29tcHV0ZVN0YWNrVHJhY2UodCk7CnggPSBuOwp3ID0gdDsKYiA9IGk7CnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CncgPT09IHQgJiYgZigpOwp9LCBuLmluY29tcGxldGUgPyAyZTMgOiAwKTsKaWYgKCExICE9PSBlKSB0aHJvdyB0Owp9CnZhciBwLCBtLCAkID0gW10sIGIgPSBudWxsLCB3ID0gbnVsbCwgeCA9IG51bGw7Cmcuc3Vic2NyaWJlID0gdDsKZy51bnN1YnNjcmliZSA9IGU7CmcudW5pbnN0YWxsID0gaTsKcmV0dXJuIGc7Cn0oKTsKci5jb21wdXRlU3RhY2tUcmFjZSA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KHQpIHsKaWYgKHZvaWQgMCAhPT0gdC5zdGFjayAmJiB0LnN0YWNrKSB7CmZvciAodmFyIGUsIGksIG8sIHIgPSAvXlxzKmF0ICguKj8pID9cKCgoPzpmaWxlfGh0dHBzP3xibG9ifGNocm9tZS1leHRlbnNpb258bmF0aXZlfGV2YWx8d2VicGFja3w8YW5vbnltb3VzPnxcLykuKj8pKD86OihcZCspKT8oPzo6KFxkKykpP1wpP1xzKiQvaSwgYSA9IC9eXHMqKC4qPykoPzpcKCguKj8pXCkpPyg/Ol58QCkoKD86ZmlsZXxodHRwcz98YmxvYnxjaHJvbWV8d2VicGFja3xyZXNvdXJjZXxcW25hdGl2ZSkuKj98W15AXSpidW5kbGUpKD86OihcZCspKT8oPzo6KFxkKykpP1xzKiQvaSwgcyA9IC9eXHMqYXQgKD86KCg/Olxbb2JqZWN0IG9iamVjdFxdKT8uKykgKT9cKD8oKD86ZmlsZXxtcy1hcHB4fGh0dHBzP3x3ZWJwYWNrfGJsb2IpOi4qPyk6KFxkKykoPzo6KFxkKykpP1wpP1xzKiQvaSwgbCA9IC8oXFMrKSBsaW5lIChcZCspKD86ID4gZXZhbCBsaW5lIFxkKykqID4gZXZhbC9pLCBkID0gL1woKFxTKikoPzo6KFxkKykpKD86OihcZCspKVwpLywgdSA9IHQuc3RhY2suc3BsaXQoIlxuIiksIGMgPSBbXSwgaCA9ICgvXiguKikgaXMgdW5kZWZpbmVkJC8uZXhlYyh0Lm1lc3NhZ2UpLCAKMCksIGYgPSB1Lmxlbmd0aDsgaCA8IGY7ICsraCkgewppZiAoaSA9IHIuZXhlYyh1W2hdKSkgewp2YXIgZyA9IGlbMl0gJiYgMCA9PT0gaVsyXS5pbmRleE9mKCJuYXRpdmUiKSwgcCA9IGlbMl0gJiYgMCA9PT0gaVsyXS5pbmRleE9mKCJldmFsIik7CmlmIChwICYmIChlID0gZC5leGVjKGlbMl0pKSkgewppWzJdID0gZVsxXTsKaVszXSA9IGVbMl07CmlbNF0gPSBlWzNdOwp9Cm8gPSB7CnVybDogZyA/IG51bGwgOiBpWzJdLApmdW5jOiBpWzFdIHx8IF8sCmFyZ3M6IGcgPyBbIGlbMl0gXSA6IFtdLApsaW5lOiBpWzNdID8gK2lbM10gOiBudWxsLApjb2x1bW46IGlbNF0gPyAraVs0XSA6IG51bGwKfTsKfSBlbHNlIGlmIChpID0gcy5leGVjKHVbaF0pKSBvID0gewp1cmw6IGlbMl0sCmZ1bmM6IGlbMV0gfHwgXywKYXJnczogW10sCmxpbmU6ICtpWzNdLApjb2x1bW46IGlbNF0gPyAraVs0XSA6IG51bGwKfTsgZWxzZSB7CmlmICghKGkgPSBhLmV4ZWModVtoXSkpKSBjb250aW51ZTsKdmFyIHAgPSBpWzNdICYmIGlbM10uaW5kZXhPZigiID4gZXZhbCIpID4gLTE7CmlmIChwICYmIChlID0gbC5leGVjKGlbM10pKSkgewppWzNdID0gZVsxXTsKaVs0XSA9IGVbMl07CmlbNV0gPSBudWxsOwp9IGVsc2UgMCAhPT0gaCB8fCBpWzVdIHx8IHZvaWQgMCA9PT0gdC5jb2x1bW5OdW1iZXIgfHwgKGNbMF0uY29sdW1uID0gdC5jb2x1bW5OdW1iZXIgKyAxKTsKbyA9IHsKdXJsOiBpWzNdLApmdW5jOiBpWzFdIHx8IF8sCmFyZ3M6IGlbMl0gPyBpWzJdLnNwbGl0KCIsIikgOiBbXSwKbGluZTogaVs0XSA/ICtpWzRdIDogbnVsbCwKY29sdW1uOiBpWzVdID8gK2lbNV0gOiBudWxsCn07Cn0KIW8uZnVuYyAmJiBvLmxpbmUgJiYgKG8uZnVuYyA9IF8pOwpjLnB1c2gobyk7Cn0KcmV0dXJuIGMubGVuZ3RoID8gewpuYW1lOiB0Lm5hbWUsCm1lc3NhZ2U6IHQubWVzc2FnZSwKdXJsOiBuKCksCnN0YWNrOiBjCn0gOiBudWxsOwp9Cn0KZnVuY3Rpb24gZSh0LCBlLCBpLCBuKSB7CnZhciBvID0gewp1cmw6IGUsCmxpbmU6IGkKfTsKaWYgKG8udXJsICYmIG8ubGluZSkgewp0LmluY29tcGxldGUgPSAhMTsKby5mdW5jIHx8IChvLmZ1bmMgPSBfKTsKaWYgKHQuc3RhY2subGVuZ3RoID4gMCAmJiB0LnN0YWNrWzBdLnVybCA9PT0gby51cmwpIHsKaWYgKHQuc3RhY2tbMF0ubGluZSA9PT0gby5saW5lKSByZXR1cm4gITE7CmlmICghdC5zdGFja1swXS5saW5lICYmIHQuc3RhY2tbMF0uZnVuYyA9PT0gby5mdW5jKSB7CnQuc3RhY2tbMF0ubGluZSA9IG8ubGluZTsKcmV0dXJuICExOwp9Cn0KdC5zdGFjay51bnNoaWZ0KG8pOwp0LnBhcnRpYWwgPSAhMDsKcmV0dXJuICEwOwp9CnQuaW5jb21wbGV0ZSA9ICEwOwpyZXR1cm4gITE7Cn0KZnVuY3Rpb24gaSh0LCBhKSB7CmZvciAodmFyIHMsIGwsIGQgPSAvZnVuY3Rpb25ccysoW18kYS16QS1aXHhBMC1cdUZGRkZdW18kYS16QS1aMC05XHhBMC1cdUZGRkZdKik/XHMqXCgvaSwgdSA9IFtdLCBjID0ge30sIGggPSAhMSwgZiA9IGkuY2FsbGVyOyBmICYmICFoOyBmID0gZi5jYWxsZXIpIGlmIChmICE9PSBvICYmIGYgIT09IHIucmVwb3J0KSB7CmwgPSB7CnVybDogbnVsbCwKZnVuYzogXywKbGluZTogbnVsbCwKY29sdW1uOiBudWxsCn07CmYubmFtZSA/IGwuZnVuYyA9IGYubmFtZSA6IChzID0gZC5leGVjKGYudG9TdHJpbmcoKSkpICYmIChsLmZ1bmMgPSBzWzFdKTsKaWYgKHZvaWQgMCA9PT0gbC5mdW5jKSB0cnkgewpsLmZ1bmMgPSBzLmlucHV0LnN1YnN0cmluZygwLCBzLmlucHV0LmluZGV4T2YoInsiKSk7Cn0gY2F0Y2ggKHQpIHt9CmNbIiIgKyBmXSA/IGggPSAhMCA6IGNbIiIgKyBmXSA9ICEwOwp1LnB1c2gobCk7Cn0KYSAmJiB1LnNwbGljZSgwLCBhKTsKdmFyIGcgPSB7Cm5hbWU6IHQubmFtZSwKbWVzc2FnZTogdC5tZXNzYWdlLAp1cmw6IG4oKSwKc3RhY2s6IHUKfTsKZShnLCB0LnNvdXJjZVVSTCB8fCB0LmZpbGVOYW1lLCB0LmxpbmUgfHwgdC5saW5lTnVtYmVyLCB0Lm1lc3NhZ2UgfHwgdC5kZXNjcmlwdGlvbik7CnJldHVybiBnOwp9CmZ1bmN0aW9uIG8oZSwgbykgewp2YXIgYSA9IG51bGw7Cm8gPSBudWxsID09IG8gPyAwIDogK287CnRyeSB7CmEgPSB0KGUpOwppZiAoYSkgcmV0dXJuIGE7Cn0gY2F0Y2ggKHQpIHsKaWYgKHIuZGVidWcpIHRocm93IHQ7Cn0KdHJ5IHsKYSA9IGkoZSwgbyArIDEpOwppZiAoYSkgcmV0dXJuIGE7Cn0gY2F0Y2ggKHQpIHsKaWYgKHIuZGVidWcpIHRocm93IHQ7Cn0KcmV0dXJuIHsKbmFtZTogZS5uYW1lLAptZXNzYWdlOiBlLm1lc3NhZ2UsCnVybDogbigpCn07Cn0Kby5hdWdtZW50U3RhY2tUcmFjZVdpdGhJbml0aWFsRWxlbWVudCA9IGU7Cm8uY29tcHV0ZVN0YWNrVHJhY2VGcm9tU3RhY2tQcm9wID0gdDsKcmV0dXJuIG87Cn0oKTsKdC5leHBvcnRzID0gcjsKfSkuY2FsbCh0aGlzLCBpKDk5KSk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKInVzZSBzdHJpY3QiOwooZnVuY3Rpb24oZSkgewpmdW5jdGlvbiBuKCkgewpyZXR1cm4gK25ldyBEYXRlKCk7Cn0KZnVuY3Rpb24gbyh0LCBlKSB7CnJldHVybiBzKGUpID8gZnVuY3Rpb24oaSkgewpyZXR1cm4gZShpLCB0KTsKfSA6IGU7Cn0KZnVuY3Rpb24gcigpIHsKdGhpcy5faGFzSlNPTiA9ICEoIm9iamVjdCIgIT0gdHlwZW9mIEpTT04gfHwgIUpTT04uc3RyaW5naWZ5KTsKdGhpcy5faGFzRG9jdW1lbnQgPSAhYShPKTsKdGhpcy5faGFzTmF2aWdhdG9yID0gIWEoTCk7CnRoaXMuX2xhc3RDYXB0dXJlZEV4Y2VwdGlvbiA9IG51bGw7CnRoaXMuX2xhc3REYXRhID0gbnVsbDsKdGhpcy5fbGFzdEV2ZW50SWQgPSBudWxsOwp0aGlzLl9nbG9iYWxTZXJ2ZXIgPSBudWxsOwp0aGlzLl9nbG9iYWxLZXkgPSBudWxsOwp0aGlzLl9nbG9iYWxQcm9qZWN0ID0gbnVsbDsKdGhpcy5fZ2xvYmFsQ29udGV4dCA9IHt9Owp0aGlzLl9nbG9iYWxPcHRpb25zID0gewpsb2dnZXI6ICJqYXZhc2NyaXB0IiwKaWdub3JlRXJyb3JzOiBbXSwKaWdub3JlVXJsczogW10sCndoaXRlbGlzdFVybHM6IFtdLAppbmNsdWRlUGF0aHM6IFtdLApjcm9zc09yaWdpbjogImFub255bW91cyIsCmNvbGxlY3RXaW5kb3dFcnJvcnM6ICEwLAptYXhNZXNzYWdlTGVuZ3RoOiAwLAptYXhVcmxMZW5ndGg6IDI1MCwKc3RhY2tUcmFjZUxpbWl0OiA1MCwKYXV0b0JyZWFkY3J1bWJzOiAhMCwKaW5zdHJ1bWVudDogITAsCnNhbXBsZVJhdGU6IDEKfTsKdGhpcy5faWdub3JlT25FcnJvciA9IDA7CnRoaXMuX2lzUmF2ZW5JbnN0YWxsZWQgPSAhMTsKdGhpcy5fb3JpZ2luYWxFcnJvclN0YWNrVHJhY2VMaW1pdCA9IEVycm9yLnN0YWNrVHJhY2VMaW1pdDsKdGhpcy5fb3JpZ2luYWxDb25zb2xlID0gRS5jb25zb2xlIHx8IHt9Owp0aGlzLl9vcmlnaW5hbENvbnNvbGVNZXRob2RzID0ge307CnRoaXMuX3BsdWdpbnMgPSBbXTsKdGhpcy5fc3RhcnRUaW1lID0gbigpOwp0aGlzLl93cmFwcGVkQnVpbHRJbnMgPSBbXTsKdGhpcy5fYnJlYWRjcnVtYnMgPSBbXTsKdGhpcy5fbGFzdENhcHR1cmVkRXZlbnQgPSBudWxsOwp0aGlzLl9rZXlwcmVzc1RpbWVvdXQ7CnRoaXMuX2xvY2F0aW9uID0gRS5sb2NhdGlvbjsKdGhpcy5fbGFzdEhyZWYgPSB0aGlzLl9sb2NhdGlvbiAmJiB0aGlzLl9sb2NhdGlvbi5ocmVmOwp0aGlzLl9yZXNldEJhY2tvZmYoKTsKZm9yICh2YXIgdCBpbiB0aGlzLl9vcmlnaW5hbENvbnNvbGUpIHRoaXMuX29yaWdpbmFsQ29uc29sZU1ldGhvZHNbdF0gPSB0aGlzLl9vcmlnaW5hbENvbnNvbGVbdF07Cn0KZnVuY3Rpb24gYSh0KSB7CnJldHVybiB2b2lkIDAgPT09IHQ7Cn0KZnVuY3Rpb24gcyh0KSB7CnJldHVybiAiZnVuY3Rpb24iID09IHR5cGVvZiB0Owp9CmZ1bmN0aW9uIF8odCkgewpyZXR1cm4gIltvYmplY3QgU3RyaW5nXSIgPT09IFcudG9TdHJpbmcuY2FsbCh0KTsKfQpmdW5jdGlvbiBsKHQpIHsKZm9yICh2YXIgZSBpbiB0KSByZXR1cm4gITE7CnJldHVybiAhMDsKfQpmdW5jdGlvbiBkKHQsIGUpIHsKdmFyIGksIG47CmlmIChhKHQubGVuZ3RoKSkgZm9yIChpIGluIHQpIGYodCwgaSkgJiYgZS5jYWxsKG51bGwsIGksIHRbaV0pOyBlbHNlIHsKbiA9IHQubGVuZ3RoOwppZiAobikgZm9yIChpID0gMDsgaSA8IG47IGkrKykgZS5jYWxsKG51bGwsIGksIHRbaV0pOwp9Cn0KZnVuY3Rpb24gdSh0LCBlKSB7CmlmICghZSkgcmV0dXJuIHQ7CmQoZSwgZnVuY3Rpb24oZSwgaSkgewp0W2VdID0gaTsKfSk7CnJldHVybiB0Owp9CmZ1bmN0aW9uIGModCkgewpyZXR1cm4gISFPYmplY3QuaXNGcm96ZW4gJiYgT2JqZWN0LmlzRnJvemVuKHQpOwp9CmZ1bmN0aW9uIGgodCwgZSkgewpyZXR1cm4gIWUgfHwgdC5sZW5ndGggPD0gZSA/IHQgOiB0LnN1YnN0cigwLCBlKSArICLigKYiOwp9CmZ1bmN0aW9uIGYodCwgZSkgewpyZXR1cm4gVy5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsIGUpOwp9CmZ1bmN0aW9uIGcodCkgewpmb3IgKHZhciBlLCBpID0gW10sIG4gPSAwLCBvID0gdC5sZW5ndGg7IG4gPCBvOyBuKyspIHsKZSA9IHRbbl07Cl8oZSkgPyBpLnB1c2goZS5yZXBsYWNlKC8oWy4qKz9ePSE6JHt9KCl8XFtcXVwvXFxdKS9nLCAiXFwkMSIpKSA6IGUgJiYgZS5zb3VyY2UgJiYgaS5wdXNoKGUuc291cmNlKTsKfQpyZXR1cm4gbmV3IFJlZ0V4cChpLmpvaW4oInwiKSwgImkiKTsKfQpmdW5jdGlvbiBwKHQpIHsKdmFyIGUgPSBbXTsKZCh0LCBmdW5jdGlvbih0LCBpKSB7CmUucHVzaChlbmNvZGVVUklDb21wb25lbnQodCkgKyAiPSIgKyBlbmNvZGVVUklDb21wb25lbnQoaSkpOwp9KTsKcmV0dXJuIGUuam9pbigiJiIpOwp9CmZ1bmN0aW9uIG0odCkgewp2YXIgZSA9IHQubWF0Y2goL14oKFteOlwvPyNdKyk6KT8oXC9cLyhbXlwvPyNdKikpPyhbXj8jXSopKFw/KFteI10qKSk/KCMoLiopKT8kLyk7CmlmICghZSkgcmV0dXJuIHt9Owp2YXIgaSA9IGVbNl0gfHwgIiIsIG4gPSBlWzhdIHx8ICIiOwpyZXR1cm4gewpwcm90b2NvbDogZVsyXSwKaG9zdDogZVs0XSwKcGF0aDogZVs1XSwKcmVsYXRpdmU6IGVbNV0gKyBpICsgbgp9Owp9CmZ1bmN0aW9uICQoKSB7CnZhciB0ID0gRS5jcnlwdG8gfHwgRS5tc0NyeXB0bzsKaWYgKCFhKHQpICYmIHQuZ2V0UmFuZG9tVmFsdWVzKSB7CnZhciBlID0gbmV3IFVpbnQxNkFycmF5KDgpOwp0LmdldFJhbmRvbVZhbHVlcyhlKTsKZVszXSA9IDQwOTUgJiBlWzNdIHwgMTYzODQ7CmVbNF0gPSAxNjM4MyAmIGVbNF0gfCAzMjc2ODsKdmFyIGkgPSBmdW5jdGlvbih0KSB7CmZvciAodmFyIGUgPSB0LnRvU3RyaW5nKDE2KTsgZS5sZW5ndGggPCA0OyApIGUgPSAiMCIgKyBlOwpyZXR1cm4gZTsKfTsKcmV0dXJuIGkoZVswXSkgKyBpKGVbMV0pICsgaShlWzJdKSArIGkoZVszXSkgKyBpKGVbNF0pICsgaShlWzVdKSArIGkoZVs2XSkgKyBpKGVbN10pOwp9CnJldHVybiAieHh4eHh4eHh4eHh4NHh4eHl4eHh4eHh4eHh4eHh4eHgiLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24odCkgewp2YXIgZSA9IDE2ICogTWF0aC5yYW5kb20oKSB8IDA7CnJldHVybiAoIngiID09PSB0ID8gZSA6IDMgJiBlIHwgOCkudG9TdHJpbmcoMTYpOwp9KTsKfQpmdW5jdGlvbiBiKHQpIHsKZm9yICh2YXIgZSwgaSA9IFtdLCBuID0gMCwgbyA9IDAsIHIgPSAiID4gIi5sZW5ndGg7IHQgJiYgbisrIDwgNTsgKSB7CmUgPSB3KHQpOwppZiAoImh0bWwiID09PSBlIHx8IG4gPiAxICYmIG8gKyBpLmxlbmd0aCAqIHIgKyBlLmxlbmd0aCA+PSA4MCkgYnJlYWs7CmkucHVzaChlKTsKbyArPSBlLmxlbmd0aDsKdCA9IHQucGFyZW50Tm9kZTsKfQpyZXR1cm4gaS5yZXZlcnNlKCkuam9pbigiID4gIik7Cn0KZnVuY3Rpb24gdyh0KSB7CnZhciBlLCBpLCBuLCBvLCByLCBhID0gW107CmlmICghdCB8fCAhdC50YWdOYW1lKSByZXR1cm4gIiI7CmEucHVzaCh0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSk7CnQuaWQgJiYgYS5wdXNoKCIjIiArIHQuaWQpOwplID0gdC5jbGFzc05hbWU7CmlmIChlICYmIF8oZSkpIHsKaSA9IGUuc3BsaXQoL1xzKy8pOwpmb3IgKHIgPSAwOyByIDwgaS5sZW5ndGg7IHIrKykgYS5wdXNoKCIuIiArIGlbcl0pOwp9CnZhciBzID0gWyAidHlwZSIsICJuYW1lIiwgInRpdGxlIiwgImFsdCIgXTsKZm9yIChyID0gMDsgciA8IHMubGVuZ3RoOyByKyspIHsKbiA9IHNbcl07Cm8gPSB0LmdldEF0dHJpYnV0ZShuKTsKbyAmJiBhLnB1c2goIlsiICsgbiArICc9IicgKyBvICsgJyJdJyk7Cn0KcmV0dXJuIGEuam9pbigiIik7Cn0KZnVuY3Rpb24geCh0LCBlKSB7CnJldHVybiAhISghIXQgXiAhIWUpOwp9CmZ1bmN0aW9uIHYodCwgZSkgewppZiAoeCh0LCBlKSkgcmV0dXJuICExOwp0ID0gdC52YWx1ZXNbMF07CmUgPSBlLnZhbHVlc1swXTsKcmV0dXJuIHQudHlwZSA9PT0gZS50eXBlICYmIHQudmFsdWUgPT09IGUudmFsdWUgJiYgeSh0LnN0YWNrdHJhY2UsIGUuc3RhY2t0cmFjZSk7Cn0KZnVuY3Rpb24geSh0LCBlKSB7CmlmICh4KHQsIGUpKSByZXR1cm4gITE7CnZhciBpID0gdC5mcmFtZXMsIG4gPSBlLmZyYW1lczsKaWYgKGkubGVuZ3RoICE9PSBuLmxlbmd0aCkgcmV0dXJuICExOwpmb3IgKHZhciBvLCByLCBhID0gMDsgYSA8IGkubGVuZ3RoOyBhKyspIHsKbyA9IGlbYV07CnIgPSBuW2FdOwppZiAoby5maWxlbmFtZSAhPT0gci5maWxlbmFtZSB8fCBvLmxpbmVubyAhPT0gci5saW5lbm8gfHwgby5jb2xubyAhPT0gci5jb2xubyB8fCBvLmZ1bmN0aW9uICE9PSByLmZ1bmN0aW9uKSByZXR1cm4gITE7Cn0KcmV0dXJuICEwOwp9CmZ1bmN0aW9uIGoodCwgZSwgaSwgbikgewp2YXIgbyA9IHRbZV07CnRbZV0gPSBpKG8pOwpuICYmIG4ucHVzaChbIHQsIGUsIG8gXSk7Cn0KdmFyIEMgPSBpKDI0OSksIFMgPSBpKDI0OCksIEEgPSBpKDI0NyksIGsgPSBpKDEyMSksIEkgPSBrLmlzRXJyb3IsIFQgPSBrLmlzT2JqZWN0LCBOID0gaSgyNDYpLndyYXBNZXRob2QsIEIgPSAic291cmNlIHByb3RvY29sIHVzZXIgcGFzcyBob3N0IHBvcnQgcGF0aCIuc3BsaXQoIiAiKSwgRCA9IC9eKD86KFx3Kyk6KT9cL1wvKD86KFx3KykoOlx3Kyk/QCk/KFtcd1wuLV0rKSg/OjooXGQrKSk/KFwvLiopLywgRSA9ICJ1bmRlZmluZWQiICE9IHR5cGVvZiB3aW5kb3cgPyB3aW5kb3cgOiB2b2lkIDAgIT09IGUgPyBlIDogInVuZGVmaW5lZCIgIT0gdHlwZW9mIHNlbGYgPyBzZWxmIDoge30sIE8gPSBFLmRvY3VtZW50LCBMID0gRS5uYXZpZ2F0b3I7CnIucHJvdG90eXBlID0gewpWRVJTSU9OOiAiMy4xNy4wIiwKZGVidWc6ICExLApUcmFjZUtpdDogQywKY29uZmlnOiBmdW5jdGlvbih0LCBlKSB7CnZhciBpID0gdGhpczsKaWYgKGkuX2dsb2JhbFNlcnZlcikgewp0aGlzLl9sb2dEZWJ1ZygiZXJyb3IiLCAiRXJyb3I6IFJhdmVuIGhhcyBhbHJlYWR5IGJlZW4gY29uZmlndXJlZCIpOwpyZXR1cm4gaTsKfQppZiAoIXQpIHJldHVybiBpOwp2YXIgbiA9IGkuX2dsb2JhbE9wdGlvbnM7CmUgJiYgZChlLCBmdW5jdGlvbih0LCBlKSB7CiJ0YWdzIiA9PT0gdCB8fCAiZXh0cmEiID09PSB0IHx8ICJ1c2VyIiA9PT0gdCA/IGkuX2dsb2JhbENvbnRleHRbdF0gPSBlIDogblt0XSA9IGU7Cn0pOwppLnNldERTTih0KTsKbi5pZ25vcmVFcnJvcnMucHVzaCgvXlNjcmlwdCBlcnJvclwuPyQvKTsKbi5pZ25vcmVFcnJvcnMucHVzaCgvXkphdmFzY3JpcHQgZXJyb3I6IFNjcmlwdCBlcnJvclwuPyBvbiBsaW5lIDAkLyk7Cm4uaWdub3JlRXJyb3JzID0gZyhuLmlnbm9yZUVycm9ycyk7Cm4uaWdub3JlVXJscyA9ICEhbi5pZ25vcmVVcmxzLmxlbmd0aCAmJiBnKG4uaWdub3JlVXJscyk7Cm4ud2hpdGVsaXN0VXJscyA9ICEhbi53aGl0ZWxpc3RVcmxzLmxlbmd0aCAmJiBnKG4ud2hpdGVsaXN0VXJscyk7Cm4uaW5jbHVkZVBhdGhzID0gZyhuLmluY2x1ZGVQYXRocyk7Cm4ubWF4QnJlYWRjcnVtYnMgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihuLm1heEJyZWFkY3J1bWJzIHx8IDEwMCwgMTAwKSk7CnZhciBvID0gewp4aHI6ICEwLApjb25zb2xlOiAhMCwKZG9tOiAhMCwKbG9jYXRpb246ICEwCn0sIHIgPSBuLmF1dG9CcmVhZGNydW1iczsKIltvYmplY3QgT2JqZWN0XSIgPT09IHt9LnRvU3RyaW5nLmNhbGwocikgPyByID0gdShvLCByKSA6ICExICE9PSByICYmIChyID0gbyk7Cm4uYXV0b0JyZWFkY3J1bWJzID0gcjsKdmFyIGEgPSB7CnRyeUNhdGNoOiAhMAp9LCBzID0gbi5pbnN0cnVtZW50OwoiW29iamVjdCBPYmplY3RdIiA9PT0ge30udG9TdHJpbmcuY2FsbChzKSA/IHMgPSB1KGEsIHMpIDogITEgIT09IHMgJiYgKHMgPSBhKTsKbi5pbnN0cnVtZW50ID0gczsKQy5jb2xsZWN0V2luZG93RXJyb3JzID0gISFuLmNvbGxlY3RXaW5kb3dFcnJvcnM7CnJldHVybiBpOwp9LAppbnN0YWxsOiBmdW5jdGlvbigpIHsKdmFyIHQgPSB0aGlzOwppZiAodC5pc1NldHVwKCkgJiYgIXQuX2lzUmF2ZW5JbnN0YWxsZWQpIHsKQy5yZXBvcnQuc3Vic2NyaWJlKGZ1bmN0aW9uKCkgewp0Ll9oYW5kbGVPbkVycm9yU3RhY2tJbmZvLmFwcGx5KHQsIGFyZ3VtZW50cyk7Cn0pOwp0Ll9nbG9iYWxPcHRpb25zLmluc3RydW1lbnQgJiYgdC5fZ2xvYmFsT3B0aW9ucy5pbnN0cnVtZW50LnRyeUNhdGNoICYmIHQuX2luc3RydW1lbnRUcnlDYXRjaCgpOwp0Ll9nbG9iYWxPcHRpb25zLmF1dG9CcmVhZGNydW1icyAmJiB0Ll9pbnN0cnVtZW50QnJlYWRjcnVtYnMoKTsKdC5fZHJhaW5QbHVnaW5zKCk7CnQuX2lzUmF2ZW5JbnN0YWxsZWQgPSAhMDsKfQpFcnJvci5zdGFja1RyYWNlTGltaXQgPSB0Ll9nbG9iYWxPcHRpb25zLnN0YWNrVHJhY2VMaW1pdDsKcmV0dXJuIHRoaXM7Cn0sCnNldERTTjogZnVuY3Rpb24odCkgewp2YXIgZSA9IHRoaXMsIGkgPSBlLl9wYXJzZURTTih0KSwgbiA9IGkucGF0aC5sYXN0SW5kZXhPZigiLyIpLCBvID0gaS5wYXRoLnN1YnN0cigxLCBuKTsKZS5fZHNuID0gdDsKZS5fZ2xvYmFsS2V5ID0gaS51c2VyOwplLl9nbG9iYWxTZWNyZXQgPSBpLnBhc3MgJiYgaS5wYXNzLnN1YnN0cigxKTsKZS5fZ2xvYmFsUHJvamVjdCA9IGkucGF0aC5zdWJzdHIobiArIDEpOwplLl9nbG9iYWxTZXJ2ZXIgPSBlLl9nZXRHbG9iYWxTZXJ2ZXIoaSk7CmUuX2dsb2JhbEVuZHBvaW50ID0gZS5fZ2xvYmFsU2VydmVyICsgIi8iICsgbyArICJhcGkvIiArIGUuX2dsb2JhbFByb2plY3QgKyAiL3N0b3JlLyI7CnRoaXMuX3Jlc2V0QmFja29mZigpOwp9LApjb250ZXh0OiBmdW5jdGlvbih0LCBlLCBpKSB7CmlmIChzKHQpKSB7CmkgPSBlIHx8IFtdOwplID0gdDsKdCA9IHZvaWQgMDsKfQpyZXR1cm4gdGhpcy53cmFwKHQsIGUpLmFwcGx5KHRoaXMsIGkpOwp9LAp3cmFwOiBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4oKSB7CnZhciBuID0gW10sIHIgPSBhcmd1bWVudHMubGVuZ3RoLCBhID0gIXQgfHwgdCAmJiAhMSAhPT0gdC5kZWVwOwppICYmIHMoaSkgJiYgaS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwpmb3IgKDtyLS07ICkgbltyXSA9IGEgPyBvLndyYXAodCwgYXJndW1lbnRzW3JdKSA6IGFyZ3VtZW50c1tyXTsKdHJ5IHsKcmV0dXJuIGUuYXBwbHkodGhpcywgbik7Cn0gY2F0Y2ggKGUpIHsKby5faWdub3JlTmV4dE9uRXJyb3IoKTsKby5jYXB0dXJlRXhjZXB0aW9uKGUsIHQpOwp0aHJvdyBlOwp9Cn0KdmFyIG8gPSB0aGlzOwppZiAoYShlKSAmJiAhcyh0KSkgcmV0dXJuIHQ7CmlmIChzKHQpKSB7CmUgPSB0Owp0ID0gdm9pZCAwOwp9CmlmICghcyhlKSkgcmV0dXJuIGU7CnRyeSB7CmlmIChlLl9fcmF2ZW5fXykgcmV0dXJuIGU7CmlmIChlLl9fcmF2ZW5fd3JhcHBlcl9fKSByZXR1cm4gZS5fX3JhdmVuX3dyYXBwZXJfXzsKfSBjYXRjaCAodCkgewpyZXR1cm4gZTsKfQpmb3IgKHZhciByIGluIGUpIGYoZSwgcikgJiYgKG5bcl0gPSBlW3JdKTsKbi5wcm90b3R5cGUgPSBlLnByb3RvdHlwZTsKZS5fX3JhdmVuX3dyYXBwZXJfXyA9IG47Cm4uX19yYXZlbl9fID0gITA7Cm4uX19pbm5lcl9fID0gZTsKcmV0dXJuIG47Cn0sCnVuaW5zdGFsbDogZnVuY3Rpb24oKSB7CkMucmVwb3J0LnVuaW5zdGFsbCgpOwp0aGlzLl9yZXN0b3JlQnVpbHRJbnMoKTsKRXJyb3Iuc3RhY2tUcmFjZUxpbWl0ID0gdGhpcy5fb3JpZ2luYWxFcnJvclN0YWNrVHJhY2VMaW1pdDsKdGhpcy5faXNSYXZlbkluc3RhbGxlZCA9ICExOwpyZXR1cm4gdGhpczsKfSwKY2FwdHVyZUV4Y2VwdGlvbjogZnVuY3Rpb24odCwgZSkgewppZiAoIUkodCkpIHJldHVybiB0aGlzLmNhcHR1cmVNZXNzYWdlKHQsIHUoewp0cmltSGVhZEZyYW1lczogMSwKc3RhY2t0cmFjZTogITAKfSwgZSkpOwp0aGlzLl9sYXN0Q2FwdHVyZWRFeGNlcHRpb24gPSB0Owp0cnkgewp2YXIgaSA9IEMuY29tcHV0ZVN0YWNrVHJhY2UodCk7CnRoaXMuX2hhbmRsZVN0YWNrSW5mbyhpLCBlKTsKfSBjYXRjaCAoZSkgewppZiAodCAhPT0gZSkgdGhyb3cgZTsKfQpyZXR1cm4gdGhpczsKfSwKY2FwdHVyZU1lc3NhZ2U6IGZ1bmN0aW9uKHQsIGUpIHsKaWYgKCF0aGlzLl9nbG9iYWxPcHRpb25zLmlnbm9yZUVycm9ycy50ZXN0IHx8ICF0aGlzLl9nbG9iYWxPcHRpb25zLmlnbm9yZUVycm9ycy50ZXN0KHQpKSB7CmUgPSBlIHx8IHt9Owp2YXIgaSA9IHUoewptZXNzYWdlOiB0ICsgIiIKfSwgZSk7CmlmICh0aGlzLl9nbG9iYWxPcHRpb25zLnN0YWNrdHJhY2UgfHwgZSAmJiBlLnN0YWNrdHJhY2UpIHsKdmFyIG47CnRyeSB7CnRocm93IG5ldyBFcnJvcih0KTsKfSBjYXRjaCAodCkgewpuID0gdDsKfQpuLm5hbWUgPSBudWxsOwplID0gdSh7CmZpbmdlcnByaW50OiB0LAp0cmltSGVhZEZyYW1lczogKGUudHJpbUhlYWRGcmFtZXMgfHwgMCkgKyAxCn0sIGUpOwp2YXIgbyA9IEMuY29tcHV0ZVN0YWNrVHJhY2UobiksIHIgPSB0aGlzLl9wcmVwYXJlRnJhbWVzKG8sIGUpOwppLnN0YWNrdHJhY2UgPSB7CmZyYW1lczogci5yZXZlcnNlKCkKfTsKfQp0aGlzLl9zZW5kKGkpOwpyZXR1cm4gdGhpczsKfQp9LApjYXB0dXJlQnJlYWRjcnVtYjogZnVuY3Rpb24odCkgewp2YXIgZSA9IHUoewp0aW1lc3RhbXA6IG4oKSAvIDFlMwp9LCB0KTsKaWYgKHModGhpcy5fZ2xvYmFsT3B0aW9ucy5icmVhZGNydW1iQ2FsbGJhY2spKSB7CnZhciBpID0gdGhpcy5fZ2xvYmFsT3B0aW9ucy5icmVhZGNydW1iQ2FsbGJhY2soZSk7CmlmIChUKGkpICYmICFsKGkpKSBlID0gaTsgZWxzZSBpZiAoITEgPT09IGkpIHJldHVybiB0aGlzOwp9CnRoaXMuX2JyZWFkY3J1bWJzLnB1c2goZSk7CnRoaXMuX2JyZWFkY3J1bWJzLmxlbmd0aCA+IHRoaXMuX2dsb2JhbE9wdGlvbnMubWF4QnJlYWRjcnVtYnMgJiYgdGhpcy5fYnJlYWRjcnVtYnMuc2hpZnQoKTsKcmV0dXJuIHRoaXM7Cn0sCmFkZFBsdWdpbjogZnVuY3Rpb24odCkgewp2YXIgZSA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTsKdGhpcy5fcGx1Z2lucy5wdXNoKFsgdCwgZSBdKTsKdGhpcy5faXNSYXZlbkluc3RhbGxlZCAmJiB0aGlzLl9kcmFpblBsdWdpbnMoKTsKcmV0dXJuIHRoaXM7Cn0sCnNldFVzZXJDb250ZXh0OiBmdW5jdGlvbih0KSB7CnRoaXMuX2dsb2JhbENvbnRleHQudXNlciA9IHQ7CnJldHVybiB0aGlzOwp9LApzZXRFeHRyYUNvbnRleHQ6IGZ1bmN0aW9uKHQpIHsKdGhpcy5fbWVyZ2VDb250ZXh0KCJleHRyYSIsIHQpOwpyZXR1cm4gdGhpczsKfSwKc2V0VGFnc0NvbnRleHQ6IGZ1bmN0aW9uKHQpIHsKdGhpcy5fbWVyZ2VDb250ZXh0KCJ0YWdzIiwgdCk7CnJldHVybiB0aGlzOwp9LApjbGVhckNvbnRleHQ6IGZ1bmN0aW9uKCkgewp0aGlzLl9nbG9iYWxDb250ZXh0ID0ge307CnJldHVybiB0aGlzOwp9LApnZXRDb250ZXh0OiBmdW5jdGlvbigpIHsKcmV0dXJuIEpTT04ucGFyc2UoUyh0aGlzLl9nbG9iYWxDb250ZXh0KSk7Cn0sCnNldEVudmlyb25tZW50OiBmdW5jdGlvbih0KSB7CnRoaXMuX2dsb2JhbE9wdGlvbnMuZW52aXJvbm1lbnQgPSB0OwpyZXR1cm4gdGhpczsKfSwKc2V0UmVsZWFzZTogZnVuY3Rpb24odCkgewp0aGlzLl9nbG9iYWxPcHRpb25zLnJlbGVhc2UgPSB0OwpyZXR1cm4gdGhpczsKfSwKc2V0RGF0YUNhbGxiYWNrOiBmdW5jdGlvbih0KSB7CnZhciBlID0gdGhpcy5fZ2xvYmFsT3B0aW9ucy5kYXRhQ2FsbGJhY2s7CnRoaXMuX2dsb2JhbE9wdGlvbnMuZGF0YUNhbGxiYWNrID0gbyhlLCB0KTsKcmV0dXJuIHRoaXM7Cn0sCnNldEJyZWFkY3J1bWJDYWxsYmFjazogZnVuY3Rpb24odCkgewp2YXIgZSA9IHRoaXMuX2dsb2JhbE9wdGlvbnMuYnJlYWRjcnVtYkNhbGxiYWNrOwp0aGlzLl9nbG9iYWxPcHRpb25zLmJyZWFkY3J1bWJDYWxsYmFjayA9IG8oZSwgdCk7CnJldHVybiB0aGlzOwp9LApzZXRTaG91bGRTZW5kQ2FsbGJhY2s6IGZ1bmN0aW9uKHQpIHsKdmFyIGUgPSB0aGlzLl9nbG9iYWxPcHRpb25zLnNob3VsZFNlbmRDYWxsYmFjazsKdGhpcy5fZ2xvYmFsT3B0aW9ucy5zaG91bGRTZW5kQ2FsbGJhY2sgPSBvKGUsIHQpOwpyZXR1cm4gdGhpczsKfSwKc2V0VHJhbnNwb3J0OiBmdW5jdGlvbih0KSB7CnRoaXMuX2dsb2JhbE9wdGlvbnMudHJhbnNwb3J0ID0gdDsKcmV0dXJuIHRoaXM7Cn0sCmxhc3RFeGNlcHRpb246IGZ1bmN0aW9uKCkgewpyZXR1cm4gdGhpcy5fbGFzdENhcHR1cmVkRXhjZXB0aW9uOwp9LApsYXN0RXZlbnRJZDogZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLl9sYXN0RXZlbnRJZDsKfSwKaXNTZXR1cDogZnVuY3Rpb24oKSB7CmlmICghdGhpcy5faGFzSlNPTikgcmV0dXJuICExOwppZiAoIXRoaXMuX2dsb2JhbFNlcnZlcikgewppZiAoIXRoaXMucmF2ZW5Ob3RDb25maWd1cmVkRXJyb3IpIHsKdGhpcy5yYXZlbk5vdENvbmZpZ3VyZWRFcnJvciA9ICEwOwp0aGlzLl9sb2dEZWJ1ZygiZXJyb3IiLCAiRXJyb3I6IFJhdmVuIGhhcyBub3QgYmVlbiBjb25maWd1cmVkLiIpOwp9CnJldHVybiAhMTsKfQpyZXR1cm4gITA7Cn0sCmFmdGVyTG9hZDogZnVuY3Rpb24oKSB7CnZhciB0ID0gRS5SYXZlbkNvbmZpZzsKdCAmJiB0aGlzLmNvbmZpZyh0LmRzbiwgdC5jb25maWcpLmluc3RhbGwoKTsKfSwKc2hvd1JlcG9ydERpYWxvZzogZnVuY3Rpb24odCkgewppZiAoTykgewp0ID0gdCB8fCB7fTsKdmFyIGUgPSB0LmV2ZW50SWQgfHwgdGhpcy5sYXN0RXZlbnRJZCgpOwppZiAoIWUpIHRocm93IG5ldyBBKCJNaXNzaW5nIGV2ZW50SWQiKTsKdmFyIGkgPSB0LmRzbiB8fCB0aGlzLl9kc247CmlmICghaSkgdGhyb3cgbmV3IEEoIk1pc3NpbmcgRFNOIik7CnZhciBuID0gZW5jb2RlVVJJQ29tcG9uZW50LCBvID0gIiI7Cm8gKz0gIj9ldmVudElkPSIgKyBuKGUpOwpvICs9ICImZHNuPSIgKyBuKGkpOwp2YXIgciA9IHQudXNlciB8fCB0aGlzLl9nbG9iYWxDb250ZXh0LnVzZXI7CmlmIChyKSB7CnIubmFtZSAmJiAobyArPSAiJm5hbWU9IiArIG4oci5uYW1lKSk7CnIuZW1haWwgJiYgKG8gKz0gIiZlbWFpbD0iICsgbihyLmVtYWlsKSk7Cn0KdmFyIGEgPSB0aGlzLl9nZXRHbG9iYWxTZXJ2ZXIodGhpcy5fcGFyc2VEU04oaSkpLCBzID0gTy5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsKcy5hc3luYyA9ICEwOwpzLnNyYyA9IGEgKyAiL2FwaS9lbWJlZC9lcnJvci1wYWdlLyIgKyBvOwooTy5oZWFkIHx8IE8uYm9keSkuYXBwZW5kQ2hpbGQocyk7Cn0KfSwKX2lnbm9yZU5leHRPbkVycm9yOiBmdW5jdGlvbigpIHsKdmFyIHQgPSB0aGlzOwp0aGlzLl9pZ25vcmVPbkVycm9yICs9IDE7CnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CnQuX2lnbm9yZU9uRXJyb3IgLT0gMTsKfSk7Cn0sCl90cmlnZ2VyRXZlbnQ6IGZ1bmN0aW9uKHQsIGUpIHsKdmFyIGksIG47CmlmICh0aGlzLl9oYXNEb2N1bWVudCkgewplID0gZSB8fCB7fTsKdCA9ICJyYXZlbiIgKyB0LnN1YnN0cigwLCAxKS50b1VwcGVyQ2FzZSgpICsgdC5zdWJzdHIoMSk7CmlmIChPLmNyZWF0ZUV2ZW50KSB7CmkgPSBPLmNyZWF0ZUV2ZW50KCJIVE1MRXZlbnRzIik7CmkuaW5pdEV2ZW50KHQsICEwLCAhMCk7Cn0gZWxzZSB7CmkgPSBPLmNyZWF0ZUV2ZW50T2JqZWN0KCk7CmkuZXZlbnRUeXBlID0gdDsKfQpmb3IgKG4gaW4gZSkgZihlLCBuKSAmJiAoaVtuXSA9IGVbbl0pOwppZiAoTy5jcmVhdGVFdmVudCkgTy5kaXNwYXRjaEV2ZW50KGkpOyBlbHNlIHRyeSB7Ck8uZmlyZUV2ZW50KCJvbiIgKyBpLmV2ZW50VHlwZS50b0xvd2VyQ2FzZSgpLCBpKTsKfSBjYXRjaCAodCkge30KfQp9LApfYnJlYWRjcnVtYkV2ZW50SGFuZGxlcjogZnVuY3Rpb24odCkgewp2YXIgZSA9IHRoaXM7CnJldHVybiBmdW5jdGlvbihpKSB7CmUuX2tleXByZXNzVGltZW91dCA9IG51bGw7CmlmIChlLl9sYXN0Q2FwdHVyZWRFdmVudCAhPT0gaSkgewplLl9sYXN0Q2FwdHVyZWRFdmVudCA9IGk7CnZhciBuOwp0cnkgewpuID0gYihpLnRhcmdldCk7Cn0gY2F0Y2ggKHQpIHsKbiA9ICI8dW5rbm93bj4iOwp9CmUuY2FwdHVyZUJyZWFkY3J1bWIoewpjYXRlZ29yeTogInVpLiIgKyB0LAptZXNzYWdlOiBuCn0pOwp9Cn07Cn0sCl9rZXlwcmVzc0V2ZW50SGFuZGxlcjogZnVuY3Rpb24oKSB7CnZhciB0ID0gdGhpczsKcmV0dXJuIGZ1bmN0aW9uKGUpIHsKdmFyIGk7CnRyeSB7CmkgPSBlLnRhcmdldDsKfSBjYXRjaCAodCkgewpyZXR1cm47Cn0KdmFyIG4gPSBpICYmIGkudGFnTmFtZTsKaWYgKG4gJiYgKCJJTlBVVCIgPT09IG4gfHwgIlRFWFRBUkVBIiA9PT0gbiB8fCBpLmlzQ29udGVudEVkaXRhYmxlKSkgewp2YXIgbyA9IHQuX2tleXByZXNzVGltZW91dDsKbyB8fCB0Ll9icmVhZGNydW1iRXZlbnRIYW5kbGVyKCJpbnB1dCIpKGUpOwpjbGVhclRpbWVvdXQobyk7CnQuX2tleXByZXNzVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CnQuX2tleXByZXNzVGltZW91dCA9IG51bGw7Cn0sIDFlMyk7Cn0KfTsKfSwKX2NhcHR1cmVVcmxDaGFuZ2U6IGZ1bmN0aW9uKHQsIGUpIHsKdmFyIGkgPSBtKHRoaXMuX2xvY2F0aW9uLmhyZWYpLCBuID0gbShlKSwgbyA9IG0odCk7CnRoaXMuX2xhc3RIcmVmID0gZTsKaS5wcm90b2NvbCA9PT0gbi5wcm90b2NvbCAmJiBpLmhvc3QgPT09IG4uaG9zdCAmJiAoZSA9IG4ucmVsYXRpdmUpOwppLnByb3RvY29sID09PSBvLnByb3RvY29sICYmIGkuaG9zdCA9PT0gby5ob3N0ICYmICh0ID0gby5yZWxhdGl2ZSk7CnRoaXMuY2FwdHVyZUJyZWFkY3J1bWIoewpjYXRlZ29yeTogIm5hdmlnYXRpb24iLApkYXRhOiB7CnRvOiBlLApmcm9tOiB0Cn0KfSk7Cn0sCl9pbnN0cnVtZW50VHJ5Q2F0Y2g6IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KHQpIHsKcmV0dXJuIGZ1bmN0aW9uKGksIG4pIHsKZm9yICh2YXIgbyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKSwgciA9IDA7IHIgPCBvLmxlbmd0aDsgKytyKSBvW3JdID0gYXJndW1lbnRzW3JdOwp2YXIgYSA9IG9bMF07CnMoYSkgJiYgKG9bMF0gPSBlLndyYXAoYSkpOwpyZXR1cm4gdC5hcHBseSA/IHQuYXBwbHkodGhpcywgbykgOiB0KG9bMF0sIG9bMV0pOwp9Owp9CnZhciBlID0gdGhpcywgaSA9IGUuX3dyYXBwZWRCdWlsdElucywgbiA9IHRoaXMuX2dsb2JhbE9wdGlvbnMuYXV0b0JyZWFkY3J1bWJzOwpqKEUsICJzZXRUaW1lb3V0IiwgdCwgaSk7CmooRSwgInNldEludGVydmFsIiwgdCwgaSk7CkUucmVxdWVzdEFuaW1hdGlvbkZyYW1lICYmIGooRSwgInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIGZ1bmN0aW9uKHQpIHsKcmV0dXJuIGZ1bmN0aW9uKGkpIHsKcmV0dXJuIHQoZS53cmFwKGkpKTsKfTsKfSwgaSk7CmZvciAodmFyIG8gPSBbICJFdmVudFRhcmdldCIsICJXaW5kb3ciLCAiTm9kZSIsICJBcHBsaWNhdGlvbkNhY2hlIiwgIkF1ZGlvVHJhY2tMaXN0IiwgIkNoYW5uZWxNZXJnZXJOb2RlIiwgIkNyeXB0b09wZXJhdGlvbiIsICJFdmVudFNvdXJjZSIsICJGaWxlUmVhZGVyIiwgIkhUTUxVbmtub3duRWxlbWVudCIsICJJREJEYXRhYmFzZSIsICJJREJSZXF1ZXN0IiwgIklEQlRyYW5zYWN0aW9uIiwgIktleU9wZXJhdGlvbiIsICJNZWRpYUNvbnRyb2xsZXIiLCAiTWVzc2FnZVBvcnQiLCAiTW9kYWxXaW5kb3ciLCAiTm90aWZpY2F0aW9uIiwgIlNWR0VsZW1lbnRJbnN0YW5jZSIsICJTY3JlZW4iLCAiVGV4dFRyYWNrIiwgIlRleHRUcmFja0N1ZSIsICJUZXh0VHJhY2tMaXN0IiwgIldlYlNvY2tldCIsICJXZWJTb2NrZXRXb3JrZXIiLCAiV29ya2VyIiwgIlhNTEh0dHBSZXF1ZXN0IiwgIlhNTEh0dHBSZXF1ZXN0RXZlbnRUYXJnZXQiLCAiWE1MSHR0cFJlcXVlc3RVcGxvYWQiIF0sIHIgPSAwOyByIDwgby5sZW5ndGg7IHIrKykgIWZ1bmN0aW9uKHQpIHsKdmFyIG8gPSBFW3RdICYmIEVbdF0ucHJvdG90eXBlOwppZiAobyAmJiBvLmhhc093blByb3BlcnR5ICYmIG8uaGFzT3duUHJvcGVydHkoImFkZEV2ZW50TGlzdGVuZXIiKSkgewpqKG8sICJhZGRFdmVudExpc3RlbmVyIiwgZnVuY3Rpb24oaSkgewpyZXR1cm4gZnVuY3Rpb24obywgciwgYSwgcykgewp0cnkgewpyICYmIHIuaGFuZGxlRXZlbnQgJiYgKHIuaGFuZGxlRXZlbnQgPSBlLndyYXAoci5oYW5kbGVFdmVudCkpOwp9IGNhdGNoICh0KSB7fQp2YXIgXywgbCwgZDsKaWYgKG4gJiYgbi5kb20gJiYgKCJFdmVudFRhcmdldCIgPT09IHQgfHwgIk5vZGUiID09PSB0KSkgewpsID0gZS5fYnJlYWRjcnVtYkV2ZW50SGFuZGxlcigiY2xpY2siKTsKZCA9IGUuX2tleXByZXNzRXZlbnRIYW5kbGVyKCk7Cl8gPSBmdW5jdGlvbih0KSB7CmlmICh0KSB7CnZhciBlOwp0cnkgewplID0gdC50eXBlOwp9IGNhdGNoICh0KSB7CnJldHVybjsKfQpyZXR1cm4gImNsaWNrIiA9PT0gZSA/IGwodCkgOiAia2V5cHJlc3MiID09PSBlID8gZCh0KSA6IHZvaWQgMDsKfQp9Owp9CnJldHVybiBpLmNhbGwodGhpcywgbywgZS53cmFwKHIsIHZvaWQgMCwgXyksIGEsIHMpOwp9Owp9LCBpKTsKaihvLCAicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIGZ1bmN0aW9uKHQpIHsKcmV0dXJuIGZ1bmN0aW9uKGUsIGksIG4sIG8pIHsKdHJ5IHsKaSA9IGkgJiYgKGkuX19yYXZlbl93cmFwcGVyX18gPyBpLl9fcmF2ZW5fd3JhcHBlcl9fIDogaSk7Cn0gY2F0Y2ggKHQpIHt9CnJldHVybiB0LmNhbGwodGhpcywgZSwgaSwgbiwgbyk7Cn07Cn0sIGkpOwp9Cn0ob1tyXSk7Cn0sCl9pbnN0cnVtZW50QnJlYWRjcnVtYnM6IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KHQsIGkpIHsKdCBpbiBpICYmIHMoaVt0XSkgJiYgaihpLCB0LCBmdW5jdGlvbih0KSB7CnJldHVybiBlLndyYXAodCk7Cn0pOwp9CnZhciBlID0gdGhpcywgaSA9IHRoaXMuX2dsb2JhbE9wdGlvbnMuYXV0b0JyZWFkY3J1bWJzLCBuID0gZS5fd3JhcHBlZEJ1aWx0SW5zOwppZiAoaS54aHIgJiYgIlhNTEh0dHBSZXF1ZXN0IiBpbiBFKSB7CnZhciBvID0gWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlOwpqKG8sICJvcGVuIiwgZnVuY3Rpb24odCkgewpyZXR1cm4gZnVuY3Rpb24oaSwgbikgewpfKG4pICYmIC0xID09PSBuLmluZGV4T2YoZS5fZ2xvYmFsS2V5KSAmJiAodGhpcy5fX3JhdmVuX3hociA9IHsKbWV0aG9kOiBpLAp1cmw6IG4sCnN0YXR1c19jb2RlOiBudWxsCn0pOwpyZXR1cm4gdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9Owp9LCBuKTsKaihvLCAic2VuZCIsIGZ1bmN0aW9uKGkpIHsKcmV0dXJuIGZ1bmN0aW9uKG4pIHsKZnVuY3Rpb24gbygpIHsKaWYgKHIuX19yYXZlbl94aHIgJiYgKDEgPT09IHIucmVhZHlTdGF0ZSB8fCA0ID09PSByLnJlYWR5U3RhdGUpKSB7CnRyeSB7CnIuX19yYXZlbl94aHIuc3RhdHVzX2NvZGUgPSByLnN0YXR1czsKfSBjYXRjaCAodCkge30KZS5jYXB0dXJlQnJlYWRjcnVtYih7CnR5cGU6ICJodHRwIiwKY2F0ZWdvcnk6ICJ4aHIiLApkYXRhOiByLl9fcmF2ZW5feGhyCn0pOwp9Cn0KZm9yICh2YXIgciA9IHRoaXMsIGEgPSBbICJvbmxvYWQiLCAib25lcnJvciIsICJvbnByb2dyZXNzIiBdLCBfID0gMDsgXyA8IGEubGVuZ3RoOyBfKyspIHQoYVtfXSwgcik7CiJvbnJlYWR5c3RhdGVjaGFuZ2UiIGluIHIgJiYgcyhyLm9ucmVhZHlzdGF0ZWNoYW5nZSkgPyBqKHIsICJvbnJlYWR5c3RhdGVjaGFuZ2UiLCBmdW5jdGlvbih0KSB7CnJldHVybiBlLndyYXAodCwgdm9pZCAwLCBvKTsKfSkgOiByLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG87CnJldHVybiBpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn07Cn0sIG4pOwp9CmkueGhyICYmICJmZXRjaCIgaW4gRSAmJiBqKEUsICJmZXRjaCIsIGZ1bmN0aW9uKHQpIHsKcmV0dXJuIGZ1bmN0aW9uKGksIG4pIHsKZm9yICh2YXIgbyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKSwgciA9IDA7IHIgPCBvLmxlbmd0aDsgKytyKSBvW3JdID0gYXJndW1lbnRzW3JdOwp2YXIgYSwgcyA9IG9bMF0sIF8gPSAiR0VUIjsKaWYgKCJzdHJpbmciID09IHR5cGVvZiBzKSBhID0gczsgZWxzZSB7CmEgPSBzLnVybDsKcy5tZXRob2QgJiYgKF8gPSBzLm1ldGhvZCk7Cn0Kb1sxXSAmJiBvWzFdLm1ldGhvZCAmJiAoXyA9IG9bMV0ubWV0aG9kKTsKdmFyIGwgPSB7Cm1ldGhvZDogXywKdXJsOiBhLApzdGF0dXNfY29kZTogbnVsbAp9OwplLmNhcHR1cmVCcmVhZGNydW1iKHsKdHlwZTogImh0dHAiLApjYXRlZ29yeTogImZldGNoIiwKZGF0YTogbAp9KTsKcmV0dXJuIHQuYXBwbHkodGhpcywgbykudGhlbihmdW5jdGlvbih0KSB7Cmwuc3RhdHVzX2NvZGUgPSB0LnN0YXR1czsKcmV0dXJuIHQ7Cn0pOwp9Owp9LCBuKTsKaWYgKGkuZG9tICYmIHRoaXMuX2hhc0RvY3VtZW50KSBpZiAoTy5hZGRFdmVudExpc3RlbmVyKSB7Ck8uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBlLl9icmVhZGNydW1iRXZlbnRIYW5kbGVyKCJjbGljayIpLCAhMSk7Ck8uYWRkRXZlbnRMaXN0ZW5lcigia2V5cHJlc3MiLCBlLl9rZXlwcmVzc0V2ZW50SGFuZGxlcigpLCAhMSk7Cn0gZWxzZSB7Ck8uYXR0YWNoRXZlbnQoIm9uY2xpY2siLCBlLl9icmVhZGNydW1iRXZlbnRIYW5kbGVyKCJjbGljayIpKTsKTy5hdHRhY2hFdmVudCgib25rZXlwcmVzcyIsIGUuX2tleXByZXNzRXZlbnRIYW5kbGVyKCkpOwp9CnZhciByID0gRS5jaHJvbWUsIGEgPSByICYmIHIuYXBwICYmIHIuYXBwLnJ1bnRpbWUsIGwgPSAhYSAmJiBFLmhpc3RvcnkgJiYgaGlzdG9yeS5wdXNoU3RhdGU7CmlmIChpLmxvY2F0aW9uICYmIGwpIHsKdmFyIHUgPSBFLm9ucG9wc3RhdGU7CkUub25wb3BzdGF0ZSA9IGZ1bmN0aW9uKCkgewp2YXIgdCA9IGUuX2xvY2F0aW9uLmhyZWY7CmUuX2NhcHR1cmVVcmxDaGFuZ2UoZS5fbGFzdEhyZWYsIHQpOwppZiAodSkgcmV0dXJuIHUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfTsKaihoaXN0b3J5LCAicHVzaFN0YXRlIiwgZnVuY3Rpb24odCkgewpyZXR1cm4gZnVuY3Rpb24oKSB7CnZhciBpID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB2b2lkIDA7CmkgJiYgZS5fY2FwdHVyZVVybENoYW5nZShlLl9sYXN0SHJlZiwgaSArICIiKTsKcmV0dXJuIHQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfTsKfSwgbik7Cn0KaWYgKGkuY29uc29sZSAmJiAiY29uc29sZSIgaW4gRSAmJiBjb25zb2xlLmxvZykgewp2YXIgYyA9IGZ1bmN0aW9uKHQsIGkpIHsKZS5jYXB0dXJlQnJlYWRjcnVtYih7Cm1lc3NhZ2U6IHQsCmxldmVsOiBpLmxldmVsLApjYXRlZ29yeTogImNvbnNvbGUiCn0pOwp9OwpkKFsgImRlYnVnIiwgImluZm8iLCAid2FybiIsICJlcnJvciIsICJsb2ciIF0sIGZ1bmN0aW9uKHQsIGUpIHsKTihjb25zb2xlLCBlLCBjKTsKfSk7Cn0KfSwKX3Jlc3RvcmVCdWlsdEluczogZnVuY3Rpb24oKSB7CmZvciAodmFyIHQ7IHRoaXMuX3dyYXBwZWRCdWlsdElucy5sZW5ndGg7ICkgewp0ID0gdGhpcy5fd3JhcHBlZEJ1aWx0SW5zLnNoaWZ0KCk7CnZhciBlID0gdFswXSwgaSA9IHRbMV0sIG4gPSB0WzJdOwplW2ldID0gbjsKfQp9LApfZHJhaW5QbHVnaW5zOiBmdW5jdGlvbigpIHsKdmFyIHQgPSB0aGlzOwpkKHRoaXMuX3BsdWdpbnMsIGZ1bmN0aW9uKGUsIGkpIHsKdmFyIG4gPSBpWzBdLCBvID0gaVsxXTsKbi5hcHBseSh0LCBbIHQgXS5jb25jYXQobykpOwp9KTsKfSwKX3BhcnNlRFNOOiBmdW5jdGlvbih0KSB7CnZhciBlID0gRC5leGVjKHQpLCBpID0ge30sIG4gPSA3Owp0cnkgewpmb3IgKDtuLS07ICkgaVtCW25dXSA9IGVbbl0gfHwgIiI7Cn0gY2F0Y2ggKGUpIHsKdGhyb3cgbmV3IEEoIkludmFsaWQgRFNOOiAiICsgdCk7Cn0KaWYgKGkucGFzcyAmJiAhdGhpcy5fZ2xvYmFsT3B0aW9ucy5hbGxvd1NlY3JldEtleSkgdGhyb3cgbmV3IEEoIkRvIG5vdCBzcGVjaWZ5IHlvdXIgc2VjcmV0IGtleSBpbiB0aGUgRFNOLiBTZWU6IGh0dHA6Ly9iaXQubHkvcmF2ZW4tc2VjcmV0LWtleSIpOwpyZXR1cm4gaTsKfSwKX2dldEdsb2JhbFNlcnZlcjogZnVuY3Rpb24odCkgewp2YXIgZSA9ICIvLyIgKyB0Lmhvc3QgKyAodC5wb3J0ID8gIjoiICsgdC5wb3J0IDogIiIpOwp0LnByb3RvY29sICYmIChlID0gdC5wcm90b2NvbCArICI6IiArIGUpOwpyZXR1cm4gZTsKfSwKX2hhbmRsZU9uRXJyb3JTdGFja0luZm86IGZ1bmN0aW9uKCkgewp0aGlzLl9pZ25vcmVPbkVycm9yIHx8IHRoaXMuX2hhbmRsZVN0YWNrSW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9LApfaGFuZGxlU3RhY2tJbmZvOiBmdW5jdGlvbih0LCBlKSB7CnZhciBpID0gdGhpcy5fcHJlcGFyZUZyYW1lcyh0LCBlKTsKdGhpcy5fdHJpZ2dlckV2ZW50KCJoYW5kbGUiLCB7CnN0YWNrSW5mbzogdCwKb3B0aW9uczogZQp9KTsKdGhpcy5fcHJvY2Vzc0V4Y2VwdGlvbih0Lm5hbWUsIHQubWVzc2FnZSwgdC51cmwsIHQubGluZW5vLCBpLCBlKTsKfSwKX3ByZXBhcmVGcmFtZXM6IGZ1bmN0aW9uKHQsIGUpIHsKdmFyIGkgPSB0aGlzLCBuID0gW107CmlmICh0LnN0YWNrICYmIHQuc3RhY2subGVuZ3RoKSB7CmQodC5zdGFjaywgZnVuY3Rpb24odCwgZSkgewp2YXIgbyA9IGkuX25vcm1hbGl6ZUZyYW1lKGUpOwpvICYmIG4ucHVzaChvKTsKfSk7CmlmIChlICYmIGUudHJpbUhlYWRGcmFtZXMpIGZvciAodmFyIG8gPSAwOyBvIDwgZS50cmltSGVhZEZyYW1lcyAmJiBvIDwgbi5sZW5ndGg7IG8rKykgbltvXS5pbl9hcHAgPSAhMTsKfQpuID0gbi5zbGljZSgwLCB0aGlzLl9nbG9iYWxPcHRpb25zLnN0YWNrVHJhY2VMaW1pdCk7CnJldHVybiBuOwp9LApfbm9ybWFsaXplRnJhbWU6IGZ1bmN0aW9uKHQpIHsKaWYgKHQudXJsKSB7CnZhciBlID0gewpmaWxlbmFtZTogdC51cmwsCmxpbmVubzogdC5saW5lLApjb2xubzogdC5jb2x1bW4sCmZ1bmN0aW9uOiB0LmZ1bmMgfHwgIj8iCn07CmUuaW5fYXBwID0gISh0aGlzLl9nbG9iYWxPcHRpb25zLmluY2x1ZGVQYXRocy50ZXN0ICYmICF0aGlzLl9nbG9iYWxPcHRpb25zLmluY2x1ZGVQYXRocy50ZXN0KGUuZmlsZW5hbWUpIHx8IC8oUmF2ZW58VHJhY2VLaXQpXC4vLnRlc3QoZS5mdW5jdGlvbikgfHwgL3JhdmVuXC4obWluXC4pP2pzJC8udGVzdChlLmZpbGVuYW1lKSk7CnJldHVybiBlOwp9Cn0sCl9wcm9jZXNzRXhjZXB0aW9uOiBmdW5jdGlvbih0LCBlLCBpLCBuLCBvLCByKSB7CnZhciBhOwppZiAoIXRoaXMuX2dsb2JhbE9wdGlvbnMuaWdub3JlRXJyb3JzLnRlc3QgfHwgIXRoaXMuX2dsb2JhbE9wdGlvbnMuaWdub3JlRXJyb3JzLnRlc3QoZSkpIHsKZSArPSAiIjsKaWYgKG8gJiYgby5sZW5ndGgpIHsKaSA9IG9bMF0uZmlsZW5hbWUgfHwgaTsKby5yZXZlcnNlKCk7CmEgPSB7CmZyYW1lczogbwp9Owp9IGVsc2UgaSAmJiAoYSA9IHsKZnJhbWVzOiBbIHsKZmlsZW5hbWU6IGksCmxpbmVubzogbiwKaW5fYXBwOiAhMAp9IF0KfSk7CmlmICgoIXRoaXMuX2dsb2JhbE9wdGlvbnMuaWdub3JlVXJscy50ZXN0IHx8ICF0aGlzLl9nbG9iYWxPcHRpb25zLmlnbm9yZVVybHMudGVzdChpKSkgJiYgKCF0aGlzLl9nbG9iYWxPcHRpb25zLndoaXRlbGlzdFVybHMudGVzdCB8fCB0aGlzLl9nbG9iYWxPcHRpb25zLndoaXRlbGlzdFVybHMudGVzdChpKSkpIHsKdmFyIHMgPSB1KHsKZXhjZXB0aW9uOiB7CnZhbHVlczogWyB7CnR5cGU6IHQsCnZhbHVlOiBlLApzdGFja3RyYWNlOiBhCn0gXQp9LApjdWxwcml0OiBpCn0sIHIpOwp0aGlzLl9zZW5kKHMpOwp9Cn0KfSwKX3RyaW1QYWNrZXQ6IGZ1bmN0aW9uKHQpIHsKdmFyIGUgPSB0aGlzLl9nbG9iYWxPcHRpb25zLm1heE1lc3NhZ2VMZW5ndGg7CnQubWVzc2FnZSAmJiAodC5tZXNzYWdlID0gaCh0Lm1lc3NhZ2UsIGUpKTsKaWYgKHQuZXhjZXB0aW9uKSB7CnZhciBpID0gdC5leGNlcHRpb24udmFsdWVzWzBdOwppLnZhbHVlID0gaChpLnZhbHVlLCBlKTsKfQp2YXIgbiA9IHQucmVxdWVzdDsKaWYgKG4pIHsKbi51cmwgJiYgKG4udXJsID0gaChuLnVybCwgdGhpcy5fZ2xvYmFsT3B0aW9ucy5tYXhVcmxMZW5ndGgpKTsKbi5SZWZlcmVyICYmIChuLlJlZmVyZXIgPSBoKG4uUmVmZXJlciwgdGhpcy5fZ2xvYmFsT3B0aW9ucy5tYXhVcmxMZW5ndGgpKTsKfQp0LmJyZWFkY3J1bWJzICYmIHQuYnJlYWRjcnVtYnMudmFsdWVzICYmIHRoaXMuX3RyaW1CcmVhZGNydW1icyh0LmJyZWFkY3J1bWJzKTsKcmV0dXJuIHQ7Cn0sCl90cmltQnJlYWRjcnVtYnM6IGZ1bmN0aW9uKHQpIHsKZm9yICh2YXIgZSwgaSwgbiwgbyA9IFsgInRvIiwgImZyb20iLCAidXJsIiBdLCByID0gMDsgciA8IHQudmFsdWVzLmxlbmd0aDsgKytyKSB7CmkgPSB0LnZhbHVlc1tyXTsKaWYgKGkuaGFzT3duUHJvcGVydHkoImRhdGEiKSAmJiBUKGkuZGF0YSkgJiYgIWMoaS5kYXRhKSkgewpuID0gdSh7fSwgaS5kYXRhKTsKZm9yICh2YXIgYSA9IDA7IGEgPCBvLmxlbmd0aDsgKythKSB7CmUgPSBvW2FdOwpuLmhhc093blByb3BlcnR5KGUpICYmIChuW2VdID0gaChuW2VdLCB0aGlzLl9nbG9iYWxPcHRpb25zLm1heFVybExlbmd0aCkpOwp9CnQudmFsdWVzW3JdLmRhdGEgPSBuOwp9Cn0KfSwKX2dldEh0dHBEYXRhOiBmdW5jdGlvbigpIHsKaWYgKHRoaXMuX2hhc05hdmlnYXRvciB8fCB0aGlzLl9oYXNEb2N1bWVudCkgewp2YXIgdCA9IHt9Owp0aGlzLl9oYXNOYXZpZ2F0b3IgJiYgTC51c2VyQWdlbnQgJiYgKHQuaGVhZGVycyA9IHsKIlVzZXItQWdlbnQiOiBuYXZpZ2F0b3IudXNlckFnZW50Cn0pOwppZiAodGhpcy5faGFzRG9jdW1lbnQpIHsKTy5sb2NhdGlvbiAmJiBPLmxvY2F0aW9uLmhyZWYgJiYgKHQudXJsID0gTy5sb2NhdGlvbi5ocmVmKTsKaWYgKE8ucmVmZXJyZXIpIHsKdC5oZWFkZXJzIHx8ICh0LmhlYWRlcnMgPSB7fSk7CnQuaGVhZGVycy5SZWZlcmVyID0gTy5yZWZlcnJlcjsKfQp9CnJldHVybiB0Owp9Cn0sCl9yZXNldEJhY2tvZmY6IGZ1bmN0aW9uKCkgewp0aGlzLl9iYWNrb2ZmRHVyYXRpb24gPSAwOwp0aGlzLl9iYWNrb2ZmU3RhcnQgPSBudWxsOwp9LApfc2hvdWxkQmFja29mZjogZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLl9iYWNrb2ZmRHVyYXRpb24gJiYgbigpIC0gdGhpcy5fYmFja29mZlN0YXJ0IDwgdGhpcy5fYmFja29mZkR1cmF0aW9uOwp9LApfaXNSZXBlYXREYXRhOiBmdW5jdGlvbih0KSB7CnZhciBlID0gdGhpcy5fbGFzdERhdGE7CnJldHVybiAhKCFlIHx8IHQubWVzc2FnZSAhPT0gZS5tZXNzYWdlIHx8IHQuY3VscHJpdCAhPT0gZS5jdWxwcml0KSAmJiAodC5zdGFja3RyYWNlIHx8IGUuc3RhY2t0cmFjZSA/IHkodC5zdGFja3RyYWNlLCBlLnN0YWNrdHJhY2UpIDogIXQuZXhjZXB0aW9uICYmICFlLmV4Y2VwdGlvbiB8fCB2KHQuZXhjZXB0aW9uLCBlLmV4Y2VwdGlvbikpOwp9LApfc2V0QmFja29mZlN0YXRlOiBmdW5jdGlvbih0KSB7CmlmICghdGhpcy5fc2hvdWxkQmFja29mZigpKSB7CnZhciBlID0gdC5zdGF0dXM7CmlmICg0MDAgPT09IGUgfHwgNDAxID09PSBlIHx8IDQyOSA9PT0gZSkgewp2YXIgaTsKdHJ5IHsKaSA9IHQuZ2V0UmVzcG9uc2VIZWFkZXIoIlJldHJ5LUFmdGVyIik7CmkgPSAxZTMgKiBwYXJzZUludChpLCAxMCk7Cn0gY2F0Y2ggKHQpIHt9CnRoaXMuX2JhY2tvZmZEdXJhdGlvbiA9IGkgfHwgKDIgKiB0aGlzLl9iYWNrb2ZmRHVyYXRpb24gfHwgMWUzKTsKdGhpcy5fYmFja29mZlN0YXJ0ID0gbigpOwp9Cn0KfSwKX3NlbmQ6IGZ1bmN0aW9uKHQpIHsKdmFyIGUgPSB0aGlzLl9nbG9iYWxPcHRpb25zLCBpID0gewpwcm9qZWN0OiB0aGlzLl9nbG9iYWxQcm9qZWN0LApsb2dnZXI6IGUubG9nZ2VyLApwbGF0Zm9ybTogImphdmFzY3JpcHQiCn0sIG8gPSB0aGlzLl9nZXRIdHRwRGF0YSgpOwpvICYmIChpLnJlcXVlc3QgPSBvKTsKdC50cmltSGVhZEZyYW1lcyAmJiBkZWxldGUgdC50cmltSGVhZEZyYW1lczsKdCA9IHUoaSwgdCk7CnQudGFncyA9IHUodSh7fSwgdGhpcy5fZ2xvYmFsQ29udGV4dC50YWdzKSwgdC50YWdzKTsKdC5leHRyYSA9IHUodSh7fSwgdGhpcy5fZ2xvYmFsQ29udGV4dC5leHRyYSksIHQuZXh0cmEpOwp0LmV4dHJhWyJzZXNzaW9uOmR1cmF0aW9uIl0gPSBuKCkgLSB0aGlzLl9zdGFydFRpbWU7CnRoaXMuX2JyZWFkY3J1bWJzICYmIHRoaXMuX2JyZWFkY3J1bWJzLmxlbmd0aCA+IDAgJiYgKHQuYnJlYWRjcnVtYnMgPSB7CnZhbHVlczogW10uc2xpY2UuY2FsbCh0aGlzLl9icmVhZGNydW1icywgMCkKfSk7CmwodC50YWdzKSAmJiBkZWxldGUgdC50YWdzOwp0aGlzLl9nbG9iYWxDb250ZXh0LnVzZXIgJiYgKHQudXNlciA9IHRoaXMuX2dsb2JhbENvbnRleHQudXNlcik7CmUuZW52aXJvbm1lbnQgJiYgKHQuZW52aXJvbm1lbnQgPSBlLmVudmlyb25tZW50KTsKZS5yZWxlYXNlICYmICh0LnJlbGVhc2UgPSBlLnJlbGVhc2UpOwplLnNlcnZlck5hbWUgJiYgKHQuc2VydmVyX25hbWUgPSBlLnNlcnZlck5hbWUpOwpzKGUuZGF0YUNhbGxiYWNrKSAmJiAodCA9IGUuZGF0YUNhbGxiYWNrKHQpIHx8IHQpOwp0ICYmICFsKHQpICYmIChzKGUuc2hvdWxkU2VuZENhbGxiYWNrKSAmJiAhZS5zaG91bGRTZW5kQ2FsbGJhY2sodCkgfHwgKHRoaXMuX3Nob3VsZEJhY2tvZmYoKSA/IHRoaXMuX2xvZ0RlYnVnKCJ3YXJuIiwgIlJhdmVuIGRyb3BwZWQgZXJyb3IgZHVlIHRvIGJhY2tvZmY6ICIsIHQpIDogIm51bWJlciIgPT0gdHlwZW9mIGUuc2FtcGxlUmF0ZSA/IE1hdGgucmFuZG9tKCkgPCBlLnNhbXBsZVJhdGUgJiYgdGhpcy5fc2VuZFByb2Nlc3NlZFBheWxvYWQodCkgOiB0aGlzLl9zZW5kUHJvY2Vzc2VkUGF5bG9hZCh0KSkpOwp9LApfZ2V0VXVpZDogZnVuY3Rpb24oKSB7CnJldHVybiAkKCk7Cn0sCl9zZW5kUHJvY2Vzc2VkUGF5bG9hZDogZnVuY3Rpb24odCwgZSkgewp2YXIgaSA9IHRoaXMsIG4gPSB0aGlzLl9nbG9iYWxPcHRpb25zOwppZiAodGhpcy5pc1NldHVwKCkpIHsKdGhpcy5fbGFzdEV2ZW50SWQgPSB0LmV2ZW50X2lkIHx8ICh0LmV2ZW50X2lkID0gdGhpcy5fZ2V0VXVpZCgpKTsKdCA9IHRoaXMuX3RyaW1QYWNrZXQodCk7CmlmICh0aGlzLl9nbG9iYWxPcHRpb25zLmFsbG93RHVwbGljYXRlcyB8fCAhdGhpcy5faXNSZXBlYXREYXRhKHQpKSB7CnRoaXMuX2xhc3REYXRhID0gdDsKdGhpcy5fbG9nRGVidWcoImRlYnVnIiwgIlJhdmVuIGFib3V0IHRvIHNlbmQ6IiwgdCk7CnZhciBvID0gewpzZW50cnlfdmVyc2lvbjogIjciLApzZW50cnlfY2xpZW50OiAicmF2ZW4tanMvIiArIHRoaXMuVkVSU0lPTiwKc2VudHJ5X2tleTogdGhpcy5fZ2xvYmFsS2V5Cn07CnRoaXMuX2dsb2JhbFNlY3JldCAmJiAoby5zZW50cnlfc2VjcmV0ID0gdGhpcy5fZ2xvYmFsU2VjcmV0KTsKdmFyIHIgPSB0LmV4Y2VwdGlvbiAmJiB0LmV4Y2VwdGlvbi52YWx1ZXNbMF07CnRoaXMuY2FwdHVyZUJyZWFkY3J1bWIoewpjYXRlZ29yeTogInNlbnRyeSIsCm1lc3NhZ2U6IHIgPyAoci50eXBlID8gci50eXBlICsgIjogIiA6ICIiKSArIHIudmFsdWUgOiB0Lm1lc3NhZ2UsCmV2ZW50X2lkOiB0LmV2ZW50X2lkLApsZXZlbDogdC5sZXZlbCB8fCAiZXJyb3IiCn0pOwp2YXIgYSA9IHRoaXMuX2dsb2JhbEVuZHBvaW50Owoobi50cmFuc3BvcnQgfHwgdGhpcy5fbWFrZVJlcXVlc3QpLmNhbGwodGhpcywgewp1cmw6IGEsCmF1dGg6IG8sCmRhdGE6IHQsCm9wdGlvbnM6IG4sCm9uU3VjY2VzczogZnVuY3Rpb24oKSB7CmkuX3Jlc2V0QmFja29mZigpOwppLl90cmlnZ2VyRXZlbnQoInN1Y2Nlc3MiLCB7CmRhdGE6IHQsCnNyYzogYQp9KTsKZSAmJiBlKCk7Cn0sCm9uRXJyb3I6IGZ1bmN0aW9uKG4pIHsKaS5fbG9nRGVidWcoImVycm9yIiwgIlJhdmVuIHRyYW5zcG9ydCBmYWlsZWQgdG8gc2VuZDogIiwgbik7Cm4ucmVxdWVzdCAmJiBpLl9zZXRCYWNrb2ZmU3RhdGUobi5yZXF1ZXN0KTsKaS5fdHJpZ2dlckV2ZW50KCJmYWlsdXJlIiwgewpkYXRhOiB0LApzcmM6IGEKfSk7Cm4gPSBuIHx8IG5ldyBFcnJvcigiUmF2ZW4gc2VuZCBmYWlsZWQgKG5vIGFkZGl0aW9uYWwgZGV0YWlscyBwcm92aWRlZCkiKTsKZSAmJiBlKG4pOwp9Cn0pOwp9IGVsc2UgdGhpcy5fbG9nRGVidWcoIndhcm4iLCAiUmF2ZW4gZHJvcHBlZCByZXBlYXQgZXZlbnQ6ICIsIHQpOwp9Cn0sCl9tYWtlUmVxdWVzdDogZnVuY3Rpb24odCkgewp2YXIgZSA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwppZiAoIndpdGhDcmVkZW50aWFscyIgaW4gZSB8fCAidW5kZWZpbmVkIiAhPSB0eXBlb2YgWERvbWFpblJlcXVlc3QpIHsKdmFyIGkgPSB0LnVybDsKaWYgKCJ3aXRoQ3JlZGVudGlhbHMiIGluIGUpIGUub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7CmlmICg0ID09PSBlLnJlYWR5U3RhdGUpIGlmICgyMDAgPT09IGUuc3RhdHVzKSB0Lm9uU3VjY2VzcyAmJiB0Lm9uU3VjY2VzcygpOyBlbHNlIGlmICh0Lm9uRXJyb3IpIHsKdmFyIGkgPSBuZXcgRXJyb3IoIlNlbnRyeSBlcnJvciBjb2RlOiAiICsgZS5zdGF0dXMpOwppLnJlcXVlc3QgPSBlOwp0Lm9uRXJyb3IoaSk7Cn0KfTsgZWxzZSB7CmUgPSBuZXcgWERvbWFpblJlcXVlc3QoKTsKaSA9IGkucmVwbGFjZSgvXmh0dHBzPzovLCAiIik7CnQub25TdWNjZXNzICYmIChlLm9ubG9hZCA9IHQub25TdWNjZXNzKTsKdC5vbkVycm9yICYmIChlLm9uZXJyb3IgPSBmdW5jdGlvbigpIHsKdmFyIGkgPSBuZXcgRXJyb3IoIlNlbnRyeSBlcnJvciBjb2RlOiBYRG9tYWluUmVxdWVzdCIpOwppLnJlcXVlc3QgPSBlOwp0Lm9uRXJyb3IoaSk7Cn0pOwp9CmUub3BlbigiUE9TVCIsIGkgKyAiPyIgKyBwKHQuYXV0aCkpOwplLnNlbmQoUyh0LmRhdGEpKTsKfQp9LApfbG9nRGVidWc6IGZ1bmN0aW9uKHQpIHsKdGhpcy5fb3JpZ2luYWxDb25zb2xlTWV0aG9kc1t0XSAmJiB0aGlzLmRlYnVnICYmIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKHRoaXMuX29yaWdpbmFsQ29uc29sZU1ldGhvZHNbdF0sIHRoaXMuX29yaWdpbmFsQ29uc29sZSwgW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTsKfSwKX21lcmdlQ29udGV4dDogZnVuY3Rpb24odCwgZSkgewphKGUpID8gZGVsZXRlIHRoaXMuX2dsb2JhbENvbnRleHRbdF0gOiB0aGlzLl9nbG9iYWxDb250ZXh0W3RdID0gdSh0aGlzLl9nbG9iYWxDb250ZXh0W3RdIHx8IHt9LCBlKTsKfQp9Owp2YXIgVyA9IE9iamVjdC5wcm90b3R5cGU7CiJ1bmRlZmluZWQiICE9IHR5cGVvZiBfX0RFVl9fICYmIF9fREVWX18gJiYgKHIudXRpbHMgPSB7CmlzVW5kZWZpbmVkOiBhLAppc0Z1bmN0aW9uOiBzLAppc1N0cmluZzogXywKaXNPYmplY3Q6IFQsCmlzRW1wdHlPYmplY3Q6IGwsCmlzRXJyb3I6IEksCmVhY2g6IGQsCm9iamVjdE1lcmdlOiB1LAp0cnVuY2F0ZTogaCwKaGFzS2V5OiBmLApqb2luUmVnRXhwOiBnLAp1cmxlbmNvZGU6IHAsCnV1aWQ0OiAkLApodG1sVHJlZUFzU3RyaW5nOiBiLApodG1sRWxlbWVudEFzU3RyaW5nOiB3LApwYXJzZVVybDogbSwKZmlsbDogagp9KTsKci5wcm90b3R5cGUuc2V0VXNlciA9IHIucHJvdG90eXBlLnNldFVzZXJDb250ZXh0OwpyLnByb3RvdHlwZS5zZXRSZWxlYXNlQ29udGV4dCA9IHIucHJvdG90eXBlLnNldFJlbGVhc2U7CnQuZXhwb3J0cyA9IHI7Cn0pLmNhbGwodGhpcywgaSg5OSkpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CiJ1c2Ugc3RyaWN0IjsKKGZ1bmN0aW9uKGUpIHsKdmFyIG4gPSBpKDI1MCksIG8gPSAidW5kZWZpbmVkIiAhPSB0eXBlb2Ygd2luZG93ID8gd2luZG93IDogdm9pZCAwICE9PSBlID8gZSA6ICJ1bmRlZmluZWQiICE9IHR5cGVvZiBzZWxmID8gc2VsZiA6IHt9LCByID0gby5SYXZlbiwgYSA9IG5ldyBuKCk7CmEubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkgewpvLlJhdmVuID0gcjsKcmV0dXJuIGE7Cn07CmEuYWZ0ZXJMb2FkKCk7CnQuZXhwb3J0cyA9IGE7Cn0pLmNhbGwodGhpcywgaSg5OSkpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4odCwgZSwgaSkgewpfKGUpICYmIChpID0gZSwgZSA9IG51bGwpOwplIHx8IChlID0ge30pOwpkKCJQT1NUIiwgdCwgZSwgaSk7Cn0KZnVuY3Rpb24gbyh0LCBlLCBpKSB7Cl8oZSkgJiYgKGkgPSBlLCBlID0gbnVsbCk7CmUgfHwgKGUgPSB7fSk7CmQoIkdFVCIsIHQsIGUsIGkpOwp9CmZ1bmN0aW9uIHIodCwgZSwgaSwgbikgewp2YXIgbywgciwgYSwgcyA9ICJmb3JtIiArIH5+KDFlNSAqIE1hdGgucmFuZG9tKCkpLCBfID0gaS50aW1lb3V0IHx8IDFlNCwgZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImZvcm0iKSwgdSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpOwpkLm1ldGhvZCA9IHQ7CmQuYWN0aW9uID0gZTsKdS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwppZiAoaS5wYXJhbXMpIGZvciAociBpbiBpLnBhcmFtcykgaWYgKGkucGFyYW1zLmhhc093blByb3BlcnR5KHIpKSB7CmEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwphLm5hbWUgPSByOwphLnZhbHVlID0gaS5wYXJhbXNbcl07CmQuYXBwZW5kQ2hpbGQoYSk7Cn0KZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkKTsKZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh1KTsKZC50YXJnZXQgPSB1LmNvbnRlbnRXaW5kb3cubmFtZSA9IHM7CmwoZnVuY3Rpb24oKSB7CmQuc3VibWl0KCk7CmRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZCk7CmEgPSBkID0gbnVsbDsKdS5vbmxvYWQgPSBmdW5jdGlvbigpIHsKdS5vbmxvYWQgPSBudWxsOwp1LmNvbnRlbnRXaW5kb3cubG9jYXRpb24uaHJlZiA9ICJhYm91dDpibGFuayI7CnUub25sb2FkID0gZnVuY3Rpb24oKSB7CnUub25sb2FkID0gbnVsbDsKY2xlYXJUaW1lb3V0KG8pOwpuICYmIG4obnVsbCwgdS5jb250ZW50V2luZG93Lm5hbWUpOwpkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHUpOwp1ID0gbnVsbDsKfTsKfTsKfSk7Cm8gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewpuICYmIG4oInRpbWVvdXQiKTsKZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh1KTsKdSA9IG51bGw7Cn0sIF8pOwp9CmZ1bmN0aW9uIGEodCwgZSwgaSwgbikgewpmdW5jdGlvbiBvKCkgewppZiAoaC5jb250ZW50V2luZG93LmZyYW1lcy5sZW5ndGgpIHsKaC5jb250ZW50V2luZG93LmxvY2F0aW9uLmhyZWYgPSAiYWJvdXQ6YmxhbmsiOwpjbGVhclRpbWVvdXQoYSk7CnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7Cm4gJiYgbihudWxsLCBoLmNvbnRlbnRXaW5kb3cubmFtZSk7CnIuYm9keS5yZW1vdmVDaGlsZChoKTsKciA9IGggPSBudWxsOwp9LCAwKTsKfSBlbHNlIHMgPSBzZXRUaW1lb3V0KG8sIDEwMCk7Cn0KdmFyIHIgPSBkb2N1bWVudDsKaWYgKHdpbmRvdy5BY3RpdmVYT2JqZWN0KSB0cnkgewpyID0gbmV3IHdpbmRvdy5BY3RpdmVYT2JqZWN0KCJodG1sZmlsZSIpOwpyLm9wZW4oKSwgci5jbG9zZSgpOwp9IGNhdGNoICh0KSB7fQp2YXIgYSwgcywgXywgbCwgZCA9ICJmb3JtIiArIH5+KDFlNSAqIE1hdGgucmFuZG9tKCkpLCB1ID0gaS50aW1lb3V0IHx8IDFlNCwgYyA9IHIuY3JlYXRlRWxlbWVudCgnPGZvcm0gdGFyZ2V0PSInICsgZCArICciLz4nKSwgaCA9IHIuY3JlYXRlRWxlbWVudCgnPGlmcmFtZSBuYW1lPSInICsgZCArICciLz4nKTsKYy5tZXRob2QgPSB0OwpjLmFjdGlvbiA9IGU7Cmguc3R5bGUuZGlzcGxheSA9ICJub25lIjsKaWYgKGkucGFyYW1zKSBmb3IgKF8gaW4gaS5wYXJhbXMpIGlmIChpLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eShfKSkgewpsID0gci5jcmVhdGVFbGVtZW50KCc8aW5wdXQgbmFtZT0iJyArIF8gKyAnIi8+Jyk7CmwudmFsdWUgPSBpLnBhcmFtc1tfXTsKYy5hcHBlbmRDaGlsZChsKTsKfQpyLmJvZHkuYXBwZW5kQ2hpbGQoYyk7CnIuYm9keS5hcHBlbmRDaGlsZChoKTsKYy5zdWJtaXQoKTsKci5ib2R5LnJlbW92ZUNoaWxkKGMpOwpsID0gYyA9IG51bGw7CnMgPSBzZXRUaW1lb3V0KG8sIDEwMCk7CmEgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewpuICYmIG4oInRpbWVvdXQiKTsKY2xlYXJUaW1lb3V0KHMpOwpyLmJvZHkucmVtb3ZlQ2hpbGQoaCk7CnIgPSBoID0gbnVsbDsKfSwgdSk7Cn0KdmFyIHMgPSBpKDgpLCBfID0gaSgyMCksIGwgPSBpKDE2KSwgZCA9IHMuaXNJRTYgfHwgcy5pc0lFNyB8fCBzLmlzSUU4ID8gYSA6IHI7CmQuZ2V0ID0gbzsKZC5wb3N0ID0gbjsKdC5leHBvcnRzID0gZDsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNDYpLCBvID0gaSg4KSwgciA9IHsKaW5mbzogewpnaXRDb21taXQ6IG4uZ2l0X2NvbW1pdCwKYnVpbGROdW1iZXI6IG4uYnVpbGRfbnVtYmVyLApyZWxlYXNlVGFnOiBuLnJlbGVhc2VfdGFnLAp1c2VyQWdlbnQ6IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LApwbGF0Zm9ybTogd2luZG93Lm5hdmlnYXRvci5wbGF0Zm9ybSwKbGFuZ3VhZ2U6IG8ubGFuZ3VhZ2UsCmJyb3dzZXI6IG8uYnJvd3NlciwKdmVyc2lvbjogby52ZXJzaW9uLApqYXZhVmVyc2lvbjogby5oYXNKYXZhLApmbGFzaFZlcnNpb246IG8uaGFzRmxhc2gsCnVybDogd2luZG93LmxvY2F0aW9uLnRvU3RyaW5nKCkKfQp9Owp0LmV4cG9ydHMgPSByOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4odCwgZSwgaSwgbywgcikgewppZiAoISh0aGlzIGluc3RhbmNlb2YgbikpIHJldHVybiBuZXcgbih0LCBlLCBpLCBvLCByKTsKciB8fCAociA9IHt9KTsKci50YWdOYW1lID0gInNjcmlwdCI7CmEuY2FsbCh0aGlzLCB0LCBlLCBpLCBvLCByKTsKfQp2YXIgbyA9IGkoMSksIHIgPSBpKDApLCBhID0gaSgyMyk7Cm4ucHJvdG90eXBlID0gcihhLnByb3RvdHlwZSk7Cm8obiwgYSwgewpmcW5hbWU6ICJqeF91aV9odG1sX3NjcmlwdCIKfSk7CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpLCBvLCByKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiBuKSkgcmV0dXJuIG5ldyBuKHQsIGUsIGksIG8sIHIpOwp2YXIgcyA9IHQub3duZXJEb2N1bWVudDsKciB8fCAociA9IHt9KTsKci50YWdOYW1lIHx8IChyLnRhZ05hbWUgPSAibGluayIpOwphLmNhbGwodGhpcywgcy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLCBlLCBpLCBudWxsLCByKTsKdGhpcy5kb20ucmVsID0gInN0eWxlc2hlZXQiOwp0aGlzLmRvbS50eXBlID0gInRleHQvY3NzIjsKfQp2YXIgbyA9IGkoMSksIHIgPSBpKDApLCBhID0gaSg3KTsKbi5wcm90b3R5cGUgPSByKGEucHJvdG90eXBlKTsKbyhuLCBhLCB7CmZxbmFtZTogImp4X3VpX0V4dGVybmFsU3R5bGVTaGVldCIKfSk7CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpLCBvLCByKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiBuKSkgcmV0dXJuIG5ldyBuKHQsIGUsIGksIG8sIHIpOwpfLmNhbGwodGhpcywgdCwgZSwgaSwgbywgcik7Cn0KdmFyIG8gPSBpKDEpLCByID0gaSgwKSwgYSA9IGkoOCksIHMgPSBpKDE2KSwgXyA9IGkoMTg0KSwgbCA9IGkoMTgpLCBkID0gWyAid29mZiIsICJ0dGYiLCAic3ZnIiBdLCB1ID0gWyAic3ZnIiwgIndvZmYiLCAidHRmIiBdLCBjID0gewp3b2ZmOiAidXJsKEBAREFUQUBAKWZvcm1hdCgnd29mZicpIiwKdHRmOiAidXJsKEBAREFUQUBAKWZvcm1hdCgndHJ1ZXR5cGUnKSIsCnN2ZzogInVybChAQERBVEFAQClmb3JtYXQoJ3N2ZycpIgp9LCBoID0gewp3b2ZmOiAiYXBwbGljYXRpb24vZm9udC13b2ZmIiwKdHRmOiAiZm9udC90dGYiLApzdmc6ICJmb250L3N2ZyIKfSwgZiA9ICJAZm9udC1mYWNle2ZvbnQtZmFtaWx5OidAQE5BTUVAQCc7c3JjOkBARk9STUFUU0BAO2ZvbnQtd2VpZ2h0Om5vcm1hbDtmb250LXN0eWxlOm5vcm1hbDt9IjsKbi5wcm90b3R5cGUgPSByKF8ucHJvdG90eXBlKTsKbyhuLCBfLCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19Gb250TG9hZGVyIgp9KTsKbi5wcm90b3R5cGUuc2V0Rm9udCA9IGZ1bmN0aW9uKHQpIHsKdmFyIGUsIGksIG4sIG8gPSBbXSwgciA9IGQsIF8gPSB0aGlzLmdldEJhc2U2NCgpOwooYS5pc0lFIDw9IDggfHwgYS5pc1F1aXJrcyB8fCB3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRNb2RlICYmIHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudE1vZGUgPD0gOCkgJiYgKF8gPSB7fSk7CmEuaXNDaHJvbWUgJiYgYS5pc1dpbmRvd3MgJiYgKHIgPSB1KTsKZm9yICh2YXIgZyA9IDAsIHAgPSByLmxlbmd0aDsgZyA8IHA7IGcrKykgewpuID0gcltnXTsKaSA9IGNbbl07CnRyeSB7Cm8ucHVzaChpLnJlcGxhY2UoL0BAREFUQUBAL2csIF9bbl0gPyAiZGF0YTpAQE1JTUVAQDtiYXNlNjQsQEBCNjREQVRBQEAgIiA6ICInQEBGT05UU19VUkxAQC9AQE5BTUVAQC5AQEZPUk1BVEBAJyIpLnJlcGxhY2UoL0BARk9OVFNfVVJMQEAvZywgbC5GT05UU19VUkwpLnJlcGxhY2UoL0BARk9STUFUQEAvZywgbikucmVwbGFjZSgvQEBNSU1FQEAvZywgaFtuXSkucmVwbGFjZSgvQEBCNjREQVRBQEAvZywgX1tuXSkpOwp9IGNhdGNoICh0KSB7fQp9CmUgPSBmLnJlcGxhY2UoL0BARk9STUFUU0BAL2csIG8uam9pbigiLCIpKS5yZXBsYWNlKC9AQE5BTUVAQC9nLCB0KTsKdmFyIG0gPSB0aGlzOwpzKGZ1bmN0aW9uKCkgewptLmRvbSAmJiBtLmFkZENoaWxkcmVuKFsgZSBdKTsKfSk7CnJldHVybiB0aGlzOwp9OwpuLnByb3RvdHlwZS5nZXRCYXNlNjQgPSBmdW5jdGlvbigpIHsKcmV0dXJuIHRoaXMuYmFzZTY0IHx8IHt9Owp9OwpuLnByb3RvdHlwZS5zZXRCYXNlNjQgPSBmdW5jdGlvbih0KSB7CnRoaXMuYmFzZTY0ID0gdDsKfTsKdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSBpKDIpLCBfID0gaSg0KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfTWVudSA9IGkoNjcpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19tZW51X1NlY3Rpb24gPSBpKDQ4KTsKbi5fXyQkX19qeF91aV9Mb2NhbGl6ZXIgPSBpKDg3KTsKbi5fXyQkX19qeF91aV9MYWJlbCA9IGkoMTkpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBsLCBkKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIGwsIGQpOwpvID0gbyB8fCBfLmdlbmVyYXRlSUQoKTsKdmFyIHUgPSBzKDEyMyksIGMgPSBzKDEyNCksIGggPSBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX01lbnUsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX21lbnVfU2VjdGlvbiwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9Mb2NhbGl6ZXIsICJsb2NhbGl6ZXIiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfTGFiZWwsICIiLCAiIiwgW10sIHsKYWRkQ2xhc3M6ICJlbWFpbCIKfSBdIF0sIHsKaWQ6ICJsb2NhbGl6ZXIiLApkZWxpbWl0ZXI6ICJAQEBAIgp9IF0gXSwgewphZGRDbGFzczogImZsb3ciCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIsCiJ4bWxuczptZW51IjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cy5tZW51Igp9IF0sIGYgPSBoWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgXy5tYW5nbGVJRHMobywgaFszXSksIGhbNF0pLCBnID0gZiB8fCB0aGlzOwpfLnNldChvLCBnKTsKdmFyIHAgPSBfLmdldChvICsgIl9fbG9jYWxpemVyIik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBtID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoKSB7CiJlbWFpbF90cmFuc2NyaXB0X25vdGlmaWNhdGlvbiIgPT0gXyAmJiBmLnVwZGF0ZSgiIik7Cn0KdmFyIGUgPSBpKDgpLCBuID0gaSgxNiksIG8gPSBpKDYpLCByID0gaSgxMSksIGEgPSA0MTAwLCBzID0gci5pc1N0eWxlU3VwcG9ydGVkKCJ0cmFuc2l0aW9uIik7CmUuaXNGRiAmJiAocyA9ICExKTsKdmFyIF8sIGwsIGQgPSBvLnJvb3QuJCgibGl2ZWNoYXQiKSwgaCA9IGQuJCgidWkiKS4kKCJjaGF0X3dpbmRvdyIpLCBmID0gaC4kKCJtZW51X3N0YWNrX25hbWUkc3RyaW5nIiksIG0gPSBoLiQoImVtYWlsX3RyYW5zY3JpcHRfbm90aWZpY2F0aW9uIikuJCgibGFzdF9zZW50X2VtYWlsJHN0cmluZyIpLCAkID0gZC4kKCJjaGFubmVsIikuJCgiY2hhdHRpbmckYm9vbCIpOwohZnVuY3Rpb24oKSB7CmcuYXV0b2JpbmQoZiwgInZhbHVlIiwgZnVuY3Rpb24oZSkgewpfID0gZTsKbCAmJiB3aW5kb3cuY2xlYXJUaW1lb3V0KGwpOwppZiAoZSA9PSBnLmdldE5hbWUoKSkgewpzICYmIG4oZnVuY3Rpb24oKSB7CmcuYWRkQ2xhc3MoImZhZGVfb3V0Iik7Cn0pOwpsID0gd2luZG93LnNldFRpbWVvdXQodCwgYSk7Cn0gZWxzZSBzICYmIG4oZnVuY3Rpb24oKSB7CmcucmVtb3ZlQ2xhc3MoImZhZGVfb3V0Iik7Cn0pOwp9KTsKZy5hdXRvYmluZChtLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CnZhciBlID0gJC5nZXRWYWx1ZSgpOwpwLnNldENvbnRlbnQoKGUgPyB1IDogYykucmVwbGFjZSgiPGVtYWlsPiIsIHQpKTsKfSk7CnIub25UcmFuc2l0aW9uRW5kKGcsIGcsIHQpOwp9KCk7Cn0oKTsKZm9yICh2YXIgJCBpbiBtKSBnWyRdID0gbVskXTsKZy5maXJlICYmIGcuZmlyZSgiaW5pdCIpOwpnLnNldFN0eWxlICYmIGcuc2V0U3R5bGUocik7Cmcuc2V0QXR0cmlidXRlcyAmJiBnLnNldEF0dHJpYnV0ZXMoZCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGcuYWRkQ2hpbGRyZW4gPyBnLmFkZENoaWxkcmVuKGwpIDogXy5hZGRDaGlsZHJlbihnLCBsKTsKaWYgKGcgIT09IHRoaXMpIHsKZy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmcuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGc7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX01lbnUucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIioqc2VsZiI6IHsKdHJhbnNpdGlvbjogIm9wYWNpdHkgMC41cyBsaW5lYXIgMy41cyIsCm9wYWNpdHk6IDEsCiImLmZhZGVfb3V0IjogewpvcGFjaXR5OiAwCn0KfSwKIi5lbWFpbCI6IHsKZm9udFdlaWdodDogImJvbGQiCn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX01lbnUsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfRW1haWxUcmFuc2NyaXB0Tm90aWZpY2F0aW9uIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSBpKDIpLCBfID0gaSg0KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfTWVudSA9IGkoNjcpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19tZW51X1NlY3Rpb24gPSBpKDQ4KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQ29ubkF3YXJlRm9ybSA9IGkoMTEwKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfbWVudV9IZWFkZXIgPSBpKDEwMCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0VtYWlsRmllbGQgPSBpKDc5KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfRXJyb3JNZXNzYWdlID0gaSg4MCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NvbnRyb2xzID0gaSg0OSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0Nvbm5Bd2FyZVN1Ym1pdCA9IGkoNzcpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19CdXR0b24gPSBpKDE3KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgbCwgZCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBsLCBkKTsKbyA9IG8gfHwgXy5nZW5lcmF0ZUlEKCk7CnZhciB1ID0gcygxMTgpLCBjID0gcygxMTkpLCBoID0gcygxMjApLCBmID0gcygxMjEpLCBnID0gcygxMjIpLCBwID0gWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19NZW51LCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19tZW51X1NlY3Rpb24sICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0Nvbm5Bd2FyZUZvcm0sICJmb3JtIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19tZW51X0hlYWRlciwgImxhYmVsIiwgIiIsIFsgdSBdLCB7CmlkOiAibGFiZWwiLAphZGRDbGFzczogImxhYmVsIiwKc2VsZWN0YWJsZTogImZhbHNlIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfRW1haWxGaWVsZCwgImVtYWlsIiwgIiIsIFtdLCB7CmlkOiAiZW1haWwiLAphZGRDbGFzczogImVtYWlsIG1vYmlsZV9lcnJvcl9pY29uIiwKcGxhY2Vob2xkZXI6IGMsCnJlcXVpcmVkOiAidHJ1ZSIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0Vycm9yTWVzc2FnZSwgImVycm9yX21lc3NhZ2UiLCAiIiwgWyBoIF0sIHsKaWQ6ICJlcnJvcl9tZXNzYWdlIiwKdXNlRGlzcGxheTogInRydWUiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Db250cm9scywgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQ29ubkF3YXJlU3VibWl0LCAiIiwgIiIsIFtdLCB7CnBsYWNlbWVudDogInByaW1hcnkiLAp2YWx1ZTogZiwKYWRkQ2xhc3M6ICJzaG9ydCB3aWRlIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQnV0dG9uLCAiY2FuY2VsIiwgIiIsIFsgZyBdLCB7CnBsYWNlbWVudDogInNlY29uZGFyeSIsCmlkOiAiY2FuY2VsIiwKYWRkQ2xhc3M6ICJzZWNvbmRhcnkgc2hvcnQgd2lkZSIKfSBdIF0sIHsKYWRkQ2xhc3M6ICJjb250cm9sc19tYXJnaW4iCn0gXSBdLCB7CmlkOiAiZm9ybSIsCm5vVmFsaWRhdGU6ICJ0cnVlIgp9IF0gXSwgewphZGRDbGFzczogImZsb3ciCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIsCiJ4bWxuczptZW51IjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cy5tZW51Igp9IF0sIG0gPSBwWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgXy5tYW5nbGVJRHMobywgcFszXSksIHBbNF0pLCAkID0gbSB8fCB0aGlzOwpfLnNldChvLCAkKTsKdmFyIGIgPSBfLmdldChvICsgIl9fZm9ybSIpLCB3ID0gXy5nZXQobyArICJfX2xhYmVsIiksIHggPSBfLmdldChvICsgIl9fZW1haWwiKSwgdiA9IF8uZ2V0KG8gKyAiX19lcnJvcl9tZXNzYWdlIiksIHkgPSBfLmdldChvICsgIl9fY2FuY2VsIik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBqID0gZnVuY3Rpb24oKSB7CnZhciB0ID0gaSg2KSwgZSA9IHQucm9vdC4kKCJsaXZlY2hhdCIpLCBuID0gZS4kKCJ1aSIpLiQoImNoYXRfd2luZG93IiksIG8gPSBlLiQoImNoYW5uZWwiKSwgciA9IG4uJCgibWVudV9zdGFja19uYW1lJHN0cmluZyIpLCBhID0gbi4kKCJlbWFpbF90cmFuc2NyaXB0X25vdGlmaWNhdGlvbiIpLiQoImxhc3Rfc2VudF9lbWFpbCRzdHJpbmciKSwgcyA9IGUuJCgicHJvZmlsZSIpLiQoImVtYWlsJHN0cmluZyIpLCBfID0gby4kKCJjaGF0dGluZyRib29sIiksIGwgPSAkLmRvbS5vd25lckRvY3VtZW50OwohZnVuY3Rpb24oKSB7Cnguc2V0TGFiZWxFbGVtZW50KHcpLnNldEVycm9yTWVzc2FnZUVsZW1lbnQodikuc2V0VmFsaWRpdHkoITApOwpiLm9uQ29ubmVjdGVkQW5kU3VibWl0KGZ1bmN0aW9uKHQpIHsKdC5wcmV2ZW50RGVmYXVsdCgpOwppZiAoeC52YWxpZGF0ZSghMCkpIHsKdmFyIGUgPSB4LmdldFZhbHVlKCk7Cl8uZ2V0VmFsdWUoKSA/IG8ud3JpdGUoewplbWFpbF90cmFuc2NyaXB0JHN0cmluZzogZQp9KSA6IG8ud3JpdGUoewplbWFpbF9sYXN0X3RyYW5zY3JpcHQkc3RyaW5nOiBlCn0pOwphLnVwZGF0ZShlKTsKci51cGRhdGUoImVtYWlsX3RyYW5zY3JpcHRfbm90aWZpY2F0aW9uIik7CngucmVzZXQoKTsKfQp9KTsKeS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKci51cGRhdGUoIiIpOwp9KTsKJC5hdXRvYmluZChyLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CmlmICh0ID09ICQuZ2V0TmFtZSgpKSB7Cnguc2V0VmFsaWRpdHkoITApOwp4LmZvY3VzKCk7Cn0KfSk7CiQuYXV0b2JpbmQocywgInZhbHVlIiwgZnVuY3Rpb24odCkgewpsLmFjdGl2ZUVsZW1lbnQgIT09IHguZG9tICYmIHguc2V0VmFsdWUodCB8fCAiIik7Cn0pOwp9KCk7Cn0oKTsKZm9yICh2YXIgQyBpbiBqKSAkW0NdID0galtDXTsKJC5maXJlICYmICQuZmlyZSgiaW5pdCIpOwokLnNldFN0eWxlICYmICQuc2V0U3R5bGUocik7CiQuc2V0QXR0cmlidXRlcyAmJiAkLnNldEF0dHJpYnV0ZXMoZCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mICQuYWRkQ2hpbGRyZW4gPyAkLmFkZENoaWxkcmVuKGwpIDogXy5hZGRDaGlsZHJlbigkLCBsKTsKaWYgKCQgIT09IHRoaXMpIHsKJC5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CiQuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuICQ7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX01lbnUucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIi5jb250cm9sc19tYXJnaW4iOiB7Cm1hcmdpblRvcDogIjEwcHgiCn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX01lbnUsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfRW1haWxUcmFuc2NyaXB0TWVudSIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gaSgyKSwgXyA9IGkoNCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX01lbnUgPSBpKDY3KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfbWVudV9TZWN0aW9uID0gaSg0OCk7Cm4uX18kJF9fanhfdWlfV2lkZ2V0ID0gaSg3KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQ29udHJvbHMgPSBpKDQ5KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQnV0dG9uID0gaSgxNyk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIGwsIGQpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgbCwgZCk7Cm8gPSBvIHx8IF8uZ2VuZXJhdGVJRCgpOwp2YXIgdSA9IHMoMTE2KSwgYyA9IHMoMTE3KSwgaCA9IFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfTWVudSwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfbWVudV9TZWN0aW9uLCAiIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIm1lc3NhZ2UiLCAiIiwgW10sIHsKaWQ6ICJtZXNzYWdlIiwKYWRkQ2xhc3M6ICJtZXNzYWdlIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQ29udHJvbHMsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0J1dHRvbiwgImVuZF9jaGF0IiwgIiIsIFsgdSBdLCB7CnBsYWNlbWVudDogInByaW1hcnkiLAppZDogImVuZF9jaGF0IiwKYWRkQ2xhc3M6ICJ3aWRlIHNob3J0Igp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQnV0dG9uLCAiY2FuY2VsIiwgIiIsIFsgYyBdLCB7CnBsYWNlbWVudDogInNlY29uZGFyeSIsCmlkOiAiY2FuY2VsIiwKYWRkQ2xhc3M6ICJ3aWRlIHNlY29uZGFyeSBzaG9ydCIKfSBdIF0sIHt9IF0gXSwgewphZGRDbGFzczogImZsb3ciCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIsCiJ4bWxuczptZW51IjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cy5tZW51Igp9IF0sIGYgPSBoWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgXy5tYW5nbGVJRHMobywgaFszXSksIGhbNF0pLCBnID0gZiB8fCB0aGlzOwpfLnNldChvLCBnKTsKdmFyIHAgPSBfLmdldChvICsgIl9fbWVzc2FnZSIpLCBtID0gXy5nZXQobyArICJfX2VuZF9jaGF0IiksICQgPSBfLmdldChvICsgIl9fY2FuY2VsIik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBiID0gZnVuY3Rpb24oKSB7CnZhciB0ID0gaSg2KSwgZSA9IGkoMTApLCBuID0gdC5yb290LiQoImxpdmVjaGF0IiksIG8gPSBuLiQoInVpIikuJCgiY2hhdF93aW5kb3ciKS4kKCJtZW51X3N0YWNrX25hbWUkc3RyaW5nIiksIHIgPSBuLiQoInVpIikuJCgiY2hhdF93aW5kb3ciKS4kKCJtYWluX3N0YWNrX25hbWUkc3RyaW5nIiksIGEgPSBuLiQoInNldHRpbmdzIikuJCgiZW5kX2NoYXRfbWVudSIpLiQoIm1lc3NhZ2Ukc3RyaW5nIiksIHMgPSBuLiQoInNldHRpbmdzIikuJCgicmF0aW5nIikuJCgiZW5hYmxlZCRib29sIiksIF8gPSBuLiQoImNoYW5uZWwiKSwgbCA9IF8uJCgic2VydmVkJGJvb2wiKSwgZCA9IF8uJCgicmF0aW5nJHN0cmluZyIpLCB1ID0gbi4kKCJ1aSIpLiQoImNoYXRfd2luZG93IikuJCgicmF0aW5nX3BhbmVsIikuJCgiZW5kX2NoYXQkYm9vbCIpOwohZnVuY3Rpb24oKSB7CmcuYXV0b2JpbmQoYSwgInZhbHVlIiwgZnVuY3Rpb24odCkgewpwLnNldFRleHQodCB8fCBlLmVuZF9jaGF0X21lbnVfbWVzc2FnZSB8fCAiIik7Cn0pOwptLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewppZiAocy5nZXRWYWx1ZSgpICYmIGwuZ2V0VmFsdWUoKSAmJiAhZC5nZXRWYWx1ZSgpKSB7CnUudXBkYXRlKCEwKTsKci51cGRhdGUoInJhdGluZ19wYW5lbCIpOwp9IGVsc2UgdC5saXZlY2hhdC5lbmRDaGF0KCk7Cm8udXBkYXRlKCIiKTsKfSk7CiQub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7Cm8udXBkYXRlKCIiKTsKfSk7Cn0oKTsKfSgpOwpmb3IgKHZhciB3IGluIGIpIGdbd10gPSBiW3ddOwpnLmZpcmUgJiYgZy5maXJlKCJpbml0Iik7Cmcuc2V0U3R5bGUgJiYgZy5zZXRTdHlsZShyKTsKZy5zZXRBdHRyaWJ1dGVzICYmIGcuc2V0QXR0cmlidXRlcyhkKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgZy5hZGRDaGlsZHJlbiA/IGcuYWRkQ2hpbGRyZW4obCkgOiBfLmFkZENoaWxkcmVuKGcsIGwpOwppZiAoZyAhPT0gdGhpcykgewpnLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKZy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gZzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfTWVudS5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiLm1lc3NhZ2UiOiB7Cm1hcmdpbkJvdHRvbTogIjEwcHgiCn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX01lbnUsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfRW5kQ2hhdE1lbnUiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IGkoMiksIF8gPSBpKDQpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Db25uQXdhcmVGb3JtID0gaSgxMTApOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19tZW51X1NlY3Rpb24gPSBpKDQ4KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfbWVudV9IZWFkZXIgPSBpKDEwMCk7Cm4uX18kJF9fanhfdWlfV2lkZ2V0ID0gaSg3KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfVGV4dEZpZWxkID0gaSg4Nik7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0Vycm9yTWVzc2FnZSA9IGkoODApOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19FbWFpbEZpZWxkID0gaSg3OSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1Bob25lRmllbGQgPSBpKDE2MSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NvbnRyb2xzID0gaSg0OSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0Nvbm5Bd2FyZVN1Ym1pdCA9IGkoNzcpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19CdXR0b24gPSBpKDE3KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgbCwgZCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBsLCBkKTsKbyA9IG8gfHwgXy5nZW5lcmF0ZUlEKCk7CnZhciB1ID0gcygxNDUpLCBjID0gcygxNDYpLCBoID0gcygxNDcpLCBmID0gcygxNDgpLCBnID0gcygxNDkpLCBwID0gcygxNTApLCBtID0gcygxNTEpLCAkID0gcygxNTIpLCBiID0gcygxNTMpLCB3ID0gWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Db25uQXdhcmVGb3JtLCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19tZW51X1NlY3Rpb24sICJpbnRlcm5hbF9zZWN0aW9uIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19tZW51X0hlYWRlciwgImxhYmVsIiwgIiIsIFsgdSBdLCB7CmlkOiAibGFiZWwiLAphZGRDbGFzczogImxhYmVsIiwKc2VsZWN0YWJsZTogImZhbHNlIgp9IF0sIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICJuYW1lX2VtYWlsX2NvbnRhaW5lciIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfVGV4dEZpZWxkLCAibmFtZSIsICIiLCBbXSwgewppZDogIm5hbWUiLApwbGFjZWhvbGRlcjogYywKcmVxdWlyZWQ6ICJ0cnVlIiwKbWF4TGVuZ3RoOiAiMjU1IiwKYWRkQ2xhc3M6ICJzdGFuZGFsb25lIG1vYmlsZV9lcnJvcl9pY29uIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfRXJyb3JNZXNzYWdlLCAibmFtZV9lcnJvciIsICIiLCBbIGggXSwgewppZDogIm5hbWVfZXJyb3IiLAp1c2VEaXNwbGF5OiAidHJ1ZSIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0VtYWlsRmllbGQsICJlbWFpbCIsICIiLCBbXSwgewppZDogImVtYWlsIiwKcGxhY2Vob2xkZXI6IGYsCnJlcXVpcmVkOiAidHJ1ZSIsCmFkZENsYXNzOiAic3RhbmRhbG9uZSBtb2JpbGVfZXJyb3JfaWNvbiIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0Vycm9yTWVzc2FnZSwgImVtYWlsX2Vycm9yIiwgIiIsIFsgZyBdLCB7CmlkOiAiZW1haWxfZXJyb3IiLAp1c2VEaXNwbGF5OiAidHJ1ZSIKfSBdIF0sIHsKaWQ6ICJuYW1lX2VtYWlsX2NvbnRhaW5lciIKfSBdLCBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAicGhvbmVfY29udGFpbmVyIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19QaG9uZUZpZWxkLCAicGhvbmUiLCAiIiwgW10sIHsKaWQ6ICJwaG9uZSIsCnBsYWNlaG9sZGVyOiBwLAphZGRDbGFzczogInN0YW5kYWxvbmUgbW9iaWxlX2Vycm9yX2ljb24iCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19FcnJvck1lc3NhZ2UsICJwaG9uZV9lcnJvciIsICIiLCBbIG0gXSwgewppZDogInBob25lX2Vycm9yIiwKdXNlRGlzcGxheTogInRydWUiCn0gXSBdLCB7CmlkOiAicGhvbmVfY29udGFpbmVyIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQ29udHJvbHMsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0Nvbm5Bd2FyZVN1Ym1pdCwgIiIsICIiLCBbXSwgewpwbGFjZW1lbnQ6ICJwcmltYXJ5IiwKdmFsdWU6ICQsCmFkZENsYXNzOiAic2F2ZSBzaG9ydCB3aWRlIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQnV0dG9uLCAiY2FuY2VsIiwgIiIsIFsgYiBdLCB7CnBsYWNlbWVudDogInNlY29uZGFyeSIsCmlkOiAiY2FuY2VsIiwKYWRkQ2xhc3M6ICJjYW5jZWwgc2Vjb25kYXJ5IHdpZGUiCn0gXSBdLCB7CmFkZENsYXNzOiAiY29udHJvbHNfbWFyZ2luIgp9IF0gXSwgewppZDogImludGVybmFsX3NlY3Rpb24iLAphZGRDbGFzczogImZsb3ciCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIsCiJ4bWxuczptZW51IjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cy5tZW51IiwKbm9WYWxpZGF0ZTogInRydWUiCn0gXSwgeCA9IHdbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBfLm1hbmdsZUlEcyhvLCB3WzNdKSwgd1s0XSksIHYgPSB4IHx8IHRoaXM7Cl8uc2V0KG8sIHYpOwp2YXIgeSA9IF8uZ2V0KG8gKyAiX19pbnRlcm5hbF9zZWN0aW9uIiksIGogPSBfLmdldChvICsgIl9fbGFiZWwiKSwgQyA9IF8uZ2V0KG8gKyAiX19uYW1lX2VtYWlsX2NvbnRhaW5lciIpLCBTID0gXy5nZXQobyArICJfX25hbWUiKSwgQSA9IF8uZ2V0KG8gKyAiX19uYW1lX2Vycm9yIiksIGsgPSBfLmdldChvICsgIl9fZW1haWwiKSwgSSA9IF8uZ2V0KG8gKyAiX19lbWFpbF9lcnJvciIpLCBUID0gXy5nZXQobyArICJfX3Bob25lX2NvbnRhaW5lciIpLCBOID0gXy5nZXQobyArICJfX3Bob25lIiksIEIgPSBfLmdldChvICsgIl9fcGhvbmVfZXJyb3IiKSwgRCA9IF8uZ2V0KG8gKyAiX19jYW5jZWwiKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIEUgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCgpIHsKUy5yZXNldCgpOwprLnJlc2V0KCk7Ck4ucmVzZXQoKTsKfQpmdW5jdGlvbiBlKCkgewp2YXIgdCA9IHguZ2V0VmFsdWUoKTsKdCAmJiB5LnNldERpc3BsYXkodC5lbWFpbCRib29sID8gIiIgOiAibm9uZSIpOwp9CnZhciBuLCBvLCByLCBhID0gaSg2KSwgcyA9IGkoMTEpLCBfID0gaSg5KSwgbCA9IGEucm9vdC4kKCJsaXZlY2hhdCIpLCBkID0gbC4kKCJwcm9maWxlIiksIHUgPSBsLiQoInVpIiksIGMgPSBkLiQoImF1dGgiKS4kKCJ0eXBlJHN0cmluZyIpLCBoID0gdS4kKCJjaGF0X3dpbmRvdyIpLCBmID0gZC4kKCJsb2dnZWRfaW4kYm9vbCIpLCBnID0gZC4kKCJkaXNwbGF5X25hbWUkc3RyaW5nIiksIHAgPSBkLiQoImVtYWlsJHN0cmluZyIpLCBtID0gZC4kKCJwaG9uZSRzdHJpbmciKSwgJCA9IGguJCgibWVudV9zdGFja19uYW1lJHN0cmluZyIpLCBiID0gaC4kKCJwcm9maWxlX21lbnUiKS4kKCJpbmRleCRpbnQiKSwgdyA9IGwuJCgic2V0dGluZ3MiKS4kKCJsb2dpbiIpLCB4ID0gdy4kKCJhbGxvd2VkX3R5cGVzIiksIEUgPSB3LiQoInBob25lX2Rpc3BsYXkkYm9vbCIpLCBPID0gbC4kKCJzZXR0aW5ncyIpLiQoImZvcm1zIikuJCgicHJlX2NoYXRfZm9ybSIpOwohZnVuY3Rpb24oKSB7Cl8ubW9iaWxlKHYpOwpTLnNldExhYmVsRWxlbWVudChqKS5zZXRFcnJvck1lc3NhZ2VFbGVtZW50KEEpLnNldFZhbGlkaXR5KCEwKTsKay5zZXRFcnJvck1lc3NhZ2VFbGVtZW50KEkpLnNldFZhbGlkaXR5KCEwKTsKTi5zZXRFcnJvck1lc3NhZ2VFbGVtZW50KEIpLnNldFZhbGlkaXR5KCEwKTsKdi5hdXRvYmluZChmLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7Cm8gPSB0Owp9KTsKdi5hdXRvYmluZChjLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7Cm4gPSB0OwpDLnNldERpc3BsYXkodCA/ICJub25lIiA6ICIiKTsKfSk7CnYuYXV0b2JpbmQoZywgInZhbHVlIiwgZnVuY3Rpb24odCkgewpzLmlzRGVmYXVsdE5hbWUodCkgJiYgKHQgPSAiIik7CnQgPSB0IHx8ICIiOwpTLnNldFZhbHVlKHQpOwpTLnNldEluaXRpYWxWYWx1ZSh0KTsKdCAmJiBTLmhpZGVQbGFjZWhvbGRlcigpOwp9KTsKdi5hdXRvYmluZChwLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CnQgPSB0IHx8ICIiOwprLnNldFZhbHVlKHQpOwprLnNldEluaXRpYWxWYWx1ZSh0KTsKdCAmJiBrLmhpZGVQbGFjZWhvbGRlcigpOwp9KTsKdi5hdXRvYmluZChtLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CnQgPSB0IHx8ICIiOwpOLnNldFZhbHVlKHQpOwpOLnNldEluaXRpYWxWYWx1ZSh0KTsKdCAmJiBOLmhpZGVQbGFjZWhvbGRlcigpOwp9KTsKdi5hdXRvYmluZChFLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CnIgPSB0OwpULnNldERpc3BsYXkodCA/ICIiIDogIm5vbmUiKTsKfSk7CnYuYXV0b2JpbmQoJCwgInZhbHVlIiwgZnVuY3Rpb24oZSkgewoicHJvZmlsZV9tZW51IiA9PSBlICYmIHQoKTsKfSk7CnYuYXV0b2JpbmQoYiwgInZhbHVlIiwgZnVuY3Rpb24oZSkgewoyID09IGUgJiYgdCgpOwp9KTsKRC5vbigiY2xpY2siLCBmdW5jdGlvbih0KSB7CnQucHJldmVudERlZmF1bHQoKTsKJC51cGRhdGUoIiIpOwp9KTsKdi5vbkNvbm5lY3RlZEFuZFN1Ym1pdChmdW5jdGlvbih0KSB7CnQucHJldmVudERlZmF1bHQoKTsKaWYgKHYudmFsaWRhdGUoITApKSB7CnZhciBlID0ge307CmlmICghbikgewplLm5hbWUgPSBTLmdldFZhbHVlKCkudHJpbSgpOwplLmVtYWlsID0gay5nZXRWYWx1ZSgpLnRyaW0oKTsKfQpyICYmIChlLnBob25lID0gTi5nZXRWYWx1ZSgpLnRyaW0oKSk7CmEubGl2ZWNoYXQudXBkYXRlUHJvZmlsZShlKTsKJC51cGRhdGUoIiIpOwp9Cn0pOwp2LmF1dG9iaW5kKHgsICJ2YWx1ZSIsIGUpOwp2LmF1dG9iaW5kKE8sICJ2YWx1ZSIsIGZ1bmN0aW9uKCkgewp2YXIgdCA9IE8uZ2V0VmFsdWUoInByb2ZpbGVfcmVxdWlyZWQkYm9vbCIpLCBlID0gTy4kKCJmb3JtIikuJCgiNCIpLmdldFZhbHVlKCJyZXF1aXJlZCRib29sIik7ClMuc2V0UmVxdWlyZWQodCk7Cmsuc2V0UmVxdWlyZWQodCk7Ck4uc2V0UmVxdWlyZWQoZSk7Cn0pOwp9KCk7Cn0oKTsKZm9yICh2YXIgTyBpbiBFKSB2W09dID0gRVtPXTsKdi5maXJlICYmIHYuZmlyZSgiaW5pdCIpOwp2LnNldFN0eWxlICYmIHYuc2V0U3R5bGUocik7CnYuc2V0QXR0cmlidXRlcyAmJiB2LnNldEF0dHJpYnV0ZXMoZCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHYuYWRkQ2hpbGRyZW4gPyB2LmFkZENoaWxkcmVuKGwpIDogXy5hZGRDaGlsZHJlbih2LCBsKTsKaWYgKHYgIT09IHRoaXMpIHsKdi5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CnYuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIHY7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0Nvbm5Bd2FyZUZvcm0ucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIi5jYW5jZWwiOiB7CmRpc3BsYXk6ICJub25lIgp9LAoiLmNvbnRyb2xzX21hcmdpbiI6IHsKbWFyZ2luVG9wOiAiMTBweCIKfSwKIiYubW9iaWxlIjogewoiLmNhbmNlbCI6IHsKZGlzcGxheTogImlubGluZS1ibG9jayIKfSwKIi5leHRlcm5hbCI6IHsKbWFyZ2luQm90dG9tOiAiMjBweCIsCiIuaGVhZGVyIjogewpwYWRkaW5nOiAiMTBweCAwIiwKYm9yZGVyVG9wOiAibm9uZSIKfQp9Cn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0Nvbm5Bd2FyZUZvcm0sIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfcHJvZmlsZU1lbnVfRWRpdCIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Qcm9maWxlQ2FyZCA9IGkoMTM4KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgaSwgbywgciwgXykgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBpLCBvLCByLCBfKTsKaSA9IGkgfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBsID0gWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Qcm9maWxlQ2FyZCwgIiIsICIiLCBbXSwgewp4bWxuczogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIKfSBdLCBkID0gbFswXS5jYWxsKHRoaXMsIGUsIGksIG51bGwsIHMubWFuZ2xlSURzKGksIGxbM10pLCBsWzRdKSwgdSA9IGQgfHwgdGhpczsKcy5zZXQoaSwgdSk7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBjID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQodCkgewplLmNhbGwodSwgdCk7CnQgJiYgdS5zZXRUaXRsZU5vZGUodC4kKCJlbWFpbCRzdHJpbmciKSk7Cn0KdmFyIGU7CiFmdW5jdGlvbigpIHsKZSA9IHUuc2V0RGF0YU5vZGUgfHwgZnVuY3Rpb24oKSB7fTsKdS5zZXREYXRhTm9kZSA9IHQ7Cn0oKTsKfSgpOwpmb3IgKHZhciBoIGluIGMpIHVbaF0gPSBjW2hdOwp1LmZpcmUgJiYgdS5maXJlKCJpbml0Iik7CnUuc2V0U3R5bGUgJiYgdS5zZXRTdHlsZShvKTsKdS5zZXRBdHRyaWJ1dGVzICYmIHUuc2V0QXR0cmlidXRlcyhfKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgdS5hZGRDaGlsZHJlbiA/IHUuYWRkQ2hpbGRyZW4ocikgOiBzLmFkZENoaWxkcmVuKHUsIHIpOwppZiAodSAhPT0gdGhpcykgewp1Ll9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKdS5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gdTsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfUHJvZmlsZUNhcmQucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHt9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfUHJvZmlsZUNhcmQsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX1Zpc2l0b3JQcm9maWxlQ2FyZCIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gaSgyKSwgXyA9IGkoNCk7Cm4uX18kJF9fanhfdWlfV2lkZ2V0ID0gaSg3KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfbWVudV9TZWN0aW9uID0gaSg0OCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1Zpc2l0b3JQcm9maWxlQ2FyZCA9IGkoMjYxKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfaWNvbkZvbnRfQnV0dG9uID0gaSgxNjIpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBsLCBkKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIGwsIGQpOwpvID0gbyB8fCBfLmdlbmVyYXRlSUQoKTsKdmFyIHUgPSBzKDE0MyksIGMgPSBzKDE0NCksIGggPSBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19tZW51X1NlY3Rpb24sICIiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiZXh0ZXJuYWwiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19WaXNpdG9yUHJvZmlsZUNhcmQsICJwcm9maWxlX2NhcmQiLCAiIiwgW10sIHsKaWQ6ICJwcm9maWxlX2NhcmQiLAphZGRDbGFzczogInByb2ZpbGVfY2FyZCIKfSBdLCBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19pY29uRm9udF9CdXR0b24sICJzaWduX291dCIsICIiLCBbXSwgewphZGRDbGFzczogImljb25mb250X2J1dHRvbiIsCmlkOiAic2lnbl9vdXQiLAppY29uOiAiZHVzdGJpbiIsCnRpdGxlOiB1Cn0gXSBdLCB7CmFkZENsYXNzOiAiY29udHJvbHMiCn0gXSBdLCB7CmFkZENsYXNzOiAicG9zaXRpb25lZCIKfSBdLCBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAicGhvbmVfY29udGFpbmVyX2V4dGVybmFsIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICJwaG9uZV90ZXh0X2V4dGVybmFsIiwgIiIsIFtdLCB7CmlkOiAicGhvbmVfdGV4dF9leHRlcm5hbCIsCmFkZENsYXNzOiAicGhvbmVfdGV4dF9leHRlcm5hbCBicmVha193b3JkIgp9IF0sIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX2ljb25Gb250X0J1dHRvbiwgImVkaXRfZXh0ZXJuYWxfcGhvbmUiLCAiIiwgW10sIHsKYWRkQ2xhc3M6ICJpY29uZm9udF9idXR0b24iLAppZDogImVkaXRfZXh0ZXJuYWxfcGhvbmUiLAppY29uOiAicGVuY2lsIiwKdGl0bGU6IGMKfSBdIF0sIHsKYWRkQ2xhc3M6ICJjb250cm9scyIKfSBdIF0sIHsKYWRkQ2xhc3M6ICJwb3NpdGlvbmVkIgp9IF0gXSwgewppZDogInBob25lX2NvbnRhaW5lcl9leHRlcm5hbCIsCmFkZENsYXNzOiAicGhvbmVfY29udGFpbmVyX2V4dGVybmFsIgp9IF0gXSwgewppZDogImV4dGVybmFsIgp9IF0sIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICJuYW1lX2VtYWlsIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICJuYW1lIiwgIiIsIFtdLCB7CmlkOiAibmFtZSIsCmFkZENsYXNzOiAibmFtZSBicmVha193b3JkIgp9IF0sIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICJlbWFpbCIsICIiLCBbXSwgewppZDogImVtYWlsIiwKYWRkQ2xhc3M6ICJlbWFpbCBicmVha193b3JkIgp9IF0sIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICJwaG9uZV90ZXh0IiwgIiIsIFtdLCB7CmlkOiAicGhvbmVfdGV4dCIsCmFkZENsYXNzOiAicGhvbmUgYnJlYWtfd29yZCIKfSBdIF0sIHsKYWRkQ2xhc3M6ICJuYW1lX2VtYWlsIgp9IF0sIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICJlZGl0X2NvbnRyb2xzIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19pY29uRm9udF9CdXR0b24sICJlZGl0IiwgIiIsIFtdLCB7CmFkZENsYXNzOiAiaWNvbmZvbnRfYnV0dG9uIiwKaWQ6ICJlZGl0IiwKaWNvbjogInBlbmNpbCIsCnRpdGxlOiBjCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19pY29uRm9udF9CdXR0b24sICJzaWduX291dF9uYW1lX2VtYWlsIiwgIiIsIFtdLCB7CmFkZENsYXNzOiAiaWNvbmZvbnRfYnV0dG9uIiwKaWQ6ICJzaWduX291dF9uYW1lX2VtYWlsIiwKaWNvbjogImR1c3RiaW4iLAp0aXRsZTogdQp9IF0gXSwgewppZDogImVkaXRfY29udHJvbHMiLAphZGRDbGFzczogImNvbnRyb2xzIgp9IF0gXSwgewppZDogIm5hbWVfZW1haWwiLAphZGRDbGFzczogInBvc2l0aW9uZWQiCn0gXSBdLCB7CmFkZENsYXNzOiAiZmxvdyIKfSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIiwKInhtbG5zOm1lbnUiOiAibWVzaGltLndpZGdldC53aWRnZXRzLm1lbnUiCn0gXSwgZiA9IGhbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBfLm1hbmdsZUlEcyhvLCBoWzNdKSwgaFs0XSksIGcgPSBmIHx8IHRoaXM7Cl8uc2V0KG8sIGcpOwp2YXIgcCA9IF8uZ2V0KG8gKyAiX19leHRlcm5hbCIpLCBtID0gXy5nZXQobyArICJfX3Byb2ZpbGVfY2FyZCIpLCAkID0gXy5nZXQobyArICJfX3NpZ25fb3V0IiksIGIgPSBfLmdldChvICsgIl9fcGhvbmVfY29udGFpbmVyX2V4dGVybmFsIiksIHcgPSBfLmdldChvICsgIl9fcGhvbmVfdGV4dF9leHRlcm5hbCIpLCB4ID0gXy5nZXQobyArICJfX2VkaXRfZXh0ZXJuYWxfcGhvbmUiKSwgdiA9IF8uZ2V0KG8gKyAiX19uYW1lX2VtYWlsIiksIHkgPSBfLmdldChvICsgIl9fbmFtZSIpLCBqID0gXy5nZXQobyArICJfX2VtYWlsIiksIEMgPSBfLmdldChvICsgIl9fcGhvbmVfdGV4dCIpLCBTID0gXy5nZXQobyArICJfX2VkaXRfY29udHJvbHMiKSwgQSA9IF8uZ2V0KG8gKyAiX19lZGl0IiksIGsgPSBfLmdldChvICsgIl9fc2lnbl9vdXRfbmFtZV9lbWFpbCIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgSSA9IGZ1bmN0aW9uKCkgewp2YXIgdCwgZSwgbiwgbyA9IGkoNiksIHIgPSAoaSg0NSksIGkoMTEpKSwgYSA9IGkoOSksIHMgPSBpKDEwKSwgXyA9IG8ucm9vdC4kKCJsaXZlY2hhdCIpLCBsID0gXy4kKCJwcm9maWxlIiksIGQgPSBfLiQoInVpIiksIHUgPSBkLiQoInZpc2l0b3IiKS4kKCJhdXRoZW50aWNhdGVkJGJvb2wiKSwgYyA9IGwuJCgiYXV0aCIpLiQoInR5cGUkc3RyaW5nIiksIGggPSBsLiQoImRpc3BsYXlfbmFtZSRzdHJpbmciKSwgZiA9IGwuJCgiZW1haWwkc3RyaW5nIiksIEkgPSBsLiQoInBob25lJHN0cmluZyIpLCBUID0gXy4kKCJzZXR0aW5ncyIpLiQoImxvZ2luIikuJCgicGhvbmVfZGlzcGxheSRib29sIiksIE4gPSBkLiQoImNoYXRfd2luZG93IikuJCgicHJvZmlsZV9tZW51IikuJCgiaW5kZXgkaW50IiksIEIgPSBkLiQoImNoYXRfd2luZG93IikuJCgibWVudV9zdGFja19uYW1lJHN0cmluZyIpOwohZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIGkoKSB7CmlmICh0KSB7CmIuc2V0RGlzcGxheShuID8gIiIgOiAibm9uZSIpOwp3LnNldFRleHQoZSB8fCBzLnBsYWNlaG9sZGVyLnBob25lKTsKd1tlID8gInJlbW92ZUNsYXNzIiA6ICJhZGRDbGFzcyJdKCJwbGFjZWhvbGRlciIpOwp9IGVsc2UgaWYgKG4gJiYgZSkgewpDLnNldFRleHQoZSk7CkMuc2V0RGlzcGxheSgiIik7Cn0gZWxzZSBDLnNldERpc3BsYXkoIm5vbmUiKTsKfQpmdW5jdGlvbiBfKCkgewpOLnVwZGF0ZSgyKTsKfQpnLmF1dG9iaW5kKHUsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKUy5zZXREaXNwbGF5KHQgPyAibm9uZSIgOiAiIik7Cn0pOwptLnNldERhdGFOb2RlKGwpOwphLm1vYmlsZShnKTsKYS5ydGwoZyk7CmcuYXV0b2JpbmQoaCwgInZhbHVlIiwgZnVuY3Rpb24odCkgewpyLmlzRGVmYXVsdE5hbWUodCkgJiYgKHQgPSAiIik7Cnkuc2V0VGV4dCh0IHx8ICIiKTsKeS5zZXREaXNwbGF5KHQgPyAiIiA6ICJub25lIik7Cn0pOwpnLmF1dG9iaW5kKGYsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKai5zZXRUZXh0KHQgfHwgIiIpOwpqLnNldERpc3BsYXkodCA/ICIiIDogIm5vbmUiKTsKfSk7CmcuYXV0b2JpbmQoSSwgInZhbHVlIiwgZnVuY3Rpb24odCkgewplID0gdDsKaSgpOwp9KTsKZy5hdXRvYmluZChULCAidmFsdWUiLCBmdW5jdGlvbih0KSB7Cm4gPSB0OwppKCk7Cn0pOwpnLmF1dG9iaW5kKGMsICJ2YWx1ZSIsIGZ1bmN0aW9uKGUpIHsKdCA9IGU7CmlmIChlKSB7CnAuc2V0RGlzcGxheSgiIik7CnYuc2V0RGlzcGxheSgibm9uZSIpOwp9IGVsc2UgewpwLnNldERpc3BsYXkoIm5vbmUiKTsKdi5zZXREaXNwbGF5KCIiKTsKfQppKCk7Cn0pOwpBLm9uKCJjbGljayIsIF8pOwp4Lm9uKCJjbGljayIsIF8pOwp3Lm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewplIHx8IF8oKTsKfSk7CiQub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7Cm8ubGl2ZWNoYXQuZG9FeHRlcm5hbExvZ291dCgpOwp9KTsKay5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKbC53cml0ZSh7CmRpc3BsYXlfbmFtZSRzdHJpbmc6ICIiLAplbWFpbCRzdHJpbmc6ICIiLApwaG9uZSRzdHJpbmc6ICIiCn0pOwpCLnVwZGF0ZSgiIik7Cn0pOwp9KCk7Cn0oKTsKZm9yICh2YXIgVCBpbiBJKSBnW1RdID0gSVtUXTsKZy5maXJlICYmIGcuZmlyZSgiaW5pdCIpOwpnLnNldFN0eWxlICYmIGcuc2V0U3R5bGUocik7Cmcuc2V0QXR0cmlidXRlcyAmJiBnLnNldEF0dHJpYnV0ZXMoZCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGcuYWRkQ2hpbGRyZW4gPyBnLmFkZENoaWxkcmVuKGwpIDogXy5hZGRDaGlsZHJlbihnLCBsKTsKaWYgKGcgIT09IHRoaXMpIHsKZy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmcuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGc7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfV2lkZ2V0LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CnBvc2l0aW9uOiAicmVsYXRpdmUiCn0sCiIubmFtZV9lbWFpbCI6IHsKIi5uYW1lIjogewpwYWRkaW5nUmlnaHQ6ICI0MHB4Igp9Cn0sCiImLnJ0bCAubmFtZV9lbWFpbCI6IHsKIi5uYW1lIjogewpwYWRkaW5nUmlnaHQ6IDAsCnBhZGRpbmdMZWZ0OiAiNDBweCIKfQp9LAoiLmNvbnRyb2xzIjogewpwb3NpdGlvbjogImFic29sdXRlIiwKInRvcCwgcmlnaHQiOiAwLAoiLmljb25mb250X2J1dHRvbiI6IHsKZGlzcGxheTogImlubGluZS1ibG9jayIsCmN1cnNvcjogInBvaW50ZXIiLApoZWlnaHQ6ICIxMDAlIiwKcGFkZGluZ0xlZnQ6ICI1cHgiLApjb2xvcjogIiQkbWVudUhlYWRlckNvbG9yIiwKIiY6aG92ZXIsICY6Zm9jdXMiOiB7CmNvbG9yOiAiJCRtZW51Q29sb3IiCn0KfQp9LAoiJi5ydGwgLmNvbnRyb2xzIjogewpyaWdodDogImF1dG8iLApsZWZ0OiAwLAoiLmljb25mb250X2J1dHRvbiI6IHsKcGFkZGluZ0xlZnQ6IDAsCnBhZGRpbmdSaWdodDogIjVweCIKfQp9LAoiLmJyZWFrX3dvcmQiOiB7CndvcmRXcmFwOiAiYnJlYWstd29yZCIKfSwKIi5uYW1lLCAuZW1haWwsIC5waG9uZSI6IHsKbGluZUhlaWdodDogMS41Cn0sCiIucGhvbmVfdGV4dF9leHRlcm5hbCI6IHsKcGFkZGluZ1JpZ2h0OiAiNDBweCIsCiImLnBsYWNlaG9sZGVyIjogewpjdXJzb3I6ICJwb2ludGVyIiwKY29sb3I6ICIkJGlucHV0UGxhY2Vob2xkZXJDb2xvciIsCmZvbnRTdHlsZTogIiQkaW5wdXRQbGFjZWhvbGRlckZvbnRTdHlsZSIKfQp9LAoiJi5ydGwgLnBob25lX3RleHRfZXh0ZXJuYWwiOiB7CnBhZGRpbmdSaWdodDogMCwKcGFkZGluZ0xlZnQ6ICI0MHB4Igp9LAoiLnByb2ZpbGVfY2FyZCI6IHsKY3Vyc29yOiAiZGVmYXVsdCIsCiIuYXZhdGFyX2NlbGwiOiB7CndpZHRoOiAiMzJweCIKfSwKIi5jb250ZW50X2NlbGwiOiB7CnBhZGRpbmdMZWZ0OiAiMTBweCIKfSwKIi5wcm9maWxlX25hbWUiOiB7CndoaXRlU3BhY2U6ICJub3dyYXAiLApwYWRkaW5nUmlnaHQ6ICIyMHB4Igp9Cn0sCiImLnJ0bCAucHJvZmlsZV9jYXJkIjogewoiLmNvbnRlbnRfY2VsbCI6IHsKcGFkZGluZ0xlZnQ6IDAsCnBhZGRpbmdSaWdodDogIjEwcHgiCn0sCiIucHJvZmlsZV9uYW1lLCAucHJvZmlsZV9lbWFpbCwgLnByb2ZpbGVfdGl0bGUiOiB7CnBhZGRpbmdSaWdodDogMCwKcGFkZGluZ0xlZnQ6ICIyMHB4Igp9Cn0sCiIubmFtZSI6IHsKZm9udFdlaWdodDogImJvbGQiCn0sCiIucG9zaXRpb25lZCI6IHsKcG9zaXRpb246ICJyZWxhdGl2ZSIKfSwKIi5waG9uZV9jb250YWluZXJfZXh0ZXJuYWwiOiB7CiJtYXJnaW5Ub3AsIHBhZGRpbmdUb3AiOiAiMTBweCIsCmJvcmRlclRvcFdpZHRoOiAiJCRtZW51Qm9yZGVyV2lkdGgiLApib3JkZXJUb3BTdHlsZTogIiQkbWVudUJvcmRlclN0eWxlIiwKYm9yZGVyVG9wQ29sb3I6ICIkJG1lbnVCb3JkZXJDb2xvciIKfSwKIiYubW9iaWxlIjogewoiLmNvbnRyb2xzIjogewpoZWlnaHQ6ICIxMDAlIiwKIi5pY29uZm9udF9idXR0b24iOiB7CiJwYWRkaW5nUmlnaHQsIHBhZGRpbmdMZWZ0IjogIjEwcHgiCn0KfSwKIi5uYW1lX2VtYWlsIjogewoiLm5hbWUsIC5lbWFpbCI6IHsKcGFkZGluZ1JpZ2h0OiAiODBweCIKfQp9LAoiLnByb2ZpbGVfY2FyZCI6IHsKIi5wcm9maWxlX25hbWUsIC5wcm9maWxlX2VtYWlsLCAucHJvZmlsZV90aXRsZSI6IHsKcGFkZGluZ1JpZ2h0OiAiNDBweCIKfQp9LAoiLnBob25lX3RleHRfZXh0ZXJuYWwiOiB7CmxpbmVIZWlnaHQ6ICIzMnB4Igp9Cn0sCiImLm1vYmlsZS5ydGwiOiB7CiIubmFtZV9lbWFpbCI6IHsKIi5uYW1lLCAuZW1haWwiOiB7CnBhZGRpbmdSaWdodDogMCwKcGFkZGluZ0xlZnQ6ICI4MHB4Igp9Cn0sCiIucHJvZmlsZV9jYXJkIjogewoiLnByb2ZpbGVfbmFtZSwgLnByb2ZpbGVfZW1haWwsIC5wcm9maWxlX3RpdGxlIjogewpwYWRkaW5nUmlnaHQ6IDAsCnBhZGRpbmdMZWZ0OiAiNDBweCIKfQp9Cn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfV2lkZ2V0LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X3Byb2ZpbGVNZW51X1N0YXR1cyIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gaSgyKSwgXyA9IGkoNCk7Cm4uX18kJF9fanhfdWlfV2lkZ2V0ID0gaSg3KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfbWVudV9TZWN0aW9uID0gaSg0OCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX21lbnVfSGVhZGVyID0gaSgxMDApOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19tZW51X0l0ZW0gPSBpKDM3KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgbCwgZCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBsLCBkKTsKbyA9IG8gfHwgXy5nZW5lcmF0ZUlEKCk7CnZhciB1ID0gcygxNTQpLCBjID0gcygxNTUpLCBoID0gWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfbWVudV9TZWN0aW9uLCAiZXh0ZXJuYWxfc2VjdGlvbiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfbWVudV9IZWFkZXIsICIiLCAiIiwgWyB1IF0sIHsKYWRkQ2xhc3M6ICJpdGVtIgp9IF0sIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICJ0eXBlcyIsICIiLCBbXSwgewppZDogInR5cGVzIiwKYWRkQ2xhc3M6ICJleHRlcm5hbF90eXBlcyIKfSBdIF0sIHsKaWQ6ICJleHRlcm5hbF9zZWN0aW9uIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfbWVudV9TZWN0aW9uLCAiZW1haWwiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX21lbnVfSXRlbSwgIiIsICIiLCBbIGMgXSwgewphZGRDbGFzczogIm1lbnVfaXRlbSIKfSBdIF0sIHsKaWQ6ICJlbWFpbCIsCmFkZENsYXNzOiAiYm9yZGVyX3RvcCIKfSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIiwKInhtbG5zOm1lbnUiOiAibWVzaGltLndpZGdldC53aWRnZXRzLm1lbnUiCn0gXSwgZiA9IGhbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBfLm1hbmdsZUlEcyhvLCBoWzNdKSwgaFs0XSksIGcgPSBmIHx8IHRoaXM7Cl8uc2V0KG8sIGcpOwp2YXIgcCA9IF8uZ2V0KG8gKyAiX19leHRlcm5hbF9zZWN0aW9uIiksIG0gPSBfLmdldChvICsgIl9fdHlwZXMiKSwgJCA9IF8uZ2V0KG8gKyAiX19lbWFpbCIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgYiA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KCkgewp2YXIgdCA9IGQuZ2V0VmFsdWUoKTsKaWYgKHQpIHsKZSA9IGMuZ2V0VmFsdWUoKTsKJC5zZXREaXNwbGF5KHQuZW1haWwkYm9vbCA/ICIiIDogIm5vbmUiKTsKdmFyIGksIG47CmZvciAodmFyIG8gaW4gaCkgaWYgKGguaGFzT3duUHJvcGVydHkobykpIHsKbiA9IHRbbyArICIkYm9vbCJdOwpoW29dLnNldERpc3BsYXkobiA/ICIiIDogIm5vbmUiKTsKZSAmJiBuICYmIGhbb10uc2V0RGlzcGxheSgiaW5saW5lLWJsb2NrIik7Cm4gJiYgKGkgPSAhMCk7Cn0KcC5zZXREaXNwbGF5KGkgPyAiIiA6ICJub25lIik7Cn0KfQp2YXIgZSwgbiA9IGkoNiksIG8gPSBpKDgxKSwgciA9IGkoMTYwKSwgYSA9IGkoMzcpLCBzID0gaSgxMCksIF8gPSBpKDkpLCBsID0gaSgxOSksIGQgPSBuLnJvb3QuJCgibGl2ZWNoYXQiKS4kKCJzZXR0aW5ncyIpLiQoImxvZ2luIikuJCgiYWxsb3dlZF90eXBlcyIpLCB1ID0gbi5yb290LiQoImxpdmVjaGF0IikuJCgidWkiKS4kKCJjaGF0X3dpbmRvdyIpLiQoInByb2ZpbGVfbWVudSIpLiQoImluZGV4JGludCIpLCBjID0gbi5yb290LiQkKCJsaXZlY2hhdC51aS5tb2JpbGUkYm9vbCIpLCBoID0gewpmYWNlYm9vazogbnVsbCwKdHdpdHRlcjogbnVsbCwKZ29vZ2xlOiBudWxsCn0sIGYgPSB7CmZhY2Vib29rOiAiZmFjZWJvb2siLAp0d2l0dGVyOiAidHdpdHRlciIsCmdvb2dsZTogImdvb2dsZV8yMDE5Igp9OwohZnVuY3Rpb24oKSB7Cl8ubW9iaWxlKGcpOwplID0gYy5nZXRWYWx1ZSgpOwpmb3IgKHZhciBpIGluIGgpIGlmIChoLmhhc093blByb3BlcnR5KGkpKSBpZiAoZSkgaFtpXSA9IG5ldyByKG0sIG51bGwsIG51bGwsIFsgcy5leHRlcm5hbF9sb2dpbltpXSB8fCBpIF0sIHsKbmFtZTogaSwKYWRkQ2xhc3M6ICJmbG9hdCAiICsgaSwKaWNvbjogZltpXQp9KTsgZWxzZSB7CmhbaV0gPSBuZXcgYShtLCBudWxsLCBudWxsLCBudWxsLCB7CmFkZENsYXNzOiAibWVudV9pdGVtIiwKbmFtZTogaQp9KTsKbmV3IG8oaFtpXSwgbnVsbCwgbnVsbCwgbnVsbCwgewphZGRDbGFzczogIm1lbnVfaWNvbiAiICsgaSwKaWNvbjogZltpXQp9KTsKbmV3IGwoaFtpXSwgbnVsbCwgbnVsbCwgWyBzLmV4dGVybmFsX2xvZ2luW2ldIHx8IGkgXSwgewphZGRDbGFzczogImxhYmVsIgp9KTsKfQpnLmF1dG9iaW5kKGQsICJ2YWx1ZSIsIHQpOwptLm9uKCJjbGljayIsIGZ1bmN0aW9uKHQpIHsKdmFyIGUgPSB0LnRhcmdldC5qeF93cmFwcGVyOwppZiAoZSAhPSBtKSB7CmZvciAoO2UucGFyZW50Tm9kZSAhPSBtOyApIGUgPSBlLnBhcmVudE5vZGU7CnZhciBpID0gZS5nZXROYW1lICYmIGUuZ2V0TmFtZSgpOwppICYmIG4ubGl2ZWNoYXQuZG9FeHRlcm5hbExvZ2luKGkpOwp9Cn0pOwokLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewp1LnVwZGF0ZSgyKTsKfSk7Cn0oKTsKfSgpOwpmb3IgKHZhciB3IGluIGIpIGdbd10gPSBiW3ddOwpnLmZpcmUgJiYgZy5maXJlKCJpbml0Iik7Cmcuc2V0U3R5bGUgJiYgZy5zZXRTdHlsZShyKTsKZy5zZXRBdHRyaWJ1dGVzICYmIGcuc2V0QXR0cmlidXRlcyhkKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgZy5hZGRDaGlsZHJlbiA/IGcuYWRkQ2hpbGRyZW4obCkgOiBfLmFkZENoaWxkcmVuKGcsIGwpOwppZiAoZyAhPT0gdGhpcykgewpnLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKZy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gZzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19qeF91aV9XaWRnZXQucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIi5tZW51X2l0ZW0iOiB7CiIubGFiZWwiOiB7Cm1hcmdpbkxlZnQ6ICIxMHB4Igp9LAoiJltuYW1lPWZhY2Vib29rXSAubWVudV9pY29uIjogewp0b3A6ICIxcHgiCn0sCiImW25hbWU9Z29vZ2xlXSAgIC5tZW51X2ljb24iOiB7CnRvcDogIjJweCIKfQp9LAoiLm1lbnVfaWNvbiI6IHsKcG9zaXRpb246ICJyZWxhdGl2ZSIsCmZsb2F0OiAibGVmdCIsCmZvbnRTaXplOiAiJCRmb250U2l6ZVhMIgp9LAoiJi5tb2JpbGUiOiB7CiIuZXh0ZXJuYWxfdHlwZXMiOiB7Cm1hcmdpbjogIiQkbWVudUl0ZW1QYWRkaW5nIgp9Cn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfV2lkZ2V0LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X3Byb2ZpbGVNZW51X0xvZ2luIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX01lbnUgPSBpKDY3KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfVmlld1N0YWNrID0gaSg1NSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfcHJvZmlsZU1lbnVfTG9naW4gPSBpKDI2Myk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfcHJvZmlsZU1lbnVfU3RhdHVzID0gaSgyNjIpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X3Byb2ZpbGVNZW51X0VkaXQgPSBpKDI2MCk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIF8sIGwpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgXywgbCk7Cm8gPSBvIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgZCA9IFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfTWVudSwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfVmlld1N0YWNrLCAidnMiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfcHJvZmlsZU1lbnVfTG9naW4sICIiLCAiIiwgW10sIHsKYWRkQ2xhc3M6ICJsb2dpbiIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfcHJvZmlsZU1lbnVfU3RhdHVzLCAiIiwgIiIsIFtdLCB7CmFkZENsYXNzOiAic3RhdHVzIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19wcm9maWxlTWVudV9FZGl0LCAiIiwgIiIsIFtdLCB7CmFkZENsYXNzOiAiZWRpdCIKfSBdIF0sIHsKaWQ6ICJ2cyIKfSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIiwKInhtbG5zOm1lbnUiOiAibWVzaGltLndpZGdldC53aWRnZXRzLm1lbnUiLAoieG1sbnM6cHJvZmlsZU1lbnUiOiAibWVzaGltLndpZGdldC5jb21wb25lbnRzLmNoYXRXaW5kb3cucHJvZmlsZU1lbnUiCn0gXSwgdSA9IGRbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBzLm1hbmdsZUlEcyhvLCBkWzNdKSwgZFs0XSksIGMgPSB1IHx8IHRoaXM7CnMuc2V0KG8sIGMpOwp2YXIgaCA9IHMuZ2V0KG8gKyAiX192cyIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgZiA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KCkgewpoLnNldEluZGV4KGUgPyAxIDogbiA/IDAgOiAyKTsKfQp2YXIgZSwgbiwgbywgciA9IGkoNiksIGEgPSByLnJvb3QuJCgibGl2ZWNoYXQiKS4kKCJ1aSIpLiQoImNoYXRfd2luZG93IikuJCgicHJvZmlsZV9tZW51IikuJCgiaW5kZXgkaW50IiksIHMgPSByLnJvb3QuJCgibGl2ZWNoYXQiKS4kKCJwcm9maWxlIikuJCgibG9nZ2VkX2luJGJvb2wiKSwgXyA9IHIucm9vdC4kKCJsaXZlY2hhdCIpLiQoInNldHRpbmdzIikuJCgibG9naW4iKS4kKCJhbGxvd2VkX3R5cGVzIik7CiFmdW5jdGlvbigpIHsKYy5hdXRvYmluZChfLCAidmFsdWUiLCBmdW5jdGlvbigpIHsKdmFyIHQgPSBfLmdldFZhbHVlKCk7Cm4gPSAwOwpmb3IgKHZhciBlIGluIHQpIGlmICh0Lmhhc093blByb3BlcnR5KGUpKSB7CmlmICgiZW1haWwkYm9vbCIgPT0gZSkgY29udGludWU7CnRbZV0gJiYgbisrOwp9Cn0pOwpjLmF1dG9iaW5kKGEsICJ2YWx1ZSIsIGZ1bmN0aW9uKGUpIHsKbyB8fCBoLnNldEluZGV4KGlzTmFOKGUpID8gdCgpIDogZSk7Cn0pOwpoLm9uKCJpbmRleENoYW5nZSIsIGZ1bmN0aW9uKHQpIHsKbyA9ICEwOwphLnVwZGF0ZSh0KTsKbyA9ICExOwp9KTsKYy5hdXRvYmluZChzLCAidmFsdWUiLCBmdW5jdGlvbihpKSB7CmUgPSBpOwp0KCk7Cn0pOwpjLm9uKCJoaWRlIiwgdCk7Cn0oKTsKfSgpOwpmb3IgKHZhciBnIGluIGYpIGNbZ10gPSBmW2ddOwpjLmZpcmUgJiYgYy5maXJlKCJpbml0Iik7CmMuc2V0U3R5bGUgJiYgYy5zZXRTdHlsZShyKTsKYy5zZXRBdHRyaWJ1dGVzICYmIGMuc2V0QXR0cmlidXRlcyhsKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5hZGRDaGlsZHJlbiA/IGMuYWRkQ2hpbGRyZW4oXykgOiBzLmFkZENoaWxkcmVuKGMsIF8pOwppZiAoYyAhPT0gdGhpcykgewpjLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKYy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gYzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfTWVudS5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0ge307CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19NZW51LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X1Byb2ZpbGVNZW51Igp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSBpKDIpLCBfID0gaSg0KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfbWVudV9JdGVtID0gaSgzNyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0J1dHRvbiA9IGkoMTcpOwpuLl9fJCRfX2p4X3VpX0xhYmVsID0gaSgxOSk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIGwsIGQpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgbCwgZCk7Cm8gPSBvIHx8IF8uZ2VuZXJhdGVJRCgpOwp2YXIgdSA9IHMoMTY0KSwgYyA9IFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfbWVudV9JdGVtLCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19CdXR0b24sICIiLCAiIiwgWyB1IF0sIHsKYWRkQ2xhc3M6ICJlbmRfY2hhdCB3aWRlIHNob3J0Igp9IF0sIFsgbi5fXyQkX19qeF91aV9MYWJlbCwgIiIsICIiLCBbIHUgXSwgewphZGRDbGFzczogImVuZF9jaGF0X21vYmlsZSIKfSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIiwKInhtbG5zOm1lbnUiOiAibWVzaGltLndpZGdldC53aWRnZXRzLm1lbnUiCn0gXSwgaCA9IGNbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBfLm1hbmdsZUlEcyhvLCBjWzNdKSwgY1s0XSksIGYgPSBoIHx8IHRoaXM7Cl8uc2V0KG8sIGYpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgZyA9IGZ1bmN0aW9uKCkgewp2YXIgdCA9IGkoNiksIGUgPSB0LnJvb3QuJCgibGl2ZWNoYXQiKSwgbiA9IGUuJCgic2V0dGluZ3MiKS4kKCJlbmRfY2hhdF9tZW51IikuJCgiZW5hYmxlZCRib29sIiksIG8gPSBlLiQoInVpIikuJCgiY2hhdF93aW5kb3ciKS4kKCJtZW51X3N0YWNrX25hbWUkc3RyaW5nIiksIHIgPSB0LnJvb3QuJCgiY29ubmVjdGlvbiIpLiQoIm1lc3NhZ2Ukc3RyaW5nIik7CiFmdW5jdGlvbigpIHsKZi5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKby51cGRhdGUoImVuZF9jaGF0X21lbnUiKTsKfSk7CmYuYXV0b2JpbmQobiwgInZhbHVlIiwgZnVuY3Rpb24odCkgewpmLnNldERpc3BsYXkodCA/ICIiIDogIm5vbmUiKTsKfSk7CmYuYXV0b2JpbmQociwgInZhbHVlIiwgZnVuY3Rpb24odCkgewp2YXIgZSA9ICEhdDsKZi5zZXREaXNhYmxlZChlKTsKfSk7Cn0oKTsKfSgpOwpmb3IgKHZhciBwIGluIGcpIGZbcF0gPSBnW3BdOwpmLmZpcmUgJiYgZi5maXJlKCJpbml0Iik7CmYuc2V0U3R5bGUgJiYgZi5zZXRTdHlsZShyKTsKZi5zZXRBdHRyaWJ1dGVzICYmIGYuc2V0QXR0cmlidXRlcyhkKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgZi5hZGRDaGlsZHJlbiA/IGYuYWRkQ2hpbGRyZW4obCkgOiBfLmFkZENoaWxkcmVuKGYsIGwpOwppZiAoZiAhPT0gdGhpcykgewpmLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKZi5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gZjsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfbWVudV9JdGVtLnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CmN1cnNvcjogImRlZmF1bHQiLAoiJjpob3ZlciI6IHsKYmFja2dyb3VuZDogInRyYW5zcGFyZW50ICFpbXBvcnRhbnQiCn0sCiIuZW5kX2NoYXQiOiB7CmRpc3BsYXk6ICJibG9jayIsCnRleHRBbGlnbjogImNlbnRlciIsCmN1cnNvcjogInBvaW50ZXIiLAoiJi5kaXNhYmxlZCI6IHsKY3Vyc29yOiAiZGVmYXVsdCIKfQp9LAoiLmVuZF9jaGF0X21vYmlsZSI6IHsKZGlzcGxheTogIm5vbmUiCn0KfSwKIiYubW9iaWxlIjogewoiLmVuZF9jaGF0IjogewpkaXNwbGF5OiAibm9uZSIKfSwKIi5lbmRfY2hhdF9tb2JpbGUiOiB7CmRpc3BsYXk6ICJibG9jayIKfQp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19tZW51X0l0ZW0sIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfc2V0dGluZ3NNZW51X0VuZENoYXQiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IGkoMiksIF8gPSBpKDQpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19tZW51X0l0ZW0gPSBpKDM3KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfbWVudV9CdXR0b25MYWJlbCA9IGkoNzUpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBsLCBkKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIGwsIGQpOwpvID0gbyB8fCBfLmdlbmVyYXRlSUQoKTsKdmFyIHUgPSBzKDE2MyksIGMgPSBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX21lbnVfSXRlbSwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfbWVudV9CdXR0b25MYWJlbCwgIiIsICIiLCBbIHUgXSwge30gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIsCiJ4bWxuczptZW51IjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cy5tZW51Igp9IF0sIGggPSBjWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgXy5tYW5nbGVJRHMobywgY1szXSksIGNbNF0pLCBmID0gaCB8fCB0aGlzOwpfLnNldChvLCBmKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIGcgPSBmdW5jdGlvbigpIHsKdmFyIHQgPSBpKDYpLCBlID0gdC5yb290LiQoImxpdmVjaGF0IikuJCgidWkiKS4kKCJjaGF0X3dpbmRvdyIpLiQoIm1lbnVfc3RhY2tfbmFtZSRzdHJpbmciKTsKIWZ1bmN0aW9uKCkgewpmLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewplLnVwZGF0ZSgiZW1haWxfdHJhbnNjcmlwdF9tZW51Iik7Cn0pOwp9KCk7Cn0oKTsKZm9yICh2YXIgcCBpbiBnKSBmW3BdID0gZ1twXTsKZi5maXJlICYmIGYuZmlyZSgiaW5pdCIpOwpmLnNldFN0eWxlICYmIGYuc2V0U3R5bGUocik7CmYuc2V0QXR0cmlidXRlcyAmJiBmLnNldEF0dHJpYnV0ZXMoZCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGYuYWRkQ2hpbGRyZW4gPyBmLmFkZENoaWxkcmVuKGwpIDogXy5hZGRDaGlsZHJlbihmLCBsKTsKaWYgKGYgIT09IHRoaXMpIHsKZi5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmYuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGY7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX21lbnVfSXRlbS5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjoge30KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX21lbnVfSXRlbSwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19zZXR0aW5nc01lbnVfRW1haWxUcmFuc2NyaXB0Igp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQsIGUsIGksIG8sIHIpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIG4pKSByZXR1cm4gbmV3IG4odCwgZSwgaSwgbywgcik7CnIgfHwgKHIgPSB7fSk7CnMuY2FsbCh0aGlzLCB0LCBlLCBpLCBvLCByKTsKdGhpcy5zZXRBdHRyaWJ1dGUoIm1ldGhvZCIsICJwb3N0Iik7CnRoaXMuc2V0QXR0cmlidXRlKCJlbmN0eXBlIiwgIm11bHRpcGFydC9mb3JtLWRhdGEiKTsKfQp2YXIgbyA9IGkoMSksIHIgPSBpKDApLCBhID0gaSg4KSwgcyA9IGkoNDIpOwpuLnByb3RvdHlwZSA9IHIocy5wcm90b3R5cGUpOwpvKG4sIHMsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX0ZpbGVVcGxvYWRlciIKfSk7Cm4ucHJvdG90eXBlLnN1Ym1pdCA9IGZ1bmN0aW9uKCkgewppZiAodGhpcy5wYXRoKSB7CnRoaXMuc2V0QXR0cmlidXRlKCJhY3Rpb24iLCB0aGlzLnBhdGgpOwp2YXIgdCwgZSA9ICJfd2lkZ2V0X2ZpbGV1cGxvYWRlcl8iICsgK25ldyBEYXRlKCk7CmlmIChhLmJ1Z3Mubm9Cb3hTaXppbmcpIHQgPSB0aGlzLmRvYy5jcmVhdGVFbGVtZW50KCc8aWZyYW1lIG5hbWU9IicgKyBlICsgJyI+Jyk7IGVsc2Ugewp0ID0gdGhpcy5kb2MuY3JlYXRlRWxlbWVudCgiaWZyYW1lIik7CnQuc2V0QXR0cmlidXRlKCJuYW1lIiwgZSk7Cn0KdC5zZXRBdHRyaWJ1dGUoImlkIiwgZSk7CnQuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKdGhpcy5kb20udGFyZ2V0ID0gZTsKdGhpcy5hcHBlbmRDaGlsZCh0KTsKcy5wcm90b3R5cGUuc3VibWl0LmNhbGwodGhpcyk7Cn0KfTsKbi5wcm90b3R5cGUuc2V0UGF0aCA9IGZ1bmN0aW9uKHQpIHsKdGhpcy5wYXRoID0gdDsKcmV0dXJuIHRoaXM7Cn07CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gaSgyKSwgXyA9IGkoNCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX21lbnVfSXRlbSA9IGkoMzcpOwpuLl9fJCRfX2p4X3VpX0xhYmVsID0gaSgxOSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1NlbmRGaWxlID0gaSgxMjIpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBsLCBkKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIGwsIGQpOwpvID0gbyB8fCBfLmdlbmVyYXRlSUQoKTsKdmFyIHUgPSBzKDE2MiksIGMgPSBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX21lbnVfSXRlbSwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9MYWJlbCwgIiIsICIiLCBbIHUgXSwge30gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19TZW5kRmlsZSwgInNlbmRfZmlsZSIsICIiLCBbXSwgewppZDogInNlbmRfZmlsZSIsCmFkZENsYXNzOiAic2VuZF9maWxlIgp9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6d2lkZ2V0cyI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiLAoieG1sbnM6bWVudSI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMubWVudSIKfSBdLCBoID0gY1swXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIF8ubWFuZ2xlSURzKG8sIGNbM10pLCBjWzRdKSwgZiA9IGggfHwgdGhpczsKXy5zZXQobywgZik7CnZhciBnID0gXy5nZXQobyArICJfX3NlbmRfZmlsZSIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgcCA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KCkgewp2YXIgdCA9IGEuZ2V0VmFsdWUoKSwgZSA9IF8uZ2V0VmFsdWUoImNvbG9yX2N1c3RvbWl6YXRpb25fZW5hYmxlZCRpbnQiKSB8fCBfLmdldFZhbHVlKCJ3aWRnZXRfY3VzdG9taXphdGlvbl9lbmFibGVkJGludCIpLCBpID0gcy5nZXRWYWx1ZSgpLCBuID0gITA7CmUgPyAhMSA9PT0gdCAmJiAobiA9ICExKSA6IG4gPSAhMTsKZi5zZXREaXNwbGF5KG4gJiYgaSA/ICIiIDogIm5vbmUiKTsKfQp2YXIgZSA9IGkoNiksIG4gPSBlLnJvb3QuJCgibGl2ZWNoYXQiKSwgbyA9IG4uJCgidWkiKS4kKCJjaGF0X3dpbmRvdyIpLiQoIm1lbnVfc3RhY2tfbmFtZSRzdHJpbmciKSwgciA9IG4uJCgic2V0dGluZ3MiKS4kKCJmaWxlX3NlbmRpbmciKSwgYSA9IHIuJCgiZW5hYmxlZCRib29sIiksIHMgPSBuLiQoImNoYW5uZWwiKS4kKCJjaGF0dGluZyRib29sIiksIF8gPSBuLiQoInNldHRpbmdzIikuJCgicGFja2FnZSIpOwohZnVuY3Rpb24oKSB7Cmcub24oImJlZm9yZV9zdWJtaXQiLCBmdW5jdGlvbigpIHsKby51cGRhdGUoIiIpOwp9KTsKZi5hdXRvYmluZChhLCAidmFsdWUiLCB0KTsKZi5hdXRvYmluZChfLCAidmFsdWUiLCB0KTsKZi5hdXRvYmluZChzLCAidmFsdWUiLCB0KTsKfSgpOwp9KCk7CmZvciAodmFyIG0gaW4gcCkgZlttXSA9IHBbbV07CmYuZmlyZSAmJiBmLmZpcmUoImluaXQiKTsKZi5zZXRTdHlsZSAmJiBmLnNldFN0eWxlKHIpOwpmLnNldEF0dHJpYnV0ZXMgJiYgZi5zZXRBdHRyaWJ1dGVzKGQpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBmLmFkZENoaWxkcmVuID8gZi5hZGRDaGlsZHJlbihsKSA6IF8uYWRkQ2hpbGRyZW4oZiwgbCk7CmlmIChmICE9PSB0aGlzKSB7CmYuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpmLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBmOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19tZW51X0l0ZW0ucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIi5zZW5kX2ZpbGUiOiB7CnBvc2l0aW9uOiAiYWJzb2x1dGUiLAoiYm90dG9tLCByaWdodCI6IDAKfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfbWVudV9JdGVtLCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X3NldHRpbmdzTWVudV9TZW5kRmlsZSIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gaSgyKSwgXyA9IGkoNCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX21lbnVfSXRlbSA9IGkoMzcpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19tZW51X0J1dHRvbkxhYmVsID0gaSg3NSk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIGwsIGQpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgbCwgZCk7Cm8gPSBvIHx8IF8uZ2VuZXJhdGVJRCgpOwp2YXIgdSA9IHMoMTYxKSwgYyA9IFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfbWVudV9JdGVtLCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19tZW51X0J1dHRvbkxhYmVsLCAiIiwgIiIsIFsgdSBdLCB7fSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIiwKInhtbG5zOm1lbnUiOiAibWVzaGltLndpZGdldC53aWRnZXRzLm1lbnUiCn0gXSwgaCA9IGNbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBfLm1hbmdsZUlEcyhvLCBjWzNdKSwgY1s0XSksIGYgPSBoIHx8IHRoaXM7Cl8uc2V0KG8sIGYpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgZyA9IGZ1bmN0aW9uKCkgewp2YXIgdCA9IGkoNiksIGUgPSB0LnJvb3QuJCgibGl2ZWNoYXQiKS4kKCJ1aSIpLiQoImNoYXRfd2luZG93IikuJCgibWFpbl9zdGFja19uYW1lJHN0cmluZyIpOwohZnVuY3Rpb24oKSB7CmYub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CmUudXBkYXRlKCJhYm91dF9wYW5lbCIpOwp9KTsKfSgpOwp9KCk7CmZvciAodmFyIHAgaW4gZykgZltwXSA9IGdbcF07CmYuZmlyZSAmJiBmLmZpcmUoImluaXQiKTsKZi5zZXRTdHlsZSAmJiBmLnNldFN0eWxlKHIpOwpmLnNldEF0dHJpYnV0ZXMgJiYgZi5zZXRBdHRyaWJ1dGVzKGQpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBmLmFkZENoaWxkcmVuID8gZi5hZGRDaGlsZHJlbihsKSA6IF8uYWRkQ2hpbGRyZW4oZiwgbCk7CmlmIChmICE9PSB0aGlzKSB7CmYuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpmLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBmOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19tZW51X0l0ZW0ucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHt9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfbWVudV9JdGVtLCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X3NldHRpbmdzTWVudV9BYm91dCIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gaSgyKSwgXyA9IGkoNCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX21lbnVfSXRlbSA9IGkoMzcpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19tZW51X0ljb25Gb250ID0gaSgxMjQpOwpuLl9fJCRfX2p4X3VpX0xhYmVsID0gaSgxOSk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIGwsIGQpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgbCwgZCk7Cm8gPSBvIHx8IF8uZ2VuZXJhdGVJRCgpOwp2YXIgdSA9IHMoMTYwKSwgYyA9IFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfbWVudV9JdGVtLCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19tZW51X0ljb25Gb250LCAiaWNvbiIsICIiLCBbXSwgewppZDogImljb24iCn0gXSwgWyBuLl9fJCRfX2p4X3VpX0xhYmVsLCAiIiwgIiIsIFsgdSBdLCB7fSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIiwKInhtbG5zOm1lbnUiOiAibWVzaGltLndpZGdldC53aWRnZXRzLm1lbnUiCn0gXSwgaCA9IGNbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBfLm1hbmdsZUlEcyhvLCBjWzNdKSwgY1s0XSksIGYgPSBoIHx8IHRoaXM7Cl8uc2V0KG8sIGYpOwp2YXIgZyA9IF8uZ2V0KG8gKyAiX19pY29uIik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBwID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoKSB7CmEuZ2V0VmFsdWUoKSAmJiByLmdldFZhbHVlKCkgPyBmLnNldERpc3BsYXkoIiIpIDogZi5zZXREaXNwbGF5KCJub25lIik7Cn0KdmFyIGUgPSBpKDYpLCBuID0gZS5yb290LiQoImxpdmVjaGF0IiksIG8gPSBuLiQoInByb2ZpbGUiKSwgciA9IG8uJCgiYWxsb3dfY29va2llcyRib29sIiksIGEgPSBuLiQoInNldHRpbmdzIikuJCgiY29va2llX2xhdyIpLiQoImVuYWJsZWQkYm9vbCIpLCBzID0gbi4kKCJ1aSIpLiQoImNoYXRfd2luZG93IikuJCgibWFpbl9zdGFja19uYW1lJHN0cmluZyIpOwohZnVuY3Rpb24oKSB7CmYub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CnIuZ2V0VmFsdWUoKSAmJiBzLnVwZGF0ZSgiY29va2llX2Zvcm0iKTsKfSk7CmYuYXV0b2JpbmQociwgInZhbHVlIiwgZnVuY3Rpb24oZSkgewpnLnNldEljb24oZSk7CnQoKTsKfSk7CmYuYXV0b2JpbmQoYSwgInZhbHVlIiwgdCk7Cn0oKTsKfSgpOwpmb3IgKHZhciBtIGluIHApIGZbbV0gPSBwW21dOwpmLmZpcmUgJiYgZi5maXJlKCJpbml0Iik7CmYuc2V0U3R5bGUgJiYgZi5zZXRTdHlsZShyKTsKZi5zZXRBdHRyaWJ1dGVzICYmIGYuc2V0QXR0cmlidXRlcyhkKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgZi5hZGRDaGlsZHJlbiA/IGYuYWRkQ2hpbGRyZW4obCkgOiBfLmFkZENoaWxkcmVuKGYsIGwpOwppZiAoZiAhPT0gdGhpcykgewpmLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKZi5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gZjsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfbWVudV9JdGVtLnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7fQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfbWVudV9JdGVtLCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X3NldHRpbmdzTWVudV9Db29raWVzIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQpIHsKaWYgKG8uaXNJRSAmJiAhKG8uaXNJRSA+PSA5KSkgewp2YXIgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJnc291bmQiKTsKZG9jdW1lbnQuYm9keSA/IGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKGUsIGRvY3VtZW50LmJvZHkuZmlyc3RDaGlsZCkgOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoZSk7CnRoaXMuZG9tID0gZTsKdGhpcy5sb29wID0gMDsKdGhpcy5sb2FkKHQpOwp9Cn0KdmFyIG8gPSBpKDgpOwpuLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24odCkgewp0aGlzLnNyYyA9IHQgKyAiLndhdiI7Cn07Cm4ucHJvdG90eXBlLnBsYXkgPSBmdW5jdGlvbih0KSB7CnRoaXMuZG9tLnNyYyA9IHRoaXMuc3JjOwp0aGlzLmRvbS5sb29wID0gdCB8fCB0aGlzLmxvb3A7Cn07Cm4ucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbigpIHsKdGhpcy5kb20uc3JjID0gIiI7Cn07Cm4ucHJvdG90eXBlLnNldFZvbHVtZSA9IGZ1bmN0aW9uKCkge307Cm4ucHJvdG90eXBlLnNldExvb3AgPSBmdW5jdGlvbih0KSB7CnRoaXMubG9vcCA9IHBhcnNlSW50KHQsIDEwKTsKfTsKdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQpIHsKdmFyIGUsIGkgPSArbmV3IERhdGUoKSArIE1hdGgucm91bmQoMWU0ICogTWF0aC5yYW5kb20oKSksIG4gPSB0LnN1YnN0cmluZygwLCB0Lmxhc3RJbmRleE9mKCIvIikgKyAxKSArICJKU01QMy5zd2YiOwppZiAoby5pc0lFKSB7CnRyeSB7Cm5ldyB3aW5kb3cuQWN0aXZlWE9iamVjdCgiU2hvY2t3YXZlRmxhc2guU2hvY2t3YXZlRmxhc2giKTsKfSBjYXRjaCAodCkgewpyZXR1cm47Cn0KZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwpkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZShlLCBkb2N1bWVudC5ib2R5LmZpcnN0Q2hpbGQpOwp2YXIgYSA9ICc8b2JqZWN0IGlkPSJfX3pvcGltU291bmRQbGF5ZXInICsgaSArICciIGNsYXNzaWQ9ImNsc2lkOkQyN0NEQjZFLUFFNkQtMTFjZi05NkI4LTQ0NDU1MzU0MDAwMCIgd2lkdGg9IjEiIGhlaWdodD0iMSI+PHBhcmFtIG5hbWU9Im1vdmllIiB2YWx1ZT0iJyArIG4gKyAnIiAvPjxwYXJhbSBuYW1lPSJhbGxvd1NjcmlwdEFjY2VzcyIgdmFsdWU9ImFsd2F5cyIgLz48L29iamVjdD4nOwplLmlubmVySFRNTCA9IGE7CmUgPSBlLmZpcnN0Q2hpbGQ7CnZhciBzID0gZG9jdW1lbnQudGl0bGUuc3BsaXQoIiMiKVswXTsKcihmdW5jdGlvbigpIHsKZG9jdW1lbnQudGl0bGUgIT09IHMgJiYgKGRvY3VtZW50LnRpdGxlID0gcyk7Cn0pOwp9IGVsc2UgewppZiAoIW5hdmlnYXRvci5taW1lVHlwZXNbImFwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoIl0pIHJldHVybjsKZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImVtYmVkIik7CmUuaWQgPSAiX196b3BpbVNvdW5kUGxheWVyIiArIGk7CmUuc3JjID0gbjsKZS5zZXRBdHRyaWJ1dGUoImFsbG93U2NyaXB0QWNjZXNzIiwgImFsd2F5cyIpOwpkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZShlLCBkb2N1bWVudC5ib2R5LmZpcnN0Q2hpbGQpOwp9CmUuc3R5bGUubGVmdCA9IGUuc3R5bGUudG9wID0gIi05OTk5cHgiOwplLnN0eWxlLnBvc2l0aW9uID0gImFic29sdXRlIjsKdGhpcy5kb20gPSBlOwp0aGlzLmxvb3AgPSAxOwp0aGlzLmxvYWQodCk7Cn0KdmFyIG8gPSBpKDgpLCByID0gaSgxNik7Cm4ucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbih0KSB7CmlmICh0aGlzLmRvbS5sb2FkU291bmQpIHsKdGhpcy5kb20ubG9hZFNvdW5kKHQgKyAiLm1wMyIpOwp0aGlzLmxvYWRlZCA9ICEwOwp9IGVsc2Ugewp2YXIgZSA9IHRoaXM7CnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CmUubG9hZCh0KTsKfSwgMWUzKTsKfQp9OwpuLnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24odCkgewppZiAodGhpcy5sb2FkZWQpIHRyeSB7CnRoaXMuZG9tLnBsYXlTb3VuZCh0IHx8IHRoaXMubG9vcCk7Cn0gY2F0Y2ggKHQpIHt9IGVsc2Ugewp2YXIgZSA9IHRoaXM7CnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CmUucGxheSh0KTsKfSwgMWUzKTsKfQp9OwpuLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24oKSB7CmlmICh0aGlzLmxvYWRlZCkgdHJ5IHsKdGhpcy5kb20uc3RvcFNvdW5kKCk7Cn0gY2F0Y2ggKHQpIHt9Cn07Cm4ucHJvdG90eXBlLnNldFZvbHVtZSA9IGZ1bmN0aW9uKHQpIHsKdCA9IHBhcnNlSW50KHQsIDEwKTsKaWYgKCFpc05hTih0KSkgewp0ID4gMTAgJiYgKHQgPSAxMCk7CnQgPCAwICYmICh0ID0gMCk7CmlmICh0aGlzLmxvYWRlZCkgdHJ5IHsKdGhpcy5kb20uc2V0Vm9sdW1lKHQgLyAxMCk7Cn0gY2F0Y2ggKHQpIHt9IGVsc2Ugewp2YXIgZSA9IHRoaXM7CnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CmUuc2V0Vm9sdW1lKHQpOwp9LCA1MDApOwp9Cn0KfTsKbi5wcm90b3R5cGUuc2V0TG9vcCA9IGZ1bmN0aW9uKHQpIHsKdGhpcy5sb29wID0gdDsKaWYgKHRoaXMubG9hZGVkKSB0cnkgewp0aGlzLmRvbS5zZXRMb29wKHQpOwp9IGNhdGNoICh0KSB7fSBlbHNlIHsKdmFyIGUgPSB0aGlzOwpzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewplLnNldExvb3AodCk7Cn0sIDUwMCk7Cn0KfTsKdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQpIHsKdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhdWRpbyIpLCBpID0gdGhpcywgbiA9IGZ1bmN0aW9uKCkgewpvLmNhbGwoaSk7Cn07CmlmIChlLmNhblBsYXlUeXBlKSB7CnZhciByID0gL14ocHJvYmFibHl8bWF5YmUpJC9pOwp0cnkgewppZiAoZS5jYW5QbGF5VHlwZSgiYXVkaW8vbXBlZyIpLm1hdGNoKHIpKSB0aGlzLnR5cGUgPSAibXAzIjsgZWxzZSBpZiAoZS5jYW5QbGF5VHlwZSgnYXVkaW8vb2dnOyBjb2RlY3M9InZvcmJpcyInKS5tYXRjaChyKSkgdGhpcy50eXBlID0gIm9nZyI7IGVsc2UgewppZiAoIWUuY2FuUGxheVR5cGUoImF1ZGlvL3dhdiIpLm1hdGNoKHIpKSByZXR1cm47CnRoaXMudHlwZSA9ICJ3YXYiOwp9Cn0gY2F0Y2ggKHQpIHsKcmV0dXJuOwp9CmUuc2V0QXR0cmlidXRlKCJhdXRvYnVmZmVyIiwgInRydWUiKTsKZS5zZXRBdHRyaWJ1dGUoInByZWxvYWQiLCAiIik7CnRoaXMuZG9tID0gZTsKdGhpcy5yZW1haW5pbmdMb29wID0gMTsKdGhpcy5sb29wID0gMTsKdGhpcy5wbGF5X2NvdW50ID0gMDsKdGhpcy5sb2FkKHQpOwp0aGlzLmRvbS5hZGRFdmVudExpc3RlbmVyKCJlbmRlZCIsIG4sICExKTsKfQp9CmZ1bmN0aW9uIG8oKSB7CnRoaXMucGxheV9jb3VudCsrOwppZiAocy5pc1NhZmFyaSAmJiB0aGlzLnBsYXlfY291bnQgPj0gNTApIHsKdGhpcy5wbGF5X2NvdW50ID0gMDsKdGhpcy5kb20ubG9hZCgpOwp9CmlmICh0aGlzLnJlbWFpbmluZ0xvb3AgPiAwKSB7CnRoaXMucmVtYWluaW5nTG9vcC0tOwphLmNhbGwodGhpcyk7CnZhciB0ID0gdGhpcy5kb20ucGxheSgpOwp2b2lkIDAgIT09IHQgJiYgdC5jYXRjaChyKTsKfQp9CmZ1bmN0aW9uIHIoKSB7fQpmdW5jdGlvbiBhKCkgewp0aGlzLmRvbSAmJiB0aGlzLmRvbS5jdXJyZW50VGltZSAmJiAodGhpcy5kb20uY3VycmVudFRpbWUgPSAwKTsKfQp2YXIgcyA9IGkoOCksIF8gPSBpKDI4KTsKbi5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uKHQpIHsKdGhpcy5kb20uc2V0QXR0cmlidXRlKCJzcmMiLCB0ICsgIi4iICsgdGhpcy50eXBlKTsKdGhpcy5yZW1haW5pbmdMb29wID0gMDsKfTsKbi5wcm90b3R5cGUucGxheSA9IGZ1bmN0aW9uKHQpIHsKdGhpcy5yZW1haW5pbmdMb29wICs9IHQgfHwgdGhpcy5sb29wOwpvLmNhbGwodGhpcyk7Cn07Cm4ucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbigpIHsKdGhpcy5kb20ucGF1c2UoKTsKYS5jYWxsKHRoaXMpOwp9OwpuLnByb3RvdHlwZS5zZXRWb2x1bWUgPSBmdW5jdGlvbih0KSB7CnQgPSBwYXJzZUludCh0LCAxMCk7CmlmICghaXNOYU4odCkpIHsKdCA+IDEwICYmICh0ID0gMTApOwp0IDwgMCAmJiAodCA9IDApOwp0aGlzLmRvbS52b2x1bWUgPSB0IC8gMTA7Cn0KfTsKbi5wcm90b3R5cGUuc2V0TG9vcCA9IGZ1bmN0aW9uKHQpIHsKdCA9IHBhcnNlSW50KHQsIDEwKTsKdGhpcy5sb29wID0gXyh0KSA/IHQgOiAxOwp9Owp0LmV4cG9ydHMgPSBuOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4odCkgewp2YXIgZTsKdGhpcy51cmwgPSB0OwplID0gbmV3IGEodCk7CmlmIChlLmRvbSkgcmV0dXJuIGU7CmUgPSBuZXcgcyh0KTsKaWYgKGUuZG9tKSByZXR1cm4gZTsKZSA9IG5ldyBfKHQpOwpyZXR1cm4gZS5kb20gPyBlIDogdm9pZCAwOwp9CmZ1bmN0aW9uIG8oKSB7CnJldHVybiB0aGlzOwp9CmZ1bmN0aW9uIHIodCkgewovXC8kLy50ZXN0KHQpIHx8ICh0ICs9ICIvIik7CnRoaXMucmVwb191cmwgPSB0IHx8IGw7CnRoaXMucmVwbyA9IHt9Owp9CnZhciBhID0gaSgyNzMpLCBzID0gaSgyNzIpLCBfID0gaSgyNzEpOwpuLnByb3RvdHlwZS5sb2FkID0gbi5wcm90b3R5cGUucGxheSA9IG4ucHJvdG90eXBlLnN0b3AgPSBuLnByb3RvdHlwZS5zZXRWb2x1bWUgPSBuLnByb3RvdHlwZS5zZXRMb29wID0gbzsKdmFyIGwgPSAiZGFzaGJvYXJkL3NvdW5kcy8iOwpyLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbih0LCBlLCBpLCBvKSB7CnZhciByID0gbmV3IG4odGhpcy5yZXBvX3VybCArIGUpOwppICYmIHIuc2V0Vm9sdW1lKGkpOwpvICYmIHIuc2V0TG9vcChvKTsKci50aXRsZSA9IGU7CnRoaXMucmVwb1t0XSA9IHI7CnJldHVybiB0aGlzOwp9OwpyLnByb3RvdHlwZS5nZXRTb3VuZCA9IGZ1bmN0aW9uKHQpIHsKdmFyIGUgPSB0aGlzLnJlcG9bdF07CmlmIChlKSByZXR1cm4gZTsKdGhyb3cgbmV3IHdpbmRvdy5FcnJvcigieW91IGhhdmUgbm90IGNyZWF0ZWQgIiArIHQgKyAiIHNvdW5kIHlldCIpOwp9OwpyLnByb3RvdHlwZS5oYXNTb3VuZCA9IGZ1bmN0aW9uKHQpIHsKdHJ5IHsKdGhpcy5nZXRTb3VuZCh0KTsKcmV0dXJuICEwOwp9IGNhdGNoICh0KSB7CnJldHVybiAhMTsKfQp9OwpyLnByb3RvdHlwZS5zZXRTcmMgPSBmdW5jdGlvbih0LCBlKSB7CnRoaXMuZ2V0U291bmQodCkubG9hZCh0aGlzLnJlcG9fdXJsICsgZSk7CnJldHVybiB0aGlzOwp9OwpyLnByb3RvdHlwZS5nZXRUaXRsZSA9IGZ1bmN0aW9uKHQpIHsKdGhpcy5nZXRTb3VuZCh0KS50aXRsZTsKfTsKci5wcm90b3R5cGUucGxheSA9IGZ1bmN0aW9uKHQsIGUpIHsKdGhpcy5nZXRTb3VuZCh0KS5wbGF5KHBhcnNlSW50KGUsIDEwKSB8fCAwKTsKcmV0dXJuIHRoaXM7Cn07CnIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbih0KSB7CnRoaXMuZ2V0U291bmQodCkuc3RvcCgpOwpyZXR1cm4gdGhpczsKfTsKci5wcm90b3R5cGUuc2V0Vm9sdW1lID0gZnVuY3Rpb24odCwgZSkgewp0aGlzLmdldFNvdW5kKHQpLnNldFZvbHVtZShlKTsKcmV0dXJuIHRoaXM7Cn07CnIucHJvdG90eXBlLnNldExvb3AgPSBmdW5jdGlvbih0LCBlKSB7CnRoaXMuZ2V0U291bmQodCkuc2V0TG9vcChlKTsKcmV0dXJuIHRoaXM7Cn07CnIucHJvdG90eXBlLmdldExvb3AgPSBmdW5jdGlvbih0KSB7CnRoaXMuZ2V0U291bmQodCkubG9vcDsKfTsKdC5leHBvcnRzID0gcjsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSBpKDIpLCBfID0gaSg0KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfbWVudV9JdGVtID0gaSgzNyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX21lbnVfSWNvbkZvbnQgPSBpKDEyNCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX21lbnVfQnV0dG9uTGFiZWwgPSBpKDc1KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgbCwgZCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBsLCBkKTsKbyA9IG8gfHwgXy5nZW5lcmF0ZUlEKCk7CnZhciB1ID0gcygxNTkpLCBjID0gWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19tZW51X0l0ZW0sICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX21lbnVfSWNvbkZvbnQsICJpY29uX3NvdW5kIiwgIiIsIFtdLCB7CmlkOiAiaWNvbl9zb3VuZCIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX21lbnVfQnV0dG9uTGFiZWwsICIiLCAiIiwgWyB1IF0sIHt9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6d2lkZ2V0cyI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiLAoieG1sbnM6bWVudSI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMubWVudSIKfSBdLCBoID0gY1swXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIF8ubWFuZ2xlSURzKG8sIGNbM10pLCBjWzRdKSwgZiA9IGggfHwgdGhpczsKXy5zZXQobywgZik7CnZhciBnID0gXy5nZXQobyArICJfX2ljb25fc291bmQiKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIHAgPSBmdW5jdGlvbigpIHsKdmFyIHQgPSBpKDYpLCBlID0gaSgxMjMpLCBuID0gdC5yb290LiQoImxpdmVjaGF0IikuJCgicHJvZmlsZSIpLCBvID0gbi4kKCJub3RpZmljYXRpb24iKS4kKCJzb3VuZCRib29sIik7CiFmdW5jdGlvbigpIHsKZi5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKby51cGRhdGUoIWUuaXNTb3VuZEVuYWJsZWQoKSk7Cn0pOwpmLmF1dG9iaW5kKG8sICJ2YWx1ZSIsIGZ1bmN0aW9uKCkgewpnLnNldEljb24oZS5pc1NvdW5kRW5hYmxlZCgpID8gInNvdW5kX29uIiA6ICJzb3VuZF9vZmYiLCAhMCk7Cn0pOwp9KCk7Cn0oKTsKZm9yICh2YXIgbSBpbiBwKSBmW21dID0gcFttXTsKZi5maXJlICYmIGYuZmlyZSgiaW5pdCIpOwpmLnNldFN0eWxlICYmIGYuc2V0U3R5bGUocik7CmYuc2V0QXR0cmlidXRlcyAmJiBmLnNldEF0dHJpYnV0ZXMoZCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGYuYWRkQ2hpbGRyZW4gPyBmLmFkZENoaWxkcmVuKGwpIDogXy5hZGRDaGlsZHJlbihmLCBsKTsKaWYgKGYgIT09IHRoaXMpIHsKZi5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmYuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGY7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX21lbnVfSXRlbS5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjoge30sCiImLm1vYmlsZSI6IHsKZGlzcGxheTogIm5vbmUiCn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX21lbnVfSXRlbSwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19zZXR0aW5nc01lbnVfU291bmQiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IGkoMiksIF8gPSBpKDQpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19tZW51X0l0ZW0gPSBpKDM3KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfbWVudV9CdXR0b25MYWJlbCA9IGkoNzUpOwpuLl9fJCRfX2p4X3VpX0xhYmVsID0gaSgxOSk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIGwsIGQpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgbCwgZCk7Cm8gPSBvIHx8IF8uZ2VuZXJhdGVJRCgpOwp2YXIgdSA9IHMoMTU2KSwgYyA9IFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfbWVudV9JdGVtLCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19tZW51X0J1dHRvbkxhYmVsLCAibG9nZ2VkX291dCIsICIiLCBbIHUgXSwgewppZDogImxvZ2dlZF9vdXQiCn0gXSwgWyBuLl9fJCRfX2p4X3VpX0xhYmVsLCAibmFtZSIsICIiLCBbXSwgewppZDogIm5hbWUiLAphZGRDbGFzczogImxvZ2dlZF9pbl9uYW1lIgp9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6d2lkZ2V0cyI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiLAoieG1sbnM6bWVudSI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMubWVudSIKfSBdLCBoID0gY1swXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIF8ubWFuZ2xlSURzKG8sIGNbM10pLCBjWzRdKSwgZiA9IGggfHwgdGhpczsKXy5zZXQobywgZik7CnZhciBnID0gXy5nZXQobyArICJfX2xvZ2dlZF9vdXQiKSwgcCA9IF8uZ2V0KG8gKyAiX19uYW1lIik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBtID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoKSB7CmlmIChlKSB7Cm4gJiYgIV8uaXNEZWZhdWx0TmFtZShuKSA/IHAuc2V0VGV4dChyLnJlcGxhY2UoIjxuYW1lPiIsIG4pKSA6IHAuc2V0VGV4dChhKTsKZy5zZXREaXNwbGF5KCJub25lIik7CnAuc2V0RGlzcGxheSgiIik7Cn0gZWxzZSB7Cmcuc2V0RGlzcGxheSgiIik7CnAuc2V0RGlzcGxheSgibm9uZSIpOwp9Cn0KdmFyIGUsIG4sIG8gPSBpKDIpLCByID0gbygxNTcpLCBhID0gbygxNTgpLCBzID0gaSg2KSwgXyA9IGkoMTEpLCBsID0gcy5yb290LiQoImxpdmVjaGF0IiksIGQgPSBsLiQoInByb2ZpbGUiKSwgdSA9IGQuJCgibG9nZ2VkX2luJGJvb2wiKSwgYyA9IGQuJCgiZGlzcGxheV9uYW1lJHN0cmluZyIpLCBoID0gbC4kKCJ1aSIpLiQoImNoYXRfd2luZG93IikuJCgibWVudV9zdGFja19uYW1lJHN0cmluZyIpLCBtID0gbC4kKCJzZXR0aW5ncyIpLiQoImxvZ2luIikuJCgicmVzdHJpY3RfcHJvZmlsZSRib29sIik7CiFmdW5jdGlvbigpIHsKZi5vbigiY2xpY2siLCBmdW5jdGlvbih0KSB7CnQuc3RvcFByb3BhZ2F0aW9uKCk7CmgudXBkYXRlKCJwcm9maWxlX21lbnUiKTsKfSk7CmYuYXV0b2JpbmQodSwgInZhbHVlIiwgZnVuY3Rpb24oaSkgewplID0gaTsKdCgpOwp9KTsKZi5hdXRvYmluZChjLCAidmFsdWUiLCBmdW5jdGlvbihlKSB7Cm4gPSBlIHx8ICIiOwp0KCk7Cn0pOwpmLmF1dG9iaW5kKG0sICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKZi5zZXREaXNwbGF5KHQgPyAibm9uZSIgOiAiIik7Cn0pOwpvICYmIG8ub25MYW5ndWFnZSAmJiBvLm9uTGFuZ3VhZ2UodCk7Cn0oKTsKfSgpOwpmb3IgKHZhciAkIGluIG0pIGZbJF0gPSBtWyRdOwpmLmZpcmUgJiYgZi5maXJlKCJpbml0Iik7CmYuc2V0U3R5bGUgJiYgZi5zZXRTdHlsZShyKTsKZi5zZXRBdHRyaWJ1dGVzICYmIGYuc2V0QXR0cmlidXRlcyhkKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgZi5hZGRDaGlsZHJlbiA/IGYuYWRkQ2hpbGRyZW4obCkgOiBfLmFkZENoaWxkcmVuKGYsIGwpOwppZiAoZiAhPT0gdGhpcykgewpmLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKZi5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gZjsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfbWVudV9JdGVtLnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CmRpc3BsYXk6ICJub25lIgp9LAoiJi5tb2JpbGUiOiB7CmRpc3BsYXk6ICJibG9jayIKfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfbWVudV9JdGVtLCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X3NldHRpbmdzTWVudV9Qcm9maWxlIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX01lbnUgPSBpKDY3KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfbWVudV9TZWN0aW9uID0gaSg0OCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfc2V0dGluZ3NNZW51X1Byb2ZpbGUgPSBpKDI3Nik7Cm4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfc2V0dGluZ3NNZW51X1NvdW5kID0gaSgyNzUpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X3NldHRpbmdzTWVudV9Db29raWVzID0gaSgyNzApOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X3NldHRpbmdzTWVudV9BYm91dCA9IGkoMjY5KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19zZXR0aW5nc01lbnVfU2VuZEZpbGUgPSBpKDI2OCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfc2V0dGluZ3NNZW51X0VtYWlsVHJhbnNjcmlwdCA9IGkoMjY2KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19zZXR0aW5nc01lbnVfRW5kQ2hhdCA9IGkoMjY1KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19NZW51LCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19tZW51X1NlY3Rpb24sICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfc2V0dGluZ3NNZW51X1Byb2ZpbGUsICIiLCAiIiwgW10sIHt9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19zZXR0aW5nc01lbnVfU291bmQsICIiLCAiIiwgW10sIHt9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19zZXR0aW5nc01lbnVfQ29va2llcywgIiIsICIiLCBbXSwge30gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X3NldHRpbmdzTWVudV9BYm91dCwgIiIsICIiLCBbXSwge30gXSBdLCB7fSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX21lbnVfU2VjdGlvbiwgImNoYXRfYWN0aW9ucyIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19zZXR0aW5nc01lbnVfU2VuZEZpbGUsICJzZW5kX2ZpbGUiLCAiIiwgW10sIHsKaWQ6ICJzZW5kX2ZpbGUiLAp1c2VEaXNwbGF5OiAidHJ1ZSIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfc2V0dGluZ3NNZW51X0VtYWlsVHJhbnNjcmlwdCwgImVtYWlsX3RyYW5zY3JpcHQiLCAiIiwgW10sIHsKaWQ6ICJlbWFpbF90cmFuc2NyaXB0IiwKdXNlRGlzcGxheTogInRydWUiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X3NldHRpbmdzTWVudV9FbmRDaGF0LCAiZW5kX2NoYXQiLCAiIiwgW10sIHsKaWQ6ICJlbmRfY2hhdCIsCnVzZURpc3BsYXk6ICJ0cnVlIgp9IF0gXSwgewppZDogImNoYXRfYWN0aW9ucyIsCnVzZURpc3BsYXk6ICJ0cnVlIgp9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6d2lkZ2V0cyI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiLAoieG1sbnM6bWVudSI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMubWVudSIsCiJ4bWxuczpzZXR0aW5nc01lbnUiOiAibWVzaGltLndpZGdldC5jb21wb25lbnRzLmNoYXRXaW5kb3cuc2V0dGluZ3NNZW51Igp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKdmFyIGggPSBzLmdldChvICsgIl9fY2hhdF9hY3Rpb25zIiksIGYgPSAocy5nZXQobyArICJfX3NlbmRfZmlsZSIpLCBzLmdldChvICsgIl9fZW1haWxfdHJhbnNjcmlwdCIpKSwgZyA9IHMuZ2V0KG8gKyAiX19lbmRfY2hhdCIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgcCA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KCkgewp2YXIgdCA9IGUoKTsKZy5zZXRWaXNpYmxlKHQuZW5kX2NoYXQpOwpmLnNldFZpc2libGUodC5lbWFpbF90cmFuc2NyaXB0KTsKaC5zZXRWaXNpYmxlKHQuY2hhdF9hY3Rpb25zKTsKfQpmdW5jdGlvbiBlKCkgewp2YXIgdCA9ICtuZXcgRGF0ZSgpLCBlID0gXy5nZXRWYWx1ZSgpIHx8ICExLCBpID0gZC5nZXRWYWx1ZSgpIHx8ICExLCBvID0gbiAmJiB0IC0gbiA+PSByLCBhID0gZSB8fCBpIHx8IHUgJiYgIW87CnJldHVybiB7CmVuZF9jaGF0OiBpLAplbWFpbF90cmFuc2NyaXB0OiBhLApjaGF0X2FjdGlvbnM6IGkgfHwgYQp9Owp9CnZhciBuLCBvID0gaSg2KSwgciA9IDZlNSwgYSA9IG8ucm9vdC4kKCJsaXZlY2hhdCIpLCBzID0gYS4kKCJ1aSIpLCBfID0gcy4kKCJ2aXNpdG9yIikuJCgiYXV0aGVudGljYXRlZCRib29sIiksIGwgPSBzLiQoImNoYXRfd2luZG93IikuJCgibWVudV9zdGFja19uYW1lJHN0cmluZyIpLCBkID0gYS4kKCJjaGFubmVsIikuJCgiY2hhdHRpbmckYm9vbCIpLCB1ID0gITE7CiFmdW5jdGlvbigpIHsKYy5hdXRvYmluZChkLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CnQgJiYgKHUgPSAhMCk7CnUgJiYgIXQgJiYgKG4gPSArbmV3IERhdGUoKSk7Cn0pOwpjLmF1dG9iaW5kKGwsICJ2YWx1ZSIsIGZ1bmN0aW9uKGUpIHsKInNldHRpbmdzX21lbnUiID09PSBlICYmIHQoKTsKfSk7Cn0oKTsKfSgpOwpmb3IgKHZhciBtIGluIHApIGNbbV0gPSBwW21dOwpjLmZpcmUgJiYgYy5maXJlKCJpbml0Iik7CmMuc2V0U3R5bGUgJiYgYy5zZXRTdHlsZShyKTsKYy5zZXRBdHRyaWJ1dGVzICYmIGMuc2V0QXR0cmlidXRlcyhsKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5hZGRDaGlsZHJlbiA/IGMuYWRkQ2hpbGRyZW4oXykgOiBzLmFkZENoaWxkcmVuKGMsIF8pOwppZiAoYyAhPT0gdGhpcykgewpjLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKYy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gYzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfTWVudS5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0ge307CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19NZW51LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X1NldHRpbmdzTWVudSIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19BZ2VudFByb2ZpbGVDYXJkID0gaSgxMzkpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBpLCBvLCByLCBfKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIGksIG8sIHIsIF8pOwppID0gaSB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGwgPSBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0FnZW50UHJvZmlsZUNhcmQsICIiLCAiIiwgW10sIHsKeG1sbnM6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiLAphZGRDbGFzczogInByb2ZpbGVfY2FyZCIKfSBdLCBkID0gbFswXS5jYWxsKHRoaXMsIGUsIGksIG51bGwsIHMubWFuZ2xlSURzKGksIGxbM10pLCBsWzRdKSwgdSA9IGQgfHwgdGhpczsKcy5zZXQoaSwgdSk7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CmZvciAodmFyIGMgaW4gdm9pZCAwKSB1W2NdID0gKHZvaWQgMClbY107CnUuZmlyZSAmJiB1LmZpcmUoImluaXQiKTsKdS5zZXRTdHlsZSAmJiB1LnNldFN0eWxlKG8pOwp1LnNldEF0dHJpYnV0ZXMgJiYgdS5zZXRBdHRyaWJ1dGVzKF8pOwoiZnVuY3Rpb24iID09IHR5cGVvZiB1LmFkZENoaWxkcmVuID8gdS5hZGRDaGlsZHJlbihyKSA6IHMuYWRkQ2hpbGRyZW4odSwgcik7CmlmICh1ICE9PSB0aGlzKSB7CnUuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwp1Ll9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiB1Owp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19BZ2VudFByb2ZpbGVDYXJkLnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7Cm1hcmdpbkJvdHRvbTogIjEwcHgiLAoiLmF2YXRhcl9jZWxsIjogewp2ZXJ0aWNhbEFsaWduOiAidG9wIiwKd2lkdGg6ICIzMnB4IiwKIi5wcm9maWxlX2F2YXRhciI6IHsKIndpZHRoLCBoZWlnaHQiOiAiMzJweCIsCmJvdHRvbTogImF1dG8iCn0KfSwKIi5wcm9maWxlX3RhYmxlIC5jb250ZW50X2NlbGwiOiB7CnBhZGRpbmc6ICIwIDEwcHgiLAp2ZXJ0aWNhbEFsaWduOiAibWlkZGxlIgp9Cn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0FnZW50UHJvZmlsZUNhcmQsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfYWdlbnRMaXN0X0FnZW50UHJvZmlsZUNhcmQiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IGkoMiksIF8gPSBpKDQpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93Q29udGVudCA9IGkoMjcpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19TY3JvbGxhYmxlRnJhbWUgPSBpKDI5KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfSGVhZGVyID0gaSg2MSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0JvZHkgPSBpKDM4KTsKbi5fXyQkX19qeF91aV9Mb2NhbGl6ZXIgPSBpKDg3KTsKbi5fXyQkX19qeF91aV9XaWRnZXQgPSBpKDcpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Cb3R0b20gPSBpKDMyKTsKbi5fXyQkX19qeF91aV9Gb3JtID0gaSg0Mik7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NvbnRyb2xzID0gaSg0OSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1N1Ym1pdCA9IGkoNjkpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19CdXR0b24gPSBpKDE3KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgbCwgZCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBsLCBkKTsKbyA9IG8gfHwgXy5nZW5lcmF0ZUlEKCk7CnZhciB1ID0gcygxOTUpLCBjID0gcygxOTYpLCBoID0gcygxOTcpLCBmID0gcygxOTgpLCBnID0gcygxOTkpLCBwID0gWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93Q29udGVudCwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfU2Nyb2xsYWJsZUZyYW1lLCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19IZWFkZXIsICIiLCAiIiwgWyBnIF0sIHt9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQm9keSwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9Mb2NhbGl6ZXIsICIiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFtdLCB7CnRhZ05hbWU6ICJhIiwKaHJlZjogImh0dHBzOi8vd3d3LnpvcGltLmNvbS9wcml2YWN5I2Nvb2tpZSIsCnRhcmdldDogIl9ibGFuayIKfSBdIF0sIHsKY29udGVudDogdQp9IF0gXSwge30gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Cb3R0b20sICIiLCAiIiwgWyBjIF0sIHsKYWRkQ2xhc3M6ICJub3RlIgp9IF0gXSwge30gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Cb3R0b20sICIiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfRm9ybSwgImZvcm0iLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NvbnRyb2xzLCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19TdWJtaXQsICIiLCAiIiwgW10sIHsKcGxhY2VtZW50OiAicHJpbWFyeSIsCmFkZENsYXNzOiAid2lkZSIsCnZhbHVlOiBoCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19CdXR0b24sICJjYW5jZWwiLCAiIiwgWyBmIF0sIHsKcGxhY2VtZW50OiAic2Vjb25kYXJ5IiwKaWQ6ICJjYW5jZWwiLAphZGRDbGFzczogIndpZGUgc2Vjb25kYXJ5Igp9IF0gXSwge30gXSBdLCB7CmlkOiAiZm9ybSIKfSBdIF0sIHt9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6d2lkZ2V0cyI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiLAphYnNQYWRkaW5nQm90dG9tOiAiYm90dG9tSGVpZ2h0Igp9IF0sIG0gPSBwWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgXy5tYW5nbGVJRHMobywgcFszXSksIHBbNF0pLCAkID0gbSB8fCB0aGlzOwpfLnNldChvLCAkKTsKdmFyIGIgPSBfLmdldChvICsgIl9fZm9ybSIpLCB3ID0gXy5nZXQobyArICJfX2NhbmNlbCIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgeCA9IGZ1bmN0aW9uKCkgewp2YXIgdCA9IGkoNiksIGUgPSBpKDQxKSwgbiA9IHQucm9vdC4kKCJsaXZlY2hhdCIpLiQoInVpIikuJCgiY2hhdF93aW5kb3ciKS4kKCJtYWluX3N0YWNrX25hbWUkc3RyaW5nIik7CiFmdW5jdGlvbigpIHsKYi5vbigic3VibWl0IiwgZnVuY3Rpb24odCkgewp0LnByZXZlbnREZWZhdWx0KCk7CmUuc2V0VXNlckNob2ljZSghMSk7Cn0pOwp3Lm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewpuLnVwZGF0ZSgiY2hhdF9wYW5lbCIpOwp9KTsKfSgpOwp9KCk7CmZvciAodmFyIHYgaW4geCkgJFt2XSA9IHhbdl07CiQuZmlyZSAmJiAkLmZpcmUoImluaXQiKTsKJC5zZXRTdHlsZSAmJiAkLnNldFN0eWxlKHIpOwokLnNldEF0dHJpYnV0ZXMgJiYgJC5zZXRBdHRyaWJ1dGVzKGQpOwoiZnVuY3Rpb24iID09IHR5cGVvZiAkLmFkZENoaWxkcmVuID8gJC5hZGRDaGlsZHJlbihsKSA6IF8uYWRkQ2hpbGRyZW4oJCwgbCk7CmlmICgkICE9PSB0aGlzKSB7CiQuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwokLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiAkOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93Q29udGVudC5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0ge307CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93Q29udGVudCwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19jb29raWVGb3JtX0RlY2xpbmUiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IGkoMiksIF8gPSBpKDQpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93Q29udGVudCA9IGkoMjcpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19TY3JvbGxhYmxlRnJhbWUgPSBpKDI5KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfSGVhZGVyID0gaSg2MSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0JvZHkgPSBpKDM4KTsKbi5fXyQkX19qeF91aV9Mb2NhbGl6ZXIgPSBpKDg3KTsKbi5fXyQkX19qeF91aV9XaWRnZXQgPSBpKDcpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Cb3R0b20gPSBpKDMyKTsKbi5fXyQkX19qeF91aV9Gb3JtID0gaSg0Mik7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1N1Ym1pdCA9IGkoNjkpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBsLCBkKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIGwsIGQpOwpvID0gbyB8fCBfLmdlbmVyYXRlSUQoKTsKdmFyIHUgPSBzKDE3NiksIGMgPSBzKDE3NyksIGggPSBzKDE3OCksIGYgPSBzKDE3OSksIGcgPSBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NoYXRXaW5kb3dDb250ZW50LCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19TY3JvbGxhYmxlRnJhbWUsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0hlYWRlciwgIiIsICIiLCBbIGYgXSwge30gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Cb2R5LCAiIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX0xvY2FsaXplciwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICIiLCAiIiwgW10sIHsKdGFnTmFtZTogImEiLApocmVmOiAiaHR0cHM6Ly93d3cuem9waW0uY29tL3ByaXZhY3kjY29va2llIiwKdGFyZ2V0OiAiX2JsYW5rIgp9IF0gXSwgewpjb250ZW50OiB1Cn0gXSBdLCB7fSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0JvdHRvbSwgIiIsICIiLCBbIGMgXSwgewphZGRDbGFzczogIm5vdGUiCn0gXSBdLCB7fSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0JvdHRvbSwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9Gb3JtLCAiZm9ybSIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfU3VibWl0LCAiIiwgIiIsIFtdLCB7CmFkZENsYXNzOiAid2lkZSIsCnZhbHVlOiBoCn0gXSBdLCB7CmlkOiAiZm9ybSIKfSBdIF0sIHt9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6d2lkZ2V0cyI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiLAphYnNQYWRkaW5nQm90dG9tOiAiYm90dG9tSGVpZ2h0Igp9IF0sIHAgPSBnWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgXy5tYW5nbGVJRHMobywgZ1szXSksIGdbNF0pLCBtID0gcCB8fCB0aGlzOwpfLnNldChvLCBtKTsKdmFyICQgPSBfLmdldChvICsgIl9fZm9ybSIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgYiA9IGZ1bmN0aW9uKCkgewp2YXIgdCA9IGkoNiksIGUgPSBpKDQxKSwgbiA9IHQucm9vdC4kKCJsaXZlY2hhdCIpLiQoInVpIikuJCgiY2hhdF93aW5kb3ciKS4kKCJtYWluX3N0YWNrX25hbWUkc3RyaW5nIik7CiFmdW5jdGlvbigpIHsKJC5vbigic3VibWl0IiwgZnVuY3Rpb24odCkgewp0LnByZXZlbnREZWZhdWx0KCk7Cm4udXBkYXRlKCJjaGF0X3BhbmVsIik7CmUuc2V0VXNlckNob2ljZSghMCk7Cn0pOwp9KCk7Cn0oKTsKZm9yICh2YXIgdyBpbiBiKSBtW3ddID0gYlt3XTsKbS5maXJlICYmIG0uZmlyZSgiaW5pdCIpOwptLnNldFN0eWxlICYmIG0uc2V0U3R5bGUocik7Cm0uc2V0QXR0cmlidXRlcyAmJiBtLnNldEF0dHJpYnV0ZXMoZCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIG0uYWRkQ2hpbGRyZW4gPyBtLmFkZENoaWxkcmVuKGwpIDogXy5hZGRDaGlsZHJlbihtLCBsKTsKaWYgKG0gIT09IHRoaXMpIHsKbS5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7Cm0uX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIG07Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NoYXRXaW5kb3dDb250ZW50LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7fTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NoYXRXaW5kb3dDb250ZW50LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X2Nvb2tpZUZvcm1fQWNjZXB0Igp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSBpKDIpLCBfID0gaSg0KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQ2hhdFdpbmRvd0NvbnRlbnQgPSBpKDI3KTsKbi5fXyQkX19qeF91aV9Gb3JtID0gaSg0Mik7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1Njcm9sbGFibGVGcmFtZSA9IGkoMjkpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Cb2R5ID0gaSgzOCk7Cm4uX18kJF9fanhfdWlfVGV4dEFyZWEgPSBpKDE1NSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0JvdHRvbSA9IGkoMzIpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19TdWJtaXQgPSBpKDY5KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQnV0dG9uID0gaSgxNyk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIGwsIGQpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgbCwgZCk7Cm8gPSBvIHx8IF8uZ2VuZXJhdGVJRCgpOwp2YXIgdSA9IHMoMTc0KSwgYyA9IHMoMTc1KSwgaCA9IFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQ2hhdFdpbmRvd0NvbnRlbnQsICIiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfRm9ybSwgImZvcm0iLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1Njcm9sbGFibGVGcmFtZSwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQm9keSwgIm1lc3NhZ2UiLCAiIiwgW10sIHsKaWQ6ICJtZXNzYWdlIgp9IF0sIFsgbi5fXyQkX19qeF91aV9UZXh0QXJlYSwgImNvbW1lbnRzIiwgIiIsIFtdLCB7CmlkOiAiY29tbWVudHMiLAphZGRDbGFzczogImNvbW1lbnRzIgp9IF0gXSwge30gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Cb3R0b20sICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1N1Ym1pdCwgIiIsICIiLCBbXSwgewp2YWx1ZTogdQp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQnV0dG9uLCAic2tpcCIsICIiLCBbIGMgXSwgewppZDogInNraXAiLAphZGRDbGFzczogInNlY29uZGFyeSIKfSBdIF0sIHsKYWRkQ2xhc3M6ICJwYWRkaW5nX2JvdHRvbSIKfSBdIF0sIHsKaWQ6ICJmb3JtIgp9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6bXVpIjogIm1lc2hpbS51aSIsCiJ4bWxuczpjb21wb25lbnRzIjogIm1lc2hpbS53aWRnZXQuY29tcG9uZW50cyIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIsCmFic1BhZGRpbmdCb3R0b206ICJib3R0b21IZWlnaHQiCn0gXSwgZiA9IGhbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBfLm1hbmdsZUlEcyhvLCBoWzNdKSwgaFs0XSksIGcgPSBmIHx8IHRoaXM7Cl8uc2V0KG8sIGcpOwp2YXIgcCA9IF8uZ2V0KG8gKyAiX19mb3JtIiksIG0gPSBfLmdldChvICsgIl9fbWVzc2FnZSIpLCAkID0gXy5nZXQobyArICJfX2NvbW1lbnRzIiksIGIgPSBfLmdldChvICsgIl9fc2tpcCIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgdyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KCkgewptLnNldFRleHQoby5nZXQobC4kJChlICsgIi5tZXNzYWdlJHN0cmluZyIpKSk7CiQuc2V0UGxhY2Vob2xkZXIoby5nZXQobC4kJChlICsgIi5wbGFjZWhvbGRlciRzdHJpbmciKSkpOwp9CnZhciBlLCBuID0gaSg2KSwgbyA9IGkoMTApLCByID0gbi5yb290LiQoImxpdmVjaGF0IiksIGEgPSByLiQoInNldHRpbmdzIikuJCgiZm9ybXMiKS4kKCJwb3N0X2NoYXRfZm9ybSIpLCBzID0gci4kKCJjaGFubmVsIikuJCgicmF0aW5nJHN0cmluZyIpLCBfID0gbi5yb290LiQoImxpdmVjaGF0IikuJCgidWkiKS4kKCJjaGF0X3dpbmRvdyIpLiQoIm1haW5fc3RhY2tfbmFtZSRzdHJpbmciKSwgbCA9IGEuJCgiY29tbWVudHNfbWVzc2FnZXMiKTsKIWZ1bmN0aW9uKCkgewokLnNldExhYmVsRWxlbWVudChtKTsKZy5hdXRvYmluZChsLCAidmFsdWUiLCBmdW5jdGlvbigpIHsKdCgpOwp9KTsKZy5hdXRvYmluZChzLCAidmFsdWUiLCBmdW5jdGlvbihpKSB7CmUgPSBpOwp0KCk7Cn0pOwpwLm9uKCJzdWJtaXQiLCBmdW5jdGlvbih0KSB7CnQucHJldmVudERlZmF1bHQoKTsKaWYgKGcudmFsaWRhdGUoKSkgewphLndyaXRlKHsKY29tbWVudHNfdXNlciRzdHJpbmc6ICQuZ2V0VmFsdWUoKS50cmltKCkKfSk7Cl8udXBkYXRlKCJjaGF0X3BhbmVsIik7Cn0KfSk7CmIub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7Cl8udXBkYXRlKCJjaGF0X3BhbmVsIik7Cn0pOwp9KCk7Cn0oKTsKZm9yICh2YXIgeCBpbiB3KSBnW3hdID0gd1t4XTsKZy5maXJlICYmIGcuZmlyZSgiaW5pdCIpOwpnLnNldFN0eWxlICYmIGcuc2V0U3R5bGUocik7Cmcuc2V0QXR0cmlidXRlcyAmJiBnLnNldEF0dHJpYnV0ZXMoZCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGcuYWRkQ2hpbGRyZW4gPyBnLmFkZENoaWxkcmVuKGwpIDogXy5hZGRDaGlsZHJlbihnLCBsKTsKaWYgKGcgIT09IHRoaXMpIHsKZy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmcuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGc7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NoYXRXaW5kb3dDb250ZW50LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIuY29tbWVudHMiOiB7CndpZHRoOiAiMTAwJSIsCmhlaWdodDogIjI1JSIKfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQ2hhdFdpbmRvd0NvbnRlbnQsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfcG9zdENoYXRGb3JtX0NvbW1lbnRzRm9ybSIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX2p4X3VpX1dpZGdldCA9IGkoNyk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIF8sIGwpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgXywgbCk7Cm8gPSBvIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgZCA9IFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICIiLCAiIiwgW10sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIGggPSBmdW5jdGlvbigpIHsKdmFyIHQgPSBpKDcpOwpjLnNldEl0ZW1zID0gZnVuY3Rpb24oZSkgewplID0gZS5zcGxpdCgiLCIpOwpmb3IgKHZhciBpID0gMCwgbiA9IGUubGVuZ3RoOyBpIDwgbjsgaSsrKSBuZXcgdChjLCBudWxsLCBudWxsLCBudWxsLCB7CmNsYXNzTmFtZTogZVtpXQp9KTsKfTsKfSgpOwpmb3IgKHZhciBmIGluIGgpIGNbZl0gPSBoW2ZdOwpjLmZpcmUgJiYgYy5maXJlKCJpbml0Iik7CmMuc2V0U3R5bGUgJiYgYy5zZXRTdHlsZShyKTsKYy5zZXRBdHRyaWJ1dGVzICYmIGMuc2V0QXR0cmlidXRlcyhsKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5hZGRDaGlsZHJlbiA/IGMuYWRkQ2hpbGRyZW4oXykgOiBzLmFkZENoaWxkcmVuKGMsIF8pOwppZiAoYyAhPT0gdGhpcykgewpjLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKYy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gYzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19qeF91aV9XaWRnZXQucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIioqc2VsZiI6IHsKcG9zaXRpb246ICJyZWxhdGl2ZSIKfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9XaWRnZXQsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX01vdGlmIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NoYXRXaW5kb3dDb250ZW50ID0gaSgyNyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1Njcm9sbGFibGVGcmFtZSA9IGkoMjkpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19IZWFkZXIgPSBpKDYxKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQm9keSA9IGkoMzgpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19SYXRpbmdCYXIgPSBpKDEwMik7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX21vdGlmX0NoYXQgPSBpKDEzMSk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIF8sIGwpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgXywgbCk7Cm8gPSBvIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgZCA9IFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQ2hhdFdpbmRvd0NvbnRlbnQsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1Njcm9sbGFibGVGcmFtZSwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfSGVhZGVyLCAiaGVhZGVyIiwgIiIsIFtdLCB7CmlkOiAiaGVhZGVyIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQm9keSwgIm1lc3NhZ2UiLCAiIiwgW10sIHsKaWQ6ICJtZXNzYWdlIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfUmF0aW5nQmFyLCAicmF0aW5nX2JhciIsICIiLCBbXSwgewppZDogInJhdGluZ19iYXIiLAphZGRDbGFzczogInJhdGluZ19iYXIiLApkZXNjcmlwdGlvbjogInRydWUiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19tb3RpZl9DaGF0LCAiIiwgIiIsIFtdLCB7CmFkZENsYXNzOiAiY2hhdF9tb3RpZiIKfSBdIF0sIHsKYWRkQ2xhc3M6ICJzY3JvbGxhYmxlX2ZyYW1lIgp9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6bXVpIjogIm1lc2hpbS51aSIsCiJ4bWxuczpjb21wb25lbnRzIjogIm1lc2hpbS53aWRnZXQuY29tcG9uZW50cyIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CnZhciBoID0gcy5nZXQobyArICJfX2hlYWRlciIpLCBmID0gcy5nZXQobyArICJfX21lc3NhZ2UiKSwgZyA9IHMuZ2V0KG8gKyAiX19yYXRpbmdfYmFyIik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBwID0gZnVuY3Rpb24oKSB7CnZhciB0ID0gaSg2KSwgZSA9IGkoMTApLCBuID0gaSg5KSwgbyA9IHQucm9vdC4kKCJsaXZlY2hhdCIpLiQoInNldHRpbmdzIikuJCgiZm9ybXMiKS4kKCJwb3N0X2NoYXRfZm9ybSIpLCByID0gby4kKCJoZWFkZXIkc3RyaW5nIiksIGEgPSBvLiQoIm1lc3NhZ2Ukc3RyaW5nIiksIHMgPSB0LnJvb3QuJCgibGl2ZWNoYXQiKS4kKCJjaGFubmVsIiksIF8gPSBzLiQoInJhdGluZyRzdHJpbmciKTsKIWZ1bmN0aW9uKCkgewpuLm1vYmlsZShjKTsKZy5zZXREYXRhTm9kZShfKTsKYy5hdXRvYmluZChyLCAidmFsdWUiLCBmdW5jdGlvbigpIHsKaC5zZXRUZXh0KGUuZ2V0KHIpKTsKfSk7CmMuYXV0b2JpbmQoYSwgInZhbHVlIiwgZnVuY3Rpb24oKSB7CmYuc2V0VGV4dChlLmdldChhKSk7Cn0pOwp9KCk7Cn0oKTsKZm9yICh2YXIgbSBpbiBwKSBjW21dID0gcFttXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NoYXRXaW5kb3dDb250ZW50LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CnRleHRBbGlnbjogImNlbnRlciIKfSwKIi5yYXRpbmdfYmFyIjogewpkaXNwbGF5OiAiaW5saW5lLWJsb2NrIiwKd2lkdGg6ICIxNTBweCIKfSwKIi5jaGF0X21vdGlmIjogewpwb3NpdGlvbjogImFic29sdXRlIiwKImJvdHRvbSwgbGVmdCI6IDAKfSwKIi5zY3JvbGxhYmxlX2ZyYW1lIjogewpwYWRkaW5nQm90dG9tOiAiMCAhaW1wb3J0YW50Igp9LAoiJi5tb2JpbGUiOiB7CiIuY2hhdF9tb3RpZiI6IHsKcG9zaXRpb246ICJyZWxhdGl2ZSIKfQp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93Q29udGVudCwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19wb3N0Q2hhdEZvcm1fUmF0aW5nRm9ybSIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpLCBvLCByKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiBuKSkgcmV0dXJuIG5ldyBuKHQsIGUsIGksIG8sIHIpOwpyIHx8IChyID0ge30pOwp0aGlzLmlmcmFtZV9xdWlya3MgPSB0Lm93bmVyRG9jdW1lbnQgIT0gZG9jdW1lbnQ7CnRoaXMuY29udGFpbmVyID0gbmV3IHModCwgbnVsbCwgbnVsbCwgbnVsbCwge30pOwp0aGlzLmNvbnRhaW5lci5hZGRDbGFzcygiY29udGFpbmVyIik7CnZhciBhID0gdGhpczsKdGhpcy5jb250YWluZXIuZGVzdHJveSA9IGZ1bmN0aW9uKCkgewphLmRlc3Ryb3koKTsKfTsKdGhpcy5jb250YWluZXIuZW1wdHkgPSBmdW5jdGlvbigpIHsKYS5lbXB0eSgpOwp9Owp0aGlzLmNvbnRhaW5lcl9taWRkbGUgPSBuZXcgcyh0aGlzLmNvbnRhaW5lciwgbnVsbCwgbnVsbCwgbnVsbCwge30pOwp0aGlzLmNvbnRhaW5lcl9taWRkbGUuYWRkQ2xhc3MoImNvbnRhaW5lcl9taWRkbGUiKTsKcy5jYWxsKHRoaXMsIHRoaXMuY29udGFpbmVyX21pZGRsZSwgZSwgaSwgbywgcik7CnRoaXMudXNlRGlzcGxheSA9ICEwOwppZiAobCkgewp0aGlzLmNvbnRhaW5lci5zZXRTdHlsZSgicG9zaXRpb24iLCAicmVsYXRpdmUiKTsKdGhpcy5jb250YWluZXJfbWlkZGxlLnNldFN0eWxlKCJwb3NpdGlvbiIsICJhYnNvbHV0ZSIpOwp0aGlzLnNldFN0eWxlKCJwb3NpdGlvbiIsICJyZWxhdGl2ZSIpOwooXyB8fCB0aGlzLmlmcmFtZV9xdWlya3MpICYmIHRoaXMuY29udGFpbmVyX21pZGRsZS5zZXRTdHlsZSgid2lkdGgiLCAiMTAwJSIpLnNldFN0eWxlKCJsZWZ0IiwgMCk7Cn0gZWxzZSB7CnIudmlzaWJsZSB8fCB0aGlzLmNvbnRhaW5lci5zZXRTdHlsZSgiZGlzcGxheSIsICJ0YWJsZSIpOwp0aGlzLmNvbnRhaW5lcl9taWRkbGUuc2V0U3R5bGUoImRpc3BsYXkiLCAidGFibGUtY2VsbCIpLnNldFN0eWxlKCJ3aWR0aCIsICIxMDAlIik7CnRoaXMuc2V0U3R5bGUoImRpc3BsYXkiLCAidGFibGUiKTsKfQp0aGlzLmNvbnRhaW5lci5zZXRTdHlsZSgib3ZlcmZsb3ciLCAiaGlkZGVuIikuc2V0U3R5bGUoIndpZHRoIiwgIjEwMCUiKS5zZXRTdHlsZSgiaGVpZ2h0IiwgIjEwMCUiKTsKci5oQWxpZ24gfHwgdGhpcy5zZXRIQWxpZ24oKTsKci52QWxpZ24gfHwgdGhpcy5zZXRWQWxpZ24oKTsKfQp2YXIgbyA9IGkoMSksIHIgPSBpKDgpLCBhID0gaSgwKSwgcyA9IGkoNyksIF8gPSByLmlzUXVpcmtzLCBsID0gci5idWdzLm5vQm94U2l6aW5nLCBkID0gbCA/ICJibG9jayIgOiAidGFibGUiOwpuLnByb3RvdHlwZSA9IGEocy5wcm90b3R5cGUpOwpvKG4sIHMsIHsKZnFuYW1lOiAianhfdWlfRnJhbWUiCn0pOwpuLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24oKSB7CmlmICh0aGlzLmNvbnRhaW5lciAmJiB0aGlzLmNvbnRhaW5lci5kb20uc3R5bGUuZGlzcGxheSAhPSBkKSB7CnRoaXMuY29udGFpbmVyLnNldFZpc2libGUoZCk7CnRoaXMuZmlyZSgic2hvdyIpOwp9CnJldHVybiB0aGlzOwp9OwpuLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24oKSB7CmlmICh0aGlzLmNvbnRhaW5lciAmJiAibm9uZSIgIT0gdGhpcy5jb250YWluZXIuZG9tLnN0eWxlLmRpc3BsYXkpIHsKdGhpcy5jb250YWluZXIuc2V0VmlzaWJsZSgibm9uZSIpOwp0aGlzLmZpcmUoImhpZGUiKTsKfQpyZXR1cm4gdGhpczsKfTsKbi5wcm90b3R5cGUuaXNWaXNpYmxlID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLmNvbnRhaW5lciAmJiB0aGlzLmNvbnRhaW5lci5kb20uc3R5bGUuZGlzcGxheSA9PSBkOwp9OwpuLnByb3RvdHlwZS5zZXRaSW5kZXggPSBmdW5jdGlvbih0KSB7CnRoaXMuY29udGFpbmVyICYmIHRoaXMuY29udGFpbmVyLnNldFpJbmRleCh0KTsKcmV0dXJuIHRoaXM7Cn07Cm4ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHsKcy5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpOwppZiAodGhpcy5jb250YWluZXIpIHsKcy5wcm90b3R5cGUuZW1wdHkuY2FsbCh0aGlzLmNvbnRhaW5lcik7CnRoaXMuY29udGFpbmVyLmVtcHR5ID0gbnVsbDsKcy5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMuY29udGFpbmVyKTsKdGhpcy5jb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcl9taWRkbGUgPSBudWxsOwp9Cn07Cm4ucHJvdG90eXBlLmdldEhBbGlnbiA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gdGhpcy5oQWxpZ247Cn07Cm4ucHJvdG90eXBlLnNldEhBbGlnbiA9IGZ1bmN0aW9uKHQpIHsKc3dpdGNoICh0KSB7CmNhc2UgImxlZnQiOgpfIHx8IHRoaXMuaWZyYW1lX3F1aXJrcyA/IHRoaXMuY29udGFpbmVyX21pZGRsZS5zZXRTdHlsZSgidGV4dC1hbGlnbiIsICJsZWZ0IikgOiBsID8gdGhpcy5zZXRTdHlsZSgibWFyZ2luLWxlZnQiLCAiMCIpLnNldFN0eWxlKCJtYXJnaW4tcmlnaHQiLCAiYXV0byIpIDogdGhpcy5jb250YWluZXJfbWlkZGxlLnNldFN0eWxlKCJsZWZ0IiwgIjAlIikuc2V0U3R5bGUoInJpZ2h0IiwgIiIpOwp0aGlzLmhBbGlnbiA9IHQ7CmJyZWFrOwoKY2FzZSAicmlnaHQiOgpfIHx8IHRoaXMuaWZyYW1lX3F1aXJrcyA/IHRoaXMuY29udGFpbmVyX21pZGRsZS5zZXRTdHlsZSgidGV4dC1hbGlnbiIsICJyaWdodCIpIDogbCA/IHRoaXMuc2V0U3R5bGUoIm1hcmdpbi1sZWZ0IiwgImF1dG8iKS5zZXRTdHlsZSgibWFyZ2luLXJpZ2h0IiwgIjAiKSA6IHRoaXMuY29udGFpbmVyX21pZGRsZS5zZXRTdHlsZSgibGVmdCIsICIiKS5zZXRTdHlsZSgicmlnaHQiLCAiMCUiKTsKdGhpcy5oQWxpZ24gPSB0OwpicmVhazsKCmRlZmF1bHQ6Cl8gfHwgdGhpcy5pZnJhbWVfcXVpcmtzID8gdGhpcy5jb250YWluZXJfbWlkZGxlLnNldFN0eWxlKCJ0ZXh0LWFsaWduIiwgImNlbnRlciIpIDogbCAmJiB0aGlzLmNvbnRhaW5lcl9taWRkbGUuc2V0U3R5bGUoImxlZnQiLCAiIikuc2V0U3R5bGUoInJpZ2h0IiwgIiIpOwp0aGlzLnNldFN0eWxlKCJtYXJnaW4tbGVmdCIsICJhdXRvIikuc2V0U3R5bGUoIm1hcmdpbi1yaWdodCIsICJhdXRvIik7CnRoaXMuaEFsaWduID0gImNlbnRlciI7Cn0KfTsKbi5wcm90b3R5cGUuZ2V0VkFsaWduID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLnZBbGlnbjsKfTsKbi5wcm90b3R5cGUuc2V0VkFsaWduID0gZnVuY3Rpb24odCkgewpzd2l0Y2ggKHQpIHsKY2FzZSAidG9wIjoKaWYgKGwpIHsKdGhpcy5jb250YWluZXJfbWlkZGxlLnNldFN0eWxlKCJ0b3AiLCAiMCUiKS5zZXRTdHlsZSgiYm90dG9tIiwgIiIpOwp0aGlzLnNldFN0eWxlKCJ0b3AiLCAiIik7Cn0gZWxzZSB0aGlzLmNvbnRhaW5lcl9taWRkbGUuc2V0U3R5bGUoInZlcnRpY2FsLWFsaWduIiwgInRvcCIpOwp0aGlzLnZBbGlnbiA9IHQ7CmJyZWFrOwoKY2FzZSAiYm90dG9tIjoKaWYgKGwpIHsKdGhpcy5jb250YWluZXJfbWlkZGxlLnNldFN0eWxlKCJ0b3AiLCAiIikuc2V0U3R5bGUoImJvdHRvbSIsICIwJSIpOwp0aGlzLnNldFN0eWxlKCJ0b3AiLCAiIik7Cn0gZWxzZSB0aGlzLmNvbnRhaW5lcl9taWRkbGUuc2V0U3R5bGUoInZlcnRpY2FsLWFsaWduIiwgImJvdHRvbSIpOwp0aGlzLnZBbGlnbiA9IHQ7CmJyZWFrOwoKZGVmYXVsdDoKaWYgKGwpIHsKdGhpcy5jb250YWluZXJfbWlkZGxlLnNldFN0eWxlKCJ0b3AiLCAiNTAlIikuc2V0U3R5bGUoImJvdHRvbSIsICIiKTsKdGhpcy5zZXRTdHlsZSgidG9wIiwgIi01MCUiKTsKfSBlbHNlIHsKdGhpcy5jb250YWluZXJfbWlkZGxlLnNldFN0eWxlKCJoZWlnaHQiLCAiMTAwJSIpOwp0aGlzLmNvbnRhaW5lcl9taWRkbGUuc2V0U3R5bGUoInZlcnRpY2FsLWFsaWduIiwgIm1pZGRsZSIpOwp9CnRoaXMudkFsaWduID0gIm1pZGRsZSI7Cn0KcmV0dXJuIHRoaXM7Cn07Cm4ucHJvdG90eXBlLmdldEFsaWduID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLmhBbGlnbiArICIgIiArIHRoaXMudkFsaWduOwp9OwpuLnByb3RvdHlwZS5zZXRBbGlnbiA9IGZ1bmN0aW9uKHQpIHsKaWYgKCJzdHJpbmciID09IHR5cGVvZiB0KSB7CnQgPSB0LnJlcGxhY2UoL15ccyp8XHMqJC8sICIiKS5yZXBsYWNlKC9ccysvZywgIiAiKS5zcGxpdCgiICIpOwp0aGlzLnNldEhBbGlnbih0WzBdKTsKdGhpcy5zZXRWQWxpZ24odFsxXSk7Cn0KfTsKdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQsIGUsIGksIG8sIGEpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIG4pKSByZXR1cm4gbmV3IG4odCwgZSwgaSwgbywgYSk7CmlmICghbi5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewpyLmdlbmVyYXRlKHRoaXMsIG4ucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgbi5fX2p4X19qY3NzLCBudWxsLCBuKTsKbi5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnMuY2FsbCh0aGlzLCB0LCBlLCBpLCBvLCBhKTsKdGhpcy5vbigiZm9jdXMiLCBmdW5jdGlvbigpIHsKdGhpcy5hZGRDbGFzcygiZm9jdXMiKTsKfSk7CnRoaXMub24oImJsdXIiLCBmdW5jdGlvbigpIHsKdGhpcy5yZW1vdmVDbGFzcygiZm9jdXMiKTsKfSk7Cn0KdmFyIG8gPSBpKDEpLCByID0gaSgzKSwgYSA9IGkoMCksIHMgPSBpKDcpOwpuLl9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CiImOmZvY3VzIjogewpvdXRsaW5lOiAibm9uZSIKfQp9Cn07Cm4ucHJvdG90eXBlID0gYShzLnByb3RvdHlwZSk7Cm8obiwgcywgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfRW1vdGljb24iCn0pOwp0LmV4cG9ydHMgPSBuOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19qeF91aV9XaWRnZXQgPSBpKDcpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFtdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczptdWkiOiAibWVzaGltLnVpIiwKInhtbG5zOmNvbXBvbmVudHMiOiAibWVzaGltLndpZGdldC5jb21wb25lbnRzIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIGggPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCh0KSB7CmMuc2V0RGlzcGxheSh0ID8gIiIgOiAibm9uZSIpOwp9CnZhciBlLCBuLCBvID0gaSgyODUpLCByID0gaSg3KSwgYSA9IHsKYW1iaXZhbGVudDogIjp8IiwKYW5ncnk6ICI6KCIsCmJsdXNoOiAiOj8iLApjb25mdXNlZDogIjo/IiwKY3Jhenk6ICI6PyIsCmNyeWluZzogIjo/IiwKZnJvd246ICI6PyIsCmdhc3A6ICI6PyIKfSwgcyA9IDYsIF8gPSBbXTsKYy5zZXREYXRhTm9kZSA9IGZ1bmN0aW9uKGksIG8pIHsKZSAmJiBjLmF1dG91bmJpbmQoZSwgInZhbHVlIiwgdCk7CmUgPSBpOwpuID0gbzsKZSAmJiBjLmF1dG9iaW5kKGUsICJ2YWx1ZSIsIHQpOwp9OwohZnVuY3Rpb24oKSB7CnZhciB0LCBpID0gMDsKZm9yICh2YXIgbCBpbiBhKSBpZiAoYS5oYXNPd25Qcm9wZXJ0eShsKSkgewp0ID0gbmV3IG8oYywgbnVsbCwgbnVsbCwgbnVsbCwgewphZGRDbGFzczogbCwKdGl0bGU6IGwsCnZhbHVlOiBhW2xdLAp0YWJJbmRleDogMAp9KTsKdC5zZXRBdHRyaWJ1dGUoImRhdGEtaW5kZXgiLCBpKTsKXy5wdXNoKHQpOworK2kgJSBzID09IDAgJiYgbmV3IHIoYywgbnVsbCwgbnVsbCwgbnVsbCwgewp0YWdOYW1lOiAiYnIiCn0pOwp9CmMub24oImNsaWNrIiwgZnVuY3Rpb24odCkgewp2YXIgaSA9IHQudGFyZ2V0Lmp4X3dyYXBwZXI7CmlmIChpICE9IGMpIHsKZm9yICg7aS5wYXJlbnROb2RlICE9PSBjOyApIGkgPSBpLnBhcmVudE5vZGU7CmlmIChpLmdldFZhbHVlKCkpIHsKbiAmJiBuLnVwZGF0ZShpLmdldFZhbHVlKCkpOwplICYmIGUudXBkYXRlKCExKTsKfQp9Cn0pOwpjLm9uKCJrZXlkb3duIiwgZnVuY3Rpb24odCkgewp2YXIgaTsKdC50YXJnZXQuanhfd3JhcHBlcjsKc3dpdGNoICh0LmtleUNvZGUpIHsKY2FzZSAxMzoKaSA9IHQudGFyZ2V0Lmp4X3dyYXBwZXIuZ2V0VmFsdWUoKTsKaWYgKGkpIHsKbiAmJiBuLnVwZGF0ZSh0LnRhcmdldC5qeF93cmFwcGVyLmdldFZhbHVlKCkpOwplICYmIGUudXBkYXRlKCExKTsKfQpicmVhazsKCmNhc2UgMjc6CmUgJiYgZS51cGRhdGUoITEpOwpicmVhazsKCmNhc2UgOToKcmV0dXJuOwoKY2FzZSAzODoKaSA9IF9bcGFyc2VJbnQodC50YXJnZXQuanhfd3JhcHBlci5nZXRBdHRyaWJ1dGUoImRhdGEtaW5kZXgiKSwgMTApIC0gc107CmkgJiYgaS5mb2N1cygpOwpicmVhazsKCmNhc2UgNDA6CmkgPSBfW3BhcnNlSW50KHQudGFyZ2V0Lmp4X3dyYXBwZXIuZ2V0QXR0cmlidXRlKCJkYXRhLWluZGV4IiksIDEwKSArIHNdOwppICYmIGkuZm9jdXMoKTsKYnJlYWs7CgpjYXNlIDM3OgppID0gX1twYXJzZUludCh0LnRhcmdldC5qeF93cmFwcGVyLmdldEF0dHJpYnV0ZSgiZGF0YS1pbmRleCIpLCAxMCkgLSAxXTsKaSAmJiBpLmZvY3VzKCk7CmJyZWFrOwoKY2FzZSAzOToKaSA9IF9bcGFyc2VJbnQodC50YXJnZXQuanhfd3JhcHBlci5nZXRBdHRyaWJ1dGUoImRhdGEtaW5kZXgiKSwgMTApICsgMV07CmkgJiYgaS5mb2N1cygpOwpicmVhazsKCmRlZmF1bHQ6CnJldHVybjsKfQp0LnByZXZlbnREZWZhdWx0KCk7Cn0pOwp9KCk7Cn0oKTsKZm9yICh2YXIgZiBpbiBoKSBjW2ZdID0gaFtmXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfV2lkZ2V0LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7fTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfV2lkZ2V0LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19FbW90aWNvblBpY2tlciIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpLCBvLCBfKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiBuKSkgcmV0dXJuIG5ldyBuKHQsIGUsIGksIG8sIF8pOwp0aGlzLiRub2RlOwppZiAoIW4uX19qeF9famNzc19nZW5lcmF0ZWQpIHsKci5nZW5lcmF0ZSh0aGlzLCBuLnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIG4uX19qeF9famNzcywgbnVsbCwgbik7Cm4uX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp0aGlzLm1pbkhlaWdodCA9IDA7CnRoaXMubWF4SGVpZ2h0ID0gd2luZG93LkluZmluaXR5Owp0aGlzLnZCb3hPZmZzZXQgPSAwOwp0aGlzLmhCb3hPZmZzZXQgPSAwOwpfIHx8IChfID0ge30pOwpfLm92ZXJmbG93IHx8IChfLm92ZXJmbG93ID0gImhpZGRlbiIpOwpfLm92ZXJmbG93WSB8fCAoXy5vdmVyZmxvd1kgPSAiaGlkZGVuIik7CmwuY2FsbCh0aGlzLCB0LCBlLCBpLCBvLCBfKTsKdGhpcy5zdHlsZS53b3JkV3JhcCA9ICJicmVhay13b3JkIjsKdGhpcy5zdHlsZS5yZXNpemUgPSAibm9uZSI7CnRoaXMuY29tcGF0TW9kZSA9IGEuYnVncy5ub0JveFNpemluZyAmJiAiQ1NTMUNvbXBhdCIgIT0gdGhpcy5kb2MuY29tcGF0TW9kZSAmJiB0aGlzLmRvYyAhPSBkb2N1bWVudDsKaWYgKCF0aGlzLmNvbXBhdE1vZGUpIHsKdGhpcy5mYWtlVGV4dEFyZWEgPSBuZXcgbCh0aGlzLmRvYy5ib2R5LCBudWxsLCBudWxsLCBudWxsLCB7CmNsYXNzTmFtZTogdGhpcy5nZXRDbGFzc05hbWUoKSwKdGFiSW5kZXg6ICItMSIKfSk7CnRyeSB7CnRoaXMuZmFrZVRleHRBcmVhLnNldFN0eWxlKCJwb3NpdGlvbjphYnNvbHV0ZTsgdG9wOi05OTlweDsgbGVmdDowOyByaWdodDphdXRvOyBib3R0b206YXV0bzsgYm9yZGVyOjA7IHdvcmQtd3JhcDpicmVhay13b3JkOyBoZWlnaHQ6MCAhaW1wb3J0YW50OyBvdmVyZmxvdzpoaWRkZW47IG1pbi1oZWlnaHQ6MCAhaW1wb3J0YW50OyAtbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7IC13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDsgYm94LXNpemluZzpjb250ZW50LWJveDsiKTsKfSBjYXRjaCAodCkge30KdGhpcy5vbkRlc3RydWN0aW9uKGZ1bmN0aW9uKCkgewp0aGlzLmZha2VUZXh0QXJlYS5kZXN0cm95KCk7Cn0pOwp9CnZhciBkID0gdGhpczsKcyhmdW5jdGlvbigpIHsKZC5kb20gJiYgZC51cGRhdGVTdHlsZXMoKTsKfSk7CnRoaXMuX3VwZGF0ZVZhbHVlTm9kZSA9IGZ1bmN0aW9uKCkgewp0aGlzLnVwZGF0ZVZhbHVlTm9kZSgpOwp9Owp0aGlzLl9yZWFkVmFsdWVOb2RlID0gZnVuY3Rpb24odCkgewpkLnJlYWRWYWx1ZU5vZGUodCk7Cn07CnRoaXMub24oImlucHV0IiwgdGhpcy5fdXBkYXRlVmFsdWVOb2RlKTsKdGhpcy5vbigiY2hhbmdlIiwgdGhpcy5fdXBkYXRlVmFsdWVOb2RlKTsKdGhpcy5vbigia2V5dXAiLCB0aGlzLl91cGRhdGVWYWx1ZU5vZGUpOwp0aGlzLl91cGRhdGVIZWlnaHQgPSBmdW5jdGlvbigpIHsKdGhpcy51cGRhdGVIZWlnaHQoKTsKfTsKaWYgKCJvbnByb3BlcnR5Y2hhbmdlIiBpbiB0aGlzLmRvbSkgaWYgKCJvbmlucHV0IiBpbiB0aGlzLmRvbSkgewp0aGlzLm9uKCJpbnB1dCIsIHRoaXMuX3VwZGF0ZUhlaWdodCk7CnRoaXMub24oImtleXVwIiwgdGhpcy5fdXBkYXRlSGVpZ2h0KTsKfSBlbHNlIHRoaXMub24oInByb3BlcnR5Y2hhbmdlIiwgdGhpcy5fdXBkYXRlSGVpZ2h0KTsgZWxzZSB0aGlzLm9uKCJpbnB1dCIsIHRoaXMuX3VwZGF0ZUhlaWdodCk7Cn0KdmFyIG8gPSBpKDEpLCByID0gaSgzKSwgYSA9IGkoOCksIHMgPSBpKDE2KSwgXyA9IGkoMCksIGwgPSBpKDc4KTsKbi5fX2p4X19qY3NzID0gewoiKipzZWxmIjoge30KfTsKbi5wcm90b3R5cGUgPSBfKGwucHJvdG90eXBlKTsKbyhuLCBsLCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19BdXRvUmVzaXplVGV4dEFyZWEiCn0pOwpuLnByb3RvdHlwZS5fX2p4X19zdXBlciA9IGw7Cm4ucHJvdG90eXBlLnVwZGF0ZVZhbHVlTm9kZSA9IGZ1bmN0aW9uKCkgewppZiAodGhpcy4kbm9kZSkgewp0aGlzLl91cGRhdGluZ1ZhbHVlTm9kZSA9ICEwOwp0aGlzLiRub2RlLiQoInZhbHVlJHN0cmluZyIpLnVwZGF0ZSh0aGlzLmdldFZhbHVlKCkpOwp0aGlzLl91cGRhdGluZ1ZhbHVlTm9kZSA9ICExOwp9Cn07Cm4ucHJvdG90eXBlLnJlYWRWYWx1ZU5vZGUgPSBmdW5jdGlvbih0KSB7CnRoaXMuJG5vZGUgJiYgKHRoaXMuX3VwZGF0aW5nVmFsdWVOb2RlIHx8IG51bGwgIT0gdCAmJiB0aGlzLnNldFZhbHVlKHQpKTsKfTsKbi5wcm90b3R5cGUudXBkYXRlSGVpZ2h0ID0gZnVuY3Rpb24oKSB7CmlmICgodGhpcy5jb21wYXRNb2RlIHx8IHRoaXMuZmFrZVRleHRBcmVhKSAmJiAhdGhpcy5hY3RpdmUpIHsKdmFyIHQsIGU7CnRoaXMuYWN0aXZlID0gITA7CmlmICh0aGlzLmNvbXBhdE1vZGUpIHsKdGhpcy5zdHlsZS5oZWlnaHQgPSAwOwp0ID0gdGhpcy5kb20ub2Zmc2V0SGVpZ2h0IC0gdGhpcy52Qm94T2Zmc2V0Owp9IGVsc2Ugewp0aGlzLmZha2VUZXh0QXJlYS5zZXRWYWx1ZSh0aGlzLmdldFZhbHVlKCkpOwp0aGlzLmZha2VUZXh0QXJlYS5zdHlsZS5vdmVyZmxvd1kgPSB0aGlzLnN0eWxlLm92ZXJmbG93WTsKcGFyc2VJbnQodGhpcy5zdHlsZS5oZWlnaHQsIDEwKTsKdGhpcy5mYWtlVGV4dEFyZWEuc3R5bGUud2lkdGggPSBNYXRoLm1heChNYXRoLm1heCh0aGlzLmRvbS5vZmZzZXRXaWR0aCwgMCkgLSB0aGlzLmhCb3hPZmZzZXQsIDApICsgInB4IjsKdGhpcy5mYWtlVGV4dEFyZWEuZG9tLnNjcm9sbFRvcCA9IDA7CnRoaXMuZmFrZVRleHRBcmVhLmRvbS5zY3JvbGxUb3AgPSA5ZTQ7CnQgPSB0aGlzLmZha2VUZXh0QXJlYS5kb20uc2Nyb2xsVG9wOwp9CnZhciBpID0gdGhpcy5tYXhIZWlnaHQgLSB0aGlzLnZCb3hPZmZzZXQsIG4gPSB0aGlzLm1pbkhlaWdodCAtIHRoaXMudkJveE9mZnNldDsKaWYgKHQgPiBpKSB7CnQgPSBpOwplID0gInNjcm9sbCI7Cn0gZWxzZSB0IDwgbiAmJiAodCA9IG4pOwp0ICs9IHRoaXMudkJveE9mZnNldDsKdCA9IE1hdGgubWF4KHQsIDApOwp0aGlzLnN0eWxlLm92ZXJmbG93WSA9IGUgfHwgImhpZGRlbiI7CnRoaXMuc3R5bGUuaGVpZ2h0ID0gdCArICJweCI7CnRoaXMuJG5vZGUgJiYgdGhpcy4kbm9kZS51cGRhdGUoewpoZWlnaHQkaW50OiB0LApvdmVyZmxvdyRib29sOiAhIWUKfSk7CnZhciBvID0gdGhpczsKcyhmdW5jdGlvbigpIHsKby5hY3RpdmUgPSAhMTsKfSk7Cn0KfTsKdmFyIGQgPSBbICJUb3AiLCAiQm90dG9tIiBdLCB1ID0gWyAiTGVmdCIsICJSaWdodCIgXTsKbi5wcm90b3R5cGUudXBkYXRlQm94T2Zmc2V0ID0gZnVuY3Rpb24oKSB7CnZhciB0ID0gdGhpcy5nZXRDb21wdXRlZFN0eWxlKCk7CmlmICh0KSB7CnRoaXMudkJveE9mZnNldCA9IDA7CnRoaXMuaEJveE9mZnNldCA9IDA7CnZhciBlOwppZiAoImJvcmRlci1ib3giID09PSB0LmJveFNpemluZyB8fCAiYm9yZGVyLWJveCIgPT09IHQuTW96Qm94U2l6aW5nIHx8ICJib3JkZXItYm94IiA9PT0gdC53ZWJraXRCb3hTaXppbmcgfHwgYS5pc0lFIDw9IDcgJiYgIkNTUzFDb21wYXQiICE9IHRoaXMuZG9jLmNvbXBhdE1vZGUpIHsKZm9yIChlID0gMDsgZSA8IDI7IGUrKykgdGhpcy52Qm94T2Zmc2V0ICs9IChwYXJzZUludCh0WyJwYWRkaW5nIiArIGRbZV1dLCAxMCkgfHwgMCkgKyAocGFyc2VJbnQodFsiYm9yZGVyIiArIGRbZV0gKyAiV2lkdGgiXSwgMTApIHx8IDApOwpmb3IgKGUgPSAwOyBlIDwgMjsgZSsrKSB0aGlzLmhCb3hPZmZzZXQgKz0gKHBhcnNlSW50KHRbInBhZGRpbmciICsgdVtlXV0sIDEwKSB8fCAwKSArIChwYXJzZUludCh0WyJib3JkZXIiICsgdVtlXSArICJXaWR0aCJdLCAxMCkgfHwgMCk7Cn0KcmV0dXJuIHRoaXM7Cn0KfTsKbi5wcm90b3R5cGUuc2V0RGF0YU5vZGUgPSBmdW5jdGlvbih0KSB7CnRoaXMuJG5vZGUgJiYgdGhpcy5hdXRvdW5iaW5kKHRoaXMuJG5vZGUuJCgidmFsdWUkc3RyaW5nIiksICJ2YWx1ZSIsIHRoaXMuX3JlYWRWYWx1ZU5vZGUpOwp0aGlzLiRub2RlID0gdDsKaWYgKHRoaXMuJG5vZGUpIHsKdGhpcy5hdXRvYmluZCh0aGlzLiRub2RlLiQoInZhbHVlJHN0cmluZyIpLCAidmFsdWUiLCB0aGlzLl9yZWFkVmFsdWVOb2RlKTsKdGhpcy51cGRhdGVWYWx1ZU5vZGUoKTsKdGhpcy51cGRhdGVIZWlnaHQoKTsKfQpyZXR1cm4gdGhpczsKfTsKbi5wcm90b3R5cGUuc2V0VmFsdWUgPSBmdW5jdGlvbih0KSB7CmwucHJvdG90eXBlLnNldFZhbHVlLmNhbGwodGhpcywgdCk7CnRoaXMudXBkYXRlVmFsdWVOb2RlKCk7CnRoaXMudXBkYXRlSGVpZ2h0KCk7CnJldHVybiB0aGlzOwp9OwpuLnByb3RvdHlwZS51cGRhdGVNaW5NYXhIZWlnaHQgPSBmdW5jdGlvbigpIHsKdmFyIHQgPSB0aGlzLmdldENvbXB1dGVkU3R5bGUoKTsKaWYgKHQpIHsKdGhpcy5taW5IZWlnaHQgPSBwYXJzZUludCh0Lm1pbkhlaWdodCwgMTApOwp0aGlzLm1heEhlaWdodCA9IHBhcnNlSW50KHQubWF4SGVpZ2h0LCAxMCk7CmlmICghdGhpcy5taW5IZWlnaHQgJiYgaXNOYU4odGhpcy5tYXhIZWlnaHQpKSB7CnRoaXMuc3R5bGUuaGVpZ2h0ID0gIiI7CnRoaXMubWluSGVpZ2h0ID0gdGhpcy5tYXhIZWlnaHQgPSB0aGlzLmRvbS5vZmZzZXRIZWlnaHQ7Cn0KaXNOYU4odGhpcy5tYXhIZWlnaHQpICYmICh0aGlzLm1heEhlaWdodCA9IHRoaXMubWluSGVpZ2h0KTsKdGhpcy4kbm9kZSAmJiB0aGlzLiRub2RlLnVwZGF0ZSh7Cm1pbl9oZWlnaHQkc3RyaW5nOiB0aGlzLm1pbkhlaWdodCwKbWF4X2hlaWdodCRzdHJpbmc6IHRoaXMubWF4SGVpZ2h0Cn0pOwpyZXR1cm4gdGhpczsKfQp9OwpuLnByb3RvdHlwZS51cGRhdGVDbG9uZWRTdHlsZXMgPSBmdW5jdGlvbigpIHsKaWYgKHRoaXMuZmFrZVRleHRBcmVhKSB7CnZhciB0ID0gWyAiZm9udEZhbWlseSIsICJmb250U2l6ZSIsICJmb250V2VpZ2h0IiwgImxldHRlclNwYWNpbmciLCAidGV4dFRyYW5zZm9ybSIsICJ3b3JkU3BhY2luZyIsICJ0ZXh0SW5kZW50IiBdOwp0aGlzLmZha2VUZXh0QXJlYS5zdHlsZS5saW5lSGVpZ2h0ID0gIjk5cHgiOwoiOTlweCIgPT09IHRoaXMuZmFrZVRleHRBcmVhLnN0eWxlLmxpbmVIZWlnaHQgJiYgdC5wdXNoKCJsaW5lSGVpZ2h0Iik7CnRoaXMuZmFrZVRleHRBcmVhLnN0eWxlLmxpbmVIZWlnaHQgPSAiIjsKdmFyIGUgPSB0aGlzLmdldENvbXB1dGVkU3R5bGUoKTsKaWYgKGUpIGZvciAodmFyIGkgPSAwLCBuID0gdC5sZW5ndGg7IGkgPCBuOyBpKyspIHRoaXMuZmFrZVRleHRBcmVhLnN0eWxlW3RbaV1dID0gZVt0W2ldXTsKfQp9OwpuLnByb3RvdHlwZS51cGRhdGVTdHlsZXMgPSBmdW5jdGlvbigpIHsKYS5pc0lFOCAmJiAodGhpcy5zdHlsZS5taW5IZWlnaHQgPSAiIik7CnRoaXMudXBkYXRlTWluTWF4SGVpZ2h0KCk7CnRoaXMudXBkYXRlQ2xvbmVkU3R5bGVzKCk7CnRoaXMudXBkYXRlQm94T2Zmc2V0KCk7CmEuaXNJRTggJiYgKHRoaXMuc3R5bGUubWluSGVpZ2h0ID0gdGhpcy5taW5IZWlnaHQgLSB0aGlzLnZCb3hPZmZzZXQgKyAicHgiKTsKdGhpcy51cGRhdGVIZWlnaHQoKTsKdmFyIHQgPSB0aGlzOwphLmlzSUU4ICYmIHMoZnVuY3Rpb24oKSB7CnQudXBkYXRlSGVpZ2h0KCk7Cn0pOwpyZXR1cm4gdGhpczsKfTsKdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSBpKDIpLCBfID0gaSg0KTsKbi5fXyQkX19qeF91aV9XaWRnZXQgPSBpKDcpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19GYWtlSW5wdXQgPSBpKDE2Myk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0J1dHRvbiA9IGkoMTcpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19BdXRvUmVzaXplVGV4dEFyZWEgPSBpKDI4Nyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0ljb25Gb250ID0gaSgxNSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0Vtb3RpY29uUGlja2VyID0gaSgyODYpOwpuLl9fJCRfX2p4X3VpX0xhYmVsID0gaSgxOSk7Cm4uX18kJF9fanhfdWlfRnJhbWUgPSBpKDI4NCk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIGwsIGQpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgbCwgZCk7Cm8gPSBvIHx8IF8uZ2VuZXJhdGVJRCgpOwp2YXIgdSA9IHMoMTczKSwgYyA9IFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0Zha2VJbnB1dCwgImZha2VfaW5wdXQiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19CdXR0b24sICJzZW5kIiwgIiIsIFtdLCB7CmlkOiAic2VuZCIsCmFkZENsYXNzOiAic2VuZCBwcmltYXJ5IGZpdCIKfSBdLCBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19BdXRvUmVzaXplVGV4dEFyZWEsICJ0ZXh0YXJlYSIsICIiLCBbXSwgewppZDogInRleHRhcmVhIiwKYWRkQ2xhc3M6ICJ0ZXh0YXJlYSB1bnN0eWxlZCIKfSBdIF0sIHsKYWRkQ2xhc3M6ICJ0ZXh0YXJlYV93cmFwcGVyIgp9IF0gXSwgewphZGRDbGFzczogImZsb2F0X3dyYXBwZXIiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19JY29uRm9udCwgInRvZ2dsZV9waWNrZXIiLCAiIiwgW10sIHsKaWQ6ICJ0b2dnbGVfcGlja2VyIiwKYWRkQ2xhc3M6ICJ0b2dnbGVfcGlja2VyIiwKaWNvbjogInNtaWxleSIsCnRhYkluZGV4OiAiMCIsCnRhZ05hbWU6ICJidXR0b24iCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19FbW90aWNvblBpY2tlciwgInBpY2tlciIsICIiLCBbXSwgewppZDogInBpY2tlciIsCmFkZENsYXNzOiAicGlja2VyIgp9IF0sIFsgbi5fXyQkX19qeF91aV9MYWJlbCwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9GcmFtZSwgIiIsICIiLCBbIHUgXSwge30gXSBdLCB7CmFkZENsYXNzOiAiZHJvcF9sYWJlbCIsCnRhYkluZGV4OiAiMCIKfSBdIF0sIHsKaWQ6ICJmYWtlX2lucHV0IiwKYWRkQ2xhc3M6ICJmYWtlX2lucHV0Igp9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6bXVpIjogIm1lc2hpbS51aSIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIKfSBdLCBoID0gY1swXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIF8ubWFuZ2xlSURzKG8sIGNbM10pLCBjWzRdKSwgZiA9IGggfHwgdGhpczsKXy5zZXQobywgZik7CnZhciBnID0gXy5nZXQobyArICJfX2Zha2VfaW5wdXQiKSwgcCA9IF8uZ2V0KG8gKyAiX19zZW5kIiksIG0gPSBfLmdldChvICsgIl9fdGV4dGFyZWEiKSwgJCA9IF8uZ2V0KG8gKyAiX190b2dnbGVfcGlja2VyIiksIGIgPSBfLmdldChvICsgIl9fcGlja2VyIik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciB3ID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQodCkgewpmdW5jdGlvbiBlKCkgewpmLmRvbSAmJiAoaiB8fCBmLnJlbW92ZUNsYXNzKCJkcmFnb3ZlciIpKTsKfQp0LnN0b3BQcm9wYWdhdGlvbigpOwp0LnByZXZlbnREZWZhdWx0KCk7CmlmIChuKCkpIGlmIChrLmlzV2ViS2l0KSBpZiAoImRyYWdvdmVyIiA9PSB0LnR5cGUpIHsKaiA9ICEwOwpDICYmIHdpbmRvdy5jbGVhclRpbWVvdXQoQyk7CmYuYWRkQ2xhc3MoImRyYWdvdmVyIik7Cn0gZWxzZSB7CmogPSAhMTsKQyA9IHdpbmRvdy5zZXRUaW1lb3V0KGUsIDIwMCk7Cn0gZWxzZSAiZHJhZ292ZXIiID09IHQudHlwZSA/IGYuYWRkQ2xhc3MoImRyYWdvdmVyIikgOiBmLnJlbW92ZUNsYXNzKCJkcmFnb3ZlciIpOwp9CmZ1bmN0aW9uIGUoZSwgaSkgewppZiAobigpKSB7CnQoZSk7CnZhciByOwppZiAoaSkgewpyID0gZSAmJiBlLmRhdGFUcmFuc2ZlciAmJiBlLmRhdGFUcmFuc2Zlci5maWxlczsKaWYgKCFyIHx8ICFyLmxlbmd0aCkgcmV0dXJuOwpPLnJlY29ubmVjdElmU2VydmVyUmV0aXJlZChmdW5jdGlvbigpIHsKbyhyKTsKfSk7Cn0KfQp9CmZ1bmN0aW9uIG4oKSB7CnJldHVybiB5ICYmICFmLmdldERpc2FibGVkKCk7Cn0KZnVuY3Rpb24gbyh0KSB7CmlmICh5ICYmIHdpbmRvdy5Gb3JtRGF0YSkgewp2YXIgZSA9IG5ldyB3aW5kb3cuRm9ybURhdGEoKSwgaSA9IFtdLCBuID0gW10sIG8gPSAwLCByID0gTy5nZXRIb3N0KCk7CmlmIChyKSB7CmZvciAodmFyIGEgPSAwLCBzID0gdC5sZW5ndGg7IGEgPCBzOyBhKyspIHsKaWYgKCFCLmlzVmFsaWRUeXBlKHRbYV0ubmFtZSwgdikpIHsKaXQudXBkYXRlKCJ0eXBlIik7CnJldHVybjsKfQppLnB1c2godFthXS5uYW1lKTsKbi5wdXNoKHRbYV0udHlwZSk7Cm8gKz0gdFthXS5zaXplIHx8IDA7CmUuYXBwZW5kKCJmaWxlXyIgKyB0W2FdLm5hbWUsIHRbYV0pOwp9CmlmIChvID4gTi5GSUxFX1VQTE9BRF9NQVgpIGl0LnVwZGF0ZSgic2l6ZSIpOyBlbHNlIHsKaSA9IGkuam9pbigiLCAiKTsKbiA9IG4uam9pbigiLCAiKTsKdmFyIF8gPSBMLmxpdmVjaGF0LnNlbmRGaWxlKHsKZmlsZV9uYW1lOiBpLApmaWxlX3R5cGU6IG4sCmZpbGVfc2l6ZTogbwp9KSwgbCA9IG5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QoKSwgZCA9IHsKdHM6IF8KfTsKUyA9ICJodHRwczovLyIgKyByICsgTi5GSUxFX1VQTE9BRF9QQVRIICsgIj8iICsgRC5idWlsZFF1ZXJ5KGQpOwppZiAobC51cGxvYWQpIHsKbC5vcGVuKCJQT1NUIiwgUywgITApOwpsLnNldFJlcXVlc3RIZWFkZXIoIlgtWm9waW0tTUlEIiwgdHQuZ2V0VmFsdWUoKSk7Cmwuc2V0UmVxdWVzdEhlYWRlcigiWC1ab3BpbS1VSUQiLCBldC5nZXRWYWx1ZSgpKTsKbC5zZW5kKGUpOwpQLmluY3JlbWVudCgiZmlsZV91cGxvYWQiKTsKfQp9Cn0KfQp9CmZ1bmN0aW9uIHIoKSB7CkEgPSAhMDsKWC53cml0ZSh7CnR5cGluZyRib29sOiBBCn0pOwpXLnNldFVzZXJDaG9pY2UoITApOwp9CmZ1bmN0aW9uIGEoKSB7CkEgPSAhMTsKWC53cml0ZSh7CnR5cGluZyRib29sOiBBCn0pOwp9CmZ1bmN0aW9uIHMoKSB7CnZhciB0ID0gb3QuZ2V0VmFsdWUoKSwgZSA9IGF0LmdldFZhbHVlKCJjb2xvcl9jdXN0b21pemF0aW9uX2VuYWJsZWQkaW50IikgfHwgYXQuZ2V0VmFsdWUoIndpZGdldF9jdXN0b21pemF0aW9uX2VuYWJsZWQkaW50Iik7CnkgPSAhIWUgJiYgITEgIT09IHQ7Cn0KZnVuY3Rpb24gXygpIHsKdmFyIHQgPSBydC5nZXRWYWx1ZSgpIHx8ICIiOwp2ID0gdC50cmltKCkucmVwbGFjZSgvXHMqLFxzKi9nLCAiLCIpLnNwbGl0KCIsIik7Cn0KZnVuY3Rpb24gbCgpIHsKdmFyIHQgPSBtLmdldFZhbHVlKCkudHJpbSgpOwppZiAodCkgewpMLmxpdmVjaGF0LnNlbmRDaGF0TXNnKHsKbXNnOiB0Cn0pOwptLnNldFZhbHVlKCIiKTsKSC51cGRhdGUoewpzY3JvbGxfdG9fYm90dG9tJGJvb2w6ICEwCn0pOwpjKCk7Cn0KfQpmdW5jdGlvbiBkKHQpIHsKZm9yICh2YXIgZSA9IHQudGFyZ2V0Lmp4X3dyYXBwZXI7IGUgJiYgZS5wYXJlbnROb2RlICYmIGUucGFyZW50Tm9kZSAhPSBmOyApIHsKaWYgKGUgPT0gYikgcmV0dXJuOwplID0gZS5wYXJlbnROb2RlOwp9CnoudXBkYXRlKCExKTsKfQpmdW5jdGlvbiB1KCkgewpMLnJvb3QuJCgibGl2ZWNoYXQiKS4kKCJ1aSIpLiQoImNoYXRfd2luZG93IikudXBkYXRlKHsKbWVudV9zdGFja19uYW1lJHN0cmluZzogIiIKfSk7Cn0KZnVuY3Rpb24gYygpIHsKRS5yZXNldFVucmVhZENvdW50KCk7Cn0KdmFyIGgsIHcsIHgsIHYsIHksIGosIEMsIFMsIEEsIGsgPSBpKDgpLCBJID0gaSgxNiksIFQgPSBpKDE0KSwgTiA9IGkoMTgpLCBCID0gaSg2NCksIEQgPSBpKDM2KSwgRSA9IGkoMzMpLCBPID0gaSg2MyksIEwgPSBpKDYpLCBXID0gaSg0MSksIFAgPSBpKDc2KSwgUiA9IGkoOSksIEYgPSBpKDEwKSwgTSA9IEwucm9vdCwgViA9IE0uJCgibGl2ZWNoYXQiKSwgSCA9IFYuJCgidWkiKS4kKCJjaGF0X3dpbmRvdyIpLCBxID0gSC4kKCJjaGF0X3BhbmVsIiksIHogPSBxLiQoImVtb3RpY29uX3BpY2tlciIpLiQoImRpc3BsYXkkYm9vbCIpLCBVID0gcS4kKCJlbW90aWNvbl9waWNrZXIiKS4kKCJ2YWx1ZSRzdHJpbmciKSwgRyA9IFYuJCgic2V0dGluZ3MiKS4kKCJlbW90aWNvbnMiKS4kKCJlbmFibGVkJGJvb2wiKSwgWSA9IHEuJCgidGV4dGFyZWEiKSwgWCA9IFYuJCgiY2hhbm5lbCIpLiQoInR5cGluZyIpLCBaID0gVi4kKCJ1aSIpLiQoInRoZW1lX2xvYWRlZCRib29sIiksIFEgPSBWLiQoInVpIikuJCgiaGlkZV9icmFuZGluZyRib29sIiksIEsgPSBWLiQoInVpIikuJCgicG9wb3V0JGJvb2wiKSwgSiA9IFYuJCgidWkiKS4kKCJtb2NrdXAkYm9vbCIpLCB0dCA9IFYuJCgicHJvZmlsZSIpLiQoIm1pZCRzdHJpbmciKSwgZXQgPSBWLiQoInByb2ZpbGUiKS4kKCJ1aWQkc3RyaW5nIiksIGl0ID0gVi4kKCJ1aSIpLiQoImNoYXRfd2luZG93IikuJCgiY2hhdF9wYW5lbCIpLiQoImZpbGVfdG9hc3QiKS4kKCJlcnJvciRzdHJpbmciKSwgbnQgPSBWLiQoInNldHRpbmdzIikuJCgiZmlsZV9zZW5kaW5nIiksIG90ID0gbnQuJCgiZW5hYmxlZCRib29sIiksIHJ0ID0gbnQuJCgiYWxsb3dlZF9leHRlbnNpb25zJHN0cmluZyIpLCBhdCA9IFYuJCgic2V0dGluZ3MiKS4kKCJwYWNrYWdlIiksIHN0ID0gTS4kKCJjb25uZWN0aW9uIikuJCgic3RhdHVzJHN0cmluZyIpOwpmLmZvY3VzID0gZnVuY3Rpb24oKSB7CmlmICgheCkgewptLnVwZGF0ZUhlaWdodCgpOwptLmZvY3VzKCk7Cn0KfTsKZi5ibHVyID0gZnVuY3Rpb24oKSB7Cm0udXBkYXRlSGVpZ2h0KCk7Cm0uYmx1cigpOwp9OwpmLnVwZGF0ZVN0eWxlcyA9IGZ1bmN0aW9uKCkgewptLnVwZGF0ZVN0eWxlcygpOwp9OwohZnVuY3Rpb24oKSB7CnAuc2V0VGV4dChGLmNoYXRfcGFuZWwuc2VuZGJ1dHRvbl90ZXh0KTsKbS5zZXRQbGFjZWhvbGRlcihGLmNoYXRfcGFuZWwuY2hhdHRleHRhcmVhX3BsYWNlaG9sZGVyKTsKdyA9IEsuZ2V0VmFsdWUoKTsKeCA9IEouZ2V0VmFsdWUoKTsKUi5tb2JpbGUoZik7ClIucnRsKGYpOwptLnNldERhdGFOb2RlKFkpOwpiLnNldERhdGFOb2RlKHosIFUpOwptLm9uKCJmb2N1cyIsIGZ1bmN0aW9uKCkgewp1KCk7CmcuYWRkQ2xhc3MoImZvY3VzIik7ClEudXBkYXRlKCEwKTsKfSk7Cm0ub24oImtleWRvd24iLCBmdW5jdGlvbigpIHsKSC51cGRhdGUoewptYXJrX3JlYWRfaWZfYm90dG9tJGJvb2w6ICEwCn0pOwp9KTsKbS5vbigiYmx1ciIsIGZ1bmN0aW9uKCkgewpnLnJlbW92ZUNsYXNzKCJmb2N1cyIpOwpRLnVwZGF0ZSghMSk7Cn0pOwpmLmF1dG9iaW5kKFosICJ2YWx1ZSIsIGZ1bmN0aW9uKCkgewpJKGZ1bmN0aW9uKCkgewpmLmRvbSAmJiBtLnVwZGF0ZVN0eWxlcygpOwp9KTsKfSk7CmYuYXV0b2JpbmQoWSwgInZhbHVlIiwgZnVuY3Rpb24odCkgewp0ICYmICJvdmVyZmxvdyRib29sIiBpbiB0ICYmICh0Lm92ZXJmbG93JGJvb2wgPyBmLmFkZENsYXNzKCJvdmVyZmxvdyIpIDogZi5yZW1vdmVDbGFzcygib3ZlcmZsb3ciKSk7Cn0pOwp2YXIgaSA9IDA7CmYuYXV0b2JpbmQoWS4kKCJ2YWx1ZSRzdHJpbmciKSwgInZhbHVlIiwgZnVuY3Rpb24odCkgewppZiAodCkgewpBIHx8IHIoKTsKd2luZG93LmNsZWFyVGltZW91dChpKTsKaSA9IHdpbmRvdy5zZXRUaW1lb3V0KGEsIDEyZTQpOwp9IGVsc2UgaWYgKEEpIHsKd2luZG93LmNsZWFyVGltZW91dChpKTsKYSgpOwp9Cn0pOwpmLmF1dG9iaW5kKHosICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKdCA/ICQuYWRkQ2xhc3MoImFjdGl2ZSIpIDogJC5yZW1vdmVDbGFzcygiYWN0aXZlIik7CmggPSB0Owp9KTsKZi5hdXRvYmluZChHLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CiQuc2V0RGlzcGxheSh0ID8gIiIgOiAibm9uZSIpOwp0ID8gZi5hZGRDbGFzcygiZW1vdGljb25zX2VuYWJsZWQiKSA6IGYucmVtb3ZlQ2xhc3MoImVtb3RpY29uc19lbmFibGVkIik7Cn0pOwpmLmF1dG9iaW5kKFUsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKdCAmJiBtLmluc2VydEF0Q2FyZXQodCk7Cn0pOwpiLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewpmLmZvY3VzKCk7Cn0pOwokLm9uKCJjbGljayIsIGZ1bmN0aW9uKHQpIHsKdC5zdG9wUHJvcGFnYXRpb24oKTsKei51cGRhdGUoIWgpOwpmLmZvY3VzKCk7Cn0pOwpmb3IgKHZhciBuID0gZjsgbiAmJiBuLnBhcmVudE5vZGUgJiYgImJvZHkiICE9IG4ucGFyZW50Tm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCk7ICkgbiA9IG4ucGFyZW50Tm9kZTsKbiAmJiBuLm9uKCJjbGljayIsIGQpOwp3ICYmIFQud2luZG93Lm9uKCJjbGljayIsIGQpOwpmLm9uRGVzdHJ1Y3Rpb24oZnVuY3Rpb24oKSB7Cm4gJiYgbi51bigiY2xpY2siLCBkKTsKdyAmJiBULndpbmRvdy51bigiY2xpY2siLCBkKTsKfSk7CmYuYXV0b2JpbmQob3QsICJ2YWx1ZSIsIHMpOwpmLmF1dG9iaW5kKGF0LCAidmFsdWUiLCBzKTsKZi5hdXRvYmluZChydCwgInZhbHVlIiwgXyk7CmlmICh3aW5kb3cuRmlsZSAmJiB3aW5kb3cuRmlsZUxpc3QgJiYgd2luZG93LkZpbGVSZWFkZXIpIHsKZi5vbigiZHJhZ292ZXIiLCB0KTsKZi5vbigiZHJhZ2xlYXZlIiwgdCk7CmYub24oImRyb3AiLCBmdW5jdGlvbih0KSB7CmUodCwgITApOwp9KTsKfQptLm9uKCJrZXlkb3duIiwgZnVuY3Rpb24odCkgewppZiAoMTMgPT0gdC5rZXlDb2RlICYmICF0LnNoaWZ0S2V5ICYmICF0LmN0cmxLZXkgJiYgIXQuYWx0S2V5KSB7CnQucHJldmVudERlZmF1bHQoKTsKbCgpOwp9Cn0pOwpwLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewp1KCk7CmwoKTsKfSk7CmYuYXV0b2JpbmQoc3QsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKZi5zZXREaXNhYmxlZCgiaWRsZV9kaXNjb25uZWN0IiA9PT0gdCk7Cn0pOwp9KCk7Cn0oKTsKZm9yICh2YXIgeCBpbiB3KSBmW3hdID0gd1t4XTsKZi5maXJlICYmIGYuZmlyZSgiaW5pdCIpOwpmLnNldFN0eWxlICYmIGYuc2V0U3R5bGUocik7CmYuc2V0QXR0cmlidXRlcyAmJiBmLnNldEF0dHJpYnV0ZXMoZCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGYuYWRkQ2hpbGRyZW4gPyBmLmFkZENoaWxkcmVuKGwpIDogXy5hZGRDaGlsZHJlbihmLCBsKTsKaWYgKGYgIT09IHRoaXMpIHsKZi5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmYuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGY7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfV2lkZ2V0LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CnBvc2l0aW9uOiAicmVsYXRpdmUiLAp3aWR0aDogIjEwMCUiLApwYWRkaW5nOiAiMTBweCIsCmhlaWdodDogImF1dG8iLAoiKnpvb20iOiAxLApwYWRkaW5nOiAiJCRjaGF0VGV4dEFyZWFQYWRkaW5nIiwKYm9yZGVyV2lkdGg6ICIkJGNoYXRUZXh0QXJlYUJvcmRlcldpZHRoIiwKYm9yZGVyU3R5bGU6ICIkJGNoYXRUZXh0QXJlYUJvcmRlclN0eWxlIiwKYm9yZGVyQ29sb3I6ICIkJGNoYXRUZXh0QXJlYUJvcmRlckNvbG9yIiwKIiYuZW1vdGljb25zX2VuYWJsZWQub3ZlcmZsb3ciOiB7CiIudG9nZ2xlX3BpY2tlciI6IHt9Cn0sCiImLmVtb3RpY29uc19lbmFibGVkIjogewoiLnRleHRhcmVhIjoge30KfSwKIiYuZHJhZ292ZXIiOiB7CiIuZmFrZV9pbnB1dCI6IHsKYm94U2hhZG93OiAibm9uZSIsCmJvcmRlcjogIm5vbmUiCn0sCiIuZHJvcF9sYWJlbCI6IHsKZGlzcGxheTogImJsb2NrIgp9Cn0sCiImLmRpc2FibGVkIjogewpvcGFjaXR5OiAiMC41Igp9Cn0sCiIuZmFrZV9pbnB1dCI6IHsKcG9zaXRpb246ICJyZWxhdGl2ZSIsCm92ZXJmbG93OiAidmlzaWJsZSIsCiIqem9vbSI6IDEsCnBhZGRpbmc6IDAsCmNvbG9yOiAiJCRjaGF0VGV4dEFyZWFJbnB1dENvbG9yIiwKYmFja2dyb3VuZDogIiQkY2hhdFRleHRBcmVhSW5wdXRCZyIsCmJvcmRlcldpZHRoOiAiJCRjaGF0VGV4dEFyZWFJbnB1dEJvcmRlcldpZHRoIiwKYm9yZGVyU3R5bGU6ICIkJGNoYXRUZXh0QXJlYUlucHV0Qm9yZGVyU3R5bGUiLApib3JkZXJDb2xvcjogIiQkY2hhdFRleHRBcmVhSW5wdXRCb3JkZXJDb2xvciIsCmJvcmRlclJhZGl1czogIiQkY2hhdFRleHRBcmVhSW5wdXRSYWRpdXMiLApib3hTaGFkb3c6ICIkJGNoYXRUZXh0QXJlYUlucHV0U2hhZG93Igp9LAoiLmZha2VfaW5wdXQuZm9jdXMiOiB7CmNvbG9yOiAiJCRjaGF0VGV4dEFyZWFJbnB1dEZvY3VzQ29sb3IiLApiYWNrZ3JvdW5kOiAiJCRjaGF0VGV4dEFyZWFJbnB1dEZvY3VzQmciLApib3JkZXJDb2xvcjogIiQkY2hhdFRleHRBcmVhSW5wdXRGb2N1c0JvcmRlckNvbG9yIiwKYm94U2hhZG93OiAiJCRjaGF0VGV4dEFyZWFJbnB1dEZvY3VzU2hhZG93Igp9LAoiLmRyb3BfbGFiZWwsIC5maWxlX2lucHV0IjogewpkaXNwbGF5OiAibm9uZSIsCnBvc2l0aW9uOiAiYWJzb2x1dGUiLAoidG9wLCBsZWZ0IjogMCwKIndpZHRoLCBoZWlnaHQiOiAiMTAwJSIKfSwKIi5kcm9wX2xhYmVsIjogewp0ZXh0QWxpZ246ICJjZW50ZXIiLApjb2xvcjogIiQkY2hhdFRleHRBcmVhRHJvcENvbG9yIiwKYmFja2dyb3VuZDogIiQkY2hhdFRleHRBcmVhRHJvcEJnIiwKYm9yZGVyV2lkdGg6ICIkJGNoYXRUZXh0QXJlYURyb3BCb3JkZXJXaWR0aCIsCmJvcmRlclN0eWxlOiAiJCRjaGF0VGV4dEFyZWFEcm9wQm9yZGVyU3R5bGUiLApib3JkZXJDb2xvcjogIiQkY2hhdFRleHRBcmVhRHJvcEJvcmRlckNvbG9yIiwKIi5jb250YWluZXIiOiB7CmJvcmRlcjogIm5vbmUiLApiYWNrZ3JvdW5kOiAidHJhbnNwYXJlbnQiCn0KfSwKIi5maWxlX2lucHV0IjogewpvcGFjaXR5OiAwCn0sCiIudG9nZ2xlX3BpY2tlciI6IHsKcG9zaXRpb246ICJhYnNvbHV0ZSIsCiJ0b3AsIHJpZ2h0IjogMCwKY3Vyc29yOiAicG9pbnRlciIsCmZvbnRTaXplOiAiMThweCIsCmxpbmVIZWlnaHQ6ICIyNHB4IiwKIiY6aG92ZXIiOiB7fSwKIiY6Zm9jdXMiOiB7Cm91dGxpbmU6ICJub25lIgp9Cn0sCiIucGlja2VyIjogewpwb3NpdGlvbjogImFic29sdXRlIiwKYm90dG9tOiAiMTAwJSIKfSwKIi50ZXh0YXJlYSI6IHsKZGlzcGxheTogImJsb2NrIiwKIndpZHRoLCBoZWlnaHQiOiAiMTAwJSIsCnJlc2l6ZTogIm5vbmUiLAp0cmFuc2l0aW9uOiAiaGVpZ2h0IDAuMXMgZWFzZS1pbi1vdXQiLApmb250U2l6ZTogIiQkY2hhdFRleHRBcmVhSW5wdXRGb250U2l6ZSIsCm1pbkhlaWdodDogIiQkY2hhdFRleHRBcmVhSW5wdXRNaW5IZWlnaHQiLAptYXhIZWlnaHQ6ICIkJGNoYXRUZXh0QXJlYUlucHV0TWF4SGVpZ2h0IiwKcGFkZGluZzogIiQkY2hhdFRleHRBcmVhSW5wdXRQYWRkaW5nIiwKbGluZUhlaWdodDogIiQkY2hhdFRleHRBcmVhSW5wdXRMaW5lSGVpZ2h0Igp9LAoiLnNlbmQiOiB7CmRpc3BsYXk6ICJub25lIgp9LAoiLmZsb2F0X3dyYXBwZXIiOiB7Cm92ZXJmbG93OiAiaGlkZGVuIgp9LAoiLnRleHRhcmVhX3dyYXBwZXIiOiB7CmRpc3BsYXk6ICJibG9jayIsCm92ZXJmbG93OiAiaGlkZGVuIgp9LAoiJi5tb2JpbGUiOiB7CnBvc2l0aW9uOiAiZml4ZWQiLAp6SW5kZXg6ICIxMDAwIiwKcGFkZGluZzogMCwKIi5mYWtlX2lucHV0Ijoge30sCiIudGV4dGFyZWEiOiB7CnBhZGRpbmc6ICIxMHB4Igp9LAoiLnNlbmQiOiB7CmRpc3BsYXk6ICJibG9jayIsCmZsb2F0OiAicmlnaHQiLAptYXJnaW46ICIkJGNoYXRUZXh0QXJlYVN1Ym1pdE1hcmdpbiIsCnBhZGRpbmc6ICIkJGNoYXRUZXh0QXJlYVN1Ym1pdFBhZGRpbmciCn0sCiIudG9nZ2xlX3BpY2tlciI6IHsKZGlzcGxheTogIm5vbmUiCn0KfSwKIiYucnRsLm1vYmlsZSI6IHsKIi5zZW5kIjogewpmbG9hdDogImxlZnQiCn0KfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9XaWRnZXQsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfY2hhdFBhbmVsX0NoYXRUZXh0QXJlYSIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19jaGF0TG9nUmVuZGVyZXJfU3lzdGVtTG9nUmVuZGVyZXIgPSBpKDE0Myk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIF8sIGwpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgXywgbCk7Cm8gPSBvIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgZCA9IFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfY2hhdExvZ1JlbmRlcmVyX1N5c3RlbUxvZ1JlbmRlcmVyLCAiIiwgIiIsIFtdLCB7CiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBoID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoKSB7CnZhciB0ID0gYS4kKCJudW1fdHlwaW5nX2FnZW50cyRpbnQiKS5nZXRWYWx1ZSgpOwppZiAodCA+PSAxKSB7CmMuc2V0VGV4dCgoMSA9PSB0ID8gby5jaGF0X3BhbmVsLm5hbWVfaXNfdHlwaW5nIDogby5jaGF0X3BhbmVsLmFnZW50c19hcmVfdHlwaW5nKS5yZXBsYWNlKCI8bmFtZT4iLCBhLiQoImFnZW50X25hbWVzJHN0cmluZyIpLmdldFZhbHVlKCkpKTsKYy5zZXREaXNwbGF5KCIiKTsKfSBlbHNlIGMuc2V0RGlzcGxheSgibm9uZSIpOwp9CnZhciBlID0gaSgyKSwgbiA9IGkoNiksIG8gPSBpKDEwKSwgciA9IG4ucm9vdC4kKCJsaXZlY2hhdCIpLCBhID0gci4kKCJ1aSIpLiQoImNoYXRfd2luZG93IikuJCgidHlwaW5nX2luZm8iKTsKIWZ1bmN0aW9uKCkgewpjLmF1dG9iaW5kKGEuJCgibnVtX3R5cGluZ19hZ2VudHMkaW50IiksICJ2YWx1ZSIsIHQpOwppZiAoZSAmJiBlLm9uTGFuZ3VhZ2UpIHsKZS5vbkxhbmd1YWdlKHQpOwpjLm9uRGVzdHJ1Y3Rpb24oZnVuY3Rpb24oKSB7CmUudW5MYW5ndWFnZSh0KTsKfSk7Cn0KfSgpOwp9KCk7CmZvciAodmFyIGYgaW4gaCkgY1tmXSA9IGhbZl07CmMuZmlyZSAmJiBjLmZpcmUoImluaXQiKTsKYy5zZXRTdHlsZSAmJiBjLnNldFN0eWxlKHIpOwpjLnNldEF0dHJpYnV0ZXMgJiYgYy5zZXRBdHRyaWJ1dGVzKGwpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBjLmFkZENoaWxkcmVuID8gYy5hZGRDaGlsZHJlbihfKSA6IHMuYWRkQ2hpbGRyZW4oYywgXyk7CmlmIChjICE9PSB0aGlzKSB7CmMuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpjLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBjOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19jaGF0TG9nUmVuZGVyZXJfU3lzdGVtTG9nUmVuZGVyZXIucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIioqc2VsZiI6IHsKd2lkdGg6ICIxMDAlIgp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19jaGF0TG9nUmVuZGVyZXJfU3lzdGVtTG9nUmVuZGVyZXIsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX2NoYXRMb2dSZW5kZXJlcl9UeXBpbmdSZW5kZXJlciIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19TY3JvbGxhYmxlRnJhbWUgPSBpKDI5KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19jaGF0UGFuZWxfU3Bpbm5lciA9IGkoMTA1KTsKbi5fXyQkX19qeF91aV9XaWRnZXQgPSBpKDcpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X2NoYXRQYW5lbF9IaXN0b3J5TG9nID0gaSgxMDQpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X2NoYXRQYW5lbF9GYXN0SW5pdENoYXRMb2cgPSBpKDEzNCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX2NoYXRMb2dSZW5kZXJlcl9UeXBpbmdSZW5kZXJlciA9IGkoMjg5KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19jaGF0UGFuZWxfUXVldWVNZXNzYWdlID0gaSgxMzMpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1Njcm9sbGFibGVGcmFtZSwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19jaGF0UGFuZWxfU3Bpbm5lciwgImxhcmdlX3NwaW5uZXIiLCAiIiwgW10sIHsKaWQ6ICJsYXJnZV9zcGlubmVyIiwKYWRkQ2xhc3M6ICJsYXJnZV9zcGlubmVyIiwKc2l6ZTogImJpZyIsCnZpc2libGU6ICJmYWxzZSIKfSBdLCBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiY2hhdF9sb2dfd3JhcHBlciIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19jaGF0UGFuZWxfU3Bpbm5lciwgInNtYWxsX3NwaW5uZXIiLCAiIiwgW10sIHsKaWQ6ICJzbWFsbF9zcGlubmVyIiwKdmlzaWJsZTogImZhbHNlIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19jaGF0UGFuZWxfSGlzdG9yeUxvZywgImhpc3RvcnlfbG9nIiwgIiIsIFtdLCB7CmlkOiAiaGlzdG9yeV9sb2ciCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X2NoYXRQYW5lbF9GYXN0SW5pdENoYXRMb2csICIiLCAiIiwgW10sIHt9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfY2hhdExvZ1JlbmRlcmVyX1R5cGluZ1JlbmRlcmVyLCAiIiwgIiIsIFtdLCB7CmFkZENsYXNzOiAiZ3JvdXBfaGVhZCIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfY2hhdFBhbmVsX1F1ZXVlTWVzc2FnZSwgIiIsICIiLCBbXSwgewphZGRDbGFzczogInF1ZXVlX21lc3NhZ2UiCn0gXSBdLCB7CmlkOiAiY2hhdF9sb2dfd3JhcHBlciIsCmNsYXNzOiAiY2hhdF9sb2dfd3JhcHBlciIKfSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOmp4IjogImp4LmNvbnRyb2xzIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIiwKInhtbG5zOmNoYXRQYW5lbCI6ICJtZXNoaW0ud2lkZ2V0LmNvbXBvbmVudHMuY2hhdFdpbmRvdy5jaGF0UGFuZWwiCn0gXSwgdSA9IGRbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBzLm1hbmdsZUlEcyhvLCBkWzNdKSwgZFs0XSksIGMgPSB1IHx8IHRoaXM7CnMuc2V0KG8sIGMpOwp2YXIgaCA9IHMuZ2V0KG8gKyAiX19sYXJnZV9zcGlubmVyIiksIGYgPSBzLmdldChvICsgIl9fY2hhdF9sb2dfd3JhcHBlciIpLCBnID0gcy5nZXQobyArICJfX3NtYWxsX3NwaW5uZXIiKTsKcy5nZXQobyArICJfX2hpc3RvcnlfbG9nIik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBwID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQodCkgewpmLnNldFN0eWxlKCJtYXJnaW5Ub3AiLCB0KTsKfQp2YXIgZSA9IChpKDYpLCBpKDY4KSk7CiFmdW5jdGlvbigpIHsKYy5zZXRDaGF0TG9nTWFyZ2luVG9wID0gdDsKYy5nZXRFbGVtZW50KCJpbm5lciIpLm9uKCJzY3JvbGwiLCBmdW5jdGlvbih0KSB7CmMuZmlyZSgic2Nyb2xsIiwgdCk7Cn0pOwplLmJpbmRTcGlubmVyVUkoYywgZywgaCk7Cn0oKTsKfSgpOwpmb3IgKHZhciBtIGluIHApIGNbbV0gPSBwW21dOwpjLmZpcmUgJiYgYy5maXJlKCJpbml0Iik7CmMuc2V0U3R5bGUgJiYgYy5zZXRTdHlsZShyKTsKYy5zZXRBdHRyaWJ1dGVzICYmIGMuc2V0QXR0cmlidXRlcyhsKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5hZGRDaGlsZHJlbiA/IGMuYWRkQ2hpbGRyZW4oXykgOiBzLmFkZENoaWxkcmVuKGMsIF8pOwppZiAoYyAhPT0gdGhpcykgewpjLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKYy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gYzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfU2Nyb2xsYWJsZUZyYW1lLnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIuZ3JvdXBfaGVhZCI6IHsKbWFyZ2luVG9wOiAiJCRtYXJnaW4iCn0sCiIuY2hhdF9sb2dfd3JhcHBlciI6IHsKbWFyZ2luOiAiJCRjaGF0TG9nTWFyZ2luIgp9LAoiLnF1ZXVlX21lc3NhZ2UiOiB7Cm1hcmdpblRvcDogIjEwcHgiCn0sCiIubGFyZ2Vfc3Bpbm5lciI6IHsKcG9zaXRpb246ICJmaXhlZCIsCm1hcmdpbjogImF1dG8iLAoidG9wLCBib3R0b20sIGxlZnQsIHJpZ2h0IjogIjAiCn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1Njcm9sbGFibGVGcmFtZSwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19jaGF0UGFuZWxfQ2hhdExvZ0NvbnRhaW5lciIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX2p4X3VpX2h0bWxfc3BhbiA9IGkoMzApOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19JY29uRm9udCA9IGkoMTUpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fanhfdWlfaHRtbF9zcGFuLCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19JY29uRm9udCwgInRodW1icyIsICIiLCBbXSwgewppZDogInRodW1icyIsCmFkZENsYXNzOiAicmF0aW5nX2ljb24iCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CnZhciBoID0gcy5nZXQobyArICJfX3RodW1icyIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgZiA9IGZ1bmN0aW9uKCkgewp2YXIgdCA9IGkoMTEpLCBlID0gaSg2KTsKYy5zZXRUeXBlID0gZnVuY3Rpb24odCkgewpzd2l0Y2ggKHQpIHsKY2FzZSAidGh1bWJzX3VwIjoKaC5zZXRJY29uKCJ0aHVtYnN1cCIpOwpicmVhazsKCmNhc2UgInRodW1ic19kb3duIjoKaC5zZXRJY29uKCJ0aHVtYnNkb3duIik7CmJyZWFrOwoKZGVmYXVsdDoKaC5zZXREaXNwbGF5KCJub25lIik7Cn0KfTsKdC5ob3ZlckZpeChjKTsKIWZ1bmN0aW9uKCkgewp2YXIgdCA9IGUucm9vdC4kKCJsaXZlY2hhdCIpLiQoInVpIikuJCgibW9iaWxlJGJvb2wiKTsKYy5hdXRvYmluZCh0LCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CnQgfHwgYy5hZGRDbGFzcygiZGVza3RvcCIpOwp9KTsKfSgpOwp9KCk7CmZvciAodmFyIGcgaW4gZikgY1tnXSA9IGZbZ107CmMuZmlyZSAmJiBjLmZpcmUoImluaXQiKTsKYy5zZXRTdHlsZSAmJiBjLnNldFN0eWxlKHIpOwpjLnNldEF0dHJpYnV0ZXMgJiYgYy5zZXRBdHRyaWJ1dGVzKGwpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBjLmFkZENoaWxkcmVuID8gYy5hZGRDaGlsZHJlbihfKSA6IHMuYWRkQ2hpbGRyZW4oYywgXyk7CmlmIChjICE9PSB0aGlzKSB7CmMuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpjLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBjOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2p4X3VpX2h0bWxfc3Bhbi5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewp3aWR0aDogIjUwJSIsCmRpc3BsYXk6ICJpbmxpbmUtYmxvY2siLApib3JkZXI6ICIxcHggc29saWQgdHJhbnNwYXJlbnQiLAoiLmRlZmF1bHRfdmFsdWUiOiB7CmRpc3BsYXk6ICJpbmxpbmUiCn0sCiImLmRlc2t0b3AuaG92ZXIsICYuZGVza3RvcDpob3ZlciI6IHsKY29sb3I6ICIkJGNoYXRSYXRpbmdzVGh1bWJEYXJrIgp9Cn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfaHRtbF9zcGFuLCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19yYXRpbmdCYXJfdGh1bWJfQnV0dG9uIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0J1dHRvbkJhciA9IGkoMTM2KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfcmF0aW5nQmFyX3RodW1iX0J1dHRvbiA9IGkoMjkxKTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19CdXR0b25CYXIsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX3JhdGluZ0Jhcl90aHVtYl9CdXR0b24sICJnb29kX29wdGlvbiIsICIiLCBbXSwgewppZDogImdvb2Rfb3B0aW9uIiwKdHlwZTogInRodW1ic191cCIsCmFkZENsYXNzOiAicmF0aW5nX2J1dHRvbiIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX3JhdGluZ0Jhcl90aHVtYl9CdXR0b24sICJiYWRfb3B0aW9uIiwgIiIsIFtdLCB7CmlkOiAiYmFkX29wdGlvbiIsCnR5cGU6ICJ0aHVtYnNfZG93biIsCmFkZENsYXNzOiAicmF0aW5nX2J1dHRvbiIKfSBdIF0sIHsKbm9NYW5nbGU6ICJ0cnVlIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKdmFyIGggPSBzLmdldChvICsgIl9fZ29vZF9vcHRpb24iKSwgZiA9IHMuZ2V0KG8gKyAiX19iYWRfb3B0aW9uIik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBnID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQodCkgewppZiAodCA9PT0gci5HT09EKSB7Cmguc2V0VGl0bGUoYS5SRU1PVkUpOwpmLnNldFRpdGxlKGEuQkFEKTsKfSBlbHNlIGlmICh0ID09PSByLkJBRCkgewpmLnNldFRpdGxlKGEuUkVNT1ZFKTsKaC5zZXRUaXRsZShhLkdPT0QpOwp9IGVsc2UgZSgpOwp9CmZ1bmN0aW9uIGUoKSB7Cmguc2V0VGl0bGUoYS5HT09EKTsKZi5zZXRUaXRsZShhLkJBRCk7Cn0KdmFyIG4gPSBpKDIpLCBvID0gaSg5KSwgciA9IHsKR09PRDogImdvb2QiLApCQUQ6ICJiYWQiCn0sIGEgPSB7CkdPT0Q6IG4oMjEzKSwKQkFEOiBuKDIxNCksClJFTU9WRTogbigyMTUpCn07CiFmdW5jdGlvbigpIHsKYy51cGRhdGVUaXRsZSA9IHQ7Cmguc2V0VmFsdWUoci5HT09EKTsKZi5zZXRWYWx1ZShyLkJBRCk7CmUoKTsKby5tb2JpbGUoYyk7Cn0oKTsKfSgpOwpmb3IgKHZhciBwIGluIGcpIGNbcF0gPSBnW3BdOwpjLmZpcmUgJiYgYy5maXJlKCJpbml0Iik7CmMuc2V0U3R5bGUgJiYgYy5zZXRTdHlsZShyKTsKYy5zZXRBdHRyaWJ1dGVzICYmIGMuc2V0QXR0cmlidXRlcyhsKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5hZGRDaGlsZHJlbiA/IGMuYWRkQ2hpbGRyZW4oXykgOiBzLmFkZENoaWxkcmVuKGMsIF8pOwppZiAoYyAhPT0gdGhpcykgewpjLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKYy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gYzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQnV0dG9uQmFyLnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIucmF0aW5nX2J1dHRvbiI6IHsKIi5yYXRpbmdfaWNvbiI6IHsKZGlzcGxheTogImlubGluZS1ibG9jayIsCnZlcnRpY2FsQWxpZ246ICJtaWRkbGUiCn0sCmNvbG9yOiAiJCRjaGF0UmF0aW5nc1RodW1iTGlnaHQiLAoiJi5hY3RpdmUiOiB7CmJhY2tncm91bmRDb2xvcjogIiQkY2hhdFJhdGluZ3NUaHVtYkFjdGl2ZSIsCmJvcmRlcjogIjFweCBzb2xpZCAkJGNoYXRSYXRpbmdzVGh1bWJCR0hvdmVyIiwKYm9yZGVyUmFkaXVzOiAiNXB4IiwKY29sb3I6ICIkJGNoYXRSYXRpbmdzVGh1bWJEYXJrIiwKY3Vyc29yOiAicG9pbnRlciIKfQp9LAoiJi5zbWFsbCI6IHsKIi5yYXRpbmdfYnV0dG9uIjogewoid2lkdGgsIGhlaWdodCI6ICIyNHB4IiwKZm9udFNpemU6ICIxOHB4IiwKIi5yYXRpbmdfaWNvbiI6IHsKbGluZUhlaWdodDogIjIycHgiLApwYWRkaW5nTGVmdDogIjFweCIKfSwKIiY6Zmlyc3QtY2hpbGQiOiB7Cm1hcmdpblJpZ2h0OiAiM3B4Igp9Cn0KfSwKIiYuYmlnIjogewoiLnJhdGluZ19idXR0b24iOiB7CiJ3aWR0aCwgaGVpZ2h0IjogIjUwcHgiLApmb250U2l6ZTogIjQwcHgiLAoiLnJhdGluZ19pY29uIjogewpsaW5lSGVpZ2h0OiAiNDhweCIKfSwKIiY6Zmlyc3QtY2hpbGQiOiB7Cm1hcmdpblJpZ2h0OiAiMTBweCIKfQp9Cn0sCiImLmRlc2t0b3AiOiB7CiIucmF0aW5nX2J1dHRvbi5hY3RpdmU6aG92ZXIiOiB7CmNvbG9yOiAiJCRjaGF0UmF0aW5nc1RodW1iTGlnaHQiCn0KfSwKIiYubW9iaWxlIjogewoiJi5zbWFsbCAucmF0aW5nX2J1dHRvbiI6IHsKIndpZHRoLCBoZWlnaHQiOiAiNDBweCIsCmZvbnRTaXplOiAiMjVweCIsCnBhZGRpbmc6ICI2cHggM3B4IDNweCIsCiImOmZpcnN0LWNoaWxkIjogewptYXJnaW5SaWdodDogIjVweCIKfQp9LAoiJi5iaWciOiB7CiIucmF0aW5nX2J1dHRvbiI6IHsKIndpZHRoLCBoZWlnaHQiOiAiNjJweCIsCmZvbnRTaXplOiAiNDBweCIsCnBhZGRpbmdUb3A6ICIxMnB4Igp9Cn0KfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQnV0dG9uQmFyLCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19yYXRpbmdCYXJfdGh1bWJfVGh1bWIiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfcmF0aW5nQmFyX2Vtb3RpY29uX0J1dHRvbiA9IGkoMTM1KTsKbi5fXyQkX19qeF91aV9odG1sX3NwYW4gPSBpKDMwKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfSWNvbkZvbnQgPSBpKDE1KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgaSwgbywgciwgXykgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBpLCBvLCByLCBfKTsKaSA9IGkgfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBsID0gWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19yYXRpbmdCYXJfZW1vdGljb25fQnV0dG9uLCAiIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX2h0bWxfc3BhbiwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfSWNvbkZvbnQsICIiLCAiIiwgW10sIHsKaWNvbjogInNhZCIsCmFkZENsYXNzOiAicmF0aW5nX2ljb24iCn0gXSBdLCB7CnBsYWNlbWVudDogImRlZmF1bHRfdmFsdWUiLApkaXNjYXJkUGxhY2VtZW50OiAidHJ1ZSIKfSBdLCBbIG4uX18kJF9fanhfdWlfaHRtbF9zcGFuLCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19JY29uRm9udCwgIiIsICIiLCBbXSwgewppY29uOiAic2FkZGVyIiwKYWRkQ2xhc3M6ICJyYXRpbmdfaWNvbiIKfSBdIF0sIHsKcGxhY2VtZW50OiAic2VsZWN0ZWRfdmFsdWUiLApkaXNjYXJkUGxhY2VtZW50OiAidHJ1ZSIKfSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIgp9IF0sIGQgPSBsWzBdLmNhbGwodGhpcywgZSwgaSwgbnVsbCwgcy5tYW5nbGVJRHMoaSwgbFszXSksIGxbNF0pLCB1ID0gZCB8fCB0aGlzOwpzLnNldChpLCB1KTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KZm9yICh2YXIgYyBpbiB2b2lkIDApIHVbY10gPSAodm9pZCAwKVtjXTsKdS5maXJlICYmIHUuZmlyZSgiaW5pdCIpOwp1LnNldFN0eWxlICYmIHUuc2V0U3R5bGUobyk7CnUuc2V0QXR0cmlidXRlcyAmJiB1LnNldEF0dHJpYnV0ZXMoXyk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHUuYWRkQ2hpbGRyZW4gPyB1LmFkZENoaWxkcmVuKHIpIDogcy5hZGRDaGlsZHJlbih1LCByKTsKaWYgKHUgIT09IHRoaXMpIHsKdS5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CnUuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIHU7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX3JhdGluZ0Jhcl9lbW90aWNvbl9CdXR0b24ucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHt9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfcmF0aW5nQmFyX2Vtb3RpY29uX0J1dHRvbiwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfcmF0aW5nQmFyX2Vtb3RpY29uX0JhZCIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19yYXRpbmdCYXJfZW1vdGljb25fQnV0dG9uID0gaSgxMzUpOwpuLl9fJCRfX2p4X3VpX2h0bWxfc3BhbiA9IGkoMzApOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19JY29uRm9udCA9IGkoMTUpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBpLCBvLCByLCBfKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIGksIG8sIHIsIF8pOwppID0gaSB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGwgPSBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX3JhdGluZ0Jhcl9lbW90aWNvbl9CdXR0b24sICIiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfaHRtbF9zcGFuLCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19JY29uRm9udCwgIiIsICIiLCBbXSwgewppY29uOiAiaGFwcHkiLAphZGRDbGFzczogInJhdGluZ19pY29uIgp9IF0gXSwgewpwbGFjZW1lbnQ6ICJkZWZhdWx0X3ZhbHVlIiwKZGlzY2FyZFBsYWNlbWVudDogInRydWUiCn0gXSwgWyBuLl9fJCRfX2p4X3VpX2h0bWxfc3BhbiwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfSWNvbkZvbnQsICIiLCAiIiwgW10sIHsKaWNvbjogImhhcHBpZXIiLAphZGRDbGFzczogInJhdGluZ19pY29uIgp9IF0gXSwgewpwbGFjZW1lbnQ6ICJzZWxlY3RlZF92YWx1ZSIsCmRpc2NhcmRQbGFjZW1lbnQ6ICJ0cnVlIgp9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6d2lkZ2V0cyI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiCn0gXSwgZCA9IGxbMF0uY2FsbCh0aGlzLCBlLCBpLCBudWxsLCBzLm1hbmdsZUlEcyhpLCBsWzNdKSwgbFs0XSksIHUgPSBkIHx8IHRoaXM7CnMuc2V0KGksIHUpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQpmb3IgKHZhciBjIGluIHZvaWQgMCkgdVtjXSA9ICh2b2lkIDApW2NdOwp1LmZpcmUgJiYgdS5maXJlKCJpbml0Iik7CnUuc2V0U3R5bGUgJiYgdS5zZXRTdHlsZShvKTsKdS5zZXRBdHRyaWJ1dGVzICYmIHUuc2V0QXR0cmlidXRlcyhfKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgdS5hZGRDaGlsZHJlbiA/IHUuYWRkQ2hpbGRyZW4ocikgOiBzLmFkZENoaWxkcmVuKHUsIHIpOwppZiAodSAhPT0gdGhpcykgewp1Ll9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKdS5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gdTsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfcmF0aW5nQmFyX2Vtb3RpY29uX0J1dHRvbi5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0ge307CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19yYXRpbmdCYXJfZW1vdGljb25fQnV0dG9uLCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19yYXRpbmdCYXJfZW1vdGljb25fR29vZCIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpLCBvLCByKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiBuKSkgcmV0dXJuIG5ldyBuKHQsIGUsIGksIG8sIHIpOwp0aGlzLm5hdlN0YWNrID0gbnVsbDsKZC5jYWxsKHRoaXMsIHQsIGUsIGksIG8sIHIpOwp0aGlzLmFkZENsYXNzKCJidXR0b25fYmFyIik7CnIuaW5pdGlhbFZhbHVlICYmIHRoaXMuc2V0VmFsdWUoci5pbml0aWFsVmFsdWUpOwp0aGlzLm9uKCJjbGljayIsIGZ1bmN0aW9uKHQpIHsKdmFyIGUgPSB0ICYmIHQudGFyZ2V0ICYmIHQudGFyZ2V0Lmp4X3dyYXBwZXI7CmlmIChlICYmIGUgIT09IHRoaXMpIHsKZm9yICg7ZS5wYXJlbnROb2RlICYmIGUucGFyZW50Tm9kZSAhPSB0aGlzOyApIGUgPSBlLnBhcmVudE5vZGU7CmlmICghdGhpcy5nZXREaXNhYmxlZCgpICYmICFlLmdldERpc2FibGVkKCkpIHsKdmFyIGkgPSBlLmdldFZhbHVlKCk7CmlmICgiIiAhPT0gaSAmJiBudWxsICE9IGkpIHsKdGhpcy5zZXRWYWx1ZShpKTsKdGhpcy5maXJlKCJjaGFuZ2UiKTsKfQp9Cn0KfSk7CnRoaXMub25EZXN0cnVjdGlvbihmdW5jdGlvbigpIHsKdGhpcy5uYXZTdGFjayA9IG51bGw7Cn0pOwp9CnZhciBvID0gaSgxKSwgciA9IGkoMCksIGEgPSBpKDIxKSwgcyA9IGkoMTIpLCBfID0gaSgyOCksIGwgPSBpKDcwKSwgZCA9IGkoNyksIHUgPSBpKDIzKTsKbi5wcm90b3R5cGUgPSByKGQucHJvdG90eXBlKTsKbyhuLCBkLCB7CmZxbmFtZTogImp4X3VpX0J1dHRvbkJhciIKfSk7Cm4ucHJvdG90eXBlLmFwcGVuZENoaWxkID0gZnVuY3Rpb24odCkgewp2YXIgZSA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOwphKHQpICYmIHRoaXMuYXR0cmlidXRlcyAmJiAhcyh0aGlzLmF0dHJpYnV0ZXMubm9NYW5nbGUpICYmICh0WzBdID0gbCk7CnUucHJvdG90eXBlLmFwcGVuZENoaWxkLmNhbGwodGhpcywgdCk7CmlmIChhKHQpKSB7CnRoaXMuY2hpbGRyZW5bZV0uYWRkQ2xhc3MoIm9wdGlvbiIpOwpfKHRoaXMudGFiSW5kZXgpICYmIHRoaXMuY2hpbGRyZW5bZV0uc2V0VGFiSW5kZXgodGhpcy50YWJJbmRleCk7Cn0KfTsKbi5wcm90b3R5cGUuc2V0Tm9NYW5nbGUgPSBmdW5jdGlvbih0KSB7CnRoaXMuYXR0cmlidXRlcy5ub01hbmdsZSA9IHModCk7Cn07Cm4ucHJvdG90eXBlLnNldFZhbHVlID0gZnVuY3Rpb24odCkgewpmb3IgKHZhciBlID0gMCwgaSA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBlIDwgaTsgZSsrKSBpZiAodGhpcy5jaGlsZHJlbltlXS5nZXRWYWx1ZSgpID09IHQpIHsKdGhpcy5kb20udmFsdWUgPSB0aGlzLmNoaWxkcmVuW2VdLmdldFZhbHVlKCk7CnRoaXMuY2hpbGRyZW5bZV0uYWRkQ2xhc3MoImFjdGl2ZSIpOwp9IGVsc2UgdGhpcy5jaGlsZHJlbltlXS5yZW1vdmVDbGFzcygiYWN0aXZlIik7Cn07Cm4ucHJvdG90eXBlLmdldEluaXRpYWxWYWx1ZSA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gdGhpcy5faW5pdGlhbFZhbHVlOwp9OwpuLnByb3RvdHlwZS5zZXRJbml0aWFsVmFsdWUgPSBmdW5jdGlvbih0KSB7CnRoaXMuX2luaXRpYWxWYWx1ZSA9IHQ7Cn07Cm4ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oKSB7CnRoaXMuc2V0VmFsdWUodGhpcy5nZXRJbml0aWFsVmFsdWUoKSk7Cn07Cm4ucHJvdG90eXBlLnNldExhYmVsID0gZnVuY3Rpb24odCwgZSkgewpmb3IgKHZhciBpID0gMCwgbiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbjsgaSsrKSB0aGlzLmNoaWxkcmVuW2ldLmdldFZhbHVlKCkgPT0gdCAmJiB0aGlzLmNoaWxkcmVuW2ldLnNldFRleHQoZSk7Cn07Cm4ucHJvdG90eXBlLmdldFRhYkluZGV4ID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLnRhYkluZGV4Owp9OwpuLnByb3RvdHlwZS5zZXRUYWJJbmRleCA9IGZ1bmN0aW9uKHQpIHsKdGhpcy50YWJJbmRleCA9IHBhcnNlSW50KHQsIDEwKSB8fCAwOwpmb3IgKHZhciBlID0gMCwgaSA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBlIDwgaTsgZSsrKSB0aGlzLmNoaWxkcmVuW2VdLnNldFRhYkluZGV4KHRoaXMudGFiSW5kZXgpOwpyZXR1cm4gdGhpczsKfTsKdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0J1dHRvbkJhciA9IGkoMTM2KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfcmF0aW5nQmFyX2Vtb3RpY29uX0dvb2QgPSBpKDI5NCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX3JhdGluZ0Jhcl9lbW90aWNvbl9CYWQgPSBpKDI5Myk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIF8sIGwpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgXywgbCk7Cm8gPSBvIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgZCA9IFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQnV0dG9uQmFyLCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19yYXRpbmdCYXJfZW1vdGljb25fR29vZCwgImdvb2Rfb3B0aW9uIiwgIiIsIFtdLCB7CmlkOiAiZ29vZF9vcHRpb24iLAphZGRDbGFzczogInJhdGluZ19idXR0b24iCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19yYXRpbmdCYXJfZW1vdGljb25fQmFkLCAiYmFkX29wdGlvbiIsICIiLCBbXSwgewppZDogImJhZF9vcHRpb24iLAphZGRDbGFzczogInJhdGluZ19idXR0b24iCn0gXSBdLCB7Cm5vTWFuZ2xlOiAidHJ1ZSIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CnZhciBoID0gcy5nZXQobyArICJfX2dvb2Rfb3B0aW9uIiksIGYgPSBzLmdldChvICsgIl9fYmFkX29wdGlvbiIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgZyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KHQpIHsKaWYgKHQgPT09IHIuR09PRCkgewpoLnNldFRpdGxlKGEuUkVNT1ZFKTsKZi5zZXRUaXRsZShhLkJBRCk7Cn0gZWxzZSBpZiAodCA9PT0gci5CQUQpIHsKZi5zZXRUaXRsZShhLlJFTU9WRSk7Cmguc2V0VGl0bGUoYS5HT09EKTsKfSBlbHNlIGUoKTsKfQpmdW5jdGlvbiBlKCkgewpoLnNldFRpdGxlKGEuR09PRCk7CmYuc2V0VGl0bGUoYS5CQUQpOwp9CnZhciBuID0gaSgyKSwgbyA9IGkoOSksIHIgPSB7CkdPT0Q6ICJnb29kIiwKQkFEOiAiYmFkIgp9LCBhID0gewpHT09EOiBuKDIxNiksCkJBRDogbigyMTcpLApSRU1PVkU6IG4oMjE4KQp9OwohZnVuY3Rpb24oKSB7CmMudXBkYXRlVGl0bGUgPSB0OwpoLnNldFZhbHVlKHIuR09PRCk7CmYuc2V0VmFsdWUoci5CQUQpOwplKCk7Cm8ubW9iaWxlKGMpOwp9KCk7Cn0oKTsKZm9yICh2YXIgcCBpbiBnKSBjW3BdID0gZ1twXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0J1dHRvbkJhci5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiLnJhdGluZ19idXR0b24iOiB7CmJvcmRlclJhZGl1czogIjUwJSIsCiIucmF0aW5nX2ljb24iOiB7CmRpc3BsYXk6ICJpbmxpbmUiCn0sCiImLmFjdGl2ZSI6IHsKYmFja2dyb3VuZENvbG9yOiAiJCRjaGF0UmF0aW5nc0Vtb3RpY29uQWN0aXZlIiwKY3Vyc29yOiAicG9pbnRlciIKfQp9LAoiJi5zbWFsbCI6IHsKIi5yYXRpbmdfYnV0dG9uIjogewoid2lkdGgsIGhlaWdodCI6ICIyNHB4IiwKYm9yZGVyOiAiMXB4IHNvbGlkICQkY2hhdFJhdGluZ3NFbW90aWNvbkNvbG9yIiwKcGFkZGluZzogIjZweCAzcHggM3B4IiwKIi5yYXRpbmdfaWNvbiI6IHsKbGluZUhlaWdodDogMS4xCn0sCiImOmZpcnN0LWNoaWxkIjogewptYXJnaW5SaWdodDogIjNweCIKfQp9Cn0sCiImLmJpZyI6IHsKIi5yYXRpbmdfYnV0dG9uIjogewoid2lkdGgsIGhlaWdodCI6ICI1MHB4IiwKYm9yZGVyOiAiMnB4IHNvbGlkICQkY2hhdFJhdGluZ3NFbW90aWNvbkNvbG9yIiwKZm9udFNpemU6ICIyNXB4IiwKcGFkZGluZ1RvcDogIjE0cHgiLAoiJjpmaXJzdC1jaGlsZCI6IHsKbWFyZ2luUmlnaHQ6ICIxMHB4Igp9Cn0KfSwKIiYuZGVza3RvcCI6IHsKIi5yYXRpbmdfYnV0dG9uLmFjdGl2ZTpob3ZlciI6IHsKYmFja2dyb3VuZENvbG9yOiAiJCRjaGF0UmF0aW5nc0Vtb3RpY29uSG92ZXIiCn0KfSwKIiYubW9iaWxlIjogewoiJi5zbWFsbCAucmF0aW5nX2J1dHRvbiI6IHsKIndpZHRoLCBoZWlnaHQiOiAiNDBweCIsCmZvbnRTaXplOiAiMThweCIsCnBhZGRpbmc6ICIxMnB4IDNweCAzcHgiLAoiJjpmaXJzdC1jaGlsZCI6IHsKbWFyZ2luUmlnaHQ6ICI1cHgiCn0KfSwKIiYuYmlnIjogewoiLnJhdGluZ19idXR0b24iOiB7CiJ3aWR0aCwgaGVpZ2h0IjogIjYycHgiLApmb250U2l6ZTogIjI2cHgiLApwYWRkaW5nVG9wOiAiMjBweCIKfQp9Cn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0J1dHRvbkJhciwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfcmF0aW5nQmFyX2Vtb3RpY29uX0Vtb3RpY29uIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fanhfdWlfaHRtbF9kaXYgPSBpKDEzKTsKbi5fXyQkX19qeF91aV9odG1sX3RhYmxlID0gaSg1NCk7Cm4uX18kJF9fanhfdWlfaHRtbF90Ym9keSA9IGkoNTMpOwpuLl9fJCRfX2p4X3VpX2h0bWxfdHIgPSBpKDUyKTsKbi5fXyQkX19qeF91aV9odG1sX3RkID0gaSg1MSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0dyYXZhdGFyID0gaSg4Myk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX3Byb2ZpbGVDYXJkX01lbWJlck5hbWUgPSBpKDEzNyk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIF8sIGwpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgXywgbCk7Cm8gPSBvIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgZCA9IFsgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9odG1sX3RhYmxlLCAiIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX2h0bWxfdGJvZHksICIiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfaHRtbF90ciwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9odG1sX3RkLCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19HcmF2YXRhciwgImdyYXZhdGFyIiwgIiIsIFtdLCB7CmlkOiAiZ3JhdmF0YXIiLApwc2V1ZG86ICJwcm9maWxlX2F2YXRhciIKfSBdIF0sIHsKcHNldWRvOiAiYXZhdGFyX2NlbGwiCn0gXSwgWyBuLl9fJCRfX2p4X3VpX2h0bWxfdGQsICJjb250ZW50X2NlbGwiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX3Byb2ZpbGVDYXJkX01lbWJlck5hbWUsICJhZ2VudDAiLCAiIiwgW10sIHsKaWQ6ICJhZ2VudDAiLAphZGRDbGFzczogInByb2ZpbGVfbmFtZSIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX3Byb2ZpbGVDYXJkX01lbWJlck5hbWUsICJhZ2VudDEiLCAiIiwgW10sIHsKaWQ6ICJhZ2VudDEiLAphZGRDbGFzczogInByb2ZpbGVfbmFtZSIKfSBdIF0sIHsKcHNldWRvOiAiY29udGVudF9jZWxsIiwKaWQ6ICJjb250ZW50X2NlbGwiCn0gXSBdLCB7fSBdIF0sIHt9IF0gXSwgewpjbGFzczogInByb2ZpbGVfdGFibGUiCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CnZhciBoID0gcy5nZXQobyArICJfX2dyYXZhdGFyIiksIGYgPSBzLmdldChvICsgIl9fY29udGVudF9jZWxsIiksIGcgPSBzLmdldChvICsgIl9fYWdlbnQwIiksIHAgPSBzLmdldChvICsgIl9fYWdlbnQxIik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBtID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQodCkgewppZiAobikgewppZiAobiA9PT0gdCkgcmV0dXJuOwpjLmF1dG91bmJpbmQobiwgImtleXMiLCBlKTsKfQpuID0gdDsKaWYgKG4pIHsKaC5zZXRHcm91cE5vZGUodCk7CmMuYXV0b2JpbmQobiwgImtleXMiLCBlKTsKfQp9CmZ1bmN0aW9uIGUoKSB7CnZhciB0ID0gbi5nZXRLZXlzKCk7Cmcuc2V0RGF0YU5vZGUodC5sZW5ndGggPD0gMCA/IG51bGwgOiBuLiQodFswXSkuJCgiZGlzcGxheV9uYW1lJHN0cmluZyIpKTsKcC5zZXREYXRhTm9kZSh0Lmxlbmd0aCA8PSAxID8gbnVsbCA6IG4uJCh0WzFdKS4kKCJkaXNwbGF5X25hbWUkc3RyaW5nIikpOwp9CnZhciBuLCBvID0gaSg2KSwgciA9IG8ucm9vdC4kKCJsaXZlY2hhdCIpLCBhID0gci4kKCJzZXR0aW5ncyIpLiQoInRoZW1lIikuJCgiY2hhdF93aW5kb3ciKS4kKCJwcm9maWxlX2NhcmQiKS4kKCJkaXNwbGF5X2F2YXRhciRib29sIiksIHMgPSByLiQoInNldHRpbmdzIikuJCgidGhlbWUiKS4kKCJjaGF0X3dpbmRvdyIpLiQoInByb2ZpbGVfY2FyZCIpLiQoImRpc3BsYXlfdGl0bGVfbmFtZSRib29sIiksIF8gPSByLiQoInVpIikuJCgibW9iaWxlJGJvb2wiKTsKIWZ1bmN0aW9uKCkgewpjLnNldERhdGFOb2RlID0gdDsKaC5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKYy5vbkdyYXZhdGFyQ2xpY2sgJiYgYy5vbkdyYXZhdGFyQ2xpY2soKTsKfSk7CmYub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CmMub25Db250ZW50Q2xpY2sgJiYgYy5vbkNvbnRlbnRDbGljaygpOwp9KTsKXy5nZXRWYWx1ZSgpICYmIGMuYWRkQ2xhc3MoIm1vYmlsZSIpOwpjLmF1dG9iaW5kKGEsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKY1t0ID8gInJlbW92ZUNsYXNzIiA6ICJhZGRDbGFzcyJdKCJub19hdmF0YXIiKTsKfSk7CmMuYXV0b2JpbmQocywgInZhbHVlIiwgZnVuY3Rpb24odCkgewpjW3QgPyAicmVtb3ZlQ2xhc3MiIDogImFkZENsYXNzIl0oIm5vX3RpdGxlX25hbWUiKTsKfSk7Cn0oKTsKfSgpOwpmb3IgKHZhciAkIGluIG0pIGNbJF0gPSBtWyRdOwpjLmZpcmUgJiYgYy5maXJlKCJpbml0Iik7CmMuc2V0U3R5bGUgJiYgYy5zZXRTdHlsZShyKTsKYy5zZXRBdHRyaWJ1dGVzICYmIGMuc2V0QXR0cmlidXRlcyhsKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5hZGRDaGlsZHJlbiA/IGMuYWRkQ2hpbGRyZW4oXykgOiBzLmFkZENoaWxkcmVuKGMsIF8pOwppZiAoYyAhPT0gdGhpcykgewpjLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKYy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gYzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19qeF91aV9odG1sX2Rpdi5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewp3aWR0aDogIjEwMCUiLApwb3NpdGlvbjogInJlbGF0aXZlIiwKIi5wcm9maWxlX3RhYmxlIjogewp3aWR0aDogIjEwMCUiLAp0YWJsZUxheW91dDogImZpeGVkIiwKZm9udFNpemU6ICIxMDAlIiwKYm9yZGVyU3BhY2luZzogIjBweCIsCmJvcmRlckNvbGxhcHNlOiAiY29sbGFwc2UiLAp0ZDogewpwYWRkaW5nOiAiMHB4Igp9Cn0sCiIucHJvZmlsZV9hdmF0YXIiOiB7CndpZHRoOiAiMzJweCIsCmhlaWdodDogIjMycHgiLAoiJiI6ICIkJHByb2ZpbGVDYXJkQXZhdGFyIgp9Cn0sCiIqKnNlbGYubW9iaWxlIjogewoiLnByb2ZpbGVfdGFibGUiOiB7CmhlaWdodDogIjEwMCUiCn0KfSwKIioqc2VsZi5ub19hdmF0YXIgLnByb2ZpbGVfdGFibGUiOiB7CiIuYXZhdGFyX2NlbGwiOiB7CmRpc3BsYXk6ICJub25lIgp9LAoiLmNvbnRlbnRfY2VsbCI6IHsKcGFkZGluZ0xlZnQ6ICIwcHgiCn0KfSwKIioqc2VsZi5ub190aXRsZV9uYW1lIC5wcm9maWxlX3RhYmxlIjogewoiLmNvbnRlbnRfY2VsbCI6IHsKdmlzaWJpbGl0eTogImhpZGRlbiIKfQp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX2p4X3VpX2h0bWxfZGl2LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19NdWx0aVByb2ZpbGVzQ2FyZCIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbigpIHsKdmFyIHQgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7CmlmICh0Lmxlbmd0aCA8IDEpIHRocm93ICJJbnZhbGlkIGNoYWluOiA8ZW1wdHk+IjsKdmFyIGUgPSBudWxsOwoic3RyaW5nIiA9PSB0eXBlb2YgdFt0Lmxlbmd0aCAtIDFdICYmIChlID0gdC5wb3AoKSk7CmEuY2FsbCh0aGlzLCAiY2hhaW5lZCR2YWx1ZSIpOwp0aGlzLl9jaGFpbiA9IHQ7CnRoaXMuX2RlZmF1bHRfcHJpbWl0aXZlID0gZTsKdGhpcy5fbGVhZk5vZGVWYWx1ZUNoZWNrID0gbyh0aGlzLl9sZWFmTm9kZVZhbHVlQ2hlY2ssIHRoaXMpOwp9CmZ1bmN0aW9uIG8odCwgZSkgewpyZXR1cm4gZnVuY3Rpb24oKSB7CnQuYXBwbHkoZSwgYXJndW1lbnRzKTsKfTsKfQp2YXIgciA9IGkoMCksIGEgPSBpKDk1KSwgcyA9IG4ucHJvdG90eXBlID0gcihhLnByb3RvdHlwZSk7CnMuYmluZFZhbHVlID0gZnVuY3Rpb24oKSB7CmlmICgwID09PSB0aGlzLmxpc3RlbmVyc192YWx1ZS5sZW5ndGgpIGZvciAodmFyIHQgPSB0aGlzLl9jaGFpbi5sZW5ndGg7IHQtLTsgKSB0aGlzLl9jaGFpblt0XS5iaW5kVmFsdWUodGhpcy5fbGVhZk5vZGVWYWx1ZUNoZWNrKTsKYS5wcm90b3R5cGUuYmluZFZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn07CnMudW5iaW5kVmFsdWUgPSBmdW5jdGlvbigpIHsKYS5wcm90b3R5cGUudW5iaW5kVmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKaWYgKDAgPT09IHRoaXMubGlzdGVuZXJzX3ZhbHVlLmxlbmd0aCkgZm9yICh2YXIgdCA9IHRoaXMuX2NoYWluLmxlbmd0aDsgdC0tOyApIHRoaXMuX2NoYWluW3RdLnVuYmluZFZhbHVlKHRoaXMuX2xlYWZOb2RlVmFsdWVDaGVjayk7Cn07CnMuZ2V0Q2hhaW5lZFZhbHVlID0gZnVuY3Rpb24oKSB7CmZvciAodmFyIHQgPSAwLCBlID0gdGhpcy5fY2hhaW4ubGVuZ3RoOyB0IDwgZTsgdCsrKSB7CnZhciBpID0gdGhpcy5fY2hhaW5bdF0uZ2V0VmFsdWUoKTsKaWYgKGkpIHJldHVybiBpOwp9CnJldHVybiB0aGlzLl9kZWZhdWx0X3ByaW1pdGl2ZTsKfTsKcy5fbGVhZk5vZGVWYWx1ZUNoZWNrID0gZnVuY3Rpb24oKSB7CnRoaXMudXBkYXRlKHRoaXMuZ2V0Q2hhaW5lZFZhbHVlKCkpOwp9Owp0LmV4cG9ydHMgPSBuOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19qeF91aV9odG1sX2RpdiA9IGkoMTMpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fanhfdWlfaHRtbF9kaXYsICIiLCAiIiwgW10sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOndpZGdldCI6ICJtZXNoaW0ud2lkZ2V0IiwKInhtbG5zOm11aSI6ICJtZXNoaW0udWkiCn0gXSwgdSA9IGRbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBzLm1hbmdsZUlEcyhvLCBkWzNdKSwgZFs0XSksIGMgPSB1IHx8IHRoaXM7CnMuc2V0KG8sIGMpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgaCA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KCkgewpjLnNldFRleHQoby5nZXQobikpOwp9CmZ1bmN0aW9uIGUoZSkgewppZiAobiAhPT0gZSkgewpuICYmIGMuYXV0b3VuYmluZChuLCAidmFsdWUiLCB0KTsKbiA9IGU7Cm4gJiYgYy5hdXRvYmluZChuLCAidmFsdWUiLCB0KTsKfQp9CnZhciBuLCBvID0gaSgxMCk7CmMuc2V0RGF0YU5vZGUgPSBlOwp9KCk7CmZvciAodmFyIGYgaW4gaCkgY1tmXSA9IGhbZl07CmMuZmlyZSAmJiBjLmZpcmUoImluaXQiKTsKYy5zZXRTdHlsZSAmJiBjLnNldFN0eWxlKHIpOwpjLnNldEF0dHJpYnV0ZXMgJiYgYy5zZXRBdHRyaWJ1dGVzKGwpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBjLmFkZENoaWxkcmVuID8gYy5hZGRDaGlsZHJlbihfKSA6IHMuYWRkQ2hpbGRyZW4oYywgXyk7CmlmIChjICE9PSB0aGlzKSB7CmMuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpjLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBjOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2p4X3VpX2h0bWxfZGl2LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CndoaXRlU3BhY2U6ICJpbmhlcml0IiwKb3ZlcmZsb3c6ICJoaWRkZW4iLAp0ZXh0T3ZlcmZsb3c6ICJlbGxpcHNpcyIsCnBhZGRpbmdCb3R0b206ICIycHgiCn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfaHRtbF9kaXYsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX3Byb2ZpbGVDYXJkX1RpdGxlSG9sZGVyIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fanhfdWlfV2lkZ2V0ID0gaSg3KTsKbi5fXyQkX19qeF91aV9odG1sX3NwYW4gPSBpKDMwKTsKbi5fXyQkX19qeF91aV9odG1sX2RpdiA9IGkoMTMpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19JY29uRm9udCA9IGkoMTUpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX2h0bWxfc3BhbiwgIm1lc3NhZ2UiLCAiIiwgW10sIHsKY2xhc3M6ICJtZXNzYWdlIiwKaWQ6ICJtZXNzYWdlIgp9IF0sIFsgbi5fXyQkX19qeF91aV9odG1sX3NwYW4sICIiLCAiIiwgW10sIHsKY2xhc3M6ICJzcGFjZXIiCn0gXSwgWyBuLl9fJCRfX2p4X3VpX2h0bWxfZGl2LCAiYXJyb3ciLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0ljb25Gb250LCAiIiwgIiIsIFtdLCB7CmFkZENsYXNzOiAiYXJyb3dfaWNvbiIsCmljb246ICJhcnJvd19kb3duIgp9IF0gXSwgewppZDogImFycm93IiwKYWRkQ2xhc3M6ICJhcnJvd19jb250YWluZXIiCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIsCnNlbGVjdGFibGU6ICJmYWxzZSIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CnZhciBoID0gcy5nZXQobyArICJfX21lc3NhZ2UiKTsKcy5nZXQobyArICJfX2Fycm93Iik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBmID0gZnVuY3Rpb24oKSB7CnZhciB0ID0gaSg2KSwgZSA9IGkoOSksIG4gPSBpKDEwKSwgbyA9IHQucm9vdC4kKCJsaXZlY2hhdCIpLiQoInVpIikuJCgiY2hhdF9idXR0b24iKS4kKCJ1bnJlYWRfY291bnQkaW50Iik7CiFmdW5jdGlvbigpIHsKZS53aW5kb3dTaXplKGMpOwpjLmF1dG9iaW5kKG8sICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKaWYgKHQgPiAwKSB7Cmguc2V0VGV4dChuLmNoYXRfcGFuZWxbMSA9PSB0ID8gIm5ld19tZXNzYWdlX2JlbG93IiA6ICJuZXdfbWVzc2FnZXNfYmVsb3ciXS5yZXBsYWNlKCI8bnVtYmVyPiIsIHQpKTsKYy5hZGRDbGFzcygibXNncyIpOwp9IGVsc2UgYy5yZW1vdmVDbGFzcygibXNncyIpOwp9KTsKfSgpOwp9KCk7CmZvciAodmFyIGcgaW4gZikgY1tnXSA9IGZbZ107CmMuZmlyZSAmJiBjLmZpcmUoImluaXQiKTsKYy5zZXRTdHlsZSAmJiBjLnNldFN0eWxlKHIpOwpjLnNldEF0dHJpYnV0ZXMgJiYgYy5zZXRBdHRyaWJ1dGVzKGwpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBjLmFkZENoaWxkcmVuID8gYy5hZGRDaGlsZHJlbihfKSA6IHMuYWRkQ2hpbGRyZW4oYywgXyk7CmlmIChjICE9PSB0aGlzKSB7CmMuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpjLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBjOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2p4X3VpX1dpZGdldC5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewp0ZXh0QWxpZ246ICJjZW50ZXIiLApmb250V2VpZ2h0OiAiYm9sZCIsCmRpc3BsYXk6ICJpbmxpbmUtZmxleCIsCmFsaWduSXRlbXM6ICJjZW50ZXIiLApmbGV4RGlyZWN0aW9uOiAicm93IiwKY29sb3I6ICIkJHRvYXN0Q29sb3IiLApiYWNrZ3JvdW5kOiAiJCR0b2FzdEJnIiwKcGFkZGluZzogIjEwcHgiLApib3JkZXJSYWRpdXM6ICIxNnB4IiwKYm94U2hhZG93OiAiMHB4IDJweCA4cHggMnB4IHJnYmEoMCwwLDAsMC4xKSIsCmN1cnNvcjogInBvaW50ZXIiLAoiJi5zbWFsbCI6IHsKcGFkZGluZzogIjhweCIKfSwKIiYubXNncyI6IHsKIi5tZXNzYWdlLCAuc3BhY2VyIjogewpkaXNwbGF5OiAiaW5saW5lLWJsb2NrIgp9Cn0KfSwKIi5tZXNzYWdlIjogewpkaXNwbGF5OiAibm9uZSIKfSwKIi5zcGFjZXIiOiB7CmRpc3BsYXk6ICJub25lIiwKd2lkdGg6ICI0cHgiCn0sCiIuYXJyb3dfaWNvbiI6IHsKbWFyZ2luVG9wOiAiM3B4Igp9LAoiLmFycm93X2NvbnRhaW5lciI6IHsKZm9udFNpemU6ICIxMHB4IiwKcG9zaXRpb246ICJyZWxhdGl2ZSIsCmRpc3BsYXk6ICJpbmxpbmUtYmxvY2siLAoid2lkdGgsIGhlaWdodCI6ICIxMnB4IiwKdmVydGljYWxBbGlnbjogIm1pZGRsZSIsCmNvbG9yOiAiJCRjb2xvcnMuZ3JleTUwMCIKfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9XaWRnZXQsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX3RvYXN0X05ld01lc3NhZ2VzVG9hc3QiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQ2hhdFdpbmRvd1BhbmVsID0gaSgzOSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NoYXRXaW5kb3dEaXNjb25uZWN0ZWRUb2FzdCA9IGkoODQpOwpuLl9fJCRfX2p4X3VpX1dpZGdldCA9IGkoNyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX3RvYXN0X05ld01lc3NhZ2VzVG9hc3QgPSBpKDMwMCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfY2hhdFBhbmVsX0ZpbGUgPSBpKDE0MSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NoYXRXaW5kb3dDb250ZW50ID0gaSgyNyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfY2hhdFBhbmVsX0NoYXRQYW5lbEhlYWRlciA9IGkoMTQwKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19jaGF0UGFuZWxfQ2hhdExvZ0NvbnRhaW5lciA9IGkoMjkwKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19jaGF0UGFuZWxfQ2hhdFRleHRBcmVhID0gaSgyODgpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19CcmFuZGluZyA9IGkoODkpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19CdXR0b24gPSBpKDE3KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93UGFuZWwsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NoYXRXaW5kb3dEaXNjb25uZWN0ZWRUb2FzdCwgIiIsICIiLCBbXSwgewphZGRDbGFzczogImRpc2Nvbm5lY3RlZF90b2FzdCIKfSBdLCBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAibmV3X21lc3NhZ2VzX3RvYXN0X2NvbnRhaW5lciIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfdG9hc3RfTmV3TWVzc2FnZXNUb2FzdCwgIiIsICIiLCBbXSwgewphZGRDbGFzczogIm5ld19tZXNzYWdlc190b2FzdCIKfSBdIF0sIHsKY2xhc3M6ICJuZXdfbWVzc2FnZXNfdG9hc3RfY29udGFpbmVyIiwKaWQ6ICJuZXdfbWVzc2FnZXNfdG9hc3RfY29udGFpbmVyIiwKdXNlRGlzcGxheTogInRydWUiLAp2aXNpYmxlOiAiZmFsc2UiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X2NoYXRQYW5lbF9GaWxlLCAiIiwgIiIsIFtdLCB7fSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NoYXRXaW5kb3dDb250ZW50LCAiY2hhdF9wYW5lbF9jb250YWluZXIiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAic2VydmVkX2J5X2NvbnRhaW5lciIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19jaGF0UGFuZWxfQ2hhdFBhbmVsSGVhZGVyLCAiIiwgIiIsIFtdLCB7fSBdIF0sIHsKaWQ6ICJzZXJ2ZWRfYnlfY29udGFpbmVyIiwKY2xhc3M6ICJzZXJ2ZWRfYnlfY29udGFpbmVyIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19jaGF0UGFuZWxfQ2hhdExvZ0NvbnRhaW5lciwgImNoYXRfbG9nIiwgIiIsIFtdLCB7CmlkOiAiY2hhdF9sb2ciLAphZGRDbGFzczogImNoYXRfbG9nIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19jaGF0UGFuZWxfQ2hhdFRleHRBcmVhLCAiY2hhdF90ZXh0X2FyZWEiLCAiIiwgW10sIHsKaWQ6ICJjaGF0X3RleHRfYXJlYSIsCmFkZENsYXNzOiAiY2hhdF90ZXh0X2FyZWEiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19CcmFuZGluZywgIiIsICIiLCBbXSwgewphZGRDbGFzczogImNoYXRfcGFuZWxfYnJhbmRpbmciLApoaWRlT25EZXNrdG9wOiAidHJ1ZSIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0J1dHRvbiwgInNjcm9sbF90b3BfYnRuIiwgIiIsIFtdLCB7CmlkOiAic2Nyb2xsX3RvcF9idG4iLApjbGFzczogInNjcm9sbF90b3BfYnRuIgp9IF0gXSwgewppZDogImNoYXRfcGFuZWxfY29udGFpbmVyIiwKY2xhc3M6ICJjaGF0X3BhbmVsX2NvbnRhaW5lciIsCmFic1BhZGRpbmdUb3A6ICJjaGF0UGFuZWxQcm9maWxlQ2FyZENvbnRhaW5lckhlaWdodCIKfSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIiwKInhtbG5zOmNoYXRQYW5lbCI6ICJtZXNoaW0ud2lkZ2V0LmNvbXBvbmVudHMuY2hhdFdpbmRvdy5jaGF0UGFuZWwiLAp0aXRsZUJhcjogIiIsCmFjdGlvbkJhcjogImRlZmF1bHQiLApoaWRlQnJhbmRpbmdNb2JpbGU6ICJ0cnVlIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKdmFyIGggPSBzLmdldChvICsgIl9fbmV3X21lc3NhZ2VzX3RvYXN0X2NvbnRhaW5lciIpLCBmID0gcy5nZXQobyArICJfX2NoYXRfcGFuZWxfY29udGFpbmVyIiksIGcgPSBzLmdldChvICsgIl9fc2VydmVkX2J5X2NvbnRhaW5lciIpLCBwID0gcy5nZXQobyArICJfX2NoYXRfbG9nIiksIG0gPSBzLmdldChvICsgIl9fY2hhdF90ZXh0X2FyZWEiKSwgJCA9IHMuZ2V0KG8gKyAiX19zY3JvbGxfdG9wX2J0biIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgYiA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KCkgewpJKCEwKTsKVihlLCBjLCAib25jZSIpOwp9CmZ1bmN0aW9uIGUoKSB7CmlmIChjLmRvbSkgewptLnVwZGF0ZVN0eWxlcygpOwpBKCk7CnAudXBkYXRlU2Nyb2xsU3R5bGVzKCk7Cn0KfQpmdW5jdGlvbiBuKCkgewpUICYmIE4gPT0gYy5nZXROYW1lKCkgJiYgdCgpOwp9CmZ1bmN0aW9uIG8oKSB7Cnl0IHx8IFoudGVzdFNhZmFyaUZvY3VzQnVnKCkgfHwgVCAmJiBOID09IGMuZ2V0TmFtZSgpICYmIG0uZm9jdXMoKTsKfQpmdW5jdGlvbiByKHQpIHsKdCAmJiBUICYmIE4gPT0gYy5nZXROYW1lKCkgPyBWKHkpIDogRCA9ICEwOwp9CmZ1bmN0aW9uIGEoKSB7CmlmIChUICYmIE4gPT0gYy5nZXROYW1lKCkpIHsKaWYgKEQpIHsKeSghMCk7CnAuZ2V0U2Nyb2xsVG9wKCkgJiYgdighMCkgPyBEID0gITEgOiBKICYmICFYLmlzSUUgfHwgc2V0VGltZW91dChmdW5jdGlvbigpIHsKeSghMCk7CkQgPSAhMTsKfSwgdHQpOwpCID0gbnVsbDsKfSBlbHNlIGlmIChCKSB7CnAuc2V0U2Nyb2xsVG9wKEIpOwpwLmdldFNjcm9sbFRvcCgpID09IEIgPyBCID0gbnVsbCA6IEogJiYgIVguaXNJRSB8fCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewpwLnNldFNjcm9sbFRvcChCKTsKQiA9IG51bGw7Cn0sIHR0KTsKfQp9IGVsc2UgQiA9IHAuZ2V0U2Nyb2xsVG9wKCk7Cn0KZnVuY3Rpb24gcygpIHsKVih5KTsKYy51bigic2hvdyIsIHMpOwpBKCk7Cn0KZnVuY3Rpb24gXygpIHsKd2luZG93LnNldFRpbWVvdXQoeSwgMzAwKTsKWC51blRyYW5zaXRpb25FbmQoYywgYywgXyk7CkEoKTsKfQpmdW5jdGlvbiBsKHQpIHsKZy5zZXREaXNwbGF5KHQgPyAiYmxvY2siIDogIm5vbmUiKTsKIXQgfHwgeXQgPyBmLnNldEFic1BhZGRpbmdUb3AoKSA6IGYuc2V0QWJzUGFkZGluZ1RvcCgiY2hhdFBhbmVsUHJvZmlsZUNhcmRDb250YWluZXJIZWlnaHQiKTsKfQpmdW5jdGlvbiBkKCkgewptLnNldFN0eWxlKCJ3aWR0aDoiICsgKGMuZ2V0V2lkdGgoKSAtIDIpICsgInB4Iik7Cn0KZnVuY3Rpb24gdSgpIHsKVyAmJiB3aW5kb3cuY2xlYXJUaW1lb3V0KFcpOwpXID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CndpbmRvdy5pbm5lckhlaWdodCA+PSAxMjAgJiYgd2luZG93LnNjcm9sbFkgPiBjLnRpdGxlQmFyLmdldEhlaWdodCgpID8gJC5zZXREaXNwbGF5KCJibG9jayIpIDogJC5zZXREaXNwbGF5KCJub25lIik7Cn0sIDEwMCk7Cn0KZnVuY3Rpb24gYigpIHsKdmFyIHQsIGUsIGk7CnAuc2V0Q2hhdExvZ01hcmdpblRvcCgiMHB4Iik7CnQgPSBjLnRpdGxlQmFyLmdldEhlaWdodCgpICsgZy5nZXRIZWlnaHQoKSArIG0uZ2V0SGVpZ2h0KCk7CmUgPSBwLmdldFNjcm9sbEhlaWdodCgpIC0gZy5nZXRIZWlnaHQoKTsKaSA9IHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IC0gdDsKaWYgKGUgPCBpKSB7CmMuc3R5bGUuaGVpZ2h0ID0gIjEwMCUiOwplID4gMCA/IHAuc2V0Q2hhdExvZ01hcmdpblRvcChpIC0gMzEgLSBlICsgInB4IikgOiBwLnNldENoYXRMb2dNYXJnaW5Ub3AoaSAtIGUgKyAicHgiKTsKfSBlbHNlIHsKYy5zdHlsZS5oZWlnaHQgPSAiYXV0byI7CnAuc2V0Q2hhdExvZ01hcmdpblRvcCgiMTBweCIpOwp9Cn0KZnVuY3Rpb24gdygpIHsKTyAmJiB3aW5kb3cuY2xlYXJUaW1lb3V0KE8pOwpPID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CnYoITApID8gbS5zZXRTdHlsZSgicG9zaXRpb246YWJzb2x1dGU7IGxlZnQ6IDBweDsiKSA6IG0uc2V0U3R5bGUoInBvc2l0aW9uOmZpeGVkOyBsZWZ0OiIgKyBNYXRoLnJvdW5kKCh3aW5kb3cuaW5uZXJXaWR0aCAtIGMuZ2V0V2lkdGgoKSkgLyAyICsgMSkgKyAicHg7Iik7Cn0sIDUwKTsKfQpmdW5jdGlvbiB4KCkgewpyZXR1cm4geXQgPyBjLmdldFNjcm9sbEhlaWdodCgpIC0gd2luZG93LnNjcm9sbFkgLSB3aW5kb3cuaW5uZXJIZWlnaHQgOiBwLmdldFNjcm9sbEhlaWdodCgpIC0gcC5nZXRTY3JvbGxUb3AoKSAtIHAuZ2V0SGVpZ2h0KCk7Cn0KZnVuY3Rpb24gdih0KSB7CnJldHVybiB4KCkgPD0gKHQgPyBpdCA6IG50KTsKfQpmdW5jdGlvbiB5KHQpIHsKaWYgKGMuZG9tKSBpZiAoeXQpIHsKdCA/IHdpbmRvdy5zY3JvbGxUbygwLCBjLmdldFNjcm9sbEhlaWdodCgpKSA6IFYoZnVuY3Rpb24oKSB7CndpbmRvdy5zY3JvbGxUbygwLCBjLmdldFNjcm9sbEhlaWdodCgpKTsKfSk7CndpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewp3KCk7Cn0sIDEwMCk7Cn0gZWxzZSBpZiAodCkgewpqKCExKTsKcC5zZXRTY3JvbGxUb3AocC5nZXRTY3JvbGxIZWlnaHQoKSk7Cn0gZWxzZSBDKCk7Cn0KZnVuY3Rpb24gaih0KSB7CkwgPSB2b2lkIDAgPT09IHQgfHwgdDsKfQpmdW5jdGlvbiBDKCkgewppZiAoUCB8fCB2KCEwKSkgaighMSk7IGVsc2UgewpSID0gK25ldyBEYXRlKCk7CkYgPSBwLmdldFNjcm9sbFRvcCgpOwppZiAocC5nZXRTY3JvbGxIZWlnaHQoKSAtIHAuZ2V0SGVpZ2h0KCkgLSBGIDw9IFR0KSB7CnAuc2V0U2Nyb2xsVG9wKHAuZ2V0U2Nyb2xsSGVpZ2h0KCkpOwpqKCExKTsKfSBlbHNlIFAgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoUywgSXQpOwp9Cn0KZnVuY3Rpb24gUygpIHsKaWYgKHYoITApKSB7CndpbmRvdy5jbGVhckludGVydmFsKFApOwpQID0gbnVsbDsKaighMSk7Cn0gZWxzZSB7CnZhciB0ID0gK25ldyBEYXRlKCk7CmlmICh0ID49IFIgKyBrdCkgewpwLnNldFNjcm9sbFRvcChwLmdldFNjcm9sbEhlaWdodCgpKTsKd2luZG93LmNsZWFySW50ZXJ2YWwoUCk7ClAgPSBudWxsOwp9IGVsc2UgcC5zZXRTY3JvbGxUb3AoRiArICh0IC0gUikgLyBrdCAqIChwLmdldFNjcm9sbEhlaWdodCgpIC0gRikpOwp9Cn0KZnVuY3Rpb24gQSgpIHsKdmFyIHQgPSBtLmdldENvbXB1dGVkU3R5bGUoKTsKaWYgKHQpIHsKaHQgPSAocGFyc2VJbnQodC5wYWRkaW5nVG9wLCAxMCkgfHwgMCkgKyAocGFyc2VJbnQodC5wYWRkaW5nQm90dG9tLCAxMCkgfHwgMCkgKyAoKHBhcnNlSW50KHQuYm9yZGVyVG9wV2lkdGgsIDEwKSB8fCAwKSArICh5dCA/IDAgOiAxKSkgKyAoKHBhcnNlSW50KHQuYm9yZGVyQm90dG9tV2lkdGgsIDEwKSB8fCAwKSArICh5dCA/IDAgOiAxKSk7CmsoKTsKfQp9CmZ1bmN0aW9uIGsoKSB7CkUgJiYgd2luZG93LmNsZWFyVGltZW91dChFKTsKSShFKTsKRSA9IHdpbmRvdy5zZXRUaW1lb3V0KEksIDUwMCk7Cn0KZnVuY3Rpb24gSSh0KSB7CkUgJiYgd2luZG93LmNsZWFyVGltZW91dChFKTsKRSA9IG51bGw7CmlmIChjLmRvbSAmJiBmdCkgewppZiAoIXQpIHsKanQgPSB2KCk7CkN0ID0gdighMCk7Cn0KZi5zZXRTdHlsZSgicGFkZGluZy1ib3R0b20iLCBmdCArIGh0ICsgInB4Iik7Cmguc2V0U3R5bGUoInRyYW5zZm9ybSIsICJ0cmFuc2xhdGVZKC0iICsgKGZ0IC0gNDIpICsgInB4KSIpOwpDdCAmJiB5KHl0ICYmICIiID09PSBjdC4kKCJ2YWx1ZSRzdHJpbmciKS5nZXRWYWx1ZSgpKTsKfQp9CnZhciBULCBOLCBCLCBELCBFLCBPLCBMLCBXLCBQLCBSLCBGLCBNID0gaSgxNCksIFYgPSBpKDE2KSwgSCA9IGkoMTQyKSwgcSA9IGkoMzQpLCB6ID0gaSgzMyksIFUgPSBpKDYpLCBHID0gaSg2OCksIFkgPSAoaSg0NSksIAppKDM1KSksIFggPSBpKDExKSwgWiA9IGkoMTAxKSwgUSA9IGkoOSksIEsgPSBpKDE1KSwgSiA9IFguaXNTdHlsZVN1cHBvcnRlZCgiYW5pbWF0aW9uIiksIHR0ID0gMjAwLCBldCA9IDEwMCwgaXQgPSAyLCBudCA9IDE1MCwgb3QgPSBVLnJvb3QuJCgibGl2ZWNoYXQiKSwgcnQgPSBvdC4kKCJjaGFubmVsIikuJCgibG9nIiksIGF0ID0gb3QuJCgidWkiKS4kKCJjaGF0X3dpbmRvdyIpLCBzdCA9IGF0LiQoInR5cGluZ19pbmZvIikuJCgiYWdlbnRfdHlwaW5nJGJvb2wiKSwgX3QgPSBhdC4kKCJmaWxlX3VwbG9hZF9zY3JvbGwkYm9vbCIpLCBsdCA9IGF0LiQoInNjcm9sbF90b19ib3R0b20kYm9vbCIpLCBkdCA9IGF0LiQoIm1hcmtfcmVhZF9pZl9ib3R0b20kYm9vbCIpLCB1dCA9IGF0LiQoImNoYXRfcGFuZWwiKSwgY3QgPSB1dC4kKCJ0ZXh0YXJlYSIpLCBodCA9IDAsIGZ0ID0gMCwgZ3QgPSBvdC4kKCJ1aSIpLiQoInRoZW1lX2xvYWRlZCRib29sIiksIHB0ID0gb3QuJCgic2V0dGluZ3MiKS4kKCJ0aGVtZSIpLiQoImNoYXRfd2luZG93IikuJCgic2l6ZSRzdHJpbmciKSwgbXQgPSBvdC4kKCJ1aSIpLiQoImNoYXRfd2luZG93IikuJCgiZGlzcGxheV9wcm9maWxlX2NhcmQkYm9vbCIpLCAkdCA9IGF0LiQoImRpc3BsYXkkYm9vbCIpLCBidCA9IGF0LiQoIm1haW5fc3RhY2tfbmFtZSRzdHJpbmciKSwgd3QgPSBvdC4kKCJ1aSIpLiQoInBvcG91dCRib29sIiksIHh0ID0gd3QuZ2V0VmFsdWUoKSwgdnQgPSBvdC4kKCJ1aSIpLiQoIm1vYmlsZSRib29sIiksIHl0ID0gdnQuZ2V0VmFsdWUoKSwganQgPSAhMCwgQ3QgPSAhMCwgU3QgPSBxLmRlYm91bmNlKGIsIDIwMCksIEF0ID0gcS5kZWJvdW5jZSh5LCAxMDApLCBrdCA9IDIwMCwgSXQgPSAxNiwgVHQgPSAyMDA7CiFmdW5jdGlvbigpIHsKUS5tb2JpbGUoYyk7ClEucnRsKGMpOwpjLmF1dG9iaW5kKGN0LCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CmlmICh0ICYmIHQuaGVpZ2h0JGludCkgewpmdCA9IHQuaGVpZ2h0JGludDsKaygpOwp9Cn0pOwpYLm9uQW5pbWF0aW9uRW5kKGMsIGMsIGZ1bmN0aW9uKCkgewppZiAoRCkgewp5KCEwKTsKQiA9IG51bGw7CnAuZ2V0U2Nyb2xsVG9wKCkgJiYgdighMCkgPyBEID0gITEgOiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewp5KCEwKTsKRCA9ICExOwp9LCB0dCk7Cn0gZWxzZSBpZiAoQikgewpwLnNldFNjcm9sbFRvcChCKTsKcC5nZXRTY3JvbGxUb3AoKSA9PSBCID8gQiA9IG51bGwgOiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewpwLnNldFNjcm9sbFRvcChCKTsKQiA9IG51bGw7Cn0sIHR0KTsKfQpodCAmJiBmdCB8fCB0KCk7Cn0pOwpYLm9uVHJhbnNpdGlvbkVuZChjLCBmLCBmdW5jdGlvbih0KSB7CnQudGFyZ2V0Lmp4X3dyYXBwZXIgPT0gZiAmJiBDdCAmJiB5KCEwKTsKfSk7CmMuYXV0b2JpbmQocHQsICJ2YWx1ZSIsIHQpOwpjLmF1dG9iaW5kKGd0LCAidmFsdWUiLCB0KTsKYy5hdXRvYmluZCgkdCwgInZhbHVlIiwgZnVuY3Rpb24odCkgewpUID0gdDsKbigpOwphKCk7Cm8oKTsKfSk7CmMuYXV0b2JpbmQoYnQsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKTiA9IHQ7Cm4oKTsKYSgpOwpvKCk7Cn0pOwp4dCAmJiAheXQgJiYgTS53aW5kb3cub24oImZvY3VzIiwgbyk7CmMuYXV0b2JpbmQocnQsICJ2YWx1ZSIsIGZ1bmN0aW9uKCkgewpqdCA9IHYoKTsKfSk7CmMuYXV0b2JpbmQocnQsICJrZXlzIiwgZnVuY3Rpb24odCkgewppZiAodCAmJiB0Lmxlbmd0aCkgaWYgKFQgJiYgTiA9PSBjLmdldE5hbWUoKSkgewppZiAoanQpIHsKaigpOwpBdCgpOwp9Cn0gZWxzZSBEID0gITA7Cn0pOwpjLmF1dG9iaW5kKGR0LCAidmFsdWUiLCBmdW5jdGlvbigpIHsKanQgJiYgei5yZXNldFVucmVhZENvdW50KCk7Cn0pOwpjLmF1dG9iaW5kKGx0LCAidmFsdWUiLCBmdW5jdGlvbigpIHsKaC5oaWRlKCk7CmooKTsKeSgpOwp9KTsKYy5hdXRvYmluZChfdCwgInZhbHVlIiwgcik7CmMuYXV0b2JpbmQoc3QsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKdCAmJiBqdCAmJiBWKHkpOwp9KTsKYy5vbigic2hvdyIsIHMpOwpYLm9uVHJhbnNpdGlvbkVuZChjLCBjLCBfKTsKYy5hdXRvYmluZChtdCwgInZhbHVlIiwgbCk7CmlmICh5dCkgewpmLnNldEFic1BhZGRpbmdUb3AoKTsKcC5kZWZhdWx0UGxhY2VtZW50Lmluc2VydEJlZm9yZShnLCBwLmRlZmF1bHRQbGFjZW1lbnQuZ2V0Rmlyc3RDaGlsZCgpKTsKbmV3IEsoJCwgbnVsbCwgbnVsbCwgbnVsbCwgewpjbGFzc05hbWU6ICJzY3JvbGxfdG9wX2ljb24iLAppY29uOiAiYXJyb3dfdXAiCn0pOwokLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewokLnNldERpc3BsYXkoIm5vbmUiKTsKd2luZG93LnNjcm9sbFRvKDAsIDApOwp9KTsKTS53aW5kb3cub24oInJlc2l6ZSIsIGZ1bmN0aW9uKCkgewpkKCk7CnUoKTsKfSk7Ck0ud2luZG93Lm9uKCJvcmllbnRhdGlvbmNoYW5nZSIsIGZ1bmN0aW9uKCkgewpkKCk7CnUoKTsKfSk7Ck0ud2luZG93Lm9uKCJzY3JvbGwiLCBmdW5jdGlvbigpIHsKZCgpOwp3KCk7CnUoKTsKfSk7CmMub24oInNob3ciLCBmdW5jdGlvbigpIHsKdygpOwp9KTsKTS53aW5kb3cub24oInJlc2l6ZSIsIFN0KTsKTS53aW5kb3cub24oIm9yaWVudGF0aW9uY2hhbmdlIiwgU3QpOwpjLmF1dG9iaW5kKHJ0LCAia2V5cyIsIFN0KTsKYy5vbigic2hvdyIsIFN0KTsKbS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CnkoKTsKfSwgMjAwKTsKfSk7ClkuaXNDaHJvbWVJT1NNb2JpbGUgJiYgKGMuc3R5bGUucGFkZGluZ0JvdHRvbSA9ICI0MnB4Iik7Cn0gZWxzZSB7Cmgub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CmF0LnVwZGF0ZSh7CnNjcm9sbF90b19ib3R0b20kYm9vbDogITAKfSk7CnoucmVzZXRVbnJlYWRDb3VudCgpOwp9KTsKcC5vbigid2hlZWwiLCBILmRlYm91bmNlKGZ1bmN0aW9uKCkgewooanQgfHwgdighMCkpICYmIHoucmVzZXRVbnJlYWRDb3VudCgpOwp9LCBldCkpOwpwLm9uKCJzY3JvbGwiLCBILmRlYm91bmNlKGZ1bmN0aW9uKCkgewpqdCA9IHYoKTsKaFtqdCB8fCBMID8gImhpZGUiIDogInNob3ciXSgpOwp9LCBldCkpOwp9Ckcuc2V0dXBTY3JvbGxMaXN0ZW5lcihwKTsKfSgpOwp9KCk7CmZvciAodmFyIHcgaW4gYikgY1t3XSA9IGJbd107CmMuZmlyZSAmJiBjLmZpcmUoImluaXQiKTsKYy5zZXRTdHlsZSAmJiBjLnNldFN0eWxlKHIpOwpjLnNldEF0dHJpYnV0ZXMgJiYgYy5zZXRBdHRyaWJ1dGVzKGwpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBjLmFkZENoaWxkcmVuID8gYy5hZGRDaGlsZHJlbihfKSA6IHMuYWRkQ2hpbGRyZW4oYywgXyk7CmlmIChjICE9PSB0aGlzKSB7CmMuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpjLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBjOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93UGFuZWwucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIi5jaGF0X3BhbmVsX2NvbnRhaW5lciI6IHsKcG9zaXRpb246ICJyZWxhdGl2ZSIsCiJ3aWR0aCwgaGVpZ2h0IjogIjEwMCUiLAp6SW5kZXg6IDIwLAp0cmFuc2l0aW9uOiAicGFkZGluZyAwLjFzIGVhc2UtaW4tb3V0IiwKIipvdmVyZmxvdyI6ICJ2aXNpYmxlICFpbXBvcnRhbnQiLAoiLnNlcnZlZF9ieV9jb250YWluZXIiOiB7CnBvc2l0aW9uOiAiYWJzb2x1dGUiLAoidG9wLCBsZWZ0IjogMCwKd2lkdGg6ICIxMDAlIiwKcGFkZGluZzogIiQkcGFkZGluZ1hMIiwKaGVpZ2h0OiAiJCRjaGF0UGFuZWxQcm9maWxlQ2FyZENvbnRhaW5lckhlaWdodCIsCmJhY2tncm91bmQ6ICIkJGNoYXRQYW5lbFByb2ZpbGVDYXJkQ29udGFpbmVyQmFja2dyb3VuZCIsCmJvcmRlcldpZHRoOiAiJCRjaGF0UGFuZWxQcm9maWxlQ2FyZENvbnRhaW5lckJvcmRlcldpZHRoIiwKYm9yZGVyU3R5bGU6ICIkJGNoYXRQYW5lbFByb2ZpbGVDYXJkQ29udGFpbmVyQm9yZGVyU3R5bGUiLApib3JkZXJDb2xvcjogIiQkY2hhdFBhbmVsUHJvZmlsZUNhcmRDb250YWluZXJCb3JkZXJDb2xvciIKfSwKIi5jaGF0X3RleHRfYXJlYSI6IHsKcG9zaXRpb246ICJhYnNvbHV0ZSIsCmJvdHRvbTogMCwKbGVmdDogMCwKd2lkdGg6ICIxMDAlIgp9LAoiLmNoYXRfbG9nIjogewoiLnNjcm9sbGFibGVfaW5uZXIiOiB7CnBhZGRpbmc6IDAKfQp9Cn0sCiIuZGlzY29ubmVjdGVkX3RvYXN0Ijogewp0b3A6ICIyNSUiCn0sCiIubmV3X21lc3NhZ2VzX3RvYXN0Ijogewp0cmFuc2l0aW9uOiAidHJhbnNmb3JtIDAuMXMgZWFzZS1pbi1vdXQiCn0sCiIubmV3X21lc3NhZ2VzX3RvYXN0X2NvbnRhaW5lciI6IHsKdGV4dEFsaWduOiAiY2VudGVyIiwKd2lkdGg6ICIxMDAlIiwKaGVpZ2h0OiAwLApwb3NpdGlvbjogImFic29sdXRlIiwKekluZGV4OiA5OSwKYm90dG9tOiAiMTAxcHgiCn0sCiIuc2Nyb2xsX3RvcF9idG4iOiB7CnBvc2l0aW9uOiAiZml4ZWQiLAp0b3A6ICIyMHB4IiwKbGVmdDogIjUwJSIsCndpZHRoOiAiNjBweCIsCmhlaWdodDogIjQwcHgiLAptYXJnaW5MZWZ0OiAiLTMwcHgiLApwYWRkaW5nOiAiMHB4IiwKekluZGV4OiAiMTAwMCIsCmRpc3BsYXk6ICJub25lIiwKIi5zY3JvbGxfdG9wX2ljb24iOiB7CmxpbmVIZWlnaHQ6ICI0NHB4IiwKdGV4dEFsaWduOiAiY2VudGVyIiwKZm9udFNpemU6ICIxNnB4Igp9Cn0sCiImLm1vYmlsZSI6IHsKIi5zZXJ2ZWRfYnlfY29udGFpbmVyIjogewpwb3NpdGlvbjogInJlbGF0aXZlIiwKcGFkZGluZzogIjEwcHgiLApoZWlnaHQ6ICJhdXRvIgp9LAoiLmNoYXRfcGFuZWxfY29udGFpbmVyIjogewoiLmNoYXRfbG9nIjogewptYXJnaW5Cb3R0b206ICIzMHB4Igp9Cn0sCiIuY2hhdF9wYW5lbF9icmFuZGluZyI6IHsKZGlzcGxheTogImJsb2NrIiwKcG9zaXRpb246ICJhYnNvbHV0ZSIsCnBhZGRpbmc6ICI1cHgiLApib3R0b206ICI0NXB4IiwKbWFyZ2luOiAiMCIsCnpJbmRleDogIjMwIgp9LAoiLmRpc2Nvbm5lY3RlZF90b2FzdCI6IHsKdG9wOiAiNjBweCIKfQp9LAoiJi5tb2JpbGUubHRyIjogewoiLmNoYXRfcGFuZWxfYnJhbmRpbmciOiB7CmxlZnQ6ICIxMHB4Igp9Cn0sCiImLm1vYmlsZS5ydGwiOiB7CiIuY2hhdF9wYW5lbF9icmFuZGluZyI6IHsKcmlnaHQ6ICIxMHB4Igp9Cn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NoYXRXaW5kb3dQYW5lbCwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19DaGF0UGFuZWwiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19qeF91aV9XaWRnZXQgPSBpKDcpOwpuLl9fJCRfX2p4X3VpX2h0bWxfc3BhbiA9IGkoMzApOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX2h0bWxfc3BhbiwgInRleHQiLCAiIiwgW10sIHsKaWQ6ICJ0ZXh0IiwKYWRkQ2xhc3M6ICJ0ZXh0Igp9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoiZGF0YS10ZXN0LWlkIjogImRhdGVTZXBhcmF0b3IiCn0gXSwgdSA9IGRbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBzLm1hbmdsZUlEcyhvLCBkWzNdKSwgZFs0XSksIGMgPSB1IHx8IHRoaXM7CnMuc2V0KG8sIGMpOwp2YXIgaCA9IHMuZ2V0KG8gKyAiX190ZXh0Iik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBmID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQodCkgewphICYmIGMuYXV0b3VuYmluZChhLCAidmFsdWUiLCBlKTsKciA9IHQ7CmEgPSByLiQoInRpbWVzdGFtcCRpbnQiKTsKYy5hdXRvYmluZChhLCAidmFsdWUiLCBlKTsKfQpmdW5jdGlvbiBlKHQpIHsKaWYgKHQpIHsKdmFyIGUgPSBuZXcgRGF0ZSh0KSwgaSA9IGUudG9Mb2NhbGVTdHJpbmcoWyBfLCAiZW4iIF0sIGwpOwpoLnNldFRleHQoaSk7Cn0KfQpmdW5jdGlvbiBuKHQpIHsKXyA9IHQucmVwbGFjZSgvXy9nLCAiLSIpOwplKGEgJiYgYS5nZXRWYWx1ZSgpKTsKfQpmdW5jdGlvbiBvKCkgewpzLnVuTGFuZ3VhZ2UgJiYgcy51bkxhbmd1YWdlKG4pOwp9CnZhciByLCBhLCBzID0gaSgyKSwgXyA9ICJlbiIsIGwgPSB7CmhvdXIxMjogITAsCm1vbnRoOiAic2hvcnQiLApkYXk6ICIyLWRpZ2l0IiwKaG91cjogIjItZGlnaXQiLAptaW51dGU6ICIyLWRpZ2l0Igp9OwohZnVuY3Rpb24oKSB7CmMuc2V0RGF0YU5vZGUgPSB0OwpjLm9uRGVzdHJ1Y3Rpb24obyk7CnMub25MYW5ndWFnZSAmJiBzLm9uTGFuZ3VhZ2Uobik7Cn0oKTsKfSgpOwpmb3IgKHZhciBnIGluIGYpIGNbZ10gPSBmW2ddOwpjLmZpcmUgJiYgYy5maXJlKCJpbml0Iik7CmMuc2V0U3R5bGUgJiYgYy5zZXRTdHlsZShyKTsKYy5zZXRBdHRyaWJ1dGVzICYmIGMuc2V0QXR0cmlidXRlcyhsKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5hZGRDaGlsZHJlbiA/IGMuYWRkQ2hpbGRyZW4oXykgOiBzLmFkZENoaWxkcmVuKGMsIF8pOwppZiAoYyAhPT0gdGhpcykgewpjLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKYy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gYzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19qeF91aV9XaWRnZXQucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIioqc2VsZiI6IHsKZm9udFNpemU6ICIkJGZvbnRTaXplUyIsCmNvbG9yOiAiJCRjaGF0TG9nRGF0ZURpdmlkZXJDb2xvciIsCmJhY2tncm91bmQ6ICIkJGNoYXRMb2dTeXN0ZW1Nc2dCZyIsCmJvcmRlcldpZHRoOiAiJCRjaGF0TG9nU3lzdGVtTXNnQm9yZGVyV2lkdGgiLApib3JkZXJTdHlsZTogIiQkY2hhdExvZ1N5c3RlbU1zZ0JvcmRlclN0eWxlIiwKYm9yZGVyQ29sb3I6ICIkJGNoYXRMb2dTeXN0ZW1Nc2dCb3JkZXJDb2xvciIsCnBhZGRpbmc6ICIkJGNoYXRMb2dTeXN0ZW1Nc2dQYWRkaW5nIiwKbWFyZ2luVG9wOiAiMjBweCIsCm1hcmdpbkJvdHRvbTogIjE1cHgiLAp0ZXh0QWxpZ246ICJjZW50ZXIiLApsaW5lSGVpZ2h0OiAiJCRjaGF0TG9nRGF0ZURpdmlkZXJMaW5lSGVpZ2h0IiwKYm9yZGVyQm90dG9tOiAiJCRjaGF0TG9nRGF0ZURpdmlkZXJCb3JkZXJCb3R0b20iLApmb250V2VpZ2h0OiAiJCRjaGF0TG9nRGF0ZURpdmlkZXJGb250V2VpZ2h0IiwKIi50ZXh0IjogewpiYWNrZ3JvdW5kOiAiI0ZGRiIsCnBhZGRpbmc6ICIwIDEwcHgiCn0KfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9XaWRnZXQsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX2NoYXRMb2dSZW5kZXJlcl9EYXRlRGl2aWRlciIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19jaGF0TG9nUmVuZGVyZXJfUmF0aW5nUHJvbXB0ID0gaSgxNDUpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX2NoYXRMb2dSZW5kZXJlcl9SYXRpbmdQcm9tcHQsICIiLCAiIiwgW10sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOmNoYXRMb2dSZW5kZXJlciI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMuY2hhdExvZ1JlbmRlcmVyIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIGggPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCh0KSB7CnZhciBpID0gdC4kKCJ0aW1lc3RhbXAkaW50Iik7CmlmIChuICE9PSBpKSB7Cm4gJiYgYy5hdXRvdW5iaW5kKG4sICJ2YWx1ZSIsIGUpOwpuID0gaTsKbiAmJiBjLmF1dG9iaW5kKG4sICJ2YWx1ZSIsIGUpOwp9Cn0KZnVuY3Rpb24gZSgpIHsKaWYgKG4pIHsKdmFyIHQgPSBhLmdldFZhbHVlKCksIGUgPSBuLmdldFZhbHVlKCksIGkgPSBsLmdldFZhbHVlKCksIG8gPSB1LmdldFZhbHVlKCksIHIgPSBfLmdldFZhbHVlKCkgJiYgaSAmJiBpIDw9IGU7CnQgJiYgciAmJiBvID09PSBlICYmICFkLmdldFZhbHVlKCkgPyBjLnNldERpc3BsYXkoIiIpIDogYy5zZXREaXNwbGF5KCJub25lIik7Cn0gZWxzZSBjLnNldERpc3BsYXkoIm5vbmUiKTsKfQp2YXIgbiwgbyA9IGkoNiksIHIgPSBvLnJvb3QuJCgibGl2ZWNoYXQiKSwgYSA9IHIuJCgic2V0dGluZ3MiKS4kKCJyYXRpbmciKS4kKCJlbmFibGVkJGJvb2wiKSwgcyA9IHIuJCgiY2hhbm5lbCIpLCBfID0gcy4kKCJjaGF0dGluZyRib29sIiksIGwgPSBzLiQoInN0YXJ0JHRpbWUiKSwgZCA9IHMuJCgicmF0aW5nJHN0cmluZyIpLCB1ID0gcy4kKCJsYXN0X2FnZW50X2xlYXZlX3RzJGludCIpOwohZnVuY3Rpb24oKSB7CmMuc2V0RGF0YU5vZGUgPSB0OwpjLmF1dG9iaW5kKGEsICJ2YWx1ZSIsIGUpOwpjLmF1dG9iaW5kKGQsICJ2YWx1ZSIsIGUpOwpjLmF1dG9iaW5kKF8sICJ2YWx1ZSIsIGUpOwpjLmF1dG9iaW5kKGwsICJ2YWx1ZSIsIGUpOwp9KCk7Cn0oKTsKZm9yICh2YXIgZiBpbiBoKSBjW2ZdID0gaFtmXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX2NoYXRMb2dSZW5kZXJlcl9SYXRpbmdQcm9tcHQucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHt9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfY2hhdExvZ1JlbmRlcmVyX1JhdGluZ1Byb21wdCwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfY2hhdExvZ1JlbmRlcmVyX01lbWJlckxlYXZlUmF0aW5nUHJvbXB0Igp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fZGl2ID0gaSgxNDcpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fZGl2LCAiIiwgIiIsIFtdLCB7fSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBoID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoKSB7CmEuZ2V0VmFsdWUoKSA/IGMuc2V0RGlzcGxheSgiIikgOiBjLnNldERpc3BsYXkoIm5vbmUiKTsKfQp2YXIgZSA9IGkoMTApLCBuID0gaSg2KSwgbyA9IGUuY2hhdF9sb2dbImNoYXQuY29tbWVudCJdLCByID0gbi5yb290LiQoImxpdmVjaGF0IiksIGEgPSByLiQoInNldHRpbmdzIikuJCgicmF0aW5nIikuJCgiZW5hYmxlZCRib29sIik7CmMuc2V0RGF0YU5vZGUgPSBmdW5jdGlvbigpIHt9OwohZnVuY3Rpb24oKSB7CmMuc2V0VGV4dChvKTsKYy5hdXRvYmluZChhLCAidmFsdWUiLCB0KTsKfSgpOwp9KCk7CmZvciAodmFyIGYgaW4gaCkgY1tmXSA9IGhbZl07CmMuZmlyZSAmJiBjLmZpcmUoImluaXQiKTsKYy5zZXRTdHlsZSAmJiBjLnNldFN0eWxlKHIpOwpjLnNldEF0dHJpYnV0ZXMgJiYgYy5zZXRBdHRyaWJ1dGVzKGwpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBjLmFkZENoaWxkcmVuID8gYy5hZGRDaGlsZHJlbihfKSA6IHMuYWRkQ2hpbGRyZW4oYywgXyk7CmlmIChjICE9PSB0aGlzKSB7CmMuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpjLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBjOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2Rpdi5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0ge307CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX2RpdiwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfY2hhdExvZ1JlbmRlcmVyX0NvbW1lbnQiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IGkoMiksIF8gPSBpKDQpOwpuLl9fJCRfX2p4X3VpX2h0bWxfZGl2ID0gaSgxMyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX2NoYXRMb2dSZW5kZXJlcl9CdXR0b24gPSBpKDE0NCk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIGwsIGQpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgbCwgZCk7Cm8gPSBvIHx8IF8uZ2VuZXJhdGVJRCgpOwp2YXIgdSA9IHMoMjE5KSwgYyA9IFsgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgInJhdGluZ19tc2ciLCAiIiwgW10sIHsKaWQ6ICJyYXRpbmdfbXNnIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfY2hhdExvZ1JlbmRlcmVyX0J1dHRvbiwgImxlYXZlX2FfY29tbWVudCIsICIiLCBbIHUgXSwgewppZDogImxlYXZlX2FfY29tbWVudCIsCmFkZENsYXNzOiAibGVhdmVfYV9jb21tZW50Igp9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6d2lkZ2V0cyI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiCn0gXSwgaCA9IGNbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBfLm1hbmdsZUlEcyhvLCBjWzNdKSwgY1s0XSksIGYgPSBoIHx8IHRoaXM7Cl8uc2V0KG8sIGYpOwp2YXIgZyA9IF8uZ2V0KG8gKyAiX19yYXRpbmdfbXNnIiksIHAgPSBfLmdldChvICsgIl9fbGVhdmVfYV9jb21tZW50Iik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBtID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIGUoKSB7CngudXBkYXRlKCJyYXRpbmdfcGFuZWwiKTsKfQpmdW5jdGlvbiBuKCkgewp2YXIgdCA9IG0uZ2V0VmFsdWUoKTsKZi5zZXREaXNwbGF5KHQgPyAiIiA6ICJub25lIik7Cn0KZnVuY3Rpb24gbygpIHsKaWYgKHAgJiYgbCkgewp2YXIgdCA9ICQuZ2V0VmFsdWUoKSwgZSA9IGIuZ2V0VmFsdWUoKSwgaSA9IGwuZ2V0VmFsdWUoInRpbWVzdGFtcCRpbnQiKSwgbiA9IGUgJiYgaSA+IHQsIG8gPSB3LmdldFZhbHVlKCksIGEgPSBvICYmIGkgPD0gbzsKbiAmJiAhYSB8fCByKCk7Cn0KfQpmdW5jdGlvbiByKCkgewppZiAocCkgewpmLmF1dG91bmJpbmQodywgInZhbHVlIiwgbyk7CnAudW4oImNsaWNrIiwgZSk7CnAuZGVzdHJveSgpOwpwID0gbnVsbDsKfQp9CmZ1bmN0aW9uIGEodCkgewppZiAobCAhPT0gdCkgewpsICYmIGYuYXV0b3VuYmluZChsLCAidmFsdWUiLCBzKTsKbCA9IHQ7CnQgJiYgZi5hdXRvYmluZChsLCAidmFsdWUiLCBzKTsKfQp9CmZ1bmN0aW9uIHMoKSB7CnZhciB0ID0gbC5nZXRWYWx1ZSgpOwppZiAodCkgewp2YXIgZSA9IHQubmV3X3JhdGluZyRzdHJpbmc7Cmcuc2V0VGV4dChfKGUpKTsKbygpOwp9Cn0KZnVuY3Rpb24gXyh0KSB7CnJldHVybiB0ID8gY1t0XSA6IGMuY2FuY2VsOwp9CnZhciBsLCBkID0gaSgxMCksIHUgPSBpKDYpLCBjID0gZC5jaGF0X2xvZ1siY2hhdC5yYXRpbmciXSwgaCA9IHUucm9vdC4kKCJsaXZlY2hhdCIpLCBtID0gaC4kKCJzZXR0aW5ncyIpLiQoInJhdGluZyIpLiQoImVuYWJsZWQkYm9vbCIpLCAkID0gaC4kKCJjaGFubmVsIikuJCgic3RhcnQkdGltZSIpLCBiID0gaC4kKCJjaGFubmVsIikuJCgiY2hhdHRpbmckYm9vbCIpLCB3ID0gaC4kKCJjaGFubmVsIikuJCgibGFzdF9jb21tZW50X3RzJGludCIpLCB4ID0gaC4kKCJ1aSIpLiQoImNoYXRfd2luZG93IikuJCgibWFpbl9zdGFja19uYW1lJHN0cmluZyIpOwohZnVuY3Rpb24oKSB7CmYuc2V0RGF0YU5vZGUgPSBhOwpmLmRpc2FibGVMZWF2ZUNvbW1lbnQgPSByOwpmLmF1dG9iaW5kKG0sICJ2YWx1ZSIsIG4pOwpmLmF1dG9iaW5kKCQsICJ2YWx1ZSIsIG8pOwpmLmF1dG9iaW5kKGIsICJ2YWx1ZSIsIG8pOwpmLmF1dG9iaW5kKHcsICJ2YWx1ZSIsIG8pOwp0Lmxhc3RfaW5zdGFuY2UgJiYgdC5sYXN0X2luc3RhbmNlLmRpc2FibGVMZWF2ZUNvbW1lbnQoKTsKdC5sYXN0X2luc3RhbmNlID0gZjsKcC5vbigiY2xpY2siLCBlKTsKfSgpOwp9KCk7CmZvciAodmFyICQgaW4gbSkgZlskXSA9IG1bJF07CmYuZmlyZSAmJiBmLmZpcmUoImluaXQiKTsKZi5zZXRTdHlsZSAmJiBmLnNldFN0eWxlKHIpOwpmLnNldEF0dHJpYnV0ZXMgJiYgZi5zZXRBdHRyaWJ1dGVzKGQpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBmLmFkZENoaWxkcmVuID8gZi5hZGRDaGlsZHJlbihsKSA6IF8uYWRkQ2hpbGRyZW4oZiwgbCk7CmlmIChmICE9PSB0aGlzKSB7CmYuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpmLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBmOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2p4X3VpX2h0bWxfZGl2LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CnBhZGRpbmc6ICIwcHggMTBweCIsCiIubGVhdmVfYV9jb21tZW50IjogewptYXJnaW46ICI1cHggMHB4Igp9Cn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfaHRtbF9kaXYsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX2NoYXRMb2dSZW5kZXJlcl9SYXRpbmciCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19qeF91aV9odG1sX2RpdiA9IGkoMTMpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fanhfdWlfaHRtbF9kaXYsICIiLCAiIiwgW10sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOm11aSI6ICJtZXNoaW0udWkiCn0gXSwgdSA9IGRbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBzLm1hbmdsZUlEcyhvLCBkWzNdKSwgZFs0XSksIGMgPSB1IHx8IHRoaXM7CnMuc2V0KG8sIGMpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgaCA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KHQpIHsKbiAmJiBjLmF1dG91bmJpbmQobiwgInZhbHVlIiwgZSk7Cm4gPSB0OwpuICYmIGMuYXV0b2JpbmQobiwgInZhbHVlIiwgZSk7Cn0KZnVuY3Rpb24gZSgpIHsKdmFyIHQgPSBuLmdldFZhbHVlKCk7CmlmICh0KSB7CnZhciBlID0gdC5kaXNwbGF5X25hbWUkc3RyaW5nLCBpID0gdC5uZXdfZGlzcGxheV9uYW1lJHN0cmluZywgbyA9ICIiOwplICYmIGkgJiYgKG8gPSByLnJlcGxhY2UoIjxvbGRfbmFtZT4iLCBlKS5yZXBsYWNlKCI8bmV3X25hbWU+IiwgaSkpOwpjLnBhcmVudE5vZGUuc2V0RGlzcGxheShvID8gIiIgOiAibm9uZSIpOwpjLnNldFRleHQobyk7Cn0KfQp2YXIgbiwgbyA9IGkoMTApLCByID0gby5jaGF0X2xvZ1siY2hhdC5jaGFuZ2VuYW1lIl07CiFmdW5jdGlvbigpIHsKYy5zZXREYXRhTm9kZSA9IHQ7Cn0oKTsKfSgpOwpmb3IgKHZhciBmIGluIGgpIGNbZl0gPSBoW2ZdOwpjLmZpcmUgJiYgYy5maXJlKCJpbml0Iik7CmMuc2V0U3R5bGUgJiYgYy5zZXRTdHlsZShyKTsKYy5zZXRBdHRyaWJ1dGVzICYmIGMuc2V0QXR0cmlidXRlcyhsKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5hZGRDaGlsZHJlbiA/IGMuYWRkQ2hpbGRyZW4oXykgOiBzLmFkZENoaWxkcmVuKGMsIF8pOwppZiAoYyAhPT0gdGhpcykgewpjLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKYy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gYzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19qeF91aV9odG1sX2Rpdi5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0ge307CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX2p4X3VpX2h0bWxfZGl2LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19jaGF0TG9nUmVuZGVyZXJfTmFtZUNoYW5nZSIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX2p4X3VpX2h0bWxfZGl2ID0gaSgxMyk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIF8sIGwpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgXywgbCk7Cm8gPSBvIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgZCA9IFsgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgImxvZ19tZXNzYWdlIiwgIiIsIFtdLCB7CmlkOiAibG9nX21lc3NhZ2UiCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczptdWkiOiAibWVzaGltLnVpIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKdmFyIGggPSBzLmdldChvICsgIl9fbG9nX21lc3NhZ2UiKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIGYgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCh0KSB7Cm4gJiYgYy5hdXRvdW5iaW5kKG4sICJ2YWx1ZSIsIGUpOwpuID0gdC4kKCJkaXNwbGF5X25hbWUkc3RyaW5nIik7CmMuYXV0b2JpbmQobiwgInZhbHVlIiwgZSk7Cn0KZnVuY3Rpb24gZSh0KSB7CnZhciBlID0gbi5wYXJlbnROb2RlLmdldFZhbHVlKCJuaWNrJHN0cmluZyIpIHx8ICIiOwplID0gZS5zcGxpdCgiOiIpWzBdOwp2YXIgaSA9IG4ucGFyZW50Tm9kZS5nZXRWYWx1ZSgidHlwZSRzdHJpbmciKTsKaWYgKGUgJiYgdCB8fCAiY2hhdC5tZW1iZXJsZWF2ZSIgPT09IGkgJiYgInZpc2l0b3IiID09PSBlKSB7CmMucGFyZW50Tm9kZS5zZXREaXNwbGF5KCIiKTsKdmFyIHIgPSBuLnBhcmVudE5vZGUuZ2V0VmFsdWUoInRpbWVzdGFtcCRpbnQiKSwgZCA9IGxbaV0gfHwgIiI7CmQgPSBkLnJlcGxhY2UoIjxuYW1lPiIsIHQpOwppZiAoInZpc2l0b3IiID09IGUpIGlmICgiY2hhdC5tZW1iZXJsZWF2ZSIgIT0gaSkgewpkID0gYS5jaGF0X2xvZ1siY2hhdC52aXNpdG9yam9pbiJdOwpjLnBhcmVudE5vZGUuYWRkQ2xhc3MoInZpc2l0b3Jfam9pbiIpOwp9IGVsc2UgewpkID0gYS5jaGF0X2xvZ1siY2hhdC52aXNpdG9ybGVhdmUiXTsKYy5wYXJlbnROb2RlLmFkZENsYXNzKCJ2aXNpdG9yX2xlYXZlIik7Cn0KaWYgKCJhZ2VudCIgPT0gZSAmJiAiY2hhdC5tZW1iZXJsZWF2ZSIgPT0gaSkgewp2YXIgdSA9IG4ucGFyZW50Tm9kZS5nZXRWYWx1ZSgicmVhc29uJHN0cmluZyIpOwpfLmluZGV4T2YodSkgPiAtMSAmJiAoZCA9IGwuYWdlbnRfZGlzY29ubmVjdGVkLnJlcGxhY2UoIjxhZ2VudF9uYW1lPiIsIHQpKTsKfQoiYWdlbnQiID09IGUgJiYgImNoYXQubWVtYmVyam9pbiIgPT0gaSAmJiBvICYmIHIgPiBvICYmIHMudHJhY2tFdmVudCgiU2VydmVkIGJ5IE9wZXJhdG9yIiwgdCk7Cmguc2V0VGV4dChkKTsKfSBlbHNlIGMucGFyZW50Tm9kZS5zZXREaXNwbGF5KCJub25lIik7Cn0KdmFyIG4sIG8sIHIgPSBpKDYpLCBhID0gaSgxMCksIHMgPSBpKDUwKSwgXyA9IFsgImRpc2Nvbm5lY3RfdXNlciIsICJraWNrX2FjY291bnQiLCAidW5hdXRob3JpemVkX3VzZXIiIF0sIGwgPSBhLmNoYXRfbG9nLCBkID0gci5yb290LiQkKCJjb25uZWN0aW9uLnJlYXR0YWNoZWRfdGltZXN0YW1wJGludCIpOwohZnVuY3Rpb24oKSB7CmMuc2V0RGF0YU5vZGUgPSB0OwpkLm9uKCJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKbyA9IHQ7Cn0pOwp9KCk7Cn0oKTsKZm9yICh2YXIgZyBpbiBmKSBjW2ddID0gZltnXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfaHRtbF9kaXYucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHt9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfY2hhdExvZ1JlbmRlcmVyX01lbWJlckNoYW5nZSIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19jaGF0TG9nUmVuZGVyZXJfUmF0aW5nUHJvbXB0ID0gaSgxNDUpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX2NoYXRMb2dSZW5kZXJlcl9SYXRpbmdQcm9tcHQsICIiLCAiIiwgW10sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOmNoYXRMb2dSZW5kZXJlciI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMuY2hhdExvZ1JlbmRlcmVyIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIGggPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCh0KSB7CnZhciBpID0gdC4kKCJ0aW1lc3RhbXAkaW50Iik7CmlmIChuICE9PSBpKSB7Cm4gJiYgYy5hdXRvdW5iaW5kKG4sICJ2YWx1ZSIsIGUpOwpuID0gaTsKbiAmJiBjLmF1dG9iaW5kKG4sICJ2YWx1ZSIsIGUpOwp9Cn0KZnVuY3Rpb24gZSgpIHsKaWYgKG4pIHsKdmFyIHQgPSBhLmdldFZhbHVlKCksIGUgPSBuLmdldFZhbHVlKCksIGkgPSBfLmdldFZhbHVlKCksIG8gPSBsLmdldFZhbHVlKCk7CnQgJiYgaSAmJiBvICYmIG8gPD0gZSA/IGMuc2V0RGlzcGxheSgiIikgOiBjLnNldERpc3BsYXkoIm5vbmUiKTsKfSBlbHNlIGMuc2V0RGlzcGxheSgibm9uZSIpOwp9CnZhciBuLCBvID0gaSg2KSwgciA9IG8ucm9vdC4kKCJsaXZlY2hhdCIpLCBhID0gci4kKCJzZXR0aW5ncyIpLiQoInJhdGluZyIpLiQoImVuYWJsZWQkYm9vbCIpLCBzID0gci4kKCJjaGFubmVsIiksIF8gPSBzLiQoImNoYXR0aW5nJGJvb2wiKSwgbCA9IHMuJCgic3RhcnQkdGltZSIpOwohZnVuY3Rpb24oKSB7CmMuc2V0RGF0YU5vZGUgPSB0OwpjLmF1dG9iaW5kKGEsICJ2YWx1ZSIsIGUpOwpjLmF1dG9iaW5kKF8sICJ2YWx1ZSIsIGUpOwpjLmF1dG9iaW5kKGwsICJ2YWx1ZSIsIGUpOwp9KCk7Cn0oKTsKZm9yICh2YXIgZiBpbiBoKSBjW2ZdID0gaFtmXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX2NoYXRMb2dSZW5kZXJlcl9SYXRpbmdQcm9tcHQucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIioqc2VsZiI6IHsKZm9udFNpemU6ICIkJGZvbnRTaXplUyIsCmNvbG9yOiAiJCRjaGF0TG9nU3lzdGVtTXNnQ29sb3IiLApiYWNrZ3JvdW5kOiAiJCRjaGF0TG9nU3lzdGVtTXNnQmciLApib3JkZXJXaWR0aDogIiQkY2hhdExvZ1N5c3RlbU1zZ0JvcmRlcldpZHRoIiwKYm9yZGVyU3R5bGU6ICIkJGNoYXRMb2dTeXN0ZW1Nc2dCb3JkZXJTdHlsZSIsCmJvcmRlckNvbG9yOiAiJCRjaGF0TG9nU3lzdGVtTXNnQm9yZGVyQ29sb3IiLApwYWRkaW5nOiAiJCRjaGF0TG9nU3lzdGVtTXNnUGFkZGluZyIsCnRleHRBbGlnbjogImNlbnRlciIKfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfY2hhdExvZ1JlbmRlcmVyX1JhdGluZ1Byb21wdCwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfY2hhdExvZ1JlbmRlcmVyX1JlcXVlc3RSYXRpbmdQcm9tcHQiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19qeF91aV9odG1sX3RhYmxlID0gaSg1NCk7Cm4uX18kJF9fanhfdWlfaHRtbF90Ym9keSA9IGkoNTMpOwpuLl9fJCRfX2p4X3VpX2h0bWxfdHIgPSBpKDUyKTsKbi5fXyQkX19qeF91aV9odG1sX3RkID0gaSg1MSk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIF8sIGwpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgXywgbCk7Cm8gPSBvIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgZCA9IFsgbi5fXyQkX19qeF91aV9odG1sX3RhYmxlLCAiIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX2h0bWxfdGJvZHksICIiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfaHRtbF90ciwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9odG1sX3RkLCAibGVmdF9jZWxsIiwgIiIsIFtdLCB7CmlkOiAibGVmdF9jZWxsIgp9IF0sIFsgbi5fXyQkX19qeF91aV9odG1sX3RkLCAicmlnaHRfY2VsbCIsICIiLCBbXSwgewppZDogInJpZ2h0X2NlbGwiCn0gXSBdLCB7fSBdIF0sIHt9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6bXVpIjogIm1lc2hpbS51aSIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CnZhciBoID0gcy5nZXQobyArICJfX2xlZnRfY2VsbCIpLCBmID0gcy5nZXQobyArICJfX3JpZ2h0X2NlbGwiKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIGcgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCh0KSB7Cm4gJiYgYy5hdXRvdW5iaW5kKG4sICJ2YWx1ZSIsIGUpOwpvID0gdDsKbiA9IHQuJCgibmljayRzdHJpbmciKTsKYy5hdXRvYmluZChuLCAidmFsdWUiLCBlKTsKfQpmdW5jdGlvbiBlKHQpIHsKaWYgKHQpIHsKaC5lbXB0eSgpOwpmLmVtcHR5KCk7CmgucmVtb3ZlQ2xhc3MoImF2YXRhcl9jZWxsIik7CmYucmVtb3ZlQ2xhc3MoImF2YXRhcl9jZWxsIik7CmlmIChzLnRlc3QodCkpIHsKbmV3IHIoaCkuc2V0SGlkZUF1dGhUeXBlKCEwKS5zZXRNZW1iZXJJZCh0KS5hZGRDbGFzcygibG9nX2F2YXRhciIpOwpuZXcgYShmKS5zZXREYXRhTm9kZShvKTsKaC5hZGRDbGFzcygiYXZhdGFyX2NlbGwiKTsKfSBlbHNlIHsKbmV3IHIoZikuc2V0SGlkZUF1dGhUeXBlKCEwKS5zZXRNZW1iZXJJZCh0KS5hZGRDbGFzcygibG9nX2F2YXRhciIpOwpuZXcgYShoKS5zZXREYXRhTm9kZShvKTsKZi5hZGRDbGFzcygiYXZhdGFyX2NlbGwiKTsKfQp9Cn0KdmFyIG4sIG8sIHIgPSBpKDEwOCksIGEgPSBpKDE0NiksIHMgPSAvXmFnZW50LzsKIWZ1bmN0aW9uKCkgewpjLnNldERhdGFOb2RlID0gdDsKfSgpOwp9KCk7CmZvciAodmFyIHAgaW4gZykgY1twXSA9IGdbcF07CmMuZmlyZSAmJiBjLmZpcmUoImluaXQiKTsKYy5zZXRTdHlsZSAmJiBjLnNldFN0eWxlKHIpOwpjLnNldEF0dHJpYnV0ZXMgJiYgYy5zZXRBdHRyaWJ1dGVzKGwpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBjLmFkZENoaWxkcmVuID8gYy5hZGRDaGlsZHJlbihfKSA6IHMuYWRkQ2hpbGRyZW4oYywgXyk7CmlmIChjICE9PSB0aGlzKSB7CmMuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpjLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBjOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2p4X3VpX2h0bWxfdGFibGUucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIioqc2VsZiI6IHsKcG9zaXRpb246ICJyZWxhdGl2ZSIsCndpZHRoOiAiMTAwJSIsCmZvbnRTaXplOiAiMTAwJSIsCnRhYmxlTGF5b3V0OiAiZml4ZWQiLApib3JkZXJTcGFjaW5nOiAiMHB4IiwKYm9yZGVyQ29sbGFwc2U6ICJjb2xsYXBzZSIsCnRkOiB7CnZlcnRpY2FsQWxpZ246ICJib3R0b20iLApwYWRkaW5nOiAiMHB4Igp9LAoiLmNoYXRfYnViYmxlIjogewpkaXNwbGF5OiAiaW5saW5lIiwKbWFyZ2luOiAiMCA4cHgiCn0sCiIubG9nX2F2YXRhciI6IHsKd2lkdGg6ICIzMnB4IiwKaGVpZ2h0OiAiMzJweCIKfSwKIi5hdmF0YXJfY2VsbCI6IHsKd2lkdGg6ICIzMnB4Igp9Cn0sCiIqKnNlbGYuZ3JvdXBfY2hpbGRyZW4iOiB7CiIuY2hhdF9uYW1lIjogewpkaXNwbGF5OiAibm9uZSIKfQp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX2p4X3VpX2h0bWxfdGFibGUsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX2NoYXRMb2dSZW5kZXJlcl9CdWJibGVBdmF0YXJSZW5kZXJlciIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX2p4X3VpX2h0bWxfdGFibGUgPSBpKDU0KTsKbi5fXyQkX19qeF91aV9odG1sX3Rib2R5ID0gaSg1Myk7Cm4uX18kJF9fanhfdWlfaHRtbF90ciA9IGkoNTIpOwpuLl9fJCRfX2p4X3VpX2h0bWxfdGQgPSBpKDUxKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQXZhdGFyID0gaSgxMDgpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19jaGF0TG9nUmVuZGVyZXJfQmFzaWNSZW5kZXJlciA9IGkoMTAzKTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX2p4X3VpX2h0bWxfdGFibGUsICIiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfaHRtbF90Ym9keSwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9odG1sX3RyLCAiIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX2h0bWxfdGQsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0F2YXRhciwgImF2YXRhciIsICIiLCBbXSwgewppZDogImF2YXRhciIsCmFkZENsYXNzOiAibG9nX2F2YXRhciIsCmhpZGVBdXRoVHlwZTogInRydWUiCn0gXSBdLCB7CmNsYXNzOiAiYXZhdGFyX2NlbGwiCn0gXSwgWyBuLl9fJCRfX2p4X3VpX2h0bWxfdGQsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX2NoYXRMb2dSZW5kZXJlcl9CYXNpY1JlbmRlcmVyLCAiY29udGVudCIsICIiLCBbXSwgewppZDogImNvbnRlbnQiLAphZGRDbGFzczogImNvbnRlbnQiCn0gXSBdLCB7fSBdIF0sIHt9IF0gXSwge30gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczptdWkiOiAibWVzaGltLnVpIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIiwKY2xhc3M6ICJiYXNpY0F2YXRhclJlbmRlcmVyIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKdmFyIGggPSBzLmdldChvICsgIl9fYXZhdGFyIiksIGYgPSBzLmdldChvICsgIl9fY29udGVudCIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgZyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KHQpIHsKbiAmJiBjLmF1dG91bmJpbmQobiwgInZhbHVlIiwgZSk7CmYuc2V0RGF0YU5vZGUodCk7Cm4gPSB0LiQoIm5pY2skc3RyaW5nIik7CmMuYXV0b2JpbmQobiwgInZhbHVlIiwgZSk7Cn0KZnVuY3Rpb24gZSh0KSB7CnQgJiYgaC5zZXRNZW1iZXJJZCh0KTsKfQp2YXIgbiwgbyA9IGkoOSk7CiFmdW5jdGlvbigpIHsKby5ydGwoYyk7CmMuc2V0RGF0YU5vZGUgPSB0Owp9KCk7Cn0oKTsKZm9yICh2YXIgcCBpbiBnKSBjW3BdID0gZ1twXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfaHRtbF90YWJsZS5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewpwb3NpdGlvbjogInJlbGF0aXZlIiwKd2lkdGg6ICIxMDAlIiwKdGFibGVMYXlvdXQ6ICJmaXhlZCIsCmJvcmRlclNwYWNpbmc6ICIwcHgiLApib3JkZXJDb2xsYXBzZTogImNvbGxhcHNlIiwKZm9udFNpemU6ICIxMDAlIiwKdGQ6IHsKdmVydGljYWxBbGlnbjogInRvcCIsCnBhZGRpbmc6ICIwcHgiCn0sCiIubG9nX2F2YXRhciI6IHsKd2lkdGg6ICIyNHB4IiwKaGVpZ2h0OiAiMjRweCIKfSwKIi5hdmF0YXJfY2VsbCI6IHsKd2lkdGg6ICIyNHB4Igp9LAoiLmNvbnRlbnQiOiB7Cm1hcmdpblRvcDogIjBweCIsCm1hcmdpbkxlZnQ6ICI4cHgiCn0KfSwKIiYucnRsIjogewoiLmNvbnRlbnQiOiB7Cm1hcmdpbkxlZnQ6ICIwcHgiLAptYXJnaW5SaWdodDogIjhweCIKfQp9LAoiKipzZWxmLmdyb3VwX2NoaWxkcmVuIjogewoiLmxvZ19hdmF0YXIiOiB7CmRpc3BsYXk6ICJub25lIgp9LAoiLmNoYXRfbmFtZSI6IHsKZGlzcGxheTogIm5vbmUiCn0KfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9odG1sX3RhYmxlLCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19jaGF0TG9nUmVuZGVyZXJfQmFzaWNBdmF0YXJSZW5kZXJlciIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX2p4X3VpX2h0bWxfZGl2ID0gaSgxMyk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIF8sIGwpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgXywgbCk7Cm8gPSBvIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgZCA9IFsgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgIiQkZGVmYXVsdHBsYWNlbWVudCQkIiwgIiIsIFtdLCB7CmNsYXNzOiAiYXJyb3dfY29udGVudCIsCmNvbnRhaW5lcjogImRlZmF1bHQiLApwb3NpdGlvbjogInJlbGF0aXZlIiwKaWQ6ICIkJGRlZmF1bHRwbGFjZW1lbnQkJCIKfSBdLCBbIG4uX18kJF9fanhfdWlfaHRtbF9kaXYsICIiLCAiIiwgW10sIHsKY2xhc3M6ICJhcnJvdyBhcnJvd19ib3JkZXIiCn0gXSwgWyBuLl9fJCRfX2p4X3VpX2h0bWxfZGl2LCAiIiwgIiIsIFtdLCB7CmNsYXNzOiAiYXJyb3cgYXJyb3dfYmFja2dyb3VuZCIKfSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOm11aSI6ICJtZXNoaW0udWkiCn0gXSwgdSA9IGRbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBzLm1hbmdsZUlEcyhvLCBkWzNdKSwgZFs0XSksIGMgPSB1IHx8IHRoaXM7CnMuc2V0KG8sIGMpOwp2YXIgaCA9IHMuZ2V0KG8gKyAiX18kJGRlZmF1bHRwbGFjZW1lbnQkJCIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQpjLmRlZmF1bHRQbGFjZW1lbnQgPSBoOwp2YXIgZiA9IGZ1bmN0aW9uKCkgewp2YXIgdCA9IGkoOSk7CiFmdW5jdGlvbigpIHsKYy5zZXRBcnJvd1BvaW50aW5nID0gZnVuY3Rpb24odCkgewpjLnJlbW92ZUNsYXNzKCJsZWZ0IikucmVtb3ZlQ2xhc3MoInJpZ2h0Iik7CmMuYWRkQ2xhc3ModCk7Cn07CnQucnRsKGMpOwp9KCk7Cn0oKTsKZm9yICh2YXIgZyBpbiBmKSBjW2ddID0gZltnXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfaHRtbF9kaXYucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIioqc2VsZiI6IHsKcG9zaXRpb246ICJyZWxhdGl2ZSIsCmJvcmRlcjogIjFweCBzb2xpZCAjMDAwMDAwIiwKYmFja2dyb3VuZDogIiNmZmZmZmYiLAoiLmFycm93Ijogewpwb3NpdGlvbjogImFic29sdXRlIiwKYm9yZGVyOiAiMHB4IHNvbGlkIHRyYW5zcGFyZW50IiwKaGVpZ2h0OiAwLAp3aWR0aDogMCwKZm9udFNpemU6IDAsCmxpbmVIZWlnaHQ6IDAsCnBvaW50ZXJFdmVudHM6ICJub25lIgp9LAoiLmFycm93X2JvcmRlciI6IHsKYm9yZGVyV2lkdGg6ICI4cHgiLAptYXJnaW5Ub3A6ICI4cHgiCn0sCiIuYXJyb3dfYmFja2dyb3VuZCI6IHsKYm9yZGVyV2lkdGg6ICI3cHgiLAptYXJnaW5Ub3A6ICI5cHgiCn0sCiImLmx0ci5sZWZ0LCAmLnJ0bC5yaWdodCI6IHsKIi5hcnJvdyI6IHsKcmlnaHQ6ICIxMDAlIiwKdG9wOiAwLApib3JkZXJMZWZ0Q29sb3I6ICJ0cmFuc3BhcmVudCAhaW1wb3J0YW50IiwKYm9yZGVyVG9wQ29sb3I6ICJ0cmFuc3BhcmVudCAhaW1wb3J0YW50IiwKYm9yZGVyQm90dG9tQ29sb3I6ICJ0cmFuc3BhcmVudCAhaW1wb3J0YW50Igp9Cn0sCiImLnJ0bC5sZWZ0LCAmLmx0ci5yaWdodCI6IHsKIi5hcnJvdyI6IHsKbGVmdDogIjEwMCUiLAp0b3A6IDAsCmJvcmRlclJpZ2h0Q29sb3I6ICJ0cmFuc3BhcmVudCAhaW1wb3J0YW50IiwKYm9yZGVyVG9wQ29sb3I6ICJ0cmFuc3BhcmVudCAhaW1wb3J0YW50IiwKYm9yZGVyQm90dG9tQ29sb3I6ICJ0cmFuc3BhcmVudCAhaW1wb3J0YW50Igp9Cn0KfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfY2hhdExvZ1JlbmRlcmVyX0Fycm93QnViYmxlIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fanhfdWlfaHRtbF9kaXYgPSBpKDEzKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfY2hhdExvZ1JlbmRlcmVyX0NoYXRCdWJibGUgPSBpKDE0Nik7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIGksIG8sIHIsIF8pIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgaSwgbywgciwgXyk7CmkgPSBpIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgbCA9IFsgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfY2hhdExvZ1JlbmRlcmVyX0NoYXRCdWJibGUsICJidWJibGUiLCAiIiwgW10sIHsKaWQ6ICJidWJibGUiLAphZGRDbGFzczogImNoYXRfYnViYmxlIgp9IF0sIFsgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgIiIsICIiLCBbXSwgewpjbGFzczogImNsZWFyX2JvdGgiCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIsCiJ4bWxuczpsb2dSZW5kZXJlciI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMuY2hhdExvZ1JlbmRlcmVyIgp9IF0sIGQgPSBsWzBdLmNhbGwodGhpcywgZSwgaSwgbnVsbCwgcy5tYW5nbGVJRHMoaSwgbFszXSksIGxbNF0pLCB1ID0gZCB8fCB0aGlzOwpzLnNldChpLCB1KTsKdmFyIGMgPSBzLmdldChpICsgIl9fYnViYmxlIik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBoID0gZnVuY3Rpb24oKSB7CiFmdW5jdGlvbigpIHsKdS5zZXREYXRhTm9kZSA9IGZ1bmN0aW9uKHQpIHsKYy5zZXREYXRhTm9kZSh0KTsKfTsKfSgpOwp9KCk7CmZvciAodmFyIGYgaW4gaCkgdVtmXSA9IGhbZl07CnUuZmlyZSAmJiB1LmZpcmUoImluaXQiKTsKdS5zZXRTdHlsZSAmJiB1LnNldFN0eWxlKG8pOwp1LnNldEF0dHJpYnV0ZXMgJiYgdS5zZXRBdHRyaWJ1dGVzKF8pOwoiZnVuY3Rpb24iID09IHR5cGVvZiB1LmFkZENoaWxkcmVuID8gdS5hZGRDaGlsZHJlbihyKSA6IHMuYWRkQ2hpbGRyZW4odSwgcik7CmlmICh1ICE9PSB0aGlzKSB7CnUuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwp1Ll9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiB1Owp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2p4X3VpX2h0bWxfZGl2LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CiIuY2xlYXJfYm90aCI6IHsKY2xlYXI6ICJib3RoIiwKaGVpZ2h0OiAiMHB4IiwKb3ZlcmZsb3c6ICJoaWRkZW4iLApsaW5lSGVpZ2h0OiAiMHB4IiwKZm9udFNpemU6ICIwcHgiCn0KfSwKIioqc2VsZi5ncm91cF9jaGlsZHJlbiI6IHsKIi5jaGF0X25hbWUiOiB7CmRpc3BsYXk6ICJub25lIgp9Cn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfaHRtbF9kaXYsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX2NoYXRMb2dSZW5kZXJlcl9CdWJibGVMb2dSZW5kZXJlciIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX2p4X3VpX1dpZGdldCA9IGkoNyk7Cm4uX18kJF9fanhfdWlfaHRtbF9kaXYgPSBpKDEzKTsKbi5fXyQkX19qeF91aV9odG1sX2EgPSBpKDQ0KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfSWNvbkZvbnQgPSBpKDE1KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgImljb25fd3JhcHBlciIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9odG1sX2EsICJhX2Z1bGwiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfaHRtbF9kaXYsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0ljb25Gb250LCAiIiwgIiIsIFtdLCB7Cmljb246ICJwYXBlcmNsaXAiLApjbGFzczogImdlbmVyaWNfaWNvbiIsCmFkZENsYXNzOiAiaWNvbiIKfSBdIF0sIHsKY2xhc3M6ICJnZW5lcmljX2ljb25fY29udGFpbmVyIGdlbmVyaWNfZmlsZV9ib3JkZXIiCn0gXSBdLCB7CmlkOiAiYV9mdWxsIiwKY2xhc3M6ICJhbmNob3IiLAp0YXJnZXQ6ICJfYmxhbmsiCn0gXSBdLCB7CmNsYXNzOiAiaWNvbl93cmFwcGVyIiwKaWQ6ICJpY29uX3dyYXBwZXIiCn0gXSwgWyBuLl9fJCRfX2p4X3VpX2h0bWxfZGl2LCAiIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX2h0bWxfYSwgImZpbGVfbmFtZSIsICIiLCBbXSwgewppZDogImZpbGVfbmFtZSIsCmNsYXNzOiAiZmlsZV9uYW1lIiwKdGFyZ2V0OiAiX2JsYW5rIgp9IF0sIFsgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgImZpbGVfc2l6ZSIsICIiLCBbXSwgewppZDogImZpbGVfc2l6ZSIsCmNsYXNzOiAiZmlsZV9zaXplIgp9IF0gXSwgewpjbGFzczogImZpbGVfaW5mb19jb250YWluZXIiCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CnZhciBoID0gcy5nZXQobyArICJfX2ljb25fd3JhcHBlciIpLCBmID0gcy5nZXQobyArICJfX2FfZnVsbCIpLCBnID0gcy5nZXQobyArICJfX2ZpbGVfbmFtZSIpLCBwID0gcy5nZXQobyArICJfX2ZpbGVfc2l6ZSIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgbSA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KHQpIHsKaWYgKHQpIHsKaWYgKGEgaW4gdCkgewp0W2FdID0gci5yZXBsYWNlRmlsZUhvc3RuYW1lKHRbYV0pOwpmLnNldEhyZWYodFthXSk7Cmcuc2V0SHJlZih0W2FdKTsKfQpzIGluIHQgJiYgZy5zZXRUZXh0KHRbc10pOwpfIGluIHQgJiYgcC5zZXRUZXh0KG8ucHJldHR5U2l6ZSh0W19dLCB7CmJhc2UyOiAhMAp9KSk7Cn0KfQp2YXIgZSwgbiA9IGkoOSksIG8gPSBpKDY0KSwgciA9IGkoMTEpLCBhID0gInVybCRzdHJpbmciLCBzID0gIm5hbWUkc3RyaW5nIiwgXyA9ICJzaXplJGludCI7CmMuc2V0RGF0YU5vZGUgPSBmdW5jdGlvbihpKSB7CmUgJiYgYy5hdXRvdW5iaW5kKGUsICJ2YWx1ZSIsIHQpOwplID0gaTsKZSAmJiBjLmF1dG9iaW5kKGUsICJ2YWx1ZSIsIHQpOwp9OwohZnVuY3Rpb24oKSB7Cm4ucnRsKGgpOwp9KCk7Cn0oKTsKZm9yICh2YXIgJCBpbiBtKSBjWyRdID0gbVskXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfV2lkZ2V0LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CmRpc3BsYXk6ICJ0YWJsZSIsCndpZHRoOiAiMTAwJSIKfSwKIi5pY29uX3dyYXBwZXIiOiB7CmRpc3BsYXk6ICJ0YWJsZS1jZWxsIiwKd2lkdGg6ICIxcHgiLAoiJi5ydGwiOiB7CnBhZGRpbmdMZWZ0OiAiJCRwYWRkaW5nTCIKfSwKIiYubHRyIjogewpwYWRkaW5nUmlnaHQ6ICIkJHBhZGRpbmdMIgp9Cn0sCiIuYW5jaG9yIjogewp0ZXh0RGVjb3JhdGlvbjogIm5vbmUiCn0sCiIuZ2VuZXJpY19pY29uX2NvbnRhaW5lciI6IHsKZGlzcGxheTogInRhYmxlIiwKd2lkdGg6ICI0NHB4IiwKaGVpZ2h0OiAiNDRweCIsCmJhY2tncm91bmRDb2xvcjogIiNGRkZGRkYiLApib3JkZXJDb2xsYXBzZTogInNlcGFyYXRlIiwKYm9yZGVyUmFkaXVzOiAiNHB4IiwKYm9yZGVyV2lkdGg6ICIxcHgiLApib3JkZXJTdHlsZTogInNvbGlkIiwKYm9yZGVyQ29sb3I6ICIkJGJvcmRlckNvbG9yIiwKdGV4dEFsaWduOiAiY2VudGVyIiwKIi5nZW5lcmljX2ljb24iOiB7CmRpc3BsYXk6ICJpbmxpbmUtYmxvY2siLAp0cmFuc2Zvcm06ICJyb3RhdGUoNDVkZWcpIiwKcGFkZGluZ1RvcDogIjEwcHgiLApwYWRkaW5nTGVmdDogIjhweCIsCmZvbnRTaXplOiAiMjRweCIKfQp9LAoiLmZpbGVfaW5mb19jb250YWluZXIiOiB7CmRpc3BsYXk6ICJ0YWJsZS1jZWxsIiwKdmVydGljYWxBbGlnbjogInRvcCIsCnBhZGRpbmc6ICIwcHgiLAoiLmZpbGVfbmFtZSI6IHsKZm9udFNpemU6ICIkJGZvbnRTaXplUyIsCndvcmRCcmVhazogImJyZWFrLWFsbCIsCnRleHREZWNvcmF0aW9uOiAibm9uZSIKfSwKIi5maWxlX3NpemUiOiB7Cm1hcmdpblRvcDogIjJweCIsCmZvbnRTaXplOiAiJCRmb250U2l6ZVMiCn0KfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9XaWRnZXQsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX2NoYXRMb2dSZW5kZXJlcl9HZW5lcmljRmlsZVJlbmRlcmVyIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSBpKDIpLCBfID0gaSg0KTsKbi5fXyQkX19qeF91aV9XaWRnZXQgPSBpKDcpOwpuLl9fJCRfX2p4X3VpX2h0bWxfYSA9IGkoNDQpOwpuLl9fJCRfX2p4X3VpX2h0bWxfZGl2ID0gaSgxMyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0ljb25Gb250ID0gaSgxNSk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIGwsIGQpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgbCwgZCk7Cm8gPSBvIHx8IF8uZ2VuZXJhdGVJRCgpOwp2YXIgdSA9IHMoMjMwKSwgYyA9IFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICIiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfaHRtbF9hLCAiYV9mdWxsIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX2h0bWxfZGl2LCAiIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX2h0bWxfZGl2LCAiZmlsZV9pbWFnZSIsICIiLCBbXSwgewppZDogImZpbGVfaW1hZ2UiLApjbGFzczogImZpbGVfaW1hZ2UiCn0gXSwgWyBuLl9fJCRfX2p4X3VpX2h0bWxfZGl2LCAicmVsb2FkX2NvbnRhaW5lciIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfSWNvbkZvbnQsICIiLCAiIiwgW10sIHsKaWNvbjogInBpY3R1cmUiLApjbGFzczogInJlbG9hZF9pY29uIiwKYWRkQ2xhc3M6ICJpY29uIgp9IF0sIFsgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgIiIsICIiLCBbIHUgXSwgewpjbGFzczogInJlbG9hZF9tZXNzYWdlIgp9IF0gXSwgewppZDogInJlbG9hZF9jb250YWluZXIiLApjbGFzczogInJlbG9hZF9jb250YWluZXIiLApkaXNwbGF5OiAibm9uZSIKfSBdIF0sIHsKY2xhc3M6ICJmaWxlX2ltYWdlX2NvbnRhaW5lciBpbWFnZV9maWxlX2JvcmRlciIKfSBdIF0sIHsKaWQ6ICJhX2Z1bGwiLApjbGFzczogImFuY2hvciIsCnRhcmdldDogIl9ibGFuayIKfSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIgp9IF0sIGggPSBjWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgXy5tYW5nbGVJRHMobywgY1szXSksIGNbNF0pLCBmID0gaCB8fCB0aGlzOwpfLnNldChvLCBmKTsKdmFyIGcgPSBfLmdldChvICsgIl9fYV9mdWxsIiksIHAgPSBfLmdldChvICsgIl9fZmlsZV9pbWFnZSIpLCBtID0gXy5nZXQobyArICJfX3JlbG9hZF9jb250YWluZXIiKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyICQgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCh0KSB7CmlmICh0ICYmIF8gaW4gdCkgewp0W19dID0gcy5yZXBsYWNlRmlsZUhvc3RuYW1lKHRbX10pOwpnLnNldEhyZWYodFtfXSk7CmEgJiYgKGEub25sb2FkID0gYS5vbmVycm9yID0gYS5vbmFib3J0ID0gZSk7CmEgPSBuZXcgd2luZG93LkltYWdlKCk7CmEub25sb2FkID0gbjsKYS5vbmVycm9yID0gbzsKYS5vbmFib3J0ID0gbzsKYS5zcmMgPSB0W19dOwp9Cn0KZnVuY3Rpb24gZSgpIHt9CmZ1bmN0aW9uIG4oKSB7CnAuc2V0QmFja2dyb3VuZEltYWdlKGEuc3JjKTsKbS5zZXREaXNwbGF5KCJub25lIik7CnAuc2V0T3BhY2l0eSgxKTsKfQpmdW5jdGlvbiBvKCkgewpwLnNldERpc3BsYXkoIm5vbmUiKTsKbS5zZXREaXNwbGF5KCIiKTsKfQp2YXIgciwgYSwgcyA9IGkoMTEpLCBfID0gInVybCRzdHJpbmciOwpmLnNldERhdGFOb2RlID0gZnVuY3Rpb24oZSkgewpyICYmIGYuYXV0b3VuYmluZChyLCAidmFsdWUiLCB0KTsKciA9IGU7CnIgJiYgZi5hdXRvYmluZChyLCAidmFsdWUiLCB0KTsKfTsKfSgpOwpmb3IgKHZhciBiIGluICQpIGZbYl0gPSAkW2JdOwpmLmZpcmUgJiYgZi5maXJlKCJpbml0Iik7CmYuc2V0U3R5bGUgJiYgZi5zZXRTdHlsZShyKTsKZi5zZXRBdHRyaWJ1dGVzICYmIGYuc2V0QXR0cmlidXRlcyhkKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgZi5hZGRDaGlsZHJlbiA/IGYuYWRkQ2hpbGRyZW4obCkgOiBfLmFkZENoaWxkcmVuKGYsIGwpOwppZiAoZiAhPT0gdGhpcykgewpmLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKZi5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gZjsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19qeF91aV9XaWRnZXQucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIi5hbmNob3IiOiB7CnRleHREZWNvcmF0aW9uOiAibm9uZSIKfSwKIi5maWxlX2ltYWdlX2NvbnRhaW5lciI6IHsKZGlzcGxheTogInRhYmxlIiwKd2lkdGg6ICIxMjBweCIsCmhlaWdodDogIjgwcHgiLApiYWNrZ3JvdW5kQ29sb3I6ICIjRkZGRkZGIiwKYm9yZGVyQ29sbGFwc2U6ICJzZXBhcmF0ZSIsCmJvcmRlclJhZGl1czogIjRweCIsCmJvcmRlcldpZHRoOiAiMXB4IiwKYm9yZGVyU3R5bGU6ICJzb2xpZCIsCmJvcmRlckNvbG9yOiAiJCRib3JkZXJDb2xvciIsCnRleHRBbGlnbjogImNlbnRlciIsCm92ZXJmbG93OiAiaGlkZGVuIiwKIi5maWxlX2ltYWdlIjogewpkaXNwbGF5OiAidGFibGUtY2VsbCIsCndpZHRoOiAiMTAwJSIsCmhlaWdodDogIjEwMCUiLApiYWNrZ3JvdW5kUG9zaXRpb246ICJjZW50ZXIiLApiYWNrZ3JvdW5kU2l6ZTogImNvdmVyIiwKb3BhY2l0eTogIjAiLAp0cmFuc2l0aW9uOiAib3BhY2l0eSAwLjVzIgp9LAoiLnJlbG9hZF9jb250YWluZXIiOiB7CmRpc3BsYXk6ICJ0YWJsZS1jZWxsIiwKdmVydGljYWxBbGlnbjogIm1pZGRsZSIsCiIucmVsb2FkX2ljb24iOiB7CmZvbnRTaXplOiAiMjRweCIKfSwKIi5yZWxvYWRfbWVzc2FnZSI6IHsKZm9udFNpemU6ICIkJGZvbnRTaXplUyIsCmNvbG9yOiAiJCRjaGF0TG9nU3lzdGVtTXNnQ29sb3IiCn0KfQp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX2p4X3VpX1dpZGdldCwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfY2hhdExvZ1JlbmRlcmVyX0ltYWdlRmlsZVJlbmRlcmVyIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQsIGUsIGksIG8sIHIpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIG4pKSByZXR1cm4gbmV3IG4odCwgZSwgaSwgbywgcik7CnIgfHwgKHIgPSB7fSk7CnIudGFnTmFtZSA9ICJwIjsKYS5jYWxsKHRoaXMsIHQsIGUsIGksIG8sIHIpOwp9CnZhciBvID0gaSgxKSwgciA9IGkoMCksIGEgPSBpKDIzKTsKbi5wcm90b3R5cGUgPSByKGEucHJvdG90eXBlKTsKbyhuLCBhLCB7CmZxbmFtZTogImp4X3VpX2h0bWxfcCIKfSk7CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gaSgyKSwgXyA9IGkoNCk7Cm4uX18kJF9fanhfdWlfV2lkZ2V0ID0gaSg3KTsKbi5fXyQkX19qeF91aV9odG1sX2RpdiA9IGkoMTMpOwpuLl9fJCRfX2p4X3VpX2h0bWxfcCA9IGkoMzE1KTsKbi5fXyQkX19qeF91aV9odG1sX2ltZyA9IGkoMTEyKTsKbi5fXyQkX19qeF91aV9odG1sX3NwYW4gPSBpKDMwKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfSWNvbkZvbnQgPSBpKDE1KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgbCwgZCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBsLCBkKTsKbyA9IG8gfHwgXy5nZW5lcmF0ZUlEKCk7CnZhciB1ID0gcygyMjUpLCBjID0gWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgImZpbGVfcHJvZ3Jlc3NfY29udGFpbmVyIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX2h0bWxfcCwgInByb2dyZXNzX3RleHQiLCAiIiwgW10sIHsKaWQ6ICJwcm9ncmVzc190ZXh0IiwKY2xhc3M6ICJwcm9ncmVzc190ZXh0Igp9IF0sIFsgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9odG1sX2ltZywgInByb2dyZXNzX2JhciIsICIiLCBbXSwgewppZDogInByb2dyZXNzX2JhciIsCmNsYXNzOiAicHJvZ3Jlc3NfYmFyIgp9IF0gXSwgewpjbGFzczogInByb2dyZXNzX2NvbnRhaW5lciIKfSBdIF0sIHsKaWQ6ICJmaWxlX3Byb2dyZXNzX2NvbnRhaW5lciIsCnVzZURpc3BsYXk6ICJ0cnVlIgp9IF0sIFsgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgImZpbGVfZGV0YWlsc19jb250YWluZXIiLCAiIiwgW10sIHsKaWQ6ICJmaWxlX2RldGFpbHNfY29udGFpbmVyIiwKY2xhc3M6ICJmaWxlX2RldGFpbHNfY29udGFpbmVyIiwKdmlzaWJsZTogIm5vbmUiCn0gXSwgWyBuLl9fJCRfX2p4X3VpX2h0bWxfZGl2LCAiZmlsZV9zdGF0dXMiLCAiIiwgW10sIHsKaWQ6ICJmaWxlX3N0YXR1cyIsCmNsYXNzOiAiZmlsZV9zdGF0dXMiLAp1c2VEaXNwbGF5OiAidHJ1ZSIKfSBdLCBbIG4uX18kJF9fanhfdWlfaHRtbF9zcGFuLCAiZmlsZV9kZWxldGVkIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19JY29uRm9udCwgIiIsICIiLCBbXSwgewpjbGFzczogInBhcGVyY2xpcCIsCnRpdGxlOiAiQXR0YWNobWVudCBkZWxldGVkIiwKaWNvbjogInBhcGVyY2xpcCIKfSBdLCBbIG4uX18kJF9fanhfdWlfaHRtbF9zcGFuLCAiIiwgIiIsIFtdLCB7CmNsYXNzOiAic3BhY2VfYmV0d2VlbiIKfSBdLCBbIG4uX18kJF9fanhfdWlfaHRtbF9zcGFuLCAiIiwgIiIsIFsgdSBdLCB7fSBdIF0sIHsKaWQ6ICJmaWxlX2RlbGV0ZWQiLApjbGFzczogImZpbGVfZGVsZXRlZCIsCnVzZURpc3BsYXk6ICJ0cnVlIiwKdmlzaWJsZTogIm5vbmUiCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCnZpc2libGU6ICJub25lIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIgp9IF0sIGggPSBjWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgXy5tYW5nbGVJRHMobywgY1szXSksIGNbNF0pLCBmID0gaCB8fCB0aGlzOwpfLnNldChvLCBmKTsKdmFyIGcgPSBfLmdldChvICsgIl9fZmlsZV9wcm9ncmVzc19jb250YWluZXIiKSwgcCA9IF8uZ2V0KG8gKyAiX19wcm9ncmVzc190ZXh0IiksIG0gPSBfLmdldChvICsgIl9fcHJvZ3Jlc3NfYmFyIiksICQgPSBfLmdldChvICsgIl9fZmlsZV9kZXRhaWxzX2NvbnRhaW5lciIpLCBiID0gXy5nZXQobyArICJfX2ZpbGVfc3RhdHVzIiksIHcgPSBfLmdldChvICsgIl9fZmlsZV9kZWxldGVkIik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciB4ID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQodCkgewppZiAodCkgewppZiAoQSBpbiB0KSB7CnZhciBpID0gdFtBXTsKaWYgKGsgaW4gaSAmJiBpW2tdKSB7CmcuaGlkZSgpOwp3LnNob3coKTsKZi5zaG93KCk7CnJldHVybjsKfQp0W3hdID0gaS5uYW1lJHN0cmluZzsKdFt2XSA9IGkubWltZV90eXBlJHN0cmluZzsKdFtqXSA9ICJvayI7CnRbeV0gPSAxMDA7Cn0KKHggaW4gdCB8fCBDIGluIHQpICYmIGYuc2hvdygpOwplKHQpICYmIG4odCkgJiYgbyh0KTsKUyBpbiB0ICYmIHggaW4gdCAmJiBoLnVwZGF0ZSh7CmZpbGVfdXBsb2FkX3Njcm9sbCRib29sOiAhMAp9KTsKfQp9CmZ1bmN0aW9uIGUodCkgewppZiAoIShqIGluIHQpKSByZXR1cm4gITA7CmcuaGlkZSgpOwppZiAoIm9rIiA9PSB0W2pdLnRvTG93ZXJDYXNlKCkpIHsKJC5zaG93KCk7CmIucmVtb3ZlQ2xhc3MoImZhaWwiKTsKcmV0dXJuICEwOwp9CiQuaGlkZSgpOwpiLmFkZENsYXNzKCJmYWlsIik7CmlmICghKEMgaW4gdCkpIHJldHVybiAhMDsKYi5zZXRUZXh0KF8ucHJldHR5RXJyb3IodFtDXSkpOwpiLnNob3coKTsKcmV0dXJuICExOwp9CmZ1bmN0aW9uIG4odCkgewppZiAoISh5IGluIHQgJiYgeCBpbiB0KSkgcmV0dXJuICExOwp2YXIgZSA9IHRbeV0gPCBCLCBpID0gdFt4XS5sZW5ndGggPiAxNSA/IHRbeF0uc3Vic3RyaW5nKDAsIDEyKSArICIuLi4iIDogdFt4XTsKcC5zZXRUZXh0KChlID8gSSA6IFQpLnJlcGxhY2UoIjxmaWxlX25hbWU+IiwgaSkpOwppZiAoZSkgewpnLnNob3coKTsKJC5oaWRlKCk7CmIuaGlkZSgpOwp9IGVsc2UgewpnLmhpZGUoKTsKJC5zaG93KCk7CmIuc2hvdygpOwp9CnJldHVybiAhZTsKfQpmdW5jdGlvbiBvKHQpIHsKaWYgKHIuJChBKS5nZXRWYWx1ZSgpKSB7CmEgJiYgJC5lbXB0eSgpOwp2YXIgZTsKZSA9IE4udGVzdCh0W3ZdKSA/IHUgOiBjOwphID0gbmV3IGUoJCk7CmEuc2V0RGF0YU5vZGUoci4kKEEpKTsKfQp9CnZhciByLCBhLCBzID0gaSgyKSwgXyA9IGkoNjQpLCBsID0gaSgxOCksIGQgPSBpKDYpLCB1ID0gaSgzMTQpLCBjID0gaSgzMTMpLCBoID0gZC5yb290LiQkKCJsaXZlY2hhdC51aS5jaGF0X3dpbmRvdyIpLCB4ID0gImZpbGVfbmFtZSRzdHJpbmciLCB2ID0gImZpbGVfdHlwZSRzdHJpbmciLCB5ID0gInMzX3Byb2dyZXNzJGludCIsIGogPSAic3RhdHVzJHN0cmluZyIsIEMgPSAiZXJyb3Ikc3RyaW5nIiwgUyA9ICJ1bnZlcmlmaWVkJGJvb2wiLCBBID0gImF0dGFjaG1lbnQiLCBrID0gImRlbGV0ZWQkYm9vbCIsIEkgPSBzKDIyNiksIFQgPSBzKDIyNyksIE4gPSAvaW1hZ2UvaSwgQiA9IDEwMDsKZi5zZXREYXRhTm9kZSA9IGZ1bmN0aW9uKGUpIHsKciAmJiBmLmF1dG91bmJpbmQociwgInZhbHVlIiwgdCk7CnIgPSBlOwpyICYmIGYuYXV0b2JpbmQociwgInZhbHVlIiwgdCk7Cn07CiFmdW5jdGlvbigpIHsKbS5zZXRTcmMobC5JTUFHRVNfVVJMICsgIi9sb2FkaW5nYmFyLmdpZiIpOwp9KCk7Cn0oKTsKZm9yICh2YXIgdiBpbiB4KSBmW3ZdID0geFt2XTsKZi5maXJlICYmIGYuZmlyZSgiaW5pdCIpOwpmLnNldFN0eWxlICYmIGYuc2V0U3R5bGUocik7CmYuc2V0QXR0cmlidXRlcyAmJiBmLnNldEF0dHJpYnV0ZXMoZCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGYuYWRkQ2hpbGRyZW4gPyBmLmFkZENoaWxkcmVuKGwpIDogXy5hZGRDaGlsZHJlbihmLCBsKTsKaWYgKGYgIT09IHRoaXMpIHsKZi5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmYuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGY7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfV2lkZ2V0LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CndpZHRoOiAiMTAwJSIKfSwKIi5wYXBlcmNsaXAiOiB7CmRpc3BsYXk6ICJpbmxpbmUtYmxvY2siLAoiZm9udC1zaXplIjogIiQkZm9udFNpemVMIiwKdHJhbnNmb3JtOiAicm90YXRlKDQ1ZGVnKSIsCnBvc2l0aW9uOiAicmVsYXRpdmUiLApib3R0b206ICItMnB4Igp9LAoiLnNwYWNlX2JldHdlZW4iOiB7CndpZHRoOiAiNXB4IiwKZGlzcGxheTogImlubGluZS1ibG9jayIKfSwKIi5wcm9ncmVzc190ZXh0Ijogewpmb250U2l6ZTogIiQkZm9udFNpemVTIiwKY29sb3I6ICIkJGNoYXRMb2dTeXN0ZW1Nc2dDb2xvciIsCmZvbnRTdHlsZTogIml0YWxpYyIKfSwKIi5wcm9ncmVzc19jb250YWluZXIiOiB7CnBvc2l0aW9uOiAicmVsYXRpdmUiLApoZWlnaHQ6ICI4cHgiLAptYXJnaW5Ub3A6ICIzcHgiLApib3JkZXJSYWRpdXM6ICI1cHgiLApiYWNrZ3JvdW5kOiAiJCRjaGF0TG9nRmlsZVByb2dyZXNzQmciLApvdmVyZmxvdzogImhpZGRlbiIsCiIucHJvZ3Jlc3NfYmFyIjogewpwb3NpdGlvbjogImFic29sdXRlIiwKdG9wOiAiMHB4IiwKbGVmdDogIjBweCIsCmhlaWdodDogIjEwMCUiCn0KfSwKIi5maWxlX2RldGFpbHNfY29udGFpbmVyIjogewpvdmVyZmxvdzogImhpZGRlbiIsCm1hcmdpblRvcDogIjVweCIKfSwKIi5maWxlX2RlbGV0ZWQiOiB7CmZvbnRTdHlsZTogIml0YWxpYyIKfSwKIi5maWxlX3N0YXR1cyI6IHsKbWFyZ2luVG9wOiAiNXB4IiwKdGV4dEFsaWduOiAiY2VudGVyIiwKZm9udFNpemU6ICIkJGZvbnRTaXplUyIsCmNvbG9yOiAiJCRjaGF0TG9nU3lzdGVtTXNnQ29sb3IiLAoiJi5mYWlsIjogewpjb2xvcjogIiQkZXJyb3JNZXNzYWdlQ29sb3IiCn0KfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9XaWRnZXQsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX2NoYXRMb2dSZW5kZXJlcl9DaGF0RmlsZSIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gaSgyKSwgXyA9IGkoNCk7Cm4uX18kJF9fanhfdWlfV2lkZ2V0ID0gaSg3KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgaSwgbywgciwgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBpLCBvLCByLCBsKTsKaSA9IGkgfHwgXy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gcygyMjEpLCB1ID0gcygyMjIpLCBjID0gWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIiIsICIiLCBbXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAp1c2VEaXNwbGF5OiAidHJ1ZSIsCnZpc2libGU6ICJmYWxzZSIKfSBdLCBoID0gY1swXS5jYWxsKHRoaXMsIGUsIGksIG51bGwsIF8ubWFuZ2xlSURzKGksIGNbM10pLCBjWzRdKSwgZiA9IGggfHwgdGhpczsKXy5zZXQoaSwgZik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBnID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQodCkgewppZiAobiAhPT0gdCkgewppZiAobikgewpmLmF1dG91bmJpbmQobiwgInZhbHVlIiwgaSk7CmYuc2V0VGV4dCgiIik7Cn0KbiA9IHQ7CmlmIChuKSB7CmYuYXV0b2JpbmQobiwgInZhbHVlIiwgaSk7CmYuc2V0VmlzaWJsZSghMCk7Cn0gZWxzZSBmLnNldFZpc2libGUoITEpOwp9Cn0KZnVuY3Rpb24gZSgpIHsKbiAmJiBuLnVwZGF0ZSghbi5nZXRWYWx1ZSgpKTsKfQpmdW5jdGlvbiBpKCkgewpmLnNldFRleHQoITAgPT09IG4uZ2V0VmFsdWUoKSA/IHUgOiBkKTsKfQp2YXIgbjsKIWZ1bmN0aW9uKCkgewpmLnNldERhdGFOb2RlID0gdDsKZi5vbigiY2xpY2siLCBlKTsKfSgpOwp9KCk7CmZvciAodmFyIHAgaW4gZykgZltwXSA9IGdbcF07CmYuZmlyZSAmJiBmLmZpcmUoImluaXQiKTsKZi5zZXRTdHlsZSAmJiBmLnNldFN0eWxlKG8pOwpmLnNldEF0dHJpYnV0ZXMgJiYgZi5zZXRBdHRyaWJ1dGVzKGwpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBmLmFkZENoaWxkcmVuID8gZi5hZGRDaGlsZHJlbihyKSA6IF8uYWRkQ2hpbGRyZW4oZiwgcik7CmlmIChmICE9PSB0aGlzKSB7CmYuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpmLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBmOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2p4X3VpX1dpZGdldC5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewpjdXJzb3I6ICJwb2ludGVyIiwKZGlzcGxheTogImlubGluZS1ibG9jayIsCnRleHREZWNvcmF0aW9uOiAidW5kZXJsaW5lIiwKY29sb3I6ICIkJGNoYXRUcmFuc2xhdGlvblN3aXRjaENvbG9yIgp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX2p4X3VpX1dpZGdldCwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfY2hhdExvZ1JlbmRlcmVyX1RyYW5zbGF0aW9uU3dpdGNoIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSkgewpmdW5jdGlvbiBpKHQpIHsKcmV0dXJuICImIyIgKyB0LmNoYXJDb2RlQXQoMCkgKyAiOyI7Cn0KdmFyIG4gPSAvWyY8PiInXS9nLCBvID0gewpodG1sOiBmdW5jdGlvbih0KSB7CnJldHVybiB0ICYmIHQucmVwbGFjZShuLCBpKTsKfQp9Owp0LmV4cG9ydHMgPSBvOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19qeF91aV9odG1sX2RpdiA9IGkoMTMpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fanhfdWlfaHRtbF9kaXYsICIiLCAiIiwgW10sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOm11aSI6ICJtZXNoaW0udWkiCn0gXSwgdSA9IGRbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBzLm1hbmdsZUlEcyhvLCBkWzNdKSwgZFs0XSksIGMgPSB1IHx8IHRoaXM7CnMuc2V0KG8sIGMpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgaCA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KHQpIHsKaWYgKHMgIT09IHQpIHsKcyAmJiBjLmF1dG91bmJpbmQocywgInZhbHVlIiwgZSk7CnMgPSB0OwpzICYmIGMuYXV0b2JpbmQocywgInZhbHVlIiwgZSk7Cn0KfQpmdW5jdGlvbiBlKCkgewp2YXIgdCA9IG4ocy5nZXRWYWx1ZSgpKTsKaWYgKHQpIHsKYy5zZXREaXNwbGF5KCJibG9jayIpOwpjLnNldEhUTUwodCk7Cm8oKTsKfSBlbHNlIGMuc2V0RGlzcGxheSgibm9uZSIpOwp9CmZ1bmN0aW9uIG4odCkgewppZiAoIXQpIHJldHVybiAiIjsKZm9yICh2YXIgZSwgaSA9IHQuc3BsaXQoIi8iKSwgbiA9ICI8Zm9ybT4iLCBvID0gMCwgciA9IGkubGVuZ3RoOyBvIDwgcjsgbysrKSB7CmUgPSBfLmh0bWwoaVtvXSk7Cm4gKz0gJzxsYWJlbD48aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9Im9wdGlvbiIgdmFsdWU9IicgKyBlICsgJyI+JyArIGUgKyAiPC9sYWJlbD48L2JyPiI7Cn0KbiArPSAiPC9mb3JtPiI7CnJldHVybiBuOwp9CmZ1bmN0aW9uIG8oKSB7CmZvciAodmFyIHQgPSBjLmRvbS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKSwgZSA9IDAsIGkgPSB0Lmxlbmd0aDsgZSA8IGk7IGUrKykgdFtlXS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7CnRoaXMudmFsdWUgIT09IGEgJiYgcih0aGlzLnZhbHVlKTsKfTsKfQpmdW5jdGlvbiByKHQpIHsKaWYgKHQpIHsKbC5saXZlY2hhdC5zZW5kQ2hhdE1zZyh7Cm1zZzogdAp9KTsKYSA9IHQ7Cn0KfQp2YXIgYSwgcywgXyA9IGkoMzE4KSwgbCA9IGkoNik7CiFmdW5jdGlvbigpIHsKYy5zZXREYXRhTm9kZSA9IHQ7Cn0oKTsKfSgpOwpmb3IgKHZhciBmIGluIGgpIGNbZl0gPSBoW2ZdOwpjLmZpcmUgJiYgYy5maXJlKCJpbml0Iik7CmMuc2V0U3R5bGUgJiYgYy5zZXRTdHlsZShyKTsKYy5zZXRBdHRyaWJ1dGVzICYmIGMuc2V0QXR0cmlidXRlcyhsKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5hZGRDaGlsZHJlbiA/IGMuYWRkQ2hpbGRyZW4oXykgOiBzLmFkZENoaWxkcmVuKGMsIF8pOwppZiAoYyAhPT0gdGhpcykgewpjLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKYy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gYzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19qeF91aV9odG1sX2Rpdi5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0ge307CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX2p4X3VpX2h0bWxfZGl2LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19jaGF0TG9nUmVuZGVyZXJfQ2hhdE9wdGlvbiIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gaSgyKSwgXyA9IGkoNCk7Cm4uX18kJF9fanhfdWlfV2lkZ2V0ID0gaSg3KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfSWNvbkZvbnQgPSBpKDE1KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgbCwgZCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBsLCBkKTsKbyA9IG8gfHwgXy5nZW5lcmF0ZUlEKCk7CnZhciB1ID0gcygyMjMpLCBjID0gcygyMjQpLCBoID0gWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfSWNvbkZvbnQsICIiLCAiIiwgW10sIHsKaWNvbjogImV4Y2xhbWF0aW9uIiwKdGl0bGU6IHUKfSBdLCBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgYyBdLCB7CmNsYXNzOiAicmVzZW5kIgp9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6d2lkZ2V0cyI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiLApkaXNwbGF5OiAibm9uZSIKfSBdLCBmID0gaFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIF8ubWFuZ2xlSURzKG8sIGhbM10pLCBoWzRdKSwgZyA9IGYgfHwgdGhpczsKXy5zZXQobywgZyk7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBwID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQodCkgewppZiAodCAhPSByKSB7CnIgJiYgZy5hdXRvdW5iaW5kKHIsICJ2YWx1ZSIsIGUpOwpyID0gdDsKciAmJiBnLmF1dG9iaW5kKHIsICJ2YWx1ZSIsIGUpOwp9Cn0KZnVuY3Rpb24gZSh0KSB7CmlmICh0KSB7CnQuZmFpbGVkJGJvb2wgJiYgbygpOwppZiAoInVudmVyaWZpZWQkYm9vbCIgaW4gdCkgewp3aW5kb3cuY2xlYXJUaW1lb3V0KGEpOwp0LnVudmVyaWZpZWQkYm9vbCAmJiAoYSA9IHdpbmRvdy5zZXRUaW1lb3V0KG8sIF8uUkVTRU5EX01TR19USU1FT1VUKSk7Cn0KfQp9CmZ1bmN0aW9uIG4odCkgewp0ICYmIHModC5zdG9wUHJvcGFnYXRpb24pICYmIHQuc3RvcFByb3BhZ2F0aW9uKCk7CmwubGl2ZWNoYXQuc2VuZENoYXRNc2coewptc2c6IHIuZ2V0VmFsdWUoIm1zZyRzdHJpbmciKQp9LCByLm5hbWUpOwpnLnNldERpc3BsYXkoIm5vbmUiKTsKfQpmdW5jdGlvbiBvKCkgewpnLnNldERpc3BsYXkoIiIpOwp9CnZhciByLCBhLCBzID0gaSgyMCksIF8gPSBpKDE4KSwgbCA9IGkoNik7CiFmdW5jdGlvbigpIHsKZy5zZXREYXRhTm9kZSA9IHQ7Cmcub24oImNsaWNrIiwgbik7Cn0oKTsKfSgpOwpmb3IgKHZhciBtIGluIHApIGdbbV0gPSBwW21dOwpnLmZpcmUgJiYgZy5maXJlKCJpbml0Iik7Cmcuc2V0U3R5bGUgJiYgZy5zZXRTdHlsZShyKTsKZy5zZXRBdHRyaWJ1dGVzICYmIGcuc2V0QXR0cmlidXRlcyhkKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgZy5hZGRDaGlsZHJlbiA/IGcuYWRkQ2hpbGRyZW4obCkgOiBfLmFkZENoaWxkcmVuKGcsIGwpOwppZiAoZyAhPT0gdGhpcykgewpnLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKZy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gZzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19qeF91aV9XaWRnZXQucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIioqc2VsZiI6IHsKIi5yZXNlbmQiOiB7CnRleHREZWNvcmF0aW9uOiAidW5kZXJsaW5lIgp9LAoiLmljb25fZm9udCI6IHsKcG9zaXRpb246ICJyZWxhdGl2ZSIsCnRvcDogIjJweCIsCm1hcmdpblJpZ2h0OiAiM3B4Igp9Cn0sCiIqKnNlbGYsIC5pY29uX2ZvbnQsIC5yZXNlbmQiOiB7CmNvbG9yOiAiJCRlcnJvckNvbG9yIiwKZGlzcGxheTogImlubGluZS1ibG9jayIsCiIqZGlzcGxheSI6ICJpbmxpbmUiLAoiKnpvb20iOiAiMSIsCmN1cnNvcjogInBvaW50ZXIiCn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfV2lkZ2V0LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19jaGF0TG9nUmVuZGVyZXJfUmVzZW5kQ2hhdE1lc3NhZ2UiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4odCkgewpmb3IgKHZhciBlLCBpID0gby5zZWFyY2gucGhvbmVfbnVtYmVyLCBuID0gMCwgciA9IFtdOyBudWxsICE9PSAoZSA9IGkuZXhlYyh0KSk7ICkgewp2YXIgYSA9IGVbMF0udHJpbSgpLCBzID0gZVsxXSwgXyA9IGVbMl0sIGwgPSBpLmxhc3RJbmRleCAtIGEubGVuZ3RoLCBkID0gYS5yZXBsYWNlKHMsICIiKS5yZXBsYWNlKF8sICIiKTsKbCA+IG4gJiYgci5wdXNoKHQuc3Vic3RyaW5nKG4sIGwpKTsKci5wdXNoKHsKdGFnTmFtZTogImEiLAphdHRyaWJ1dGVzOiB7CmhyZWY6ICJ0ZWw6IiArIGQKfSwKY2hpbGRyZW46IFsgYSBdCn0pOwpuID0gaS5sYXN0SW5kZXg7Cn0KbiA8IHQubGVuZ3RoICYmIHIucHVzaCh0LnN1YnN0cmluZyhuKSk7CnJldHVybiByOwp9CnZhciBvID0gaSg2NSk7CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0KSB7CmZvciAodmFyIGUsIGkgPSBvLnNlYXJjaC5lbWFpbF9sd3MsIG4gPSAwLCByID0gW107IG51bGwgIT09IChlID0gaS5leGVjKHQpKTsgKSB7CnZhciBhID0gZVswXS50cmltKCksIHMgPSBlWzJdLCBfID0gaS5sYXN0SW5kZXggLSBhLmxlbmd0aDsKaWYgKG8udGxkLnRlc3QocykpIHsKXyA+IG4gJiYgci5wdXNoKHQuc3Vic3RyaW5nKG4sIF8pKTsKci5wdXNoKHsKdGFnTmFtZTogImEiLAphdHRyaWJ1dGVzOiB7CmhyZWY6ICJtYWlsdG86IiArIGEsCnRhcmdldDogIl90b3AiCn0sCmNoaWxkcmVuOiBbIGEgXQp9KTsKbiA9IGkubGFzdEluZGV4Owp9Cn0KbiA8IHQubGVuZ3RoICYmIHIucHVzaCh0LnN1YnN0cmluZyhuKSk7CnJldHVybiByOwp9CnZhciBvID0gaSg2NSk7CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX2p4X3VpX2h0bWxfZGl2ID0gaSgxMyk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIF8sIGwpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgXywgbCk7Cm8gPSBvIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgZCA9IFsgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgIiIsICIiLCBbXSwgewp4bWxuczogImp4LnVpLmh0bWwiCn0gXSwgdSA9IGRbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBzLm1hbmdsZUlEcyhvLCBkWzNdKSwgZFs0XSksIGMgPSB1IHx8IHRoaXM7CnMuc2V0KG8sIGMpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgaCA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KHQpIHsKaWYgKG8gIT09IHQpIHsKbyAmJiBjLmF1dG91bmJpbmQobywgInZhbHVlIiwgZSk7Cm8gPSB0OwpvICYmIGMuYXV0b2JpbmQobywgInZhbHVlIiwgZSk7Cn0KfQpmdW5jdGlvbiBlKCkgewppZiAoIW8ucGFyZW50Tm9kZS4kKCJhdHRhY2htZW50IikuZ2V0VmFsdWUoKSkgewp2YXIgdCA9IG8uZ2V0VmFsdWUoKSB8fCAiIjsKbihyLnRvSlhNTEVsZW1lbnRzKHQsIHUpKTsKfQp9CmZ1bmN0aW9uIG4odCkgewpjLmVtcHR5KCk7CmMuc2V0VGV4dCgiIik7CmMuYWRkQ2hpbGRyZW4odCk7Cn0KdmFyIG8sIHIgPSBpKDE1NCksIGEgPSBpKDE1MyksIHMgPSBpKDMyMiksIF8gPSBpKDE1MCksIGwgPSBpKDE1MiksIGQgPSBpKDMyMSksIHUgPSBbIGEsIF8sIGwsIHMsIGQgXTsKIWZ1bmN0aW9uKCkgewpjLnNldERhdGFOb2RlID0gdDsKfSgpOwp9KCk7CmZvciAodmFyIGYgaW4gaCkgY1tmXSA9IGhbZl07CmMuZmlyZSAmJiBjLmZpcmUoImluaXQiKTsKYy5zZXRTdHlsZSAmJiBjLnNldFN0eWxlKHIpOwpjLnNldEF0dHJpYnV0ZXMgJiYgYy5zZXRBdHRyaWJ1dGVzKGwpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBjLmFkZENoaWxkcmVuID8gYy5hZGRDaGlsZHJlbihfKSA6IHMuYWRkQ2hpbGRyZW4oYywgXyk7CmlmIChjICE9PSB0aGlzKSB7CmMuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpjLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBjOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2p4X3VpX2h0bWxfZGl2LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CmRpc3BsYXk6ICJpbmxpbmUiCn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfaHRtbF9kaXYsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX2NoYXRMb2dSZW5kZXJlcl9DaGF0TWVzc2FnZSIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gaSgyKSwgXyA9IGkoNCk7Cm4uX18kJF9fanhfdWlfaHRtbF9kaXYgPSBpKDEzKTsKbi5fXyQkX19qeF91aV9odG1sX3NwYW4gPSBpKDMwKTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgbCwgZCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBsLCBkKTsKbyA9IG8gfHwgXy5nZW5lcmF0ZUlEKCk7CnZhciB1ID0gcygyMjgpLCBjID0gcygyMjkpLCBoID0gWyBuLl9fJCRfX2p4X3VpX2h0bWxfZGl2LCAiIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX2h0bWxfc3BhbiwgInRleHQiLCAiIiwgW10sIHsKaWQ6ICJ0ZXh0IiwKYWRkQ2xhc3M6ICJ0ZXh0X25hbWUiCn0gXSwgWyBuLl9fJCRfX2p4X3VpX2h0bWxfc3BhbiwgImNoYW5nZV9uYW1lIiwgIiIsIFsgYyBdLCB7CmlkOiAiY2hhbmdlX25hbWUiLAphZGRDbGFzczogImNoYXRfbmFtZSIKfSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOm11aSI6ICJtZXNoaW0udWkiCn0gXSwgZiA9IGhbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBfLm1hbmdsZUlEcyhvLCBoWzNdKSwgaFs0XSksIGcgPSBmIHx8IHRoaXM7Cl8uc2V0KG8sIGcpOwp2YXIgcCA9IF8uZ2V0KG8gKyAiX190ZXh0IiksIG0gPSBfLmdldChvICsgIl9fY2hhbmdlX25hbWUiKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyICQgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCh0KSB7CnMgJiYgZy5hdXRvdW5iaW5kKHMsICJ2YWx1ZSIsIGUpOwpzID0gdDsKZy5hdXRvYmluZChzLCAidmFsdWUiLCBlKTsKfQpmdW5jdGlvbiBlKHQpIHsKaWYgKHQgJiYgdC50eXBlJHN0cmluZyAhPSBDKSB7CnQubmljayRzdHJpbmcgJiYgbih0Lm5pY2skc3RyaW5nLCB0LnRpbWVzdGFtcCRpbnQpOwp0LmRpc3BsYXlfbmFtZSRzdHJpbmcgJiYgbyh0LmRpc3BsYXlfbmFtZSRzdHJpbmcpOwp9Cn0KZnVuY3Rpb24gbih0LCBlKSB7CmlmICh0KSB7CmggPSB0LnNwbGl0KCI6IilbMF07CiJ2aXNpdG9yIiA9PSBoICYmIGYgJiYgbyhmKTsKImFnZW50IiA9PSBoICYmIGIuZ2V0VmFsdWUoKSAmJiBlID4gYi5nZXRWYWx1ZSgpICYmIF8ucm9vdC4kJCgibGl2ZWNoYXQudWkuc291bmRzIikudXBkYXRlKHsKbmV3X21lc3NhZ2UkaW50OiArbmV3IERhdGUoKQp9KTsKaWYgKCJ2aXNpdG9yIiA9PSBoICYmICFhLmJvdW5kZWQgJiYgIXkuZ2V0VmFsdWUoKSkgewpnLmFkZENsYXNzKCJjdXJzb3JfcG9pbnRlciIpOwpwLm9uKCJjbGljayIsIGEpOwptLm9uKCJjbGljayIsIGEpOwphLmJvdW5kZWQgPSAhMDsKfQp9Cn0KZnVuY3Rpb24gbyh0KSB7CmlmICgidmlzaXRvciIgPT0gaCkgewp0ID0gJC5nZXRWYWx1ZSgpOwppZiAoIWYpIHsKaWYgKGQuaXNEZWZhdWx0TmFtZSh0KSkgewp0ID0gIiI7Cm0uc2V0RGlzcGxheSgiIik7Cn0gZWxzZSBtLnNldERpc3BsYXkoIm5vbmUiKTsKZiA9IHQ7Cn0KcC5zZXRUZXh0KGYpOwp9IGVsc2UgewpwLnNldFRleHQodCk7Cm0uc2V0RGlzcGxheSgibm9uZSIpOwp9Cn0KZnVuY3Rpb24gcih0KSB7CmlmICh0ICYmICJzdHJpbmciID09IHR5cGVvZiB0ICYmICghaCB8fCAidmlzaXRvciIgPT0gaCkpIHsKaWYgKGQuaXNEZWZhdWx0TmFtZSh0KSkgewp0ID0gIiI7Cm0uc2V0RGlzcGxheSgiIik7Cn0gZWxzZSBtLnNldERpc3BsYXkoIm5vbmUiKTsKZiA9IHQ7CnAuc2V0VGV4dChmKTsKfQp9CmZ1bmN0aW9uIGEodCkgewppZiAodi5nZXRWYWx1ZSgpKSB7CmlmICghZC5pc0RlZmF1bHROYW1lKCQuZ2V0VmFsdWUoKSkpIHJldHVybjsKd2luZG93LnNjcm9sbFRvKDAsIDApOwp9CnQuc3RvcFByb3BhZ2F0aW9uKCk7Cmwuc2hvd1Byb2ZpbGVNZW51KCk7Cn0KdmFyIHMsIF8gPSBpKDYpLCBsID0gaSgyNCksIGQgPSBpKDExKSwgaCA9ICIiLCBmID0gIiIsICQgPSBfLnJvb3QuJCQoImxpdmVjaGF0LnByb2ZpbGUuZGlzcGxheV9uYW1lJHN0cmluZyIpLCBiID0gXy5yb290LiQkKCJjb25uZWN0aW9uLnJlYXR0YWNoZWRfdGltZXN0YW1wJGludCIpLCB3ID0gXy5yb290LCB4ID0gdy4kKCJsaXZlY2hhdCIpLiQoInVpIiksIHYgPSB4LiQoIm1vYmlsZSRib29sIiksIHkgPSB4LiQoInZpc2l0b3IiKS4kKCJhdXRoZW50aWNhdGVkJGJvb2wiKSwgaiA9IF8ucm9vdC4kKCJsaXZlY2hhdCIpLiQoInNldHRpbmdzIikuJCgibG9naW4iKS4kKCJyZXN0cmljdF9wcm9maWxlJGJvb2wiKSwgQyA9ICJjaGF0LmZpbGUudXBkYXRlIjsKIWZ1bmN0aW9uKCkgewpnLnNldERhdGFOb2RlID0gdDsKZy5hdXRvYmluZCgkLCAidmFsdWUiLCByKTsKZy5hdXRvYmluZChqLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7Cmcuc2V0U3R5bGUoImN1cnNvciIsIHQgPyAiYXV0byIgOiAiIik7Cm0uc2V0VGV4dCh0ID8gdSA6IGMpOwp9KTsKZy5hdXRvYmluZCh5LCAidmFsdWUiLCBmdW5jdGlvbigpIHsKcyAmJiBlKHMuZ2V0VmFsdWUoKSk7Cn0pOwp9KCk7Cn0oKTsKZm9yICh2YXIgYiBpbiAkKSBnW2JdID0gJFtiXTsKZy5maXJlICYmIGcuZmlyZSgiaW5pdCIpOwpnLnNldFN0eWxlICYmIGcuc2V0U3R5bGUocik7Cmcuc2V0QXR0cmlidXRlcyAmJiBnLnNldEF0dHJpYnV0ZXMoZCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGcuYWRkQ2hpbGRyZW4gPyBnLmFkZENoaWxkcmVuKGwpIDogXy5hZGRDaGlsZHJlbihnLCBsKTsKaWYgKGcgIT09IHRoaXMpIHsKZy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmcuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGc7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfaHRtbF9kaXYucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIiYuY3Vyc29yX3BvaW50ZXIiOiB7CiIudGV4dF9uYW1lLCAuY2hhdF9uYW1lIjogewpjdXJzb3I6ICJwb2ludGVyIgp9Cn0sCiIudGV4dF9uYW1lIjogewp3b3JkV3JhcDogImJyZWFrLXdvcmQiCn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfaHRtbF9kaXYsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX2NoYXRMb2dSZW5kZXJlcl9DaGF0TmFtZSIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX2p4X3VpX2h0bWxfZGl2ID0gaSgxMyk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIF8sIGwpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgXywgbCk7Cm8gPSBvIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgZCA9IFsgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgIiIsICIiLCBbXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLApjbGFzczogImNoYXRfbG9nX3JlbmRlcmVyIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIGggPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCgpIHsKcmV0dXJuIHkucm9vdC4kJCgibGl2ZWNoYXQuc2V0dGluZ3MudGhlbWUubWVzc2FnZV90eXBlJHN0cmluZyIpLmdldFZhbHVlKCkgfHwgImJ1YmJsZV9hdmF0YXIiOwp9CmZ1bmN0aW9uIGUodCkgewpwICYmIGMuYXV0b3VuYmluZChwLCAidmFsdWUiLCBuKTsKcCA9IHQ7CmMuYXV0b2JpbmQocCwgInZhbHVlIiwgbik7CmMub24oInVwZGF0ZS5uZWlnaGJvdXIiLCBhKTsKfQpmdW5jdGlvbiBuKHQpIHsKaWYgKHQpIHsKaWYgKHQubmljayRzdHJpbmcpIHsKJCA9IHQubmljayRzdHJpbmc7CnIoJCk7Cn0KbygpOwp0LmZhaWxlZCRib29sICYmIGYoKTsKaWYgKCJ1bnZlcmlmaWVkJGJvb2wiIGluIHQpIHsKY2xlYXJUaW1lb3V0KHgpOwp0LnVudmVyaWZpZWQkYm9vbCAmJiAoeCA9IHNldFRpbWVvdXQoZywgdi5SRVNFTkRfTVNHX1RJTUVPVVQpKTsKfQp9Cn0KZnVuY3Rpb24gbygpIHsKdmFyIHQgPSBwLiQoInR5cGUkc3RyaW5nIikuZ2V0VmFsdWUoKSwgZSA9IHAuJCgiaXNfdHJhbnNsYXRpb24kYm9vbCIpLmdldFZhbHVlKCk7CmlmICh3KSB7CmMuZW1wdHkoKTsKdyA9IG51bGw7Cn0KaWYgKHQgJiYgIWUpIHsKYiA9IHQ7CmlmIChwLiQoImZpcnN0JGJvb2wiKS5nZXRWYWx1ZSgpKSB7Cm5ldyBOKGMpLnNldERhdGFOb2RlKHApOwp9CnN3aXRjaCAoYikgewpjYXNlICJjaGF0Lm1lbnRpb24iOgpjYXNlICJjaGF0Lm1zZyI6CmNhc2UgImNoYXQuZmlsZS51cGRhdGUiOgpjYXNlICJjaGF0LmZpbGUudXBsb2FkIjoKZCgpOwpicmVhazsKCmNhc2UgImNoYXQucmVxdWVzdC5yYXRpbmciOgp1KCk7CmJyZWFrOwoKY2FzZSAiY2hhdC5qb2luIjoKY2FzZSAiY2hhdC5ldmVudCI6CmJyZWFrOwoKZGVmYXVsdDoKaCgpOwp9CiQgJiYgcigkKTsKcygpOwp9Cn0KZnVuY3Rpb24gcih0KSB7CmlmICh3KSB7CmZvciAodmFyIGUgPSB0LnN1YnN0cmluZygwLCB0LmluZGV4T2YoIjoiKSksIGkgPSAwLCBuID0gMCwgbyA9IHQubGVuZ3RoOyBuIDwgbzsgKSB7CmkgKz0gdC5jaGFyQ29kZUF0KG4pOwpuKys7Cn0KaSA9IGkgJSA4ICsgMTsKdy5hZGRDbGFzcyhlKTsKdy5hZGRDbGFzcyhlICsgIl8iICsgaSk7CnIuYXNzaWduZWQgPSAhMDsKfQp9CmZ1bmN0aW9uIGEodCkgewppZiAoInByZXYiIGluIHQgJiYgbSAhPSB0LnByZXYpIHsKbSA9IHQucHJldjsKcygpOwp9Cn0KZnVuY3Rpb24gcygpIHsKaWYgKHApIGlmIChtKSB7CnZhciB0ID0gcC5wYXJlbnROb2RlLiQobSksIGUgPSB0LmdldFZhbHVlKCJuaWNrJHN0cmluZyIpLCBpID0gdC5nZXRWYWx1ZSgidHlwZSRzdHJpbmciKTsKQi50ZXN0KGkpICYmIGIgPT09IGkgJiYgZSA9PT0gJCA/IGwoKSA6IF8oKTsKfSBlbHNlIF8oKTsKfQpmdW5jdGlvbiBfKCkgewppZiAodykgewp3LnJlbW92ZUNsYXNzKCJncm91cF9jaGlsZHJlbiIpOwp3LmFkZENsYXNzKCJncm91cF9oZWFkIik7Cn0KfQpmdW5jdGlvbiBsKCkgewppZiAodykgewp3LmFkZENsYXNzKCJncm91cF9jaGlsZHJlbiIpOwp3LnJlbW92ZUNsYXNzKCJncm91cF9oZWFkIik7Cn0KfQpmdW5jdGlvbiBkKCkgewp2YXIgZSwgaSA9IHQoKTsKc3dpdGNoIChpKSB7CmNhc2UgImJ1YmJsZSI6CmUgPSBTOwpicmVhazsKCmNhc2UgImJhc2ljX2F2YXRhciI6CmUgPSBBOwpicmVhazsKCmNhc2UgImJ1YmJsZV9hdmF0YXIiOgplID0gazsKYnJlYWs7CgpkZWZhdWx0OgplID0gQzsKfQp3ID0gbmV3IGUoYyk7Cncuc2V0RGF0YU5vZGUocCk7CncuYWRkQ2xhc3MoaSk7Cn0KZnVuY3Rpb24gdSgpIHsKdyA9IG5ldyBJKGMpOwp3LnNldERhdGFOb2RlKHApOwp9CmZ1bmN0aW9uIGgoKSB7CncgPSBuZXcgVChjKTsKdy5zZXREYXRhTm9kZShwKTsKdy5zZXRQc2V1ZG8oInN5c3RlbV9tc2ciKTsKfQpmdW5jdGlvbiBmKCkgewpqLmluY3JlbWVudCgidXNlcl9tc2dfc2VuZF9mYWlsZWQiKTsKfQpmdW5jdGlvbiBnKCkgewpqLmluY3JlbWVudCgidXNlcl9tc2dfc2VuZF90aW1lb3V0Iik7Cn0KdmFyIHAsIG0sICQsIGIsIHcsIHgsIHYgPSBpKDE4KSwgeSA9IGkoNiksIGogPSBpKDc2KSwgQyA9IGkoMTAzKSwgUyA9IGkoMzEyKSwgQSA9IGkoMzEwKSwgayA9IGkoMzA5KSwgSSA9IGkoMzA4KSwgVCA9IGkoMTQzKSwgTiA9IGkoMzAyKSwgQiA9IC9jaGF0XC4obXNnfG1lbWJlcmpvaW58Y2hhbmdlbmFtZSkvOwptID0gJCA9IGIgPSAiIjsKIWZ1bmN0aW9uKCkgewpjLnNldERhdGFOb2RlID0gZTsKYy5vbkRlc3RydWN0aW9uKGZ1bmN0aW9uKCkgewpjbGVhclRpbWVvdXQoeCk7Cn0pOwp9KCk7Cn0oKTsKZm9yICh2YXIgZiBpbiBoKSBjW2ZdID0gaFtmXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfaHRtbF9kaXYucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIioqc2VsZiI6IHsKcG9zaXRpb246ICJyZWxhdGl2ZSIsCmNsZWFyOiAiYm90aCIsCndpZHRoOiAiMTAwJSIKfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfQ2hhdExvZ1JlbmRlcmVyIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSkgewpmdW5jdGlvbiBpKHQpIHsKdmFyIGUsIGk7CmlmICh0LmxlYWYpIHsKZSA9IHRoaXM7CmUuYXV0b2JpbmQodCwgInZhbHVlIiwgZnVuY3Rpb24odCkgewoidmFsdWUiIGluIGUgPyBlLnZhbHVlID0gdCA6IGUuc2V0VGV4dCh0KTsKfSk7Cn0gZWxzZSB7CmUgPSB0aGlzLmZpcnN0Q2hpbGQ7CmZvciAoO2U7ICkgewppZiAoZS5nZXRBdHRyaWJ1dGUpIHsKaSA9IGUuZ2V0QXR0cmlidXRlKCJuYW1lIik7CmkgPyBlLnNldERhdGFOb2RlKHQuZGVzY2VuZChpKSkgOiBlLnNldERhdGFOb2RlKHQpOwp9CmUgPSBlLm5leHRTaWJsaW5nOwp9Cn0KfQpmdW5jdGlvbiBuKHQpIHsKaWYgKCF0LnNldERhdGFOb2RlKSB7CnQuc2V0RGF0YU5vZGUgPSBpOwpmb3IgKHZhciBlID0gdC5maXJzdENoaWxkOyBlOyApIHsKbihlKTsKZSA9IGUubmV4dFNpYmxpbmc7Cn0KfQp9CnZhciBvID0gewphcHBseVNldERhdGFOb2RlOiBuCn07CnQuZXhwb3J0cyA9IG87Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93Q29udGVudCA9IGkoMjcpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X2NoYXRQYW5lbF9TcGlubmVyID0gaSgxMDUpOwpuLl9fJCRfX2p4X3VpX2h0bWxfZGl2ID0gaSgxMyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfY2hhdFBhbmVsX0hpc3RvcnlMb2cgPSBpKDEwNCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0JvdHRvbSA9IGkoMzIpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19CdXR0b24gPSBpKDE3KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93Q29udGVudCwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19jaGF0UGFuZWxfU3Bpbm5lciwgImxhcmdlX3NwaW5uZXIiLCAiIiwgW10sIHsKaWQ6ICJsYXJnZV9zcGlubmVyIiwKYWRkQ2xhc3M6ICJsYXJnZV9zcGlubmVyIiwKc2l6ZTogImJpZyIsCnZpc2libGU6ICJmYWxzZSIsCiJkYXRhLXRlc3QtaWQiOiAibGFyZ2VTcGlubmVyIgp9IF0sIFsgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgImhpc3RvcnlfbG9nIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X2NoYXRQYW5lbF9TcGlubmVyLCAic21hbGxfc3Bpbm5lciIsICIiLCBbXSwgewppZDogInNtYWxsX3NwaW5uZXIiLAp2aXNpYmxlOiAiZmFsc2UiLAoiZGF0YS10ZXN0LWlkIjogInNtYWxsU3Bpbm5lciIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfY2hhdFBhbmVsX0hpc3RvcnlMb2csICIiLCAiIiwgW10sIHsKImRhdGEtdGVzdC1pZCI6ICJoaXN0b3J5TG9nIgp9IF0gXSwgewphZGRDbGFzczogImhpc3RvcnlfbG9nIiwKaWQ6ICJoaXN0b3J5X2xvZyIsCiJkYXRhLXRlc3QtaWQiOiAiaGlzdG9yeUxvZyIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0JvdHRvbSwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQnV0dG9uLCAiYmFjayIsICIiLCBbXSwgewppZDogImJhY2siLAphZGRDbGFzczogIndpZGUiLAoiZGF0YS10ZXN0LWlkIjogImJhY2tCdXR0b24iCn0gXSBdLCB7fSBdIF0sIHsKYWRkQ2xhc3M6ICJoaXN0b3J5X3BhbmVsIiwKImRhdGEtdGVzdC1pZCI6ICJoaXN0b3J5UGFuZWwiCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIsCiJ4bWxuczpjaGF0UGFuZWwiOiAibWVzaGltLndpZGdldC5jb21wb25lbnRzLmNoYXRXaW5kb3cuY2hhdFBhbmVsIiwKdGl0bGVCYXI6ICJoaWRlUG9wb3V0IiwKYWN0aW9uQmFyOiAiIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKdmFyIGggPSBzLmdldChvICsgIl9fbGFyZ2Vfc3Bpbm5lciIpLCBmID0gcy5nZXQobyArICJfX2hpc3RvcnlfbG9nIiksIGcgPSBzLmdldChvICsgIl9fc21hbGxfc3Bpbm5lciIpLCBwID0gcy5nZXQobyArICJfX2JhY2siKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIG0gPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCgpIHsKaWYgKGIgJiYgMyA9PT0gZC5nZXRWYWx1ZSgpICYmICJwcmVfY2hhdF9vZmZsaW5lX2Zvcm0iID09PSB1LmdldFZhbHVlKCkpIHsKci5mZXRjaENoYXRIaXN0b3J5KCEwKTsKYiA9ICExOwp9Cn0KdmFyIGUsIG4gPSBpKDMpLCBvID0gaSg2KSwgciA9IGkoNjgpLCBhID0gaSgxMCksIHMgPSBvLnJvb3QuJCgibGl2ZWNoYXQiKSwgXyA9IHMuJCgidWkiKSwgbCA9IF8uJCgibW9iaWxlJGJvb2wiKSwgZCA9IF8uJCgiY2hhdF93aW5kb3ciKS4kKCJwcmVfY2hhdF9vZmZsaW5lX2Zvcm0iKS4kKCJzdGFja19pbmRleCRpbnQiKSwgdSA9IF8uJCgiY2hhdF93aW5kb3ciKS4kKCJtYWluX3N0YWNrX25hbWUkc3RyaW5nIiksIG0gPSBzLiQoImNoYW5uZWwiKS4kKCJjaGF0dGluZyRib29sIiksICQgPSBzLiQoInNldHRpbmdzIikuJCgiYnJhbmRpbmciKS4kKCJoaWRlX2JyYW5kaW5nJGJvb2wiKSwgYiA9ICExOwohZnVuY3Rpb24oKSB7CnAub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CmQudXBkYXRlKDApOwp9KTsKcC5zZXRUZXh0KGEuYmFjayk7CnIuc2V0dXBTY3JvbGxMaXN0ZW5lcihmKTsKci5iaW5kU3Bpbm5lclVJKGMsIGcsIGgpOwpjLmF1dG9iaW5kKGwsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKdmFyIGUgPSAkLmdldFZhbHVlKCkgPyAiIiA6ICIgLSA0NnB4IjsKYy5zdHlsZS5oZWlnaHQgPSB0ID8gImNhbGMoMTAwdmggLSAiICsgbi5nZXRWYXJpYWJsZSgidGl0bGVCYXJIZWlnaHQiKSArIGUgKyAiKSIgOiAiIjsKfSk7CmMuYXV0b2JpbmQoZCwgInZhbHVlIiwgdCk7CmMuYXV0b2JpbmQodSwgInZhbHVlIiwgdCk7CmMuYXV0b2JpbmQobSwgInZhbHVlIiwgZnVuY3Rpb24odCkgewplICYmICF0ICYmIChiID0gITApOwplID0gdDsKfSk7Cn0oKTsKfSgpOwpmb3IgKHZhciAkIGluIG0pIGNbJF0gPSBtWyRdOwpjLmZpcmUgJiYgYy5maXJlKCJpbml0Iik7CmMuc2V0U3R5bGUgJiYgYy5zZXRTdHlsZShyKTsKYy5zZXRBdHRyaWJ1dGVzICYmIGMuc2V0QXR0cmlidXRlcyhsKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5hZGRDaGlsZHJlbiA/IGMuYWRkQ2hpbGRyZW4oXykgOiBzLmFkZENoaWxkcmVuKGMsIF8pOwppZiAoYyAhPT0gdGhpcykgewpjLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKYy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gYzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQ2hhdFdpbmRvd0NvbnRlbnQucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIi5oaXN0b3J5X2xvZyI6IHsKb3ZlcmZsb3dZOiAiYXV0byIsCnBhZGRpbmc6ICIxMHB4Igp9LAoiJi5tb2JpbGUiOiB7CiJ3aWR0aCwgbWF4V2lkdGgiOiAiMTAwJSIsCiIuaGlzdG9yeV9wYW5lbCI6IHsKZGlzcGxheTogImZsZXgiLApmbGV4RGlyZWN0aW9uOiAiY29sdW1uIiwKaGVpZ2h0OiAiMTAwJSIKfSwKIi5oaXN0b3J5X2xvZyI6IHsKZmxleEdyb3c6ICIxIiwKYm9yZGVyQm90dG9tOiAiMXB4IHNvbGlkICNFRUUiCn0sCiIubGFyZ2Vfc3Bpbm5lciI6IHsKYm90dG9tOiAiNjBweCIKfQp9LAoiLmxhcmdlX3NwaW5uZXIiOiB7CnBvc2l0aW9uOiAiYWJzb2x1dGUiLAptYXJnaW46ICJhdXRvIiwKInRvcCwgbGVmdCwgcmlnaHQiOiAiMCIsCmJvdHRvbTogIjQwcHgiCn0sCiImLmRlc2t0b3AiOiB7CiIuaGlzdG9yeV9sb2ciOiB7CnBvc2l0aW9uOiAiYWJzb2x1dGUiLAoibGVmdCwgcmlnaHQsIHRvcCI6ICIwIiwKYm90dG9tOiAiNDBweCIKfQp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93Q29udGVudCwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19wcmVDaGF0T2ZmbGluZUZvcm1fSGlzdG9yeVBhbmVsIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fanhfdWlfV2lkZ2V0ID0gaSg3KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIiIsICIiLCBbXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiCn0gXSwgdSA9IGRbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBzLm1hbmdsZUlEcyhvLCBkWzNdKSwgZFs0XSksIGMgPSB1IHx8IHRoaXM7CnMuc2V0KG8sIGMpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgaCA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KHQpIHsKbyA9IHQ7Cm4oKTsKfQpmdW5jdGlvbiBlKHQpIHsKciA9IHQ7Cm4oKTsKfQpmdW5jdGlvbiBuKCkgewp2YXIgdCA9IF8ucmVwbGFjZSgiPHN0YXJ0X3RpbWU+IiwgbyB8fCAiIikucmVwbGFjZSgiPGVuZF90aW1lPiIsIHIgfHwgIiIpOwpjLnNldFRleHQodCk7Cn0KdmFyIG8sIHIsIGEgPSBpKDIpLCBzID0gaSgxMCksIF8gPSBzLnByZV9jaGF0X29mZmxpbmVfZm9ybS5vcGVyYXRpbmdfaG91cnMucGVyaW9kOwohZnVuY3Rpb24oKSB7CmMuc2V0U3RhcnQgPSB0OwpjLnNldEVuZCA9IGU7CmlmIChhICYmIGEub25MYW5ndWFnZSkgewphLm9uTGFuZ3VhZ2Uobik7CmMub25EZXN0cnVjdGlvbihmdW5jdGlvbigpIHsKYS51bkxhbmd1YWdlKG4pOwp9KTsKfQp9KCk7Cn0oKTsKZm9yICh2YXIgZiBpbiBoKSBjW2ZdID0gaFtmXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfV2lkZ2V0LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7fTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfV2lkZ2V0LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X3ByZUNoYXRPZmZsaW5lRm9ybV9vcGVyYXRpbmdIb3Vyc19QZXJpb2QiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19qeF91aV9XaWRnZXQgPSBpKDcpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19IZWFkZXIgPSBpKDYxKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQm9keSA9IGkoMzgpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19IZWFkZXIsICJkYXlzX2VsIiwgIiIsIFtdLCB7CmlkOiAiZGF5c19lbCIsCmFkZENsYXNzOiAic2hvcnQiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Cb2R5LCAicGVyaW9kc19lbCIsICIiLCBbXSwgewppZDogInBlcmlvZHNfZWwiCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CnZhciBoID0gcy5nZXQobyArICJfX2RheXNfZWwiKSwgZiA9IHMuZ2V0KG8gKyAiX19wZXJpb2RzX2VsIik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBnID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQodCkgewpmb3IgKHZhciBlID0gMCwgaSA9IHQubGVuZ3RoOyBlIDwgaTsgZSsrKSBuKHRbZV0pICYmICh0W2VdID0gZFt0W2VdXSk7CnJldHVybiB0Owp9CmZ1bmN0aW9uIGUodCkgewpmb3IgKHZhciBlLCBpLCBuLCBvID0gW10sIHIgPSAwLCBhID0gdC5sZW5ndGg7IHIgPCBhOyByKyspIHsKaWYgKCJudW1iZXIiICE9IHR5cGVvZiB0W3JdKSByZXR1cm4gdDsKZSA9IHRbcl07CmkgPSB0W3IgLSAxXTsKbiA9IHRbciArIDFdOwpyID4gdFtyXSAmJiAoZSArPSBsKTsKciAtIDEgPiB0W3IgLSAxXSAmJiAoaSArPSBsKTsKciArIDEgPiB0W3IgKyAxXSAmJiAobiArPSBsKTsKaWYgKHIgJiYgaSA9PSBlIC0gMSkgewppZiAociAhPSBhIC0gMSAmJiBuID09IGUgKyAxKSBjb250aW51ZTsKby5wdXNoKCIg4oCUICIsIHRbcl0pOwp9IGVsc2UgewpyICYmIG8ucHVzaCgiLCAiKTsKby5wdXNoKHRbcl0pOwp9Cn0KcmV0dXJuIG87Cn0KdmFyIG4gPSBpKDI4KSwgbyA9IGkoMTEpLCByID0gaSgxMCksIGEgPSBpKDMyOCksIHMgPSBpKDE5KSwgXyA9IGkoNyksIGwgPSA3LCBkID0gci5kYXRldGltZS5kYXlzOwpjLnNldERhdGEgPSBmdW5jdGlvbihpKSB7CmlmIChpICYmIGkuZGF5cykgewpoLmVtcHR5KCk7CnZhciBuID0gaS5kYXlzOwppZiAobi5sZW5ndGggPT0gbCkgaC5zZXRUZXh0KHIuZGF0ZXRpbWUuZXZlcnlkYXkpOyBlbHNlIHsKbiA9IHQoZShuKSk7CmZvciAodmFyIGQgPSAwLCB1ID0gbi5sZW5ndGg7IGQgPCB1OyBkKyspIG5ldyBzKGgsIG51bGwsIG51bGwsIG51bGwsIHsKdGV4dDogbltkXQp9KTsKfQpmLmVtcHR5KCk7CnZhciBjLCBnID0gaS5wZXJpb2RzOwppZiAoaS5lbmFibGVkJGJvb2wpIHsKaWYgKGcpIGZvciAodmFyIHAgaW4gZykgaWYgKGcuaGFzT3duUHJvcGVydHkocCkpIGlmICgwID09PSBnW3BdLnN0YXJ0JGludCAmJiAxNDQwID09PSBnW3BdLmVuZCRpbnQpIHsKYyA9IG5ldyBfKGYpOwpjLnNldFRleHQoci5kYXRldGltZS5hbGxfZGF5KTsKfSBlbHNlIHsKYyA9IG5ldyBhKGYpOwpjLnNldFN0YXJ0KG8uZm9ybWF0TWludXRlc0FzSG91cnMoZ1twXS5zdGFydCRpbnQsICIxMiIpKTsKYy5zZXRFbmQoby5mb3JtYXRNaW51dGVzQXNIb3VycyhnW3BdLmVuZCRpbnQsICIxMiIpKTsKfQp9IGVsc2UgZi5zZXRUZXh0KHIucHJlX2NoYXRfb2ZmbGluZV9mb3JtLm9wZXJhdGluZ19ob3Vycy5jbG9zZWQpOwp9Cn07Cn0oKTsKZm9yICh2YXIgcCBpbiBnKSBjW3BdID0gZ1twXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfV2lkZ2V0LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7fTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfV2lkZ2V0LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X3ByZUNoYXRPZmZsaW5lRm9ybV9vcGVyYXRpbmdIb3Vyc19Hcm91cCIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gaSgyKSwgXyA9IGkoNCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NoYXRXaW5kb3dDb250ZW50ID0gaSgyNyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1Njcm9sbGFibGVGcmFtZSA9IGkoMjkpOwpuLl9fJCRfX2p4X3VpX1dpZGdldCA9IGkoNyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0hlYWRlciA9IGkoNjEpOwpuLl9fJCRfX2p4X3VpX0xhYmVsID0gaSgxOSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX2Zvcm1fRGVwYXJ0bWVudFNlbGVjdCA9IGkoMTU4KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQm90dG9tID0gaSgzMik7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0J1dHRvbiA9IGkoMTcpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBsLCBkKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIGwsIGQpOwpvID0gbyB8fCBfLmdlbmVyYXRlSUQoKTsKdmFyIHUgPSBzKDE3MCksIGMgPSBzKDE3MSksIGggPSBzKDE3MiksIGYgPSBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NoYXRXaW5kb3dDb250ZW50LCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19TY3JvbGxhYmxlRnJhbWUsICIiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiZGVwYXJ0bWVudF9waWNrZXIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0hlYWRlciwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9MYWJlbCwgIiIsICIiLCBbIHUgXSwge30gXSBdLCB7fSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX2Zvcm1fRGVwYXJ0bWVudFNlbGVjdCwgImRlcGFydG1lbnQiLCAiIiwgW10sIHsKaWQ6ICJkZXBhcnRtZW50IiwKYWRkQ2xhc3M6ICJkZXBhcnRtZW50IiwKZGlzYWJsZVdoZW5PZmZsaW5lOiAiZmFsc2UiCn0gXSBdLCB7CmlkOiAiZGVwYXJ0bWVudF9waWNrZXIiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19IZWFkZXIsICIiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfTGFiZWwsICIiLCAiIiwgWyBjIF0sIHt9IF0sIFsgbi5fXyQkX19qeF91aV9MYWJlbCwgIiIsICIiLCBbXSwgewp0ZXh0OiAiICIKfSBdLCBbIG4uX18kJF9fanhfdWlfTGFiZWwsICJ0aW1lem9uZV9jb250YWluZXIiLCAiIiwgW10sIHsKaWQ6ICJ0aW1lem9uZV9jb250YWluZXIiLAphZGRDbGFzczogInRpbWV6b25lX2NvbnRhaW5lciIKfSBdIF0sIHt9IF0sIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICJkYXlzIiwgIiIsIFtdLCB7CmlkOiAiZGF5cyIKfSBdIF0sIHt9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQm90dG9tLCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19CdXR0b24sICJiYWNrIiwgIiIsIFsgaCBdLCB7CmlkOiAiYmFjayIsCmFkZENsYXNzOiAid2lkZSIKfSBdIF0sIHt9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6d2lkZ2V0cyI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiLAphYnNQYWRkaW5nQm90dG9tOiAiYm90dG9tSGVpZ2h0Igp9IF0sIGcgPSBmWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgXy5tYW5nbGVJRHMobywgZlszXSksIGZbNF0pLCBwID0gZyB8fCB0aGlzOwpfLnNldChvLCBwKTsKdmFyIG0gPSBfLmdldChvICsgIl9fZGVwYXJ0bWVudF9waWNrZXIiKSwgJCA9IF8uZ2V0KG8gKyAiX19kZXBhcnRtZW50IiksIGIgPSBfLmdldChvICsgIl9fdGltZXpvbmVfY29udGFpbmVyIiksIHcgPSBfLmdldChvICsgIl9fZGF5cyIpLCB4ID0gXy5nZXQobyArICJfX2JhY2siKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIHYgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCgpIHsKaWYgKHMpIHsKdmFyIHQgPSAkLmlzSGlkZGVuKCkgPyBnLmdldFZhbHVlKCkgOiAkLmdldFZhbHVlKCk7CmlmICgiYWNjb3VudCIgPT09IHMpIGwgPSBrLmdldFZhbHVlKCk7IGVsc2Ugewp2YXIgaSA9IEkuZ2V0VmFsdWUoKTsKbCA9IHQgPyBpICYmIGlbdF0gJiYgaVt0XS5zY2hlZHVsZSB8fCBrLmdldFZhbHVlKCkgOiBpICYmIGkub3ZlcmFsbCAmJiBpLm92ZXJhbGwuc2NoZWR1bGU7Cn0KZSgpOwp9Cn0KZnVuY3Rpb24gZSgpIHsKaWYgKHIgJiYgXyAmJiBsICYmIHMpIHsKbS5zZXREaXNwbGF5KCJhY2NvdW50IiA9PSBzID8gIm5vbmUiIDogIiIpOwokLnNldEhpZGUoImFjY291bnQiID09IHMpOwp2YXIgdCwgZSA9IEJbYV0gfHwgQi5kYWlseSwgaSA9IFtdOwpmb3IgKHZhciBvIGluIGUpIGlmIChlLmhhc093blByb3BlcnR5KG8pKSBpZiAoZChlW29dKSkgaS5wdXNoKHsKZW5hYmxlZCRib29sOiBsW2Vbb11bMF1dLmVuYWJsZWQkYm9vbCwKcGVyaW9kczogbFtlW29dWzBdXS5wZXJpb2RzLApkYXlzOiBbIGVbb11bMV0gXQp9KTsgZWxzZSB7CnQgPSAhMTsKZm9yICh2YXIgdSA9IDAsIGMgPSBpLmxlbmd0aDsgdSA8IGM7IHUrKykgaWYgKG4oaVt1XSwgbFtlW29dXSkpIHsKaVt1XS5kYXlzLnB1c2goZVtvXSk7CnQgPSAhMDsKYnJlYWs7Cn0KdCB8fCBpLnB1c2goewplbmFibGVkJGJvb2w6IGxbZVtvXV0uZW5hYmxlZCRib29sLApwZXJpb2RzOiBsW2Vbb11dLnBlcmlvZHMsCmRheXM6IFsgZVtvXSBdCn0pOwp9CncuZW1wdHkoKTsKZm9yICh2YXIgZiA9IDAsIGcgPSBpLmxlbmd0aDsgZiA8IGc7IGYrKykgbmV3IGgodykuc2V0RGF0YShpW2ZdKTsKfQp9CmZ1bmN0aW9uIG4odCwgZSkgewppZiAoIXQuZW5hYmxlZCRib29sICYmICFlLmVuYWJsZWQkYm9vbCkgcmV0dXJuICEwOwppZiAodC5lbmFibGVkJGJvb2wgPT0gZS5lbmFibGVkJGJvb2wpIHsKdmFyIGksIG4gPSB0LnBlcmlvZHMsIG8gPSBlLnBlcmlvZHMsIHIgPSAwLCBhID0gMDsKZm9yIChpIGluIG4pIGlmIChuLmhhc093blByb3BlcnR5KGkpKSB7CmlmIChuW2ldLnN0YXJ0JGludCAhPT0gKG9baV0gJiYgb1tpXS5zdGFydCRpbnQpIHx8IG5baV0uZW5kJGludCAhPT0gKG9baV0gJiYgb1tpXS5lbmQkaW50KSkgcmV0dXJuOwpyKys7Cn0KZm9yIChpIGluIG8pIG8uaGFzT3duUHJvcGVydHkoaSkgJiYgYSsrOwppZiAociA9PSBhKSByZXR1cm4gITA7Cn0KfQpmdW5jdGlvbiBvKHQpIHsKcmV0dXJuIHQucmVwbGFjZSgvXy9nLCAiICIpOwp9CnZhciByLCBhLCBzLCBfLCBsLCBkID0gaSgyMSksIHUgPSBpKDYpLCBjID0gaSgxMCksIGggPSBpKDMyOSksIGYgPSB1LnJvb3QuJCgibGl2ZWNoYXQiKSwgZyA9IGYuJCgicHJvZmlsZSIpLiQoImRlcGFydG1lbnRfaWQkaW50IiksIHYgPSBmLiQoInVpIikuJCgiY2hhdF93aW5kb3ciKS4kKCJwcmVfY2hhdF9vZmZsaW5lX2Zvcm0iKS4kKCJzdGFja19pbmRleCRpbnQiKSwgeSA9IGYuJCgic2V0dGluZ3MiKSwgaiA9IHkuJCgidGltZXpvbmUkc3RyaW5nIiksIEMgPSB5LiQoIm9wZXJhdGluZ19ob3VycyIpLCBTID0gQy4kKCJlbmFibGVkJGJvb2wiKSwgQSA9IEMuJCgibW9kZSRzdHJpbmciKSwgayA9IEMuJCgic2NoZWR1bGUiKSwgSSA9IEMuJCgiZGVwdF9zY2hlZHVsZXMiKSwgVCA9IEMuJCgidHlwZSRzdHJpbmciKSwgTiA9IEMuJCgiZGlzcGxheV9ub3RpY2UkYm9vbCIpLCBCID0gewp3ZWVrZGF5X3dlZWtlbmQ6IFsgWyAxLCBjLmRhdGV0aW1lLndlZWtkYXkgXSwgWyAwLCBjLmRhdGV0aW1lLndlZWtlbmQgXSBdLApkYWlseTogWyAxLCAyLCAzLCA0LCA1LCA2LCAwIF0KfTsKIWZ1bmN0aW9uKCkgewpwLmF1dG9iaW5kKFMsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKaWYgKHIgIT0gdCkgewpyID0gdDsKZSgpOwp9Cn0pOwpwLmF1dG9iaW5kKEEsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKaWYgKGEgIT0gdCkgewphID0gdDsKZSgpOwp9Cn0pOwpwLmF1dG9iaW5kKGosICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKaWYgKHQpIHsKdCA9IG8odCk7CmIuc2V0VGV4dCgiKCIgKyB0ICsgIikiKTsKfQp9KTsKcC5hdXRvYmluZChrLCAidmFsdWUiLCB0KTsKcC5hdXRvYmluZChJLCAidmFsdWUiLCB0KTsKcC5hdXRvYmluZChULCAidmFsdWUiLCBmdW5jdGlvbihlKSB7CnMgPSBlOwp0KCk7Cn0pOwpwLmF1dG9iaW5kKE4sICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKaWYgKF8gIT0gdCkgewpfID0gdDsKZSgpOwp9Cn0pOwpwLmF1dG9iaW5kKGcsICJ2YWx1ZSIsIGZ1bmN0aW9uKGUpIHsKaWYgKGUpIHsKJC5zZXRWYWx1ZShlKTsKdCgpOwp9Cn0pOwokLm9uKCJjaGFuZ2UiLCB0KTsKeC5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKdi51cGRhdGUoMCk7Cn0pOwp9KCk7Cn0oKTsKZm9yICh2YXIgeSBpbiB2KSBwW3ldID0gdlt5XTsKcC5maXJlICYmIHAuZmlyZSgiaW5pdCIpOwpwLnNldFN0eWxlICYmIHAuc2V0U3R5bGUocik7CnAuc2V0QXR0cmlidXRlcyAmJiBwLnNldEF0dHJpYnV0ZXMoZCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHAuYWRkQ2hpbGRyZW4gPyBwLmFkZENoaWxkcmVuKGwpIDogXy5hZGRDaGlsZHJlbihwLCBsKTsKaWYgKHAgIT09IHRoaXMpIHsKcC5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CnAuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIHA7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NoYXRXaW5kb3dDb250ZW50LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIudGltZXpvbmVfY29udGFpbmVyIjogewpmb250V2VpZ2h0OiAibm9ybWFsIgp9LAoiLmRlcGFydG1lbnQiOiB7Cm1hcmdpbkJvdHRvbTogIjIwcHgiCn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NoYXRXaW5kb3dDb250ZW50LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X3ByZUNoYXRPZmZsaW5lRm9ybV9PcGVyYXRpbmdIb3VycyIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gaSgyKSwgXyA9IGkoNCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NoYXRXaW5kb3dDb250ZW50ID0gaSgyNyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1Njcm9sbGFibGVGcmFtZSA9IGkoMjkpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Cb2R5ID0gaSgzOCk7Cm4uX18kJF9fanhfdWlfV2lkZ2V0ID0gaSg3KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfZm9ybV9Qcm9maWxlID0gaSgxMDkpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Gb3JtID0gaSgxMDcpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19CdXR0b24gPSBpKDE3KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgbCwgZCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBsLCBkKTsKbyA9IG8gfHwgXy5nZW5lcmF0ZUlEKCk7CnZhciB1ID0gcygxNjkpLCBjID0gWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93Q29udGVudCwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfU2Nyb2xsYWJsZUZyYW1lLCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Cb2R5LCAibWVzc2FnZSIsICIiLCBbXSwgewppZDogIm1lc3NhZ2UiCn0gXSwgWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfZm9ybV9Qcm9maWxlLCAiIiwgIiIsIFtdLCB7CmhpZGVMYWJlbDogIiIsCmRpc2FibGVkOiAidHJ1ZSIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0Zvcm0sICJmb3JtIiwgIiIsIFtdLCB7CmlkOiAiZm9ybSIsCnJlYWRPbmx5OiAidHJ1ZSIKfSBdIF0sIHsKYWRkQ2xhc3M6ICJmb3JtX2NvbnRhaW5lciIKfSBdLCBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19CdXR0b24sICJhbm90aGVyIiwgIiIsIFsgdSBdLCB7CmlkOiAiYW5vdGhlciIsCmFkZENsYXNzOiAid2lkZSIKfSBdIF0sIHsKYWRkQ2xhc3M6ICJjb250cm9scyIKfSBdIF0sIHt9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6d2lkZ2V0cyI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiCn0gXSwgaCA9IGNbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBfLm1hbmdsZUlEcyhvLCBjWzNdKSwgY1s0XSksIGYgPSBoIHx8IHRoaXM7Cl8uc2V0KG8sIGYpOwp2YXIgZyA9IF8uZ2V0KG8gKyAiX19tZXNzYWdlIiksIHAgPSBfLmdldChvICsgIl9fZm9ybSIpLCBtID0gXy5nZXQobyArICJfX2Fub3RoZXIiKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyICQgPSBmdW5jdGlvbigpIHsKdmFyIHQgPSBpKDE2KSwgZSA9IGkoNiksIG4gPSBpKDEwKSwgbyA9IGUucm9vdC4kKCJsaXZlY2hhdCIpLCByID0gby4kKCJzZXR0aW5ncyIpLiQoImZvcm1zIikuJCgib2ZmbGluZV9mb3JtIiksIGEgPSByLiQoImZvcm0iKSwgcyA9IHIuJCgiZm9ybV9zdWJtaXR0ZWQiKSwgXyA9IHIuJCgicG9zdF9zdWJtaXRfbWVzc2FnZSRzdHJpbmciKSwgbCA9IG8uJCgidWkiKS4kKCJjaGF0X3dpbmRvdyIpLiQoInByZV9jaGF0X29mZmxpbmVfZm9ybSIpLCBkID0gbC4kKCJzdGFja19pbmRleCRpbnQiKTsKIWZ1bmN0aW9uKCkgewpwLnNldERhdGFOb2RlKGEpOwpmLmF1dG9iaW5kKF8sICJ2YWx1ZSIsIGZ1bmN0aW9uKCkgewpnLnNldFRleHQobi5nZXQoXykpOwp9KTsKZi5hdXRvYmluZChkLCAidmFsdWUiLCBmdW5jdGlvbihlKSB7CjEgIT0gZSB8fCBzLmdldFZhbHVlKCkgfHwgdChmdW5jdGlvbigpIHsKZC51cGRhdGUoMCk7Cn0pOwp9KTsKbS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKZC51cGRhdGUoMCk7Cn0pOwp9KCk7Cn0oKTsKZm9yICh2YXIgYiBpbiAkKSBmW2JdID0gJFtiXTsKZi5maXJlICYmIGYuZmlyZSgiaW5pdCIpOwpmLnNldFN0eWxlICYmIGYuc2V0U3R5bGUocik7CmYuc2V0QXR0cmlidXRlcyAmJiBmLnNldEF0dHJpYnV0ZXMoZCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGYuYWRkQ2hpbGRyZW4gPyBmLmFkZENoaWxkcmVuKGwpIDogXy5hZGRDaGlsZHJlbihmLCBsKTsKaWYgKGYgIT09IHRoaXMpIHsKZi5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmYuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGY7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0NoYXRXaW5kb3dDb250ZW50LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIuZm9ybV9jb250YWluZXIiOiB7CmJhY2tncm91bmQ6ICIkJGZvcm1TdWJtaXR0ZWRCZyIsCmJvcmRlclJhZGl1czogIiQkZm9ybVN1Ym1pdHRlZFJhZGl1cyIsCmJvcmRlcldpZHRoOiAiJCRmb3JtU3VibWl0dGVkQm9yZGVyV2lkdGgiLApib3JkZXJTdHlsZTogIiQkZm9ybVN1Ym1pdHRlZEJvcmRlclN0eWxlIiwKYm9yZGVyQ29sb3I6ICIkJGZvcm1TdWJtaXR0ZWRCb3JkZXJDb2xvciIKfSwKIi5wcm9maWxlX2Zvcm0iOiB7fSwKIi5nZW5lcmF0ZWRfZm9ybSI6IHsKbWFyZ2luQm90dG9tOiAiNXB4Igp9LAoiLmNvbnRyb2xzIjogewptYXJnaW5Ub3A6ICIxNXB4IiwKbWFyZ2luQm90dG9tOiAiMTBweCIKfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQ2hhdFdpbmRvd0NvbnRlbnQsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfcHJlQ2hhdE9mZmxpbmVGb3JtX1Bvc3RTdWJtaXQiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlKSB7CnZhciBpID0gewpwYXJzZVVSTDogZnVuY3Rpb24odCkgewp2YXIgZSA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CmUuaHJlZiA9IHQ7CnJldHVybiB7Cmhvc3RuYW1lOiBlLmhvc3RuYW1lLApwYXRobmFtZTogZS5wYXRobmFtZSwKcHJvdG9jb2w6IGUucHJvdG9jb2wsCnNlYXJjaDogZS5zZWFyY2gsCmhhc2g6IGUuaGFzaCwKcG9ydDogZS5wb3J0Cn07Cn0KfTsKdC5leHBvcnRzID0gaTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQsIGUsIGksIG8sIHIpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIG4pKSByZXR1cm4gbmV3IG4odCwgZSwgaSwgbywgcik7CnRoaXMubmF2U3RhY2sgPSBudWxsOwpyIHx8IChyID0ge30pOwpyLnRhZ05hbWUgfHwgKHIudGFnTmFtZSA9ICJzZWxlY3QiKTsKYS5jYWxsKHRoaXMsIHQsIGUsIGksIG8sIHIpOwp0aGlzLmFkZENsYXNzKCJzZWxlY3QiKTsKdGhpcy5vbkRlc3RydWN0aW9uKGZ1bmN0aW9uKCkgewp0aGlzLm5hdlN0YWNrID0gbnVsbDsKfSk7Cn0KdmFyIG8gPSBpKDEpLCByID0gaSgwKSwgYSA9IGkoNDMpOwpuLnByb3RvdHlwZSA9IHIoYS5wcm90b3R5cGUpOwpvKG4sIGEsIHsKZnFuYW1lOiAianhfdWlfU2VsZWN0Igp9KTsKbi5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRJbmRleCA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gdGhpcy5kb20uc2VsZWN0ZWRJbmRleDsKfTsKbi5wcm90b3R5cGUuc2V0U2VsZWN0ZWRJbmRleCA9IGZ1bmN0aW9uKHQpIHsKdGhpcy5kb20uc2VsZWN0ZWRJbmRleCA9IHQ7CnJldHVybiB0aGlzOwp9OwpuLnByb3RvdHlwZS5nZXRPcHRpb25zID0gZnVuY3Rpb24oKSB7CmZvciAodmFyIHQgPSBbXSwgZSA9IHRoaXMuZG9tLm9wdGlvbnMubGVuZ3RoLCBpID0gMDsgaSA8IGU7IGkrKykgdC5wdXNoKHRoaXMuZG9tLm9wdGlvbnNbaV0uanhfd3JhcHBlcik7CnJldHVybiB0Owp9OwpuLnByb3RvdHlwZS5zZXRWYWx1ZSA9IGZ1bmN0aW9uKHQpIHsKdGhpcy5zZXRTZWxlY3RlZEluZGV4KC0xKTsKcmV0dXJuIGEucHJvdG90eXBlLnNldFZhbHVlLmNhbGwodGhpcywgdCk7Cn07Cm4ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oKSB7CmZvciAodmFyIHQgPSB0aGlzLmdldE9wdGlvbnMoKSwgZSA9IDAsIGkgPSB0Lmxlbmd0aDsgZSA8IGk7IGUrKykgaWYgKHRbZV0uZ2V0U2VsZWN0ZWQoKSkgewp0aGlzLnNldFNlbGVjdGVkSW5kZXgoZSk7CnJldHVybiB0aGlzOwp9CnRoaXMuc2V0U2VsZWN0ZWRJbmRleCgwKTsKcmV0dXJuIHRoaXM7Cn07CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpLCBvLCBfKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiBuKSkgcmV0dXJuIG5ldyBuKHQsIGUsIGksIG8sIF8pOwpfIHx8IChfID0ge30pOwpfLnRhZ05hbWUgPSBudWxsOwpfLnBvc2l0aW9uID0gInJlbGF0aXZlIjsKaWYgKHIuYnVncy5ub0JveFNpemluZykgewpkLmNhbGwodGhpcywgdCwgZSwgaSwgbywgXyk7CnRoaXMuYWRkQ2xhc3MoInNlbGVjdF9pZTYiKTsKfSBlbHNlIHsKdGhpcy5jb250YWluZXIgPSBuZXcgdSh0LCBudWxsLCBudWxsLCBudWxsLCBfKTsKdGhpcy5jb250YWluZXIuYWRkQ2xhc3MoInNlbGVjdF9jb250YWluZXIiKTsKdGhpcy5jb250YWluZXIucmVtb3ZlQXR0cmlidXRlKCJ0YWJpbmRleCIpOwp2YXIgbCA9IHRoaXM7CnRoaXMuY29udGFpbmVyLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHsKbC5kZXN0cm95KCk7Cn07CnRoaXMuY29udGFpbmVyLmVtcHR5ID0gZnVuY3Rpb24oKSB7CmwuZW1wdHkoKTsKfTsKdGhpcy5idXR0b24gPSBuZXcgdSh0aGlzLmNvbnRhaW5lciwgbnVsbCwgbnVsbCwgbnVsbCwge30pOwp0aGlzLmJ1dHRvbi5hZGRDbGFzcygic2VsZWN0X2J1dHRvbiIpOwp0aGlzLnBsYWNlaG9sZGVyID0gbmV3IHUodGhpcy5jb250YWluZXIsIG51bGwsIG51bGwsIG51bGwsIHt9KTsKdGhpcy5wbGFjZWhvbGRlci5hZGRDbGFzcygic2VsZWN0X3BsYWNlaG9sZGVyIik7Cl8udGFnTmFtZSA9ICJzZWxlY3QiOwpfLm9wYWNpdHkgPSAiMCI7Cl8ucG9zaXRpb24gPSAiYWJzb2x1dGUiOwpfLndpZHRoID0gIjEwMCUiOwpfLmhlaWdodCA9ICIxMDAlIjsKXy50b3AgPSAiMCI7Cl8ubGVmdCA9ICIwIjsKXy5tYXJnaW4gPSBfLm1hcmdpbkxlZnQgPSBfLm1hcmdpblJpZ2h0ID0gXy5tYXJnaW5Ub3AgPSBfLm1hcmdpbkJvdHRvbSA9ICIwIjsKci5lbmdpbmVJRSA8IDkgJiYgKF8uZmlsdGVyID0gImFscGhhKG9wYWNpdHk9MCkiKTsKZC5jYWxsKHRoaXMsIHRoaXMuY29udGFpbmVyLCBlLCBpLCBvLCBfKTsKci5pc0lFID8gYShmdW5jdGlvbigpIHsKbC5kb20gJiYgbC51cGRhdGVQbGFjZWhvbGRlcigpOwp9KSA6IHRoaXMudXBkYXRlUGxhY2Vob2xkZXIoKTsKdGhpcy5vbigiY2hhbmdlIiwgZnVuY3Rpb24oKSB7CnRoaXMudXBkYXRlUGxhY2Vob2xkZXIoKTsKfSk7CnRoaXMub24oImtleXVwIiwgZnVuY3Rpb24oKSB7CnRoaXMudXBkYXRlUGxhY2Vob2xkZXIoKTsKfSk7CnRoaXMub24oImZvY3VzIiwgZnVuY3Rpb24oKSB7CnRoaXMuY29udGFpbmVyLmFkZENsYXNzKCJmb2N1cyIpOwp9KTsKdGhpcy5vbigiYmx1ciIsIGZ1bmN0aW9uKCkgewp0aGlzLmNvbnRhaW5lci5yZW1vdmVDbGFzcygiZm9jdXMiKTsKfSk7CnRoaXMuX3VwZGF0ZVBsYWNlaG9sZGVyID0gZnVuY3Rpb24oKSB7CmwudXBkYXRlUGxhY2Vob2xkZXIoKTsKfTsKcyAmJiBzLm9uTGFuZ3VhZ2UgJiYgcy5vbkxhbmd1YWdlKHRoaXMuX3VwZGF0ZVBsYWNlaG9sZGVyKTsKfQp9CnZhciBvID0gaSgxKSwgciA9IGkoOCksIGEgPSBpKDE2KSwgcyA9IGkoMiksIF8gPSBpKDApLCBsID0gaSgxMiksIGQgPSBpKDMzMyksIHUgPSBpKDcpOwpuLnByb3RvdHlwZSA9IF8oZC5wcm90b3R5cGUpOwpvKG4sIGQsIHsKZnFuYW1lOiAianhfdWlfUHJldHR5U2VsZWN0Igp9KTsKbi5wcm90b3R5cGUuYXBwZW5kQ2hpbGQgPSBmdW5jdGlvbih0KSB7CnZhciBlID0gIXRoaXMuZ2V0T3B0aW9ucygpLmxlbmd0aDsKZC5wcm90b3R5cGUuYXBwZW5kQ2hpbGQuY2FsbCh0aGlzLCB0KTsKaWYgKGUgJiYgdGhpcy5nZXRPcHRpb25zKCkubGVuZ3RoKSB7CnRoaXMuc2V0U2VsZWN0ZWRJbmRleCgwKTsKdmFyIGkgPSB0aGlzOwphKGZ1bmN0aW9uKCkgewppLmRvbSAmJiBpLnVwZGF0ZVBsYWNlaG9sZGVyKCk7Cn0pOwp9Cn07Cm4ucHJvdG90eXBlLmdldFByZWZpeCA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gdGhpcy5wcmVmaXg7Cn07Cm4ucHJvdG90eXBlLnNldFByZWZpeCA9IGZ1bmN0aW9uKHQpIHsKdGhpcy5wcmVmaXggPSB0OwpyZXR1cm4gdGhpczsKfTsKbi5wcm90b3R5cGUuZ2V0UHJlZml4U2VwYXJhdG9yID0gZnVuY3Rpb24oKSB7CnJldHVybiB0aGlzLnByZWZpeFNlcGFyYXRvcjsKfTsKbi5wcm90b3R5cGUuc2V0UHJlZml4U2VwYXJhdG9yID0gZnVuY3Rpb24odCkgewp0aGlzLnByZWZpeFNlcGFyYXRvciA9IHQ7CnJldHVybiB0aGlzOwp9OwpuLnByb3RvdHlwZS51cGRhdGVQbGFjZWhvbGRlciA9IGZ1bmN0aW9uKCkgewppZiAoIXRoaXMuY29udGFpbmVyIHx8ICF0aGlzLmRvbSkgcmV0dXJuIHRoaXM7CnZhciB0ID0gdGhpcy5nZXRTZWxlY3RlZEluZGV4KCk7CmlmICh0IDwgMCAmJiB0aGlzLnByb21wdCkgewp0aGlzLnBsYWNlaG9sZGVyLnNldFRleHQodGhpcy5wcm9tcHQpOwpyZXR1cm4gdGhpczsKfQp2YXIgZSA9IHRoaXMuZ2V0T3B0aW9ucygpW3RdLCBpID0gIiI7CnRoaXMucHJlZml4ICYmIChpICs9IHRoaXMucHJlZml4ICsgKHRoaXMucHJlZml4U2VwYXJhdG9yIHx8ICIiID09PSB0aGlzLnByZWZpeFNlcGFyYXRvciA/IHRoaXMucHJlZml4U2VwYXJhdG9yIDogIiAiKSk7CmUgJiYgKGkgKz0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgZS5nZXRQbGFjZWhvbGRlciAmJiBlLmdldFBsYWNlaG9sZGVyKCkgfHwgImZ1bmN0aW9uIiA9PSB0eXBlb2YgZS5nZXRMYWJlbCAmJiBlLmdldExhYmVsKCkgfHwgZS5nZXRUZXh0KCkpOwp0aGlzLnBsYWNlaG9sZGVyLnNldFRleHQoaSk7CnJldHVybiB0aGlzOwp9OwpuLnByb3RvdHlwZS5nZXRQcm9tcHQgPSBmdW5jdGlvbigpIHsKcmV0dXJuIHRoaXMucHJvbXB0Owp9OwpuLnByb3RvdHlwZS5zZXRQcm9tcHQgPSBmdW5jdGlvbih0KSB7CnRoaXMucHJvbXB0ID0gdDsKdGhpcy5zZXRTZWxlY3RlZEluZGV4KC0xKTsKcmV0dXJuIHRoaXM7Cn07Cm4ucHJvdG90eXBlLnNldFZhbHVlID0gZnVuY3Rpb24odCkgewpkLnByb3RvdHlwZS5zZXRWYWx1ZS5jYWxsKHRoaXMsIHQpOwp0aGlzLnVwZGF0ZVBsYWNlaG9sZGVyKCk7CnJldHVybiB0aGlzOwp9OwpuLnByb3RvdHlwZS5zZXRTZWxlY3RlZEluZGV4ID0gZnVuY3Rpb24odCkgewpkLnByb3RvdHlwZS5zZXRTZWxlY3RlZEluZGV4LmNhbGwodGhpcywgdCk7CnRoaXMudXBkYXRlUGxhY2Vob2xkZXIoKTsKcmV0dXJuIHRoaXM7Cn07Cm4ucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbigpIHsKdGhpcy5jb250YWluZXIgPyB0aGlzLmNvbnRhaW5lci5zaG93KCkgOiBkLnByb3RvdHlwZS5zaG93LmNhbGwodGhpcyk7Cn07Cm4ucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbigpIHsKdGhpcy5jb250YWluZXIgPyB0aGlzLmNvbnRhaW5lci5oaWRlKCkgOiBkLnByb3RvdHlwZS5oaWRlLmNhbGwodGhpcyk7Cn07Cm4ucHJvdG90eXBlLnNldERpc2FibGVkID0gZnVuY3Rpb24odCkgewp0aGlzLmNvbnRhaW5lciAmJiAobCh0KSA/IHRoaXMuY29udGFpbmVyLmFkZENsYXNzKCJkaXNhYmxlZCIpIDogdGhpcy5jb250YWluZXIucmVtb3ZlQ2xhc3MoImRpc2FibGVkIikpOwpyZXR1cm4gZC5wcm90b3R5cGUuc2V0RGlzYWJsZWQuY2FsbCh0aGlzLCB0KTsKfTsKbi5wcm90b3R5cGUuY3JlYXRlTGFiZWwgPSBmdW5jdGlvbih0KSB7CnRoaXMuY29udGFpbmVyICYmICh0aGlzLnBhcmVudE5vZGUgPSB0aGlzLmNvbnRhaW5lci5wYXJlbnROb2RlKTsKZC5wcm90b3R5cGUuY3JlYXRlTGFiZWwuY2FsbCh0aGlzLCB0KTsKdGhpcy5jb250YWluZXIgJiYgKHRoaXMucGFyZW50Tm9kZSA9IHRoaXMuY29udGFpbmVyKTsKfTsKbi5wcm90b3R5cGUuY3JlYXRlRXJyb3JNZXNzYWdlID0gZnVuY3Rpb24odCkgewp0aGlzLmNvbnRhaW5lciAmJiAodGhpcy5wYXJlbnROb2RlID0gdGhpcy5jb250YWluZXIucGFyZW50Tm9kZSk7CmQucHJvdG90eXBlLmNyZWF0ZUVycm9yTWVzc2FnZS5jYWxsKHRoaXMsIHQpOwp0aGlzLmNvbnRhaW5lciAmJiAodGhpcy5wYXJlbnROb2RlID0gdGhpcy5jb250YWluZXIpOwp9OwpuLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7CnMgJiYgcy51bkxhbmd1YWdlICYmIHMudW5MYW5ndWFnZSh0aGlzLl91cGRhdGVQbGFjZWhvbGRlcik7CmQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTsKaWYgKHRoaXMuY29udGFpbmVyKSB7CmQucHJvdG90eXBlLmVtcHR5LmNhbGwodGhpcy5jb250YWluZXIpOwp0aGlzLmNvbnRhaW5lci5lbXB0eSA9IG51bGw7CmQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLmNvbnRhaW5lcik7CnRoaXMuY29udGFpbmVyID0gdGhpcy5idXR0b24gPSB0aGlzLnBsYWNlaG9sZGVyID0gbnVsbDsKfQp9OwpuLnByb3RvdHlwZS5lbXB0eSA9IGZ1bmN0aW9uKCkgewpkLnByb3RvdHlwZS5lbXB0eS5jYWxsKHRoaXMpOwp0aGlzLnVwZGF0ZVBsYWNlaG9sZGVyKCk7Cn07Cm4ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oKSB7CmlmICghdGhpcy5jb250YWluZXIpIHJldHVybiBkLnByb3RvdHlwZS5yZXNldC5jYWxsKHRoaXMpOwpmb3IgKHZhciB0ID0gdGhpcy5nZXRPcHRpb25zKCksIGUgPSAwLCBpID0gdC5sZW5ndGg7IGUgPCBpOyBlKyspIGlmICh0W2VdLmdldFNlbGVjdGVkKCkpIHsKdGhpcy5zZXRTZWxlY3RlZEluZGV4KGUpOwp0aGlzLnVwZGF0ZVBsYWNlaG9sZGVyKCk7CnJldHVybiB0aGlzOwp9CnRoaXMuc2V0U2VsZWN0ZWRJbmRleCgtMSk7CnRoaXMudXBkYXRlUGxhY2Vob2xkZXIoKTsKcmV0dXJuIHRoaXM7Cn07CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpLCBvLCBhKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiBuKSkgcmV0dXJuIG5ldyBuKHQsIGUsIGksIG8sIGEpOwphIHx8IChhID0ge30pOwphLnRhZ05hbWUgfHwgKGEudGFnTmFtZSA9ICJpbnB1dCIpOwphLnR5cGUgfHwgKGEudHlwZSA9ICJyYWRpbyIpOwpzLmNhbGwodGhpcywgdCwgZSwgaSwgbywgYSk7CmlmIChyLmJ1Z3Mubm9Cb3hTaXppbmcpIHsKdGhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQgaW5zdGFuY2VvZiBfID8gdGhpcyA6IHRoaXMuZG9tKTsKdGhpcy5kb20gPSB0LmRvYy5jcmVhdGVFbGVtZW50KCI8IiArIGEudGFnTmFtZSArICcgdHlwZT0iJyArIGEudHlwZSArICciIG5hbWU9IicgKyAoYS5uYW1lIHx8ICIiKSArICciLz4nKTsKdGhpcy5kb20uanhfd3JhcHBlciA9IHRoaXM7CnRoaXMuc3R5bGUgPSB0aGlzLmRvbS5zdHlsZTsKdGhpcy5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHQgaW5zdGFuY2VvZiBfID8gdGhpcyA6IHRoaXMuZG9tKTsKdGhpcy5zZXRTdHlsZShpKTsKdGhpcy5zZXRBdHRyaWJ1dGVzKGEpOwp0aGlzLmFkZENsYXNzKHRoaXMuX19qeF9fZnFuYW1lKTsKfQp9CnZhciBvID0gaSgxKSwgciA9IGkoOCksIGEgPSBpKDApLCBzID0gaSgxMDYpLCBfID0gaSgyMyk7Cm4ucHJvdG90eXBlID0gYShzLnByb3RvdHlwZSk7Cm8obiwgcywgewpmcW5hbWU6ICJqeF91aV9SYWRpb0J1dHRvbiIKfSk7CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpLCBvLCByKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiBuKSkgcmV0dXJuIG5ldyBuKHQsIGUsIGksIG8sIHIpOwp0aGlzLm9wdGlvbkNvbnN0cnVjdG9yID0gYTsKdGhpcy5pbnB1dFN1ZmZpeCA9ICJyYWRpbyI7CnMuY2FsbCh0aGlzLCB0LCBlLCBpLCBvLCByKTsKfQp2YXIgbyA9IGkoMSksIHIgPSBpKDApLCBhID0gaSgzMzUpLCBzID0gaSgxNTkpOwpuLnByb3RvdHlwZSA9IHIocy5wcm90b3R5cGUpOwpvKG4sIHMsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX2Zvcm1fUmFkaW9CdXR0b25NdWx0aXBsZSIKfSk7Cm4ucHJvdG90eXBlLnNldFZhbHVlID0gZnVuY3Rpb24odCkgewpmb3IgKHZhciBlID0gMCwgaSA9IHRoaXMub3B0aW9ucy5sZW5ndGg7IGUgPCBpOyBlKyspIGlmICh0aGlzLm9wdGlvbnNbZV0uZ2V0VmFsdWUoKSA9PSB0KSB7CnRoaXMub3B0aW9uc1tlXS5zZXRDaGVja2VkKCEwKTsKKHRoaXMub3B0aW9uc1tlXS5jb250YWluZXIgfHwgdGhpcy5vcHRpb25zW2VdKS5zZXREaXNwbGF5KCIiKTsKdGhpcy5sYWJlbHNbZV0uc2V0RGlzcGxheSgiIikuYWRkQ2xhc3MoImxhYmVsX2NoZWNrZWQiKTsKfSBlbHNlIHsKdGhpcy5vcHRpb25zW2VdLnNldENoZWNrZWQoITEpOwppZiAodGhpcy5yZWFkT25seSkgewoodGhpcy5vcHRpb25zW2VdLmNvbnRhaW5lciB8fCB0aGlzLm9wdGlvbnNbZV0pLnNldERpc3BsYXkoIm5vbmUiKTsKdGhpcy5sYWJlbHNbZV0uc2V0RGlzcGxheSgibm9uZSIpLnJlbW92ZUNsYXNzKCJsYWJlbF9jaGVja2VkIik7Cn0KfQp9OwpuLnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uKCkgewpmb3IgKHZhciB0ID0gMCwgZSA9IHRoaXMub3B0aW9ucy5sZW5ndGg7IHQgPCBlOyB0KyspIGlmICh0aGlzLm9wdGlvbnNbdF0uZ2V0Q2hlY2tlZCgpKSByZXR1cm4gdGhpcy5vcHRpb25zW3RdLmdldFZhbHVlKCk7Cn07CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpLCBvLCByKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiBuKSkgcmV0dXJuIG5ldyBuKHQsIGUsIGksIG8sIHIpOwp0aGlzLm9wdGlvbkNvbnN0cnVjdG9yID0gczsKdGhpcy5pbnB1dFN1ZmZpeCA9ICJjaGVja2JveCI7Cl8uY2FsbCh0aGlzLCB0LCBlLCBpLCBvLCByKTsKfQp2YXIgbyA9IGkoMSksIHIgPSBpKDApLCBhID0gaSgyMSksIHMgPSBpKDEwNiksIF8gPSBpKDE1OSk7Cm4ucHJvdG90eXBlID0gcihfLnByb3RvdHlwZSk7Cm8obiwgXywgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfZm9ybV9DaGVja0JveE11bHRpcGxlIgp9KTsKbi5wcm90b3R5cGUuc2V0VmFsdWUgPSBmdW5jdGlvbih0KSB7CmZvciAodmFyIGUsIGksIG4gPSBhKHQpID8gdCA6IHQuc3BsaXQoIiwiKSwgbyA9IDAsIHIgPSB0aGlzLm9wdGlvbnMubGVuZ3RoOyBvIDwgcjsgbysrKSB7CmUgPSAhMTsKZm9yICh2YXIgcyA9IDAsIF8gPSBuLmxlbmd0aDsgcyA8IF87IHMrKykgaWYgKHRoaXMub3B0aW9uc1tvXS5nZXRWYWx1ZSgpID09IG5bc10pIHsKdGhpcy5vcHRpb25zW29dLnNldENoZWNrZWQoITApOwoodGhpcy5vcHRpb25zW29dLmNvbnRhaW5lciB8fCB0aGlzLm9wdGlvbnNbb10pLnNldERpc3BsYXkoIiIpOwp0aGlzLmxhYmVsc1tvXS5zZXREaXNwbGF5KCIiKS5hZGRDbGFzcygibGFiZWxfY2hlY2tlZCIpOwplID0gITA7CmJyZWFrOwp9CmlmIChlKSBpID0gbzsgZWxzZSB7Cih0aGlzLm9wdGlvbnNbb10uY29udGFpbmVyIHx8IHRoaXMub3B0aW9uc1tvXSkucmVtb3ZlQ2xhc3MoImxhc3QtY2hlY2tlZCIpOwp0aGlzLmxhYmVsc1tvXS5yZW1vdmVDbGFzcygibGFzdC1jaGVja2VkIik7CnRoaXMub3B0aW9uc1tvXS5zZXRDaGVja2VkKCExKTsKaWYgKHRoaXMucmVhZE9ubHkpIHsKKHRoaXMub3B0aW9uc1tvXS5jb250YWluZXIgfHwgdGhpcy5vcHRpb25zW29dKS5zZXREaXNwbGF5KCJub25lIik7CnRoaXMubGFiZWxzW29dLnNldERpc3BsYXkoIm5vbmUiKS5yZW1vdmVDbGFzcygibGFiZWxfY2hlY2tlZCIpOwp9Cn0KfQppZiAodm9pZCAwICE9IGkpIHsKKHRoaXMub3B0aW9uc1tpXS5jb250YWluZXIgfHwgdGhpcy5vcHRpb25zW2ldKS5hZGRDbGFzcygibGFzdC1jaGVja2VkIik7CnRoaXMubGFiZWxzW2ldLmFkZENsYXNzKCJsYXN0LWNoZWNrZWQiKTsKfQp9OwpuLnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uKCkgewpmb3IgKHZhciB0ID0gW10sIGUgPSAwLCBpID0gdGhpcy5vcHRpb25zLmxlbmd0aDsgZSA8IGk7IGUrKykgdGhpcy5vcHRpb25zW2VdLmdldENoZWNrZWQoKSAmJiB0LnB1c2godGhpcy5vcHRpb25zW2VdLmdldFZhbHVlKCkpOwpyZXR1cm4gdC5qb2luKCIsIik7Cn07CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpLCBvLCByKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiBuKSkgcmV0dXJuIG5ldyBuKHQsIGUsIGksIG8sIHIpOwpzLmNhbGwodGhpcywgdCwgZSwgaSwgbywgcik7Cn0KdmFyIG8gPSBpKDEpLCByID0gaSgwKSwgYSA9IGkoMTIpLCBzID0gaSg3KTsKbi5wcm90b3R5cGUgPSByKHMucHJvdG90eXBlKTsKbyhuLCBzLCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19mb3JtX0ZpZWxkIgp9KTsKbi5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbih0KSB7CnZhciBlID0gcy5wcm90b3R5cGUudmFsaWRhdGUuY2FsbCh0aGlzLCB0KTsKZSA/IHRoaXMucmVtb3ZlQ2xhc3MoImludmFsaWQiKSA6IHRoaXMuYWRkQ2xhc3MoImludmFsaWQiKTsKcmV0dXJuIGU7Cn07Cm4ucHJvdG90eXBlLnNldFJlcXVpcmVkID0gZnVuY3Rpb24odCkgewp0ID0gYSh0KTsKdGhpcy5sYWJlbF9yZXF1aXJlZCAmJiB0aGlzLmxhYmVsX3JlcXVpcmVkLnNldFRleHQodCA/ICIgKiIgOiAiIik7CnRoaXMuaW5wdXQgJiYgdGhpcy5pbnB1dC5zZXRSZXF1aXJlZCh0KTsKIXQgJiYgdGhpcy5pbnB1dCAmJiB0aGlzLmlucHV0LmhpZGVFcnJvck1lc3NhZ2UoKTsKcmV0dXJuIHRoaXM7Cn07Cm4ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHsKdGhpcy5sYWJlbCA9IHRoaXMubGFiZWxfbmFtZSA9IHRoaXMubGFiZWxfcmVxdWlyZWQgPSB0aGlzLmlucHV0ID0gdGhpcy5lcnJvcl9tZXNzYWdlID0gbnVsbDsKcmV0dXJuIHMucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTsKfTsKdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQsIGUsIGksIG8sIHIpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIG4pKSByZXR1cm4gbmV3IG4odCwgZSwgaSwgbywgcik7CnIgfHwgKHIgPSB7fSk7CnIudGFnTmFtZSB8fCAoci50YWdOYW1lID0gImlucHV0Iik7CnIudHlwZSB8fCAoci50eXBlID0gImVtYWlsIik7CmEuY2FsbCh0aGlzLCB0LCBlLCBpLCBvLCByKTsKfQp2YXIgbyA9IGkoMSksIHIgPSBpKDApLCBhID0gaSg4NSk7Cm4ucHJvdG90eXBlID0gcihhLnByb3RvdHlwZSk7Cm8obiwgYSwgewpmcW5hbWU6ICJqeF91aV9FbWFpbEZpZWxkIgp9KTsKdmFyIHMgPSBhLnByb3RvdHlwZS5nZXRWYWx1ZTsKbi5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbigpIHsKcmV0dXJuIChzLmNhbGwodGhpcykgfHwgIiIpLnRyaW0oKTsKfTsKdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fanhfdWlfaHRtbF9kaXYgPSBpKDEzKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfZ3JhdmF0YXJfR3JhdmF0YXJJbWFnZSA9IGkoODIpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBpLCBvLCByLCBfKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIGksIG8sIHIsIF8pOwppID0gaSB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGwgPSBbIG4uX18kJF9fanhfdWlfaHRtbF9kaXYsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX2dyYXZhdGFyX0dyYXZhdGFySW1hZ2UsICJpbWFnZTQiLCAiIiwgW10sIHsKaWQ6ICJpbWFnZTQiLAphZGRDbGFzczogImF2YXRhciBhdmF0YXI0Igp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfZ3JhdmF0YXJfR3JhdmF0YXJJbWFnZSwgImltYWdlMyIsICIiLCBbXSwgewppZDogImltYWdlMyIsCmFkZENsYXNzOiAiYXZhdGFyIGF2YXRhcjMiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19ncmF2YXRhcl9HcmF2YXRhckltYWdlLCAiaW1hZ2UyIiwgIiIsIFtdLCB7CmlkOiAiaW1hZ2UyIiwKYWRkQ2xhc3M6ICJhdmF0YXIgYXZhdGFyMiIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX2dyYXZhdGFyX0dyYXZhdGFySW1hZ2UsICJpbWFnZTEiLCAiIiwgW10sIHsKaWQ6ICJpbWFnZTEiLAphZGRDbGFzczogImF2YXRhciBhdmF0YXIxIgp9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6bXVpIjogIm1lc2hpbS51aSIsCiJ4bWxuczpncmF2YXRhciI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMuZ3JhdmF0YXIiLApjbGFzczogImdyYXZhdGFyRm91ciIKfSBdLCBkID0gbFswXS5jYWxsKHRoaXMsIGUsIGksIG51bGwsIHMubWFuZ2xlSURzKGksIGxbM10pLCBsWzRdKSwgdSA9IGQgfHwgdGhpczsKcy5zZXQoaSwgdSk7CnZhciBjID0gcy5nZXQoaSArICJfX2ltYWdlNCIpLCBoID0gcy5nZXQoaSArICJfX2ltYWdlMyIpLCBmID0gcy5nZXQoaSArICJfX2ltYWdlMiIpLCBnID0gcy5nZXQoaSArICJfX2ltYWdlMSIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgcCA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KHQpIHsKaWYgKHQgaW5zdGFuY2VvZiBBcnJheSkgewpnLnNldFNyYyh0WzBdKTsKZi5zZXRTcmModFsxXSk7Cmguc2V0U3JjKHRbMl0pOwpjLnNldFNyYyh0WzNdKTsKfQp9CmZ1bmN0aW9uIGUodCkgewppZiAodCBpbnN0YW5jZW9mIEFycmF5KSB7Cmcuc2V0RGF0YU5vZGUodFswXSk7CmYuc2V0RGF0YU5vZGUodFsxXSk7Cmguc2V0RGF0YU5vZGUodFsyXSk7CmMuc2V0RGF0YU5vZGUodFszXSk7Cn0KfQp1LnNldEltYWdlcyA9IHQ7CnUuc2V0Tm9kZXMgPSBlOwp9KCk7CmZvciAodmFyIG0gaW4gcCkgdVttXSA9IHBbbV07CnUuZmlyZSAmJiB1LmZpcmUoImluaXQiKTsKdS5zZXRTdHlsZSAmJiB1LnNldFN0eWxlKG8pOwp1LnNldEF0dHJpYnV0ZXMgJiYgdS5zZXRBdHRyaWJ1dGVzKF8pOwoiZnVuY3Rpb24iID09IHR5cGVvZiB1LmFkZENoaWxkcmVuID8gdS5hZGRDaGlsZHJlbihyKSA6IHMuYWRkQ2hpbGRyZW4odSwgcik7CmlmICh1ICE9PSB0aGlzKSB7CnUuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwp1Ll9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiB1Owp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2p4X3VpX2h0bWxfZGl2LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CnBvc2l0aW9uOiAicmVsYXRpdmUiLAp3aWR0aDogIjEwMCUiLApoZWlnaHQ6ICIxMDAlIiwKb3ZlcmZsb3c6ICJoaWRkZW4iLApsaW5lSGVpZ2h0OiAiMHB4IiwKIi5hdmF0YXIiOiB7CnBvc2l0aW9uOiAiYWJzb2x1dGUiLAp3aWR0aDogIjUwJSIsCmhlaWdodDogIjUwJSIKfSwKIi5hdmF0YXIxIjogewp0b3A6IDAsCmxlZnQ6IDAsCmJvcmRlclRvcDogIjBweCBub25lIiwKYm9yZGVyTGVmdDogIjBweCBub25lIgp9LAoiLmF2YXRhcjIiOiB7CnRvcDogMCwKcmlnaHQ6IDAsCmJvcmRlclRvcDogIjBweCBub25lIiwKYm9yZGVyUmlnaHQ6ICIwcHggbm9uZSIsCmJvcmRlckxlZnQ6ICIwcHggbm9uZSIKfSwKIi5hdmF0YXIzIjogewpib3R0b206IDAsCmxlZnQ6IDAsCmJvcmRlclRvcDogIjBweCBub25lIiwKYm9yZGVyQm90dG9tOiAiMHB4IG5vbmUiLApib3JkZXJMZWZ0OiAiMHB4IG5vbmUiCn0sCiIuYXZhdGFyNCI6IHsKYm90dG9tOiAwLApyaWdodDogMCwKYm9yZGVyOiAiMHB4IG5vbmUiCn0KfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfZ3JhdmF0YXJfR3JhdmF0YXJGb3VyIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fanhfdWlfaHRtbF9kaXYgPSBpKDEzKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfZ3JhdmF0YXJfR3JhdmF0YXJJbWFnZSA9IGkoODIpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBpLCBvLCByLCBfKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIGksIG8sIHIsIF8pOwppID0gaSB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGwgPSBbIG4uX18kJF9fanhfdWlfaHRtbF9kaXYsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX2dyYXZhdGFyX0dyYXZhdGFySW1hZ2UsICJpbWFnZTMiLCAiIiwgW10sIHsKaWQ6ICJpbWFnZTMiLAphZGRDbGFzczogImF2YXRhciBhdmF0YXIzIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfZ3JhdmF0YXJfR3JhdmF0YXJJbWFnZSwgImltYWdlMiIsICIiLCBbXSwgewppZDogImltYWdlMiIsCmFkZENsYXNzOiAiYXZhdGFyIGF2YXRhcjIiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19ncmF2YXRhcl9HcmF2YXRhckltYWdlLCAiaW1hZ2UxIiwgIiIsIFtdLCB7CmlkOiAiaW1hZ2UxIiwKYWRkQ2xhc3M6ICJhdmF0YXIgYXZhdGFyMSIKfSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOm11aSI6ICJtZXNoaW0udWkiLAoieG1sbnM6Z3JhdmF0YXIiOiAibWVzaGltLndpZGdldC53aWRnZXRzLmdyYXZhdGFyIiwKY2xhc3M6ICJncmF2YXRhclRocmVlIgp9IF0sIGQgPSBsWzBdLmNhbGwodGhpcywgZSwgaSwgbnVsbCwgcy5tYW5nbGVJRHMoaSwgbFszXSksIGxbNF0pLCB1ID0gZCB8fCB0aGlzOwpzLnNldChpLCB1KTsKdmFyIGMgPSBzLmdldChpICsgIl9faW1hZ2UzIiksIGggPSBzLmdldChpICsgIl9faW1hZ2UyIiksIGYgPSBzLmdldChpICsgIl9faW1hZ2UxIik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBnID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQodCkgewppZiAodCBpbnN0YW5jZW9mIEFycmF5KSB7CmYuc2V0U3JjKHRbMF0pOwpoLnNldFNyYyh0WzFdKTsKYy5zZXRTcmModFsyXSk7Cn0KfQpmdW5jdGlvbiBlKHQpIHsKaWYgKHQgaW5zdGFuY2VvZiBBcnJheSkgewpmLnNldERhdGFOb2RlKHRbMF0pOwpoLnNldERhdGFOb2RlKHRbMV0pOwpjLnNldERhdGFOb2RlKHRbMl0pOwp9Cn0KdS5zZXRJbWFnZXMgPSB0Owp1LnNldE5vZGVzID0gZTsKfSgpOwpmb3IgKHZhciBwIGluIGcpIHVbcF0gPSBnW3BdOwp1LmZpcmUgJiYgdS5maXJlKCJpbml0Iik7CnUuc2V0U3R5bGUgJiYgdS5zZXRTdHlsZShvKTsKdS5zZXRBdHRyaWJ1dGVzICYmIHUuc2V0QXR0cmlidXRlcyhfKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgdS5hZGRDaGlsZHJlbiA/IHUuYWRkQ2hpbGRyZW4ocikgOiBzLmFkZENoaWxkcmVuKHUsIHIpOwppZiAodSAhPT0gdGhpcykgewp1Ll9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKdS5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gdTsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19qeF91aV9odG1sX2Rpdi5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewpwb3NpdGlvbjogInJlbGF0aXZlIiwKd2lkdGg6ICIxMDAlIiwKaGVpZ2h0OiAiMTAwJSIsCm92ZXJmbG93OiAiaGlkZGVuIiwKIi5hdmF0YXIxIjogewpwb3NpdGlvbjogImFic29sdXRlIiwKdG9wOiAiMCIsCmxlZnQ6ICItMzMlIiwKd2lkdGg6ICIxMDAlIiwKaGVpZ2h0OiAiMTAwJSIsCmJvcmRlckxlZnQ6ICIwcHggbm9uZSIsCmJvcmRlclRvcDogIjBweCBub25lIiwKYm9yZGVyQm90dG9tOiAiMHB4IG5vbmUiCn0sCiIuYXZhdGFyMiI6IHsKcG9zaXRpb246ICJhYnNvbHV0ZSIsCnRvcDogIjAiLApyaWdodDogIi04JSIsCndpZHRoOiAiNTAlIiwKaGVpZ2h0OiAiNTAlIiwKYm9yZGVyTGVmdDogIjBweCBub25lIiwKYm9yZGVyVG9wOiAiMHB4IG5vbmUiLApib3JkZXJSaWdodDogIjBweCBub25lIgp9LAoiLmF2YXRhcjMiOiB7CnBvc2l0aW9uOiAiYWJzb2x1dGUiLApib3R0b206ICIwIiwKcmlnaHQ6ICItOCUiLAp3aWR0aDogIjUwJSIsCmhlaWdodDogIjUwJSIsCmJvcmRlcjogIjBweCBub25lIgp9Cn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfaHRtbF9kaXYsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX2dyYXZhdGFyX0dyYXZhdGFyVGhyZWUiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19qeF91aV9odG1sX2RpdiA9IGkoMTMpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19ncmF2YXRhcl9HcmF2YXRhckltYWdlID0gaSg4Mik7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIGksIG8sIHIsIF8pIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgaSwgbywgciwgXyk7CmkgPSBpIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgbCA9IFsgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfZ3JhdmF0YXJfR3JhdmF0YXJJbWFnZSwgImltYWdlMiIsICIiLCBbXSwgewppZDogImltYWdlMiIsCmFkZENsYXNzOiAiYXZhdGFyIGF2YXRhcjIiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19ncmF2YXRhcl9HcmF2YXRhckltYWdlLCAiaW1hZ2UxIiwgIiIsIFtdLCB7CmlkOiAiaW1hZ2UxIiwKYWRkQ2xhc3M6ICJhdmF0YXIgYXZhdGFyMSIKfSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOm11aSI6ICJtZXNoaW0udWkiLAoieG1sbnM6Z3JhdmF0YXIiOiAibWVzaGltLndpZGdldC53aWRnZXRzLmdyYXZhdGFyIiwKY2xhc3M6ICJncmF2YXRhclR3byIKfSBdLCBkID0gbFswXS5jYWxsKHRoaXMsIGUsIGksIG51bGwsIHMubWFuZ2xlSURzKGksIGxbM10pLCBsWzRdKSwgdSA9IGQgfHwgdGhpczsKcy5zZXQoaSwgdSk7CnZhciBjID0gcy5nZXQoaSArICJfX2ltYWdlMiIpLCBoID0gcy5nZXQoaSArICJfX2ltYWdlMSIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgZiA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KHQpIHsKaWYgKHQgaW5zdGFuY2VvZiBBcnJheSkgewpoLnNldFNyYyh0WzBdKTsKYy5zZXRTcmModFsxXSk7Cn0KfQpmdW5jdGlvbiBlKHQpIHsKaWYgKHQgaW5zdGFuY2VvZiBBcnJheSkgewpoLnNldERhdGFOb2RlKHRbMF0pOwpjLnNldERhdGFOb2RlKHRbMV0pOwp9Cn0KdS5zZXRJbWFnZXMgPSB0Owp1LnNldE5vZGVzID0gZTsKfSgpOwpmb3IgKHZhciBnIGluIGYpIHVbZ10gPSBmW2ddOwp1LmZpcmUgJiYgdS5maXJlKCJpbml0Iik7CnUuc2V0U3R5bGUgJiYgdS5zZXRTdHlsZShvKTsKdS5zZXRBdHRyaWJ1dGVzICYmIHUuc2V0QXR0cmlidXRlcyhfKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgdS5hZGRDaGlsZHJlbiA/IHUuYWRkQ2hpbGRyZW4ocikgOiBzLmFkZENoaWxkcmVuKHUsIHIpOwppZiAodSAhPT0gdGhpcykgewp1Ll9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKdS5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gdTsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19qeF91aV9odG1sX2Rpdi5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewpwb3NpdGlvbjogInJlbGF0aXZlIiwKd2lkdGg6ICIxMDAlIiwKaGVpZ2h0OiAiMTAwJSIsCm92ZXJmbG93OiAiaGlkZGVuIiwKIi5hdmF0YXIiOiB7CndpZHRoOiAiMTAwJSIsCmhlaWdodDogIjEwMCUiCn0sCiIuYXZhdGFyMSI6IHsKcG9zaXRpb246ICJhYnNvbHV0ZSIsCnRvcDogIjAiLApsZWZ0OiAiLTMzJSIsCmJvcmRlclRvcDogIjBweCBub25lIiwKYm9yZGVyTGVmdDogIjBweCBub25lIiwKYm9yZGVyQm90dG9tOiAiMHB4IG5vbmUiCn0sCiIuYXZhdGFyMiI6IHsKcG9zaXRpb246ICJhYnNvbHV0ZSIsCnRvcDogIjAiLApsZWZ0OiAiMzMlIiwKYm9yZGVyOiAiMHB4IG5vbmUiCn0KfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfZ3JhdmF0YXJfR3JhdmF0YXJUd28iCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19qeF91aV9XaWRnZXQgPSBpKDcpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19JY29uRm9udCA9IGkoMTUpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBpLCBvLCByLCBfKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIGksIG8sIHIsIF8pOwppID0gaSB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGwgPSBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19JY29uRm9udCwgIiIsICIiLCBbXSwgewppY29uOiAiZ29vZ2xlXzIwMTlfYiIsCmFkZENsYXNzOiAiYmx1ZSIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0ljb25Gb250LCAiIiwgIiIsIFtdLCB7Cmljb246ICJnb29nbGVfMjAxOV9nIiwKYWRkQ2xhc3M6ICJncmVlbiIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0ljb25Gb250LCAiIiwgIiIsIFtdLCB7Cmljb246ICJnb29nbGVfMjAxOV95IiwKYWRkQ2xhc3M6ICJ5ZWxsb3ciCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19JY29uRm9udCwgIiIsICIiLCBbXSwgewppY29uOiAiZ29vZ2xlXzIwMTlfciIsCmFkZENsYXNzOiAicmVkIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfSWNvbkZvbnQsICIiLCAiIiwgW10sIHsKaWNvbjogImdvb2dsZV8yMDE5X3IiLAphZGRDbGFzczogImhpZGUiCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIKfSBdLCBkID0gbFswXS5jYWxsKHRoaXMsIGUsIGksIG51bGwsIHMubWFuZ2xlSURzKGksIGxbM10pLCBsWzRdKSwgdSA9IGQgfHwgdGhpczsKcy5zZXQoaSwgdSk7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CmZvciAodmFyIGMgaW4gdm9pZCAwKSB1W2NdID0gKHZvaWQgMClbY107CnUuZmlyZSAmJiB1LmZpcmUoImluaXQiKTsKdS5zZXRTdHlsZSAmJiB1LnNldFN0eWxlKG8pOwp1LnNldEF0dHJpYnV0ZXMgJiYgdS5zZXRBdHRyaWJ1dGVzKF8pOwoiZnVuY3Rpb24iID09IHR5cGVvZiB1LmFkZENoaWxkcmVuID8gdS5hZGRDaGlsZHJlbihyKSA6IHMuYWRkQ2hpbGRyZW4odSwgcik7CmlmICh1ICE9PSB0aGlzKSB7CnUuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwp1Ll9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiB1Owp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2p4X3VpX1dpZGdldC5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewpwb3NpdGlvbjogInJlbGF0aXZlIiwKIio6bm90KC5oaWRlKSI6IHsKcG9zaXRpb246ICJhYnNvbHV0ZSIKfQp9LAoiLmJsdWUiOiB7CmNvbG9yOiAiIzQyODVmNCIKfSwKIi5ncmVlbiI6IHsKY29sb3I6ICIjMzRBODUzIgp9LAoiLnllbGxvdyI6IHsKY29sb3I6ICIjRkJCQzA1Igp9LAoiLnJlZCI6IHsKY29sb3I6ICIjRUE0MzM1Igp9LAoiLmhpZGUiOiB7CnZpc2liaWxpdHk6ICJoaWRkZW4iCn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfV2lkZ2V0LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19pY29uRm9udF9Hb29nbGUyMDE5Igp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fanhfdWlfaHRtbF9kaXYgPSBpKDEzKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfZ3JhdmF0YXJfR3JhdmF0YXJJbWFnZSA9IGkoODIpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBpLCBvLCByLCBfKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIGksIG8sIHIsIF8pOwppID0gaSB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGwgPSBbIG4uX18kJF9fanhfdWlfaHRtbF9kaXYsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX2dyYXZhdGFyX0dyYXZhdGFySW1hZ2UsICJpbWFnZSIsICIiLCBbXSwgewppZDogImltYWdlIiwKYWRkQ2xhc3M6ICJhdmF0YXIiCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczptdWkiOiAibWVzaGltLnVpIiwKInhtbG5zOmdyYXZhdGFyIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cy5ncmF2YXRhciIsCmNsYXNzOiAiZ3JhdmF0YXJPbmUiCn0gXSwgZCA9IGxbMF0uY2FsbCh0aGlzLCBlLCBpLCBudWxsLCBzLm1hbmdsZUlEcyhpLCBsWzNdKSwgbFs0XSksIHUgPSBkIHx8IHRoaXM7CnMuc2V0KGksIHUpOwp2YXIgYyA9IHMuZ2V0KGkgKyAiX19pbWFnZSIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgaCA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KHQpIHsKdCBpbnN0YW5jZW9mIEFycmF5ICYmIGMuc2V0U3JjKHRbMF0pOwp9CmZ1bmN0aW9uIGUodCkgewp0IGluc3RhbmNlb2YgQXJyYXkgJiYgYy5zZXREYXRhTm9kZSh0WzBdKTsKfQp1LnNldEltYWdlcyA9IHQ7CnUuc2V0Tm9kZXMgPSBlOwp9KCk7CmZvciAodmFyIGYgaW4gaCkgdVtmXSA9IGhbZl07CnUuZmlyZSAmJiB1LmZpcmUoImluaXQiKTsKdS5zZXRTdHlsZSAmJiB1LnNldFN0eWxlKG8pOwp1LnNldEF0dHJpYnV0ZXMgJiYgdS5zZXRBdHRyaWJ1dGVzKF8pOwoiZnVuY3Rpb24iID09IHR5cGVvZiB1LmFkZENoaWxkcmVuID8gdS5hZGRDaGlsZHJlbihyKSA6IHMuYWRkQ2hpbGRyZW4odSwgcik7CmlmICh1ICE9PSB0aGlzKSB7CnUuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwp1Ll9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiB1Owp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2p4X3VpX2h0bWxfZGl2LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CnBvc2l0aW9uOiAicmVsYXRpdmUiLAp3aWR0aDogIjEwMCUiLApoZWlnaHQ6ICIxMDAlIiwKIi5hdmF0YXIiOiB7CndpZHRoOiAiMTAwJSIsCmhlaWdodDogIjEwMCUiLApib3JkZXI6ICIwcHggbm9uZSIKfQp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX2p4X3VpX2h0bWxfZGl2LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19ncmF2YXRhcl9HcmF2YXRhck9uZSIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gaSgyKSwgXyA9IGkoNCk7Cm4uX18kJF9fanhfdWlfV2lkZ2V0ID0gaSg3KTsKbi5fXyQkX19qeF91aV9MYWJlbCA9IGkoMTkpOwpuLl9fJCRfX2p4X3VpX2h0bWxfYSA9IGkoNDQpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19JY29uRm9udCA9IGkoMTUpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBsLCBkKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIGwsIGQpOwpvID0gbyB8fCBfLmdlbmVyYXRlSUQoKTsKdmFyIHUgPSBzKDIwNyksIGMgPSBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX0xhYmVsLCAiIiwgIiIsIFsgdSBdLCB7CmFkZENsYXNzOiAibGFiZWwiCn0gXSwgWyBuLl9fJCRfX2p4X3VpX2h0bWxfYSwgIm1lc3Nlbmdlcl9pY29uIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19JY29uRm9udCwgIiIsICIiLCBbXSwgewp0aXRsZTogIk1lc3NlbmdlciIsCmljb246ICJtZXNzZW5nZXJfcm91bmQiCn0gXSBdLCB7CmlkOiAibWVzc2VuZ2VyX2ljb24iLAp0YXJnZXQ6ICJfYmxhbmsiLAphZGRDbGFzczogImNoYW5uZWxfaWNvbiBjaGFubmVsX21lc3NlbmdlciIsCnVzZURpc3BsYXk6ICJ0cnVlIgp9IF0sIFsgbi5fXyQkX19qeF91aV9odG1sX2EsICJ0d2l0dGVyX2ljb24iLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0ljb25Gb250LCAiIiwgIiIsIFtdLCB7CnRpdGxlOiAiVHdpdHRlciIsCmljb246ICJ0d2l0dGVyX3JvdW5kIgp9IF0gXSwgewppZDogInR3aXR0ZXJfaWNvbiIsCnRhcmdldDogIl9ibGFuayIsCmFkZENsYXNzOiAiY2hhbm5lbF9pY29uIGNoYW5uZWxfdHdpdHRlciIsCnVzZURpc3BsYXk6ICJ0cnVlIgp9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6d2lkZ2V0cyI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiCn0gXSwgaCA9IGNbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBfLm1hbmdsZUlEcyhvLCBjWzNdKSwgY1s0XSksIGYgPSBoIHx8IHRoaXM7Cl8uc2V0KG8sIGYpOwp2YXIgZyA9IF8uZ2V0KG8gKyAiX19tZXNzZW5nZXJfaWNvbiIpLCBwID0gXy5nZXQobyArICJfX3R3aXR0ZXJfaWNvbiIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgbSA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KHQpIHsKdCA9IG8odCk7CmlmICh0KSB7CnRoaXMuc2V0RGlzcGxheSgiaW5saW5lLWJsb2NrIik7CnRoaXMuZmlyZSgic2hvdyIpOwp9IGVsc2Ugewp0aGlzLnNldERpc3BsYXkoIm5vbmUiKTsKdGhpcy5maXJlKCJoaWRlIik7Cn0KfQpmdW5jdGlvbiBlKHQsIGUsIGksIG4pIHsKaWYgKGkgJiYgbiAmJiByKG4pKSB7CnQuc2V0VmlzaWJsZSghMCk7CnQuc2V0SHJlZihlICsgbik7Cn0gZWxzZSB7CmkgPyBkLmdldFZhbHVlKCkgJiYgdC5zZXRWaXNpYmxlKCEwKSA6IHQuc2V0VmlzaWJsZSghMSk7CnQucmVtb3ZlQXR0cmlidXRlKCJocmVmIik7Cn0KfQpmdW5jdGlvbiBuKHQpIHsKZC5nZXRWYWx1ZSgpIHx8IHRoaXMuZ2V0QXR0cmlidXRlKCJocmVmIikgJiYgdGhpcy5pc1Zpc2libGUoKSAmJiB1LndyaXRlKHsKb2ZmbGluZV9kZWZsZWN0aW9uX2NoYW5uZWwkc3RyaW5nOiB0Cn0pOwp9CnZhciBvID0gaSgxMiksIHIgPSBpKDIyKSwgYSA9IGkoNDApLCBzID0gaSg2KSwgXyA9IHsKTUVTU0VOR0VSOiAiaHR0cHM6Ly9tLm1lLyIsClRXSVRURVI6ICJodHRwczovL3R3aXR0ZXIuY29tL21lc3NhZ2VzL2NvbXBvc2U/cmVjaXBpZW50X2lkPSIKfSwgbCA9IHMucm9vdC4kKCJsaXZlY2hhdCIpLiQoInVpIiksIGQgPSBsLiQoIm1vY2t1cCRib29sIiksIHUgPSBsLiQoImNoYXRfd2luZG93IikuJCgicHJlX2NoYXRfb2ZmbGluZV9mb3JtIik7CmYuZGlzcGxheU1lc3NlbmdlciA9IGEuYmluZChlLCBmLCBnLCBfLk1FU1NFTkdFUik7CmYuZGlzcGxheVR3aXR0ZXIgPSBhLmJpbmQoZSwgZiwgcCwgXy5UV0lUVEVSKTsKIWZ1bmN0aW9uKCkgewpnLm9uKCJjbGljayIsIGEuYmluZChuLCBnLCAiZmFjZWJvb2siKSk7CnAub24oImNsaWNrIiwgYS5iaW5kKG4sIHAsICJ0d2l0dGVyIikpOwpnLnNldFZpc2libGUgPSBhLmJpbmQodCwgZyk7CnAuc2V0VmlzaWJsZSA9IGEuYmluZCh0LCBwKTsKfSgpOwp9KCk7CmZvciAodmFyICQgaW4gbSkgZlskXSA9IG1bJF07CmYuZmlyZSAmJiBmLmZpcmUoImluaXQiKTsKZi5zZXRTdHlsZSAmJiBmLnNldFN0eWxlKHIpOwpmLnNldEF0dHJpYnV0ZXMgJiYgZi5zZXRBdHRyaWJ1dGVzKGQpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBmLmFkZENoaWxkcmVuID8gZi5hZGRDaGlsZHJlbihsKSA6IF8uYWRkQ2hpbGRyZW4oZiwgbCk7CmlmIChmICE9PSB0aGlzKSB7CmYuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpmLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBmOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2p4X3VpX1dpZGdldC5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewpwYWRkaW5nQm90dG9tOiAiMTVweCIsCiImLm1vYmlsZSI6IHsKIi5jaGFubmVsX2ljb24iOiB7CmZvbnRTaXplOiAiMzhweCIsCnBhZGRpbmdSaWdodDogIjEwcHgiCn0KfSwKIi5sYWJlbCI6IHsKZGlzcGxheTogImJsb2NrIiwKbWFyZ2luQm90dG9tOiAiNXB4IiwKZm9udFdlaWdodDogImJvbGQiCn0sCiIuY2hhbm5lbF9pY29uIjogewpkaXNwbGF5OiAiaW5saW5lLWJsb2NrIiwKZm9udFNpemU6ICIyNXB4IiwKcGFkZGluZ1JpZ2h0OiAiNXB4IiwKbWFyZ2luVG9wOiAiNHB4IiwKY3Vyc29yOiAicG9pbnRlciIsCnRleHREZWNvcmF0aW9uOiAibm9uZSIsCm91dGxpbmU6ICJub25lIgp9LAoiLmNoYW5uZWxfbWVzc2VuZ2VyIjogewpjb2xvcjogIiMwMDg0RkYiCn0sCiIuY2hhbm5lbF90d2l0dGVyIjogewpjb2xvcjogIiMxREExRjIiCn0KfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9XaWRnZXQsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX2Zvcm1fT2ZmbGluZURlZmxlY3Rpb24iCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IGkoMiksIF8gPSBpKDQpOwpuLl9fJCRfX2p4X3VpX1dpZGdldCA9IGkoNyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0ljb25Gb250ID0gaSgxNSk7Cm4uX18kJF9fanhfdWlfaHRtbF9zcGFuID0gaSgzMCk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIGwsIGQpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgbCwgZCk7Cm8gPSBvIHx8IF8uZ2VuZXJhdGVJRCgpOwp2YXIgdSA9IHMoMjA2KSwgYyA9IFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0ljb25Gb250LCAiIiwgIiIsIFtdLCB7CnRpdGxlOiAiSGlzdG9yeSIsCmljb246ICJjbG9ja19zdHJva2UiLAphZGRDbGFzczogImNsb2NrIgp9IF0sIFsgbi5fXyQkX19qeF91aV9odG1sX3NwYW4sICIiLCAiIiwgWyB1IF0sIHsKYWRkQ2xhc3M6ICJoaXN0b3J5X2xpbmsiCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIKfSBdLCBoID0gY1swXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIF8ubWFuZ2xlSURzKG8sIGNbM10pLCBjWzRdKSwgZiA9IGggfHwgdGhpczsKXy5zZXQobywgZik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBnID0gZnVuY3Rpb24oKSB7CnZhciB0ID0gaSg5KSwgZSA9IGkoNiksIG4gPSBlLnJvb3QuJCgibGl2ZWNoYXQiKS4kKCJ1aSIpLiQoImNoYXRfd2luZG93IikuJCgicHJlX2NoYXRfb2ZmbGluZV9mb3JtIikuJCgic3RhY2tfaW5kZXgkaW50Iik7CiFmdW5jdGlvbigpIHsKdC5ydGwoZik7CnQubW9iaWxlKGYpOwp0LndpbmRvd1NpemUoZik7CmYub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7Cm4udXBkYXRlKDMpOwp9KTsKfSgpOwp9KCk7CmZvciAodmFyIHAgaW4gZykgZltwXSA9IGdbcF07CmYuZmlyZSAmJiBmLmZpcmUoImluaXQiKTsKZi5zZXRTdHlsZSAmJiBmLnNldFN0eWxlKHIpOwpmLnNldEF0dHJpYnV0ZXMgJiYgZi5zZXRBdHRyaWJ1dGVzKGQpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBmLmFkZENoaWxkcmVuID8gZi5hZGRDaGlsZHJlbihsKSA6IF8uYWRkQ2hpbGRyZW4oZiwgbCk7CmlmIChmICE9PSB0aGlzKSB7CmYuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpmLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBmOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX2p4X3VpX1dpZGdldC5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewpwb3NpdGlvbjogInJlbGF0aXZlIiwKdGV4dEFsaWduOiAiY2VudGVyIiwKcGFkZGluZ0JvdHRvbTogIjEwcHgiLAoiYm9yZGVyLWJvdHRvbSI6ICIxcHggc29saWQgJCRib3JkZXJDb2xvciIsCmN1cnNvcjogInBvaW50ZXIiLApjb2xvcjogIiQkaGlzdG9yeUNsb2NrQ29sb3IiLAptYXJnaW5Cb3R0b206ICIxNXB4IiwKIiYuZGVza3RvcCI6IHsKIiYubWVkaXVtLCAmLmxhcmdlIjogewptYXJnaW5Cb3R0b206ICI1cHgiLAp0b3A6ICItMTBweCIKfQp9LAoiJjpob3ZlciI6IHsKY29sb3I6ICIkJGhpc3RvcnlDbG9ja0hvdmVyQ29sb3IiCn0KfSwKIi5jbG9jayI6IHsKcG9zaXRpb246ICJyZWxhdGl2ZSIsCmRpc3BsYXk6ICJpbmxpbmUiLAp0b3A6ICI0cHgiLApmb250U2l6ZTogIjE2cHgiLApwYWRkaW5nUmlnaHQ6ICI4cHgiCn0sCiImLnJ0bCAuY2xvY2siOiB7CnBhZGRpbmdSaWdodDogMCwKcGFkZGluZ0xlZnQ6ICI4cHgiCn0sCiIuaGlzdG9yeV9saW5rIjogewpjb2xvcjogIiQkaGlzdG9yeUNsb2NrSG92ZXJDb2xvciIsCnRleHREZWNvcmF0aW9uOiAidW5kZXJsaW5lIgp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX2p4X3VpX1dpZGdldCwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19wcmVDaGF0T2ZmbGluZUZvcm1fUGFzdEhpc3RvcnlOb3RpY2UiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IGkoMiksIF8gPSBpKDQpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93Q29udGVudCA9IGkoMjcpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Db25uQXdhcmVGb3JtID0gaSgxMTApOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19TY3JvbGxhYmxlRnJhbWUgPSBpKDI5KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19wcmVDaGF0T2ZmbGluZUZvcm1fUGFzdEhpc3RvcnlOb3RpY2UgPSBpKDM0Nik7Cm4uX18kJF9fanhfdWlfV2lkZ2V0ID0gaSg3KTsKbi5fXyQkX19qeF91aV9odG1sX2RpdiA9IGkoMTMpOwpuLl9fJCRfX2p4X3VpX2h0bWxfYSA9IGkoNDQpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19mb3JtX09mZmxpbmVEZWZsZWN0aW9uID0gaSgzNDUpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19mb3JtX1Byb2ZpbGUgPSBpKDEwOSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0Zvcm0gPSBpKDEwNyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0JvdHRvbSA9IGkoMzIpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Db25uQXdhcmVTdWJtaXQgPSBpKDc3KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQnV0dG9uID0gaSgxNyk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIGwsIGQpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgbCwgZCk7Cm8gPSBvIHx8IF8uZ2VuZXJhdGVJRCgpOwp2YXIgdSA9IHMoMTY1KSwgYyA9IHMoMTY2KSwgaCA9IHMoMTY3KSwgZiA9IHMoMTY4KSwgZyA9IFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQ2hhdFdpbmRvd0NvbnRlbnQsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0Nvbm5Bd2FyZUZvcm0sICJmb3JtX2NvbnRhaW5lciIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfU2Nyb2xsYWJsZUZyYW1lLCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X3ByZUNoYXRPZmZsaW5lRm9ybV9QYXN0SGlzdG9yeU5vdGljZSwgImhpc3Rvcnlfbm90aWNlIiwgIiIsIFtdLCB7CmlkOiAiaGlzdG9yeV9ub3RpY2UiLAp1c2VEaXNwbGF5OiAidHJ1ZSIsCiJkYXRhLXRlc3QtaWQiOiAicGFzdEhpc3RvcnlOb3RpY2UiCn0gXSwgWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgInByZV9jaGF0X21lc3NhZ2UiLCAiIiwgW10sIHsKaWQ6ICJwcmVfY2hhdF9tZXNzYWdlIiwKYWRkQ2xhc3M6ICJncmVldGluZ3NfbWVzc2FnZSIKfSBdLCBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAib2ZmbGluZV9tZXNzYWdlIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgIm9mZmxpbmVfbWVzc2FnZV9tc2ciLCAiIiwgW10sIHsKaWQ6ICJvZmZsaW5lX21lc3NhZ2VfbXNnIgp9IF0sIFsgbi5fXyQkX19qeF91aV9odG1sX2RpdiwgInVwZ3JhZGVfbGluayIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9odG1sX2EsICIiLCAiIiwgWyBjIF0sIHsKaHJlZjogdSwKdGFyZ2V0OiAiX2JsYW5rIiwKYWRkQ2xhc3M6ICJsaW5rIgp9IF0gXSwgewppZDogInVwZ3JhZGVfbGluayIsCmFkZENsYXNzOiAidXBncmFkZV9saW5rIiwKdmlzaWJsZTogIm5vbmUiCn0gXSBdLCB7CmlkOiAib2ZmbGluZV9tZXNzYWdlIiwKYWRkQ2xhc3M6ICJncmVldGluZ3NfbWVzc2FnZSIKfSBdLCBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAib2ZmbGluZV9tZXNzYWdlX2Rpc2FibGVkIiwgIiIsIFtdLCB7CmlkOiAib2ZmbGluZV9tZXNzYWdlX2Rpc2FibGVkIiwKYWRkQ2xhc3M6ICJncmVldGluZ3NfbWVzc2FnZSIKfSBdLCBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAib2ZmbGluZV9vcGVyYXRpbmdfaG91cnNfbGluayIsICIiLCBbIGggXSwgewppZDogIm9mZmxpbmVfb3BlcmF0aW5nX2hvdXJzX2xpbmsiLAphZGRDbGFzczogImxpbmsiLAp2aXNpYmxlOiAibm9uZSIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX2Zvcm1fT2ZmbGluZURlZmxlY3Rpb24sICJvZmZsaW5lX2RlZmxlY3Rpb24iLCAiIiwgW10sIHsKaWQ6ICJvZmZsaW5lX2RlZmxlY3Rpb24iCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19mb3JtX1Byb2ZpbGUsICJwcm9maWxlIiwgIiIsIFtdLCB7CmlkOiAicHJvZmlsZSIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0Zvcm0sICJmb3JtIiwgIiIsIFtdLCB7CmlkOiAiZm9ybSIKfSBdIF0sIHt9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQm90dG9tLCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Db25uQXdhcmVTdWJtaXQsICJzdWJtaXQiLCAiIiwgW10sIHsKaWQ6ICJzdWJtaXQiLAphZGRDbGFzczogInN1Ym1pdCIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0J1dHRvbiwgImJhY2siLCAiIiwgWyBmIF0sIHsKaWQ6ICJiYWNrIiwKYWRkQ2xhc3M6ICJiYWNrIHNlY29uZGFyeSIKfSBdIF0sIHt9IF0gXSwgewppZDogImZvcm1fY29udGFpbmVyIiwKYWRkQ2xhc3M6ICJmb3JtX2NvbnRhaW5lciIsCm5vVmFsaWRhdGU6ICJ0cnVlIgp9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6d2lkZ2V0cyI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiLAoieG1sbnM6cHJlQ2hhdE9mZmxpbmVGb3JtIjogIm1lc2hpbS53aWRnZXQuY29tcG9uZW50cy5jaGF0V2luZG93LnByZUNoYXRPZmZsaW5lRm9ybSIsCmFic1BhZGRpbmdCb3R0b206ICJib3R0b21IZWlnaHQiCn0gXSwgcCA9IGdbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBfLm1hbmdsZUlEcyhvLCBnWzNdKSwgZ1s0XSksIG0gPSBwIHx8IHRoaXM7Cl8uc2V0KG8sIG0pOwp2YXIgJCA9IF8uZ2V0KG8gKyAiX19mb3JtX2NvbnRhaW5lciIpLCBiID0gXy5nZXQobyArICJfX2hpc3Rvcnlfbm90aWNlIiksIHcgPSBfLmdldChvICsgIl9fcHJlX2NoYXRfbWVzc2FnZSIpLCB4ID0gXy5nZXQobyArICJfX29mZmxpbmVfbWVzc2FnZSIpLCB2ID0gXy5nZXQobyArICJfX29mZmxpbmVfbWVzc2FnZV9tc2ciKSwgeSA9IF8uZ2V0KG8gKyAiX191cGdyYWRlX2xpbmsiKSwgaiA9IF8uZ2V0KG8gKyAiX19vZmZsaW5lX21lc3NhZ2VfZGlzYWJsZWQiKSwgQyA9IF8uZ2V0KG8gKyAiX19vZmZsaW5lX29wZXJhdGluZ19ob3Vyc19saW5rIiksIFMgPSBfLmdldChvICsgIl9fb2ZmbGluZV9kZWZsZWN0aW9uIiksIEEgPSBfLmdldChvICsgIl9fcHJvZmlsZSIpLCBrID0gXy5nZXQobyArICJfX2Zvcm0iKSwgSSA9IF8uZ2V0KG8gKyAiX19zdWJtaXQiKSwgVCA9IF8uZ2V0KG8gKyAiX19iYWNrIik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBOID0gZnVuY3Rpb24oKSB7CnZhciB0LCBlLCBuLCBvLCByLCBhLCBzLCBfLCBsLCBkLCB1LCBjLCBoID0gaSgxMiksIGYgPSBpKDYpLCBnID0gaSg1MCksIHAgPSBpKDI0KSwgTiA9IGkoMTApLCBCID0gaSgxNTQpLCBEID0gaSgxNTMpLCBFID0gaSgxNTIpLCBPID0gaSgxNTApLCBMID0gewpPRkZMSU5FX0RJU0FCTEVEOiAiT0ZGTElORV9ESVNBQkxFRCIsCk9GRkxJTkU6ICJPRkZMSU5FIiwKT05MSU5FOiAiT05MSU5FIiwKT05MSU5FX09GRkxJTkU6ICJPTkxJTkVfT0ZGTElORSIsCk9OTElORV9DSEFUVElORzogIk9OTElORV9DSEFUVElORyIKfSwgVyA9IHsKREVQQVJUTUVOVDogImRlcGFydG1lbnRfaWQiLApNRVNTQUdFOiAibWVzc2FnZSIKfSwgUCA9IFsgRCwgRSwgTyBdLCBSID0gZi5yb290LiQoImxpdmVjaGF0IiksIEYgPSBSLiQoInVpIikuJCgiY2hhdF93aW5kb3ciKS4kKCJjaGF0X3BhbmVsIikuJCgidGV4dGFyZWEiKS4kKCJ2YWx1ZSRzdHJpbmciKSwgTSA9IFIuJCgidWkiKS4kKCJjaGF0X3dpbmRvdyIpLiQoInByZV9jaGF0X2Zvcm0iKSwgViA9IE0uJCgiZm9ybV9wb3B1bGF0ZSRib29sIiksIEggPSBNLiQoInN1Ym1pdHRlZCRib29sIiksIHEgPSBSLiQoInNldHRpbmdzIikuJCgiZm9ybXMiKS4kKCJwcmVfY2hhdF9mb3JtIiksIHogPSBxLiQoImZvcm0iKSwgVSA9IHEuJCgiZm9ybV9zdWJtaXR0ZWQiKSwgRyA9IHEuJCgicHJvZmlsZV9yZXF1aXJlZCRib29sIiksIFkgPSBxLiQoIm1lc3NhZ2Ukc3RyaW5nIiksIFggPSB6LiQoIjIiKS4kKCJyZXF1aXJlZCRib29sIiksIFogPSB6LiQoIjMiKS4kKCJyZXF1aXJlZCRib29sIiksIFEgPSBVLiQoIjIiKS4kKCJ2YWx1ZSRzdHJpbmciKSwgSyA9IFUuJCgiMyIpLiQoInZhbHVlJHN0cmluZyIpLCBKID0gei4kKCI0IikuJCgicmVxdWlyZWQkYm9vbCIpLCB0dCA9IFIuJCgic2V0dGluZ3MiKS4kKCJmb3JtcyIpLiQoIm9mZmxpbmVfZm9ybSIpLCBldCA9IHR0LiQoImZvcm1fc3VibWl0dGVkIiksIGl0ID0gdHQuJCgibWVzc2FnZSRzdHJpbmciKSwgbnQgPSB0dC4kKCJtZXNzYWdlX2Rpc2FibGVkJHN0cmluZyIpLCBvdCA9IHR0LiQoImZvcm0iKSwgcnQgPSBvdC4kKCIyIiksIGF0ID0gb3QuJCgiMyIpLiQoInJlcXVpcmVkJGJvb2wiKSwgc3QgPSB0dC4kKCJjaGFubmVscyIpLCBfdCA9IFIuJCgidWkiKS4kKCJjaGF0X3dpbmRvdyIpLiQoIm9mZmxpbmVfZm9ybSIpLCBsdCA9IF90LiQoImZvcm1fcG9wdWxhdGUkYm9vbCIpLCBkdCA9IF90LiQoInVwZ3JhZGVfbGlua19kaXNwbGF5JGJvb2wiKSwgdXQgPSBSLiQoInVpIikuJCgiY2hhdF93aW5kb3ciKS4kKCJwcmVfY2hhdF9vZmZsaW5lX2Zvcm0iKSwgY3QgPSB1dC4kKCJzdGFja19pbmRleCRpbnQiKSwgaHQgPSBSLiQoImRlcGFydG1lbnRzIiksIGZ0ID0gUi4kKCJhY2NvdW50IikuJCgic3RhdHVzJHN0cmluZyIpLCBndCA9IFIuJCgiY2hhbm5lbCIpLiQoImNoYXR0aW5nJGJvb2wiKSwgcHQgPSBSLiQoInVpIikuJCgiY2hhdF93aW5kb3ciKS4kKCJtYWluX3N0YWNrX25hbWUkc3RyaW5nIiksIG10ID0gUi4kKCJzZXR0aW5ncyIpLiQoImNoYXRfYnV0dG9uIikuJCgiaGlkZV93aGVuX29mZmxpbmUkYm9vbCIpLCAkdCA9IFIuJCgic2V0dGluZ3MiKS4kKCJvcGVyYXRpbmdfaG91cnMiKS4kKCJlbmFibGVkJGJvb2wiKSwgYnQgPSBSLiQoInNldHRpbmdzIikuJCgib3BlcmF0aW5nX2hvdXJzIikuJCgiZGlzcGxheV9ub3RpY2UkYm9vbCIpLCB3dCA9IFIuJCgic2V0dGluZ3MiKS4kKCJsb2dpbiIpLiQoInJlc3RyaWN0X3Byb2ZpbGUkYm9vbCIpLCB4dCA9IFIuJCgicHJvZmlsZSIpLiQoImRlcGFydG1lbnRfaWQkaW50IiksIHZ0ID0gUi4kKCJwcm9maWxlIikuJCgiaGFzX2hpc3RvcnkkYm9vbCIpLCB5dCA9IFIuJCgidWkiKS4kKCJwb3BvdXQkYm9vbCIpLmdldFZhbHVlKCk7CiFmdW5jdGlvbigpIHsKZnVuY3Rpb24gaSh0LCBlLCBpKSB7CnQuZW1wdHkoKTsKdC5zZXRUZXh0KCIiKTsKIm9iamVjdCIgPT0gdHlwZW9mIGUgJiYgZS5vblRyYW5zbGF0ZSA/IHQuc2V0VGV4dChlKSA6IEIuYXBwZW5kVG8odCwgZSwgaSk7Cn0KZnVuY3Rpb24gRCgpIHsKdmFyIHQgPSB6LiQoIjIiKS4kKCJuYW1lJHN0cmluZyIpOwp0LmdldFZhbHVlKCkgIT09IFcuREVQQVJUTUVOVCAmJiB0LnVwZGF0ZShXLkRFUEFSVE1FTlQpOwp2YXIgZSA9IHouJCgiMiIpLiQoImxhYmVsJHN0cmluZyIpOwp6LiQoIjIiKS4kKCJzZW50ZW5jZV9jYXNlZCRib29sIikuZ2V0VmFsdWUoKSB8fCAiQ2hvb3NlIGEgRGVwYXJ0bWVudCIgIT09IGUuZ2V0VmFsdWUoKSB8fCBlLnVwZGF0ZSgiQ2hvb3NlIGEgZGVwYXJ0bWVudCIpOwp9CmZ1bmN0aW9uIEUoKSB7CnZhciB0ID0gay5nZXRGaWVsZChXLkRFUEFSVE1FTlQpOwppZiAodCkgewp2YXIgZSwgaSA9IHQuaW5wdXQuZ2V0VmFsdWUoKTsKZSA9ICFpIHx8ICJvZmZsaW5lIiAhPSBodC4kKGkpLiQoInN0YXR1cyRzdHJpbmciKS5nZXRWYWx1ZSgpOwpDLnNldERpc3BsYXkoUigpID8gIiIgOiAibm9uZSIpOwppZiAoZSAhPSB1KSB7CnUgPSBlOwpPKCk7Cn0KfQp9CmZ1bmN0aW9uIE8oKSB7CnZhciBpID0gcSgpLCBhID0gay5nZXRGaWVsZChXLkRFUEFSVE1FTlQpLCBzID0gay5nZXRGaWVsZChXLk1FU1NBR0UpOwppZiAoaSA9PSBMLk9GRkxJTkVfRElTQUJMRUQpIHsKai5zZXREaXNwbGF5KG8gPyAiIiA6ICJub25lIik7CkEuc2V0RGlzcGxheSgibm9uZSIpOwprLnNldERpc3BsYXkoIm5vbmUiKTsKUy5zZXREaXNwbGF5KCJub25lIik7Cn0gZWxzZSB7Cmouc2V0RGlzcGxheSgibm9uZSIpOwpBLnNldERpc3BsYXkoIiIpOwprLnNldERpc3BsYXkoIiIpOwp9CnN3aXRjaCAoaSkgewpjYXNlIEwuT0ZGTElORV9ESVNBQkxFRDoKdy5zZXREaXNwbGF5KCJub25lIik7Cnguc2V0RGlzcGxheSgibm9uZSIpOwpTLnNldERpc3BsYXkoIm5vbmUiKTsKSS5zZXRWYWx1ZShOLnByZV9jaGF0X29mZmxpbmVfZm9ybS5idXR0b25fZGlzYWJsZWQpOwp0dCghMSk7CmJyZWFrOwoKY2FzZSBMLk9GRkxJTkU6Cncuc2V0RGlzcGxheSgibm9uZSIpOwp4LnNldERpc3BsYXkobiB8fCBSKCkgPyAiIiA6ICJub25lIik7CkEuc2V0UmVxdWlyZWQoITApOwpBLnNldFBob25lUmVxdWlyZWQocik7CmlmIChhKSB7CmEuc2V0UmVxdWlyZWQoITEpOwphLmlucHV0ICYmIGEuaW5wdXQuc2V0SGlkZSghMCk7Cn0KcyAmJiBzLnNldFJlcXVpcmVkKCEwKTsKSS5zZXRWYWx1ZShOLnByZV9jaGF0X29mZmxpbmVfZm9ybS5idXR0b25fbWVzc2FnZSk7CnR0KCExKTsKdmFyIGwgPSBzdC5nZXRWYWx1ZSgpOwppZiAobCkgewp2YXIgZCA9IGwuZmFjZWJvb2ssIHUgPSBsLnR3aXR0ZXI7CmlmIChbIGQsIHUgXS5zb21lKGZ1bmN0aW9uKHQpIHsKcmV0dXJuIHQuYWxsb3dlZCRib29sOwp9KSkgewpTLnNldERpc3BsYXkoIiIpOwpTLmRpc3BsYXlNZXNzZW5nZXIoZC5hbGxvd2VkJGJvb2wsIGQucGFnZV9pZCRzdHJpbmcpOwpTLmRpc3BsYXlUd2l0dGVyKHUuYWxsb3dlZCRib29sLCB1LnBhZ2VfaWQkc3RyaW5nKTsKfSBlbHNlIFMuc2V0RGlzcGxheSgibm9uZSIpOwp9CmJyZWFrOwoKY2FzZSBMLk9OTElORToKdy5zZXREaXNwbGF5KHQgPyAiIiA6ICJub25lIik7Cnguc2V0RGlzcGxheSgibm9uZSIpOwpTLnNldERpc3BsYXkoIm5vbmUiKTsKQS5zZXRSZXF1aXJlZChHLmdldFZhbHVlKCkpOwpBLnNldFBob25lUmVxdWlyZWQoZSk7CmlmIChhKSB7CmEuc2V0UmVxdWlyZWQoWC5nZXRWYWx1ZSgpKTsKYS5pbnB1dCAmJiBhLmlucHV0LnNldEhpZGUoITEpOwp9CnMgJiYgcy5zZXRSZXF1aXJlZChaLmdldFZhbHVlKCkpOwpJLnNldFZhbHVlKE4ucHJlX2NoYXRfb2ZmbGluZV9mb3JtLmJ1dHRvbl9jaGF0KTsKdHQoITEpOwpicmVhazsKCmNhc2UgTC5PTkxJTkVfT0ZGTElORToKdy5zZXREaXNwbGF5KHQgPyAiIiA6ICJub25lIik7Cnguc2V0RGlzcGxheSgibm9uZSIpOwpTLnNldERpc3BsYXkoIm5vbmUiKTsKQS5zZXRSZXF1aXJlZCghMCk7CkEuc2V0UGhvbmVSZXF1aXJlZChyKTsKaWYgKGEpIHsKYS5zZXRSZXF1aXJlZChYLmdldFZhbHVlKCkpOwphLmlucHV0ICYmIGEuaW5wdXQuc2V0SGlkZSghMSk7Cn0KcyAmJiBzLnNldFJlcXVpcmVkKCEwKTsKSS5zZXRWYWx1ZShOLnByZV9jaGF0X29mZmxpbmVfZm9ybS5idXR0b25fbWVzc2FnZSk7CnR0KCExKTsKYnJlYWs7CgpjYXNlIEwuT05MSU5FX0NIQVRUSU5HOgp3LnNldERpc3BsYXkoIm5vbmUiKTsKeC5zZXREaXNwbGF5KG4gfHwgUigpID8gIiIgOiAibm9uZSIpOwpTLnNldERpc3BsYXkoIm5vbmUiKTsKQS5zZXRSZXF1aXJlZCghMCk7CkEuc2V0UGhvbmVSZXF1aXJlZChyKTsKaWYgKGEpIHsKYS5zZXRSZXF1aXJlZCghMSk7CmEuaW5wdXQgJiYgYS5pbnB1dC5zZXRIaWRlKCEwKTsKfQpzICYmIHMuc2V0UmVxdWlyZWQoITApOwpJLnNldFZhbHVlKE4ucHJlX2NoYXRfb2ZmbGluZV9mb3JtLmJ1dHRvbl9tZXNzYWdlKTsKdHQoITApOwp9CkMuc2V0RGlzcGxheShSKCkgPyAiIiA6ICJub25lIik7CmlmIChfKSB7CkEuc2V0RGlzcGxheSgibm9uZSIpOwpBLnNldFJlcXVpcmVkKCExKTsKfQp9CmZ1bmN0aW9uIFIoKSB7CnZhciB0LCBlID0gcSgpOwppZiAoKGUgPT0gTC5PRkZMSU5FIHx8IGUgPT0gTC5PTkxJTkVfQ0hBVFRJTkcpICYmIGEgJiYgcykgcmV0dXJuICEwOwp2YXIgaSA9IGh0LmdldFZhbHVlKCk7CmZvciAodmFyIG4gaW4gaSkgaWYgKGkuaGFzT3duUHJvcGVydHkobikpIHsKdCA9IGlbbl0uc3RhdHVzJHN0cmluZyAmJiAib2ZmbGluZSIgPT09IGlbbl0uc3RhdHVzJHN0cmluZzsKaWYgKGEgJiYgcyAmJiB0KSByZXR1cm4gITA7Cn0KcmV0dXJuICExOwp9CmZ1bmN0aW9uIE0oKSB7CnJ0LnVwZGF0ZSh7CnZhbHVlX3VzZXIkc3RyaW5nOiBrLmdldElucHV0KCJtZXNzYWdlIikuZ2V0VmFsdWUoKQp9KTsKfQpmdW5jdGlvbiBxKCkgewpyZXR1cm4gImJhbm5lZCIgPT0gbCA/IEwuT0ZGTElORV9ESVNBQkxFRCA6ICJvZmZsaW5lIiA9PSBsID8gYyA/IEwuT0ZGTElORV9ESVNBQkxFRCA6IEwuT0ZGTElORSA6IGQgPyBMLk9OTElORV9DSEFUVElORyA6IHUgPyBMLk9OTElORSA6IEwuT05MSU5FX09GRkxJTkU7Cn0KZnVuY3Rpb24gdHQodCkgewppZiAodCkgewpJLnJlbW92ZUNsYXNzKCJ3aWRlIik7ClQuc2V0RGlzcGxheSgiIik7Cn0gZWxzZSB7CkkuYWRkQ2xhc3MoIndpZGUiKTsKVC5zZXREaXNwbGF5KCJub25lIik7Cn0KfQptLmF1dG9iaW5kKHosICJ2YWx1ZSIsIEQpOwprLnNldERhdGFOb2RlKHopOwptLmF1dG9iaW5kKHZ0LCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CmIuc2V0VmlzaWJsZSh0KTsKfSk7Cm0uYXV0b2JpbmQoWSwgInZhbHVlIiwgZnVuY3Rpb24oZSkgewp0ID0gZTsKaSh3LCBOLmdldChZKSwgUCk7Ck8oKTsKfSk7Cm0uYXV0b2JpbmQoaXQsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKbiA9IHQ7CmkodiwgTi5nZXQoaXQpLCBQKTsKTygpOwp9KTsKbS5hdXRvYmluZChudCwgInZhbHVlIiwgZnVuY3Rpb24odCkgewpvID0gdDsKaShqLCBOLmdldChudCksIFApOwpPKCk7Cn0pOwptLmF1dG9iaW5kKFYsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKaCh0KSAmJiBrLnBvcHVsYXRlU2VsZigpOwp9KTsKbS5hdXRvYmluZChsdCwgInZhbHVlIiwgZnVuY3Rpb24odCkgewpoKHQpICYmIGsucG9wdWxhdGVTZWxmKCk7Cn0pOwptLmF1dG9iaW5kKGd0LCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CmlmICh0ICE9IGQpIHsKZCA9IHQ7Ck8oKTsKfQp9KTsKbS5hdXRvYmluZChmdCwgInZhbHVlIiwgZnVuY3Rpb24odCkgewppZiAodCAhPSBsKSB7CmwgPSB0OwpPKCk7Cn0KfSk7Cm0uYXV0b2JpbmQobXQsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKaWYgKHQgIT0gYykgewpjID0gdDsKTygpOwp9Cn0pOwptLmF1dG9iaW5kKEosICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKZSA9IHQ7Ck8oKTsKfSk7Cm0uYXV0b2JpbmQoYXQsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKciA9IHQ7Ck8oKTsKfSk7Cm0uYXV0b2JpbmQoc3QsICJ2YWx1ZSIsIE8pOwptLmF1dG9iaW5kKCR0LCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CmEgPSB0OwpPKCk7Cn0pOwptLmF1dG9iaW5kKGJ0LCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CnMgPSB0OwpPKCk7Cn0pOwptLmF1dG9iaW5kKHd0LCAidmFsdWUiLCBmdW5jdGlvbih0KSB7Cl8gPSB0OwpPKCk7Cn0pOwptLmF1dG9iaW5kKGh0LCAidmFsdWUiLCBFKTsKay5vbigiY2hhbmdlIiwgRSk7Cm0uYXV0b2JpbmQoeHQsICJ2YWx1ZSIsIEUpOwokLm9uQ29ubmVjdGVkQW5kU3VibWl0KGZ1bmN0aW9uKHQpIHsKdC5wcmV2ZW50RGVmYXVsdCgpOwp2YXIgZSwgaSwgbiA9IHEoKTsKaWYgKG4gPT0gTC5PRkZMSU5FX0RJU0FCTEVEIHx8IG0udmFsaWRhdGUoITApKSB7CnZhciBvLCByID0gay5nZXRGaWVsZChXLkRFUEFSVE1FTlQpOwpyLmlucHV0ICYmIChvID0gaHQuJChyLmlucHV0LmdldFZhbHVlKCkpLmdldFZhbHVlKCJuYW1lJHN0cmluZyIpIHx8ICIiKTsKQS5zdWJtaXQoKTsKc3dpdGNoIChuKSB7CmNhc2UgTC5PRkZMSU5FX0RJU0FCTEVEOgp5dCA/IHdpbmRvdy5jbG9zZSgpIDogcC51c2VySGlkZVdpbmRvdygpOwpicmVhazsKCmNhc2UgTC5PRkZMSU5FOgpnLnRyYWNrRXZlbnQoIk9mZmxpbmUgTWVzc2FnZSBTZW50Iik7Cmsuc3VibWl0KGV0LCBBLCAhMSwgImlzX29mZmxpbmVfZm9ybSIpOwpNKCk7CmN0LnVwZGF0ZSgxKTsKYnJlYWs7CgpjYXNlIEwuT05MSU5FOgpnLnRyYWNrRXZlbnQoIkNoYXQgUmVxdWVzdCBGb3JtIFN1Ym1pdHRlZCIsIG8pOwprLnN1Ym1pdChVLCBBKTsKRi51cGRhdGUoIiIpOwppID0gewptc2c6IEsuZ2V0VmFsdWUoKSB8fCAiIgp9OwppZiAoci5pbnB1dCAmJiAhci5pbnB1dC5pc0hpZGRlbigpKSB7CmUgPSBwYXJzZUludChRLmdldFZhbHVlKCksIDEwKSB8fCAwOwp4dC5wYXJlbnROb2RlLndyaXRlKHsKZGVwYXJ0bWVudF9pZCRpbnQ6IGUKfSk7CmkuZGVwYXJ0bWVudCA9IGU7Cn0KIiIgIT09IGkubXNnLnRyaW0oKSAmJiBmLmxpdmVjaGF0LnNlbmRDaGF0TXNnKGkpOwpILnVwZGF0ZSghMCk7CnB0LnVwZGF0ZSgiY2hhdF9wYW5lbCIpOwpicmVhazsKCmNhc2UgTC5PTkxJTkVfT0ZGTElORToKZy50cmFja0V2ZW50KCJPZmZsaW5lIE1lc3NhZ2UgU2VudCIsIG8pOwprLnN1Ym1pdChldCwgQSk7Ck0oKTsKY3QudXBkYXRlKDEpOwpicmVhazsKCmNhc2UgTC5PTkxJTkVfQ0hBVFRJTkc6Cmsuc3VibWl0KGV0LCBBKTsKcHQudXBkYXRlKCJjaGF0X3BhbmVsIik7Cn0Kay5yZXNldCgpOwpFKCk7Cn0KfSk7ClQub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CnB0LnVwZGF0ZSgiY2hhdF9wYW5lbCIpOwp9KTsKQy5vbigiY2xpY2siLCBmdW5jdGlvbih0KSB7CnQgJiYgdC50YXJnZXQgJiYgdC50YXJnZXQuanhfd3JhcHBlciAmJiB0LnRhcmdldC5qeF93cmFwcGVyLmhhc0NsYXNzKCJsaW5rIikgJiYgY3QudXBkYXRlKDIpOwp9KTsKbS5hdXRvYmluZChkdCwgInZhbHVlIiwgZnVuY3Rpb24odCkgewp5LnNldERpc3BsYXkodCA/ICIiIDogIm5vbmUiKTsKfSk7Cmsub24oImlucHV0IiwgZnVuY3Rpb24odCkgewoibWVzc2FnZSIgPT09IHQudGFyZ2V0Lm5hbWUgJiYgRi51cGRhdGUodC50YXJnZXQudmFsdWUudHJpbSgpKTsKfSk7Cn0oKTsKfSgpOwpmb3IgKHZhciBCIGluIE4pIG1bQl0gPSBOW0JdOwptLmZpcmUgJiYgbS5maXJlKCJpbml0Iik7Cm0uc2V0U3R5bGUgJiYgbS5zZXRTdHlsZShyKTsKbS5zZXRBdHRyaWJ1dGVzICYmIG0uc2V0QXR0cmlidXRlcyhkKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgbS5hZGRDaGlsZHJlbiA/IG0uYWRkQ2hpbGRyZW4obCkgOiBfLmFkZENoaWxkcmVuKG0sIGwpOwppZiAobSAhPT0gdGhpcykgewptLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKbS5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gbTsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQ2hhdFdpbmRvd0NvbnRlbnQucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIi5ncmVldGluZ3NfbWVzc2FnZSI6IHsKd2hpdGVTcGFjZTogInByZS13cmFwIiwKd29yZFdyYXA6ICJicmVhay13b3JkIgp9LAoiLmdyZWV0aW5nc19tZXNzYWdlLCAuZ2VuZXJhdGVkX2Zvcm0iOiB7Cm1hcmdpbkJvdHRvbTogIiQkbWFyZ2luTCIKfSwKIi5mb3JtX2NvbnRhaW5lciI6IHsKIndpZHRoLCBoZWlnaHQiOiAiMTAwJSIKfSwKIi51cGdyYWRlX2xpbmsiOiB7Cm1hcmdpblRvcDogIjVweCIKfSwKIi5saW5rIjogewpjdXJzb3I6ICJwb2ludGVyIiwKdGV4dERlY29yYXRpb246ICJ1bmRlcmxpbmUiLAptYXJnaW5Cb3R0b206ICIxNXB4Igp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19DaGF0V2luZG93Q29udGVudCwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19wcmVDaGF0T2ZmbGluZUZvcm1fRm9ybSIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX2p4X3VpX1dpZGdldCA9IGkoNyk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIGksIG8sIHIsIF8pIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgaSwgbywgciwgXyk7CmkgPSBpIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgbCA9IFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICIiLCAiIiwgW10sIHsKInhtbG5zOnVpIjogImp4LnVpIgp9IF0sIGQgPSBsWzBdLmNhbGwodGhpcywgZSwgaSwgbnVsbCwgcy5tYW5nbGVJRHMoaSwgbFszXSksIGxbNF0pLCB1ID0gZCB8fCB0aGlzOwpzLnNldChpLCB1KTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KZm9yICh2YXIgYyBpbiB2b2lkIDApIHVbY10gPSAodm9pZCAwKVtjXTsKdS5maXJlICYmIHUuZmlyZSgiaW5pdCIpOwp1LnNldFN0eWxlICYmIHUuc2V0U3R5bGUobyk7CnUuc2V0QXR0cmlidXRlcyAmJiB1LnNldEF0dHJpYnV0ZXMoXyk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHUuYWRkQ2hpbGRyZW4gPyB1LmFkZENoaWxkcmVuKHIpIDogcy5hZGRDaGlsZHJlbih1LCByKTsKaWYgKHUgIT09IHRoaXMpIHsKdS5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CnUuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIHU7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfV2lkZ2V0LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CnBvc2l0aW9uOiAicmVsYXRpdmUiLApkaXNwbGF5OiAiaW5saW5lLWJsb2NrIiwKIndpZHRoLCBoZWlnaHQiOiAiNnB4IiwKYmFja2dyb3VuZDogIiQkdG9hc3RDb2xvciIsCmJvcmRlclJhZGl1czogIjUwJSIsCm9wYWNpdHk6ICIwLjUiLAp0cmFuc2l0aW9uOiAiYWxsIDAuM3MiLAoiJi5kYXJrIjogewpvcGFjaXR5OiAiMSIKfQp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX2p4X3VpX1dpZGdldCwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfdG9hc3RfZGlzY29ubmVjdGVkX2ltYWdlX0RvdCIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX2p4X3VpX1dpZGdldCA9IGkoNyk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIF8sIGwpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgXywgbCk7Cm8gPSBvIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgZCA9IFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICIiLCAiIiwgW10sIHsKInhtbG5zOnVpIjogImp4LnVpIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIGggPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCgpIHsKbFtfXSAmJiBsW19dLnJlbW92ZUNsYXNzKG8pOwpfKys7Cl8gPj0gciArIHMgJiYgKF8gPSBhKTsKbFtfXSAmJiBsW19dLmFkZENsYXNzKG8pOwp9CmZvciAodmFyIGUsIG4gPSBpKDM0OCksIG8gPSAiZGFyayIsIHIgPSAzLCBhID0gLTEsIHMgPSAyLCBfID0gYSwgbCA9IFtdLCBkID0gMDsgZCA8IHI7IGQrKykgewpsW2RdID0gbmV3IG4oYyk7CmxbZF0uYWRkQ2xhc3MoImRvdCIpOwp9CmMucGxheSA9IGZ1bmN0aW9uKCkgewppZiAoZSkgcmV0dXJuIGM7CnQoKTsKZSA9IHdpbmRvdy5zZXRJbnRlcnZhbCh0LCAxMDApOwpyZXR1cm4gYzsKfTsKYy5zdG9wID0gZnVuY3Rpb24oKSB7CmlmICghZSkgcmV0dXJuIGM7CndpbmRvdy5jbGVhckludGVydmFsKGUpOwplID0gbnVsbDsKcmV0dXJuIGM7Cn07CmMucmVzZXQgPSBmdW5jdGlvbigpIHsKbFtfXSAmJiBsW19dLnJlbW92ZUNsYXNzKG8pOwpfID0gYTsKcmV0dXJuIGM7Cn07CmMucmVzZXQoKTsKfSgpOwpmb3IgKHZhciBmIGluIGgpIGNbZl0gPSBoW2ZdOwpjLmZpcmUgJiYgYy5maXJlKCJpbml0Iik7CmMuc2V0U3R5bGUgJiYgYy5zZXRTdHlsZShyKTsKYy5zZXRBdHRyaWJ1dGVzICYmIGMuc2V0QXR0cmlidXRlcyhsKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5hZGRDaGlsZHJlbiA/IGMuYWRkQ2hpbGRyZW4oXykgOiBzLmFkZENoaWxkcmVuKGMsIF8pOwppZiAoYyAhPT0gdGhpcykgewpjLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKYy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gYzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19qeF91aV9XaWRnZXQucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIioqc2VsZiI6IHsKIi5kb3QiOiB7Cm1hcmdpblJpZ2h0OiAiM3B4Igp9Cn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfV2lkZ2V0LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c190b2FzdF9kaXNjb25uZWN0ZWRfSW1hZ2UiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfVG9hc3QgPSBpKDExMSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX3RvYXN0X2Rpc2Nvbm5lY3RlZF9JbWFnZSA9IGkoMzQ5KTsKbi5fXyQkX19qeF91aV9XaWRnZXQgPSBpKDcpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1RvYXN0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c190b2FzdF9kaXNjb25uZWN0ZWRfSW1hZ2UsICJpbWciLCAiIiwgW10sIHsKaWQ6ICJpbWciLAphZGRDbGFzczogInJlY29ubmVjdGluZ190b2FzdF9pbWFnZSIKfSBdLCBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAibWVzc2FnZSIsICIiLCBbXSwgewppZDogIm1lc3NhZ2UiLAphZGRDbGFzczogInJlY29ubmVjdGluZ190b2FzdF90ZXh0Igp9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6d2lkZ2V0cyI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiCn0gXSwgdSA9IGRbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBzLm1hbmdsZUlEcyhvLCBkWzNdKSwgZFs0XSksIGMgPSB1IHx8IHRoaXM7CnMuc2V0KG8sIGMpOwp2YXIgaCA9IHMuZ2V0KG8gKyAiX19pbWciKSwgZiA9IHMuZ2V0KG8gKyAiX19tZXNzYWdlIik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBnID0gZnVuY3Rpb24oKSB7CnZhciB0LCBlID0gaSgyKSwgbiA9IGUoMjA0KSwgbyA9IGkoNiksIHIgPSBpKDEwKSwgYSA9IG8ucm9vdC4kKCJjb25uZWN0aW9uIikuJCgibWVzc2FnZSRzdHJpbmciKSwgcyA9IHIuY29ubmVjdGlvbl9zdGF0dXMsIF8gPSB7CmlkbGVfZGlzY29ubmVjdDogMQp9OwohZnVuY3Rpb24oKSB7CmMuYXV0b2JpbmQoYSwgInZhbHVlIiwgZnVuY3Rpb24oZSkgewp0ID0gZTsKaWYgKGUpIHsKaWYgKF9bZV0pIHsKaC5zdG9wKCkucmVzZXQoKTsKYy5hZGRDbGFzcygidG9hc3RfZGlzY29ubmVjdGVkIik7Cn0gZWxzZSB7CmgucGxheSgpOwpjLnJlbW92ZUNsYXNzKCJ0b2FzdF9kaXNjb25uZWN0ZWQiKTsKfQpmLnNldERpc3BsYXkoImZhc3RfaW5pdCIgPT0gZSA/ICJub25lIiA6ICIiKTsKZi5zZXRUZXh0KHNbZV0gfHwgbik7CmMuc2V0RGlzcGxheSgiIik7Cn0gZWxzZSB7CmMuc2V0RGlzcGxheSgibm9uZSIpOwpoLnN0b3AoKS5yZXNldCgpOwp9Cn0pOwpjLm9uKCJjbGljayIsIGZ1bmN0aW9uKGUpIHsKZS5wcmV2ZW50RGVmYXVsdCgpOwpfW3RdICYmIG8ubGl2ZWNoYXQucmVjb25uZWN0KCk7Cn0pOwp9KCk7Cn0oKTsKZm9yICh2YXIgcCBpbiBnKSBjW3BdID0gZ1twXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1RvYXN0LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CnRleHRBbGlnbjogImNlbnRlciIsCiImLnRvYXN0X2Rpc2Nvbm5lY3RlZCI6IHsKY3Vyc29yOiAicG9pbnRlciIKfQp9LAoiLnJlY29ubmVjdGluZ190b2FzdF90ZXh0IjogewpkaXNwbGF5OiAiYmxvY2siLAptYXJnaW5MZWZ0OiAiMzRweCIsCmZvbnRXZWlnaHQ6ICJib2xkIiwKdGV4dEFsaWduOiAibGVmdCIKfSwKIi5yZWNvbm5lY3RpbmdfdG9hc3RfaW1hZ2UiOiB7CmZsb2F0OiAibGVmdCIsCm1hcmdpblRvcDogIi0ycHgiCn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1RvYXN0LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c190b2FzdF9EaXNjb25uZWN0ZWQiCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfSWNvbkZvbnQgPSBpKDE1KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19JY29uRm9udCwgIiIsICIiLCBbXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6d2lkZ2V0cyI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiLAppY29uOiAid2FybmluZ19zaWduIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIGggPSBmdW5jdGlvbigpIHsKaSg5KS5ydGwoYyk7Cn0oKTsKZm9yICh2YXIgZiBpbiBoKSBjW2ZdID0gaFtmXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0ljb25Gb250LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CnBvc2l0aW9uOiAiYWJzb2x1dGUiLAp0b3A6ICIxMnB4IiwKcmlnaHQ6ICIxMHB4IiwKY29sb3I6ICJyZWQiLApmb250U2l6ZTogIiQkZm9udFNpemVYTCIKfSwKIiYucnRsIjogewpyaWdodDogImF1dG8iLApsZWZ0OiAiMTBweCIKfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfSWNvbkZvbnQsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF93aWRnZXRzX2lucHV0X0ludmFsaWRJY29uIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1RleHRGaWVsZCA9IGkoODYpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBpLCBvLCByLCBfKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIGksIG8sIHIsIF8pOwppID0gaSB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGwgPSBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1RleHRGaWVsZCwgIiIsICIiLCBbXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6d2lkZ2V0cyI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiLAphZGRDbGFzczogInVuc3R5bGVkIgp9IF0sIGQgPSBsWzBdLmNhbGwodGhpcywgZSwgaSwgbnVsbCwgcy5tYW5nbGVJRHMoaSwgbFszXSksIGxbNF0pLCB1ID0gZCB8fCB0aGlzOwpzLnNldChpLCB1KTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KZm9yICh2YXIgYyBpbiB2b2lkIDApIHVbY10gPSAodm9pZCAwKVtjXTsKdS5maXJlICYmIHUuZmlyZSgiaW5pdCIpOwp1LnNldFN0eWxlICYmIHUuc2V0U3R5bGUobyk7CnUuc2V0QXR0cmlidXRlcyAmJiB1LnNldEF0dHJpYnV0ZXMoXyk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHUuYWRkQ2hpbGRyZW4gPyB1LmFkZENoaWxkcmVuKHIpIDogcy5hZGRDaGlsZHJlbih1LCByKTsKaWYgKHUgIT09IHRoaXMpIHsKdS5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CnUuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIHU7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1RleHRGaWVsZC5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewpjb2xvcjogIiQkYmFkZ2VJbnB1dENvbG9yIiwKcGFkZGluZzogIiQkYmFkZ2VJbnB1dFBhZGRpbmciLApib3JkZXJXaWR0aDogIiQkYmFkZ2VJbnB1dEJvcmRlcldpZHRoIiwKYm9yZGVyU3R5bGU6ICIkJGJhZGdlSW5wdXRCb3JkZXJTdHlsZSIsCmJvcmRlckNvbG9yOiAiJCRiYWRnZUlucHV0Qm9yZGVyQ29sb3IiLApib3JkZXJSYWRpdXM6ICIkJGJhZGdlSW5wdXRSYWRpdXMiLApib3hTaGFkb3c6ICIkJGJhZGdlSW5wdXRTaGFkb3ciCn0sCiImOmZvY3VzLCAmLmZvY3VzIjogewpjb2xvcjogIiQkYmFkZ2VJbnB1dEZvY3VzQ29sb3IiLApiYWNrZ3JvdW5kOiAiJCRiYWRnZUlucHV0Rm9jdXNCZyIsCmJvcmRlckNvbG9yOiAiJCRiYWRnZUlucHV0Rm9jdXNCb3JkZXJDb2xvciIsCmJveFNoYWRvdzogIiQkYmFkZ2VJbnB1dEZvY3VzU2hhZG93Igp9LAoiJjo6cGxhY2Vob2xkZXIiOiB7CmNvbG9yOiAiJCRiYWRnZUlucHV0UGxhY2Vob2xkZXJDb2xvciIKfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfVGV4dEZpZWxkLCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X25ld0NoYXRGb3JtX1RleHRGaWVsZCIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX2p4X3VpX1dpZGdldCA9IGkoNyk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0ljb25Gb250ID0gaSgxNSk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIF8sIGwpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgXywgbCk7Cm8gPSBvIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgZCA9IFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0ljb25Gb250LCAiIiwgIiIsIFtdLCB7Cmljb246ICJ6ZW5kZXNrX2NoYXRfMjAxNiIKfSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIiwKc2VsZWN0YWJsZTogImZhbHNlIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIGggPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCgpIHsKdmFyIHQgPSBuLmdldFZhbHVlKCk7CmMuc2V0VmlzaWJpbGl0eSh0ID8gImhpZGRlbiIgOiAiIik7Cn0KdmFyIGUgPSBpKDYpLCBuID0gZS5yb290LiQoImxpdmVjaGF0IikuJCgic2V0dGluZ3MiKS4kKCJicmFuZGluZyIpLiQoImhpZGVfYnJhbmRpbmckYm9vbCIpOwohZnVuY3Rpb24oKSB7CmMuYXV0b2JpbmQobiwgInZhbHVlIiwgdCk7Cn0oKTsKfSgpOwpmb3IgKHZhciBmIGluIGgpIGNbZl0gPSBoW2ZdOwpjLmZpcmUgJiYgYy5maXJlKCJpbml0Iik7CmMuc2V0U3R5bGUgJiYgYy5zZXRTdHlsZShyKTsKYy5zZXRBdHRyaWJ1dGVzICYmIGMuc2V0QXR0cmlidXRlcyhsKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5hZGRDaGlsZHJlbiA/IGMuYWRkQ2hpbGRyZW4oXykgOiBzLmFkZENoaWxkcmVuKGMsIF8pOwppZiAoYyAhPT0gdGhpcykgewpjLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKYy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gYzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19qeF91aV9XaWRnZXQucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIioqc2VsZiI6IHsKZGlzcGxheTogImlubGluZS1ibG9jayIsCmxpbmVIZWlnaHQ6IDEuMywKbGV0dGVyU3BhY2luZzogIjFweCIsCmZvbnRTaXplOiAiOXB4IiwKIiY6Zm9jdXMiOiB7Cm91dGxpbmU6ICJub25lIgp9Cn0KfTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfV2lkZ2V0LCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X25ld0NoYXRGb3JtX0JyYW5kaW5nIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fanhfdWlfV2lkZ2V0ID0gaSg3KTsKbi5fXyQkX19qeF91aV9odG1sX3RhYmxlID0gaSg1NCk7Cm4uX18kJF9fanhfdWlfaHRtbF90Ym9keSA9IGkoNTMpOwpuLl9fJCRfX2p4X3VpX2h0bWxfdHIgPSBpKDUyKTsKbi5fXyQkX19qeF91aV9odG1sX3RkID0gaSg1MSk7Cm4uX18kJF9fanhfdWlfaHRtbF9pbWcgPSBpKDExMik7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0ljb25Gb250ID0gaSgxNSk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIF8sIGwpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgXywgbCk7Cm8gPSBvIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgZCA9IFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICIiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfaHRtbF90YWJsZSwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9odG1sX3Rib2R5LCAiIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX2h0bWxfdHIsICJ0ciIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9odG1sX3RkLCAidGV4dF9jZWxsIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX1dpZGdldCwgInRleHQiLCAiIiwgW10sIHsKaWQ6ICJ0ZXh0Igp9IF0gXSwgewppZDogInRleHRfY2VsbCIsCmNsYXNzOiAidGV4dF9jZWxsIgp9IF0sIFsgbi5fXyQkX19qeF91aV9odG1sX3RkLCAiaW1hZ2VfY2VsbCIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9odG1sX2ltZywgImltYWdlIiwgIiIsIFtdLCB7CmlkOiAiaW1hZ2UiLAphZGRDbGFzczogImJhbm5lcl9pbWFnZSIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0ljb25Gb250LCAiaWNvbiIsICIiLCBbXSwgewppZDogImljb24iLAppY29uOiAiYmFkZ2VfZGVmYXVsdCIsCmFkZENsYXNzOiAiYmFubmVyX2ljb24iCn0gXSBdLCB7CmlkOiAiaW1hZ2VfY2VsbCIsCmNsYXNzOiAiaW1hZ2VfY2VsbCIKfSBdIF0sIHsKaWQ6ICJ0ciIKfSBdIF0sIHt9IF0gXSwgewpjbGFzczogImJhbm5lcl90YWJsZSIKfSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOmNvbXBvbmVudHMiOiAibWVzaGltLndpZGdldC5jb21wb25lbnRzIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIiwKInhtbG5zOmNoYXRXaW5kb3ciOiAibWVzaGltLndpZGdldC5jb21wb25lbnRzLmNoYXRXaW5kb3ciLAoieG1sbnM6bmV3Q2hhdEZvcm0iOiAibWVzaGltLndpZGdldC5jb21wb25lbnRzLmNoYXRXaW5kb3cubmV3Q2hhdEZvcm0iCn0gXSwgdSA9IGRbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBzLm1hbmdsZUlEcyhvLCBkWzNdKSwgZFs0XSksIGMgPSB1IHx8IHRoaXM7CnMuc2V0KG8sIGMpOwp2YXIgaCA9IHMuZ2V0KG8gKyAiX190ciIpLCBmID0gcy5nZXQobyArICJfX3RleHRfY2VsbCIpLCBnID0gcy5nZXQobyArICJfX3RleHQiKSwgcCA9IHMuZ2V0KG8gKyAiX19pbWFnZV9jZWxsIiksIG0gPSBzLmdldChvICsgIl9faW1hZ2UiKSwgJCA9IHMuZ2V0KG8gKyAiX19pY29uIik7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBiID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoKSB7CnZhciB0ID0gZC5yZXBsYWNlRmlsZUhvc3RuYW1lKG8gfHwgbiB8fCAiIiksIGkgPSAhIXQ7CnMuaXNGRiAmJiAhdCAmJiAodCA9ICJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUFBQUFDSDVCQUVBQUFBQUxBQUFBQUFCQUFFQUFBST0iKTsKc3dpdGNoIChlKSB7CmNhc2UgImltYWdlX3JpZ2h0IjoKbS5zZXRTcmModCk7CmguaW5zZXJ0QmVmb3JlKGYsIHApOwpicmVhazsKCmNhc2UgImltYWdlX2xlZnQiOgptLnNldFNyYyh0KTsKaC5pbnNlcnRCZWZvcmUocCwgZik7CmJyZWFrOwoKY2FzZSAiaW1hZ2Vfb25seSI6Cm0uc2V0U3JjKHQpOwpicmVhazsKCmRlZmF1bHQ6CmMuc2V0U3R5bGUoImJhY2tncm91bmQiLCAiIik7Cn0KaWYgKGkpIHsKbS5zZXREaXNwbGF5KCIiKTsKJC5zZXREaXNwbGF5KCJub25lIik7Cn0gZWxzZSB7Cm0uc2V0RGlzcGxheSgibm9uZSIpOwokLnNldERpc3BsYXkoIiIpOwp9Cn0KdmFyIGUsIG4sIG8sIHIsIGEsIHMgPSBpKDgpLCBfID0gaSgxNiksIGwgPSBpKDYpLCBkID0gaSgxMSksIHUgPSBpKDEwKSwgYiA9IGwucm9vdCwgdyA9IGIuJCgibGl2ZWNoYXQiKS4kKCJzZXR0aW5ncyIpLiQoImJhbm5lciIpLCB4ID0gdy4kKCJsYXlvdXQkc3RyaW5nIiksIHYgPSB3LiQoInRleHQkc3RyaW5nIiksIHkgPSB3LiQoImltYWdlX3BhdGgkc3RyaW5nIiksIGogPSB3LiQoImltYWdlX2RhdGEkc3RyaW5nIiksIEMgPSBiLiQoImxpdmVjaGF0IikuJCgidWkiKS4kKCJtb2NrdXAkYm9vbCIpLmdldFZhbHVlKCksIFMgPSBiLiQoImxpdmVjaGF0IikuJCgidWkiKS4kKCJjaGF0X3dpbmRvdyIpLiQoImRpc3BsYXkkYm9vbCIpLCBBID0gYi4kKCJsaXZlY2hhdCIpLiQoInVpIikuJCgiY2hhdF93aW5kb3ciKS4kKCJtYWluX3N0YWNrX25hbWUkc3RyaW5nIiksIGsgPSAxMDA7CiFmdW5jdGlvbigpIHsKZnVuY3Rpb24gaSgpIHsKaWYgKHIgJiYgIm5ld19jaGF0X2Zvcm0iID09IGEgJiYgcy5idWdzLm5vQm94U2l6aW5nKSB7Cm0uc2V0V2lkdGgoIiIpOwptLnNldEhlaWdodCgiIik7Cl8oaCwgYywgITApOwp9Cn0KZnVuY3Rpb24gaCgpIHsKdmFyIHQgPSBwYXJzZUludChtLmdldFdpZHRoKCkgfHwgbS5kb20ud2lkdGgsIDEwKSwgZSA9IHBhcnNlSW50KG0uZ2V0SGVpZ2h0KCkgfHwgbS5kb20uaGVpZ2h0LCAxMCk7CmlmICh0ICYmIGUpIHsKdmFyIGksIG4sIG8sIHIgPSB0ID4gZTsKaSA9IHIgPyB0IDogZTsKbiA9IHIgPyBlIDogdDsKaWYgKGkgPiBrKSB7Cm8gPSBpIC8gazsKaSAvPSBvOwpuIC89IG87Cm0uc2V0V2lkdGgociA/IGkgOiBuKTsKbS5zZXRIZWlnaHQociA/IG4gOiBpKTsKfQpjLmRvbS5jbGFzc05hbWUgPSBjLmRvbS5jbGFzc05hbWU7Cn0KfQppZiAocy5idWdzLm5vQm94U2l6aW5nKSB7Cm0uZG9tLm9ubG9hZCA9IGk7CmMuYXV0b2JpbmQoUywgInZhbHVlIiwgZnVuY3Rpb24odCkgewpyID0gdDsKaSgpOwp9KTsKYy5hdXRvYmluZChBLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CmEgPSB0OwppKCk7Cn0pOwp9CmMuYXV0b2JpbmQoeCwgInZhbHVlIiwgZnVuY3Rpb24oaSkgewplICYmIGMucmVtb3ZlQ2xhc3MoZSk7CmUgPSBpOwpsLmxpdmVjaGF0LmdldExpbWl0KCkgfHwgImltYWdlX29ubHkiICE9IGUgfHwgKGUgPSAiaW1hZ2VfcmlnaHQiKTsKZSAmJiBjLmFkZENsYXNzKGUpOwp0KCk7Cn0pOwpjLmF1dG9iaW5kKHYsICJ2YWx1ZSIsIGZ1bmN0aW9uKCkgewpnLnNldFRleHQodS5nZXQodikpOwp9KTsKYy5hdXRvYmluZCh5LCAidmFsdWUiLCBmdW5jdGlvbihlKSB7Cm4gPSBlOwp0KCk7Cn0pOwpDICYmIGQuc3VwcG9ydHNEYXRhVVJJKGZ1bmN0aW9uKGUpIHsKZSAmJiBjLmF1dG9iaW5kKGosICJ2YWx1ZSIsIGZ1bmN0aW9uKGUpIHsKbyA9IGU7CnQoKTsKfSk7Cn0pOwp9KCk7Cn0oKTsKZm9yICh2YXIgdyBpbiBiKSBjW3ddID0gYlt3XTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fanhfdWlfV2lkZ2V0LnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CiIuYmFubmVyX3RhYmxlIjogewp3aWR0aDogIjEwMCUiLApoZWlnaHQ6ICIxMDAlIiwKdGFibGVMYXlvdXQ6ICJmaXhlZCIsCmRpcmVjdGlvbjogImx0ciIsCmNvbG9yOiAiJCRiYWRnZUNvbnRlbnRDb2xvciIKfSwKIi50ZXh0X2NlbGwsIC5pbWFnZV9jZWxsIjogewp2ZXJ0aWNhbEFsaWduOiAibWlkZGxlIgp9LAoiLnRleHRfY2VsbCI6IHsKd29yZFdyYXA6ICJicmVhay13b3JkIiwKd2hpdGVTcGFjZTogInByZS13cmFwIgp9LAoiLmltYWdlX2NlbGwiOiB7CndpZHRoOiAiMTAwcHgiLAp0ZXh0QWxpZ246ICJjZW50ZXIiCn0sCiIuYmFubmVyX2ltYWdlIjogewp2ZXJ0aWNhbEFsaWduOiAidG9wIiwKYm9yZGVyOiAibm9uZSIKfSwKIi5iYW5uZXJfaWNvbiI6IHsKZGlzcGxheTogImlubGluZS1ibG9jayIsCmZvbnRTaXplOiAiOTBweCIsCm1hcmdpblRvcDogIjEwcHgiCn0KfSwKIiYuaW1hZ2VfcmlnaHQiOiB7CiIudGV4dF9jZWxsIjogewpwYWRkaW5nUmlnaHQ6ICIzcHgiCn0sCiIuaW1hZ2VfY2VsbCI6IHt9LAoiLmJhbm5lcl9pbWFnZSI6IHsKbWF4V2lkdGg6ICIxMDBweCIsCm1heEhlaWdodDogIjEwMHB4Igp9Cn0sCiImLmltYWdlX2xlZnQiOiB7CiIudGV4dF9jZWxsIjogewpwYWRkaW5nTGVmdDogIjNweCIKfSwKIi5pbWFnZV9jZWxsIjoge30sCiIuYmFubmVyX2ltYWdlIjogewptYXhXaWR0aDogIjEwMHB4IiwKbWF4SGVpZ2h0OiAiMTAwcHgiCn0KfSwKIiYuaW1hZ2Vfb25seSI6IHsKIi50ZXh0X2NlbGwiOiB7CmRpc3BsYXk6ICJub25lIgp9LAoiLmltYWdlX2NlbGwiOiB7fSwKIi5iYW5uZXJfaW1hZ2UiOiB7Cm1heFdpZHRoOiAiMTAwJSIKfQp9LAoiJi50ZXh0X29ubHkiOiB7CiIudGV4dF9jZWxsIjogewpmb250U2l6ZTogIjI2cHgiLAp0ZXh0QWxpZ246ICJjZW50ZXIiLAp3aWR0aDogIjEwMCUiCn0sCiIuaW1hZ2VfY2VsbCI6IHsKZGlzcGxheTogIm5vbmUiCn0KfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19qeF91aV9XaWRnZXQsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfbmV3Q2hhdEZvcm1fQmFubmVyIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSBpKDIpLCBfID0gaSg0KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQWN0aW9uQmFyID0gaSgxNjgpOwpuLl9fJCRfX2p4X3VpX2h0bWxfc3BhbiA9IGkoMzApOwpuLl9fJCRfX2p4X3VpX0J1dHRvbiA9IGkoNzApOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19Db29raWVMYXdOb3RpY2UgPSBpKDE2Nik7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIGwsIGQpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgbCwgZCk7Cm8gPSBvIHx8IF8uZ2VuZXJhdGVJRCgpOwp2YXIgdSA9IHMoMjA4KSwgYyA9IHMoMjA5KSwgaCA9IFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQWN0aW9uQmFyLCAiIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX2h0bWxfc3BhbiwgImRlZmF1bHRfYWN0aW9ucyIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9CdXR0b24sICJzZXR0aW5ncyIsICJiYWNrZ3JvdW5kQ29sb3I6dHJhbnNwYXJlbnQ7IiwgWyB1IF0sIHsKaWQ6ICJzZXR0aW5ncyIsCmFkZENsYXNzOiAic2V0dGluZ3MiLAp0YWJJbmRleDogIiIsCnR5cGU6ICJidXR0b24iLApzdHlsZTogImJhY2tncm91bmRDb2xvcjp0cmFuc3BhcmVudDsiCn0gXSwgWyBuLl9fJCRfX2p4X3VpX2h0bWxfc3BhbiwgImRpdmlkZXIiLCAiIiwgW10sIHsKaWQ6ICJkaXZpZGVyIiwKY2xhc3M6ICJkaXZpZGVyIiwKdGV4dDogIuKAoiIKfSBdLCBbIG4uX18kJF9fanhfdWlfQnV0dG9uLCAicHJvZmlsZSIsICJiYWNrZ3JvdW5kQ29sb3I6dHJhbnNwYXJlbnQ7IiwgWyBbIG4uX18kJF9fanhfdWlfaHRtbF9zcGFuLCAibG9nZ2VkX291dCIsICIiLCBbIGMgXSwgewppZDogImxvZ2dlZF9vdXQiCn0gXSwgWyBuLl9fJCRfX2p4X3VpX2h0bWxfc3BhbiwgIm5hbWUiLCAiIiwgW10sIHsKaWQ6ICJuYW1lIiwKY2xhc3M6ICJsb2dnZWRfaW5fbmFtZSIKfSBdIF0sIHsKaWQ6ICJwcm9maWxlIiwKYWRkQ2xhc3M6ICJwcm9maWxlIiwKdGFiSW5kZXg6ICIiLAp0eXBlOiAiYnV0dG9uIiwKc3R5bGU6ICJiYWNrZ3JvdW5kQ29sb3I6dHJhbnNwYXJlbnQ7Igp9IF0gXSwgewppZDogImRlZmF1bHRfYWN0aW9ucyIsCmRpc3BsYXk6ICJub25lIgp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQ29va2llTGF3Tm90aWNlLCAiY29va2llX2xhdyIsICIiLCBbXSwgewppZDogImNvb2tpZV9sYXciLAphZGRDbGFzczogImNvb2tpZV9sYXciCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczptdWkiOiAibWVzaGltLnVpIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIgp9IF0sIGYgPSBoWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgXy5tYW5nbGVJRHMobywgaFszXSksIGhbNF0pLCBnID0gZiB8fCB0aGlzOwpfLnNldChvLCBnKTsKdmFyIHAgPSBfLmdldChvICsgIl9fZGVmYXVsdF9hY3Rpb25zIiksIG0gPSBfLmdldChvICsgIl9fc2V0dGluZ3MiKSwgJCA9IF8uZ2V0KG8gKyAiX19kaXZpZGVyIiksIGIgPSBfLmdldChvICsgIl9fcHJvZmlsZSIpLCB3ID0gXy5nZXQobyArICJfX2xvZ2dlZF9vdXQiKSwgeCA9IF8uZ2V0KG8gKyAiX19uYW1lIiksIHYgPSBfLmdldChvICsgIl9fY29va2llX2xhdyIpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgeSA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KCkgewpULmdldFZhbHVlKCkgPyBOLmdldFZhbHVlKCkgPyBuKCkgOiBlKCkgOiBuKCk7Cn0KZnVuY3Rpb24gZSgpIHsKaWYgKCJoaWRkZW4iID09IEkpIHsKdi5zZXREaXNwbGF5KCIiKTsKcC5zZXREaXNwbGF5KCJub25lIik7CkkgPSAidmlzaWJsZSI7Cn0KfQpmdW5jdGlvbiBuKCkgewppZiAoInZpc2libGUiID09IEkpIHsKdi5zZXREaXNwbGF5KCJub25lIik7CnAuc2V0RGlzcGxheSgiIik7CkkgPSAiaGlkZGVuIjsKfQp9CmZ1bmN0aW9uIG8odCkgewp2YXIgZSA9ICEhdDsKYi5zZXREaXNhYmxlZChlKTsKZSAmJiAicHJvZmlsZV9tZW51IiA9PSBzICYmIEIudXBkYXRlKCIiKTsKfQp2YXIgciwgYSwgcywgXywgbCwgZCA9IGkoMiksIHUgPSBkKDIxMCksIGMgPSBkKDIxMSksIGggPSBpKDMzKSwgZiA9IGkoNiksIHkgPSBpKDExKSwgaiA9IGkoMzUpLCBDID0gewpzZXR0aW5nc19tZW51OiBtLApwcm9maWxlX21lbnU6IGIKfSwgUyA9IGYucm9vdC4kKCJsaXZlY2hhdCIpLCBBID0gUy4kKCJwcm9maWxlIikuJCgibG9nZ2VkX2luJGJvb2wiKSwgayA9IFMuJCgicHJvZmlsZSIpLiQoImRpc3BsYXlfbmFtZSRzdHJpbmciKSwgSSA9ICJ2aXNpYmxlIiwgVCA9IFMuJCgic2V0dGluZ3MiKS4kKCJjb29raWVfbGF3IikuJCgiZW5hYmxlZCRib29sIiksIE4gPSBTLiQoInByb2ZpbGUiKS4kKCJhbGxvd19jb29raWVzJGJvb2wiKSwgQiA9IGYucm9vdC4kKCJsaXZlY2hhdCIpLiQoInVpIikuJCgiY2hhdF93aW5kb3ciKS4kKCJtZW51X3N0YWNrX25hbWUkc3RyaW5nIiksIEQgPSBTLiQoInNldHRpbmdzIikuJCgidGhlbWUiKS4kKCJjaGF0X3dpbmRvdyIpLiQoInNpemUkc3RyaW5nIiksIEUgPSBTLiQkKCJ1aS5wb3BvdXQkYm9vbCIpLCBPID0gUy4kKCJzZXR0aW5ncyIpLiQoImxvZ2luIikuJCgicmVzdHJpY3RfcHJvZmlsZSRib29sIiksIEwgPSBmLnJvb3QuJCgiY29ubmVjdGlvbiIpLiQoIm1lc3NhZ2Ukc3RyaW5nIik7CiFmdW5jdGlvbigpIHsKZnVuY3Rpb24gZSgpIHsKaWYgKHIpIHsKYSAmJiAheS5pc0RlZmF1bHROYW1lKGEpID8geC5zZXRUZXh0KHUucmVwbGFjZSgiPG5hbWU+IiwgYSkpIDogeC5zZXRUZXh0KGMpOwp3LnNldERpc3BsYXkoIm5vbmUiKTsKeC5zZXREaXNwbGF5KCIiKTsKfSBlbHNlIHsKdy5zZXREaXNwbGF5KCIiKTsKeC5zZXREaXNwbGF5KCJub25lIik7Cn0KfQpnLmF1dG9iaW5kKE8sICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKbCA9IHQ7CiQuc2V0RGlzcGxheSh0ID8gIm5vbmUiIDogIiIpOwpiLnNldERpc3BsYXkodCA/ICJub25lIiA6ICIiKTsKfSk7CmcuYXV0b2JpbmQoQiwgInZhbHVlIiwgZnVuY3Rpb24odCkgewpzID0gdDsKZm9yICh2YXIgZSBpbiBDKSBDLmhhc093blByb3BlcnR5KGUpICYmIENbZV1bKGUgPT0gdCA/ICJhZGQiIDogInJlbW92ZSIpICsgIkNsYXNzIl0oImFjdGl2ZSIpOwp9KTsKZy5hdXRvYmluZChBLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CnIgPSB0OwplKCk7Cn0pOwpnLmF1dG9iaW5kKGssICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKYSA9IHQgfHwgIiI7CmUoKTsKfSk7CmQgJiYgZC5vbkxhbmd1YWdlICYmIGQub25MYW5ndWFnZShlKTsKbS5vbigiY2xpY2siLCBmdW5jdGlvbih0KSB7CnQuc3RvcFByb3BhZ2F0aW9uKCk7CmouaXNJRU1vYmlsZSA/IEIudXBkYXRlKCJzZXR0aW5nc19tZW51IikgOiBCLnVwZGF0ZSgic2V0dGluZ3NfbWVudSIgPT0gcyA/ICIiIDogInNldHRpbmdzX21lbnUiKTsKRS5nZXRWYWx1ZSgpICYmIGgucmVzZXRVbnJlYWRDb3VudCgpOwp9KTsKYi5vbigiY2xpY2siLCBmdW5jdGlvbih0KSB7CnQuc3RvcFByb3BhZ2F0aW9uKCk7CmwgfHwgQi51cGRhdGUoInByb2ZpbGVfbWVudSIgPT0gcyA/ICIiIDogInByb2ZpbGVfbWVudSIpOwp9KTsKZy5hdXRvYmluZChELCAidmFsdWUiLCBmdW5jdGlvbih0KSB7Cl8gJiYgZy5yZW1vdmVDbGFzcygiYWN0aW9uX2Jhcl8iICsgXyk7Cl8gPSB0OwpfICYmIGcuYWRkQ2xhc3MoImFjdGlvbl9iYXJfIiArIF8pOwp9KTsKZy5hdXRvYmluZChULCAidmFsdWUiLCB0KTsKZy5hdXRvYmluZChOLCAidmFsdWUiLCB0KTsKZy5hdXRvYmluZChMLCAidmFsdWUiLCBvKTsKfSgpOwp9KCk7CmZvciAodmFyIGogaW4geSkgZ1tqXSA9IHlbal07CmcuZmlyZSAmJiBnLmZpcmUoImluaXQiKTsKZy5zZXRTdHlsZSAmJiBnLnNldFN0eWxlKHIpOwpnLnNldEF0dHJpYnV0ZXMgJiYgZy5zZXRBdHRyaWJ1dGVzKGQpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBnLmFkZENoaWxkcmVuID8gZy5hZGRDaGlsZHJlbihsKSA6IF8uYWRkQ2hpbGRyZW4oZywgbCk7CmlmIChnICE9PSB0aGlzKSB7CmcuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpnLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBnOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19BY3Rpb25CYXIucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKYnV0dG9uOiB7CnBvc2l0aW9uOiAicmVsYXRpdmUiLAp2ZXJ0aWNhbEFsaWduOiAidG9wIiwKdGV4dEFsaWduOiAibGVmdCIsCiJiYWNrZ3JvdW5kLCBiYWNrZ3JvdW5kQ29sb3IiOiAidHJhbnNwYXJlbnQiLApib3JkZXI6ICJub25lIiwKbGluZUhlaWdodDogIiQkYWN0aW9uQmFySGVpZ2h0Igp9LAoiYnV0dG9uLCBidXR0b24gKiI6IHsKY3Vyc29yOiAicG9pbnRlciIsCiImLmRpc2FibGVkIjogewpjdXJzb3I6ICJkZWZhdWx0IiwKY29sb3I6ICIkJGFjdGlvbkJhckNvbG9yRGlhYmxlZCIKfQp9LAoiLmxvZ2dlZF9pbl9uYW1lIjogewpkaXNwbGF5OiAiaW5saW5lLWJsb2NrIiwKd2hpdGVTcGFjZTogIm5vd3JhcCIsCm92ZXJmbG93OiAiaGlkZGVuIiwKdGV4dE92ZXJmbG93OiAiZWxsaXBzaXMiLAoiKmhlaWdodCI6ICIxZW0iLAoiKnZlcnRpY2FsQWxpZ24iOiAidG9wIgp9LAoiLmRpdmlkZXIiOiB7CmRpc3BsYXk6ICJpbmxpbmUtYmxvY2siLApmb250U2l6ZTogIjAuOGVtIiwKbGluZUhlaWdodDogIiQkYWN0aW9uQmFySGVpZ2h0IiwKbWFyZ2luOiAiMCA1cHgiLApjdXJzb3I6ICJkZWZhdWx0IiwKb3BhY2l0eTogLjUKfSwKImJ1dHRvbiwgLmRpdmlkZXIiOiB7CmNvbG9yOiAiJCRhY3Rpb25CYXJDb2xvciIKfSwKImJ1dHRvbjpob3ZlciI6IHsKY29sb3I6ICIkJGFjdGlvbkJhckhvdmVyQ29sb3IiCn0sCiIuY29va2llX2xhdyI6IHsKcG9zaXRpb246ICJyZWxhdGl2ZSIKfSwKIiYuYWN0aW9uX2Jhcl9zbWFsbCAgLmxvZ2dlZF9pbl9uYW1lIjogewoibWF4V2lkdGgsICp3aWR0aCI6ICIxMjBweCIKfSwKIiYuYWN0aW9uX2Jhcl9tZWRpdW0gLmxvZ2dlZF9pbl9uYW1lIjogewoibWF4V2lkdGgsICp3aWR0aCI6ICIxNjBweCIKfSwKIiYuYWN0aW9uX2Jhcl9sYXJnZSAgLmxvZ2dlZF9pbl9uYW1lIjogewoibWF4V2lkdGgsICp3aWR0aCI6ICIxODBweCIKfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfQWN0aW9uQmFyLCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19hY3Rpb25CYXJfRGVmYXVsdEFjdGlvbkJhciIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbigpIHsKZnVuY3Rpb24gdChuKSB7CmlmICh0aGlzLmp4X3dyYXBwZXIpIHJldHVybiB0LmNhbGwodGhpcy5qeF93cmFwcGVyLCBuKTsKbi5zdG9wUHJvcGFnYXRpb24oKTsKdGhpcy5kb20uYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hlbmQiLCBpLCAhMSk7CnRoaXMuZG9jLmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2htb3ZlIiwgZSwgITEpOwp0aGlzLnN0YXJ0WCA9IG4udG91Y2hlc1swXS5jbGllbnRYOwp0aGlzLnN0YXJ0WSA9IG4udG91Y2hlc1swXS5jbGllbnRZOwp9CmZ1bmN0aW9uIGUodCkgewppZiAodGhpcy5qeF93cmFwcGVyKSByZXR1cm4gZS5jYWxsKHRoaXMuanhfd3JhcHBlciwgdCk7CihNYXRoLmFicyh0LnRvdWNoZXNbMF0uY2xpZW50WCAtIHRoaXMuc3RhcnRYKSA+IDEwIHx8IE1hdGguYWJzKHQudG91Y2hlc1swXS5jbGllbnRZIC0gdGhpcy5zdGFydFkpID4gMTApICYmIG4uY2FsbCh0aGlzKTsKfQpmdW5jdGlvbiBpKHQpIHsKaWYgKHRoaXMuanhfd3JhcHBlcikgcmV0dXJuIGkuY2FsbCh0aGlzLmp4X3dyYXBwZXIsIHQpOwp0LnN0b3BQcm9wYWdhdGlvbigpOwpuLmNhbGwodGhpcyk7CnRoaXMubmF0aXZlSGFuZGxlcnMuY2xpY2sodCk7CiJ0b3VjaGVuZCIgIT0gdC50eXBlIHx8IHRoaXMuYWxsb3dHaG9zdENsaWNrIHx8IGEodGhpcy5zdGFydFgsIHRoaXMuc3RhcnRZKTsKfQpmdW5jdGlvbiBuKCkgewppZiAodGhpcy5qeF93cmFwcGVyKSByZXR1cm4gbi5jYWxsKHRoaXMuanhfd3JhcHBlcik7CnRoaXMuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoInRvdWNoZW5kIiwgaSwgITEpOwp0aGlzLmRvYy5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoInRvdWNobW92ZSIsIGUsICExKTsKfQpmdW5jdGlvbiBhKHQsIGUpIHsKdS5wdXNoKHQsIGUpOwp3aW5kb3cuc2V0VGltZW91dChzLCAyNTAwKTsKfQpmdW5jdGlvbiBzKCkgewp1LnNwbGljZSgwLCAyKTsKfQpmdW5jdGlvbiBfKHQpIHsKZm9yICh2YXIgZSA9IDA7IGUgPCB1Lmxlbmd0aDsgZSArPSAyKSB7CnZhciBpID0gdVtlXSwgbiA9IHVbZSArIDFdOwppZiAoTWF0aC5hYnModC5jbGllbnRYIC0gaSkgPCAyNSAmJiBNYXRoLmFicyh0LmNsaWVudFkgLSBuKSA8IDI1KSB7CnQuc3RvcFByb3BhZ2F0aW9uKCk7CnQucHJldmVudERlZmF1bHQoKTsKfQp9Cn0KaWYgKCFvKSB7Cm8gPSAhMDsKdmFyIGwgPSByLnByb3RvdHlwZS5vbiwgZCA9IHIucHJvdG90eXBlLnVuOwpyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uKGUpIHsKaWYgKCEoImNsaWNrIiAhPSBlIHx8IHRoaXMuYWxsQ2FsbGJhY2tzLmNsaWNrICYmIHRoaXMuYWxsQ2FsbGJhY2tzLmNsaWNrLmxlbmd0aCkpIHsKdGhpcy5kb20uYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hzdGFydCIsIHQsICExKTsKdGhpcy5kb20uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBpLCAhMSk7Cn0KcmV0dXJuIGwuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfTsKci5wcm90b3R5cGUudW4gPSBmdW5jdGlvbihlKSB7CnZhciBuID0gZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwppZiAoISgiY2xpY2siICE9IGUgfHwgdGhpcy5hbGxDYWxsYmFja3MuY2xpY2sgJiYgdGhpcy5hbGxDYWxsYmFja3MuY2xpY2subGVuZ3RoKSkgewp0aGlzLmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKCJ0b3VjaHN0YXJ0IiwgdCwgITEpOwp0aGlzLmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIsIGksICExKTsKfQpyZXR1cm4gbjsKfTsKbyA9ICEwOwp2YXIgdSA9IFtdOwp3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBfLCAhMCk7Cn0KfQp2YXIgbywgciA9IGkoMjMpOwp0LmV4cG9ydHMgPSBuOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4oKSB7CmlmICghYSkgewphID0gITA7Cm8gJiYgby5vbkxhbmd1YWdlICYmIChyLnByb3RvdHlwZS5zZXRUaXRsZSA9IGZ1bmN0aW9uKHQpIHsKZnVuY3Rpb24gZSgpIHsKbi5zZXRUaXRsZShuLl9sMTBuVGl0bGVWYWx1ZSk7Cn0KZnVuY3Rpb24gaSgpIHsKby51bkxhbmd1YWdlKGUpOwp9CnZhciBuID0gdGhpczsKaWYgKG8gJiYgby5vbkxhbmd1YWdlICYmICF0aGlzLl9sMTBuVGl0bGVCb3VuZCkgewp0aGlzLl9sMTBuVGl0bGVCb3VuZCA9ICEwOwpvLm9uTGFuZ3VhZ2UoZSk7CnRoaXMub25EZXN0cnVjdGlvbihpKTsKfQp0aGlzLl9sMTBuVGl0bGVWYWx1ZSA9IHQ7CnRoaXMuZG9tLnRpdGxlID0gdGhpcy5fbDEwblRpdGxlVmFsdWUgfHwgIiI7CnJldHVybiB0aGlzOwp9KTsKfQp9CnZhciBvID0gaSgyKSwgciA9IGkoMjMpLCBhID0gITE7CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0KSB7CnQuYmluZFZhbHVlKG8pOwp9CmZ1bmN0aW9uIG8odCkgewppZiAoInJlZ2lzdGVyZWQiID09IHQgfHwgInJlYXR0YWNoZWQiID09IHQgfHwgImNvb2tpZV9sYXciID09IHQpIHsKcyA9ICEwOwphLl9mbHVzaCgpOwp9IGVsc2UgcyA9ICExOwp9CmZ1bmN0aW9uIHIoKSB7CmlmIChzICYmIHRoaXMucXVldWUubGVuZ3RoKSB7Cl8oYS5zZW5kKSAmJiBhLnNlbmQoewpfX3R5cGU6ICJpbnN0cnVtZW50YXRpb24iLAptZXRyaWNzOiB0aGlzLnF1ZXVlCn0pOwp0aGlzLnF1ZXVlID0gW107Cn0KfQp2YXIgYSwgcywgXyA9IGkoMjApLCBsID0gaSgzNCksIGQgPSBpKDE2OSksIHUgPSBpKDYzKTsKIWZ1bmN0aW9uKCkgewphID0gbmV3IGQoKTsKYS5zZW5kID0gdS5zZW5kOwphLmJpbmRUb0Nvbm5lY3Rpb25TdGF0dXMgPSBuOwphLmZsdXNoID0gbC5kZWJvdW5jZShyLCAxZTMpOwphLl9mbHVzaCA9IHI7Cn0oKTsKdC5leHBvcnRzID0gYTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQsIGUpIHsKaWYgKCFvKGUuaW50ZXJ2YWwpIHx8ICFvKGUubGltaXQpKSB0aHJvdyBuZXcgRXJyb3IoInJlcXVpcmVzIG51bWVyaWMgaW50ZXJ2YWwgYW5kIGxpbWl0Iik7CmlmIChlLmNhbGxiYWNrICYmICFyKGUuY2FsbGJhY2spKSB0aHJvdyBuZXcgRXJyb3IoInJlcXVpcmVzIGNhbGxiYWNrIHRvIGJlIGEgZnVuY3Rpb24iKTsKcmV0dXJuIGZ1bmN0aW9uKCkgewp2YXIgaSA9IERhdGUubm93KCk7CmlmIChlLnN0YXJ0ID4gaSAtIGUuaW50ZXJ2YWwpIHsKZS5jb3VudCB8fCAoZS5jb3VudCA9IDApOwplLmNvdW50Kys7CmlmIChlLmNvdW50ID4gZS5saW1pdCkgewplLmNhbGxiYWNrICYmIGUuY2FsbGJhY2soKTsKcmV0dXJuOwp9Cn0gZWxzZSB7CmUuc3RhcnQgPSBpOwplLmNvdW50ID0gMTsKfQpyZXR1cm4gdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9Owp9CnZhciBvID0gaSgyOCksIHIgPSBpKDIwKSwgYSA9IHsKcmF0ZUxpbWl0OiBuCn07CnQuZXhwb3J0cyA9IGE7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX2p4X3VpX1dpZGdldCA9IGkoNyk7Cm4uX18kJF9fanhfdWlfaHRtbF90YWJsZSA9IGkoNTQpOwpuLl9fJCRfX2p4X3VpX2h0bWxfdGJvZHkgPSBpKDUzKTsKbi5fXyQkX19qeF91aV9odG1sX3RyID0gaSg1Mik7Cm4uX18kJF9fanhfdWlfaHRtbF90ZCA9IGkoNTEpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX2h0bWxfdGFibGUsICIiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfaHRtbF90Ym9keSwgIiIsICIiLCBbIFsgbi5fXyQkX19qeF91aV9odG1sX3RyLCAiIiwgIiIsIFsgWyBuLl9fJCRfX2p4X3VpX2h0bWxfdGQsICIiLCAiIiwgWyBbIG4uX18kJF9fanhfdWlfV2lkZ2V0LCAiYmFyIiwgIiIsIFtdLCB7CmlkOiAiYmFyIiwKYWRkQ2xhc3M6ICJiYXIiCn0gXSBdLCB7CmFkZENsYXNzOiAidGQiCn0gXSBdLCB7fSBdIF0sIHt9IF0gXSwgewphZGRDbGFzczogInRhYmxlIgp9IF0sIFsgbi5fXyQkX19qeF91aV9XaWRnZXQsICIiLCAiIiwgW10sIHsKYWRkQ2xhc3M6ICJvdmVybGF5Igp9IF0gXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6d2lkZ2V0cyI6ICJtZXNoaW0ud2lkZ2V0LndpZGdldHMiLApzZWxlY3RhYmxlOiAiZmFsc2UiCn0gXSwgdSA9IGRbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBzLm1hbmdsZUlEcyhvLCBkWzNdKSwgZFs0XSksIGMgPSB1IHx8IHRoaXM7CnMuc2V0KG8sIGMpOwp2YXIgaCA9IHMuZ2V0KG8gKyAiX19iYXIiKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIGYgPSBmdW5jdGlvbigpIHsKdmFyIHQgPSBpKDEyKSwgZSA9IGkoMyk7CmMuc2V0Q29sb3IgPSBmdW5jdGlvbih0KSB7Cmguc2V0QmFja2dyb3VuZCh0KTsKfTsKYy5zZXRCYXJXaWR0aCA9IGZ1bmN0aW9uKHQpIHsKaC5zZXRXaWR0aCh0KTsKfTsKYy5zZXRCYXJIZWlnaHQgPSBmdW5jdGlvbih0KSB7Cmguc2V0SGVpZ2h0KHQpOwp9OwpjLnNldE1vYmlsZSA9IGZ1bmN0aW9uKGkpIHsKaWYgKHQoaSkpIHsKdmFyIG4gPSBwYXJzZUludChlLmdldFZhcmlhYmxlKCJ0aXRsZUJhckhlaWdodCIpLCAxMCksIG8gPSBuIC8gMi43NSwgciA9IG8gLyA4OwpjLnNldFdpZHRoKG4pOwpjLnNldEhlaWdodChuKTsKaC5zZXRXaWR0aChvKTsKaC5zZXRIZWlnaHQocik7Cn0KfTsKfSgpOwpmb3IgKHZhciBnIGluIGYpIGNbZ10gPSBmW2ddOwpjLmZpcmUgJiYgYy5maXJlKCJpbml0Iik7CmMuc2V0U3R5bGUgJiYgYy5zZXRTdHlsZShyKTsKYy5zZXRBdHRyaWJ1dGVzICYmIGMuc2V0QXR0cmlidXRlcyhsKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5hZGRDaGlsZHJlbiA/IGMuYWRkQ2hpbGRyZW4oXykgOiBzLmFkZENoaWxkcmVuKGMsIF8pOwppZiAoYyAhPT0gdGhpcykgewpjLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKYy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gYzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19qeF91aV9XaWRnZXQucHJvdG90eXBlKTsKdC5wcm90b3R5cGUuX19qeF9fbmF0aXZlID0gITE7CnQuX19qeF9famNzcyA9IHsKIioqc2VsZiI6IHsKd2lkdGg6ICIyMnB4IiwKaGVpZ2h0OiAiMjJweCIsCnBvc2l0aW9uOiAicmVsYXRpdmUiLApvdmVyZmxvdzogImhpZGRlbiIKfSwKIi5iYXIiOiB7CndpZHRoOiAiMTBweCIsCmhlaWdodDogIjJweCIsCm1hcmdpbjogImF1dG8iLApiYWNrZ3JvdW5kQ29sb3I6IFsgIiQkdGl0bGVCYXJDb2xvciIsICIkJHRpdGxlQmFySWNvbnNDb2xvciIgXQp9LAoiLnRhYmxlIjogewp3aWR0aDogIjEwMCUiLApoZWlnaHQ6ICIxMDAlIiwKdGFibGVMYXlvdXQ6ICJmaXhlZCIsCmJvcmRlclNwYWNpbmc6ICIwIiwKYm9yZGVyQ29sbGFwc2U6ICJjb2xsYXBzZSIKfSwKIi50ZCI6IHsKdmVydGljYWxBbGlnbjogIm1pZGRsZSIKfSwKIi5vdmVybGF5Ijogewpwb3NpdGlvbjogImFic29sdXRlIiwKInRvcCwgbGVmdCI6ICIwIiwKIndpZHRoLCBoZWlnaHQiOiAiMTAwJSIsCmJhY2tncm91bmRDb2xvcjogInRyYW5zcGFyZW50Igp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX2p4X3VpX1dpZGdldCwgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfdGl0bGVCYXJfTWluaW1pemVCdXR0b24iCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4odCkgewpmdW5jdGlvbiBlKCkgewp2YXIgdCA9IGkuc2Nyb2xsSGVpZ2h0LCBlID0gaS5vZmZzZXRIZWlnaHQsIG4gPSBpLnNjcm9sbFRvcDsKdCAtIGUgIT0gMSAmJiAodCAtIGUgLSBuID09IDAgPyBpLnNjcm9sbFRvcCA9IHQgLSBlIC0gcyA6IDAgPT09IG4gJiYgKGkuc2Nyb2xsVG9wID0gcykpOwp9CnZhciBpID0gdC5kb20sIG4gPSBvLmRlYm91bmNlKGUsIGEpOwp0Lm9uKCJzY3JvbGwiLCBuKTsKbigpOwpzZXRUaW1lb3V0KG4sIHIpOwp9CnZhciBvID0gaSgzNCksIHIgPSAxZTMsIGEgPSA1MCwgcyA9IDE7CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDUpLCBvID0gaSgwKSwgciA9IGkoMSksIGEgPSBpKDMpLCBzID0gKGkoMiksIGkoNCkpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19icmFuZGluZ19MaW5rID0gaSgxNzEpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19JY29uRm9udCA9IGkoMTUpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX2JyYW5kaW5nX0xpbmssICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0ljb25Gb250LCAiIiwgIiIsIFtdLCB7CmFkZENsYXNzOiAibG9nbyIsCmljb246ICJ6ZW5kZXNrXzIwMTYiCn0gXSBdLCB7CnhtbG5zOiAiangudWkuaHRtbCIsCiJ4bWxuczp1aSI6ICJqeC51aSIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIKfSBdLCB1ID0gZFswXS5jYWxsKHRoaXMsIGUsIG8sIG51bGwsIHMubWFuZ2xlSURzKG8sIGRbM10pLCBkWzRdKSwgYyA9IHUgfHwgdGhpczsKcy5zZXQobywgYyk7CmlmICghdC5fX2p4X19qY3NzX2dlbmVyYXRlZCkgewphLmdlbmVyYXRlKGUsIHQucHJvdG90eXBlLl9fanhfX2ZxbmFtZSwgdC5fX2p4X19qY3NzLCBudWxsLCB0KTsKdC5fX2p4X19qY3NzX2dlbmVyYXRlZCA9ICEwOwp9CnZhciBoID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoKSB7CmUoKTsKYy5zZXRUaXRsZShvLmJyYW5kaW5nLnRpdGxlX3plbmRlc2spOwp9CmZ1bmN0aW9uIGUoKSB7CmMuc2V0SHJlZigiaHR0cHM6Ly93d3cuemVuZGVzay5jb20vZW1iZWRkYWJsZXMvP3V0bV9zb3VyY2U9d2Vid2lkZ2V0Y2hhdCZ1dG1fbWVkaXVtPXBvd2VyZWRieXplbmRlc2smdXRtX2NhbXBhaWduPWltYWdlIik7Cn0KdmFyIG4gPSBpKDIpLCBvID0gaSgxMCk7CiFmdW5jdGlvbigpIHsKaWYgKG4gJiYgbi5vbkxhbmd1YWdlKSB7Cm4ub25MYW5ndWFnZSh0KTsKYy5vbkRlc3RydWN0aW9uKGZ1bmN0aW9uKCkgewpuLnVuTGFuZ3VhZ2UodCk7Cn0pOwp9CnQoKTsKfSgpOwp9KCk7CmZvciAodmFyIGYgaW4gaCkgY1tmXSA9IGhbZl07CmMuZmlyZSAmJiBjLmZpcmUoImluaXQiKTsKYy5zZXRTdHlsZSAmJiBjLnNldFN0eWxlKHIpOwpjLnNldEF0dHJpYnV0ZXMgJiYgYy5zZXRBdHRyaWJ1dGVzKGwpOwoiZnVuY3Rpb24iID09IHR5cGVvZiBjLmFkZENoaWxkcmVuID8gYy5hZGRDaGlsZHJlbihfKSA6IHMuYWRkQ2hpbGRyZW4oYywgXyk7CmlmIChjICE9PSB0aGlzKSB7CmMuX19qeF9fY29uc3RydWN0b3IgPSB0aGlzLl9fanhfX2NvbnN0cnVjdG9yOwpjLl9fanhfX25hdGl2ZSA9IHRoaXMuX19qeF9fbmF0aXZlOwp9CnJldHVybiBjOwp9CnQucHJvdG90eXBlID0gbyhuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19icmFuZGluZ19MaW5rLnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CmZvbnRTaXplOiAiMTBweCIKfSwKIiYubW9iaWxlIjogewpmb250U2l6ZTogIjExcHgiCn0sCiIubG9nbyI6IHsKbGluZUhlaWdodDogImluaGVyaXQiLApwYWRkaW5nVG9wOiAiMnB4IiwKcGFkZGluZ1JpZ2h0OiAiMXB4Igp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19icmFuZGluZ19MaW5rLCB7CmZxbmFtZTogIm1lc2hpbV93aWRnZXRfd2lkZ2V0c19icmFuZGluZ19aZW5kZXNrR29saW9uIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX2JyYW5kaW5nX0xpbmsgPSBpKDE3MSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX0ljb25Gb250ID0gaSgxNSk7CnQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KGUsIG8sIHIsIF8sIGwpIHsKaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgbywgciwgXywgbCk7Cm8gPSBvIHx8IHMuZ2VuZXJhdGVJRCgpOwp2YXIgZCA9IFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfYnJhbmRpbmdfTGluaywgIiIsICIiLCBbIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfSWNvbkZvbnQsICIiLCAiIiwgW10sIHsKYWRkQ2xhc3M6ICJsb2dvIiwKaWNvbjogInplbmRlc2tfMjAxNiIKfSBdIF0sIHsKeG1sbnM6ICJqeC51aS5odG1sIiwKInhtbG5zOnVpIjogImp4LnVpIiwKInhtbG5zOndpZGdldHMiOiAibWVzaGltLndpZGdldC53aWRnZXRzIgp9IF0sIHUgPSBkWzBdLmNhbGwodGhpcywgZSwgbywgbnVsbCwgcy5tYW5nbGVJRHMobywgZFszXSksIGRbNF0pLCBjID0gdSB8fCB0aGlzOwpzLnNldChvLCBjKTsKaWYgKCF0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CmEuZ2VuZXJhdGUoZSwgdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCB0Ll9fanhfX2pjc3MsIG51bGwsIHQpOwp0Ll9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIGggPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCgpIHsKbigpLCBjLnNldFRpdGxlKHMuYnJhbmRpbmcudGl0bGVfZ29saW9uKTsKfQpmdW5jdGlvbiBlKHQpIHsKdmFyIGU7CnN3aXRjaCAodCkgewpjYXNlICJlcyI6CmUgPSAiZXMiOwpicmVhazsKCmNhc2UgInB0X0JSIjoKZSA9ICJjb20uYnIiOwpicmVhazsKCmNhc2UgImZyX0NBIjoKY2FzZSAiZnIiOgplID0gImZyIjsKYnJlYWs7CgpjYXNlICJkZSI6CmUgPSAiZGUiOwpicmVhazsKCmNhc2UgIml0IjoKZSA9ICJpdCI7CmJyZWFrOwoKY2FzZSAibmwiOgplID0gIm5sIjsKYnJlYWs7CgpjYXNlICJqYSI6CmUgPSAiY28uanAiOwpicmVhazsKCmNhc2UgInJ1IjoKZSA9ICJjb20ucnUiOwpicmVhazsKCmNhc2UgImtvIjoKZSA9ICJrciI7CmJyZWFrOwoKY2FzZSAiemhfVFciOgplID0gInR3IjsKYnJlYWs7CgpkZWZhdWx0OgplID0gImNvbSI7Cn0KcmV0dXJuICJodHRwczovL3d3dy56ZW5kZXNrLiIgKyBlICsgIi9jaGF0L2xpdmUtY2hhdC13aWRnZXQvIjsKfQpmdW5jdGlvbiBuKCkgewp2YXIgdCA9IGwuZ2V0VmFsdWUoKSA/IHIoKS5nZXQoImhvc3RuYW1lIikgOiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUsIGkgPSB7CnV0bV9jYW1wYWlnbjogInBvd2VyZWRieXplbmRlc2siLAp1dG1fbWVkaXVtOiAiY2hhdHdpZGdldCIsCnV0bV90ZXJtOiBkLmdldFZhbHVlKCksCnV0bV9zb3VyY2U6IHQsCmlyZWY6IGQuZ2V0VmFsdWUoKSwKbGFuZzogby5sYW5ndWFnZQp9LCBuID0gci5idWlsZFF1ZXJ5KGkpOwpjLnNldEhyZWYoWyBlKG8ubGFuZ3VhZ2UpLCAiPyIsIG4gXS5qb2luKCIiKSk7Cn0KdmFyIG8gPSBpKDIpLCByID0gaSgzNiksIGEgPSAoaSgxOCksIGkoNikpLCBzID0gaSgxMCksIF8gPSBhLnJvb3QuJCgibGl2ZWNoYXQiKSwgbCA9IF8uJCgidWkiKS4kKCJwb3BvdXQkYm9vbCIpLCBkID0gXy4kKCJhY2NvdW50IikuJCgia2V5JHN0cmluZyIpOwohZnVuY3Rpb24oKSB7CmMuYXV0b2JpbmQobCwgInZhbHVlIiwgbik7CmMuYXV0b2JpbmQoZCwgInZhbHVlIiwgbik7CmlmIChvICYmIG8ub25MYW5ndWFnZSkgewpvLm9uTGFuZ3VhZ2UodCk7CmMub25EZXN0cnVjdGlvbihmdW5jdGlvbigpIHsKby51bkxhbmd1YWdlKHQpOwp9KTsKfQp0KCk7Cn0oKTsKfSgpOwpmb3IgKHZhciBmIGluIGgpIGNbZl0gPSBoW2ZdOwpjLmZpcmUgJiYgYy5maXJlKCJpbml0Iik7CmMuc2V0U3R5bGUgJiYgYy5zZXRTdHlsZShyKTsKYy5zZXRBdHRyaWJ1dGVzICYmIGMuc2V0QXR0cmlidXRlcyhsKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5hZGRDaGlsZHJlbiA/IGMuYWRkQ2hpbGRyZW4oXykgOiBzLmFkZENoaWxkcmVuKGMsIF8pOwppZiAoYyAhPT0gdGhpcykgewpjLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKYy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gYzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfYnJhbmRpbmdfTGluay5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewpmb250U2l6ZTogIjEwcHgiCn0sCiImLm1vYmlsZSI6IHsKZm9udFNpemU6ICIxMXB4Igp9LAoiLmxvZ28iOiB7CmxpbmVIZWlnaHQ6ICJpbmhlcml0IiwKcGFkZGluZ1RvcDogIjJweCIsCnBhZGRpbmdSaWdodDogIjFweCIKfQp9OwoiZnVuY3Rpb24iID09IHR5cGVvZiByICYmIHIodCwgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfYnJhbmRpbmdfTGluaywgewpmcW5hbWU6ICJtZXNoaW1fd2lkZ2V0X3dpZGdldHNfYnJhbmRpbmdfWm9waW1Hb2xpb24iCn0pOwpyZXR1cm4gdDsKfSgpOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg1KSwgbyA9IGkoMCksIHIgPSBpKDEpLCBhID0gaSgzKSwgcyA9IChpKDIpLCBpKDQpKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X3dpZGdldHNfVmlld1N0YWNrID0gaSg1NSk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfTmV3Q2hhdEZvcm0gPSBpKDE3Mik7Cm4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfUHJlQ2hhdE9mZmxpbmVGb3JtID0gaSgxNjQpOwpuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X0NoYXRQYW5lbCA9IGkoMzAxKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19Qb3N0Q2hhdEZvcm0gPSBpKDEzMik7Cm4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfQ29va2llRm9ybSA9IGkoMTMwKTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19DYXJkRm9ybSA9IGkoMTI5KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19BZ2VudExpc3QgPSBpKDEyOCk7Cm4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfQWJvdXRQYW5lbCA9IGkoMTI3KTsKbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19SYXRpbmdQYW5lbCA9IGkoMTI2KTsKdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7CmZ1bmN0aW9uIHQoZSwgbywgciwgXywgbCkgewppZiAoISh0aGlzIGluc3RhbmNlb2YgdCkpIHJldHVybiBuZXcgdChlLCBvLCByLCBfLCBsKTsKbyA9IG8gfHwgcy5nZW5lcmF0ZUlEKCk7CnZhciBkID0gWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19WaWV3U3RhY2ssICIiLCAiIiwgWyBbIG4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfTmV3Q2hhdEZvcm0sICIiLCAiIiwgW10sIHsKbmFtZTogIm5ld19jaGF0X2Zvcm0iLAphZGRDbGFzczogInN0YWNrX2NoaWxkX21pbmkgICAgIHN0YWNrX2NoaWxkX25vX21lbnUgZm9yY2VfZG9jayIKfSBdLCBbIG4uX18kJF9fbWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfUHJlQ2hhdE9mZmxpbmVGb3JtLCAiIiwgIiIsIFtdLCB7Cm5hbWU6ICJwcmVfY2hhdF9vZmZsaW5lX2Zvcm0iLAphZGRDbGFzczogInN0YWNrX2NoaWxkX3N0YW5kYXJkIHN0YWNrX2NoaWxkX25vX21lbnUiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X0NoYXRQYW5lbCwgIiIsICIiLCBbXSwgewpuYW1lOiAiY2hhdF9wYW5lbCIsCmFkZENsYXNzOiAic3RhY2tfY2hpbGRfc3RhbmRhcmQiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X1Bvc3RDaGF0Rm9ybSwgIiIsICIiLCBbXSwgewpuYW1lOiAicG9zdF9jaGF0X2Zvcm0iLAphZGRDbGFzczogInN0YWNrX2NoaWxkX3N0YW5kYXJkIHN0YWNrX2NoaWxkX25vX21lbnUiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X0Nvb2tpZUZvcm0sICIiLCAiIiwgW10sIHsKbmFtZTogImNvb2tpZV9mb3JtIiwKYWRkQ2xhc3M6ICJzdGFja19jaGlsZF9zdGFuZGFyZCBzdGFja19jaGlsZF9ub19tZW51Igp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19DYXJkRm9ybSwgIiIsICIiLCBbXSwgewpuYW1lOiAiY2FyZF9mb3JtIiwKYWRkQ2xhc3M6ICJzdGFja19jaGlsZF9zdGFuZGFyZCBzdGFja19jaGlsZF9ub19tZW51Igp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19BZ2VudExpc3QsICIiLCAiIiwgW10sIHsKbmFtZTogImFnZW50X2xpc3QiLAphZGRDbGFzczogInN0YWNrX2NoaWxkX3N0YW5kYXJkIHN0YWNrX2NoaWxkX25vX21lbnUiCn0gXSwgWyBuLl9fJCRfX21lc2hpbV93aWRnZXRfY29tcG9uZW50c19jaGF0V2luZG93X0Fib3V0UGFuZWwsICIiLCAiIiwgW10sIHsKbmFtZTogImFib3V0X3BhbmVsIiwKYWRkQ2xhc3M6ICJzdGFja19jaGlsZF9zdGFuZGFyZCBzdGFja19jaGlsZF9ub19tZW51Igp9IF0sIFsgbi5fXyQkX19tZXNoaW1fd2lkZ2V0X2NvbXBvbmVudHNfY2hhdFdpbmRvd19SYXRpbmdQYW5lbCwgIiIsICIiLCBbXSwgewpuYW1lOiAicmF0aW5nX3BhbmVsIiwKYWRkQ2xhc3M6ICJzdGFja19jaGlsZF9zdGFuZGFyZCBzdGFja19jaGlsZF9ub19tZW51Igp9IF0gXSwgewoieG1sbnM6dWkiOiAiangudWkiLAoieG1sbnM6Y2hhdFdpbmRvdyI6ICJtZXNoaW0ud2lkZ2V0LmNvbXBvbmVudHMuY2hhdFdpbmRvdyIsCiJ4bWxuczp3aWRnZXRzIjogIm1lc2hpbS53aWRnZXQud2lkZ2V0cyIsCmFkZENsYXNzOiAibWFpbl9zdGFjayIsCm9uQ2hpbGRIaWRlOiAiLTEiCn0gXSwgdSA9IGRbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBzLm1hbmdsZUlEcyhvLCBkWzNdKSwgZFs0XSksIGMgPSB1IHx8IHRoaXM7CnMuc2V0KG8sIGMpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgaCA9IGZ1bmN0aW9uKCkgewp2YXIgdCA9IGkoOSk7CnQucG9wb3V0KGMpOwp0Lm1vYmlsZShjKTsKdC53aW5kb3dQb3NpdGlvbihjLCAibXNfIik7Cn0oKTsKZm9yICh2YXIgZiBpbiBoKSBjW2ZdID0gaFtmXTsKYy5maXJlICYmIGMuZmlyZSgiaW5pdCIpOwpjLnNldFN0eWxlICYmIGMuc2V0U3R5bGUocik7CmMuc2V0QXR0cmlidXRlcyAmJiBjLnNldEF0dHJpYnV0ZXMobCk7CiJmdW5jdGlvbiIgPT0gdHlwZW9mIGMuYWRkQ2hpbGRyZW4gPyBjLmFkZENoaWxkcmVuKF8pIDogcy5hZGRDaGlsZHJlbihjLCBfKTsKaWYgKGMgIT09IHRoaXMpIHsKYy5fX2p4X19jb25zdHJ1Y3RvciA9IHRoaXMuX19qeF9fY29uc3RydWN0b3I7CmMuX19qeF9fbmF0aXZlID0gdGhpcy5fX2p4X19uYXRpdmU7Cn0KcmV0dXJuIGM7Cn0KdC5wcm90b3R5cGUgPSBvKG4uX18kJF9fbWVzaGltX3dpZGdldF93aWRnZXRzX1ZpZXdTdGFjay5wcm90b3R5cGUpOwp0LnByb3RvdHlwZS5fX2p4X19uYXRpdmUgPSAhMTsKdC5fX2p4X19qY3NzID0gewoiKipzZWxmIjogewpvdmVyZmxvdzogImhpZGRlbiIsCmJveFNoYWRvdzogIiQkd2luZG93U2hhZG93Igp9LAoiJi5tc19iciwgJi5tc19ibSwgJi5tc19ibCI6IHsKImJvcmRlclRvcExlZnRSYWRpdXMsIGJvcmRlclRvcFJpZ2h0UmFkaXVzIjogIiQkd2luZG93UmFkaXVzIgp9LAoiJi5tc190ciwgJi5tc190bSwgJi5tc190bCI6IHsKImJvcmRlckJvdHRvbUxlZnRSYWRpdXMsIGJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzIjogIiQkd2luZG93UmFkaXVzIgp9LAoiJi5wb3BvdXQiOiB7Cm1hcmdpbjogIjAgYXV0byIsCm1heFdpZHRoOiAiNjUwcHgiLAptaW5XaWR0aDogIjI0MHB4IiwKbWluSGVpZ2h0OiAiMzM1cHgiLApoZWlnaHQ6ICIxMDAlIiwKYm9yZGVyUmFkaXVzOiAiMCIKfSwKIiYubW9iaWxlIjogewoibWluV2lkdGgsIG1pbkhlaWdodCI6ICIwIiwKbWF4V2lkdGg6ICJub25lIgp9Cn07CiJmdW5jdGlvbiIgPT0gdHlwZW9mIHIgJiYgcih0LCBuLl9fJCRfX21lc2hpbV93aWRnZXRfd2lkZ2V0c19WaWV3U3RhY2ssIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF9jb21wb25lbnRzX2NoYXRXaW5kb3dfTWFpblN0YWNrIgp9KTsKcmV0dXJuIHQ7Cn0oKTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoNSksIG8gPSBpKDApLCByID0gaSgxKSwgYSA9IGkoMyksIHMgPSAoaSgyKSwgaSg0KSk7Cm4uX18kJF9fanhfdWlfRmxvYXRpbmdGcmFtZSA9IGkoNzIpOwp0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdChlLCBvLCByLCBfLCBsKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIG8sIHIsIF8sIGwpOwpvID0gbyB8fCBzLmdlbmVyYXRlSUQoKTsKdmFyIGQgPSBbIG4uX18kJF9fanhfdWlfRmxvYXRpbmdGcmFtZSwgIiIsICIiLCBbXSwgewp4bWxuczogImp4LnVpLmh0bWwiLAoieG1sbnM6dWkiOiAiangudWkiCn0gXSwgdSA9IGRbMF0uY2FsbCh0aGlzLCBlLCBvLCBudWxsLCBzLm1hbmdsZUlEcyhvLCBkWzNdKSwgZFs0XSksIGMgPSB1IHx8IHRoaXM7CnMuc2V0KG8sIGMpOwppZiAoIXQuX19qeF9famNzc19nZW5lcmF0ZWQpIHsKYS5nZW5lcmF0ZShlLCB0LnByb3RvdHlwZS5fX2p4X19mcW5hbWUsIHQuX19qeF9famNzcywgbnVsbCwgdCk7CnQuX19qeF9famNzc19nZW5lcmF0ZWQgPSAhMDsKfQp2YXIgaCA9IGZ1bmN0aW9uKCkgewpmdW5jdGlvbiB0KHQpIHsKcmV0dXJuIG5ldyB1KHQsIG51bGwsIG51bGwsIG51bGwsIHsKcG9zaXRpb246ICJhYnNvbHV0ZSIsCnRvcDogMCwKbGVmdDogMCwKd2lkdGg6ICIxMDAlIiwKaGVpZ2h0OiAiMTAwJSIsCm1hcmdpbjogMCwKcGFkZGluZzogMAp9KTsKfQpmdW5jdGlvbiBlKGUsIGkpIHsKaWYgKCFlIHx8ICFlLmJ1dHRvbikgewpjLnJhaXNlKGUsIDIpOwpDIHx8IChDID0gdChkb2N1bWVudC5ib2R5KSk7CkMuc3R5bGUuekluZGV4ID0gYy5zdHlsZS56SW5kZXggLSAxOwpDLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwprID0gITE7CmUgfHwgKGUgPSBmLmV2ZW50KTsKaWYgKGUpIHsKeCA9IGUuY2xpZW50WDsKdiA9IGUuY2xpZW50WTsKeSA9IGMuZ2V0V2lkdGgoKTsKaiA9IGMuZ2V0SGVpZ2h0KCk7CiQgPSBpOwpTID0gZG9jdW1lbnQub25tb3VzZW1vdmU7CkEgPSBkb2N1bWVudC5vbm1vdXNldXA7Cmcub25tb3VzZW1vdmUgPSBuOwpkb2N1bWVudC5vbm1vdXNlbW92ZSA9IG87Cmcub25tb3VzZXVwID0gZG9jdW1lbnQub25tb3VzZXVwID0gcjsKZy5vbnNlbGVjdHN0YXJ0ID0gZnVuY3Rpb24oKSB7CnJldHVybiAhMTsKfTsKZS5wcmV2ZW50RGVmYXVsdCAmJiBlLnByZXZlbnREZWZhdWx0KCk7CmMuZmlyZSgiang6YWN0aXZhdGUiKTsKcmV0dXJuICExOwp9Cn0KfQpmdW5jdGlvbiBuKHQpIHsKaWYgKCFrKSB7CmMuZmlyZSgic3RhcnRkcmFnIik7CmsgPSAhMDsKfQp0IHx8ICh0ID0gd2luZG93LmV2ZW50KTsKdCB8fCAodCA9IGYuZXZlbnQpOwppZiAoIShkLmlzSUUgPCA5KSB8fCB0LmJ1dHRvbikgewpiID0gdC5jbGllbnRYIC0geDsKdyA9IHQuY2xpZW50WSAtIHY7CmlmICgkKSB7CmMuc2V0V2lkdGgoYSh5ICsgYikpOwpjLnNldEhlaWdodChhKGogKyB3KSk7Cn0gZWxzZSB7CmMubW92ZShiLCB3KTsKYy5maXJlKCJqeDpkcmFnIik7CmwudGljaygpOwp9CnJldHVybiAhMTsKfQpyKCk7Cn0KZnVuY3Rpb24gbyh0KSB7CmlmICghaykgewpjLmZpcmUoInN0YXJ0ZHJhZyIpOwprID0gITA7Cn0KdCB8fCAodCA9IHdpbmRvdy5ldmVudCk7CnQgfHwgKHQgPSBmLmV2ZW50KTsKaWYgKCEoZC5pc0lFIDwgOSkgfHwgdC5idXR0b24pIHsKYiA9IHQuY2xpZW50WCAtIHg7CncgPSB0LmNsaWVudFkgLSB2OwppZiAoZC5pc0lFKSB7CmIgLT0gcyhkb2N1bWVudC5ib2R5LmN1cnJlbnRTdHlsZS5ib3JkZXJMZWZ0V2lkdGgpOwp3IC09IHMoZG9jdW1lbnQuYm9keS5jdXJyZW50U3R5bGUuYm9yZGVyVG9wV2lkdGgpOwp9CmlmICgkKSB7CmMuc2V0V2lkdGgoYSh5ICsgYiAtIGMuZG9tLm9mZnNldExlZnQpKTsKYy5zZXRIZWlnaHQoYShqICsgdyAtIGMuZG9tLm9mZnNldFRvcCkpOwp9IGVsc2UgYy5tb3ZlVG8oYiwgdyk7CmMuZmlyZSgiang6ZHJhZyIpOwpyZXR1cm4gITE7Cn0KcigpOwp9CmZ1bmN0aW9uIHIoKSB7CkMuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKZG9jdW1lbnQub25tb3VzZW1vdmUgPSBTOwpkb2N1bWVudC5vbm1vdXNldXAgPSBBOwpnLm9ubW91c2Vtb3ZlID0gbnVsbDsKZy5vbm1vdXNldXAgPSBudWxsOwpnLm9uc2VsZWN0c3RhcnQgPSBudWxsOwppZiAoaykgewpjLmZpcmUoImVuZGRyYWciKTsKayA9ICExOwp9Cn0KZnVuY3Rpb24gYSh0KSB7CnJldHVybiBNYXRoLm1heChNYXRoLm1pbih0LCB3aW5kb3cuaW5uZXJXaWR0aCksIGgpIHx8IGg7Cn0KZnVuY3Rpb24gcyh0KSB7CnJldHVybiBwYXJzZUludCh0LCAxMCkgfHwgMDsKfQp2YXIgXywgbCA9IGkoMTYpLCBkID0gaSg4KSwgdSA9IGkoNyksIGggPSA1MCwgZiA9IGMuaXdpbiwgZyA9IGMuaWRvYzsKYy5vbigibW91c2Vkb3duIiwgYy5yYWlzZSk7Cmcub25tb3VzZWRvd24gPSBlOwp2YXIgcCwgbSA9IDA7CmMuc2V0UmVzaXphYmxlTm9kZSA9IGZ1bmN0aW9uKHQpIHsKdCAmJiB0LmRvbSAmJiAodCA9IHQuZG9tKTsKcCAmJiAocC5vbm1vdXNlZG93biA9IG51bGwpOwppZiAodCkgewp0Lm9ubW91c2Vkb3duID0gZnVuY3Rpb24odCkgewppZiAoMCA9PT0gbSkgewptID0gMTsKc2V0VGltZW91dChmdW5jdGlvbigpIHsKbSA9IDA7Cn0sIDMwMCk7CmUodCwgITApOwp9IGVsc2UgYy5maXRUb0NvbnRlbnRzKGMsIDFlMywgMWUzKTsKfTsKcCA9IHQ7Cn0KfTsKYy5nZXREcmFnZ2FibGVOb2RlID0gZnVuY3Rpb24oKSB7CnJldHVybiBfOwp9OwpjLnNldERyYWdnYWJsZU5vZGUgPSBmdW5jdGlvbih0KSB7CnQgJiYgdC5kb20gJiYgKHQgPSB0LmRvbSk7CmlmICh0KSB7CmMuc2V0Qm91bmRzKFsgMCwgMCwgMCwgMCBdKTsKXyA9IHQ7Cmcub25tb3VzZWRvd24gPSBudWxsOwp0Lm9ubW91c2Vkb3duID0gZTsKdC5zdHlsZS5jdXJzb3IgPSAibW92ZSI7Cn0gZWxzZSB7CmlmIChfKSB7Cl8ub25tb3VzZWRvd24gPSBudWxsOwpfLnN0eWxlLmN1cnNvciA9ICJkZWZhdWx0IjsKXyA9IG51bGw7Cn0KZy5vbm1vdXNlZG93biA9IG51bGw7Cn0KfTsKdmFyICQsIGIsIHcsIHgsIHYsIHksIGosIEMsIFMsIEEsIGsgPSAhMTsKfSgpOwpmb3IgKHZhciBmIGluIGgpIGNbZl0gPSBoW2ZdOwpjLmZpcmUgJiYgYy5maXJlKCJpbml0Iik7CmMuc2V0U3R5bGUgJiYgYy5zZXRTdHlsZShyKTsKYy5zZXRBdHRyaWJ1dGVzICYmIGMuc2V0QXR0cmlidXRlcyhsKTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgYy5hZGRDaGlsZHJlbiA/IGMuYWRkQ2hpbGRyZW4oXykgOiBzLmFkZENoaWxkcmVuKGMsIF8pOwppZiAoYyAhPT0gdGhpcykgewpjLl9fanhfX2NvbnN0cnVjdG9yID0gdGhpcy5fX2p4X19jb25zdHJ1Y3RvcjsKYy5fX2p4X19uYXRpdmUgPSB0aGlzLl9fanhfX25hdGl2ZTsKfQpyZXR1cm4gYzsKfQp0LnByb3RvdHlwZSA9IG8obi5fXyQkX19qeF91aV9GbG9hdGluZ0ZyYW1lLnByb3RvdHlwZSk7CnQucHJvdG90eXBlLl9fanhfX25hdGl2ZSA9ICExOwp0Ll9fanhfX2pjc3MgPSB7fTsKImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKHQsIG4uX18kJF9fanhfdWlfRmxvYXRpbmdGcmFtZSwgewpmcW5hbWU6ICJqeF91aV9EcmFnZ2FibGVGcmFtZSIKfSk7CnJldHVybiB0Owp9KCk7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpLCBvLCBsKSB7CmZ1bmN0aW9uIHYoKSB7CmV0LmN1cnJlbnRDaGlsZCAmJiBldC5jdXJyZW50Q2hpbGQuaGFzQ2xhc3MoInN0YWNrX2NoaWxkX25vX21lbnUiKSAmJiBGLnVwZGF0ZSgiIik7Cn0KZnVuY3Rpb24geSgpIHsKaWYgKCF6ICYmIGV0KSB7CnZhciB0ID0gZXQuY3VycmVudENoaWxkOwppZiAodCkgewpLLndyYXBwZXIuc2V0UG9zaXRpb24oImFic29sdXRlIik7CnN3aXRjaCAoVCkgewpjYXNlICJibCI6CmNhc2UgImJtIjoKY2FzZSAiYnIiOgpLLndyYXBwZXIuc2V0VG9wKCIiKS5zZXRCb3R0b20oMCk7CmJyZWFrOwoKY2FzZSAidGwiOgpjYXNlICJ0bSI6CmNhc2UgInRyIjoKSy53cmFwcGVyLnNldFRvcCgwKS5zZXRCb3R0b20oIiIpOwp9CnN3aXRjaCAoVCkgewpjYXNlICJibCI6CmNhc2UgInRsIjoKSy53cmFwcGVyLnNldExlZnQoMCkuc2V0UmlnaHQoIiIpOwpicmVhazsKCmNhc2UgImJyIjoKY2FzZSAidHIiOgpLLndyYXBwZXIuc2V0TGVmdCgiIikuc2V0UmlnaHQoMCk7Cn0KdmFyIGUsIGk7CmlmICh0Lmhhc0NsYXNzKCJzdGFja19jaGlsZF9taW5pIikpIHsKZSA9IHIuZ2V0VmFyaWFibGUoIndpbmRvd01pbmlXaWR0aCIpOwppID0gci5nZXRWYXJpYWJsZSgid2luZG93TWluaUhlaWdodCIpOwp9IGVsc2UgewplID0gci5nZXRWYXJpYWJsZSgid2luZG93IiArIFEuc2xpY2UoMCwgMSkudG9VcHBlckNhc2UoKSArIFEuc2xpY2UoMSkgKyAiV2lkdGgiKTsKaSA9IHIuZ2V0VmFyaWFibGUoIndpbmRvdyIgKyBRLnNsaWNlKDAsIDEpLnRvVXBwZXJDYXNlKCkgKyBRLnNsaWNlKDEpICsgIkhlaWdodCIpOwp9CmUgPSBwYXJzZUludChlLCAxMCk7CmkgPSBwYXJzZUludChpLCAxMCk7Cksuc2V0V2lkdGgoZSArICJweCIpOwpLLnNldEhlaWdodChpICsgInB4Iik7Cn0KfQp9CmZ1bmN0aW9uIGooKSB7CmlmICgheikgaWYgKFkpIEsuc2V0VG9wKCIiKS5zZXRSaWdodCgiIikuc2V0Qm90dG9tKCIiKS5zZXRMZWZ0KCIiKTsgZWxzZSBzd2l0Y2ggKFQpIHsKY2FzZSAiYnIiOgpLLnNldFRvcCgiIikuc2V0TGVmdCgiIikuc2V0TWFyZ2luTGVmdCgiIikuc2V0UmlnaHQoWCkuc2V0Qm90dG9tKFopOwpicmVhazsKCmNhc2UgImJtIjoKSy5zZXRUb3AoIiIpLnNldFJpZ2h0KCIiKS5zZXRCb3R0b20oWikuc2V0TGVmdCgiNTAlIikuc2V0TWFyZ2luTGVmdCgtTWF0aC5yb3VuZChLLl9fd2lkdGggLyAyKSArICJweCIpOwpicmVhazsKCmNhc2UgImJsIjoKSy5zZXRUb3AoIiIpLnNldFJpZ2h0KCIiKS5zZXRNYXJnaW5MZWZ0KCIiKS5zZXRCb3R0b20oWikuc2V0TGVmdChYKTsKYnJlYWs7CgpjYXNlICJ0ciI6Cksuc2V0Qm90dG9tKCIiKS5zZXRMZWZ0KCIiKS5zZXRNYXJnaW5MZWZ0KCIiKS5zZXRUb3AoWikuc2V0UmlnaHQoWCk7CmJyZWFrOwoKY2FzZSAidG0iOgpLLnNldFJpZ2h0KCIiKS5zZXRCb3R0b20oIiIpLnNldFRvcChaKS5zZXRMZWZ0KCI1MCUiKS5zZXRNYXJnaW5MZWZ0KC1NYXRoLnJvdW5kKEsuX193aWR0aCAvIDIpICsgInB4Iik7CmJyZWFrOwoKY2FzZSAidGwiOgpLLnNldFJpZ2h0KCIiKS5zZXRCb3R0b20oIiIpLnNldE1hcmdpbkxlZnQoIiIpLnNldFRvcChaKS5zZXRMZWZ0KFgpOwp9Cn0KZnVuY3Rpb24gQygpIHsKZXQuY3VycmVudENoaWxkICYmIChldC5jdXJyZW50Q2hpbGQuaGFzQ2xhc3MoImZvcmNlX2RvY2siKSA/IGooKSA6IGV0LmN1cnJlbnRDaGlsZC5nZXREcmFnZ2FibGVOb2RlICYmIEsuc2V0RHJhZ2dhYmxlTm9kZShldC5jdXJyZW50Q2hpbGQuZ2V0RHJhZ2dhYmxlTm9kZSgpKSk7Cn0KZnVuY3Rpb24gUygpIHsKZm9yICh2YXIgdCA9IHIuZ2V0VmFyaWFibGUoIndpbmRvd1NoYWRvdyIpLCBlID0gMCwgaSA9IGIuY3Nzb21fcHJlZml4ZXMubGVuZ3RoOyBlIDwgaTsgZSsrKSBLLnNldFN0eWxlKGIuY3Nzb21fcHJlZml4ZXNbZV0gKyAoYi5jc3NvbV9wcmVmaXhlc1tlXSA/ICJCIiA6ICJiIikgKyAib3hTaGFkb3ciLCB0IHx8ICJub25lIik7Cn0KZnVuY3Rpb24gQSgpIHsKdmFyIHQsIGUgPSByLmdldFZhcmlhYmxlKCJ3aW5kb3dSYWRpdXMiKSwgaSA9IFsgIlRvcExlZnQiLCAiVG9wUmlnaHQiLCAiQm90dG9tUmlnaHQiLCAiQm90dG9tTGVmdCIgXTsKc3dpdGNoIChUKSB7CmNhc2UgImJyIjoKY2FzZSAiYm0iOgpjYXNlICJibCI6CnQgPSBbICEwLCAhMCwgITEsICExIF07CmJyZWFrOwoKY2FzZSAidHIiOgp0ID0gWyAhMSwgITEsICEwLCAhMCBdOwpicmVhazsKCmRlZmF1bHQ6CnQgPSBbXTsKfQpmb3IgKHZhciBuID0gMCwgbyA9IGIuY3Nzb21fcHJlZml4ZXMubGVuZ3RoOyBuIDwgbzsgbisrKSBmb3IgKHZhciBhID0gMCwgcyA9IGkubGVuZ3RoOyBhIDwgczsgYSsrKSBLLnNldFN0eWxlKGIuY3Nzb21fcHJlZml4ZXNbbl0gKyAoYi5jc3NvbV9wcmVmaXhlc1tuXSA/ICJCIiA6ICJiIikgKyAib3JkZXIiICsgaVthXSArICJSYWRpdXMiLCB0W2FdICYmIGUgPyBlIDogIm5vbmUiKTsKfQpmdW5jdGlvbiBrKHQpIHsKZm9yICh2YXIgZSA9IHQudGFyZ2V0Lmp4X3dyYXBwZXI7IGUgJiYgZS5wYXJlbnROb2RlICYmIGUucGFyZW50Tm9kZSAhPSBLOyApIHsKaWYgKGUgPT0gdHQpIHJldHVybjsKZSA9IGUucGFyZW50Tm9kZTsKfQpGLnVwZGF0ZSgiIik7Cn0KZnVuY3Rpb24gSSgpIHsKKEsud3JhcHBlciB8fCBLLmRlZmF1bHRQbGFjZW1lbnQpW18ucnRsKCkgPyAiYWRkQ2xhc3MiIDogInJlbW92ZUNsYXNzIl0oInJ0bCIpOwppZiAoIUsud3JhcHBlcikgewpLLmRvbS5kaXIgPSBfLnJ0bCgpID8gInJ0bCIgOiAibHRyIjsKSy5kb20ubGFuZyA9IF8ubGFuZ3VhZ2U7Cn0KfQppZiAoISh0aGlzIGluc3RhbmNlb2YgbikpIHJldHVybiBuZXcgbih0LCBlLCBpLCBvLCBsKTsKaWYgKCFuLl9fanhfX2pjc3NfZ2VuZXJhdGVkKSB7CnIuZ2VuZXJhdGUodGhpcywgbi5wcm90b3R5cGUuX19qeF9fZnFuYW1lLCBuLl9fanhfX2pjc3MsIG51bGwsIG4pOwpuLl9fanhfX2pjc3NfZ2VuZXJhdGVkID0gITA7Cn0KdmFyIFQsIE4gPSBoLnJvb3QuJCgibGl2ZWNoYXQiKSwgQiA9IE4uJCgidWkiKSwgRCA9IEIuJCgiY2hhdF93aW5kb3ciKSwgRSA9IEIuJCgidGhlbWVfbG9hZGVkJGJvb2wiKSwgTyA9IE4uJCgic2V0dGluZ3MiKS4kKCJ0aGVtZSIpLiQoImNoYXRfd2luZG93IikuJCgiaF9vZmZzZXQkaW50IiksIEwgPSBOLiQoInNldHRpbmdzIikuJCgidGhlbWUiKS4kKCJjaGF0X3dpbmRvdyIpLiQoInZfb2Zmc2V0JGludCIpLCBXID0gRC4kKCJkaXNwbGF5JGJvb2wiKSwgUCA9IEQuJCgiZm9yY2VfcmVzaXplJGJvb2wiKSwgUiA9IEQuJCgibWFpbl9zdGFja19uYW1lJHN0cmluZyIpLCBGID0gRC4kKCJtZW51X3N0YWNrX25hbWUkc3RyaW5nIiksIE0gPSBCLiQoInBvcG91dCRib29sIiksIFYgPSBCLiQoIm1vYmlsZSRib29sIiksIEggPSBCLiQoInRhYmxldCRib29sIiksIHEgPSBCLiQoIm1vY2t1cCRib29sIiksIHogPSBNLmdldFZhbHVlKCksIFUgPSBWLmdldFZhbHVlKCksIEcgPSBILmdldFZhbHVlKCksIFkgPSBxLmdldFZhbHVlKCksIFggPSAxMCwgWiA9IDAsIFEgPSAiIiwgSyA9IHRoaXM7CmwgfHwgKGwgPSB7fSk7CmlmICh6KSB7CmMuY2FsbCh0aGlzLCB0LCBlLCBpLCBvLCBsKTsKdy5wb3BvdXQodGhpcyk7CnRoaXMuZGVmYXVsdFBsYWNlbWVudCA9IG5ldyB1KHRoaXMsIG51bGwsIG51bGwsIG51bGwsIHsKY2xhc3NOYW1lOiBwLnByb3RvdHlwZS5fX2p4X19mcW5hbWUKfSk7CnRoaXMub24gPSBjLnByb3RvdHlwZS5vbjsKdGhpcy5maXJlID0gYy5wcm90b3R5cGUuZmlyZTsKVSAmJiB0aGlzLmRlZmF1bHRQbGFjZW1lbnQuc2V0UG9zaXRpb24oInJlbGF0aXZlIik7Cn0gZWxzZSB7CmQuY2FsbCh0aGlzLCB0LCBlLCBpLCBvLCBsKTsKSy5jb250ZW50LmFkZENsYXNzKHAucHJvdG90eXBlLl9fanhfX2ZxbmFtZSk7Cksud3JhcHBlci5hZGRDbGFzcyhLLl9fanhfX2ZxbmFtZSk7CksuaWJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiaGlkZGVuIjsKeC5iaW5kKHRoaXMuaXdpbik7CnZhciBKID0gSy5zZXREcmFnZ2FibGVOb2RlOwpLLnNldERyYWdnYWJsZU5vZGUgPSBmdW5jdGlvbih0KSB7CkouY2FsbCh0aGlzLCB0KTsKaWYgKHQpIHsKYS5pc0ZGICYmICh0LnN0eWxlLmN1cnNvciA9ICItbW96LWdyYWIiKTsKYS5pc1dlYktpdCAmJiAodC5zdHlsZS5jdXJzb3IgPSAiLXdlYmtpdC1ncmFiIik7Cn0KfTsKSy5vbigic3RhcnRkcmFnIiwgZnVuY3Rpb24oKSB7CnZhciB0ID0gSy5nZXREcmFnZ2FibGVOb2RlKCk7CmlmICh0KSB7CmEuaXNGRiAmJiAodC5zdHlsZS5jdXJzb3IgPSAiLW1vei1ncmFiYmluZyIpOwphLmlzV2ViS2l0ICYmICh0LnN0eWxlLmN1cnNvciA9ICItd2Via2l0LWdyYWJiaW5nIik7Cn0KfSk7Cksub24oImVuZGRyYWciLCBmdW5jdGlvbigpIHsKdmFyIHQgPSBLLmdldERyYWdnYWJsZU5vZGUoKTsKaWYgKHQpIHsKYS5pc0ZGICYmICh0LnN0eWxlLmN1cnNvciA9ICItbW96LWdyYWIiKTsKYS5pc1dlYktpdCAmJiAodC5zdHlsZS5jdXJzb3IgPSAiLXdlYmtpdC1ncmFiIik7Cn0KfSk7CnRoaXMuYXV0b2JpbmQoTywgInZhbHVlIiwgZnVuY3Rpb24odCkgewp0ID0gcGFyc2VJbnQodCwgMTApOwppZiAoIWlzTmFOKHQpICYmIHQgPj0gMCkgewpYID0gdDsKaigpOwp9Cn0pOwp0aGlzLmF1dG9iaW5kKEwsICJ2YWx1ZSIsIGZ1bmN0aW9uKHQpIHsKdCA9IHBhcnNlSW50KHQsIDEwKTsKaWYgKCFpc05hTih0KSAmJiB0ID49IDApIHsKWiA9IHQ7CmooKTsKfQp9KTsKdy53aW5kb3dQb3NpdGlvbihLLndyYXBwZXIsIG51bGwsIGZ1bmN0aW9uKHQpIHsKVCA9IHQ7CmooKTsKQSgpOwp9KTsKdy53aW5kb3dTaXplKEsud3JhcHBlciwgbnVsbCwgZnVuY3Rpb24odCkgewpRID0gdDsKeSgpOwp9KTsKfQppZiAoIXopIHsKdGhpcy5kb20uY2xhc3NOYW1lID0gInpvcGltIjsKdGhpcy5pZnJhbWUuc2V0U3R5bGUoImRpc3BsYXkiLCAiYmxvY2siKTsKfQpZICYmIEsuc2V0UG9zaXRpb24oInJlbGF0aXZlIik7ClUgJiYgdGhpcy5hZGRDbGFzcygibW9iaWxlIik7CkcgJiYgdGhpcy5hZGRDbGFzcygidGFibGV0Iik7CihLLmNvbnRlbnQgfHwgSykub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CkQudXBkYXRlKHsKbWFya19yZWFkX2lmX2JvdHRvbSRib29sOiAhMAp9KTsKfSk7Cm5ldyBtKHRoaXMuZGVmYXVsdFBsYWNlbWVudCk7Cm5ldyAkKHRoaXMuZGVmYXVsdFBsYWNlbWVudCk7CnZhciB0dCA9IHRoaXMubWVudV9zdGFjayA9IG5ldyBnKHRoaXMuZGVmYXVsdFBsYWNlbWVudCk7CnRoaXMuYXV0b2JpbmQoRiwgInZhbHVlIiwgZnVuY3Rpb24odCkgewp0dC5zZXROYW1lKHQpOwp9KTsKdmFyIGV0ID0gdGhpcy5tYWluX3N0YWNrID0gbmV3IGYodGhpcy5kZWZhdWx0UGxhY2VtZW50KTsKdGhpcy5hdXRvYmluZChSLCAidmFsdWUiLCBmdW5jdGlvbigpIHsKZXQuc2V0TmFtZShSLmdldFZhbHVlKCkpOwp9KTsKZXQub24oImluZGV4Q2hhbmdlIiwgdik7CnYoKTsKdGhpcy5hdXRvYmluZChXLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7Cksuc2V0VmlzaWJsZSh0ID8gImJsb2NrIiA6ICJub25lIik7CnkoKTsKfSk7CksuYXV0b2JpbmQoUCwgInZhbHVlIiwgeSk7CksuYXV0b2JpbmQoRSwgInZhbHVlIiwgeSk7CmV0Lm9uKCJpbmRleENoYW5nZSIsIHkpOwpLLm9uKCJzaG93IiwgeSk7CmlmIChZKSBLLnNldERyYWdnYWJsZU5vZGUoKTsgZWxzZSBpZiAoIXopIHsKSy5zZXREcmFnZ2FibGVOb2RlKCk7CnRoaXMubWFpbl9zdGFjay5vbigiaW5kZXhDaGFuZ2UiLCBDKTsKQygpOwp9CksuYXV0b2JpbmQoRSwgInZhbHVlIiwgZnVuY3Rpb24odCkgewppZiAodCkgewpTKCk7CkEoKTsKfQp9KTsKKEsuY29udGVudCB8fCBLKS5hbGxvd0dob3N0Q2xpY2sgPSAhMDsKKEsuY29udGVudCB8fCBLKS5vbigiY2xpY2siLCBrKTsKeiAmJiBzLndpbmRvdy5vbigiY2xpY2siLCBrKTsKSy5vbkRlc3RydWN0aW9uKGZ1bmN0aW9uKCkgewooSy5jb250ZW50IHx8IEspLnVuKCJjbGljayIsIGspOwp6ICYmIHMud2luZG93LnVuKCJjbGljayIsIGspOwp9KTsKaWYgKF8gJiYgXy5vbkxhbmd1YWdlKSB7Cl8ub25MYW5ndWFnZShJKTsKSSgpOwp9Cn0KdmFyIG8gPSBpKDEpLCByID0gaSgzKSwgYSA9IGkoOCksIHMgPSBpKDE0KSwgXyA9IGkoMiksIGwgPSBpKDApLCBkID0gaSgzNjUpLCB1ID0gaSg5MCksIGMgPSBpKDcpLCBoID0gaSg2KSwgZiA9IGkoMzY0KSwgZyA9IGkoMTI1KSwgcCA9IGkoNTcpLCBtID0gaSg1OSksICQgPSBpKDQ3KSwgYiA9IGkoMTEpLCB3ID0gaSg5KSwgeCA9IGkoNzQpOwpuLnByb3RvdHlwZSA9IGwoZC5wcm90b3R5cGUpOwpvKG4sIGQsIHsKZnFuYW1lOiAibWVzaGltX3dpZGdldF9jb21wb25lbnRzX0NoYXRXaW5kb3ciCn0pOwpuLl9fanhfX2pjc3MgPSB7CiIqKnNlbGYiOiB7CnBvc2l0aW9uOiAicmVsYXRpdmUiLApjb2xvcjogIiQkd2luZG93Q29sb3IiCn0sCiImLmJyLCAmLmJtLCAmLmJsIjoge30sCiImLnRyLCAmLnRtLCAmLnRsIjoge30sCiImLnBvcG91dCI6IHsKcGFkZGluZzogMCwKbWFyZ2luOiAiMCBhdXRvIiwKIndpZHRoLCBoZWlnaHQiOiAiMTAwJSIsCm1heFdpZHRoOiAiNjUwcHgiLApiYWNrZ3JvdW5kOiAiJCR3aW5kb3dCZyIKfSwKIiYubW9iaWxlIjogewptYXhXaWR0aDogIm5vbmUiLAp3aWR0aDogIjEwMCUiLApoZWlnaHQ6ICJhdXRvIiwKbWluSGVpZ2h0OiAiMTAwJSIKfSwKIiYudGFibGV0IjogewptYXhXaWR0aDogIiQkbW9iaWxlTWF4V2lkdGhMIgp9Cn07CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUpIHsKdmFyIGkgPSB7CnBvcG91dDogewpuYW1lJHN0cmluZzogInNpbXBsZSIKfSwKbW9iaWxlOiB7Cm5hbWUkc3RyaW5nOiAic2ltcGxlIiwKY2hhdF9idXR0b246IHsKZGlzcGxheV9zdGF0dXMkYm9vbDogITEKfQp9LAptb2JpbGVfb3ZlcmxheTogewpjaGF0X3dpbmRvdzogewp1c2VfYmFubmVyJGJvb2w6ICExLAp0aXRsZV9iYXI6IHsKaGlkZV9wb3BvdXQkYm9vbDogITAKfQp9Cn0KfTsKdC5leHBvcnRzID0gaTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoOTEpLCBvID0ge307Cm8uX3N1cGVyID0gbjsKby5kZWZhdWx0cyA9IHsKY29sb3JzOiB7CnByaW1hcnkkc3RyaW5nOiAiIzFGNzNCNyIsCmJhbm5lciRzdHJpbmc6ICIjRTlFQkVEIgp9Cn07Cm8uZ2VuZXJhdGUgPSBuLmdlbmVyYXRlOwp0LmV4cG9ydHMgPSBvOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSg5MSksIG8gPSB7fTsKby5fc3VwZXIgPSBuOwpvLmRlZmF1bHRzID0gewpjb2xvcnM6IHsKcHJpbWFyeSRzdHJpbmc6ICIjODVhZTE5Igp9LApicmFuZGluZzogewp0eXBlJHN0cmluZzogImljb25fZm9udF96ZW5kZXNrIgp9Cn07Cm8ub3ZlcnJpZGVzID0gewpjaGF0X3dpbmRvdzogewp1c2VfYmFubmVyJGJvb2w6ICExLAp0aXRsZV9iYXI6IHsKaGlkZV9wb3BvdXQkYm9vbDogITAKfQp9LApicmFuZGluZzogewp0eXBlJHN0cmluZzogImljb25fZm9udF96ZW5kZXNrIgp9Cn07Cm8uZ2VuZXJhdGUgPSBmdW5jdGlvbigpIHsKcmV0dXJuIHsKc3RhbmRhcmQ6IHsKZm9udEZhbWlseTogJyJIZWx2ZXRpY2EgTmV1ZSIsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWYnLApmb250U2l6ZVhTOiAiMTFweCIsCmZvbnRTaXplUzogIjEycHgiLApmb250U2l6ZTogIjEzcHgiLApidXR0b25QYWRkaW5nOiAiNXB4Igp9LAptb2JpbGU6IHt9Cn07Cn07CnQuZXhwb3J0cyA9IG87Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKdmFyIG4gPSBpKDExMyksIG8gPSBpKDExNCksIHIgPSBpKDkxKSwgYSA9IHt9OwphLl9zdXBlciA9IHI7CmEuZGVmYXVsdHMgPSB7CmNvbG9yczogewpidWJibGUkc3RyaW5nOiAiI2U1OTM0MSIKfQp9OwphLm92ZXJyaWRlcyA9IHsKY2hhdF9idXR0b246IHsKZGlzcGxheV9zdGF0dXMkYm9vbDogITAsCnVzZV9idWJibGUkYm9vbDogITAKfSwKY2hhdF93aW5kb3c6IHsKcHJvZmlsZV9jYXJkOiB7CmRpc3BsYXlfYXZhdGFyJGJvb2w6ICExCn0sCnVzZV9iYW5uZXIkYm9vbDogITEKfSwKbWVzc2FnZV90eXBlJHN0cmluZzogImJhc2ljIgp9OwphLmdlbmVyYXRlID0gZnVuY3Rpb24odCkgewp2YXIgZSA9IG8uY2xhbXBMdW1pbmFuY2Uobi5oZXgodC5jb2xvcnMucHJpbWFyeSRzdHJpbmcpLCAwLCAuOCksIGkgPSBvLmNsYW1wTHVtaW5hbmNlKG4uaGV4KHQuY29sb3JzLmJ1YmJsZSRzdHJpbmcpLCAwLCAuOCksIHIgPSBvLmNsYW1wTHVtaW5hbmNlKG8uZGFya2VuKGUsIC4yLCAicmdiIiksIDAsIC44KSwgYSA9IG8uY2xhbXBMdW1pbmFuY2Uoby5saWdodGVuKGUsIC4yLCAicmdiIiksIDAsIC44KSwgcyA9ICJncmFkaWVudCB0b3AgIiArIG8ucmdiYUNvbG9yKGUsIDEpICsgIiAiICsgby5yZ2JhQ29sb3IociwgMSksIF8gPSBvLmNsYW1wTHVtaW5hbmNlKG8uZGFya2VuKGksIC4yLCAicmdiIiksIDAsIC44KSwgbCA9IG8uY2xhbXBMdW1pbmFuY2Uoby5saWdodGVuKGksIC4yLCAicmdiIiksIDAsIC44KSwgZCA9IG8uZ2V0Q29sb3JBdENvbnRyYXN0KGUsIG8ud2hpdGUsIDUpLCB1ID0gby5nZXRDb250cmFzdENvbG9yKGksIG8ud2hpdGUsIG8uYmxhY2ssIC43LCAiYnJpZ2h0IiwgMywgNSk7CmUgPSBlLmhleCgpOwppID0gaS5oZXgoKTsKciA9IHIuaGV4KCk7CmEgPSBhLmhleCgpOwpfID0gXy5oZXgoKTsKbCA9IGwuaGV4KCk7CmQgPSBkLmhleCgpOwp1ID0gdS5oZXgoKTsKcmV0dXJuIHsKc3RhbmRhcmQ6IHsKY29udGVudEJnOiAiI2Y3ZjdmNyIsCmFjdGlvbkJhckJnOiAiI2Y3ZjdmNyIsCmFjdGlvbkJhckJvcmRlckNvbG9yOiAiI0RERCIsCnRpdGxlQmFyQmc6IHMsCnRpdGxlQmFyQm9yZGVyV2lkdGg6IDAsCmlucHV0UmFkaXVzOiAwLAppbnB1dEJvcmRlckNvbG9yOiAiI0RERCIsCmlucHV0Rm9jdXNCb3JkZXJDb2xvcjogbCwKaW5wdXRGb2N1c1NoYWRvdzogIm5vbmUiLApjaGF0VGV4dEFyZWFJbnB1dEZvY3VzU2hhZG93OiAibm9uZSIsCndpbmRvd0NvbnRlbnRCb3JkZXJDb2xvcjogIiNEREQiLAptZW51UmFkaXVzOiAwLAptZW51Qm9yZGVyQ29sb3I6ICIjREREIiwKYnV0dG9uQ29sb3I6IHUsCmJ1dHRvbkJnOiBpLApidXR0b25Ib3ZlckJnOiBpLApidXR0b25Cb3JkZXJDb2xvcjogXywKYnV0dG9uU2VjQmc6IGwsCmJ1dHRvblNlY0hvdmVyQmc6IGwsCmJ1dHRvblNlY0JvcmRlckNvbG9yOiBpLApmb3JtU3VibWl0dGVkQmc6IG8ud2hpdGUsCmZvcm1TdWJtaXR0ZWRSYWRpdXM6ICIwcHgiLApmb3JtU3VibWl0dGVkQm9yZGVyV2lkdGg6ICIxcHgiLApjaGF0TG9nVmlzaXRvck5hbWVDb2xvcjogIiM2NjYiLApjaGF0TG9nQWdlbnROYW1lQ29sb3I6IF8sCmNoYXRMb2dTeXN0ZW1Nc2dCZzogby53aGl0ZSwKY2hhdExvZ1N5c3RlbU1zZ0JvcmRlcldpZHRoOiAiMXB4IiwKY2hhdExvZ1N5c3RlbU1zZ1BhZGRpbmc6ICI1cHggMCIsCmNoYXRMb2dTeXN0ZW1Nc2dCb3JkZXJDb2xvcjogIiNEREQiLApjaGF0TG9nRGF0ZURpdmlkZXJMaW5lSGVpZ2h0OiAiaW5pdGlhbCIsCmNoYXRMb2dEYXRlRGl2aWRlckZvbnRXZWlnaHQ6ICJib2xkIiwKY2hhdExvZ0RhdGVEaXZpZGVyQ29sb3I6ICIjOTk5IiwKY2hhdExvZ0ZpbGVQcm9ncmVzc0JnOiBzLApjaGF0QnV0dG9uTWluV2lkdGg6ICIxOTBweCIsCmNoYXRCdXR0b25CZzogcywKY2hhdEJ1dHRvblNoYWRvdzogImluc2V0IDAgMXB4IDBweCAwIHJnYmEoMCwwLDAsMC40KSwgaW5zZXQgMCAycHggMHB4IDAgcmdiYSgyNTUsMjU1LDI1NSwwLjcpIiwKY2hhdEJ1dHRvbkZvbnRXZWlnaHQ6ICJub3JtYWwiLApjaGF0QnV0dG9uU3RhdHVzRm9udFdlaWdodDogImJvbGQiLApjaGF0QnV0dG9uUGFkZGluZ0Zhdmljb246IDAsCmNoYXRCdXR0b25Cb3JkZXJXaWR0aDogMCwKZmF2aWNvbkJnOiAidHJhbnNwYXJlbnQiLApmYXZpY29uQ29sb3I6IGkudG9VcHBlckNhc2UoKSA9PSBlLnRvVXBwZXJDYXNlKCkgPyAiJCRjaGF0QnV0dG9uQ29sb3IiIDogaSwKZmF2aWNvbkRvdHNDb2xvcjogZSwKY2hhdEJ1YmJsZVRpdGxlQ29sb3I6IHUsCmNoYXRCdWJibGVUZXh0Q29sb3I6IHUsCmNoYXRCdWJibGVDbG9zZUNvbG9yOiB1LApjaGF0QnViYmxlQ2xvc2VTaGFkb3c6ICIwcHggLTFweCAwcHggIzk5OSIsCmNoYXRCdWJibGVDbG9zZUhvdmVyQmc6ICJyZ2JhKDAsIDAsIDAsIDAuMSkiCn0sCm1vYmlsZTogewphY3Rpb25CYXJDb2xvcjogZCwKYWN0aW9uQmFyQmc6ICJ0cmFuc3BhcmVudCIsCmFjdGlvbkJhckJvcmRlckNvbG9yOiAidHJhbnNwYXJlbnQiCn0KfTsKfTsKdC5leHBvcnRzID0gYTsKfSwgZnVuY3Rpb24odCwgZSkgewp0LmV4cG9ydHMgPSBmdW5jdGlvbih0KSB7CmlmICghdC53ZWJwYWNrUG9seWZpbGwpIHsKdC5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9Owp0LnBhdGhzID0gW107CnQuY2hpbGRyZW4gfHwgKHQuY2hpbGRyZW4gPSBbXSk7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCAibG9hZGVkIiwgewplbnVtZXJhYmxlOiAhMCwKZ2V0OiBmdW5jdGlvbigpIHsKcmV0dXJuIHQubDsKfQp9KTsKT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsICJpZCIsIHsKZW51bWVyYWJsZTogITAsCmdldDogZnVuY3Rpb24oKSB7CnJldHVybiB0Lmk7Cn0KfSk7CnQud2VicGFja1BvbHlmaWxsID0gMTsKfQpyZXR1cm4gdDsKfTsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewp2YXIgbiA9IGkoMTc1KSwgbyA9IGkoOTEpLCByID0gaSgzNzApLCBhID0gaSgzNjkpLCBzID0gaSgzNjgpLCBfID0gewpiYXNlOiBuLApzaW1wbGU6IG8sCmNsYXNzaWM6IHIsCnplbmRlc2s6IGEsCnplbmRlc2syMDE5OiBzCn07CnQuZXhwb3J0cyA9IF87Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0KSB7CnZhciBlID0gdGhpcywgaSA9IHRoaXMubG9uZ3BvbGwgPSBuZXcgYSghMCksIG4gPSB0aGlzLnNlbmRlciA9IG5ldyBhKCEwKTsKaS5vbigic3VjY2VzcyIsIGZ1bmN0aW9uKHQpIHsKZS5wcm9jZXNzX2RhdGEodCk7Cn0pOwppLm9uKCJlcnJvciIsIGZ1bmN0aW9uKCkgewplLmFib3J0KCJsb25ncG9sbCBlcnJvciIpOwp9KTsKbi5vbigic3VjY2VzcyIsIGZ1bmN0aW9uKCkgewplLm9uZHJhaW4gJiYgZS5vbmRyYWluKCk7Cn0pOwpuLm9uKCJlcnJvciIsIGZ1bmN0aW9uKCkgewplLmFib3J0KCJzZW5kZXIgZXJyb3IiKTsKfSk7CnRoaXMudXJsID0gImh0dHBzOi8vIiArIHQ7Cm8ud2luZG93Lm9uKCJ1bmxvYWQiLCB0aGlzLnVubG9hZCA9IGZ1bmN0aW9uKCkgewplLmFib3J0KCJ1bmxvYWQiKTsKfSk7CnRoaXMubG9uZ3BvbGwubG9hZCh0aGlzLnVybCArIFsgImMiLCArbmV3IERhdGUoKSBdLmpvaW4oIi8iKSk7Cn0KdmFyIG8gPSBpKDE0KSwgciA9IG47Cm4ucHJvdG9jb2wgPSAieGRkcyI7CnZhciBhID0gaSgxODcpOwpuLnByb3RvdHlwZS5wcm9jZXNzX2RhdGEgPSBmdW5jdGlvbih0KSB7CmlmICh0ICYmICF0aGlzLl9hYm9ydCkgewohdGhpcy50cyAmJiB0aGlzLm9ub3BlbiAmJiB0aGlzLm9ub3BlbigpOwp0aGlzLnRzID0gK25ldyBEYXRlKCk7CnRoaXMub25tZXNzYWdlICYmIHRoaXMub25tZXNzYWdlKHQsIHRoaXMudHMpOwp0aGlzLmxvbmdwb2xsICYmIHRoaXMubG9uZ3BvbGwubG9hZCh0aGlzLnVybCArIFsgInAiLCArbmV3IERhdGUoKSBdLmpvaW4oIi8iKSk7Cn0KfTsKbi5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uKHQpIHsKaWYgKHRoaXMuX2Fib3J0KSByZXR1cm4gITE7CnZhciBlID0gdGhpcy51cmwgKyBbICJkIiwgK25ldyBEYXRlKCksIHdpbmRvdy5lbmNvZGVVUklDb21wb25lbnQodCkgXS5qb2luKCIvIik7CnRoaXMuc2VuZGVyICYmIHRoaXMuc2VuZGVyLmxvYWQoZSk7CnJldHVybiAhMTsKfTsKbi5wcm90b3R5cGUuYWJvcnQgPSBmdW5jdGlvbih0KSB7CmlmICghdGhpcy5fYWJvcnQpIHsKdGhpcy5fYWJvcnQgPSAhMDsKcygiWEREUyAtIGFib3J0OiAiICsgdCk7Cm8ud2luZG93LnVuKCJ1bmxvYWQiLCB0aGlzLnVubG9hZCk7CnRoaXMubG9uZ3BvbGwuZGVzdHJveSgpOwp0aGlzLnNlbmRlci5kZXN0cm95KCk7CnRoaXMubG9uZ3BvbGwgPSB0aGlzLnNlbmRlciA9IHRoaXMudW5sb2FkID0gbnVsbDsKdGhpcy5vbmNsb3NlICYmIHRoaXMub25jbG9zZSh0KTsKd2luZG93LkNvbGxlY3RHYXJiYWdlICYmIHdpbmRvdy5Db2xsZWN0R2FyYmFnZSgpOwp9Cn07CnZhciBzID0gZnVuY3Rpb24oKSB7fTsKdC5leHBvcnRzID0gcjsKfSwgZnVuY3Rpb24odCwgZSkgewpmdW5jdGlvbiBpKHQpIHsKdmFyIGUsIGkgPSB0aGlzOwp0cnkgewplID0gbmV3IG4oIndzczovLyIgKyB0ICsgWyAiYyIsICtuZXcgRGF0ZSgpIF0uam9pbigiLyIpKTsKfSBjYXRjaCAodCkge30KaWYgKGUpIHsKZS5vbmNsb3NlID0gZnVuY3Rpb24odCkgewppLm9uY2xvc2UgJiYgaS5vbmNsb3NlKHQpOwp9OwplLm9uZXJyb3IgPSBmdW5jdGlvbih0KSB7Cmkub25lcnJvciAmJiBpLm9uZXJyb3IodCk7Cn07CmUub25tZXNzYWdlID0gZnVuY3Rpb24odCkgewppLm9ubWVzc2FnZSAmJiBpLm9ubWVzc2FnZSh0LmRhdGEsICtuZXcgRGF0ZSgpKTsKfTsKZS5vbm9wZW4gPSBmdW5jdGlvbih0KSB7Cmkub25vcGVuICYmIGkub25vcGVuKHQpOwp9Owp0aGlzLndzID0gZTsKfQp9CnZhciBuID0gd2luZG93LldlYlNvY2tldCB8fCB3aW5kb3cuTW96V2ViU29ja2V0LCBvID0gbiA/IGkgOiBudWxsOwppLnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uKCkgewppZiAodGhpcy53cyAmJiAhdGhpcy5fYWJvcnRlZCkgewp0aGlzLl9hYm9ydGVkID0gITA7CnZhciB0ID0gdGhpcy53czsKdC5yZWFkeVN0YXRlID09IG4uQ09OTkVDVElORyA/IHQub25vcGVuID0gZnVuY3Rpb24oKSB7CnQuY2xvc2UoKTsKfSA6IHQuY2xvc2UoKTsKfQp9OwppLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24odCkgewp0aGlzLndzICYmIHRoaXMud3Muc2VuZCh0KTsKcmV0dXJuICEwOwp9OwppLnByb3RvY29sID0gIndzIjsKdC5leHBvcnRzID0gbzsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQpIHsKZnVuY3Rpb24gZSh0KSB7CiFfICYmIHIub25vcGVuICYmIHIub25vcGVuKCk7Cl8gPSArbmV3IERhdGUoKTsKdC5vcmlnaW4gPT0gbiAmJiAoImV2ZW50LXN0cmVhbSIgPT0gdC5kYXRhID8gYS5vbmxvYWQgPSBudWxsIDogci5vbm1lc3NhZ2UgJiYgci5vbm1lc3NhZ2UodC5kYXRhLCBfKSk7Cn0KdmFyIGksIG4sIHIgPSB0aGlzLCBhID0gdGhpcy5pZnJhbWUgPSBvKCJpZnJhbWUiKTsKdGhpcy51cmwgPSAiaHR0cHM6Ly8iICsgdDsKYS5zcmMgPSB0aGlzLnNyYyA9IGkgPSB0aGlzLnVybCArIFsgImMiLCArbmV3IERhdGUoKSBdLmpvaW4oIi8iKTsKbiA9IGkubWF0Y2goL2h0dHBzPzpcL1wvW15cL10rLylbMF07CmEub25sb2FkID0gZnVuY3Rpb24odCkgewpyLmFib3J0KHQpOwp9Owpkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZShhLCBkb2N1bWVudC5ib2R5LmZpcnN0Q2hpbGQpOwpzKCJTUE0gY29ubmVjdGluZyB0bzogIiArIHRoaXMudXJsKTsKd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLCBlLCAhMSk7CnRoaXMucmVtb3ZlX2xpc3RlbmVycyA9IGZ1bmN0aW9uKCkgewp3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsIGUsICExKTsKfTsKdmFyIF87Cn0KZnVuY3Rpb24gbyh0KSB7CnZhciBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0KSwgaSA9IGUuc3R5bGU7CmkucG9zaXRpb24gPSAiYWJzb2x1dGUiOwppLndpZHRoID0gaS5oZWlnaHQgPSAwOwppLm92ZXJmbG93ID0gImhpZGRlbiI7CnJldHVybiBlOwp9CnZhciByID0gaSg4KSwgYSA9IHdpbmRvdy5wb3N0TWVzc2FnZSA/ICFyLmlzQW5kcm9pZCAmJiBuIDogbnVsbDsKbi5wcm90b2NvbCA9ICJzcG0iOwpuLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24odCkgewp0aGlzLmlmcmFtZS5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKHQsIHRoaXMuc3JjKTsKcmV0dXJuICEwOwp9OwpuLnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uKHQpIHsKaWYgKCF0aGlzLl9hYm9ydCkgewp0aGlzLl9hYm9ydCA9ICEwOwpzKHQpOwp0aGlzLmlmcmFtZSAmJiBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuaWZyYW1lKTsKdGhpcy5vbmNsb3NlICYmIHRoaXMub25jbG9zZSh0KTsKdGhpcy5yZW1vdmVfbGlzdGVuZXJzKCk7CnRoaXMuaWZyYW1lID0gdGhpcy5yZW1vdmVfbGlzdGVuZXJzID0gbnVsbDsKfQp9Owp2YXIgcyA9IGZ1bmN0aW9uKCkge307CnQuZXhwb3J0cyA9IGE7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0KSB7CmZ1bmN0aW9uIGUodCkgewpfKCJleHRyYWN0aW5nIGRhdGEiKTsKIWkgJiYgYS5vbm9wZW4gJiYgYS5vbm9wZW4oKTsKaSA9IHQ7CmwgKz0gbi5yZXNwb25zZVRleHQuc3Vic3RyKGQpOwpkID0gbi5yZXNwb25zZVRleHQubGVuZ3RoOwpsID0gbC5zcGxpdCgiXG5cbiIpOwpmb3IgKHZhciBlID0gMDsgZSA8IGwubGVuZ3RoIC0gMTsgZSsrKSBhLm9ubWVzc2FnZSAmJiBhLm9ubWVzc2FnZShsW2VdLCBpKTsKbCA9IGxbbC5sZW5ndGggLSAxXTsKKGQgPiAxMDQ4NTc2ICYmICFsLmxlbmd0aCB8fCBkID4gNDE5NDMwNCkgJiYgYS5hYm9ydCgpOwp9CnZhciBpLCBuID0gdGhpcy54aHIgPSBuZXcgcigpLCBhID0gdGhpcywgbCA9ICIiLCBkID0gMDsKdGhpcy51cmwgPSBzICsgdDsKbi5vcGVuKCJHRVQiLCB0aGlzLnVybCArIFsgImMiLCArbmV3IERhdGUoKSBdLmpvaW4oIi8iKSwgITApOwpuLm9uZXJyb3IgPSBmdW5jdGlvbih0KSB7CmEuYWJvcnQodCk7Cn07CmlmIChvLmlzSUUpIHsKbi5vbnByb2dyZXNzID0gZnVuY3Rpb24oKSB7CmUoK25ldyBEYXRlKCkpOwp9OwpuLm9ubG9hZCA9IGZ1bmN0aW9uKCkgewphLmFib3J0KCJjbG9zZSIpOwp9Owp9IGVsc2Ugbi5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHsKc3dpdGNoIChuLnJlYWR5U3RhdGUpIHsKY2FzZSAzOgplKCtuZXcgRGF0ZSgpKTsKYnJlYWs7CgpjYXNlIDQ6CmEuYWJvcnQoImNsb3NlIik7Cn0KfTsKXygiQ1hIUiBjb25uZWN0aW5nIHRvOiAiICsgdGhpcy51cmwpOwpuLnNlbmQoKTsKfQp2YXIgbyA9IGkoOCksIHIgPSBvLmlzSUUgPyB3aW5kb3cuWERvbWFpblJlcXVlc3QgOiAhby5pc09wZXJhICYmICFvLmlzQW5kcm9pZCAmJiB3aW5kb3cuWE1MSHR0cFJlcXVlc3QsIGEgPSByID8gbiA6IG51bGwsIHMgPSBvLmlzSUUgPyAiLy8iIDogImh0dHBzOi8vIjsKbi5wcm90b2NvbCA9ICJjeGhyIjsKbi5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uKHQpIHsKZnVuY3Rpb24gZSgpIHsKXy5hYm9ydCgic2VuZCBmYWlsZWQiKTsKfQpmdW5jdGlvbiBpKCkgewpfLnhocl9zZW5kZXIgPSBudWxsOwpjbGVhclRpbWVvdXQobik7Cl8ub25kcmFpbiAmJiBfLm9uZHJhaW4oKTsKfQp2YXIgbiwgYSA9IHRoaXMudXJsICsgWyAiZCIsICtuZXcgRGF0ZSgpIF0uam9pbigiLyIpLCBzID0gbmV3IHIoKSwgXyA9IHRoaXM7CnMub3BlbigiUE9TVCIsIGEsICEwKTsKcy5zZW5kKHQpOwppZiAoby5pc0lFKSB7CnMub25lcnJvciA9IGU7CnMub25sb2FkID0gaTsKfSBlbHNlIHMub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7CmlmICg0ID09IHMucmVhZHlTdGF0ZSkgewoyMDAgIT0gcy5zdGF0dXMgJiYgZSgpOwppKCk7Cn0KfTsKbiA9IHNldFRpbWVvdXQoZSwgNWUzKTsKdGhpcy54aHJfc2VuZGVyID0gczsKcmV0dXJuICExOwp9OwpuLnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uKHQpIHsKaWYgKCF0aGlzLl9hYm9ydCkgewp0aGlzLl9hYm9ydCA9ICEwOwpfKHQpOwp0aGlzLnhociAmJiB0aGlzLnhoci5hYm9ydCgpOwp0aGlzLnhocl9zZW5kZXIgJiYgdGhpcy54aHJfc2VuZGVyLmFib3J0KCk7CnRoaXMub25jbG9zZSAmJiB0aGlzLm9uY2xvc2UodCk7CnRoaXMub25lcnJvciA9IHRoaXMub25sb2FkID0gdGhpcy5vbnByb2dyZXNzID0gdGhpcy5vbnJlYWR5c3RhdGVjaGFuZ2UgPSB0aGlzLnhociA9IHRoaXMueGhyX3NlbmRlciA9IG51bGw7Cn0KfTsKdmFyIF8gPSBmdW5jdGlvbigpIHt9Owp0LmV4cG9ydHMgPSBhOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4odCwgZSwgaSwgbykgewp0aGlzLm9wdGlvbnMgPSBvID0gbyB8fCB7fTsKZm9yICh2YXIgciBpbiBtKSByIGluIG8gfHwgKG9bcl0gPSBtW3JdKTsKaWYgKCFnICYmICFvLlBSRUZFUlJFRF9QUk9WSURFUikgdGhyb3cgIk5vIGF2YWlsYWJsZSB0cmFuc3BvcnRzIjsKbC5leHRlbmQodGhpcyk7CnRoaXMucHJvdmlkZXIgPSBvLlBSRUZFUlJFRF9QUk9WSURFUiB8fCBnOwp0aGlzLmlkID0gaSB8fCBuLmdlbmVyYXRlSUQoKTsKdGhpcy5ob3N0ID0gdDsKdGhpcy5ucyA9IGU7CnRoaXMucGF0aCA9ICIvIiArIFsgInMiLCB0aGlzLm5zLCB0aGlzLnByb3ZpZGVyLnByb3RvY29sLCB0aGlzLmlkIF0uam9pbigiLyIpOwp0aGlzLnVybCA9IHRoaXMuaG9zdCArIHRoaXMucGF0aCArICIvIjsKdGhpcy5zdGF0dXMgPSB3aW5kb3cubmF2aWdhdG9yICYmICExID09PSB3aW5kb3cubmF2aWdhdG9yLm9uTGluZSA/ICJvZmZsaW5lIiA6ICJjb25uZWN0aW5nIjsKdGhpcy5jb25uZWN0ZWQgPSAhMTsKdGhpcy5xdWFsaXR5ID0gMDsKdGhpcy5ydHQgPSBvLklOSVRJQUxfUlRUOwp0aGlzLmNsb2NrX3NrZXcgPSAwOwp0aGlzLmNvbm5lY3RfYXR0ZW1wdHMgPSAwOwp0aGlzLmNvbm5lY3Rpb25zID0gMDsKdGhpcy5kaXNjb25uZWN0cyA9IDA7CnRoaXMuc2VudF9ieXRlcyA9IDA7CnRoaXMucmVjdl9ieXRlcyA9IDA7CnRoaXMuc2VudF9tZXNzYWdlcyA9IDA7CnRoaXMucmVjdl9tZXNzYWdlcyA9IDA7CnRoaXMuc2VudF9mcmFtZXMgPSAwOwp0aGlzLnJlY3ZfZnJhbWVzID0gMDsKdGhpcy5sb3N0X2ZyYW1lcyA9IDA7CnRoaXMub29vX2ZyYW1lcyA9IDA7CnRoaXMucmVtb3RlX3NlcSA9IDA7CnRoaXMubG9jYWxfc2VxID0gMDsKdGhpcy50aW1lb3V0X3NlcnZlciA9IDA7CnRoaXMudGltZW91dF9yZXNwb25zZV9zb2Z0ID0gMDsKdGhpcy50aW1lb3V0X3Jlc3BvbnNlX2hhcmQgPSAwOwp0aGlzLmJ5dGVzX2F0X2Nvbm5lY3QgPSAtMTsKdGhpcy50aW1lX2xhc3RfYWxpdmUgPSAtMTsKdGhpcy50aW1lX2xhc3Rfb3BlbiA9IC0xOwp0aGlzLnN0YXJ0dGltZSA9IERhdGUubm93KCk7CnRoaXMudXB0aW1lID0gMDsKdGhpcy5jb25uZWN0ZWRfdGltZSA9IG5ldyBzKCk7CnRoaXMuaWRsZV90aW1lID0gbmV3IHMoKTsKdGhpcy5sYXN0X2ZyYW1lX3RpbWUgPSAwOwp0aGlzLnJhd19jbG9ja19za2V3ID0gMDsKdGhpcy5zbW9vdGhfc2tld2VkX3RyYW5zaXRfdGltZV9pbiA9IDA7CnRoaXMucmVtb3RlX3Ntb290aF9za2V3ZWRfdHJhbnNpdF90aW1lX291dCA9IDA7CnRoaXMuY3VyX2Nvbm5fcmVjdl9tZXNzYWdlcyA9IDA7CnRoaXMuZHJhaW5lZCA9ICEwOwp0aGlzLmJ1ZmZlciA9IFtdOwp0aGlzLmdsaXRjaF90aW1lciA9IHRoaXMucmVjb25uZWN0X3RpbWVyID0gbnVsbDsKdGhpcy5yZWNvbm5lY3RfZGVsYXkgPSBvLlJFQ09OTkVDVF9ERUxBWV9NUyAqICguMiAqIE1hdGgucmFuZG9tKCkgKyAuOCk7CnRoaXMua2VlcF9hbGl2ZV9pbnRlcnZhbCA9IDE1ZTM7CnRoaXMuZGF0YV9wYWNrZXRfcXVldWUgPSBuZXcgXyh0aGlzKTsKdmFyIGEgPSB0aGlzOwp0aGlzLm9ub2ZmbGluZSA9IGZ1bmN0aW9uKCkgewpuLnByb3RvdHlwZS5vbm9mZmxpbmUuY2FsbChhKTsKfTsKdGhpcy5vbm9ubGluZSA9IGZ1bmN0aW9uKCkgewpuLnByb3RvdHlwZS5vbm9ubGluZS5jYWxsKGEpOwp9OwpsLndpbmRvdy5vbigib2ZmbGluZSIsIHRoaXMub25vZmZsaW5lKTsKbC53aW5kb3cub24oIm9ubGluZSIsIHRoaXMub25vbmxpbmUpOwoiY29ubmVjdGluZyIgPT09IHRoaXMuc3RhdHVzICYmIHRoaXMuY29ubmVjdCgpOwp9CmZ1bmN0aW9uIG8oKSB7CnZhciB0ID0gdywgZSA9IG5ldyBEYXRlKCksIGkgPSBlLmdldFVUQ0Z1bGxZZWFyKCkgLSAyZTMsIG4gPSBlLmdldFVUQ01vbnRoKCkgKyAxLCBvID0gZS5nZXRVVENEYXRlKCksIHIgPSBlLmdldFVUQ0hvdXJzKCksIGEgPSBlLmdldFVUQ01pbnV0ZXMoKSwgcyA9IGUuZ2V0VVRDU2Vjb25kcygpLCBfID0gZS5nZXRVVENNaWxsaXNlY29uZHMoKTsKcmV0dXJuIHRbaV0gKyB0W25dICsgdFtvXSArIHRbcl0gKyB0W2FdICsgdFtzXSArIHRbXyA+PiA2XSArIHRbNjMgJiBfXTsKfQpmdW5jdGlvbiByKHQpIHsKZm9yICh2YXIgZSA9ICIiLCBpID0gdzsgdC0tID4gMDsgKSBlICs9IGkuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGkubGVuZ3RoKSk7CnJldHVybiBlOwp9CmZ1bmN0aW9uIGEodCwgZSwgaSkgewpyZXR1cm4gTWF0aC5taW4oaSwgTWF0aC5tYXgoZSwgdCkpOwp9CmZ1bmN0aW9uIHMoKSB7CnRoaXMuY291bnQgPSAwOwp0aGlzLnN1bSA9IDA7CnRoaXMuc3Ffc3VtID0gMDsKdGhpcy5tZWFuID0gMDsKdGhpcy5zdGRkZXYgPSAwOwp9CmZ1bmN0aW9uIF8odCkgewp0aGlzLnNvY2tldCA9IHQ7CnRoaXMucXVldWUgPSBbXTsKdGhpcy5jdXJGcmFtZSA9IG51bGw7CnRoaXMuY3VySWR4ID0gMDsKdGhpcy5sYXN0X3dvcmtfZmluaXNoZWRfdGltZSA9IDA7CnRoaXMud29ya190aW1lciA9IG51bGw7CnRoaXMucHJvY2Vzc2luZyA9ICExOwp9CnZhciBsID0gaSgxNCksIGQgPSBpKDU2KSwgdSA9IGkoMzc2KSwgYyA9IGkoMzc1KSwgaCA9IGkoMzc0KSwgZiA9IGkoMzczKSwgZyA9IGggfHwgdSB8fCBjIHx8IGYsIHAgPSBmLCBtID0gewpJTklUSUFMX1JUVDogMWUzLApSRUNPTk5FQ1RfREVMQVlfTVM6IDNlNCwKRkFTVF9SRUNPTk5FQ1RfTVM6IDEwMCwKRkxVU0hfREVMQVlfTVM6IDc1LApNQVhfQkxPQ0tJTkdfVElNRV9NUzogNDAsCk1BWF9OT19XT1JLX1RJTUVfTVM6IDE1LApQUkVGRVJSRURfUFJPVklERVI6IHZvaWQgMAp9OwpuLnByb3ZpZGVycyA9IHt9OwpbIHUsIGMsIGgsIGYgXS5mb3JFYWNoKGZ1bmN0aW9uKHQpIHsKdCAmJiAobi5wcm92aWRlcnNbdC5wcm90b2NvbF0gPSB0KTsKfSk7Cm4uYXZhaWxhYmxlID0gZnVuY3Rpb24oKSB7CnJldHVybiAhIWc7Cn07Cm4uZ2VuZXJhdGVJRCA9IGZ1bmN0aW9uKCkgewpyZXR1cm4gcigxNik7Cn07Cm4ucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbih0KSB7CnRoaXMuZGVidWcoImNvbm5lY3QoIiArICh0ICYmICJnbGl0Y2giIHx8ICIiKSArICIpIik7CmlmICghdGhpcy5yZWNvbm5lY3RfdGltZXIpIHsKdmFyIGUgPSB0aGlzLCBpID0gdGhpcy5vcHRpb25zLCBuID0gIXRoaXMuY29ubmVjdGlvbnMgfHwgIXRoaXMuY3VyX2Nvbm5fcmVjdl9tZXNzYWdlczsKIWkuUFJFRkVSUkVEX1BST1ZJREVSICYmIG4gJiYgKHRoaXMucHJvdmlkZXIgPSAxICYgdGhpcy5jb25uZWN0X2F0dGVtcHRzID8gcCA6IGcpOwp0aGlzLnJlc3BvbnNlX3RpbWVyID0gY2xlYXJUaW1lb3V0KHRoaXMucmVzcG9uc2VfdGltZXIpOwp0aGlzLnRpbWVvdXRfdGltZXIgPSBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0X3RpbWVyKTsKaWYgKHRoaXMuc29ja2V0KSB7CnRoaXMuc29ja2V0Lm9uY2xvc2UgPSB0aGlzLnNvY2tldC5vbmRyYWluID0gdGhpcy5zb2NrZXQub25lcnJvciA9IHRoaXMuc29ja2V0Lm9ubWVzc2FnZSA9IHRoaXMuc29ja2V0Lm9ub3BlbiA9IG51bGw7CnRoaXMuc29ja2V0LmFib3J0KCJjb25uZWN0Iik7CnRoaXMuc29ja2V0ID0gbnVsbDsKfQp0aGlzLmNvbm5lY3RlZCA9ICExOwp0aGlzLmN1cl9jb25uX3JlY3ZfbWVzc2FnZXMgPSAwOwppZiAodCkgewp0aGlzLnJlY29ubmVjdF9kZWxheSA9IGkuUkVDT05ORUNUX0RFTEFZX01TICogKC4yICogTWF0aC5yYW5kb20oKSArIC45KTsKdGhpcy5nbGl0Y2hfdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewplLnF1YWxpdHkgPSAwOwplLmdsaXRjaF90aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CmUuc3RhdHVzID0gInJlY29ubmVjdGluZyI7CmUuZmlyZV9icmVhaygpOwp9LCBhKDMgKiBlLnJ0dCwgMWUzLCA1ZTMpKTsKfSwgYSgzICogdGhpcy5ydHQsIDFlMywgNWUzKSk7Cn0KdGhpcy5kZWJ1ZygicmVjb25uZWN0X2RlbGF5OiAiICsgdGhpcy5yZWNvbm5lY3RfZGVsYXkpOwpjbGVhclRpbWVvdXQodGhpcy5yZWNvbm5lY3RfdGltZXIpOwp0aGlzLnJlY29ubmVjdF90aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CmUucmVjb25uZWN0X3RpbWVyID0gbnVsbDsKZS5yZWNvbm5lY3RfZGVsYXkgPSBNYXRoLm1pbigxLjQgKiBlLnJlY29ubmVjdF9kZWxheSArIDFlMywgNmU0KTsKZS5yZWNvbm5lY3RfZGVsYXkgKj0gLjIgKiBNYXRoLnJhbmRvbSgpICsgLjk7CmUuY29ubmVjdCgpOwp9LCB0aGlzLnJlY29ubmVjdF9kZWxheSk7CnRoaXMucGF0aCA9ICIvIiArIFsgInMiLCB0aGlzLm5zLCB0aGlzLnByb3ZpZGVyLnByb3RvY29sLCB0aGlzLmlkIF0uam9pbigiLyIpOwp0aGlzLnVybCA9IHRoaXMuaG9zdCArIHRoaXMucGF0aCArICIvIjsKdGhpcy5kZWJ1ZygiY29ubmVjdGluZzogIiArIHRoaXMudXJsKTsKdGhpcy5zb2NrZXQgPSBuZXcgdGhpcy5wcm92aWRlcih0aGlzLnVybCk7CnRoaXMudHJhbnNwb3J0ID0gdGhpcy5wcm92aWRlci5wcm90b2NvbDsKdGhpcy5jb25uZWN0X2F0dGVtcHRzKys7CnRoaXMuc29ja2V0Lm9ub3BlbiA9IGZ1bmN0aW9uKCkgewplLnN0YXR1cyA9ICJjb25uZWN0ZWQiOwplLmdsaXRjaF90aW1lciA9IGNsZWFyVGltZW91dChlLmdsaXRjaF90aW1lcik7CmUucmVjb25uZWN0X3RpbWVyID0gY2xlYXJUaW1lb3V0KGUucmVjb25uZWN0X3RpbWVyKTsKZS5jb25uZWN0aW9ucysrOwplLmRyYWluZWQgPSAhMDsKZS5jb25uZWN0ZWQgPSAhMDsKZS50aW1lX2xhc3Rfb3BlbiA9IGUudGltZV9sYXN0X2FsaXZlID0gRGF0ZS5ub3coKTsKZS51cHRpbWUgPj0gMCAmJiAoZS51cHRpbWUgLT0gZS50aW1lX2xhc3Rfb3Blbik7CjEgPT0gZS5jb25uZWN0aW9ucyA/IGUuZmlyZSgib3BlbiIpIDogZS5maXJlX3Jlc3VtZSgpOwplLmZsdXNoKCk7CmUua2VlcF9hbGl2ZSgpOwplLmRlYnVnKCJjb25uZWN0ZWQiKTsKLTEgPT0gZS5ieXRlc19hdF9jb25uZWN0ICYmIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CmUuYnl0ZXNfYXRfY29ubmVjdCA9IGUucmVjdl9ieXRlczsKfSwgNTApOwp9Owp0aGlzLnNvY2tldC5vbm1lc3NhZ2UgPSBmdW5jdGlvbih0LCBpKSB7CmUub25tZXNzYWdlKHQsIGkpOwp9Owp0aGlzLnNvY2tldC5vbmNsb3NlID0gZnVuY3Rpb24odCkgewplLl9vbmNsb3NlKHQpOwp9Owp0aGlzLnNvY2tldC5vbmRyYWluID0gZnVuY3Rpb24odCkgewplLl9vbmRyYWluKHQpOwp9Owp0aGlzLnNvY2tldC5vbmVycm9yID0gZnVuY3Rpb24odCkgewplLl9vbmVycm9yKHQpOwp9Owp9Cn07Cm4ucHJvdG90eXBlLnJlY29ubmVjdCA9IGZ1bmN0aW9uKCkgewp0aGlzLnJlY29ubmVjdF90aW1lciA9IGNsZWFyVGltZW91dCh0aGlzLnJlY29ubmVjdF90aW1lcik7CnRoaXMuYnJva2VuX3JlYXNvbiA9ICJGT1JDRURfUkVDT05ORUNUIjsKdGhpcy5jb25uZWN0KCk7Cn07Cm4ucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbih0LCBlKSB7CmlmICgiZGlzY29ubmVjdGVkIiAhPSB0aGlzLnN0YXR1cykgewoibnVsbCIgPT0gdGhpcy5idWZmZXJbMF0gJiYgKHRoaXMuYnVmZmVyID0gW10pOwp0aGlzLmJ1ZmZlci5wdXNoKGQuc3RyaW5naWZ5KHQpKTsKdGhpcy5zY2hlZHVsZV9mbHVzaCgpOwplICYmIHRoaXMucmVzcG9uc2VfdGltZW91dCgpOwp9Cn07Cm4ucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24odCkgewp0aGlzLmRlYnVnKCJjbG9zZSgpIik7CnRoaXMuZmx1c2hfc2NoZWR1bGVkID0gY2xlYXJUaW1lb3V0KHRoaXMuZmx1c2hfc2NoZWR1bGVkKTsKdGhpcy5rZWVwX2FsaXZlX3RpbWVyID0gY2xlYXJUaW1lb3V0KHRoaXMua2VlcF9hbGl2ZV90aW1lcik7CnRoaXMucmVjb25uZWN0X3RpbWVyID0gY2xlYXJUaW1lb3V0KHRoaXMucmVjb25uZWN0X3RpbWVyKTsKdGhpcy5yZXNwb25zZV90aW1lciA9IGNsZWFyVGltZW91dCh0aGlzLnJlc3BvbnNlX3RpbWVyKTsKdGhpcy50aW1lb3V0X3RpbWVyID0gY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dF90aW1lcik7CnRoaXMuYnJva2VuX3JlYXNvbiB8fCAodGhpcy5icm9rZW5fcmVhc29uID0gIkNMT1NFIik7CnRoaXMuZmlyZV9icmVhaygpOwp0aGlzLnN0YXR1cyA9IHQgPyAicmVjb25uZWN0aW5nIiA6ICJkaXNjb25uZWN0ZWQiOwp0aGlzLmNvbm5lY3RlZCA9ICExOwp0aGlzLnF1YWxpdHkgPSAwOwppZiAodGhpcy5zb2NrZXQpIHsKdGhpcy5zb2NrZXQub25jbG9zZSA9IHRoaXMuc29ja2V0Lm9uZHJhaW4gPSB0aGlzLnNvY2tldC5vbmVycm9yID0gdGhpcy5zb2NrZXQub25tZXNzYWdlID0gdGhpcy5zb2NrZXQub25vcGVuID0gbnVsbDsKdGhpcy5zb2NrZXQuYWJvcnQoImNsb3NlIik7CnRoaXMuc29ja2V0ID0gbnVsbDsKaWYgKCF0KSB7Cmwud2luZG93LnVuKCJvZmZsaW5lIiwgdGhpcy5vbm9mZmxpbmUpOwpsLndpbmRvdy51bigib25saW5lIiwgdGhpcy5vbm9ubGluZSk7Cn0KfQp9OwpuLnByb3RvdHlwZS5oaWJlcm5hdGUgPSBmdW5jdGlvbigpIHt9OwpuLnByb3RvdHlwZS5vbm9mZmxpbmUgPSBmdW5jdGlvbigpIHsKdGhpcy5kZWJ1Zygib25vZmZsaW5lIik7CnRoaXMuYnJva2VuX3JlYXNvbiA9ICJPRkZMSU5FIjsKdGhpcy5jbG9zZSghMCk7Cn07Cm4ucHJvdG90eXBlLm9ub25saW5lID0gZnVuY3Rpb24oKSB7CnRoaXMuZGVidWcoIm9ub25saW5lIik7CmlmICgiZGlzY29ubmVjdGVkIiAhPSB0aGlzLnN0YXR1cyAmJiAhdGhpcy5jb25uZWN0ZWQpIHsKdGhpcy5yZWNvbm5lY3RfdGltZXIgPSBjbGVhclRpbWVvdXQodGhpcy5yZWNvbm5lY3RfdGltZXIpOwp0aGlzLmNvbm5lY3QoKTsKfQp9OwpuLnByb3RvdHlwZS5zY2hlZHVsZV9mbHVzaCA9IGZ1bmN0aW9uKCkgewppZiAoImRpc2Nvbm5lY3RlZCIgIT0gdGhpcy5zdGF0dXMgJiYgIXRoaXMuZmx1c2hfc2NoZWR1bGVkICYmIHRoaXMuZHJhaW5lZCAmJiB0aGlzLmNvbm5lY3RlZCkgewp2YXIgdCA9IHRoaXMsIGUgPSB0aGlzLm9wdGlvbnM7CnRoaXMuZmx1c2hfc2NoZWR1bGVkID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKdC5mbHVzaCgpOwp9LCBlLkZMVVNIX0RFTEFZX01TKTsKfQp9OwpuLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uKCkgewppZiAoImRpc2Nvbm5lY3RlZCIgIT0gdGhpcy5zdGF0dXMgJiYgdGhpcy5idWZmZXIubGVuZ3RoICYmIHRoaXMuZHJhaW5lZCAmJiB0aGlzLmNvbm5lY3RlZCkgewp2YXIgdCA9IHRoaXMuYnVmZmVyOwp0aGlzLnNlbnRfbWVzc2FnZXMgKz0gdC5sZW5ndGg7CnRoaXMuc2VudF9mcmFtZXMrKzsKdCA9IHRoaXMuZ2VuZXJhdGVfZnJhbWUodC5qb2luKCJcbiIpKTsKdGhpcy5kcmFpbmVkID0gdGhpcy5zb2NrZXQuc2VuZCh0KTsKdGhpcy5zZW50X2J5dGVzICs9IHQubGVuZ3RoOwp0aGlzLmZsdXNoX3NjaGVkdWxlZCA9IGNsZWFyVGltZW91dCh0aGlzLmZsdXNoX3NjaGVkdWxlZCk7CnRoaXMuYnVmZmVyID0gW107CnRoaXMua2VlcF9hbGl2ZSgpOwp0aGlzLnRpbWVfbGFzdF9hbGl2ZSA9IERhdGUubm93KCk7Cn0KfTsKbi5wcm90b3R5cGUua2VlcF9hbGl2ZSA9IGZ1bmN0aW9uKCkgewppZiAoImRpc2Nvbm5lY3RlZCIgIT0gdGhpcy5zdGF0dXMpIHsKY2xlYXJUaW1lb3V0KHRoaXMua2VlcF9hbGl2ZV90aW1lcik7CnZhciB0ID0gdGhpczsKdGhpcy5rZWVwX2FsaXZlX3RpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKdC5kZWJ1ZygicG9uZyEiKTsKdC5zZW5kKG51bGwpOwp9LCB0aGlzLmtlZXBfYWxpdmVfaW50ZXJ2YWwpOwp9Cn07Cm4ucHJvdG90eXBlLnJlc3BvbnNlX3RpbWVvdXQgPSBmdW5jdGlvbigpIHsKaWYgKCF0aGlzLnJlc3BvbnNlX3RpbWVyKSB7CnZhciB0ID0gdGhpcywgZSA9IGEoNCAqIHRoaXMucnR0ICsgdGhpcy5vcHRpb25zLkZMVVNIX0RFTEFZX01TLCAyZTMsIDJlNCk7CnRoaXMucmVzcG9uc2VfdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewp0LnRpbWVvdXRfcmVzcG9uc2Vfc29mdCsrOwp0LmRlYnVnKCJyZXNwb25zZSB0aW1lb3V0LCAiICsgZSArICJtcyIpOwp0LmZpcmVfYnJlYWsoIlNPRlRfUkVTUE9OU0VfVElNRU9VVCIpOwp0LnJlc3BvbnNlX3RpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKdC50aW1lb3V0X3Jlc3BvbnNlX2hhcmQrKzsKdC5kZWJ1ZygicmVzcG9uc2UgdGltZW91dCAtIHJlY29ubmVjdGluZyIpOwp0LmJyb2tlbl9yZWFzb24gPSAiSEFSRF9SRVNQT05TRV9USU1FT1VUIjsKdC5jb25uZWN0KCEwKTsKfSwgMiAqIGUpOwp9LCBlKTsKfQp9OwpuLnByb3RvdHlwZS5yZXNldF9zZXJ2ZXJfdGltZW91dCA9IGZ1bmN0aW9uKCkgewpjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0X3RpbWVyKTsKdmFyIHQgPSB0aGlzLCBlID0gNCAqIHRoaXMua2VlcF9hbGl2ZV9pbnRlcnZhbCArIGEoNCAqIHQucnR0LCAyZTMsIDJlNCk7CnRoaXMudGltZW91dF90aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CnQudGltZW91dF9zZXJ2ZXIrKzsKdC5kZWJ1Zygic2VydmVyICIgKyBlICsgIm1zIHRpbWVvdXQsIHJlY29ubmVjdGluZyIpOwp0LmJyb2tlbl9yZWFzb24gPSAiU0VSVkVSX1RJTUVPVVQiOwp0LmNvbm5lY3QoITApOwp9LCBlKTsKfTsKbi5wcm90b3R5cGUuZmlyZV9icmVhayA9IGZ1bmN0aW9uKHQpIHsKdGhpcy5icm9rZW4gfHwgdGhpcy5maXJlKCJicmVhayIsIHQgfHwgdGhpcy5icm9rZW5fcmVhc29uKTsKdGhpcy5icm9rZW4gPSAhMDsKdGhpcy5icm9rZW5fcmVhc29uID0gIiI7CnRoaXMudXB0aW1lIDwgMCAmJiAodGhpcy51cHRpbWUgKz0gRGF0ZS5ub3coKSk7Cn07Cm4ucHJvdG90eXBlLmZpcmVfcmVzdW1lID0gZnVuY3Rpb24oKSB7CnRoaXMuYnJva2VuX3JlYXNvbiA9ICIiOwp0aGlzLmJyb2tlbiAmJiB0aGlzLmZpcmUoInJlc3VtZSIpOwp0aGlzLmJyb2tlbiA9ICExOwp0aGlzLnVwdGltZSA+PSAwICYmICh0aGlzLnVwdGltZSAtPSBEYXRlLm5vdygpKTsKfTsKbi5wcm90b3R5cGUub25tZXNzYWdlID0gZnVuY3Rpb24odCwgZSkgewp0aGlzLnJlY3ZfYnl0ZXMgKz0gdC5sZW5ndGg7CnQgPSB0LnNwbGl0KCJcbiIpOwppZiAodC5sZW5ndGggPCA2KSB0aGlzLmRlYnVnKCJCYWQgZGF0YTogIiArIHQuam9pbigiXG4iKSk7IGVsc2Ugewp2YXIgaSA9IERhdGUubm93KCksIG4gPSArdFswXSwgbyA9ICt0WzFdLCByID0gK3RbMl0sIGEgPSAodFszXSwgdFs0XSk7CnRoaXMuY2FsY3VsYXRlX2Nsb2NrcyhlIHx8IERhdGUubm93KCksIG4sIG8pOwp0aGlzLnJlc2V0X3NlcnZlcl90aW1lb3V0KCk7CnN3aXRjaCAoYSkgewpjYXNlICJhIjoKdGhpcy5icm9rZW5fcmVhc29uID0gIkFCT1JUIjsKdGhpcy5jbG9zZSgpOwpicmVhazsKCmNhc2UgImQiOgp0aGlzLnJlc3BvbnNlX3RpbWVyID0gY2xlYXJUaW1lb3V0KHRoaXMucmVzcG9uc2VfdGltZXIpOwp0aGlzLmZpcmVfcmVzdW1lKCk7CnRoaXMuY2hlY2tfc2VxdWVuY2Uocik7CnRoaXMuZGF0YV9wYWNrZXRfcXVldWUucXVldWVGcmFtZSh0LCA1LCBpKTsKYnJlYWs7CgpjYXNlICJlIjoKdGhpcy5kZWJ1Zygic2VydmVyOiBBcmUgeW91IHN0aWxsIHRoZXJlPyIpOwp0aGlzLnNlbmQobnVsbCk7CnRoaXMuZmx1c2goKTsKYnJlYWs7CgpjYXNlICJuIjoKdGhpcy5yZW1vdGVfc2VxID0gcjsKdGhpcy5rZWVwX2FsaXZlX2ludGVydmFsID0gK3RbNV0gfHwgMTVlMzsKdGhpcy5kZWJ1Zygia2VlcF9hbGl2ZSBpcyAiICsgdGhpcy5rZWVwX2FsaXZlX2ludGVydmFsICsgIm1zIik7CnRoaXMucmVzZXRfc2VydmVyX3RpbWVvdXQoKTsKdGhpcy5jb25uZWN0aW9ucyA+IDEgJiYgdGhpcy5maXJlKCJyZW9wZW4iKTsKYnJlYWs7CgpjYXNlICJwIjoKdGhpcy5kZWJ1ZygicGluZyEiKTsKfQp9Cn07Cm4ucHJvdG90eXBlLl9vbmNsb3NlID0gZnVuY3Rpb24oKSB7CnZhciB0ID0gdGhpcywgZSA9IHRoaXMub3B0aW9uczsKMCA9PSB0aGlzLmNvbm5lY3Rpb25zICYmIDAgPT0gdGhpcy5kaXNjb25uZWN0cyAmJiB0aGlzLmZpcmUoImNsb3NlIik7CnRoaXMuZGVidWcoIl9vbmNsb3NlIik7CnRoaXMuZGlzY29ubmVjdHMrKzsKdGhpcy5icm9rZW5fcmVhc29uID0gIkhBTkdVUCI7CmlmICh0aGlzLmNvbm5lY3RlZCkgewpjbGVhclRpbWVvdXQodGhpcy5yZWNvbm5lY3RfdGltZXIpOwp0aGlzLnJlY29ubmVjdF90aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CnQucmVjb25uZWN0X3RpbWVyID0gbnVsbDsKdC5jb25uZWN0KCEwKTsKfSwgZS5GQVNUX1JFQ09OTkVDVF9NUyk7Cn0gZWxzZSBpZiAoIXRoaXMuY29ubmVjdGlvbnMgJiYgMSA9PSB0aGlzLmNvbm5lY3RfYXR0ZW1wdHMpIHsKY2xlYXJUaW1lb3V0KHRoaXMucmVjb25uZWN0X3RpbWVyKTsKdGhpcy5yZWNvbm5lY3RfdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewp0LnJlY29ubmVjdF90aW1lciA9IG51bGw7CnQuY29ubmVjdCgpOwp9LCAwKTsKfQp0aGlzLmNvbm5lY3RlZCA9ICExOwpjbGVhclRpbWVvdXQodGhpcy5rZWVwX2FsaXZlX3RpbWVyKTsKdGhpcy50aW1lX2xhc3RfYWxpdmUgPiAwICYmIHRoaXMuaWRsZV90aW1lLmFkZChEYXRlLm5vdygpIC0gdGhpcy50aW1lX2xhc3RfYWxpdmUpOwp0aGlzLnRpbWVfbGFzdF9vcGVuID4gMCAmJiB0aGlzLmNvbm5lY3RlZF90aW1lLmFkZChEYXRlLm5vdygpIC0gdGhpcy50aW1lX2xhc3Rfb3Blbik7CnRoaXMudGltZV9sYXN0X2FsaXZlID0gdGhpcy50aW1lX2xhc3Rfb3BlbiA9IC0xOwp0aGlzLnVwdGltZSA8IDAgJiYgKHRoaXMudXB0aW1lICs9IERhdGUubm93KCkpOwp9OwpuLnByb3RvdHlwZS5fb25kcmFpbiA9IGZ1bmN0aW9uKCkgewp0aGlzLmRyYWluZWQgPSAhMDsKdGhpcy5mbHVzaCgpOwp9OwpuLnByb3RvdHlwZS5fb25lcnJvciA9IGZ1bmN0aW9uKHQpIHsKdGhpcy5kZWJ1ZygiX2Vycm9yIik7CnRoaXMuZmlyZSgiZXJyb3IiLCB0KTsKfTsKbi5wcm90b3R5cGUuZ2VuZXJhdGVfZnJhbWUgPSBmdW5jdGlvbih0LCBlKSB7CnJldHVybiBbIERhdGUubm93KCksIHRoaXMuc21vb3RoX3NrZXdlZF90cmFuc2l0X3RpbWVfaW4sICsrdGhpcy5sb2NhbF9zZXEsIHRoaXMucmVtb3RlX3NlcSwgZSB8fCAiZCIsIHQgXS5qb2luKCJcbiIpOwp9Owp2YXIgJCA9IE1hdGgucG93KDUwLCAuMSksIGIgPSBNYXRoLnBvdygxZTMsIC4xKSAtICQ7Cm4ucHJvdG90eXBlLmNhbGN1bGF0ZV9jbG9ja3MgPSBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gdCAtIGUsIG8gPSBNYXRoLm1heCgwLCB0IC0gdGhpcy5sYXN0X2ZyYW1lX3RpbWUpLCByID0gMSAvIChvIC8gNDVlMyArIDEpOwp0aGlzLnNtb290aF9za2V3ZWRfdHJhbnNpdF90aW1lX2luID8gdGhpcy5zbW9vdGhfc2tld2VkX3RyYW5zaXRfdGltZV9pbiA9IHIgKiB0aGlzLnNtb290aF9za2V3ZWRfdHJhbnNpdF90aW1lX2luICsgKDEgLSByKSAqIG4gOiB0aGlzLnNtb290aF9za2V3ZWRfdHJhbnNpdF90aW1lX2luID0gbjsKdGhpcy5yZW1vdGVfc21vb3RoX3NrZXdlZF90cmFuc2l0X3RpbWVfb3V0ID0gaTsKaWYgKHRoaXMuc21vb3RoX3NrZXdlZF90cmFuc2l0X3RpbWVfaW4gJiYgdGhpcy5yZW1vdGVfc21vb3RoX3NrZXdlZF90cmFuc2l0X3RpbWVfb3V0KSB7CnRoaXMucnR0ID0gdGhpcy5zbW9vdGhfc2tld2VkX3RyYW5zaXRfdGltZV9pbiArIHRoaXMucmVtb3RlX3Ntb290aF9za2V3ZWRfdHJhbnNpdF90aW1lX291dDsKdGhpcy5xdWFsaXR5ID0gfn4oMTAwICogKDEgLSAoTWF0aC5wb3codGhpcy5ydHQsIC4xKSAtICQpIC8gYikpOwp0aGlzLnF1YWxpdHkgPSBNYXRoLm1pbigxMDAsIE1hdGgubWF4KDAsIHRoaXMucXVhbGl0eSkpOwp0aGlzLnJhd19jbG9ja19za2V3ID0gbiAtIHRoaXMucnR0IC8gMjsKdGhpcy5jbG9ja19za2V3ID8gdGhpcy5jbG9ja19za2V3ID0gLjkgKiB0aGlzLmNsb2NrX3NrZXcgKyAuMSAqIHRoaXMucmF3X2Nsb2NrX3NrZXcgOiB0aGlzLmNsb2NrX3NrZXcgPSB0aGlzLnJhd19jbG9ja19za2V3Owp9CnRoaXMudGltZV9sYXN0X2FsaXZlID0gdGhpcy5sYXN0X2ZyYW1lX3RpbWUgPSB0Owp9OwpuLnByb3RvdHlwZS5jaGVja19zZXF1ZW5jZSA9IGZ1bmN0aW9uKHQpIHsKaWYgKHRoaXMucmVtb3RlX3NlcSArIDEgPT0gdCkgdGhpcy5yZW1vdGVfc2VxID0gdDsgZWxzZSBpZiAodGhpcy5yZW1vdGVfc2VxIDwgdCkgewp2YXIgZSA9IHQgLSB0aGlzLnJlbW90ZV9zZXEgKyAxOwp0aGlzLmxvc3RfZnJhbWVzICs9IGU7CnRoaXMuZmlyZSgibG9zdCIsIGUpOwp0aGlzLnJlbW90ZV9zZXEgPSB0Owp9IGVsc2Ugewp0aGlzLm9vb19mcmFtZXMrKzsKdGhpcy5maXJlKCJvdXRfb2Zfb3JkZXIiKTsKfQp9OwpnICYmIChuLnByb3RvdHlwZS50cmFuc3BvcnQgPSBnLnByb3RvY29sKTsKbi5wcm90b3R5cGUuZGVidWcgPSBmdW5jdGlvbigpIHt9Owp2YXIgdyA9ICIrLTAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6IjsKbi5nZW5EYXRlID0gbzsKbi5nZW5JRCA9IHI7CnMucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKHQpIHsKdGhpcy5jb3VudCsrOwp0aGlzLnN1bSArPSB0Owp0aGlzLnNxX3N1bSArPSB0ICogdDsKdGhpcy5tZWFuID0gdGhpcy5zdW0gLyB0aGlzLmNvdW50Owp0aGlzLnN0ZGRldiA9IE1hdGguc3FydCh0aGlzLnNxX3N1bSAvIHRoaXMuY291bnQgLSB0aGlzLm1lYW4gKiB0aGlzLm1lYW4pOwp9Owp2YXIgeCA9IF8ucHJvdG90eXBlOwp4LnF1ZXVlRnJhbWUgPSBmdW5jdGlvbih0LCBlLCBpKSB7CnRoaXMucXVldWUucHVzaCh7Cm1zZ3M6IHQsCnN0YXJ0X2lkeDogZSwKcmVjZWl2ZV90aW1lOiBpCn0pOwp0aGlzLnByb2Nlc3MoKTsKfTsKeC5wcm9jZXNzID0gZnVuY3Rpb24oKSB7CnZhciB0ID0gRGF0ZS5ub3coKSAtIHRoaXMubGFzdF93b3JrX2ZpbmlzaGVkX3RpbWU7CmlmICghKHRoaXMucHJvY2Vzc2luZyAmJiB0IDwgdGhpcy5zb2NrZXQub3B0aW9ucy5NQVhfTk9fV09SS19USU1FX01TKSkgewp0aGlzLndvcmtfdGltZXIgPSB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMud29ya190aW1lcik7CnRoaXMucHJvY2Vzc2luZyA9ICEwOwp0aGlzLndvcmsoKTsKfQp9Owp4LndvcmsgPSBmdW5jdGlvbigpIHsKZm9yICh2YXIgdCwgZSwgaSwgbiA9IERhdGUubm93KCkgKyB0aGlzLnNvY2tldC5vcHRpb25zLk1BWF9CTE9DS0lOR19USU1FX01TLCBvID0gITEsIHIgPSB0aGlzLnNvY2tldC5yZWN2X2ZyYW1lcywgYSA9IHRoaXMsIHMgPSAwOyBzIDwgdGhpcy5xdWV1ZS5sZW5ndGg7IHMrKykgewp0ID0gdGhpcy5xdWV1ZVtzXTsKaWYgKCEoInN0YXJ0X3RpbWUiIGluIHQpKSB7CnQuc3RhcnRfdGltZSA9IERhdGUubm93KCk7CnQudGlja3MgPSAwOwp0LmlkeCA9IHQuc3RhcnRfaWR4Owp9CnQudGlja3MrKzsKZSA9IHQubXNnczsKaSA9IGUubGVuZ3RoOwpmb3IgKDt0LmlkeCA8IGk7ICkgewp2YXIgXywgbCA9IERhdGUubm93KCk7CmlmIChsID4gbikgewpvID0gITA7CmJyZWFrOwp9CnRoaXMuc29ja2V0LmRpc3BhdGNoX2RlbGF5ID0gbCAtIHQucmVjZWl2ZV90aW1lOwp0cnkgewpfID0gZC5wYXJzZShlW3QuaWR4XSk7CnQuaWR4Kys7Cn0gY2F0Y2ggKGkpIHsKdGhpcy5zb2NrZXQuZGVidWcoIkludmFsaWQganNvbiBtZXNzYWdlOiAiICsgZVt0LmlkeF0pOwpjb250aW51ZTsKfQp0aGlzLnNvY2tldC5maXJlKCJtZXNzYWdlIiwgXyk7CnRoaXMuc29ja2V0LnJlY3ZfbWVzc2FnZXMrKzsKdGhpcy5zb2NrZXQuY3VyX2Nvbm5fcmVjdl9tZXNzYWdlcysrOwp9CnQuaWR4ID49IGkgJiYgdGhpcy5zb2NrZXQucmVjdl9mcmFtZXMrKzsKaWYgKG8pIGJyZWFrOwp9CnRoaXMucXVldWUuc3BsaWNlKDAsIHRoaXMuc29ja2V0LnJlY3ZfZnJhbWVzIC0gcik7CnRoaXMucXVldWUubGVuZ3RoID8gdGhpcy53b3JrX3RpbWVyID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CmEud29yaygpOwp9LCAwKSA6IHRoaXMucHJvY2Vzc2luZyA9ICExOwp0aGlzLmxhc3Rfd29ya19maW5pc2hlZF90aW1lID0gRGF0ZS5ub3coKTsKfTsKdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24odCwgZSkgewpmdW5jdGlvbiBpKHQpIHsKcmV0dXJuIERhdGUubm93KCkgLSAodCA/IHQuY2xvY2tfc2tldyA6IDApOwp9CmZ1bmN0aW9uIG4odCkgewpyZXR1cm4gdCA/IHsKY29ubmVjdF9hdHRlbXB0czogdC5jb25uZWN0X2F0dGVtcHRzLApjb25uZWN0aW9uczogdC5jb25uZWN0aW9ucywKZGlzY29ubmVjdHM6IHQuZGlzY29ubmVjdHMsCnRpbWVvdXRfc2VydmVyOiB0LnRpbWVvdXRfc2VydmVyLAp0aW1lb3V0X3Jlc3BvbnNlX3NvZnQ6IHQudGltZW91dF9yZXNwb25zZV9zb2Z0LAp0aW1lb3V0X3Jlc3BvbnNlX2hhcmQ6IHQudGltZW91dF9yZXNwb25zZV9oYXJkLApzZW50X2J5dGVzOiB0LnNlbnRfYnl0ZXMsCnJlY3ZfYnl0ZXM6IHQucmVjdl9ieXRlcywKc2VudF9tZXNzYWdlczogdC5zZW50X21lc3NhZ2VzLApyZWN2X21lc3NhZ2VzOiB0LnJlY3ZfbWVzc2FnZXMsCnNlbnRfZnJhbWVzOiB0LnNlbnRfZnJhbWVzLApyZWN2X2ZyYW1lczogdC5yZWN2X2ZyYW1lcywKbG9zdF9mcmFtZXM6IHQubG9zdF9mcmFtZXMsCm9vb19mcmFtZXM6IHQub29vX2ZyYW1lcywKYnl0ZXNfYXRfY29ubmVjdDogdC5ieXRlc19hdF9jb25uZWN0LApydHQ6IHQucnR0LApjbG9ja19za2V3OiB0LmNsb2NrX3NrZXcsCnJlY29ubmVjdF9kZWxheTogdC5yZWNvbm5lY3RfZGVsYXksCnF1YWxpdHk6IHQucXVhbGl0eSwKaG9zdDogdC5ob3N0LApzdGF0dXM6IHQuc3RhdHVzLApsYXN0X2ZyYW1lX3RpbWU6IHQubGFzdF9mcmFtZV90aW1lLApsb2NhbF90aW1lOiBEYXRlLm5vdygpCn0gOiB7CnN0YXR1czogIm5vdCBjb25uZWN0ZWQiCn07Cn0KdmFyIG8gPSB7CmdldFNlcnZlclRpbWU6IGksCmdldENvbm5lY3Rpb25TdGF0czogbgp9Owp0LmV4cG9ydHMgPSBvOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuLCBvID0gKGkoOCksIGkoMykpLCByID0gaSg3MyksIGEgPSBpKDYpLCBzID0gaSg2MyksIF8gPSBpKDk0KSwgbCA9IGkoMzcyKSwgZCA9IGkoMzY3KSwgdSA9IGkoMTEpLCBjID0ge30sIGggPSB7fSwgZiA9ICJwb3BvdXQiLCBnID0gIm1vYmlsZSIsIHAgPSAyMCwgbSA9ICExOwpjLmluaXQgPSBmdW5jdGlvbigpIHsKZnVuY3Rpb24gdCh0KSB7CiJmYXN0X2luaXQiICE9IHQgfHwgbSB8fCBpKCk7Cn0KZnVuY3Rpb24gZSh0KSB7CmlmICghKCJyZWF0dGFjaGVkIiAhPSB0ICYmICJjb29raWVfbGF3IiAhPSB0IHx8IG0pKSB7Cm0gPSAhMDsKaSgpOwp9Cn0KZnVuY3Rpb24gaSgpIHsKYyghMCk7Cn0KZnVuY3Rpb24gYyh0KSB7CnZhciBlID0geC5nZXRWYWx1ZSgpOwppZiAoZSAmJiBlLm5hbWUkc3RyaW5nICYmIChiICE9IGUubmFtZSRzdHJpbmcgfHwgdCkpIHsKdmFyIGkgPSBsW2UubmFtZSRzdHJpbmddOwppZiAoaSAmJiBpLmdlbmVyYXRlKSB7CnZhciBjLCBtID0gcCwgdyA9IFtdLCB2ID0gW107CmRvIHsKdy5wdXNoKGkuZGVmYXVsdHMgfHwge30pOwp2LnB1c2goaS5vdmVycmlkZXMgfHwge30pOwp9IHdoaWxlIChpLl9zdXBlciAmJiAoaSA9IGkuX3N1cGVyKSk7CmZvciAodmFyIHksIGogPSByLmNsb25lKF8ubGl2ZWNoYXQuc2V0dGluZ3MudGhlbWUpLCBDID0ge307IHcubGVuZ3RoOyApIHsKeSA9IHcucG9wKCk7CnUuZnVsbHlFeHRlbmQoaiwgeSk7CnUuZnVsbHlFeHRlbmQoQywgeSk7Cn0KdmFyIFMgPSBzLmdldFNlcnZlclNldHRpbmdzKCJzZXR0aW5ncyIpOwpTID0gUyAmJiBTLnRoZW1lOwp1LmZ1bGx5RXh0ZW5kKGosIFMgfHwgZSk7CmZvciAoO3YubGVuZ3RoOyApIHUuZnVsbHlFeHRlbmQoaiwgdi5wb3AoKSk7CnUuZnVsbHlFeHRlbmQoaiwgbi5nZXRWYWx1ZSgpKTsKai5uYW1lJHN0cmluZyA9IGUubmFtZSRzdHJpbmc7CmsgJiYgdS5mdWxseUV4dGVuZChqLCBkLnBvcG91dCk7CkkgJiYgdS5mdWxseUV4dGVuZChqLCBkLm1vYmlsZSk7Ck4gJiYgdS5mdWxseUV4dGVuZChqLCBkLm1vYmlsZV9vdmVybGF5KTsKaWYgKCFhLmxpdmVjaGF0LmdldExpbWl0KCkpIHsKai5jb2xvcnMuYmFubmVyJHN0cmluZyA9IGouY29sb3JzLnByaW1hcnkkc3RyaW5nOwpDLmNvbG9ycyAmJiBDLmNvbG9ycy5idWJibGUkc3RyaW5nICYmIChqLmNvbG9ycy5idWJibGUkc3RyaW5nID0gQy5jb2xvcnMuYnViYmxlJHN0cmluZyk7Cn0KYiA9IGoubmFtZSRzdHJpbmc7CnZhciBBOwpyLmVxdWFsKGosIGgpICYmIChBID0gITApOwpoID0gajsKeC51cGRhdGUoaik7CmlmICghQSkgewppID0gbFtiXTsKdmFyIEIgPSBwOwppZiAoVCkgZG8gewpvLmRlbFBhbGV0dGUoQik7Cn0gd2hpbGUgKEItLSk7IGVsc2Ugby5kZWxQYWxldHRlcygpOwpkbyB7CmMgPSBpLmdlbmVyYXRlKGopOwpJICYmIGNbZ10gJiYgby5zZXRQYWxldHRlKGNbZ10sICJ3aWRnZXRfbW9iaWxlXyIgKyBtLCBtLS0pOwprICYmIGNbZl0gJiYgby5zZXRQYWxldHRlKGNbZl0sICJ3aWRnZXRfcG9wb3V0XyIgKyBtLCBtLS0pOwpvLnNldFBhbGV0dGUoYy5zdGFuZGFyZCwgIndpZGdldF8iICsgbSwgbS0tKTsKfSB3aGlsZSAoaS5fc3VwZXIgJiYgKGkgPSBpLl9zdXBlcikpOwpvLm9uKCJ3cml0ZSIsICQpOwpvLnJlbG9hZCgpOwp9Cn0KfQp9CmZ1bmN0aW9uICQoKSB7CkMudXBkYXRlKCEwKTsKby51bigid3JpdGUiLCAkKTsKfQp2YXIgYiwgdyA9IGEucm9vdCwgeCA9IHcuJCgibGl2ZWNoYXQiKS4kKCJzZXR0aW5ncyIpLiQoInRoZW1lIiksIHYgPSB4LiQoIm5hbWUkc3RyaW5nIiksIHkgPSB3LiQoImxpdmVjaGF0IikuJCgidWkiKSwgaiA9IHkuJCgidGhlbWVfcmVsb2FkJGJvb2wiKSwgQyA9IHkuJCgidGhlbWVfbG9hZGVkJGJvb2wiKSwgUyA9IHcuJCgiY29ubmVjdGlvbiIpLiQoIm1lc3NhZ2Ukc3RyaW5nIiksIEEgPSB3LiQoImNvbm5lY3Rpb24iKS4kKCJzdGF0dXMkc3RyaW5nIiksIGsgPSB5LiQoInBvcG91dCRib29sIikuZ2V0VmFsdWUoKSwgSSA9IHkuJCgibW9iaWxlJGJvb2wiKS5nZXRWYWx1ZSgpLCBUID0geS4kKCJtb2NrdXAkYm9vbCIpLmdldFZhbHVlKCksIE4gPSB5LiQoIm1vYmlsZV9vdmVybGF5JGJvb2wiKS5nZXRWYWx1ZSgpOwpuID0gdy4kKCJ0bXAiKS4kKCJhcGlfc2V0dGluZ3MiKS4kKCJzZXR0aW5ncyIpLiQoInRoZW1lIik7ClMuYmluZFZhbHVlKHQpOwpBLmJpbmRWYWx1ZShlKTsKeC5iaW5kVmFsdWUoZnVuY3Rpb24oKSB7CmMoKTsKfSk7CnYuYmluZFZhbHVlKGZ1bmN0aW9uKCkgewpjKCk7Cn0pOwpqLmJpbmRWYWx1ZShmdW5jdGlvbih0KSB7CnQgJiYgYyghMCk7Cn0pOwp9Owp0LmV4cG9ydHMgPSBjOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4oKSB7CnZhciB0ID0gby5nZXRWYXJpYWJsZSgibmF2aWdhdG9yIiksIGUgPSB0LnVzZXJBZ2VudCB8fCAiIiwgaSA9IHQudmVuZG9yIHx8ICIiLCBuID0gLyhhbmRyb2lkfGJiXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG5ldGZyb250fG9wZXJhIG0ob2J8aW4paXxwYWxtKCBvcyk/fHBob25lfHAoaXhpfHJlKVwvfHBsdWNrZXJ8cG9ja2V0fHBzcHxzZXJpZXMoNHw2KTB8c3ltYmlhbnx0cmVvfHVwXC4oYnJvd3NlcnxsaW5rKXx2b2RhZm9uZXx3YXB8d2luZG93cyAoY2V8cGhvbmUpfHhkYXx4aWlub3xhbmRyb2lkfGlwYWR8cGxheWJvb2t8c2lsay9pLCByID0gLzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcLSl8YWkoa298cm4pfGFsKGF2fGNhfGNvKXxhbW9pfGFuKGV4fG55fHl3KXxhcHR1fGFyKGNofGdvKXxhcyh0ZXx1cyl8YXR0d3xhdShkaXxcLW18ciB8cyApfGF2YW58YmUoY2t8bGx8bnEpfGJpKGxifHJkKXxibChhY3xheil8YnIoZXx2KXd8YnVtYnxid1wtKG58dSl8YzU1XC98Y2FwaXxjY3dhfGNkbVwtfGNlbGx8Y2h0bXxjbGRjfGNtZFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXC1zfGRldml8ZGljYXxkbW9ifGRvKGN8cClvfGRzKDEyfFwtZCl8ZWwoNDl8YWkpfGVtKGwyfHVsKXxlcihpY3xrMCl8ZXNsOHxleihbNC03XTB8b3N8d2F8emUpfGZldGN8Zmx5KFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXC01fGdcLW1vfGdvKFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFwtKG18cHx0KXxoZWlcLXxoaShwdHx0YSl8aHAoIGl8aXApfGhzXC1jfGh0KGMoXC18IHxffGF8Z3xwfHN8dCl8dHApfGh1KGF3fHRjKXxpXC0oMjB8Z298bWEpfGkyMzB8aWFjKCB8XC18XC8pfGlicm98aWRlYXxpZzAxfGlrb218aW0xa3xpbm5vfGlwYXF8aXJpc3xqYSh0fHYpYXxqYnJvfGplbXV8amlnc3xrZGRpfGtlaml8a2d0KCB8XC8pfGtsb258a3B0IHxrd2NcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XC8oa3xsfHUpfDUwfDU0fFwtW2Etd10pfGxpYnd8bHlueHxtMVwtd3xtM2dhfG01MFwvfG1hKHRlfHVpfHhvKXxtYygwMXwyMXxjYSl8bVwtY3J8bWUocmN8cmkpfG1pKG84fG9hfHRzKXxtbWVmfG1vKDAxfDAyfGJpfGRlfGRvfHQoXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVwtfG9ufHRmfHdmfHdnfHd0KXxub2soNnxpKXxuenBofG8yaW18b3AodGl8d3YpfG9yYW58b3dnMXxwODAwfHBhbihhfGR8dCl8cGR4Z3xwZygxM3xcLShbMS04XXxjKSl8cGhpbHxwaXJlfHBsKGF5fHVjKXxwblwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XC1nfHFhXC1hfHFjKDA3fDEyfDIxfDMyfDYwfFwtWzItN118aVwtKXxxdGVrfHIzODB8cjYwMHxyYWtzfHJpbTl8cm8odmV8em8pfHM1NVwvfHNhKGdlfG1hfG1tfG1zfG55fHZhKXxzYygwMXxoXC18b298cFwtKXxzZGtcL3xzZShjKFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFwtfHNoYXJ8c2llKFwtfG0pfHNrXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcLXx2XC18diApfHN5KDAxfG1iKXx0MigxOHw1MCl8dDYoMDB8MTB8MTgpfHRhKGd0fGxrKXx0Y2xcLXx0ZGdcLXx0ZWwoaXxtKXx0aW1cLXx0XC1tb3x0byhwbHxzaCl8dHMoNzB8bVwtfG0zfG01KXx0eFwtOXx1cChcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcLXYpfHZtNDB8dm9kYXx2dWxjfHZ4KDUyfDUzfDYwfDYxfDcwfDgwfDgxfDgzfDg1fDk4KXx3M2MoXC18ICl8d2ViY3x3aGl0fHdpKGcgfG5jfG53KXx3bWxifHdvbnV8eDcwMHx5YXNcLXx5b3VyfHpldG98enRlXC0vaSwgYSA9IGUgfHwgaSB8fCB3aW5kb3cub3BlcmE7CnJldHVybiBuLnRlc3QoYSkgfHwgci50ZXN0KGEuc3Vic3RyKDAsIDQpKTsKfQp2YXIgbyA9IGkoMTc3KTsKdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewpmdW5jdGlvbiBuKHQpIHsKcmV0dXJuIGZ1bmN0aW9uKCkgewp0cnkgewp2YXIgZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7CmUudW5zaGlmdChyKTsKdS5hcHBlbmRDaGlsZChyKTsKci5hZGRCZWhhdmlvcigiI2RlZmF1bHQjdXNlckRhdGEiKTsKci5sb2FkKGQpOwp2YXIgaSA9IHQuYXBwbHkocywgZSk7CnUucmVtb3ZlQ2hpbGQocik7CnJldHVybiBpOwp9IGNhdGNoICh0KSB7fQp9Owp9CmZ1bmN0aW9uIG8odCkgewpyZXR1cm4gdC5yZXBsYWNlKGgsICJfX18iKTsKfQp2YXIgciwgYSA9IGkoNTYpLCBzID0ge30sIF8gPSB3aW5kb3csIGwgPSBfLmRvY3VtZW50LCBkID0gImxvY2FsU3RvcmFnZSI7CnMuZGlzYWJsZWQgPSAhMTsKcy5zZXQgPSBmdW5jdGlvbigpIHt9OwpzLmdldCA9IGZ1bmN0aW9uKCkge307CnMucmVtb3ZlID0gZnVuY3Rpb24oKSB7fTsKcy5jbGVhciA9IGZ1bmN0aW9uKCkge307CnMudHJhbnNhY3QgPSBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gcy5nZXQodCk7CmlmIChudWxsID09IGkpIHsKaSA9IGU7CmUgPSBudWxsOwp9CnZvaWQgMCA9PT0gbiAmJiAobiA9IGUgfHwge30pOwppKG4pOwpzLnNldCh0LCBuKTsKfTsKcy5nZXRBbGwgPSBmdW5jdGlvbigpIHt9OwpzLnNlcmlhbGl6ZSA9IGZ1bmN0aW9uKHQpIHsKcmV0dXJuIGEuc3RyaW5naWZ5KHQpOwp9OwpzLmRlc2VyaWFsaXplID0gZnVuY3Rpb24odCkgewppZiAoInN0cmluZyIgPT0gdHlwZW9mIHQpIHRyeSB7CnJldHVybiBhLnBhcnNlKHQpOwp9IGNhdGNoIChlKSB7CnJldHVybiB0IHx8IHZvaWQgMDsKfQp9OwppZiAoZnVuY3Rpb24oKSB7CnRyeSB7CnJldHVybiBkIGluIF8gJiYgX1tkXTsKfSBjYXRjaCAodCkgewpyZXR1cm4gITE7Cn0KfSgpKSB7CnIgPSBfW2RdOwpzLnNldCA9IGZ1bmN0aW9uKHQsIGUpIHsKaWYgKHZvaWQgMCA9PT0gZSkgcmV0dXJuIHMucmVtb3ZlKHQpOwpyLnNldEl0ZW0odCwgcy5zZXJpYWxpemUoZSkpOwpyZXR1cm4gZTsKfTsKcy5nZXQgPSBmdW5jdGlvbih0KSB7CnJldHVybiBzLmRlc2VyaWFsaXplKHIuZ2V0SXRlbSh0KSk7Cn07CnMucmVtb3ZlID0gZnVuY3Rpb24odCkgewpyLnJlbW92ZUl0ZW0odCk7Cn07CnMuY2xlYXIgPSBmdW5jdGlvbigpIHsKci5jbGVhcigpOwp9OwpzLmdldEFsbCA9IGZ1bmN0aW9uKCkgewpmb3IgKHZhciB0ID0ge30sIGUgPSAwOyBlIDwgci5sZW5ndGg7ICsrZSkgewp2YXIgaSA9IHIua2V5KGUpOwp0W2ldID0gcy5nZXQoaSk7Cn0KcmV0dXJuIHQ7Cn07Cn0gZWxzZSBpZiAobC5kb2N1bWVudEVsZW1lbnQuYWRkQmVoYXZpb3IpIHsKdmFyIHUsIGM7CnRyeSB7CmMgPSBuZXcgd2luZG93LkFjdGl2ZVhPYmplY3QoImh0bWxmaWxlIik7CmMub3BlbigpOwpjLndyaXRlKCc8c2NyaXB0PmRvY3VtZW50Lnc9d2luZG93PC9zY3JpcHQ+PGlmcmFtZSBzcmM9Ii9mYXZpY29uLmljbyI+PC9mcmFtZT4nKTsKYy5jbG9zZSgpOwp1ID0gYy53LmZyYW1lc1swXS5kb2N1bWVudDsKciA9IHUuY3JlYXRlRWxlbWVudCgiZGl2Iik7Cn0gY2F0Y2ggKHQpIHsKciA9IGwuY3JlYXRlRWxlbWVudCgiZGl2Iik7CnUgPSBsLmJvZHk7Cn0KdmFyIGggPSBuZXcgUmVnRXhwKCJbIVwiIyQlJicoKSorLC9cXFxcOjs8PT4/QFtcXF1eYHt8fX5dIiwgImciKTsKcy5zZXQgPSBuKGZ1bmN0aW9uKHQsIGUsIGkpIHsKZSA9IG8oZSk7CmlmICh2b2lkIDAgPT09IGkpIHJldHVybiBzLnJlbW92ZShlKTsKdC5zZXRBdHRyaWJ1dGUoZSwgcy5zZXJpYWxpemUoaSkpOwp0LnNhdmUoZCk7CnJldHVybiBpOwp9KTsKcy5nZXQgPSBuKGZ1bmN0aW9uKHQsIGUpIHsKZSA9IG8oZSk7CnJldHVybiBzLmRlc2VyaWFsaXplKHQuZ2V0QXR0cmlidXRlKGUpKTsKfSk7CnMucmVtb3ZlID0gbihmdW5jdGlvbih0LCBlKSB7CmUgPSBvKGUpOwp0LnJlbW92ZUF0dHJpYnV0ZShlKTsKdC5zYXZlKGQpOwp9KTsKcy5jbGVhciA9IG4oZnVuY3Rpb24odCkgewp2YXIgZSA9IHQuWE1MRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmF0dHJpYnV0ZXM7CnQubG9hZChkKTsKZm9yICh2YXIgaSwgbiA9IDA7IGkgPSBlW25dOyBuKyspIHQucmVtb3ZlQXR0cmlidXRlKGkubmFtZSk7CnQuc2F2ZShkKTsKfSk7CnMuZ2V0QWxsID0gbihmdW5jdGlvbih0KSB7CmZvciAodmFyIGUsIGkgPSB0LlhNTERvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hdHRyaWJ1dGVzLCBuID0ge30sIHIgPSAwOyBlID0gaVtyXTsgKytyKSB7CnZhciBhID0gbyhlLm5hbWUpOwpuW2UubmFtZV0gPSBzLmRlc2VyaWFsaXplKHQuZ2V0QXR0cmlidXRlKGEpKTsKfQpyZXR1cm4gbjsKfSk7Cn0KdHJ5IHsKcy5zZXQoIl9fc3RvcmVqc19fIiwgIl9fc3RvcmVqc19fIik7CiJfX3N0b3JlanNfXyIgIT0gcy5nZXQoIl9fc3RvcmVqc19fIikgJiYgKHMuZGlzYWJsZWQgPSAhMCk7CnMucmVtb3ZlKCJfX3N0b3JlanNfXyIpOwp9IGNhdGNoICh0KSB7CnMuZGlzYWJsZWQgPSAhMDsKfQpzLmVuYWJsZWQgPSAhcy5kaXNhYmxlZDsKdmFyIGYgPSBzOwp0LmV4cG9ydHMgPSBmOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4odCwgZSkgewpyZXR1cm4gZSA/IGEodCwgZSkgOiBvKHQpOwp9CmZ1bmN0aW9uIG8odCkgewpmb3IgKHZhciBlLCBpLCBuID0gdC5sZW5ndGg7IG4gPiAxOyApIHsKZSA9IE1hdGguZmxvb3Iobi0tICogTWF0aC5yYW5kb20oKSk7CmkgPSB0W2VdOwp0W2VdID0gdFtuXTsKdFtuXSA9IGk7Cn0KcmV0dXJuIHQ7Cn0KZnVuY3Rpb24gcih0LCBlKSB7CmlmICghdCB8fCB0Lmxlbmd0aCA8PSAwKSByZXR1cm4gLTE7CmlmICghZSkgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHQubGVuZ3RoKTsKZSA9IHModCwgZSk7CnZhciBpLCBuID0gMDsKZm9yIChpID0gZS5sZW5ndGg7IGktLTsgKSBuICs9IGVbaV07CnZhciBvID0gTWF0aC5yYW5kb20oKSAqIG4sIHIgPSAwLCBhID0gZS5sZW5ndGg7CmZvciAoaSA9IDA7IGkgPCBhIC0gMTsgaSsrKSB7CnIgKz0gZVtpXTsKaWYgKG8gPD0gcikgcmV0dXJuIGk7Cn0KcmV0dXJuIGk7Cn0KZnVuY3Rpb24gYSh0LCBlKSB7CnZhciBpLCBuLCBvLCByLCBhLCBfID0gdC5jb25jYXQoKTsKZSA9IHModCwgZSk7CnQubGVuZ3RoID0gMDsKYSA9IDA7CmZvciAoaSA9IGUubGVuZ3RoOyBpLS07ICkgYSArPSBlW2ldOwpvID0gTWF0aC5yYW5kb20oKSAqIGE7CnIgPSAwOwppID0gMDsKZm9yICg7Xy5sZW5ndGg7ICkgewpyICs9IGVbaV07CmlmIChvIDw9IHIpIHsKYSAtPSBlW2ldOwpuID0gXy5zcGxpY2UoaSwgMSlbMF07CmUuc3BsaWNlKGksIDEpOwp0LnB1c2gobik7Cm8gPSBNYXRoLnJhbmRvbSgpICogYTsKciA9IDA7CmkgPSAwOwp9IGVsc2UgaSsrOwp9CnJldHVybiB0Owp9CmZ1bmN0aW9uIHModCwgZSkgewppZiAobChlKSkgewppZiAoZS5sZW5ndGggPT09IHQubGVuZ3RoKSByZXR1cm4gZS5jb25jYXQoKTsKdGhyb3cgbmV3IHdpbmRvdy5FcnJvcigiSW52YWxpZCB3ZWlnaHRzIGFycmF5OiBsZW5ndGggZG9lcyBub3QgbWF0Y2giKTsKfQppZiAoZChlKSkgcmV0dXJuIF8odCwgZSk7CnRocm93IG5ldyB3aW5kb3cuRXJyb3IoIkludmFsaWQgd2VpZ2h0cyBzdXBwbGllZCIpOwp9CmZ1bmN0aW9uIF8odCwgZSwgaSkgewp2YXIgbiwgbywgcjsKaWYgKCFsKHQpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCIgYXJyIGlzIG5vdCBhbiBhcnJheSIpOwp2YXIgYSA9IE9iamVjdCh0KSwgcyA9IGEubGVuZ3RoID4+PiAwOwppZiAoIWQoZSkpIHRocm93IG5ldyBUeXBlRXJyb3IoZSArICIgaXMgbm90IGEgZnVuY3Rpb24iKTsKYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgKG4gPSBpKTsKbyA9IG5ldyBBcnJheShzKTsKciA9IDA7CmZvciAoO3IgPCBzOyApIHsKdmFyIF8sIHU7CmlmIChyIGluIGEpIHsKXyA9IGFbcl07CnUgPSBlLmNhbGwobiwgXywgciwgYSk7Cm9bcl0gPSB1Owp9CnIrKzsKfQpyZXR1cm4gbzsKfQp2YXIgbCA9IGkoMjEpLCBkID0gaSgyMCksIHUgPSB7CnNodWZmbGU6IG4sCnJhbmRvbV9pbmRleDogciwKbWFwOiBfCn07CnQuZXhwb3J0cyA9IHU7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpKSB7CnQgPSBsKHQpIHx8IHt9OwplID0gZSB8fCBoOwppID0gcGFyc2VJbnQoaSwgMTApOwppZiAoKGQucGFsZXR0ZXNbZV0gfHwgIWlzTmFOKGkpKSAmJiAoaXNOYU4oaSkgfHwgIShpIDwgMCkpICYmIChlICE9IGggfHwgaXNOYU4oaSkgfHwgaSA9PSBmKSAmJiAoIWQucHJpb3JpdGllc1tpXSB8fCBkLnByaW9yaXRpZXNbaV0gPT0gZSkpIHsKZC5wYWxldHRlc1tlXSA9IHQ7CmlmICghaXNOYU4oaSkpIHsKdmFyIG4gPSB1KGUsIGQucHJpb3JpdGllcyk7Ci0xICE9IG4gJiYgKGQucHJpb3JpdGllc1tuXSA9IHZvaWQgMCk7CmQucHJpb3JpdGllc1tpXSA9IGU7Cn0KfQp9CmZ1bmN0aW9uIG8odCkgewppZiAodCkgewp2YXIgZTsKaWYgKGModCkpIHsKaWYgKCFkLnByaW9yaXRpZXNbdF0pIHJldHVybjsKZGVsZXRlIGQucGFsZXR0ZXNbZC5wcmlvcml0aWVzW3RdXTsKZC5wcmlvcml0aWVzW3RdID0gdm9pZCAwOwp9IGVsc2UgewppZiAoIWQucGFsZXR0ZXNbdF0pIHJldHVybjsKZSA9IHUodCwgZC5wcmlvcml0aWVzKTsKZGVsZXRlIGQucGFsZXR0ZXNbdF07CmQucHJpb3JpdGllc1tlXSA9IHZvaWQgMDsKfQp9Cn0KZnVuY3Rpb24gcigpIHsKZC5wYWxldHRlcyA9IHt9OwpkLnByaW9yaXRpZXMubGVuZ3RoID0gMDsKYSgpOwp9CmZ1bmN0aW9uIGEoKSB7Cm4oe30sIGgsIGYpOwp9CmZ1bmN0aW9uIHMoKSB7fQpmdW5jdGlvbiBfKHQpIHsKdCA9IHQgfHwgaDsKcmV0dXJuIGQucGFsZXR0ZXNbdF0gfHwge307Cn0KZnVuY3Rpb24gbCh0LCBlLCBpKSB7CmlmICh0KSB7CmUgfHwgKGUgPSB7fSk7CmkgPyBpICs9ICIuIiA6IGkgPSAiIjsKZm9yICh2YXIgbiBpbiB0KSB0Lmhhc093blByb3BlcnR5KG4pICYmICgib2JqZWN0IiA9PSB0eXBlb2YgdFtuXSA/IGwodFtuXSwgZSwgaSArIG4pIDogZVtpICsgbl0gPSB0W25dKTsKcmV0dXJuIGU7Cn0KfQp2YXIgZCA9IGkoOTYpLCB1ID0gaSgzMSksIGMgPSBpKDI4KSwgaCA9ICJfX2pjc3NfX2RlZmF1bHQiLCBmID0gMCwgZyA9IHsKaW5pdERlZmF1bHRQYWxldHRlOiBhLApzZXRQYWxldHRlOiBuLApkZWxQYWxldHRlOiBvLApkZWxQYWxldHRlczogciwKYXBwZW5kUGFsZXR0ZTogcywKZ2V0UGFsZXR0ZTogXwp9Owp0LmV4cG9ydHMgPSBnOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4odCwgZSkgewppZiAoImZ1bmN0aW9uIiA9PSB0eXBlb2YgdCkgewp2YXIgaSA9IHArKzsKaC5wdXNoKHsKY2I6IHQsCnNlbGY6IGUsCmlkOiBpCn0pOwppZiAoIWMpIHsKZCgpOwpjID0gITA7Cn0KcmV0dXJuIGk7Cn0KfQpmdW5jdGlvbiBvKHQpIHsKZm9yICh2YXIgZSA9IGgubGVuZ3RoIC0gMTsgZSA+PSAwOyBlLS0pIGhbZV0uaWQgPT09IHQgJiYgKGhbZV0uY2IgPSBfKTsKfQpmdW5jdGlvbiByKCkgewpnID0gLWc7CmwuZGF0YSA9IGc7Cn0KZnVuY3Rpb24gYSgpIHsKc2V0VGltZW91dChzLCAwKTsKfQpmdW5jdGlvbiBzKCkgewpmb3IgKHZhciB0ID0gMDsgdCA8IGgubGVuZ3RoOyB0KyspIHsKdmFyIGUgPSBoW3RdLCBpID0gZS5jYiwgbiA9IGUuc2VsZjsKaS5jYWxsKG4pOwp9CmggPSBbXTsKYyA9ICExOwp9CmZ1bmN0aW9uIF8oKSB7fQp2YXIgbCwgZCwgdSA9IHsKc2NoZWR1bGU6IG4sCmNsZWFyU2NoZWR1bGU6IG8KfSwgYyA9ICExLCBoID0gW10sIGYgPSB3aW5kb3cuTXV0YXRpb25PYnNlcnZlciB8fCB3aW5kb3cuV2ViS2l0TXV0YXRpb25PYnNlcnZlciwgZyA9IDEsIHAgPSAxOwohZnVuY3Rpb24oKSB7CmlmIChmKSB7CnZhciB0ID0gbmV3IGYocyk7CmwgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7CnQub2JzZXJ2ZShsLCB7CmNoYXJhY3RlckRhdGE6ICEwCn0pOwpkID0gcjsKfSBlbHNlIGQgPSBhOwp9KCk7CnQuZXhwb3J0cyA9IHU7Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpLCBuLCByLCBhKSB7CmlmIChpICYmICh0IHx8IHIpKSB7CnZhciBsOwplID0gZSA/ICIuIiArIGUudHJpbSgpLnJlcGxhY2UoJC5zcGFjZSwgIi4iKSA6ICIiOwppID0gaSB8fCB7fTsKbiA9ICJfIiArIChuIHx8ICIiKTsKciA9IHIgfHwgdC5fX2p4X19jb25zdHJ1Y3RvcjsKbCA9IHMocikucmVwbGFjZSgvXCpcKnNlbGYvZywgZSk7CnUuY2FjaGVbbl0gPSB1LmNhY2hlW25dIHx8IFtdOwp4W25dID0geFtuXSB8fCBbXTsKdS5jYWNoZVtuXS5wdXNoKGwpOwp4W25dLnB1c2gobCk7CnZbbl0gPSAhIWE7Cl8gfHwgKF8gPSBjLnNjaGVkdWxlKG8sIHRoaXMpKTsKfQp9CmZ1bmN0aW9uIG8odCkgewpfICYmIChfID0gYy5jbGVhclNjaGVkdWxlKF8pKTsKdmFyIGUsIGksIG4gPSB0ID8gdS5jYWNoZSA6IHg7CmEoKTsKZm9yIChpIGluIG4pIGlmIChuLmhhc093blByb3BlcnR5KGkpKSB7CmlmICghbltpXSkgY29udGludWU7CnZhciBvID0gbltpXS5qb2luKCJcbiIpOwplID0gby5yZXBsYWNlKCQucmVwbGFjZVZhcmlhYmxlcywgcik7CmQuZ2V0SUZyYW1lT25seSgpIHx8IGguc2V0U3R5bGVTaGVldChkb2N1bWVudCwgImpjc3MiICsgaSwgZSwgdCB8fCB2W2ldKTsKZm9yICh2YXIgcyA9IDA7IHMgPCB5Lmxlbmd0aDsgcysrKSBoLnNldFN0eWxlU2hlZXQoeVtzXS5pZG9jLCAiamNzcyIgKyBpLCBlLCB0IHx8IHZbaV0pOwp1LmNhY2hlX3JlcGxhY2VkW2ldID0gdCA/IGUgOiAodS5jYWNoZV9yZXBsYWNlZFtpXSB8fCAiIikgKyBlOwp2W2ldID0gITE7Cn0KeCA9IHt9Owp0aGlzLmZpcmUoIndyaXRlIiwgZSk7Cn0KZnVuY3Rpb24gcih0LCBlLCBpKSB7CmZvciAoO3dbaV0gfHwgZih3W2ldKTsgKSBpID0gd1tpXS50b1N0cmluZygpLnJlcGxhY2UoJC5yZW1vdmVQcmVmaXgsICIiKTsKcmV0dXJuIGUgPyBnLnRvU3R5bGUoZSwgaSkgOiBpIHx8ICIiOwp9CmZ1bmN0aW9uIGEoKSB7CnZhciB0LCBlLCBpLCBuID0ge307CncgPSB7fTsKZm9yIChlIGluIHUucGFsZXR0ZXMpIGlmICh1LnBhbGV0dGVzLmhhc093blByb3BlcnR5KGUpKSB7CmkgPSBwKGUsIHUucHJpb3JpdGllcyk7CmZvciAodCBpbiB1LnBhbGV0dGVzW2VdKSBpZiAodS5wYWxldHRlc1tlXS5oYXNPd25Qcm9wZXJ0eSh0KSAmJiAoaXNOYU4oblt0XSkgfHwgaSA+IG5bdF0pICYmICh1LnBhbGV0dGVzW2VdW3RdIHx8IGYodS5wYWxldHRlc1tlXVt0XSkpKSB7CndbdF0gPSB1LnBhbGV0dGVzW2VdW3RdOwpuW3RdID0gaTsKfQp9Cn0KZnVuY3Rpb24gcyh0KSB7CnZhciBlID0gdC5wcm90b3R5cGUuX19qeF9fZnFuYW1lOwppZiAodS5jYWNoZWRfZnFuYW1lW2VdKSByZXR1cm4gdS5jYWNoZWRfZnFuYW1lW2VdOwp2YXIgaSA9IFtdLCBuID0gdC5fX2p4X19qY3NzIHx8IHt9LCBvID0gbShuLCAiIiwgIioqc2VsZiIsICEwKS5qb2luKCJcbiIpOwp0ICYmIHQucHJvdG90eXBlLl9fanhfX3N1cGVyICYmIGkucHVzaChzKHQucHJvdG90eXBlLl9fanhfX3N1cGVyKSk7CmkucHVzaChvKTsKdS5jYWNoZWRfZnFuYW1lW2VdID0gaS5qb2luKCJcbiIpOwpyZXR1cm4gdS5jYWNoZWRfZnFuYW1lW2VdOwp9CnZhciBfLCBsID0gaSg5NyksIGQgPSBpKDE4MyksIHUgPSBpKDk2KSwgYyA9IGkoMzg0KSwgaCA9IGkoMTgyKSwgZiA9IGkoMjgpLCBnID0gaSgxODEpLCBwID0gaSgzMSksIG0gPSBpKDE4MCksICQgPSBsLlJFR0VYLCBiID0gewpnZW5lcmF0ZTogbiwKd3JpdGVDaGFuZ2VzOiBvCn0sIHcgPSB7fSwgeCA9IHt9LCB2ID0ge30sIHkgPSBkLmdldElGcmFtZXMoKTsKdC5leHBvcnRzID0gYjsKfSwgZnVuY3Rpb24odCwgZSwgaSkgewppKDIwKShTdHJpbmcucHJvdG90eXBlLnRyaW0pIHx8IChTdHJpbmcucHJvdG90eXBlLnRyaW0gPSBmdW5jdGlvbigpIHsKcmV0dXJuIHRoaXMucmVwbGFjZSgvXlxzK3xccyskL2csICIiKTsKfSk7CnZhciBuID0ge307CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpLCBvLCByKSB7CmlmICghKHRoaXMgaW5zdGFuY2VvZiBuKSkgcmV0dXJuIG5ldyBuKHQsIGUsIGksIG8sIHIpOwpyIHx8IChyID0ge30pOwpyLnRhZ05hbWUgfHwgKHIudGFnTmFtZSA9ICJkaXYiKTsKci5wb3NpdGlvbiB8fCAoci5wb3NpdGlvbiA9ICJhYnNvbHV0ZSIpOwpyLnZpc2libGUgfHwgKHIudmlzaWJsZSA9ICJoaWRkZW4iKTsKci5tYXJnaW4gfHwgKHIubWFyZ2luID0gIjAiKTsKci5wYWRkaW5nIHx8IChyLnBhZGRpbmcgPSAiMCIpOwpyLmJvcmRlciB8fCAoci5ib3JkZXIgPSAiMCIpOwpyLmhlaWdodCB8fCAoci5oZWlnaHQgPSAiMCIpOwpyLndpZHRoIHx8IChyLndpZHRoID0gIjAiKTsKbC5jYWxsKHRoaXMsIHQsIGUsIGksIG8sIHIpOwp9CmZ1bmN0aW9uIG8odCwgZSkgewp2YXIgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm1ldGEiKTsKaS5uYW1lID0gdDsKaS5jb250ZW50ID0gZTsKcmV0dXJuIGk7Cn0KdmFyIHIgPSBpKDEpLCBhID0gaSgwKSwgcyA9IGkoMTIpLCBfID0gaSg4KSwgbCA9IGkoNyk7Cm4ucHJvdG90eXBlID0gYShsLnByb3RvdHlwZSk7CnIobiwgbCwgewpmcW5hbWU6ICJqeF91aV9BcHBsaWNhdGlvbiIKfSk7Cm4ucHJvdG90eXBlLnNldERlc2t0b3AgPSBmdW5jdGlvbih0KSB7CmlmIChzKHQpKSB7CnZhciBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXTsKZS5hcHBlbmRDaGlsZChvKCJ2aWV3cG9ydCIsICJ1c2VyLXNjYWxhYmxlPW5vLCB3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSwgbWF4aW11bS1zY2FsZT0xIikpOwppZiAoXy5pc0lPUykgewplLmFwcGVuZENoaWxkKG8oImFwcGxlLW1vYmlsZS13ZWItYXBwLWNhcGFibGUiLCAieWVzIikpOwplLmFwcGVuZENoaWxkKG8oImFwcGxlLW1vYmlsZS13ZWItYXBwLXN0YXR1cy1iYXItc3R5bGUiLCAiYmxhY2stdHJhbnNsdWNlbnQiKSk7Cn0KfQp9Owp0LmV4cG9ydHMgPSBuOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CmZ1bmN0aW9uIG4odCwgZSwgaSwgJCwgYikgewppZiAoISh0aGlzIGluc3RhbmNlb2YgbikpIHJldHVybiBuZXcgbih0LCBlLCBpLCAkLCBiKTsKaWYgKCEoeS5pc0lFIDw9IDEwKSkgaWYgKCFJLkFDQ09VTlRfS0VZIHx8IEkuQUNDT1VOVF9LRVkubWF0Y2goL15bXHcuXXs1LDMyfSQvKSkgewpFLnNlbmQgPSBMLnNlbmQ7CkUuc2V0UmVmVGltZSgrbmV3IERhdGUoKSk7CmlmICh3aW5kb3cuJHpvcGltICYmIHdpbmRvdy4kem9waW0udCkgewpFLnN0YXJ0KCJzdGFydF9leGVjIiwgd2luZG93LiR6b3BpbS50KTsKRS5lbmQoInN0YXJ0X2V4ZWMiLCAuMjUpOwp9CmIgfHwgKGIgPSB7fSk7CkMuYXNzZXRzVVJMID0gSS5BU1NFVFNfTEVHQUNZOwpDLmNhbGwodGhpcywgdCwgZSwgaSwgJCwgYik7CnZhciB3ID0gdGhpczsKei5pbml0KCk7ClAuaW5pdChiLmRhdGFub2RlLCBiLm1vY2t1cCwgTCk7CmlmIChQLmxpdmVjaGF0LmlzQWNjb3VudEVycm9yKCkpIE0uaGFuZGxlSW5pdEVycm9yKCk7IGVsc2UgewpFLmJpbmRUb0Nvbm5lY3Rpb25TdGF0dXMoUC5yb290LiQoImNvbm5lY3Rpb24iKS4kKCJzdGF0dXMkc3RyaW5nIikpOwp0dC5pbml0KEwpOwpyID0gUC5yb290OwphID0gci4kKCJjb25uZWN0aW9uIikuJCgic3RhdHVzJHN0cmluZyIpOwpzID0gci4kKCJsaXZlY2hhdCIpLiQoInVpIik7Cl8gPSBzLiQoIm1vYmlsZSRib29sIik7CmwgPSBzLiQoIm1vYmlsZV93aGl0ZWxpc3QkYm9vbCIpOwpoID0gcy4kKCJtb2NrdXAkYm9vbCIpOwpkID0gcy4kKCJwb3BvdXQkYm9vbCIpOwp1ID0gci4kKCJsaXZlY2hhdCIpLiQoInNldHRpbmdzIikuJCgicG9wb3V0IikuJCgiZW5hYmxlZCRib29sIik7CmMgPSByLiQoImxpdmVjaGF0IikuJCgic2V0dGluZ3MiKS4kKCJjYWNoZWQkYm9vbCIpOwpmID0gci4kKCJsaXZlY2hhdCIpLiQoImdhdGVzIik7CmcgPSByLiQoImxpdmVjaGF0IikuJCgic2V0dGluZ3MiKS4kKCJjaGF0X3dpbmRvdyIpLiQoInRpdGxlX2JhciIpLiQoInRpdGxlJHN0cmluZyIpOwpwID0gci4kKCJsaXZlY2hhdCIpLiQoInNldHRpbmdzIikuJCgiY2hhdF93aW5kb3ciKS4kKCJtb2JpbGVfbW9kZSRzdHJpbmciKTsKbSA9IHIuJCgidG1wIikuJCgiYXV0aCIpLiQoInNpdGVfand0JHN0cmluZyIpOwpGLnNldERhdGFOb2RlKHMpOwppZiAoIV8uZ2V0VmFsdWUoKSB8fCBsLmdldFZhbHVlKCkgfHwgZC5nZXRWYWx1ZSgpKSB7ClcuaW5pdCgpOwpNLmluaXQoKTsKbmV3IEoodCk7CmlmIChGLmdldFNpdGVKV1RGdW5jKCkpIHsKRi5zZXRPdmVycmlkZUhvc3QoQS5nZXRIYXNoKCJfX3pvcGltX2F1dGhfc2VydmVyX2hvc3QiKSk7CkYuYXV0aGVudGljYXRlKGZ1bmN0aW9uKHQpIHsKdCA/IHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLmxvZyhOLmdldFByZWZpeCgpICsgIjogZmFpbGVkIHRvIHZlcmlmeSB0b2tlbjoiLCB0LnJlYXNvbiwgdC5kZXRhaWxzID8gIjogIiArIHQuZGV0YWlscyA6ICIiKSA6IG8odywgYik7Cn0pOwp9IGVsc2Ugbyh3LCBiKTsKfQp9Cn0gZWxzZSB7ClQud2FybkJhZEVtYmVkKCk7Ck0uaGFuZGxlSW5pdEVycm9yKCk7Cn0KfQpmdW5jdGlvbiBvKHQsIGUpIHsKZnVuY3Rpb24gaSgpIHsKaWYgKCFiICYmIHggJiYgKCQgfHwgdykpIHsKaWYgKEYuaXNBdXRoZW50aWNhdGVkKCkpIHsKcC51cGRhdGUoIm92ZXJsYXkiKTsKdS51cGRhdGUoITEpOwpzLiQoInZpc2l0b3IiKS4kKCJhdXRoX3N0YXR1cyRzdHJpbmciKS5iaW5kVmFsdWUoZnVuY3Rpb24odCkgewppZiAoImZhaWxlZCIgPT09IHQpIHsKd2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUubG9nKE4uZ2V0UHJlZml4KCkgKyAiOiBmYWlsZWQgdG8gdmVyaWZ5IGp3dCB0b2tlbiB3aGlsZSByZWNvbm5lY3RpbmciKTsKTS5oaWRlQWxsKCk7Cn0KfSk7Cn0KbigpOwpFLmZyb21SZWZUaW1lKCJpbml0X3VpX2NvbXBvbmVudHMiICsgKHcgPyAiX2NhY2hlZCIgOiAiX25vX2NhY2hlZCIpLCAuMjUpOwp2YXIgZSA9IGQuZ2V0VmFsdWUoKSwgaSA9IGguZ2V0VmFsdWUoKTsKaWYgKGUpIHsKdmFyIG8gPSB3aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImxvYWRpbmciKTsKbyAmJiAoby5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiKTsKdC5zZXRWaXNpYmlsaXR5KCIiKS5zZXRXaWR0aCgiMTAwJSIpLnNldEhlaWdodCgiMTAwJSIpLnNldFRvcCgiMCIpLnNldExlZnQoIjAiKTsKdC5hdXRvYmluZChnLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CmRvY3VtZW50LnRpdGxlID0gdDsKfSk7Cn0KbmV3IGsodCk7CmIgPSAhMDsKaWYgKCFlICYmICFpKSB0cnkgewp0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodC5kb20pOwp9IGNhdGNoICh0KSB7fQp9Cn0KZnVuY3Rpb24gbigpIHsKIWQuZ2V0VmFsdWUoKSAmJiBfLmdldFZhbHVlKCkgJiYgIm92ZXJsYXkiID09PSByLiQoImxpdmVjaGF0IikuJCgic2V0dGluZ3MiKS4kKCJjaGF0X3dpbmRvdyIpLiQoIm1vYmlsZV9tb2RlJHN0cmluZyIpLmdldFZhbHVlKCkgJiYgVC5pc1N0eWxlU3VwcG9ydGVkKCJmbGV4LWRpcmVjdGlvbiIpICYmIHMudXBkYXRlKHsKbW9iaWxlX292ZXJsYXkkYm9vbDogITAsCm1vYmlsZV9ub3RpZmljYXRpb25zJGJvb2w6ICEwCn0pOwp9CkcuaW5pdCgpOwpWLmluaXQoKTsKTC5pbml0KHsKcm9vdDogUC5yb290LAppc0Nvb2tpZURlbmllZDogVy5pc0Nvb2tpZURlbmllZCwKb3ZlcnJpZGVQcm94eTogQS5nZXRIYXNoKCJfX3pvcGltX3dpZGdldF9wcm94eSIpLApzb3VyY2U6ICJ3aWRnZXRfdjIiCn0pOwpLLmluaXQoUC5yb290LCBMKTsKcS5pbml0KCk7ClUuaW5pdChyKTsKWC5pbml0KCk7Ck8uaW5pdCgpOwpILmluaXQoKTsKQi5pbml0KCk7CkQuaW5pdCgpOwpZLmluaXQoKTsKWi5pbml0KCk7ClEuaW5pdCgpOwpSLmluaXQoUC5yb290KTsKbmV3IFModCwgbnVsbCwgbnVsbCwgWyAiLnpvcGltIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50IH0iIF0sIHsKbWVkaWE6ICJwcmludCIKfSk7CnQuZG9tLmNsYXNzTmFtZSA9ICJ6b3BpbSI7CnQuYXV0b2JpbmQoYywgInZhbHVlIiwgZnVuY3Rpb24odCkgewp3ID0gdDsKaSgpOwp9KTsKdC5hdXRvYmluZChmLCAidmFsdWUiLCBmdW5jdGlvbih0KSB7CnggPSAhIXQ7CmkoKTsKfSk7CnQuYXV0b2JpbmQoYSwgInZhbHVlIiwgZnVuY3Rpb24odCkgewokID0gInJlYXR0YWNoZWQiID09IHQgfHwgImNvb2tpZV9sYXciID09IHQ7CmkoKTsKfSk7CmlmIChlLm1vY2t1cCkgewp0LnNldFZpc2libGUoITApOwp0LnNldFBvc2l0aW9uKCJyZWxhdGl2ZSIpOwp0LnNldFdpZHRoKCJhdXRvIik7CnQuc2V0SGVpZ2h0KCJhdXRvIik7Cn0KfQp2YXIgciwgYSwgcywgXywgbCwgZCwgdSwgYywgaCwgZiwgZywgcCwgbSwgJCwgYiwgdywgeCwgdiA9IGkoMSksIHkgPSBpKDgpLCBqID0gaSgwKSwgQyA9IGkoMzg3KSwgUyA9IGkoMTg0KSwgQSA9IChpKDM4NiksIAppKDM2KSksIGsgPSBpKDU3KSwgSSA9IGkoMTgpLCBUID0gaSgxMSksIE4gPSBpKDI2KSwgQiA9IGkoMjA5KSwgRCA9IGkoMjA4KSwgRSA9IGkoNzYpLCBPID0gaSgzMyksIEwgPSBpKDYzKSwgVyA9IGkoNDEpLCBQID0gaSg2KSwgUiA9IGkoNjgpLCBGID0gaSg0NSksIE0gPSBpKDExNiksIFYgPSBpKDcxKSwgSCA9IGkoMTk2KSwgcSA9IGkoMTIzKSwgeiA9IGkoOTMpLCBVID0gaSgxOTUpLCBHID0gaSgyNCksIFkgPSBpKDE5NCksIFggPSBpKDE5MyksIFogPSBpKDE5MCksIFEgPSBpKDE4OSksIEsgPSBpKDE3OCksIEogPSBpKDQ3KSwgdHQgPSBpKDc0KTsKbi5wcm90b3R5cGUgPSBqKEMucHJvdG90eXBlKTsKdihuLCBDLCB7CmZxbmFtZTogIndpZGdldCIKfSk7CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0LCBlLCBpKSB7CnZhciBuID0gdGhpczsKby5leHRlbmQobik7CnZhciBhID0gbmV3IHIoKTsKZSA9IGUgfHwge307CmEuc2V0U2NvcGUoZSk7CmEub24oInN1Y2Nlc3MiLCBpKTsKYS5vbigiZXJyb3IiLCBmdW5jdGlvbih0KSB7Cm4ub25FcnJvcih0KTsKfSk7CmEubG9hZCh0KTsKfQp2YXIgbyA9IGkoMTQpLCByID0gaSgxODcpOwpuLnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24odCkge307CnQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uKHQsIGUsIGkpIHsKZnVuY3Rpb24gbih0KSB7CnMucnVuQWZ0ZXJGaXJzdENoaWxkUmVhZHkoZnVuY3Rpb24oKSB7Cm5ldyB0KGRvY3VtZW50LmJvZHksICExLCAiIiwgIiIsIFtdKTsKfSk7Cn0KdmFyIG8gPSBpKDQ2KSwgciA9IGkoNSksIGEgPSBpKDE4OCksIHMgPSBpKDE0KSwgXyA9IHsKcnVuTW9kdWxlOiBuCn07CiFmdW5jdGlvbigpIHsKdmFyIHQgPSAiX18kJF9fc3RyaW5ndGFibGVfbGFuZ19lbiIsIGUgPSBpIHx8IHt9OwpvLnN0cmluZ3MgPSBlLl9fc3RyaW5ncyB8fCBbXTsKby5sYW5ndWFnZXMgPSBlLl9fbGFuZ3VhZ2VzIHx8IHt9Owp2YXIgbiA9IG8ubGFuZ3VhZ2VzOwpmb3IgKHZhciBzIGluIG4pIGlmIChuLmhhc093blByb3BlcnR5KHMpKSB7CnZhciBfID0gbltzXTsKcltfXSA9IG5ldyBhKF8pOwp9Cm8ubGFuZ3VhZ2VzLmVuID0gdDsKclt0XSA9IG8uc3RyaW5nczsKfSgpOwp0LmV4cG9ydHMgPSBfOwp9LCBmdW5jdGlvbih0LCBlLCBpKSB7CnZhciBuID0gaSgzOTApLCBvID0gaSgzODgpOwpuLnJ1bk1vZHVsZShvKTsKfSBdKTsK</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPBody>
        <TcpPackets>
          <PacketInfo time="330114546" offset="0" length="1400" />
          <PacketInfo time="330114546" offset="1400" length="4200" />
          <PacketInfo time="330114562" offset="5600" length="2800" />
          <PacketInfo time="330114562" offset="8400" length="2800" />
          <PacketInfo time="330114562" offset="11200" length="1400" />
          <PacketInfo time="330114562" offset="12600" length="1400" />
          <PacketInfo time="330114578" offset="14000" length="1400" />
          <PacketInfo time="330114578" offset="15400" length="4200" />
          <PacketInfo time="330114578" offset="19600" length="1400" />
          <PacketInfo time="330114578" offset="21000" length="2800" />
          <PacketInfo time="330114578" offset="23800" length="1400" />
          <PacketInfo time="330114593" offset="25200" length="1400" />
          <PacketInfo time="330114593" offset="26600" length="4200" />
          <PacketInfo time="330114593" offset="30800" length="1400" />
          <PacketInfo time="330114593" offset="32200" length="1400" />
          <PacketInfo time="330114593" offset="33600" length="1400" />
          <PacketInfo time="330114609" offset="35000" length="1400" />
          <PacketInfo time="330114609" offset="36400" length="1400" />
          <PacketInfo time="330114609" offset="37800" length="1400" />
          <PacketInfo time="330114609" offset="39200" length="2800" />
          <PacketInfo time="330114625" offset="42000" length="1400" />
          <PacketInfo time="330114625" offset="43400" length="2800" />
          <PacketInfo time="330114625" offset="46200" length="4200" />
          <PacketInfo time="330114625" offset="50400" length="1400" />
          <PacketInfo time="330114640" offset="51800" length="2800" />
          <PacketInfo time="330114640" offset="54600" length="4200" />
          <PacketInfo time="330114656" offset="58800" length="1400" />
          <PacketInfo time="330114656" offset="60200" length="1400" />
          <PacketInfo time="330114656" offset="61600" length="2800" />
          <PacketInfo time="330114656" offset="64400" length="1400" />
          <PacketInfo time="330114671" offset="65800" length="1400" />
          <PacketInfo time="330114671" offset="67200" length="4200" />
          <PacketInfo time="330114671" offset="71400" length="1400" />
          <PacketInfo time="330114671" offset="72800" length="2800" />
          <PacketInfo time="330114671" offset="75600" length="1400" />
          <PacketInfo time="330114687" offset="77000" length="4200" />
          <PacketInfo time="330114703" offset="81200" length="4200" />
          <PacketInfo time="330114703" offset="85400" length="7000" />
          <PacketInfo time="330114703" offset="92400" length="1400" />
          <PacketInfo time="330114703" offset="93800" length="1400" />
          <PacketInfo time="330114703" offset="95200" length="2800" />
          <PacketInfo time="330114718" offset="98000" length="1400" />
          <PacketInfo time="330114718" offset="99400" length="1400" />
          <PacketInfo time="330114718" offset="100800" length="2800" />
          <PacketInfo time="330114734" offset="103600" length="1400" />
          <PacketInfo time="330114734" offset="105000" length="4200" />
          <PacketInfo time="330114734" offset="109200" length="2800" />
          <PacketInfo time="330114734" offset="112000" length="2800" />
          <PacketInfo time="330114750" offset="114800" length="1400" />
          <PacketInfo time="330114765" offset="116200" length="1400" />
          <PacketInfo time="330114765" offset="117600" length="2800" />
          <PacketInfo time="330114765" offset="120400" length="1400" />
          <PacketInfo time="330114765" offset="121800" length="4200" />
          <PacketInfo time="330114765" offset="126000" length="1400" />
          <PacketInfo time="330114765" offset="127400" length="2800" />
          <PacketInfo time="330114765" offset="130200" length="1400" />
          <PacketInfo time="330114781" offset="131600" length="1400" />
          <PacketInfo time="330114781" offset="133000" length="2800" />
          <PacketInfo time="330114781" offset="135800" length="1400" />
          <PacketInfo time="330114796" offset="137200" length="1400" />
          <PacketInfo time="330114796" offset="138600" length="5600" />
          <PacketInfo time="330114796" offset="144200" length="1400" />
          <PacketInfo time="330114796" offset="145600" length="1400" />
          <PacketInfo time="330114796" offset="147000" length="7000" />
          <PacketInfo time="330114812" offset="154000" length="1400" />
          <PacketInfo time="330114812" offset="155400" length="1400" />
          <PacketInfo time="330114812" offset="156800" length="8400" />
          <PacketInfo time="330114843" offset="165200" length="9800" />
          <PacketInfo time="330114843" offset="175000" length="7000" />
          <PacketInfo time="330114859" offset="182000" length="4200" />
          <PacketInfo time="330114859" offset="186200" length="1400" />
          <PacketInfo time="330114859" offset="187600" length="2800" />
          <PacketInfo time="330114859" offset="190400" length="1400" />
          <PacketInfo time="330114875" offset="191800" length="1400" />
          <PacketInfo time="330114875" offset="193200" length="1400" />
          <PacketInfo time="330114890" offset="194600" length="4200" />
          <PacketInfo time="330114890" offset="198800" length="1400" />
          <PacketInfo time="330114890" offset="200200" length="2800" />
          <PacketInfo time="330114890" offset="203000" length="4200" />
          <PacketInfo time="330114890" offset="207200" length="1400" />
          <PacketInfo time="330114890" offset="208600" length="1400" />
          <PacketInfo time="330114906" offset="210000" length="5600" />
          <PacketInfo time="330114906" offset="215600" length="1400" />
          <PacketInfo time="330114921" offset="217000" length="1400" />
          <PacketInfo time="330114921" offset="218400" length="2800" />
          <PacketInfo time="330114921" offset="221200" length="1400" />
          <PacketInfo time="330114937" offset="222600" length="1400" />
          <PacketInfo time="330114937" offset="224000" length="2800" />
          <PacketInfo time="330114937" offset="226800" length="4200" />
          <PacketInfo time="330114937" offset="231000" length="7000" />
          <PacketInfo time="330114953" offset="238000" length="1400" />
          <PacketInfo time="330114953" offset="239400" length="8400" />
          <PacketInfo time="330114953" offset="247800" length="1400" />
          <PacketInfo time="330114968" offset="249200" length="849" />
        </TcpPackets>
      </HTTPResponse>
    </HTTPTask>
  </HTTPTask>
  <HTTPTask id="1129" hostname="bystored.atlassian.net" path="/s/d41d8cd98f00b204e9800998ecf8427e-T/-rfrvv0/b/6/a44af77267a987a660377e5c46e0fb64/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-US&amp;collectorId=e0c6cd48" url="https://bystored.atlassian.net/s/d41d8cd98f00b204e9800998ecf8427e-T/-rfrvv0/b/6/a44af77267a987a660377e5c46e0fb64/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-US&amp;collectorId=e0c6cd48" ip="18.184.99.128" port="443" connectionId="35" origin="ExtraRes" frame="1" startDateTime="2019-06-23T18:24:39.736+05:00" startTime="330114218" endTime="330114687">
    <QueryString>
      <HTTPDataSet>
        <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
          <ActualData>bG9jYWxlPWVuLVVTJmNvbGxlY3RvcklkPWUwYzZjZDQ4</ActualData>
        </HTTPData>
      </HTTPDataSet>
      <IsExternalData>false</IsExternalData>
    </QueryString>
    <HTTPSplittedQueryStrings>
      <HTTPHeaderEntity name="locale" index="0">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>ZW4tVVM=</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
      <HTTPHeaderEntity name="collectorId" index="1">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>ZTBjNmNkNDg=</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
    </HTTPSplittedQueryStrings>
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Host" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YnlzdG9yZWQuYXRsYXNzaWFuLm5ldA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc1LjAuMzc3MC4xMDAgU2FmYXJpLzUzNy4zNg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ki8q</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cDovL3FhMS5ieXN0b3JlZC5jb20vY29udGFjdC11cw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZSwgYnI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVMsZW47cT0wLjk=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9zL2Q0MWQ4Y2Q5OGYwMGIyMDRlOTgwMDk5OGVjZjg0MjdlLVQvLXJmcnZ2MC9iLzYvYTQ0YWY3NzI2N2E5ODdhNjYwMzc3ZTVjNDZlMGZiNjQvXy9kb3dubG9hZC9iYXRjaC9jb20uYXRsYXNzaWFuLmppcmEuY29sbGVjdG9yLnBsdWdpbi5qaXJhLWlzc3VlLWNvbGxlY3Rvci1wbHVnaW46aXNzdWVjb2xsZWN0b3IvY29tLmF0bGFzc2lhbi5qaXJhLmNvbGxlY3Rvci5wbHVnaW4uamlyYS1pc3N1ZS1jb2xsZWN0b3ItcGx1Z2luOmlzc3VlY29sbGVjdG9yLmpzP2xvY2FsZT1lbi1VUyZjb2xsZWN0b3JJZD1lMGM2Y2Q0OCBIVFRQLzEuMQ0KSG9zdDogYnlzdG9yZWQuYXRsYXNzaWFuLm5ldA0KQ29ubmVjdGlvbjoga2VlcC1hbGl2ZQ0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc1LjAuMzc3MC4xMDAgU2FmYXJpLzUzNy4zNg0KQWNjZXB0OiAqLyoNClJlZmVyZXI6IGh0dHA6Ly9xYTEuYnlzdG9yZWQuY29tL2NvbnRhY3QtdXMNCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZSwgYnINCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMsZW47cT0wLjkNCg0K</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <contentLenght>0</contentLenght>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Server" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QXRsYXNzaWFuUHJveHkvMS4xNS44LjE=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Vary" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT02MDA=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cHVibGlj</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Type" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdDtjaGFyc2V0PVVURi04</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Encoding" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Strict-Transport-Security" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT0zMTUzNjAwMDA7IGluY2x1ZGVTdWJEb21haW5zOyBwcmVsb2Fk</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>U3VuLCAyMyBKdW4gMjAxOSAxMzoyMzo1NSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ATL-TraceId" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Y2M4ZTM2ODcyNmRlOTgxNQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-AREQUESTID" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZDMyZmEwYjAtN2Y2Yy00NDk5LThkZGYtYzRhZTMwYjY5NWYx</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Expires" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW9uLCAyMiBKdW4gMjAyMCAxMzoyMzo1NSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-XSS-Protection" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MTsgbW9kZT1ibG9jaw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Transfer-Encoding" index="12">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Y2h1bmtlZA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Timing-Allow-Origin" index="13">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Kg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="14">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Vy8iMjA4NDg5MDU4MyI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Content-Type-Options" index="15">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bm9zbmlmZg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="16">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="17">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIA0KU2VydmVyOiBBdGxhc3NpYW5Qcm94eS8xLjE1LjguMQ0KVmFyeTogQWNjZXB0LUVuY29kaW5nDQpDYWNoZS1Db250cm9sOiBtYXgtYWdlPTYwMA0KQ2FjaGUtQ29udHJvbDogcHVibGljDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2phdmFzY3JpcHQ7Y2hhcnNldD1VVEYtOA0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KU3RyaWN0LVRyYW5zcG9ydC1TZWN1cml0eTogbWF4LWFnZT0zMTUzNjAwMDA7IGluY2x1ZGVTdWJEb21haW5zOyBwcmVsb2FkDQpEYXRlOiBTdW4sIDIzIEp1biAyMDE5IDEzOjIzOjU1IEdNVA0KQVRMLVRyYWNlSWQ6IGNjOGUzNjg3MjZkZTk4MTUNClgtQVJFUVVFU1RJRDogZDMyZmEwYjAtN2Y2Yy00NDk5LThkZGYtYzRhZTMwYjY5NWYxDQpFeHBpcmVzOiBNb24sIDIyIEp1biAyMDIwIDEzOjIzOjU1IEdNVA0KWC1YU1MtUHJvdGVjdGlvbjogMTsgbW9kZT1ibG9jaw0KVHJhbnNmZXItRW5jb2Rpbmc6IGNodW5rZWQNClRpbWluZy1BbGxvdy1PcmlnaW46ICoNCkVUYWc6IFcvIjIwODQ4OTA1ODMiDQpYLUNvbnRlbnQtVHlwZS1PcHRpb25zOiBub3NuaWZmDQpDb25uZWN0aW9uOiBrZWVwLWFsaXZlDQpMYXN0LU1vZGlmaWVkOiBUaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIEdNVA0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>OwovKiBtb2R1bGUta2V5ID0gJ2NvbS5hdGxhc3NpYW4uamlyYS5jb2xsZWN0b3IucGx1Z2luLmppcmEtaXNzdWUtY29sbGVjdG9yLXBsdWdpbjppc3N1ZWNvbGxlY3RvcicsIGxvY2F0aW9uID0gJy9qcy9qcXVlcnkvanF1ZXJ5LTEuNy4xLmpzJyAqLwovKiEgalF1ZXJ5IHYxLjcuMSBqcXVlcnkuY29tIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovCihmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGN5KGEpe3JldHVybiBmLmlzV2luZG93KGEpP2E6YS5ub2RlVHlwZT09PTk/YS5kZWZhdWx0Vmlld3x8YS5wYXJlbnRXaW5kb3c6ITF9ZnVuY3Rpb24gY3YoYSl7aWYoIWNrW2FdKXt2YXIgYj1jLmJvZHksZD1mKCI8IithKyI+IikuYXBwZW5kVG8oYiksZT1kLmNzcygiZGlzcGxheSIpO2QucmVtb3ZlKCk7aWYoZT09PSJub25lInx8ZT09PSIiKXtjbHx8KGNsPWMuY3JlYXRlRWxlbWVudCgiaWZyYW1lIiksY2wuZnJhbWVCb3JkZXI9Y2wud2lkdGg9Y2wuaGVpZ2h0PTApLGIuYXBwZW5kQ2hpbGQoY2wpO2lmKCFjbXx8IWNsLmNyZWF0ZUVsZW1lbnQpY209KGNsLmNvbnRlbnRXaW5kb3d8fGNsLmNvbnRlbnREb2N1bWVudCkuZG9jdW1lbnQsY20ud3JpdGUoKGMuY29tcGF0TW9kZT09PSJDU1MxQ29tcGF0Ij8iPCFkb2N0eXBlIGh0bWw+IjoiIikrIjxodG1sPjxib2R5PiIpLGNtLmNsb3NlKCk7ZD1jbS5jcmVhdGVFbGVtZW50KGEpLGNtLmJvZHkuYXBwZW5kQ2hpbGQoZCksZT1mLmNzcyhkLCJkaXNwbGF5IiksYi5yZW1vdmVDaGlsZChjbCl9Y2tbYV09ZX1yZXR1cm4gY2tbYV19ZnVuY3Rpb24gY3UoYSxiKXt2YXIgYz17fTtmLmVhY2goY3EuY29uY2F0LmFwcGx5KFtdLGNxLnNsaWNlKDAsYikpLGZ1bmN0aW9uKCl7Y1t0aGlzXT1hfSk7cmV0dXJuIGN9ZnVuY3Rpb24gY3QoKXtjcj1ifWZ1bmN0aW9uIGNzKCl7c2V0VGltZW91dChjdCwwKTtyZXR1cm4gY3I9Zi5ub3coKX1mdW5jdGlvbiBjaigpe3RyeXtyZXR1cm4gbmV3IGEuQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKX1jYXRjaChiKXt9fWZ1bmN0aW9uIGNpKCl7dHJ5e3JldHVybiBuZXcgYS5YTUxIdHRwUmVxdWVzdH1jYXRjaChiKXt9fWZ1bmN0aW9uIGNjKGEsYyl7YS5kYXRhRmlsdGVyJiYoYz1hLmRhdGFGaWx0ZXIoYyxhLmRhdGFUeXBlKSk7dmFyIGQ9YS5kYXRhVHlwZXMsZT17fSxnLGgsaT1kLmxlbmd0aCxqLGs9ZFswXSxsLG0sbixvLHA7Zm9yKGc9MTtnPGk7ZysrKXtpZihnPT09MSlmb3IoaCBpbiBhLmNvbnZlcnRlcnMpdHlwZW9mIGg9PSJzdHJpbmciJiYoZVtoLnRvTG93ZXJDYXNlKCldPWEuY29udmVydGVyc1toXSk7bD1rLGs9ZFtnXTtpZihrPT09IioiKWs9bDtlbHNlIGlmKGwhPT0iKiImJmwhPT1rKXttPWwrIiAiK2ssbj1lW21dfHxlWyIqICIra107aWYoIW4pe3A9Yjtmb3IobyBpbiBlKXtqPW8uc3BsaXQoIiAiKTtpZihqWzBdPT09bHx8alswXT09PSIqIil7cD1lW2pbMV0rIiAiK2tdO2lmKHApe289ZVtvXSxvPT09ITA/bj1wOnA9PT0hMCYmKG49byk7YnJlYWt9fX19IW4mJiFwJiZmLmVycm9yKCJObyBjb252ZXJzaW9uIGZyb20gIittLnJlcGxhY2UoIiAiLCIgdG8gIikpLG4hPT0hMCYmKGM9bj9uKGMpOnAobyhjKSkpfX1yZXR1cm4gY31mdW5jdGlvbiBjYihhLGMsZCl7dmFyIGU9YS5jb250ZW50cyxmPWEuZGF0YVR5cGVzLGc9YS5yZXNwb25zZUZpZWxkcyxoLGksaixrO2ZvcihpIGluIGcpaSBpbiBkJiYoY1tnW2ldXT1kW2ldKTt3aGlsZShmWzBdPT09IioiKWYuc2hpZnQoKSxoPT09YiYmKGg9YS5taW1lVHlwZXx8Yy5nZXRSZXNwb25zZUhlYWRlcigiY29udGVudC10eXBlIikpO2lmKGgpZm9yKGkgaW4gZSlpZihlW2ldJiZlW2ldLnRlc3QoaCkpe2YudW5zaGlmdChpKTticmVha31pZihmWzBdaW4gZClqPWZbMF07ZWxzZXtmb3IoaSBpbiBkKXtpZighZlswXXx8YS5jb252ZXJ0ZXJzW2krIiAiK2ZbMF1dKXtqPWk7YnJlYWt9a3x8KGs9aSl9aj1qfHxrfWlmKGope2ohPT1mWzBdJiZmLnVuc2hpZnQoaik7cmV0dXJuIGRbal19fWZ1bmN0aW9uIGNhKGEsYixjLGQpe2lmKGYuaXNBcnJheShiKSlmLmVhY2goYixmdW5jdGlvbihiLGUpe2N8fGJFLnRlc3QoYSk/ZChhLGUpOmNhKGErIlsiKyh0eXBlb2YgZT09Im9iamVjdCJ8fGYuaXNBcnJheShlKT9iOiIiKSsiXSIsZSxjLGQpfSk7ZWxzZSBpZighYyYmYiE9bnVsbCYmdHlwZW9mIGI9PSJvYmplY3QiKWZvcih2YXIgZSBpbiBiKWNhKGErIlsiK2UrIl0iLGJbZV0sYyxkKTtlbHNlIGQoYSxiKX1mdW5jdGlvbiBiXyhhLGMpe3ZhciBkLGUsZz1mLmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKGQgaW4gYyljW2RdIT09YiYmKChnW2RdP2E6ZXx8KGU9e30pKVtkXT1jW2RdKTtlJiZmLmV4dGVuZCghMCxhLGUpfWZ1bmN0aW9uIGIkKGEsYyxkLGUsZixnKXtmPWZ8fGMuZGF0YVR5cGVzWzBdLGc9Z3x8e30sZ1tmXT0hMDt2YXIgaD1hW2ZdLGk9MCxqPWg/aC5sZW5ndGg6MCxrPWE9PT1iVCxsO2Zvcig7aTxqJiYoa3x8IWwpO2krKylsPWhbaV0oYyxkLGUpLHR5cGVvZiBsPT0ic3RyaW5nIiYmKCFrfHxnW2xdP2w9YjooYy5kYXRhVHlwZXMudW5zaGlmdChsKSxsPWIkKGEsYyxkLGUsbCxnKSkpOyhrfHwhbCkmJiFnWyIqIl0mJihsPWIkKGEsYyxkLGUsIioiLGcpKTtyZXR1cm4gbH1mdW5jdGlvbiBiWihhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXt0eXBlb2YgYiE9InN0cmluZyImJihjPWIsYj0iKiIpO2lmKGYuaXNGdW5jdGlvbihjKSl7dmFyIGQ9Yi50b0xvd2VyQ2FzZSgpLnNwbGl0KGJQKSxlPTAsZz1kLmxlbmd0aCxoLGksajtmb3IoO2U8ZztlKyspaD1kW2VdLGo9L15cKy8udGVzdChoKSxqJiYoaD1oLnN1YnN0cigxKXx8IioiKSxpPWFbaF09YVtoXXx8W10saVtqPyJ1bnNoaWZ0IjoicHVzaCJdKGMpfX19ZnVuY3Rpb24gYkMoYSxiLGMpe3ZhciBkPWI9PT0id2lkdGgiP2Eub2Zmc2V0V2lkdGg6YS5vZmZzZXRIZWlnaHQsZT1iPT09IndpZHRoIj9ieDpieSxnPTAsaD1lLmxlbmd0aDtpZihkPjApe2lmKGMhPT0iYm9yZGVyIilmb3IoO2c8aDtnKyspY3x8KGQtPXBhcnNlRmxvYXQoZi5jc3MoYSwicGFkZGluZyIrZVtnXSkpfHwwKSxjPT09Im1hcmdpbiI/ZCs9cGFyc2VGbG9hdChmLmNzcyhhLGMrZVtnXSkpfHwwOmQtPXBhcnNlRmxvYXQoZi5jc3MoYSwiYm9yZGVyIitlW2ddKyJXaWR0aCIpKXx8MDtyZXR1cm4gZCsicHgifWQ9YnooYSxiLGIpO2lmKGQ8MHx8ZD09bnVsbClkPWEuc3R5bGVbYl18fDA7ZD1wYXJzZUZsb2F0KGQpfHwwO2lmKGMpZm9yKDtnPGg7ZysrKWQrPXBhcnNlRmxvYXQoZi5jc3MoYSwicGFkZGluZyIrZVtnXSkpfHwwLGMhPT0icGFkZGluZyImJihkKz1wYXJzZUZsb2F0KGYuY3NzKGEsImJvcmRlciIrZVtnXSsiV2lkdGgiKSl8fDApLGM9PT0ibWFyZ2luIiYmKGQrPXBhcnNlRmxvYXQoZi5jc3MoYSxjK2VbZ10pKXx8MCk7cmV0dXJuIGQrInB4In1mdW5jdGlvbiBicChhLGIpe2Iuc3JjP2YuYWpheCh7dXJsOmIuc3JjLGFzeW5jOiExLGRhdGFUeXBlOiJzY3JpcHQifSk6Zi5nbG9iYWxFdmFsKChiLnRleHR8fGIudGV4dENvbnRlbnR8fGIuaW5uZXJIVE1MfHwiIikucmVwbGFjZShiZiwiLyokMCovIikpLGIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpfWZ1bmN0aW9uIGJvKGEpe3ZhciBiPWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7YmguYXBwZW5kQ2hpbGQoYiksYi5pbm5lckhUTUw9YS5vdXRlckhUTUw7cmV0dXJuIGIuZmlyc3RDaGlsZH1mdW5jdGlvbiBibihhKXt2YXIgYj0oYS5ub2RlTmFtZXx8IiIpLnRvTG93ZXJDYXNlKCk7Yj09PSJpbnB1dCI/Ym0oYSk6YiE9PSJzY3JpcHQiJiZ0eXBlb2YgYS5nZXRFbGVtZW50c0J5VGFnTmFtZSE9InVuZGVmaW5lZCImJmYuZ3JlcChhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpLGJtKX1mdW5jdGlvbiBibShhKXtpZihhLnR5cGU9PT0iY2hlY2tib3gifHxhLnR5cGU9PT0icmFkaW8iKWEuZGVmYXVsdENoZWNrZWQ9YS5jaGVja2VkfWZ1bmN0aW9uIGJsKGEpe3JldHVybiB0eXBlb2YgYS5nZXRFbGVtZW50c0J5VGFnTmFtZSE9InVuZGVmaW5lZCI/YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpOnR5cGVvZiBhLnF1ZXJ5U2VsZWN0b3JBbGwhPSJ1bmRlZmluZWQiP2EucXVlcnlTZWxlY3RvckFsbCgiKiIpOltdfWZ1bmN0aW9uIGJrKGEsYil7dmFyIGM7aWYoYi5ub2RlVHlwZT09PTEpe2IuY2xlYXJBdHRyaWJ1dGVzJiZiLmNsZWFyQXR0cmlidXRlcygpLGIubWVyZ2VBdHRyaWJ1dGVzJiZiLm1lcmdlQXR0cmlidXRlcyhhKSxjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZihjPT09Im9iamVjdCIpYi5vdXRlckhUTUw9YS5vdXRlckhUTUw7ZWxzZSBpZihjIT09ImlucHV0Inx8YS50eXBlIT09ImNoZWNrYm94IiYmYS50eXBlIT09InJhZGlvIil7aWYoYz09PSJvcHRpb24iKWIuc2VsZWN0ZWQ9YS5kZWZhdWx0U2VsZWN0ZWQ7ZWxzZSBpZihjPT09ImlucHV0Inx8Yz09PSJ0ZXh0YXJlYSIpYi5kZWZhdWx0VmFsdWU9YS5kZWZhdWx0VmFsdWV9ZWxzZSBhLmNoZWNrZWQmJihiLmRlZmF1bHRDaGVja2VkPWIuY2hlY2tlZD1hLmNoZWNrZWQpLGIudmFsdWUhPT1hLnZhbHVlJiYoYi52YWx1ZT1hLnZhbHVlKTtiLnJlbW92ZUF0dHJpYnV0ZShmLmV4cGFuZG8pfX1mdW5jdGlvbiBiaihhLGIpe2lmKGIubm9kZVR5cGU9PT0xJiYhIWYuaGFzRGF0YShhKSl7dmFyIGMsZCxlLGc9Zi5fZGF0YShhKSxoPWYuX2RhdGEoYixnKSxpPWcuZXZlbnRzO2lmKGkpe2RlbGV0ZSBoLmhhbmRsZSxoLmV2ZW50cz17fTtmb3IoYyBpbiBpKWZvcihkPTAsZT1pW2NdLmxlbmd0aDtkPGU7ZCsrKWYuZXZlbnQuYWRkKGIsYysoaVtjXVtkXS5uYW1lc3BhY2U/Ii4iOiIiKStpW2NdW2RdLm5hbWVzcGFjZSxpW2NdW2RdLGlbY11bZF0uZGF0YSl9aC5kYXRhJiYoaC5kYXRhPWYuZXh0ZW5kKHt9LGguZGF0YSkpfX1mdW5jdGlvbiBiaShhLGIpe3JldHVybiBmLm5vZGVOYW1lKGEsInRhYmxlIik/YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKVswXXx8YS5hcHBlbmRDaGlsZChhLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKSk6YX1mdW5jdGlvbiBVKGEpe3ZhciBiPVYuc3BsaXQoInwiKSxjPWEuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2lmKGMuY3JlYXRlRWxlbWVudCl3aGlsZShiLmxlbmd0aCljLmNyZWF0ZUVsZW1lbnQoYi5wb3AoKSk7cmV0dXJuIGN9ZnVuY3Rpb24gVChhLGIsYyl7Yj1ifHwwO2lmKGYuaXNGdW5jdGlvbihiKSlyZXR1cm4gZi5ncmVwKGEsZnVuY3Rpb24oYSxkKXt2YXIgZT0hIWIuY2FsbChhLGQsYSk7cmV0dXJuIGU9PT1jfSk7aWYoYi5ub2RlVHlwZSlyZXR1cm4gZi5ncmVwKGEsZnVuY3Rpb24oYSxkKXtyZXR1cm4gYT09PWI9PT1jfSk7aWYodHlwZW9mIGI9PSJzdHJpbmciKXt2YXIgZD1mLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlVHlwZT09PTF9KTtpZihPLnRlc3QoYikpcmV0dXJuIGYuZmlsdGVyKGIsZCwhYyk7Yj1mLmZpbHRlcihiLGQpfXJldHVybiBmLmdyZXAoYSxmdW5jdGlvbihhLGQpe3JldHVybiBmLmluQXJyYXkoYSxiKT49MD09PWN9KX1mdW5jdGlvbiBTKGEpe3JldHVybiFhfHwhYS5wYXJlbnROb2RlfHxhLnBhcmVudE5vZGUubm9kZVR5cGU9PT0xMX1mdW5jdGlvbiBLKCl7cmV0dXJuITB9ZnVuY3Rpb24gSigpe3JldHVybiExfWZ1bmN0aW9uIG4oYSxiLGMpe3ZhciBkPWIrImRlZmVyIixlPWIrInF1ZXVlIixnPWIrIm1hcmsiLGg9Zi5fZGF0YShhLGQpO2gmJihjPT09InF1ZXVlInx8IWYuX2RhdGEoYSxlKSkmJihjPT09Im1hcmsifHwhZi5fZGF0YShhLGcpKSYmc2V0VGltZW91dChmdW5jdGlvbigpeyFmLl9kYXRhKGEsZSkmJiFmLl9kYXRhKGEsZykmJihmLnJlbW92ZURhdGEoYSxkLCEwKSxoLmZpcmUoKSl9LDApfWZ1bmN0aW9uIG0oYSl7Zm9yKHZhciBiIGluIGEpe2lmKGI9PT0iZGF0YSImJmYuaXNFbXB0eU9iamVjdChhW2JdKSljb250aW51ZTtpZihiIT09InRvSlNPTiIpcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gbChhLGMsZCl7aWYoZD09PWImJmEubm9kZVR5cGU9PT0xKXt2YXIgZT0iZGF0YS0iK2MucmVwbGFjZShrLCItJDEiKS50b0xvd2VyQ2FzZSgpO2Q9YS5nZXRBdHRyaWJ1dGUoZSk7aWYodHlwZW9mIGQ9PSJzdHJpbmciKXt0cnl7ZD1kPT09InRydWUiPyEwOmQ9PT0iZmFsc2UiPyExOmQ9PT0ibnVsbCI/bnVsbDpmLmlzTnVtZXJpYyhkKT9wYXJzZUZsb2F0KGQpOmoudGVzdChkKT9mLnBhcnNlSlNPTihkKTpkfWNhdGNoKGcpe31mLmRhdGEoYSxjLGQpfWVsc2UgZD1ifXJldHVybiBkfWZ1bmN0aW9uIGgoYSl7dmFyIGI9Z1thXT17fSxjLGQ7YT1hLnNwbGl0KC9ccysvKTtmb3IoYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKyliW2FbY11dPSEwO3JldHVybiBifXZhciBjPWEuZG9jdW1lbnQsZD1hLm5hdmlnYXRvcixlPWEubG9jYXRpb24sZj1mdW5jdGlvbigpe2Z1bmN0aW9uIEooKXtpZighZS5pc1JlYWR5KXt0cnl7Yy5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwoImxlZnQiKX1jYXRjaChhKXtzZXRUaW1lb3V0KEosMSk7cmV0dXJufWUucmVhZHkoKX19dmFyIGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IGUuZm4uaW5pdChhLGIsaCl9LGY9YS5qUXVlcnksZz1hLiQsaCxpPS9eKD86W14jPF0qKDxbXHdcV10rPilbXj5dKiR8IyhbXHdcLV0qKSQpLyxqPS9cUy8saz0vXlxzKy8sbD0vXHMrJC8sbT0vXjwoXHcrKVxzKlwvPz4oPzo8XC9cMT4pPyQvLG49L15bXF0sOnt9XHNdKiQvLG89L1xcKD86WyJcXFwvYmZucnRdfHVbMC05YS1mQS1GXXs0fSkvZyxwPS8iW14iXFxcblxyXSoifHRydWV8ZmFsc2V8bnVsbHwtP1xkKyg/OlwuXGQqKT8oPzpbZUVdWytcLV0/XGQrKT8vZyxxPS8oPzpefDp8LCkoPzpccypcWykrL2cscj0vKHdlYmtpdClbIFwvXShbXHcuXSspLyxzPS8ob3BlcmEpKD86Lip2ZXJzaW9uKT9bIFwvXShbXHcuXSspLyx0PS8obXNpZSkgKFtcdy5dKykvLHU9Lyhtb3ppbGxhKSg/Oi4qPyBydjooW1x3Ll0rKSk/Lyx2PS8tKFthLXpdfFswLTldKS9pZyx3PS9eLW1zLS8seD1mdW5jdGlvbihhLGIpe3JldHVybihiKyIiKS50b1VwcGVyQ2FzZSgpfSx5PWQudXNlckFnZW50LHosQSxCLEM9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxEPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksRT1BcnJheS5wcm90b3R5cGUucHVzaCxGPUFycmF5LnByb3RvdHlwZS5zbGljZSxHPVN0cmluZy5wcm90b3R5cGUudHJpbSxIPUFycmF5LnByb3RvdHlwZS5pbmRleE9mLEk9e307ZS5mbj1lLnByb3RvdHlwZT17Y29uc3RydWN0b3I6ZSxpbml0OmZ1bmN0aW9uKGEsZCxmKXt2YXIgZyxoLGosaztpZighYSlyZXR1cm4gdGhpcztpZihhLm5vZGVUeXBlKXt0aGlzLmNvbnRleHQ9dGhpc1swXT1hLHRoaXMubGVuZ3RoPTE7cmV0dXJuIHRoaXN9aWYoYT09PSJib2R5IiYmIWQmJmMuYm9keSl7dGhpcy5jb250ZXh0PWMsdGhpc1swXT1jLmJvZHksdGhpcy5zZWxlY3Rvcj1hLHRoaXMubGVuZ3RoPTE7cmV0dXJuIHRoaXN9aWYodHlwZW9mIGE9PSJzdHJpbmciKXthLmNoYXJBdCgwKSE9PSI8Inx8YS5jaGFyQXQoYS5sZW5ndGgtMSkhPT0iPiJ8fGEubGVuZ3RoPDM/Zz1pLmV4ZWMoYSk6Zz1bbnVsbCxhLG51bGxdO2lmKGcmJihnWzFdfHwhZCkpe2lmKGdbMV0pe2Q9ZCBpbnN0YW5jZW9mIGU/ZFswXTpkLGs9ZD9kLm93bmVyRG9jdW1lbnR8fGQ6YyxqPW0uZXhlYyhhKSxqP2UuaXNQbGFpbk9iamVjdChkKT8oYT1bYy5jcmVhdGVFbGVtZW50KGpbMV0pXSxlLmZuLmF0dHIuY2FsbChhLGQsITApKTphPVtrLmNyZWF0ZUVsZW1lbnQoalsxXSldOihqPWUuYnVpbGRGcmFnbWVudChbZ1sxXV0sW2tdKSxhPShqLmNhY2hlYWJsZT9lLmNsb25lKGouZnJhZ21lbnQpOmouZnJhZ21lbnQpLmNoaWxkTm9kZXMpO3JldHVybiBlLm1lcmdlKHRoaXMsYSl9aD1jLmdldEVsZW1lbnRCeUlkKGdbMl0pO2lmKGgmJmgucGFyZW50Tm9kZSl7aWYoaC5pZCE9PWdbMl0pcmV0dXJuIGYuZmluZChhKTt0aGlzLmxlbmd0aD0xLHRoaXNbMF09aH10aGlzLmNvbnRleHQ9Yyx0aGlzLnNlbGVjdG9yPWE7cmV0dXJuIHRoaXN9cmV0dXJuIWR8fGQuanF1ZXJ5PyhkfHxmKS5maW5kKGEpOnRoaXMuY29uc3RydWN0b3IoZCkuZmluZChhKX1pZihlLmlzRnVuY3Rpb24oYSkpcmV0dXJuIGYucmVhZHkoYSk7YS5zZWxlY3RvciE9PWImJih0aGlzLnNlbGVjdG9yPWEuc2VsZWN0b3IsdGhpcy5jb250ZXh0PWEuY29udGV4dCk7cmV0dXJuIGUubWFrZUFycmF5KGEsdGhpcyl9LHNlbGVjdG9yOiIiLGpxdWVyeToiMS43LjEiLGxlbmd0aDowLHNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGh9LHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gRi5jYWxsKHRoaXMsMCl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gYT09bnVsbD90aGlzLnRvQXJyYXkoKTphPDA/dGhpc1t0aGlzLmxlbmd0aCthXTp0aGlzW2FdfSxwdXNoU3RhY2s6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuY29uc3RydWN0b3IoKTtlLmlzQXJyYXkoYSk/RS5hcHBseShkLGEpOmUubWVyZ2UoZCxhKSxkLnByZXZPYmplY3Q9dGhpcyxkLmNvbnRleHQ9dGhpcy5jb250ZXh0LGI9PT0iZmluZCI/ZC5zZWxlY3Rvcj10aGlzLnNlbGVjdG9yKyh0aGlzLnNlbGVjdG9yPyIgIjoiIikrYzpiJiYoZC5zZWxlY3Rvcj10aGlzLnNlbGVjdG9yKyIuIitiKyIoIitjKyIpIik7cmV0dXJuIGR9LGVhY2g6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZS5lYWNoKHRoaXMsYSxiKX0scmVhZHk6ZnVuY3Rpb24oYSl7ZS5iaW5kUmVhZHkoKSxBLmFkZChhKTtyZXR1cm4gdGhpc30sZXE6ZnVuY3Rpb24oYSl7YT0rYTtyZXR1cm4gYT09PS0xP3RoaXMuc2xpY2UoYSk6dGhpcy5zbGljZShhLGErMSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoMCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgtMSl9LHNsaWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKEYuYXBwbHkodGhpcyxhcmd1bWVudHMpLCJzbGljZSIsRi5jYWxsKGFyZ3VtZW50cykuam9pbigiLCIpKX0sbWFwOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayhlLm1hcCh0aGlzLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuY2FsbChiLGMsYil9KSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IobnVsbCl9LHB1c2g6RSxzb3J0OltdLnNvcnQsc3BsaWNlOltdLnNwbGljZX0sZS5mbi5pbml0LnByb3RvdHlwZT1lLmZuLGUuZXh0ZW5kPWUuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGEsYyxkLGYsZyxoLGk9YXJndW1lbnRzWzBdfHx7fSxqPTEsaz1hcmd1bWVudHMubGVuZ3RoLGw9ITE7dHlwZW9mIGk9PSJib29sZWFuIiYmKGw9aSxpPWFyZ3VtZW50c1sxXXx8e30saj0yKSx0eXBlb2YgaSE9Im9iamVjdCImJiFlLmlzRnVuY3Rpb24oaSkmJihpPXt9KSxrPT09aiYmKGk9dGhpcywtLWopO2Zvcig7ajxrO2orKylpZigoYT1hcmd1bWVudHNbal0pIT1udWxsKWZvcihjIGluIGEpe2Q9aVtjXSxmPWFbY107aWYoaT09PWYpY29udGludWU7bCYmZiYmKGUuaXNQbGFpbk9iamVjdChmKXx8KGc9ZS5pc0FycmF5KGYpKSk/KGc/KGc9ITEsaD1kJiZlLmlzQXJyYXkoZCk/ZDpbXSk6aD1kJiZlLmlzUGxhaW5PYmplY3QoZCk/ZDp7fSxpW2NdPWUuZXh0ZW5kKGwsaCxmKSk6ZiE9PWImJihpW2NdPWYpfXJldHVybiBpfSxlLmV4dGVuZCh7bm9Db25mbGljdDpmdW5jdGlvbihiKXthLiQ9PT1lJiYoYS4kPWcpLGImJmEualF1ZXJ5PT09ZSYmKGEualF1ZXJ5PWYpO3JldHVybiBlfSxpc1JlYWR5OiExLHJlYWR5V2FpdDoxLGhvbGRSZWFkeTpmdW5jdGlvbihhKXthP2UucmVhZHlXYWl0Kys6ZS5yZWFkeSghMCl9LHJlYWR5OmZ1bmN0aW9uKGEpe2lmKGE9PT0hMCYmIS0tZS5yZWFkeVdhaXR8fGEhPT0hMCYmIWUuaXNSZWFkeSl7aWYoIWMuYm9keSlyZXR1cm4gc2V0VGltZW91dChlLnJlYWR5LDEpO2UuaXNSZWFkeT0hMDtpZihhIT09ITAmJi0tZS5yZWFkeVdhaXQ+MClyZXR1cm47QS5maXJlV2l0aChjLFtlXSksZS5mbi50cmlnZ2VyJiZlKGMpLnRyaWdnZXIoInJlYWR5Iikub2ZmKCJyZWFkeSIpfX0sYmluZFJlYWR5OmZ1bmN0aW9uKCl7aWYoIUEpe0E9ZS5DYWxsYmFja3MoIm9uY2UgbWVtb3J5Iik7aWYoYy5yZWFkeVN0YXRlPT09ImNvbXBsZXRlIilyZXR1cm4gc2V0VGltZW91dChlLnJlYWR5LDEpO2lmKGMuYWRkRXZlbnRMaXN0ZW5lciljLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLEIsITEpLGEuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsZS5yZWFkeSwhMSk7ZWxzZSBpZihjLmF0dGFjaEV2ZW50KXtjLmF0dGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLEIpLGEuYXR0YWNoRXZlbnQoIm9ubG9hZCIsZS5yZWFkeSk7dmFyIGI9ITE7dHJ5e2I9YS5mcmFtZUVsZW1lbnQ9PW51bGx9Y2F0Y2goZCl7fWMuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsJiZiJiZKKCl9fX0saXNGdW5jdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gZS50eXBlKGEpPT09ImZ1bmN0aW9uIn0saXNBcnJheTpBcnJheS5pc0FycmF5fHxmdW5jdGlvbihhKXtyZXR1cm4gZS50eXBlKGEpPT09ImFycmF5In0saXNXaW5kb3c6ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJnR5cGVvZiBhPT0ib2JqZWN0IiYmInNldEludGVydmFsImluIGF9LGlzTnVtZXJpYzpmdW5jdGlvbihhKXtyZXR1cm4haXNOYU4ocGFyc2VGbG9hdChhKSkmJmlzRmluaXRlKGEpfSx0eXBlOmZ1bmN0aW9uKGEpe3JldHVybiBhPT1udWxsP1N0cmluZyhhKTpJW0MuY2FsbChhKV18fCJvYmplY3QifSxpc1BsYWluT2JqZWN0OmZ1bmN0aW9uKGEpe2lmKCFhfHxlLnR5cGUoYSkhPT0ib2JqZWN0Inx8YS5ub2RlVHlwZXx8ZS5pc1dpbmRvdyhhKSlyZXR1cm4hMTt0cnl7aWYoYS5jb25zdHJ1Y3RvciYmIUQuY2FsbChhLCJjb25zdHJ1Y3RvciIpJiYhRC5jYWxsKGEuY29uc3RydWN0b3IucHJvdG90eXBlLCJpc1Byb3RvdHlwZU9mIikpcmV0dXJuITF9Y2F0Y2goYyl7cmV0dXJuITF9dmFyIGQ7Zm9yKGQgaW4gYSk7cmV0dXJuIGQ9PT1ifHxELmNhbGwoYSxkKX0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hMH0sZXJyb3I6ZnVuY3Rpb24oYSl7dGhyb3cgbmV3IEVycm9yKGEpfSxwYXJzZUpTT046ZnVuY3Rpb24oYil7aWYodHlwZW9mIGIhPSJzdHJpbmcifHwhYilyZXR1cm4gbnVsbDtiPWUudHJpbShiKTtpZihhLkpTT04mJmEuSlNPTi5wYXJzZSlyZXR1cm4gYS5KU09OLnBhcnNlKGIpO2lmKG4udGVzdChiLnJlcGxhY2UobywiQCIpLnJlcGxhY2UocCwiXSIpLnJlcGxhY2UocSwiIikpKXJldHVybihuZXcgRnVuY3Rpb24oInJldHVybiAiK2IpKSgpO2UuZXJyb3IoIkludmFsaWQgSlNPTjogIitiKX0scGFyc2VYTUw6ZnVuY3Rpb24oYyl7dmFyIGQsZjt0cnl7YS5ET01QYXJzZXI/KGY9bmV3IERPTVBhcnNlcixkPWYucGFyc2VGcm9tU3RyaW5nKGMsInRleHQveG1sIikpOihkPW5ldyBBY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MRE9NIiksZC5hc3luYz0iZmFsc2UiLGQubG9hZFhNTChjKSl9Y2F0Y2goZyl7ZD1ifSghZHx8IWQuZG9jdW1lbnRFbGVtZW50fHxkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpLmxlbmd0aCkmJmUuZXJyb3IoIkludmFsaWQgWE1MOiAiK2MpO3JldHVybiBkfSxub29wOmZ1bmN0aW9uKCl7fSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGIpe2ImJmoudGVzdChiKSYmKGEuZXhlY1NjcmlwdHx8ZnVuY3Rpb24oYil7YS5ldmFsLmNhbGwoYSxiKX0pKGIpfSxjYW1lbENhc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSh3LCJtcy0iKS5yZXBsYWNlKHYseCl9LG5vZGVOYW1lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubm9kZU5hbWUmJmEubm9kZU5hbWUudG9VcHBlckNhc2UoKT09PWIudG9VcHBlckNhc2UoKX0sZWFjaDpmdW5jdGlvbihhLGMsZCl7dmFyIGYsZz0wLGg9YS5sZW5ndGgsaT1oPT09Ynx8ZS5pc0Z1bmN0aW9uKGEpO2lmKGQpe2lmKGkpe2ZvcihmIGluIGEpaWYoYy5hcHBseShhW2ZdLGQpPT09ITEpYnJlYWt9ZWxzZSBmb3IoO2c8aDspaWYoYy5hcHBseShhW2crK10sZCk9PT0hMSlicmVha31lbHNlIGlmKGkpe2ZvcihmIGluIGEpaWYoYy5jYWxsKGFbZl0sZixhW2ZdKT09PSExKWJyZWFrfWVsc2UgZm9yKDtnPGg7KWlmKGMuY2FsbChhW2ddLGcsYVtnKytdKT09PSExKWJyZWFrO3JldHVybiBhfSx0cmltOkc/ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PW51bGw/IiI6Ry5jYWxsKGEpfTpmdW5jdGlvbihhKXtyZXR1cm4gYT09bnVsbD8iIjooYSsiIikucmVwbGFjZShrLCIiKS5yZXBsYWNlKGwsIiIpfSxtYWtlQXJyYXk6ZnVuY3Rpb24oYSxiKXt2YXIgYz1ifHxbXTtpZihhIT1udWxsKXt2YXIgZD1lLnR5cGUoYSk7YS5sZW5ndGg9PW51bGx8fGQ9PT0ic3RyaW5nInx8ZD09PSJmdW5jdGlvbiJ8fGQ9PT0icmVnZXhwInx8ZS5pc1dpbmRvdyhhKT9FLmNhbGwoYyxhKTplLm1lcmdlKGMsYSl9cmV0dXJuIGN9LGluQXJyYXk6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO2lmKGIpe2lmKEgpcmV0dXJuIEguY2FsbChiLGEsYyk7ZD1iLmxlbmd0aCxjPWM/YzwwP01hdGgubWF4KDAsZCtjKTpjOjA7Zm9yKDtjPGQ7YysrKWlmKGMgaW4gYiYmYltjXT09PWEpcmV0dXJuIGN9cmV0dXJuLTF9LG1lcmdlOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9YS5sZW5ndGgsZT0wO2lmKHR5cGVvZiBjLmxlbmd0aD09Im51bWJlciIpZm9yKHZhciBmPWMubGVuZ3RoO2U8ZjtlKyspYVtkKytdPWNbZV07ZWxzZSB3aGlsZShjW2VdIT09YilhW2QrK109Y1tlKytdO2EubGVuZ3RoPWQ7cmV0dXJuIGF9LGdyZXA6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVtdLGU7Yz0hIWM7Zm9yKHZhciBmPTAsZz1hLmxlbmd0aDtmPGc7ZisrKWU9ISFiKGFbZl0sZiksYyE9PWUmJmQucHVzaChhW2ZdKTtyZXR1cm4gZH0sbWFwOmZ1bmN0aW9uKGEsYyxkKXt2YXIgZixnLGg9W10saT0wLGo9YS5sZW5ndGgsaz1hIGluc3RhbmNlb2YgZXx8aiE9PWImJnR5cGVvZiBqPT0ibnVtYmVyIiYmKGo+MCYmYVswXSYmYVtqLTFdfHxqPT09MHx8ZS5pc0FycmF5KGEpKTtpZihrKWZvcig7aTxqO2krKylmPWMoYVtpXSxpLGQpLGYhPW51bGwmJihoW2gubGVuZ3RoXT1mKTtlbHNlIGZvcihnIGluIGEpZj1jKGFbZ10sZyxkKSxmIT1udWxsJiYoaFtoLmxlbmd0aF09Zik7cmV0dXJuIGguY29uY2F0LmFwcGx5KFtdLGgpfSxndWlkOjEscHJveHk6ZnVuY3Rpb24oYSxjKXtpZih0eXBlb2YgYz09InN0cmluZyIpe3ZhciBkPWFbY107Yz1hLGE9ZH1pZighZS5pc0Z1bmN0aW9uKGEpKXJldHVybiBiO3ZhciBmPUYuY2FsbChhcmd1bWVudHMsMiksZz1mdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGMsZi5jb25jYXQoRi5jYWxsKGFyZ3VtZW50cykpKX07Zy5ndWlkPWEuZ3VpZD1hLmd1aWR8fGcuZ3VpZHx8ZS5ndWlkKys7cmV0dXJuIGd9LGFjY2VzczpmdW5jdGlvbihhLGMsZCxmLGcsaCl7dmFyIGk9YS5sZW5ndGg7aWYodHlwZW9mIGM9PSJvYmplY3QiKXtmb3IodmFyIGogaW4gYyllLmFjY2VzcyhhLGosY1tqXSxmLGcsZCk7cmV0dXJuIGF9aWYoZCE9PWIpe2Y9IWgmJmYmJmUuaXNGdW5jdGlvbihkKTtmb3IodmFyIGs9MDtrPGk7aysrKWcoYVtrXSxjLGY/ZC5jYWxsKGFba10sayxnKGFba10sYykpOmQsaCk7cmV0dXJuIGF9cmV0dXJuIGk/ZyhhWzBdLGMpOmJ9LG5vdzpmdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpfSx1YU1hdGNoOmZ1bmN0aW9uKGEpe2E9YS50b0xvd2VyQ2FzZSgpO3ZhciBiPXIuZXhlYyhhKXx8cy5leGVjKGEpfHx0LmV4ZWMoYSl8fGEuaW5kZXhPZigiY29tcGF0aWJsZSIpPDAmJnUuZXhlYyhhKXx8W107cmV0dXJue2Jyb3dzZXI6YlsxXXx8IiIsdmVyc2lvbjpiWzJdfHwiMCJ9fSxzdWI6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIsYyl7cmV0dXJuIG5ldyBhLmZuLmluaXQoYixjKX1lLmV4dGVuZCghMCxhLHRoaXMpLGEuc3VwZXJjbGFzcz10aGlzLGEuZm49YS5wcm90b3R5cGU9dGhpcygpLGEuZm4uY29uc3RydWN0b3I9YSxhLnN1Yj10aGlzLnN1YixhLmZuLmluaXQ9ZnVuY3Rpb24oZCxmKXtmJiZmIGluc3RhbmNlb2YgZSYmIShmIGluc3RhbmNlb2YgYSkmJihmPWEoZikpO3JldHVybiBlLmZuLmluaXQuY2FsbCh0aGlzLGQsZixiKX0sYS5mbi5pbml0LnByb3RvdHlwZT1hLmZuO3ZhciBiPWEoYyk7cmV0dXJuIGF9LGJyb3dzZXI6e319KSxlLmVhY2goIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSxiKXtJWyJbb2JqZWN0ICIrYisiXSJdPWIudG9Mb3dlckNhc2UoKX0pLHo9ZS51YU1hdGNoKHkpLHouYnJvd3NlciYmKGUuYnJvd3Nlclt6LmJyb3dzZXJdPSEwLGUuYnJvd3Nlci52ZXJzaW9uPXoudmVyc2lvbiksZS5icm93c2VyLndlYmtpdCYmKGUuYnJvd3Nlci5zYWZhcmk9ITApLGoudGVzdCgiICIpJiYoaz0vXltcc1x4QTBdKy8sbD0vW1xzXHhBMF0rJC8pLGg9ZShjKSxjLmFkZEV2ZW50TGlzdGVuZXI/Qj1mdW5jdGlvbigpe2MucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsQiwhMSksZS5yZWFkeSgpfTpjLmF0dGFjaEV2ZW50JiYoQj1mdW5jdGlvbigpe2MucmVhZHlTdGF0ZT09PSJjb21wbGV0ZSImJihjLmRldGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLEIpLGUucmVhZHkoKSl9KTtyZXR1cm4gZX0oKSxnPXt9O2YuQ2FsbGJhY2tzPWZ1bmN0aW9uKGEpe2E9YT9nW2FdfHxoKGEpOnt9O3ZhciBjPVtdLGQ9W10sZSxpLGosayxsLG09ZnVuY3Rpb24oYil7dmFyIGQsZSxnLGgsaTtmb3IoZD0wLGU9Yi5sZW5ndGg7ZDxlO2QrKylnPWJbZF0saD1mLnR5cGUoZyksaD09PSJhcnJheSI/bShnKTpoPT09ImZ1bmN0aW9uIiYmKCFhLnVuaXF1ZXx8IW8uaGFzKGcpKSYmYy5wdXNoKGcpfSxuPWZ1bmN0aW9uKGIsZil7Zj1mfHxbXSxlPSFhLm1lbW9yeXx8W2IsZl0saT0hMCxsPWp8fDAsaj0wLGs9Yy5sZW5ndGg7Zm9yKDtjJiZsPGs7bCsrKWlmKGNbbF0uYXBwbHkoYixmKT09PSExJiZhLnN0b3BPbkZhbHNlKXtlPSEwO2JyZWFrfWk9ITEsYyYmKGEub25jZT9lPT09ITA/by5kaXNhYmxlKCk6Yz1bXTpkJiZkLmxlbmd0aCYmKGU9ZC5zaGlmdCgpLG8uZmlyZVdpdGgoZVswXSxlWzFdKSkpfSxvPXthZGQ6ZnVuY3Rpb24oKXtpZihjKXt2YXIgYT1jLmxlbmd0aDttKGFyZ3VtZW50cyksaT9rPWMubGVuZ3RoOmUmJmUhPT0hMCYmKGo9YSxuKGVbMF0sZVsxXSkpfXJldHVybiB0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oKXtpZihjKXt2YXIgYj1hcmd1bWVudHMsZD0wLGU9Yi5sZW5ndGg7Zm9yKDtkPGU7ZCsrKWZvcih2YXIgZj0wO2Y8Yy5sZW5ndGg7ZisrKWlmKGJbZF09PT1jW2ZdKXtpJiZmPD1rJiYoay0tLGY8PWwmJmwtLSksYy5zcGxpY2UoZi0tLDEpO2lmKGEudW5pcXVlKWJyZWFrfX1yZXR1cm4gdGhpc30saGFzOmZ1bmN0aW9uKGEpe2lmKGMpe3ZhciBiPTAsZD1jLmxlbmd0aDtmb3IoO2I8ZDtiKyspaWYoYT09PWNbYl0pcmV0dXJuITB9cmV0dXJuITF9LGVtcHR5OmZ1bmN0aW9uKCl7Yz1bXTtyZXR1cm4gdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe2M9ZD1lPWI7cmV0dXJuIHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIWN9LGxvY2s6ZnVuY3Rpb24oKXtkPWIsKCFlfHxlPT09ITApJiZvLmRpc2FibGUoKTtyZXR1cm4gdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuIWR9LGZpcmVXaXRoOmZ1bmN0aW9uKGIsYyl7ZCYmKGk/YS5vbmNlfHxkLnB1c2goW2IsY10pOighYS5vbmNlfHwhZSkmJm4oYixjKSk7cmV0dXJuIHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtvLmZpcmVXaXRoKHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWV9fTtyZXR1cm4gb307dmFyIGk9W10uc2xpY2U7Zi5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKGEpe3ZhciBiPWYuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLGM9Zi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksZD1mLkNhbGxiYWNrcygibWVtb3J5IiksZT0icGVuZGluZyIsZz17cmVzb2x2ZTpiLHJlamVjdDpjLG5vdGlmeTpkfSxoPXtkb25lOmIuYWRkLGZhaWw6Yy5hZGQscHJvZ3Jlc3M6ZC5hZGQsc3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gZX0saXNSZXNvbHZlZDpiLmZpcmVkLGlzUmVqZWN0ZWQ6Yy5maXJlZCx0aGVuOmZ1bmN0aW9uKGEsYixjKXtpLmRvbmUoYSkuZmFpbChiKS5wcm9ncmVzcyhjKTtyZXR1cm4gdGhpc30sYWx3YXlzOmZ1bmN0aW9uKCl7aS5kb25lLmFwcGx5KGksYXJndW1lbnRzKS5mYWlsLmFwcGx5KGksYXJndW1lbnRzKTtyZXR1cm4gdGhpc30scGlwZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGYuRGVmZXJyZWQoZnVuY3Rpb24oZCl7Zi5lYWNoKHtkb25lOlthLCJyZXNvbHZlIl0sZmFpbDpbYiwicmVqZWN0Il0scHJvZ3Jlc3M6W2MsIm5vdGlmeSJdfSxmdW5jdGlvbihhLGIpe3ZhciBjPWJbMF0sZT1iWzFdLGc7Zi5pc0Z1bmN0aW9uKGMpP2lbYV0oZnVuY3Rpb24oKXtnPWMuYXBwbHkodGhpcyxhcmd1bWVudHMpLGcmJmYuaXNGdW5jdGlvbihnLnByb21pc2UpP2cucHJvbWlzZSgpLnRoZW4oZC5yZXNvbHZlLGQucmVqZWN0LGQubm90aWZ5KTpkW2UrIldpdGgiXSh0aGlzPT09aT9kOnRoaXMsW2ddKX0pOmlbYV0oZFtlXSl9KX0pLnByb21pc2UoKX0scHJvbWlzZTpmdW5jdGlvbihhKXtpZihhPT1udWxsKWE9aDtlbHNlIGZvcih2YXIgYiBpbiBoKWFbYl09aFtiXTtyZXR1cm4gYX19LGk9aC5wcm9taXNlKHt9KSxqO2ZvcihqIGluIGcpaVtqXT1nW2pdLmZpcmUsaVtqKyJXaXRoIl09Z1tqXS5maXJlV2l0aDtpLmRvbmUoZnVuY3Rpb24oKXtlPSJyZXNvbHZlZCJ9LGMuZGlzYWJsZSxkLmxvY2spLmZhaWwoZnVuY3Rpb24oKXtlPSJyZWplY3RlZCJ9LGIuZGlzYWJsZSxkLmxvY2spLGEmJmEuY2FsbChpLGkpO3JldHVybiBpfSx3aGVuOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIG0oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe2VbYV09YXJndW1lbnRzLmxlbmd0aD4xP2kuY2FsbChhcmd1bWVudHMsMCk6YixqLm5vdGlmeVdpdGgoayxlKX19ZnVuY3Rpb24gbChhKXtyZXR1cm4gZnVuY3Rpb24oYyl7YlthXT1hcmd1bWVudHMubGVuZ3RoPjE/aS5jYWxsKGFyZ3VtZW50cywwKTpjLC0tZ3x8ai5yZXNvbHZlV2l0aChqLGIpfX12YXIgYj1pLmNhbGwoYXJndW1lbnRzLDApLGM9MCxkPWIubGVuZ3RoLGU9QXJyYXkoZCksZz1kLGg9ZCxqPWQ8PTEmJmEmJmYuaXNGdW5jdGlvbihhLnByb21pc2UpP2E6Zi5EZWZlcnJlZCgpLGs9ai5wcm9taXNlKCk7aWYoZD4xKXtmb3IoO2M8ZDtjKyspYltjXSYmYltjXS5wcm9taXNlJiZmLmlzRnVuY3Rpb24oYltjXS5wcm9taXNlKT9iW2NdLnByb21pc2UoKS50aGVuKGwoYyksai5yZWplY3QsbShjKSk6LS1nO2d8fGoucmVzb2x2ZVdpdGgoaixiKX1lbHNlIGohPT1hJiZqLnJlc29sdmVXaXRoKGosZD9bYV06W10pO3JldHVybiBrfX0pLGYuc3VwcG9ydD1mdW5jdGlvbigpe3ZhciBiLGQsZSxnLGgsaSxqLGssbCxtLG4sbyxwLHE9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxyPWMuZG9jdW1lbnRFbGVtZW50O3Euc2V0QXR0cmlidXRlKCJjbGFzc05hbWUiLCJ0IikscS5pbm5lckhUTUw9IiAgIDxsaW5rLz48dGFibGU+PC90YWJsZT48YSBocmVmPScvYScgc3R5bGU9J3RvcDoxcHg7ZmxvYXQ6bGVmdDtvcGFjaXR5Oi41NTsnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+IixkPXEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSxlPXEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKVswXTtpZighZHx8IWQubGVuZ3RofHwhZSlyZXR1cm57fTtnPWMuY3JlYXRlRWxlbWVudCgic2VsZWN0IiksaD1nLmFwcGVuZENoaWxkKGMuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpLGk9cS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKVswXSxiPXtsZWFkaW5nV2hpdGVzcGFjZTpxLmZpcnN0Q2hpbGQubm9kZVR5cGU9PT0zLHRib2R5OiFxLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0Ym9keSIpLmxlbmd0aCxodG1sU2VyaWFsaXplOiEhcS5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGluayIpLmxlbmd0aCxzdHlsZTovdG9wLy50ZXN0KGUuZ2V0QXR0cmlidXRlKCJzdHlsZSIpKSxocmVmTm9ybWFsaXplZDplLmdldEF0dHJpYnV0ZSgiaHJlZiIpPT09Ii9hIixvcGFjaXR5Oi9eMC41NS8udGVzdChlLnN0eWxlLm9wYWNpdHkpLGNzc0Zsb2F0OiEhZS5zdHlsZS5jc3NGbG9hdCxjaGVja09uOmkudmFsdWU9PT0ib24iLG9wdFNlbGVjdGVkOmguc2VsZWN0ZWQsZ2V0U2V0QXR0cmlidXRlOnEuY2xhc3NOYW1lIT09InQiLGVuY3R5cGU6ISFjLmNyZWF0ZUVsZW1lbnQoImZvcm0iKS5lbmN0eXBlLGh0bWw1Q2xvbmU6Yy5jcmVhdGVFbGVtZW50KCJuYXYiKS5jbG9uZU5vZGUoITApLm91dGVySFRNTCE9PSI8Om5hdj48LzpuYXY+IixzdWJtaXRCdWJibGVzOiEwLGNoYW5nZUJ1YmJsZXM6ITAsZm9jdXNpbkJ1YmJsZXM6ITEsZGVsZXRlRXhwYW5kbzohMCxub0Nsb25lRXZlbnQ6ITAsaW5saW5lQmxvY2tOZWVkc0xheW91dDohMSxzaHJpbmtXcmFwQmxvY2tzOiExLHJlbGlhYmxlTWFyZ2luUmlnaHQ6ITB9LGkuY2hlY2tlZD0hMCxiLm5vQ2xvbmVDaGVja2VkPWkuY2xvbmVOb2RlKCEwKS5jaGVja2VkLGcuZGlzYWJsZWQ9ITAsYi5vcHREaXNhYmxlZD0haC5kaXNhYmxlZDt0cnl7ZGVsZXRlIHEudGVzdH1jYXRjaChzKXtiLmRlbGV0ZUV4cGFuZG89ITF9IXEuYWRkRXZlbnRMaXN0ZW5lciYmcS5hdHRhY2hFdmVudCYmcS5maXJlRXZlbnQmJihxLmF0dGFjaEV2ZW50KCJvbmNsaWNrIixmdW5jdGlvbigpe2Iubm9DbG9uZUV2ZW50PSExfSkscS5jbG9uZU5vZGUoITApLmZpcmVFdmVudCgib25jbGljayIpKSxpPWMuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxpLnZhbHVlPSJ0IixpLnNldEF0dHJpYnV0ZSgidHlwZSIsInJhZGlvIiksYi5yYWRpb1ZhbHVlPWkudmFsdWU9PT0idCIsaS5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIikscS5hcHBlbmRDaGlsZChpKSxrPWMuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGsuYXBwZW5kQ2hpbGQocS5sYXN0Q2hpbGQpLGIuY2hlY2tDbG9uZT1rLmNsb25lTm9kZSghMCkuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuY2hlY2tlZCxiLmFwcGVuZENoZWNrZWQ9aS5jaGVja2VkLGsucmVtb3ZlQ2hpbGQoaSksay5hcHBlbmRDaGlsZChxKSxxLmlubmVySFRNTD0iIixhLmdldENvbXB1dGVkU3R5bGUmJihqPWMuY3JlYXRlRWxlbWVudCgiZGl2Iiksai5zdHlsZS53aWR0aD0iMCIsai5zdHlsZS5tYXJnaW5SaWdodD0iMCIscS5zdHlsZS53aWR0aD0iMnB4IixxLmFwcGVuZENoaWxkKGopLGIucmVsaWFibGVNYXJnaW5SaWdodD0ocGFyc2VJbnQoKGEuZ2V0Q29tcHV0ZWRTdHlsZShqLG51bGwpfHx7bWFyZ2luUmlnaHQ6MH0pLm1hcmdpblJpZ2h0LDEwKXx8MCk9PT0wKTtpZihxLmF0dGFjaEV2ZW50KWZvcihvIGlue3N1Ym1pdDoxLGNoYW5nZToxLGZvY3VzaW46MX0pbj0ib24iK28scD1uIGluIHEscHx8KHEuc2V0QXR0cmlidXRlKG4sInJldHVybjsiKSxwPXR5cGVvZiBxW25dPT0iZnVuY3Rpb24iKSxiW28rIkJ1YmJsZXMiXT1wO2sucmVtb3ZlQ2hpbGQocSksaz1nPWg9aj1xPWk9bnVsbCxmKGZ1bmN0aW9uKCl7dmFyIGEsZCxlLGcsaCxpLGosayxtLG4sbyxyPWMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXTshcnx8KGo9MSxrPSJwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7d2lkdGg6MXB4O2hlaWdodDoxcHg7bWFyZ2luOjA7IixtPSJ2aXNpYmlsaXR5OmhpZGRlbjtib3JkZXI6MDsiLG49InN0eWxlPSciK2srImJvcmRlcjo1cHggc29saWQgIzAwMDtwYWRkaW5nOjA7JyIsbz0iPGRpdiAiK24rIj48ZGl2PjwvZGl2PjwvZGl2PiIrIjx0YWJsZSAiK24rIiBjZWxscGFkZGluZz0nMCcgY2VsbHNwYWNpbmc9JzAnPiIrIjx0cj48dGQ+PC90ZD48L3RyPjwvdGFibGU+IixhPWMuY3JlYXRlRWxlbWVudCgiZGl2IiksYS5zdHlsZS5jc3NUZXh0PW0rIndpZHRoOjA7aGVpZ2h0OjA7cG9zaXRpb246c3RhdGljO3RvcDowO21hcmdpbi10b3A6IitqKyJweCIsci5pbnNlcnRCZWZvcmUoYSxyLmZpcnN0Q2hpbGQpLHE9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxhLmFwcGVuZENoaWxkKHEpLHEuaW5uZXJIVE1MPSI8dGFibGU+PHRyPjx0ZCBzdHlsZT0ncGFkZGluZzowO2JvcmRlcjowO2Rpc3BsYXk6bm9uZSc+PC90ZD48dGQ+dDwvdGQ+PC90cj48L3RhYmxlPiIsbD1xLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0ZCIpLHA9bFswXS5vZmZzZXRIZWlnaHQ9PT0wLGxbMF0uc3R5bGUuZGlzcGxheT0iIixsWzFdLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGIucmVsaWFibGVIaWRkZW5PZmZzZXRzPXAmJmxbMF0ub2Zmc2V0SGVpZ2h0PT09MCxxLmlubmVySFRNTD0iIixxLnN0eWxlLndpZHRoPXEuc3R5bGUucGFkZGluZ0xlZnQ9IjFweCIsZi5ib3hNb2RlbD1iLmJveE1vZGVsPXEub2Zmc2V0V2lkdGg9PT0yLHR5cGVvZiBxLnN0eWxlLnpvb20hPSJ1bmRlZmluZWQiJiYocS5zdHlsZS5kaXNwbGF5PSJpbmxpbmUiLHEuc3R5bGUuem9vbT0xLGIuaW5saW5lQmxvY2tOZWVkc0xheW91dD1xLm9mZnNldFdpZHRoPT09MixxLnN0eWxlLmRpc3BsYXk9IiIscS5pbm5lckhUTUw9IjxkaXYgc3R5bGU9J3dpZHRoOjRweDsnPjwvZGl2PiIsYi5zaHJpbmtXcmFwQmxvY2tzPXEub2Zmc2V0V2lkdGghPT0yKSxxLnN0eWxlLmNzc1RleHQ9ayttLHEuaW5uZXJIVE1MPW8sZD1xLmZpcnN0Q2hpbGQsZT1kLmZpcnN0Q2hpbGQsaD1kLm5leHRTaWJsaW5nLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZCxpPXtkb2VzTm90QWRkQm9yZGVyOmUub2Zmc2V0VG9wIT09NSxkb2VzQWRkQm9yZGVyRm9yVGFibGVBbmRDZWxsczpoLm9mZnNldFRvcD09PTV9LGUuc3R5bGUucG9zaXRpb249ImZpeGVkIixlLnN0eWxlLnRvcD0iMjBweCIsaS5maXhlZFBvc2l0aW9uPWUub2Zmc2V0VG9wPT09MjB8fGUub2Zmc2V0VG9wPT09MTUsZS5zdHlsZS5wb3NpdGlvbj1lLnN0eWxlLnRvcD0iIixkLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iLGQuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIixpLnN1YnRyYWN0c0JvcmRlckZvck92ZXJmbG93Tm90VmlzaWJsZT1lLm9mZnNldFRvcD09PS01LGkuZG9lc05vdEluY2x1ZGVNYXJnaW5JbkJvZHlPZmZzZXQ9ci5vZmZzZXRUb3AhPT1qLHIucmVtb3ZlQ2hpbGQoYSkscT1hPW51bGwsZi5leHRlbmQoYixpKSl9KTtyZXR1cm4gYn0oKTt2YXIgaj0vXig/Olx7LipcfXxcWy4qXF0pJC8saz0vKFtBLVpdKS9nO2YuZXh0ZW5kKHtjYWNoZTp7fSx1dWlkOjAsZXhwYW5kbzoialF1ZXJ5IisoZi5mbi5qcXVlcnkrTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXEQvZywiIiksbm9EYXRhOntlbWJlZDohMCxvYmplY3Q6ImNsc2lkOkQyN0NEQjZFLUFFNkQtMTFjZi05NkI4LTQ0NDU1MzU0MDAwMCIsYXBwbGV0OiEwfSxoYXNEYXRhOmZ1bmN0aW9uKGEpe2E9YS5ub2RlVHlwZT9mLmNhY2hlW2FbZi5leHBhbmRvXV06YVtmLmV4cGFuZG9dO3JldHVybiEhYSYmIW0oYSl9LGRhdGE6ZnVuY3Rpb24oYSxjLGQsZSl7aWYoISFmLmFjY2VwdERhdGEoYSkpe3ZhciBnLGgsaSxqPWYuZXhwYW5kbyxrPXR5cGVvZiBjPT0ic3RyaW5nIixsPWEubm9kZVR5cGUsbT1sP2YuY2FjaGU6YSxuPWw/YVtqXTphW2pdJiZqLG89Yz09PSJldmVudHMiO2lmKCghbnx8IW1bbl18fCFvJiYhZSYmIW1bbl0uZGF0YSkmJmsmJmQ9PT1iKXJldHVybjtufHwobD9hW2pdPW49KytmLnV1aWQ6bj1qKSxtW25dfHwobVtuXT17fSxsfHwobVtuXS50b0pTT049Zi5ub29wKSk7aWYodHlwZW9mIGM9PSJvYmplY3QifHx0eXBlb2YgYz09ImZ1bmN0aW9uIillP21bbl09Zi5leHRlbmQobVtuXSxjKTptW25dLmRhdGE9Zi5leHRlbmQobVtuXS5kYXRhLGMpO2c9aD1tW25dLGV8fChoLmRhdGF8fChoLmRhdGE9e30pLGg9aC5kYXRhKSxkIT09YiYmKGhbZi5jYW1lbENhc2UoYyldPWQpO2lmKG8mJiFoW2NdKXJldHVybiBnLmV2ZW50cztrPyhpPWhbY10saT09bnVsbCYmKGk9aFtmLmNhbWVsQ2FzZShjKV0pKTppPWg7cmV0dXJuIGl9fSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEsYixjKXtpZighIWYuYWNjZXB0RGF0YShhKSl7dmFyIGQsZSxnLGg9Zi5leHBhbmRvLGk9YS5ub2RlVHlwZSxqPWk/Zi5jYWNoZTphLGs9aT9hW2hdOmg7aWYoIWpba10pcmV0dXJuO2lmKGIpe2Q9Yz9qW2tdOmpba10uZGF0YTtpZihkKXtmLmlzQXJyYXkoYil8fChiIGluIGQ/Yj1bYl06KGI9Zi5jYW1lbENhc2UoYiksYiBpbiBkP2I9W2JdOmI9Yi5zcGxpdCgiICIpKSk7Zm9yKGU9MCxnPWIubGVuZ3RoO2U8ZztlKyspZGVsZXRlIGRbYltlXV07aWYoIShjP206Zi5pc0VtcHR5T2JqZWN0KShkKSlyZXR1cm59fWlmKCFjKXtkZWxldGUgaltrXS5kYXRhO2lmKCFtKGpba10pKXJldHVybn1mLnN1cHBvcnQuZGVsZXRlRXhwYW5kb3x8IWouc2V0SW50ZXJ2YWw/ZGVsZXRlIGpba106altrXT1udWxsLGkmJihmLnN1cHBvcnQuZGVsZXRlRXhwYW5kbz9kZWxldGUgYVtoXTphLnJlbW92ZUF0dHJpYnV0ZT9hLnJlbW92ZUF0dHJpYnV0ZShoKTphW2hdPW51bGwpfX0sX2RhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmLmRhdGEoYSxiLGMsITApfSxhY2NlcHREYXRhOmZ1bmN0aW9uKGEpe2lmKGEubm9kZU5hbWUpe3ZhciBiPWYubm9EYXRhW2Eubm9kZU5hbWUudG9Mb3dlckNhc2UoKV07aWYoYilyZXR1cm4gYiE9PSEwJiZhLmdldEF0dHJpYnV0ZSgiY2xhc3NpZCIpPT09Yn1yZXR1cm4hMH19KSxmLmZuLmV4dGVuZCh7ZGF0YTpmdW5jdGlvbihhLGMpe3ZhciBkLGUsZyxoPW51bGw7aWYodHlwZW9mIGE9PSJ1bmRlZmluZWQiKXtpZih0aGlzLmxlbmd0aCl7aD1mLmRhdGEodGhpc1swXSk7aWYodGhpc1swXS5ub2RlVHlwZT09PTEmJiFmLl9kYXRhKHRoaXNbMF0sInBhcnNlZEF0dHJzIikpe2U9dGhpc1swXS5hdHRyaWJ1dGVzO2Zvcih2YXIgaT0wLGo9ZS5sZW5ndGg7aTxqO2krKylnPWVbaV0ubmFtZSxnLmluZGV4T2YoImRhdGEtIik9PT0wJiYoZz1mLmNhbWVsQ2FzZShnLnN1YnN0cmluZyg1KSksbCh0aGlzWzBdLGcsaFtnXSkpO2YuX2RhdGEodGhpc1swXSwicGFyc2VkQXR0cnMiLCEwKX19cmV0dXJuIGh9aWYodHlwZW9mIGE9PSJvYmplY3QiKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtmLmRhdGEodGhpcyxhKX0pO2Q9YS5zcGxpdCgiLiIpLGRbMV09ZFsxXT8iLiIrZFsxXToiIjtpZihjPT09Yil7aD10aGlzLnRyaWdnZXJIYW5kbGVyKCJnZXREYXRhIitkWzFdKyIhIixbZFswXV0pLGg9PT1iJiZ0aGlzLmxlbmd0aCYmKGg9Zi5kYXRhKHRoaXNbMF0sYSksaD1sKHRoaXNbMF0sYSxoKSk7cmV0dXJuIGg9PT1iJiZkWzFdP3RoaXMuZGF0YShkWzBdKTpofXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1mKHRoaXMpLGU9W2RbMF0sY107Yi50cmlnZ2VySGFuZGxlcigic2V0RGF0YSIrZFsxXSsiISIsZSksZi5kYXRhKHRoaXMsYSxjKSxiLnRyaWdnZXJIYW5kbGVyKCJjaGFuZ2VEYXRhIitkWzFdKyIhIixlKX0pfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtmLnJlbW92ZURhdGEodGhpcyxhKX0pfX0pLGYuZXh0ZW5kKHtfbWFyazpmdW5jdGlvbihhLGIpe2EmJihiPShifHwiZngiKSsibWFyayIsZi5fZGF0YShhLGIsKGYuX2RhdGEoYSxiKXx8MCkrMSkpfSxfdW5tYXJrOmZ1bmN0aW9uKGEsYixjKXthIT09ITAmJihjPWIsYj1hLGE9ITEpO2lmKGIpe2M9Y3x8ImZ4Ijt2YXIgZD1jKyJtYXJrIixlPWE/MDooZi5fZGF0YShiLGQpfHwxKS0xO2U/Zi5fZGF0YShiLGQsZSk6KGYucmVtb3ZlRGF0YShiLGQsITApLG4oYixjLCJtYXJrIikpfX0scXVldWU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO2lmKGEpe2I9KGJ8fCJmeCIpKyJxdWV1ZSIsZD1mLl9kYXRhKGEsYiksYyYmKCFkfHxmLmlzQXJyYXkoYyk/ZD1mLl9kYXRhKGEsYixmLm1ha2VBcnJheShjKSk6ZC5wdXNoKGMpKTtyZXR1cm4gZHx8W119fSxkZXF1ZXVlOmZ1bmN0aW9uKGEsYil7Yj1ifHwiZngiO3ZhciBjPWYucXVldWUoYSxiKSxkPWMuc2hpZnQoKSxlPXt9O2Q9PT0iaW5wcm9ncmVzcyImJihkPWMuc2hpZnQoKSksZCYmKGI9PT0iZngiJiZjLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxmLl9kYXRhKGEsYisiLnJ1biIsZSksZC5jYWxsKGEsZnVuY3Rpb24oKXtmLmRlcXVldWUoYSxiKX0sZSkpLGMubGVuZ3RofHwoZi5yZW1vdmVEYXRhKGEsYisicXVldWUgIitiKyIucnVuIiwhMCksbihhLGIsInF1ZXVlIikpfX0pLGYuZm4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGMpe3R5cGVvZiBhIT0ic3RyaW5nIiYmKGM9YSxhPSJmeCIpO2lmKGM9PT1iKXJldHVybiBmLnF1ZXVlKHRoaXNbMF0sYSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWYucXVldWUodGhpcyxhLGMpO2E9PT0iZngiJiZiWzBdIT09ImlucHJvZ3Jlc3MiJiZmLmRlcXVldWUodGhpcyxhKX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtmLmRlcXVldWUodGhpcyxhKX0pfSxkZWxheTpmdW5jdGlvbihhLGIpe2E9Zi5meD9mLmZ4LnNwZWVkc1thXXx8YTphLGI9Ynx8ImZ4IjtyZXR1cm4gdGhpcy5xdWV1ZShiLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9c2V0VGltZW91dChiLGEpO2Muc3RvcD1mdW5jdGlvbigpe2NsZWFyVGltZW91dChkKX19KX0sY2xlYXJRdWV1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5xdWV1ZShhfHwiZngiLFtdKX0scHJvbWlzZTpmdW5jdGlvbihhLGMpe2Z1bmN0aW9uIG0oKXstLWh8fGQucmVzb2x2ZVdpdGgoZSxbZV0pfXR5cGVvZiBhIT0ic3RyaW5nIiYmKGM9YSxhPWIpLGE9YXx8ImZ4Ijt2YXIgZD1mLkRlZmVycmVkKCksZT10aGlzLGc9ZS5sZW5ndGgsaD0xLGk9YSsiZGVmZXIiLGo9YSsicXVldWUiLGs9YSsibWFyayIsbDt3aGlsZShnLS0paWYobD1mLmRhdGEoZVtnXSxpLGIsITApfHwoZi5kYXRhKGVbZ10saixiLCEwKXx8Zi5kYXRhKGVbZ10sayxiLCEwKSkmJmYuZGF0YShlW2ddLGksZi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksITApKWgrKyxsLmFkZChtKTttKCk7cmV0dXJuIGQucHJvbWlzZSgpfX0pO3ZhciBvPS9bXG5cdFxyXS9nLHA9L1xzKy8scT0vXHIvZyxyPS9eKD86YnV0dG9ufGlucHV0KSQvaSxzPS9eKD86YnV0dG9ufGlucHV0fG9iamVjdHxzZWxlY3R8dGV4dGFyZWEpJC9pLHQ9L15hKD86cmVhKT8kL2ksdT0vXig/OmF1dG9mb2N1c3xhdXRvcGxheXxhc3luY3xjaGVja2VkfGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkfHNlbGVjdGVkKSQvaSx2PWYuc3VwcG9ydC5nZXRTZXRBdHRyaWJ1dGUsdyx4LHk7Zi5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZi5hY2Nlc3ModGhpcyxhLGIsITAsZi5hdHRyKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zi5yZW1vdmVBdHRyKHRoaXMsYSl9KX0scHJvcDpmdW5jdGlvbihhLGIpe3JldHVybiBmLmFjY2Vzcyh0aGlzLGEsYiwhMCxmLnByb3ApfSxyZW1vdmVQcm9wOmZ1bmN0aW9uKGEpe2E9Zi5wcm9wRml4W2FdfHxhO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0cnl7dGhpc1thXT1iLGRlbGV0ZSB0aGlzW2FdfWNhdGNoKGMpe319KX0sYWRkQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZyxoLGk7aWYoZi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7Zih0aGlzKS5hZGRDbGFzcyhhLmNhbGwodGhpcyxiLHRoaXMuY2xhc3NOYW1lKSl9KTtpZihhJiZ0eXBlb2YgYT09InN0cmluZyIpe2I9YS5zcGxpdChwKTtmb3IoYz0wLGQ9dGhpcy5sZW5ndGg7YzxkO2MrKyl7ZT10aGlzW2NdO2lmKGUubm9kZVR5cGU9PT0xKWlmKCFlLmNsYXNzTmFtZSYmYi5sZW5ndGg9PT0xKWUuY2xhc3NOYW1lPWE7ZWxzZXtnPSIgIitlLmNsYXNzTmFtZSsiICI7Zm9yKGg9MCxpPWIubGVuZ3RoO2g8aTtoKyspfmcuaW5kZXhPZigiICIrYltoXSsiICIpfHwoZys9YltoXSsiICIpO2UuY2xhc3NOYW1lPWYudHJpbShnKX19fXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbihhKXt2YXIgYyxkLGUsZyxoLGksajtpZihmLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtmKHRoaXMpLnJlbW92ZUNsYXNzKGEuY2FsbCh0aGlzLGIsdGhpcy5jbGFzc05hbWUpKX0pO2lmKGEmJnR5cGVvZiBhPT0ic3RyaW5nInx8YT09PWIpe2M9KGF8fCIiKS5zcGxpdChwKTtmb3IoZD0wLGU9dGhpcy5sZW5ndGg7ZDxlO2QrKyl7Zz10aGlzW2RdO2lmKGcubm9kZVR5cGU9PT0xJiZnLmNsYXNzTmFtZSlpZihhKXtoPSgiICIrZy5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKG8sIiAiKTtmb3IoaT0wLGo9Yy5sZW5ndGg7aTxqO2krKyloPWgucmVwbGFjZSgiICIrY1tpXSsiICIsIiAiKTtnLmNsYXNzTmFtZT1mLnRyaW0oaCl9ZWxzZSBnLmNsYXNzTmFtZT0iIn19cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dHlwZW9mIGEsZD10eXBlb2YgYj09ImJvb2xlYW4iO2lmKGYuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe2YodGhpcykudG9nZ2xlQ2xhc3MoYS5jYWxsKHRoaXMsYyx0aGlzLmNsYXNzTmFtZSxiKSxiKX0pO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtpZihjPT09InN0cmluZyIpe3ZhciBlLGc9MCxoPWYodGhpcyksaT1iLGo9YS5zcGxpdChwKTt3aGlsZShlPWpbZysrXSlpPWQ/aTohaC5oYXNDbGFzcyhlKSxoW2k/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXShlKX1lbHNlIGlmKGM9PT0idW5kZWZpbmVkInx8Yz09PSJib29sZWFuIil0aGlzLmNsYXNzTmFtZSYmZi5fZGF0YSh0aGlzLCJfX2NsYXNzTmFtZV9fIix0aGlzLmNsYXNzTmFtZSksdGhpcy5jbGFzc05hbWU9dGhpcy5jbGFzc05hbWV8fGE9PT0hMT8iIjpmLl9kYXRhKHRoaXMsIl9fY2xhc3NOYW1lX18iKXx8IiJ9KX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGI9IiAiK2ErIiAiLGM9MCxkPXRoaXMubGVuZ3RoO2Zvcig7YzxkO2MrKylpZih0aGlzW2NdLm5vZGVUeXBlPT09MSYmKCIgIit0aGlzW2NdLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UobywiICIpLmluZGV4T2YoYik+LTEpcmV0dXJuITA7cmV0dXJuITF9LHZhbDpmdW5jdGlvbihhKXt2YXIgYyxkLGUsZz10aGlzWzBdO3tpZighIWFyZ3VtZW50cy5sZW5ndGgpe2U9Zi5pc0Z1bmN0aW9uKGEpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oZCl7dmFyIGc9Zih0aGlzKSxoO2lmKHRoaXMubm9kZVR5cGU9PT0xKXtlP2g9YS5jYWxsKHRoaXMsZCxnLnZhbCgpKTpoPWEsaD09bnVsbD9oPSIiOnR5cGVvZiBoPT0ibnVtYmVyIj9oKz0iIjpmLmlzQXJyYXkoaCkmJihoPWYubWFwKGgsZnVuY3Rpb24oYSl7cmV0dXJuIGE9PW51bGw/IiI6YSsiIn0pKSxjPWYudmFsSG9va3NbdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXXx8Zi52YWxIb29rc1t0aGlzLnR5cGVdO2lmKCFjfHwhKCJzZXQiaW4gYyl8fGMuc2V0KHRoaXMsaCwidmFsdWUiKT09PWIpdGhpcy52YWx1ZT1ofX0pfWlmKGcpe2M9Zi52YWxIb29rc1tnLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldfHxmLnZhbEhvb2tzW2cudHlwZV07aWYoYyYmImdldCJpbiBjJiYoZD1jLmdldChnLCJ2YWx1ZSIpKSE9PWIpcmV0dXJuIGQ7ZD1nLnZhbHVlO3JldHVybiB0eXBlb2YgZD09InN0cmluZyI/ZC5yZXBsYWNlKHEsIiIpOmQ9PW51bGw/IiI6ZH19fX0pLGYuZXh0ZW5kKHt2YWxIb29rczp7b3B0aW9uOntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5hdHRyaWJ1dGVzLnZhbHVlO3JldHVybiFifHxiLnNwZWNpZmllZD9hLnZhbHVlOmEudGV4dH19LHNlbGVjdDp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGc9YS5zZWxlY3RlZEluZGV4LGg9W10saT1hLm9wdGlvbnMsaj1hLnR5cGU9PT0ic2VsZWN0LW9uZSI7aWYoZzwwKXJldHVybiBudWxsO2M9aj9nOjAsZD1qP2crMTppLmxlbmd0aDtmb3IoO2M8ZDtjKyspe2U9aVtjXTtpZihlLnNlbGVjdGVkJiYoZi5zdXBwb3J0Lm9wdERpc2FibGVkPyFlLmRpc2FibGVkOmUuZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpPT09bnVsbCkmJighZS5wYXJlbnROb2RlLmRpc2FibGVkfHwhZi5ub2RlTmFtZShlLnBhcmVudE5vZGUsIm9wdGdyb3VwIikpKXtiPWYoZSkudmFsKCk7aWYoailyZXR1cm4gYjtoLnB1c2goYil9fWlmKGomJiFoLmxlbmd0aCYmaS5sZW5ndGgpcmV0dXJuIGYoaVtnXSkudmFsKCk7cmV0dXJuIGh9LHNldDpmdW5jdGlvbihhLGIpe3ZhciBjPWYubWFrZUFycmF5KGIpO2YoYSkuZmluZCgib3B0aW9uIikuZWFjaChmdW5jdGlvbigpe3RoaXMuc2VsZWN0ZWQ9Zi5pbkFycmF5KGYodGhpcykudmFsKCksYyk+PTB9KSxjLmxlbmd0aHx8KGEuc2VsZWN0ZWRJbmRleD0tMSk7cmV0dXJuIGN9fX0sYXR0ckZuOnt2YWw6ITAsY3NzOiEwLGh0bWw6ITAsdGV4dDohMCxkYXRhOiEwLHdpZHRoOiEwLGhlaWdodDohMCxvZmZzZXQ6ITB9LGF0dHI6ZnVuY3Rpb24oYSxjLGQsZSl7dmFyIGcsaCxpLGo9YS5ub2RlVHlwZTtpZighIWEmJmohPT0zJiZqIT09OCYmaiE9PTIpe2lmKGUmJmMgaW4gZi5hdHRyRm4pcmV0dXJuIGYoYSlbY10oZCk7aWYodHlwZW9mIGEuZ2V0QXR0cmlidXRlPT0idW5kZWZpbmVkIilyZXR1cm4gZi5wcm9wKGEsYyxkKTtpPWohPT0xfHwhZi5pc1hNTERvYyhhKSxpJiYoYz1jLnRvTG93ZXJDYXNlKCksaD1mLmF0dHJIb29rc1tjXXx8KHUudGVzdChjKT94OncpKTtpZihkIT09Yil7aWYoZD09PW51bGwpe2YucmVtb3ZlQXR0cihhLGMpO3JldHVybn1pZihoJiYic2V0ImluIGgmJmkmJihnPWguc2V0KGEsZCxjKSkhPT1iKXJldHVybiBnO2Euc2V0QXR0cmlidXRlKGMsIiIrZCk7cmV0dXJuIGR9aWYoaCYmImdldCJpbiBoJiZpJiYoZz1oLmdldChhLGMpKSE9PW51bGwpcmV0dXJuIGc7Zz1hLmdldEF0dHJpYnV0ZShjKTtyZXR1cm4gZz09PW51bGw/YjpnfX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxnLGg9MDtpZihiJiZhLm5vZGVUeXBlPT09MSl7ZD1iLnRvTG93ZXJDYXNlKCkuc3BsaXQocCksZz1kLmxlbmd0aDtmb3IoO2g8ZztoKyspZT1kW2hdLGUmJihjPWYucHJvcEZpeFtlXXx8ZSxmLmF0dHIoYSxlLCIiKSxhLnJlbW92ZUF0dHJpYnV0ZSh2P2U6YyksdS50ZXN0KGUpJiZjIGluIGEmJihhW2NdPSExKSl9fSxhdHRySG9va3M6e3R5cGU6e3NldDpmdW5jdGlvbihhLGIpe2lmKHIudGVzdChhLm5vZGVOYW1lKSYmYS5wYXJlbnROb2RlKWYuZXJyb3IoInR5cGUgcHJvcGVydHkgY2FuJ3QgYmUgY2hhbmdlZCIpO2Vsc2UgaWYoIWYuc3VwcG9ydC5yYWRpb1ZhbHVlJiZiPT09InJhZGlvIiYmZi5ub2RlTmFtZShhLCJpbnB1dCIpKXt2YXIgYz1hLnZhbHVlO2Euc2V0QXR0cmlidXRlKCJ0eXBlIixiKSxjJiYoYS52YWx1ZT1jKTtyZXR1cm4gYn19fSx2YWx1ZTp7Z2V0OmZ1bmN0aW9uKGEsYil7aWYodyYmZi5ub2RlTmFtZShhLCJidXR0b24iKSlyZXR1cm4gdy5nZXQoYSxiKTtyZXR1cm4gYiBpbiBhP2EudmFsdWU6bnVsbH0sc2V0OmZ1bmN0aW9uKGEsYixjKXtpZih3JiZmLm5vZGVOYW1lKGEsImJ1dHRvbiIpKXJldHVybiB3LnNldChhLGIsYyk7YS52YWx1ZT1ifX19LHByb3BGaXg6e3RhYmluZGV4OiJ0YWJJbmRleCIscmVhZG9ubHk6InJlYWRPbmx5IiwiZm9yIjoiaHRtbEZvciIsImNsYXNzIjoiY2xhc3NOYW1lIixtYXhsZW5ndGg6Im1heExlbmd0aCIsY2VsbHNwYWNpbmc6ImNlbGxTcGFjaW5nIixjZWxscGFkZGluZzoiY2VsbFBhZGRpbmciLHJvd3NwYW46InJvd1NwYW4iLGNvbHNwYW46ImNvbFNwYW4iLHVzZW1hcDoidXNlTWFwIixmcmFtZWJvcmRlcjoiZnJhbWVCb3JkZXIiLGNvbnRlbnRlZGl0YWJsZToiY29udGVudEVkaXRhYmxlIn0scHJvcDpmdW5jdGlvbihhLGMsZCl7dmFyIGUsZyxoLGk9YS5ub2RlVHlwZTtpZighIWEmJmkhPT0zJiZpIT09OCYmaSE9PTIpe2g9aSE9PTF8fCFmLmlzWE1MRG9jKGEpLGgmJihjPWYucHJvcEZpeFtjXXx8YyxnPWYucHJvcEhvb2tzW2NdKTtyZXR1cm4gZCE9PWI/ZyYmInNldCJpbiBnJiYoZT1nLnNldChhLGQsYykpIT09Yj9lOmFbY109ZDpnJiYiZ2V0ImluIGcmJihlPWcuZ2V0KGEsYykpIT09bnVsbD9lOmFbY119fSxwcm9wSG9va3M6e3RhYkluZGV4OntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGM9YS5nZXRBdHRyaWJ1dGVOb2RlKCJ0YWJpbmRleCIpO3JldHVybiBjJiZjLnNwZWNpZmllZD9wYXJzZUludChjLnZhbHVlLDEwKTpzLnRlc3QoYS5ub2RlTmFtZSl8fHQudGVzdChhLm5vZGVOYW1lKSYmYS5ocmVmPzA6Yn19fX0pLGYuYXR0ckhvb2tzLnRhYmluZGV4PWYucHJvcEhvb2tzLnRhYkluZGV4LHg9e2dldDpmdW5jdGlvbihhLGMpe3ZhciBkLGU9Zi5wcm9wKGEsYyk7cmV0dXJuIGU9PT0hMHx8dHlwZW9mIGUhPSJib29sZWFuIiYmKGQ9YS5nZXRBdHRyaWJ1dGVOb2RlKGMpKSYmZC5ub2RlVmFsdWUhPT0hMT9jLnRvTG93ZXJDYXNlKCk6Yn0sc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZDtiPT09ITE/Zi5yZW1vdmVBdHRyKGEsYyk6KGQ9Zi5wcm9wRml4W2NdfHxjLGQgaW4gYSYmKGFbZF09ITApLGEuc2V0QXR0cmlidXRlKGMsYy50b0xvd2VyQ2FzZSgpKSk7cmV0dXJuIGN9fSx2fHwoeT17bmFtZTohMCxpZDohMH0sdz1mLnZhbEhvb2tzLmJ1dHRvbj17Z2V0OmZ1bmN0aW9uKGEsYyl7dmFyIGQ7ZD1hLmdldEF0dHJpYnV0ZU5vZGUoYyk7cmV0dXJuIGQmJih5W2NdP2Qubm9kZVZhbHVlIT09IiI6ZC5zcGVjaWZpZWQpP2Qubm9kZVZhbHVlOmJ9LHNldDpmdW5jdGlvbihhLGIsZCl7dmFyIGU9YS5nZXRBdHRyaWJ1dGVOb2RlKGQpO2V8fChlPWMuY3JlYXRlQXR0cmlidXRlKGQpLGEuc2V0QXR0cmlidXRlTm9kZShlKSk7cmV0dXJuIGUubm9kZVZhbHVlPWIrIiJ9fSxmLmF0dHJIb29rcy50YWJpbmRleC5zZXQ9dy5zZXQsZi5lYWNoKFsid2lkdGgiLCJoZWlnaHQiXSxmdW5jdGlvbihhLGIpe2YuYXR0ckhvb2tzW2JdPWYuZXh0ZW5kKGYuYXR0ckhvb2tzW2JdLHtzZXQ6ZnVuY3Rpb24oYSxjKXtpZihjPT09IiIpe2Euc2V0QXR0cmlidXRlKGIsImF1dG8iKTtyZXR1cm4gY319fSl9KSxmLmF0dHJIb29rcy5jb250ZW50ZWRpdGFibGU9e2dldDp3LmdldCxzZXQ6ZnVuY3Rpb24oYSxiLGMpe2I9PT0iIiYmKGI9ImZhbHNlIiksdy5zZXQoYSxiLGMpfX0pLGYuc3VwcG9ydC5ocmVmTm9ybWFsaXplZHx8Zi5lYWNoKFsiaHJlZiIsInNyYyIsIndpZHRoIiwiaGVpZ2h0Il0sZnVuY3Rpb24oYSxjKXtmLmF0dHJIb29rc1tjXT1mLmV4dGVuZChmLmF0dHJIb29rc1tjXSx7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBkPWEuZ2V0QXR0cmlidXRlKGMsMik7cmV0dXJuIGQ9PT1udWxsP2I6ZH19KX0pLGYuc3VwcG9ydC5zdHlsZXx8KGYuYXR0ckhvb2tzLnN0eWxlPXtnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuc3R5bGUuY3NzVGV4dC50b0xvd2VyQ2FzZSgpfHxifSxzZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5zdHlsZS5jc3NUZXh0PSIiK2J9fSksZi5zdXBwb3J0Lm9wdFNlbGVjdGVkfHwoZi5wcm9wSG9va3Muc2VsZWN0ZWQ9Zi5leHRlbmQoZi5wcm9wSG9va3Muc2VsZWN0ZWQse2dldDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7YiYmKGIuc2VsZWN0ZWRJbmRleCxiLnBhcmVudE5vZGUmJmIucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4KTtyZXR1cm4gbnVsbH19KSksZi5zdXBwb3J0LmVuY3R5cGV8fChmLnByb3BGaXguZW5jdHlwZT0iZW5jb2RpbmciKSxmLnN1cHBvcnQuY2hlY2tPbnx8Zi5lYWNoKFsicmFkaW8iLCJjaGVja2JveCJdLGZ1bmN0aW9uKCl7Zi52YWxIb29rc1t0aGlzXT17Z2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZSgidmFsdWUiKT09PW51bGw/Im9uIjphLnZhbHVlfX19KSxmLmVhY2goWyJyYWRpbyIsImNoZWNrYm94Il0sZnVuY3Rpb24oKXtmLnZhbEhvb2tzW3RoaXNdPWYuZXh0ZW5kKGYudmFsSG9va3NbdGhpc10se3NldDpmdW5jdGlvbihhLGIpe2lmKGYuaXNBcnJheShiKSlyZXR1cm4gYS5jaGVja2VkPWYuaW5BcnJheShmKGEpLnZhbCgpLGIpPj0wfX0pfSk7dmFyIHo9L14oPzp0ZXh0YXJlYXxpbnB1dHxzZWxlY3QpJC9pLEE9L14oW15cLl0qKT8oPzpcLiguKykpPyQvLEI9L1xiaG92ZXIoXC5cUyspP1xiLyxDPS9ea2V5LyxEPS9eKD86bW91c2V8Y29udGV4dG1lbnUpfGNsaWNrLyxFPS9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLyxGPS9eKFx3KikoPzojKFtcd1wtXSspKT8oPzpcLihbXHdcLV0rKSk/JC8sRz1mdW5jdGlvbihhKXt2YXIgYj1GLmV4ZWMoYSk7YiYmKGJbMV09KGJbMV18fCIiKS50b0xvd2VyQ2FzZSgpLGJbM109YlszXSYmbmV3IFJlZ0V4cCgiKD86XnxcXHMpIitiWzNdKyIoPzpcXHN8JCkiKSk7cmV0dXJuIGJ9LEg9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmF0dHJpYnV0ZXN8fHt9O3JldHVybighYlsxXXx8YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09YlsxXSkmJighYlsyXXx8KGMuaWR8fHt9KS52YWx1ZT09PWJbMl0pJiYoIWJbM118fGJbM10udGVzdCgoY1siY2xhc3MiXXx8e30pLnZhbHVlKSl9LEk9ZnVuY3Rpb24oYSl7cmV0dXJuIGYuZXZlbnQuc3BlY2lhbC5ob3Zlcj9hOmEucmVwbGFjZShCLCJtb3VzZWVudGVyJDEgbW91c2VsZWF2ZSQxIil9OwpmLmV2ZW50PXthZGQ6ZnVuY3Rpb24oYSxjLGQsZSxnKXt2YXIgaCxpLGosayxsLG0sbixvLHAscSxyLHM7aWYoIShhLm5vZGVUeXBlPT09M3x8YS5ub2RlVHlwZT09PTh8fCFjfHwhZHx8IShoPWYuX2RhdGEoYSkpKSl7ZC5oYW5kbGVyJiYocD1kLGQ9cC5oYW5kbGVyKSxkLmd1aWR8fChkLmd1aWQ9Zi5ndWlkKyspLGo9aC5ldmVudHMsanx8KGguZXZlbnRzPWo9e30pLGk9aC5oYW5kbGUsaXx8KGguaGFuZGxlPWk9ZnVuY3Rpb24oYSl7cmV0dXJuIHR5cGVvZiBmIT0idW5kZWZpbmVkIiYmKCFhfHxmLmV2ZW50LnRyaWdnZXJlZCE9PWEudHlwZSk/Zi5ldmVudC5kaXNwYXRjaC5hcHBseShpLmVsZW0sYXJndW1lbnRzKTpifSxpLmVsZW09YSksYz1mLnRyaW0oSShjKSkuc3BsaXQoIiAiKTtmb3Ioaz0wO2s8Yy5sZW5ndGg7aysrKXtsPUEuZXhlYyhjW2tdKXx8W10sbT1sWzFdLG49KGxbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxzPWYuZXZlbnQuc3BlY2lhbFttXXx8e30sbT0oZz9zLmRlbGVnYXRlVHlwZTpzLmJpbmRUeXBlKXx8bSxzPWYuZXZlbnQuc3BlY2lhbFttXXx8e30sbz1mLmV4dGVuZCh7dHlwZTptLG9yaWdUeXBlOmxbMV0sZGF0YTplLGhhbmRsZXI6ZCxndWlkOmQuZ3VpZCxzZWxlY3RvcjpnLHF1aWNrOkcoZyksbmFtZXNwYWNlOm4uam9pbigiLiIpfSxwKSxyPWpbbV07aWYoIXIpe3I9alttXT1bXSxyLmRlbGVnYXRlQ291bnQ9MDtpZighcy5zZXR1cHx8cy5zZXR1cC5jYWxsKGEsZSxuLGkpPT09ITEpYS5hZGRFdmVudExpc3RlbmVyP2EuYWRkRXZlbnRMaXN0ZW5lcihtLGksITEpOmEuYXR0YWNoRXZlbnQmJmEuYXR0YWNoRXZlbnQoIm9uIittLGkpfXMuYWRkJiYocy5hZGQuY2FsbChhLG8pLG8uaGFuZGxlci5ndWlkfHwoby5oYW5kbGVyLmd1aWQ9ZC5ndWlkKSksZz9yLnNwbGljZShyLmRlbGVnYXRlQ291bnQrKywwLG8pOnIucHVzaChvKSxmLmV2ZW50Lmdsb2JhbFttXT0hMH1hPW51bGx9fSxnbG9iYWw6e30scmVtb3ZlOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGc9Zi5oYXNEYXRhKGEpJiZmLl9kYXRhKGEpLGgsaSxqLGssbCxtLG4sbyxwLHEscixzO2lmKCEhZyYmISEobz1nLmV2ZW50cykpe2I9Zi50cmltKEkoYnx8IiIpKS5zcGxpdCgiICIpO2ZvcihoPTA7aDxiLmxlbmd0aDtoKyspe2k9QS5leGVjKGJbaF0pfHxbXSxqPWs9aVsxXSxsPWlbMl07aWYoIWope2ZvcihqIGluIG8pZi5ldmVudC5yZW1vdmUoYSxqK2JbaF0sYyxkLCEwKTtjb250aW51ZX1wPWYuZXZlbnQuc3BlY2lhbFtqXXx8e30saj0oZD9wLmRlbGVnYXRlVHlwZTpwLmJpbmRUeXBlKXx8aixyPW9bal18fFtdLG09ci5sZW5ndGgsbD1sP25ldyBSZWdFeHAoIihefFxcLikiK2wuc3BsaXQoIi4iKS5zb3J0KCkuam9pbigiXFwuKD86LipcXC4pPyIpKyIoXFwufCQpIik6bnVsbDtmb3Iobj0wO248ci5sZW5ndGg7bisrKXM9cltuXSwoZXx8az09PXMub3JpZ1R5cGUpJiYoIWN8fGMuZ3VpZD09PXMuZ3VpZCkmJighbHx8bC50ZXN0KHMubmFtZXNwYWNlKSkmJighZHx8ZD09PXMuc2VsZWN0b3J8fGQ9PT0iKioiJiZzLnNlbGVjdG9yKSYmKHIuc3BsaWNlKG4tLSwxKSxzLnNlbGVjdG9yJiZyLmRlbGVnYXRlQ291bnQtLSxwLnJlbW92ZSYmcC5yZW1vdmUuY2FsbChhLHMpKTtyLmxlbmd0aD09PTAmJm0hPT1yLmxlbmd0aCYmKCghcC50ZWFyZG93bnx8cC50ZWFyZG93bi5jYWxsKGEsbCk9PT0hMSkmJmYucmVtb3ZlRXZlbnQoYSxqLGcuaGFuZGxlKSxkZWxldGUgb1tqXSl9Zi5pc0VtcHR5T2JqZWN0KG8pJiYocT1nLmhhbmRsZSxxJiYocS5lbGVtPW51bGwpLGYucmVtb3ZlRGF0YShhLFsiZXZlbnRzIiwiaGFuZGxlIl0sITApKX19LGN1c3RvbUV2ZW50OntnZXREYXRhOiEwLHNldERhdGE6ITAsY2hhbmdlRGF0YTohMH0sdHJpZ2dlcjpmdW5jdGlvbihjLGQsZSxnKXtpZighZXx8ZS5ub2RlVHlwZSE9PTMmJmUubm9kZVR5cGUhPT04KXt2YXIgaD1jLnR5cGV8fGMsaT1bXSxqLGssbCxtLG4sbyxwLHEscixzO2lmKEUudGVzdChoK2YuZXZlbnQudHJpZ2dlcmVkKSlyZXR1cm47aC5pbmRleE9mKCIhIik+PTAmJihoPWguc2xpY2UoMCwtMSksaz0hMCksaC5pbmRleE9mKCIuIik+PTAmJihpPWguc3BsaXQoIi4iKSxoPWkuc2hpZnQoKSxpLnNvcnQoKSk7aWYoKCFlfHxmLmV2ZW50LmN1c3RvbUV2ZW50W2hdKSYmIWYuZXZlbnQuZ2xvYmFsW2hdKXJldHVybjtjPXR5cGVvZiBjPT0ib2JqZWN0Ij9jW2YuZXhwYW5kb10/YzpuZXcgZi5FdmVudChoLGMpOm5ldyBmLkV2ZW50KGgpLGMudHlwZT1oLGMuaXNUcmlnZ2VyPSEwLGMuZXhjbHVzaXZlPWssYy5uYW1lc3BhY2U9aS5qb2luKCIuIiksYy5uYW1lc3BhY2VfcmU9Yy5uYW1lc3BhY2U/bmV3IFJlZ0V4cCgiKF58XFwuKSIraS5qb2luKCJcXC4oPzouKlxcLik/IikrIihcXC58JCkiKTpudWxsLG89aC5pbmRleE9mKCI6Iik8MD8ib24iK2g6IiI7aWYoIWUpe2o9Zi5jYWNoZTtmb3IobCBpbiBqKWpbbF0uZXZlbnRzJiZqW2xdLmV2ZW50c1toXSYmZi5ldmVudC50cmlnZ2VyKGMsZCxqW2xdLmhhbmRsZS5lbGVtLCEwKTtyZXR1cm59Yy5yZXN1bHQ9YixjLnRhcmdldHx8KGMudGFyZ2V0PWUpLGQ9ZCE9bnVsbD9mLm1ha2VBcnJheShkKTpbXSxkLnVuc2hpZnQoYykscD1mLmV2ZW50LnNwZWNpYWxbaF18fHt9O2lmKHAudHJpZ2dlciYmcC50cmlnZ2VyLmFwcGx5KGUsZCk9PT0hMSlyZXR1cm47cj1bW2UscC5iaW5kVHlwZXx8aF1dO2lmKCFnJiYhcC5ub0J1YmJsZSYmIWYuaXNXaW5kb3coZSkpe3M9cC5kZWxlZ2F0ZVR5cGV8fGgsbT1FLnRlc3QocytoKT9lOmUucGFyZW50Tm9kZSxuPW51bGw7Zm9yKDttO209bS5wYXJlbnROb2RlKXIucHVzaChbbSxzXSksbj1tO24mJm49PT1lLm93bmVyRG9jdW1lbnQmJnIucHVzaChbbi5kZWZhdWx0Vmlld3x8bi5wYXJlbnRXaW5kb3d8fGEsc10pfWZvcihsPTA7bDxyLmxlbmd0aCYmIWMuaXNQcm9wYWdhdGlvblN0b3BwZWQoKTtsKyspbT1yW2xdWzBdLGMudHlwZT1yW2xdWzFdLHE9KGYuX2RhdGEobSwiZXZlbnRzIil8fHt9KVtjLnR5cGVdJiZmLl9kYXRhKG0sImhhbmRsZSIpLHEmJnEuYXBwbHkobSxkKSxxPW8mJm1bb10scSYmZi5hY2NlcHREYXRhKG0pJiZxLmFwcGx5KG0sZCk9PT0hMSYmYy5wcmV2ZW50RGVmYXVsdCgpO2MudHlwZT1oLCFnJiYhYy5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKCFwLl9kZWZhdWx0fHxwLl9kZWZhdWx0LmFwcGx5KGUub3duZXJEb2N1bWVudCxkKT09PSExKSYmKGghPT0iY2xpY2sifHwhZi5ub2RlTmFtZShlLCJhIikpJiZmLmFjY2VwdERhdGEoZSkmJm8mJmVbaF0mJihoIT09ImZvY3VzIiYmaCE9PSJibHVyInx8Yy50YXJnZXQub2Zmc2V0V2lkdGghPT0wKSYmIWYuaXNXaW5kb3coZSkmJihuPWVbb10sbiYmKGVbb109bnVsbCksZi5ldmVudC50cmlnZ2VyZWQ9aCxlW2hdKCksZi5ldmVudC50cmlnZ2VyZWQ9YixuJiYoZVtvXT1uKSk7cmV0dXJuIGMucmVzdWx0fX0sZGlzcGF0Y2g6ZnVuY3Rpb24oYyl7Yz1mLmV2ZW50LmZpeChjfHxhLmV2ZW50KTt2YXIgZD0oZi5fZGF0YSh0aGlzLCJldmVudHMiKXx8e30pW2MudHlwZV18fFtdLGU9ZC5kZWxlZ2F0ZUNvdW50LGc9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMCksaD0hYy5leGNsdXNpdmUmJiFjLm5hbWVzcGFjZSxpPVtdLGosayxsLG0sbixvLHAscSxyLHMsdDtnWzBdPWMsYy5kZWxlZ2F0ZVRhcmdldD10aGlzO2lmKGUmJiFjLnRhcmdldC5kaXNhYmxlZCYmKCFjLmJ1dHRvbnx8Yy50eXBlIT09ImNsaWNrIikpe209Zih0aGlzKSxtLmNvbnRleHQ9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzO2ZvcihsPWMudGFyZ2V0O2whPXRoaXM7bD1sLnBhcmVudE5vZGV8fHRoaXMpe289e30scT1bXSxtWzBdPWw7Zm9yKGo9MDtqPGU7aisrKXI9ZFtqXSxzPXIuc2VsZWN0b3Isb1tzXT09PWImJihvW3NdPXIucXVpY2s/SChsLHIucXVpY2spOm0uaXMocykpLG9bc10mJnEucHVzaChyKTtxLmxlbmd0aCYmaS5wdXNoKHtlbGVtOmwsbWF0Y2hlczpxfSl9fWQubGVuZ3RoPmUmJmkucHVzaCh7ZWxlbTp0aGlzLG1hdGNoZXM6ZC5zbGljZShlKX0pO2ZvcihqPTA7ajxpLmxlbmd0aCYmIWMuaXNQcm9wYWdhdGlvblN0b3BwZWQoKTtqKyspe3A9aVtqXSxjLmN1cnJlbnRUYXJnZXQ9cC5lbGVtO2ZvcihrPTA7azxwLm1hdGNoZXMubGVuZ3RoJiYhYy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpO2srKyl7cj1wLm1hdGNoZXNba107aWYoaHx8IWMubmFtZXNwYWNlJiYhci5uYW1lc3BhY2V8fGMubmFtZXNwYWNlX3JlJiZjLm5hbWVzcGFjZV9yZS50ZXN0KHIubmFtZXNwYWNlKSljLmRhdGE9ci5kYXRhLGMuaGFuZGxlT2JqPXIsbj0oKGYuZXZlbnQuc3BlY2lhbFtyLm9yaWdUeXBlXXx8e30pLmhhbmRsZXx8ci5oYW5kbGVyKS5hcHBseShwLmVsZW0sZyksbiE9PWImJihjLnJlc3VsdD1uLG49PT0hMSYmKGMucHJldmVudERlZmF1bHQoKSxjLnN0b3BQcm9wYWdhdGlvbigpKSl9fXJldHVybiBjLnJlc3VsdH0scHJvcHM6ImF0dHJDaGFuZ2UgYXR0ck5hbWUgcmVsYXRlZE5vZGUgc3JjRWxlbWVudCBhbHRLZXkgYnViYmxlcyBjYW5jZWxhYmxlIGN0cmxLZXkgY3VycmVudFRhcmdldCBldmVudFBoYXNlIG1ldGFLZXkgcmVsYXRlZFRhcmdldCBzaGlmdEtleSB0YXJnZXQgdGltZVN0YW1wIHZpZXcgd2hpY2giLnNwbGl0KCIgIiksZml4SG9va3M6e30sa2V5SG9va3M6e3Byb3BzOiJjaGFyIGNoYXJDb2RlIGtleSBrZXlDb2RlIi5zcGxpdCgiICIpLGZpbHRlcjpmdW5jdGlvbihhLGIpe2Eud2hpY2g9PW51bGwmJihhLndoaWNoPWIuY2hhckNvZGUhPW51bGw/Yi5jaGFyQ29kZTpiLmtleUNvZGUpO3JldHVybiBhfX0sbW91c2VIb29rczp7cHJvcHM6ImJ1dHRvbiBidXR0b25zIGNsaWVudFggY2xpZW50WSBmcm9tRWxlbWVudCBvZmZzZXRYIG9mZnNldFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIHRvRWxlbWVudCIuc3BsaXQoIiAiKSxmaWx0ZXI6ZnVuY3Rpb24oYSxkKXt2YXIgZSxmLGcsaD1kLmJ1dHRvbixpPWQuZnJvbUVsZW1lbnQ7YS5wYWdlWD09bnVsbCYmZC5jbGllbnRYIT1udWxsJiYoZT1hLnRhcmdldC5vd25lckRvY3VtZW50fHxjLGY9ZS5kb2N1bWVudEVsZW1lbnQsZz1lLmJvZHksYS5wYWdlWD1kLmNsaWVudFgrKGYmJmYuc2Nyb2xsTGVmdHx8ZyYmZy5zY3JvbGxMZWZ0fHwwKS0oZiYmZi5jbGllbnRMZWZ0fHxnJiZnLmNsaWVudExlZnR8fDApLGEucGFnZVk9ZC5jbGllbnRZKyhmJiZmLnNjcm9sbFRvcHx8ZyYmZy5zY3JvbGxUb3B8fDApLShmJiZmLmNsaWVudFRvcHx8ZyYmZy5jbGllbnRUb3B8fDApKSwhYS5yZWxhdGVkVGFyZ2V0JiZpJiYoYS5yZWxhdGVkVGFyZ2V0PWk9PT1hLnRhcmdldD9kLnRvRWxlbWVudDppKSwhYS53aGljaCYmaCE9PWImJihhLndoaWNoPWgmMT8xOmgmMj8zOmgmND8yOjApO3JldHVybiBhfX0sZml4OmZ1bmN0aW9uKGEpe2lmKGFbZi5leHBhbmRvXSlyZXR1cm4gYTt2YXIgZCxlLGc9YSxoPWYuZXZlbnQuZml4SG9va3NbYS50eXBlXXx8e30saT1oLnByb3BzP3RoaXMucHJvcHMuY29uY2F0KGgucHJvcHMpOnRoaXMucHJvcHM7YT1mLkV2ZW50KGcpO2ZvcihkPWkubGVuZ3RoO2Q7KWU9aVstLWRdLGFbZV09Z1tlXTthLnRhcmdldHx8KGEudGFyZ2V0PWcuc3JjRWxlbWVudHx8YyksYS50YXJnZXQubm9kZVR5cGU9PT0zJiYoYS50YXJnZXQ9YS50YXJnZXQucGFyZW50Tm9kZSksYS5tZXRhS2V5PT09YiYmKGEubWV0YUtleT1hLmN0cmxLZXkpO3JldHVybiBoLmZpbHRlcj9oLmZpbHRlcihhLGcpOmF9LHNwZWNpYWw6e3JlYWR5OntzZXR1cDpmLmJpbmRSZWFkeX0sbG9hZDp7bm9CdWJibGU6ITB9LGZvY3VzOntkZWxlZ2F0ZVR5cGU6ImZvY3VzaW4ifSxibHVyOntkZWxlZ2F0ZVR5cGU6ImZvY3Vzb3V0In0sYmVmb3JldW5sb2FkOntzZXR1cDpmdW5jdGlvbihhLGIsYyl7Zi5pc1dpbmRvdyh0aGlzKSYmKHRoaXMub25iZWZvcmV1bmxvYWQ9Yyl9LHRlYXJkb3duOmZ1bmN0aW9uKGEsYil7dGhpcy5vbmJlZm9yZXVubG9hZD09PWImJih0aGlzLm9uYmVmb3JldW5sb2FkPW51bGwpfX19LHNpbXVsYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWYuZXh0ZW5kKG5ldyBmLkV2ZW50LGMse3R5cGU6YSxpc1NpbXVsYXRlZDohMCxvcmlnaW5hbEV2ZW50Ont9fSk7ZD9mLmV2ZW50LnRyaWdnZXIoZSxudWxsLGIpOmYuZXZlbnQuZGlzcGF0Y2guY2FsbChiLGUpLGUuaXNEZWZhdWx0UHJldmVudGVkKCkmJmMucHJldmVudERlZmF1bHQoKX19LGYuZXZlbnQuaGFuZGxlPWYuZXZlbnQuZGlzcGF0Y2gsZi5yZW1vdmVFdmVudD1jLnJlbW92ZUV2ZW50TGlzdGVuZXI/ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYywhMSl9OmZ1bmN0aW9uKGEsYixjKXthLmRldGFjaEV2ZW50JiZhLmRldGFjaEV2ZW50KCJvbiIrYixjKX0sZi5FdmVudD1mdW5jdGlvbihhLGIpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGYuRXZlbnQpKXJldHVybiBuZXcgZi5FdmVudChhLGIpO2EmJmEudHlwZT8odGhpcy5vcmlnaW5hbEV2ZW50PWEsdGhpcy50eXBlPWEudHlwZSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1hLmRlZmF1bHRQcmV2ZW50ZWR8fGEucmV0dXJuVmFsdWU9PT0hMXx8YS5nZXRQcmV2ZW50RGVmYXVsdCYmYS5nZXRQcmV2ZW50RGVmYXVsdCgpP0s6Sik6dGhpcy50eXBlPWEsYiYmZi5leHRlbmQodGhpcyxiKSx0aGlzLnRpbWVTdGFtcD1hJiZhLnRpbWVTdGFtcHx8Zi5ub3coKSx0aGlzW2YuZXhwYW5kb109ITB9LGYuRXZlbnQucHJvdG90eXBlPXtwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPUs7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50OyFhfHwoYS5wcmV2ZW50RGVmYXVsdD9hLnByZXZlbnREZWZhdWx0KCk6YS5yZXR1cm5WYWx1ZT0hMSl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3RoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9Szt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7IWF8fChhLnN0b3BQcm9wYWdhdGlvbiYmYS5zdG9wUHJvcGFnYXRpb24oKSxhLmNhbmNlbEJ1YmJsZT0hMCl9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9Syx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfSxpc0RlZmF1bHRQcmV2ZW50ZWQ6Sixpc1Byb3BhZ2F0aW9uU3RvcHBlZDpKLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOkp9LGYuZWFjaCh7bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCJ9LGZ1bmN0aW9uKGEsYil7Zi5ldmVudC5zcGVjaWFsW2FdPXtkZWxlZ2F0ZVR5cGU6YixiaW5kVHlwZTpiLGhhbmRsZTpmdW5jdGlvbihhKXt2YXIgYz10aGlzLGQ9YS5yZWxhdGVkVGFyZ2V0LGU9YS5oYW5kbGVPYmosZz1lLnNlbGVjdG9yLGg7aWYoIWR8fGQhPT1jJiYhZi5jb250YWlucyhjLGQpKWEudHlwZT1lLm9yaWdUeXBlLGg9ZS5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxhLnR5cGU9YjtyZXR1cm4gaH19fSksZi5zdXBwb3J0LnN1Ym1pdEJ1YmJsZXN8fChmLmV2ZW50LnNwZWNpYWwuc3VibWl0PXtzZXR1cDpmdW5jdGlvbigpe2lmKGYubm9kZU5hbWUodGhpcywiZm9ybSIpKXJldHVybiExO2YuZXZlbnQuYWRkKHRoaXMsImNsaWNrLl9zdWJtaXQga2V5cHJlc3MuX3N1Ym1pdCIsZnVuY3Rpb24oYSl7dmFyIGM9YS50YXJnZXQsZD1mLm5vZGVOYW1lKGMsImlucHV0Iil8fGYubm9kZU5hbWUoYywiYnV0dG9uIik/Yy5mb3JtOmI7ZCYmIWQuX3N1Ym1pdF9hdHRhY2hlZCYmKGYuZXZlbnQuYWRkKGQsInN1Ym1pdC5fc3VibWl0IixmdW5jdGlvbihhKXt0aGlzLnBhcmVudE5vZGUmJiFhLmlzVHJpZ2dlciYmZi5ldmVudC5zaW11bGF0ZSgic3VibWl0Iix0aGlzLnBhcmVudE5vZGUsYSwhMCl9KSxkLl9zdWJtaXRfYXR0YWNoZWQ9ITApfSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7aWYoZi5ub2RlTmFtZSh0aGlzLCJmb3JtIikpcmV0dXJuITE7Zi5ldmVudC5yZW1vdmUodGhpcywiLl9zdWJtaXQiKX19KSxmLnN1cHBvcnQuY2hhbmdlQnViYmxlc3x8KGYuZXZlbnQuc3BlY2lhbC5jaGFuZ2U9e3NldHVwOmZ1bmN0aW9uKCl7aWYoei50ZXN0KHRoaXMubm9kZU5hbWUpKXtpZih0aGlzLnR5cGU9PT0iY2hlY2tib3gifHx0aGlzLnR5cGU9PT0icmFkaW8iKWYuZXZlbnQuYWRkKHRoaXMsInByb3BlcnR5Y2hhbmdlLl9jaGFuZ2UiLGZ1bmN0aW9uKGEpe2Eub3JpZ2luYWxFdmVudC5wcm9wZXJ0eU5hbWU9PT0iY2hlY2tlZCImJih0aGlzLl9qdXN0X2NoYW5nZWQ9ITApfSksZi5ldmVudC5hZGQodGhpcywiY2xpY2suX2NoYW5nZSIsZnVuY3Rpb24oYSl7dGhpcy5fanVzdF9jaGFuZ2VkJiYhYS5pc1RyaWdnZXImJih0aGlzLl9qdXN0X2NoYW5nZWQ9ITEsZi5ldmVudC5zaW11bGF0ZSgiY2hhbmdlIix0aGlzLGEsITApKX0pO3JldHVybiExfWYuZXZlbnQuYWRkKHRoaXMsImJlZm9yZWFjdGl2YXRlLl9jaGFuZ2UiLGZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0O3oudGVzdChiLm5vZGVOYW1lKSYmIWIuX2NoYW5nZV9hdHRhY2hlZCYmKGYuZXZlbnQuYWRkKGIsImNoYW5nZS5fY2hhbmdlIixmdW5jdGlvbihhKXt0aGlzLnBhcmVudE5vZGUmJiFhLmlzU2ltdWxhdGVkJiYhYS5pc1RyaWdnZXImJmYuZXZlbnQuc2ltdWxhdGUoImNoYW5nZSIsdGhpcy5wYXJlbnROb2RlLGEsITApfSksYi5fY2hhbmdlX2F0dGFjaGVkPSEwKX0pfSxoYW5kbGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQ7aWYodGhpcyE9PWJ8fGEuaXNTaW11bGF0ZWR8fGEuaXNUcmlnZ2VyfHxiLnR5cGUhPT0icmFkaW8iJiZiLnR5cGUhPT0iY2hlY2tib3giKXJldHVybiBhLmhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtmLmV2ZW50LnJlbW92ZSh0aGlzLCIuX2NoYW5nZSIpO3JldHVybiB6LnRlc3QodGhpcy5ub2RlTmFtZSl9fSksZi5zdXBwb3J0LmZvY3VzaW5CdWJibGVzfHxmLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKGEsYil7dmFyIGQ9MCxlPWZ1bmN0aW9uKGEpe2YuZXZlbnQuc2ltdWxhdGUoYixhLnRhcmdldCxmLmV2ZW50LmZpeChhKSwhMCl9O2YuZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXtkKys9PT0wJiZjLmFkZEV2ZW50TGlzdGVuZXIoYSxlLCEwKX0sdGVhcmRvd246ZnVuY3Rpb24oKXstLWQ9PT0wJiZjLnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxlLCEwKX19fSksZi5mbi5leHRlbmQoe29uOmZ1bmN0aW9uKGEsYyxkLGUsZyl7dmFyIGgsaTtpZih0eXBlb2YgYT09Im9iamVjdCIpe3R5cGVvZiBjIT0ic3RyaW5nIiYmKGQ9YyxjPWIpO2ZvcihpIGluIGEpdGhpcy5vbihpLGMsZCxhW2ldLGcpO3JldHVybiB0aGlzfWQ9PW51bGwmJmU9PW51bGw/KGU9YyxkPWM9Yik6ZT09bnVsbCYmKHR5cGVvZiBjPT0ic3RyaW5nIj8oZT1kLGQ9Yik6KGU9ZCxkPWMsYz1iKSk7aWYoZT09PSExKWU9SjtlbHNlIGlmKCFlKXJldHVybiB0aGlzO2c9PT0xJiYoaD1lLGU9ZnVuY3Rpb24oYSl7ZigpLm9mZihhKTtyZXR1cm4gaC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUuZ3VpZD1oLmd1aWR8fChoLmd1aWQ9Zi5ndWlkKyspKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zi5ldmVudC5hZGQodGhpcyxhLGUsZCxjKX0pfSxvbmU6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMub24uY2FsbCh0aGlzLGEsYixjLGQsMSl9LG9mZjpmdW5jdGlvbihhLGMsZCl7aWYoYSYmYS5wcmV2ZW50RGVmYXVsdCYmYS5oYW5kbGVPYmope3ZhciBlPWEuaGFuZGxlT2JqO2YoYS5kZWxlZ2F0ZVRhcmdldCkub2ZmKGUubmFtZXNwYWNlP2UudHlwZSsiLiIrZS5uYW1lc3BhY2U6ZS50eXBlLGUuc2VsZWN0b3IsZS5oYW5kbGVyKTtyZXR1cm4gdGhpc31pZih0eXBlb2YgYT09Im9iamVjdCIpe2Zvcih2YXIgZyBpbiBhKXRoaXMub2ZmKGcsYyxhW2ddKTtyZXR1cm4gdGhpc31pZihjPT09ITF8fHR5cGVvZiBjPT0iZnVuY3Rpb24iKWQ9YyxjPWI7ZD09PSExJiYoZD1KKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zi5ldmVudC5yZW1vdmUodGhpcyxhLGQsYyl9KX0sYmluZDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMub24oYSxudWxsLGIsYyl9LHVuYmluZDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm9mZihhLG51bGwsYil9LGxpdmU6ZnVuY3Rpb24oYSxiLGMpe2YodGhpcy5jb250ZXh0KS5vbihhLHRoaXMuc2VsZWN0b3IsYixjKTtyZXR1cm4gdGhpc30sZGllOmZ1bmN0aW9uKGEsYil7Zih0aGlzLmNvbnRleHQpLm9mZihhLHRoaXMuc2VsZWN0b3J8fCIqKiIsYik7cmV0dXJuIHRoaXN9LGRlbGVnYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLm9uKGIsYSxjLGQpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD09MT90aGlzLm9mZihhLCIqKiIpOnRoaXMub2ZmKGIsYSxjKX0sdHJpZ2dlcjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtmLmV2ZW50LnRyaWdnZXIoYSxiLHRoaXMpfSl9LHRyaWdnZXJIYW5kbGVyOmZ1bmN0aW9uKGEsYil7aWYodGhpc1swXSlyZXR1cm4gZi5ldmVudC50cmlnZ2VyKGEsYix0aGlzWzBdLCEwKX0sdG9nZ2xlOmZ1bmN0aW9uKGEpe3ZhciBiPWFyZ3VtZW50cyxjPWEuZ3VpZHx8Zi5ndWlkKyssZD0wLGU9ZnVuY3Rpb24oYyl7dmFyIGU9KGYuX2RhdGEodGhpcywibGFzdFRvZ2dsZSIrYS5ndWlkKXx8MCklZDtmLl9kYXRhKHRoaXMsImxhc3RUb2dnbGUiK2EuZ3VpZCxlKzEpLGMucHJldmVudERlZmF1bHQoKTtyZXR1cm4gYltlXS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fCExfTtlLmd1aWQ9Yzt3aGlsZShkPGIubGVuZ3RoKWJbZCsrXS5ndWlkPWM7cmV0dXJuIHRoaXMuY2xpY2soZSl9LGhvdmVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMubW91c2VlbnRlcihhKS5tb3VzZWxlYXZlKGJ8fGEpfX0pLGYuZWFjaCgiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IGxvYWQgcmVzaXplIHNjcm9sbCB1bmxvYWQgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBlcnJvciBjb250ZXh0bWVudSIuc3BsaXQoIiAiKSxmdW5jdGlvbihhLGIpe2YuZm5bYl09ZnVuY3Rpb24oYSxjKXtjPT1udWxsJiYoYz1hLGE9bnVsbCk7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MD90aGlzLm9uKGIsbnVsbCxhLGMpOnRoaXMudHJpZ2dlcihiKX0sZi5hdHRyRm4mJihmLmF0dHJGbltiXT0hMCksQy50ZXN0KGIpJiYoZi5ldmVudC5maXhIb29rc1tiXT1mLmV2ZW50LmtleUhvb2tzKSxELnRlc3QoYikmJihmLmV2ZW50LmZpeEhvb2tzW2JdPWYuZXZlbnQubW91c2VIb29rcyl9KSxmdW5jdGlvbigpe2Z1bmN0aW9uIHgoYSxiLGMsZSxmLGcpe2Zvcih2YXIgaD0wLGk9ZS5sZW5ndGg7aDxpO2grKyl7dmFyIGo9ZVtoXTtpZihqKXt2YXIgaz0hMTtqPWpbYV07d2hpbGUoail7aWYoaltkXT09PWMpe2s9ZVtqLnNpenNldF07YnJlYWt9aWYoai5ub2RlVHlwZT09PTEpe2d8fChqW2RdPWMsai5zaXpzZXQ9aCk7aWYodHlwZW9mIGIhPSJzdHJpbmciKXtpZihqPT09Yil7az0hMDticmVha319ZWxzZSBpZihtLmZpbHRlcihiLFtqXSkubGVuZ3RoPjApe2s9ajticmVha319aj1qW2FdfWVbaF09a319fWZ1bmN0aW9uIHcoYSxiLGMsZSxmLGcpe2Zvcih2YXIgaD0wLGk9ZS5sZW5ndGg7aDxpO2grKyl7dmFyIGo9ZVtoXTtpZihqKXt2YXIgaz0hMTtqPWpbYV07d2hpbGUoail7aWYoaltkXT09PWMpe2s9ZVtqLnNpenNldF07YnJlYWt9ai5ub2RlVHlwZT09PTEmJiFnJiYoaltkXT1jLGouc2l6c2V0PWgpO2lmKGoubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWIpe2s9ajticmVha31qPWpbYV19ZVtoXT1rfX19dmFyIGE9LygoPzpcKCg/OlwoW14oKV0rXCl8W14oKV0rKStcKXxcWyg/OlxbW15cW1xdXSpcXXxbJyJdW14nIl0qWyciXXxbXlxbXF0nIl0rKStcXXxcXC58W14gPit+LChcW1xcXSspK3xbPit+XSkoXHMqLFxzKik/KCg/Oi58XHJ8XG4pKikvZyxkPSJzaXpjYWNoZSIrKE1hdGgucmFuZG9tKCkrIiIpLnJlcGxhY2UoIi4iLCIiKSxlPTAsZz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLGg9ITEsaT0hMCxqPS9cXC9nLGs9L1xyXG4vZyxsPS9cVy87WzAsMF0uc29ydChmdW5jdGlvbigpe2k9ITE7cmV0dXJuIDB9KTt2YXIgbT1mdW5jdGlvbihiLGQsZSxmKXtlPWV8fFtdLGQ9ZHx8Yzt2YXIgaD1kO2lmKGQubm9kZVR5cGUhPT0xJiZkLm5vZGVUeXBlIT09OSlyZXR1cm5bXTtpZighYnx8dHlwZW9mIGIhPSJzdHJpbmciKXJldHVybiBlO3ZhciBpLGosayxsLG4scSxyLHQsdT0hMCx2PW0uaXNYTUwoZCksdz1bXSx4PWI7ZG97YS5leGVjKCIiKSxpPWEuZXhlYyh4KTtpZihpKXt4PWlbM10sdy5wdXNoKGlbMV0pO2lmKGlbMl0pe2w9aVszXTticmVha319fXdoaWxlKGkpO2lmKHcubGVuZ3RoPjEmJnAuZXhlYyhiKSlpZih3Lmxlbmd0aD09PTImJm8ucmVsYXRpdmVbd1swXV0paj15KHdbMF0rd1sxXSxkLGYpO2Vsc2V7aj1vLnJlbGF0aXZlW3dbMF1dP1tkXTptKHcuc2hpZnQoKSxkKTt3aGlsZSh3Lmxlbmd0aCliPXcuc2hpZnQoKSxvLnJlbGF0aXZlW2JdJiYoYis9dy5zaGlmdCgpKSxqPXkoYixqLGYpfWVsc2V7IWYmJncubGVuZ3RoPjEmJmQubm9kZVR5cGU9PT05JiYhdiYmby5tYXRjaC5JRC50ZXN0KHdbMF0pJiYhby5tYXRjaC5JRC50ZXN0KHdbdy5sZW5ndGgtMV0pJiYobj1tLmZpbmQody5zaGlmdCgpLGQsdiksZD1uLmV4cHI/bS5maWx0ZXIobi5leHByLG4uc2V0KVswXTpuLnNldFswXSk7aWYoZCl7bj1mP3tleHByOncucG9wKCksc2V0OnMoZil9Om0uZmluZCh3LnBvcCgpLHcubGVuZ3RoPT09MSYmKHdbMF09PT0ifiJ8fHdbMF09PT0iKyIpJiZkLnBhcmVudE5vZGU/ZC5wYXJlbnROb2RlOmQsdiksaj1uLmV4cHI/bS5maWx0ZXIobi5leHByLG4uc2V0KTpuLnNldCx3Lmxlbmd0aD4wP2s9cyhqKTp1PSExO3doaWxlKHcubGVuZ3RoKXE9dy5wb3AoKSxyPXEsby5yZWxhdGl2ZVtxXT9yPXcucG9wKCk6cT0iIixyPT1udWxsJiYocj1kKSxvLnJlbGF0aXZlW3FdKGsscix2KX1lbHNlIGs9dz1bXX1rfHwoaz1qKSxrfHxtLmVycm9yKHF8fGIpO2lmKGcuY2FsbChrKT09PSJbb2JqZWN0IEFycmF5XSIpaWYoIXUpZS5wdXNoLmFwcGx5KGUsayk7ZWxzZSBpZihkJiZkLm5vZGVUeXBlPT09MSlmb3IodD0wO2tbdF0hPW51bGw7dCsrKWtbdF0mJihrW3RdPT09ITB8fGtbdF0ubm9kZVR5cGU9PT0xJiZtLmNvbnRhaW5zKGQsa1t0XSkpJiZlLnB1c2goalt0XSk7ZWxzZSBmb3IodD0wO2tbdF0hPW51bGw7dCsrKWtbdF0mJmtbdF0ubm9kZVR5cGU9PT0xJiZlLnB1c2goalt0XSk7ZWxzZSBzKGssZSk7bCYmKG0obCxoLGUsZiksbS51bmlxdWVTb3J0KGUpKTtyZXR1cm4gZX07bS51bmlxdWVTb3J0PWZ1bmN0aW9uKGEpe2lmKHUpe2g9aSxhLnNvcnQodSk7aWYoaClmb3IodmFyIGI9MTtiPGEubGVuZ3RoO2IrKylhW2JdPT09YVtiLTFdJiZhLnNwbGljZShiLS0sMSl9cmV0dXJuIGF9LG0ubWF0Y2hlcz1mdW5jdGlvbihhLGIpe3JldHVybiBtKGEsbnVsbCxudWxsLGIpfSxtLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihhLGIpe3JldHVybiBtKGIsbnVsbCxudWxsLFthXSkubGVuZ3RoPjB9LG0uZmluZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGcsaCxpO2lmKCFhKXJldHVybltdO2ZvcihlPTAsZj1vLm9yZGVyLmxlbmd0aDtlPGY7ZSsrKXtoPW8ub3JkZXJbZV07aWYoZz1vLmxlZnRNYXRjaFtoXS5leGVjKGEpKXtpPWdbMV0sZy5zcGxpY2UoMSwxKTtpZihpLnN1YnN0cihpLmxlbmd0aC0xKSE9PSJcXCIpe2dbMV09KGdbMV18fCIiKS5yZXBsYWNlKGosIiIpLGQ9by5maW5kW2hdKGcsYixjKTtpZihkIT1udWxsKXthPWEucmVwbGFjZShvLm1hdGNoW2hdLCIiKTticmVha319fX1kfHwoZD10eXBlb2YgYi5nZXRFbGVtZW50c0J5VGFnTmFtZSE9InVuZGVmaW5lZCI/Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpOltdKTtyZXR1cm57c2V0OmQsZXhwcjphfX0sbS5maWx0ZXI9ZnVuY3Rpb24oYSxjLGQsZSl7dmFyIGYsZyxoLGksaixrLGwsbixwLHE9YSxyPVtdLHM9Yyx0PWMmJmNbMF0mJm0uaXNYTUwoY1swXSk7d2hpbGUoYSYmYy5sZW5ndGgpe2ZvcihoIGluIG8uZmlsdGVyKWlmKChmPW8ubGVmdE1hdGNoW2hdLmV4ZWMoYSkpIT1udWxsJiZmWzJdKXtrPW8uZmlsdGVyW2hdLGw9ZlsxXSxnPSExLGYuc3BsaWNlKDEsMSk7aWYobC5zdWJzdHIobC5sZW5ndGgtMSk9PT0iXFwiKWNvbnRpbnVlO3M9PT1yJiYocj1bXSk7aWYoby5wcmVGaWx0ZXJbaF0pe2Y9by5wcmVGaWx0ZXJbaF0oZixzLGQscixlLHQpO2lmKCFmKWc9aT0hMDtlbHNlIGlmKGY9PT0hMCljb250aW51ZX1pZihmKWZvcihuPTA7KGo9c1tuXSkhPW51bGw7bisrKWomJihpPWsoaixmLG4scykscD1lXmksZCYmaSE9bnVsbD9wP2c9ITA6c1tuXT0hMTpwJiYoci5wdXNoKGopLGc9ITApKTtpZihpIT09Yil7ZHx8KHM9ciksYT1hLnJlcGxhY2Uoby5tYXRjaFtoXSwiIik7aWYoIWcpcmV0dXJuW107YnJlYWt9fWlmKGE9PT1xKWlmKGc9PW51bGwpbS5lcnJvcihhKTtlbHNlIGJyZWFrO3E9YX1yZXR1cm4gc30sbS5lcnJvcj1mdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrYSl9O3ZhciBuPW0uZ2V0VGV4dD1mdW5jdGlvbihhKXt2YXIgYixjLGQ9YS5ub2RlVHlwZSxlPSIiO2lmKGQpe2lmKGQ9PT0xfHxkPT09OSl7aWYodHlwZW9mIGEudGV4dENvbnRlbnQ9PSJzdHJpbmciKXJldHVybiBhLnRleHRDb250ZW50O2lmKHR5cGVvZiBhLmlubmVyVGV4dD09InN0cmluZyIpcmV0dXJuIGEuaW5uZXJUZXh0LnJlcGxhY2UoaywiIik7Zm9yKGE9YS5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWUrPW4oYSl9ZWxzZSBpZihkPT09M3x8ZD09PTQpcmV0dXJuIGEubm9kZVZhbHVlfWVsc2UgZm9yKGI9MDtjPWFbYl07YisrKWMubm9kZVR5cGUhPT04JiYoZSs9bihjKSk7cmV0dXJuIGV9LG89bS5zZWxlY3RvcnM9e29yZGVyOlsiSUQiLCJOQU1FIiwiVEFHIl0sbWF0Y2g6e0lEOi8jKCg/Oltcd1x1MDBjMC1cdUZGRkZcLV18XFwuKSspLyxDTEFTUzovXC4oKD86W1x3XHUwMGMwLVx1RkZGRlwtXXxcXC4pKykvLE5BTUU6L1xbbmFtZT1bJyJdKigoPzpbXHdcdTAwYzAtXHVGRkZGXC1dfFxcLikrKVsnIl0qXF0vLEFUVFI6L1xbXHMqKCg/Oltcd1x1MDBjMC1cdUZGRkZcLV18XFwuKSspXHMqKD86KFxTPz0pXHMqKD86KFsnIl0pKC4qPylcM3woIz8oPzpbXHdcdTAwYzAtXHVGRkZGXC1dfFxcLikqKXwpfClccypcXS8sVEFHOi9eKCg/Oltcd1x1MDBjMC1cdUZGRkZcKlwtXXxcXC4pKykvLENISUxEOi86KG9ubHl8bnRofGxhc3R8Zmlyc3QpLWNoaWxkKD86XChccyooZXZlbnxvZGR8KD86WytcLV0/XGQrfCg/OlsrXC1dP1xkKik/blxzKig/OlsrXC1dXHMqXGQrKT8pKVxzKlwpKT8vLFBPUzovOihudGh8ZXF8Z3R8bHR8Zmlyc3R8bGFzdHxldmVufG9kZCkoPzpcKChcZCopXCkpPyg/PVteXC1dfCQpLyxQU0VVRE86LzooKD86W1x3XHUwMGMwLVx1RkZGRlwtXXxcXC4pKykoPzpcKChbJyJdPykoKD86XChbXlwpXStcKXxbXlwoXCldKikrKVwyXCkpPy99LGxlZnRNYXRjaDp7fSxhdHRyTWFwOnsiY2xhc3MiOiJjbGFzc05hbWUiLCJmb3IiOiJodG1sRm9yIn0sYXR0ckhhbmRsZTp7aHJlZjpmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoImhyZWYiKX0sdHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoInR5cGUiKX19LHJlbGF0aXZlOnsiKyI6ZnVuY3Rpb24oYSxiKXt2YXIgYz10eXBlb2YgYj09InN0cmluZyIsZD1jJiYhbC50ZXN0KGIpLGU9YyYmIWQ7ZCYmKGI9Yi50b0xvd2VyQ2FzZSgpKTtmb3IodmFyIGY9MCxnPWEubGVuZ3RoLGg7ZjxnO2YrKylpZihoPWFbZl0pe3doaWxlKChoPWgucHJldmlvdXNTaWJsaW5nKSYmaC5ub2RlVHlwZSE9PTEpO2FbZl09ZXx8aCYmaC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yj9ofHwhMTpoPT09Yn1lJiZtLmZpbHRlcihiLGEsITApfSwiPiI6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPXR5cGVvZiBiPT0ic3RyaW5nIixlPTAsZj1hLmxlbmd0aDtpZihkJiYhbC50ZXN0KGIpKXtiPWIudG9Mb3dlckNhc2UoKTtmb3IoO2U8ZjtlKyspe2M9YVtlXTtpZihjKXt2YXIgZz1jLnBhcmVudE5vZGU7YVtlXT1nLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1iP2c6ITF9fX1lbHNle2Zvcig7ZTxmO2UrKyljPWFbZV0sYyYmKGFbZV09ZD9jLnBhcmVudE5vZGU6Yy5wYXJlbnROb2RlPT09Yik7ZCYmbS5maWx0ZXIoYixhLCEwKX19LCIiOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxmPWUrKyxnPXg7dHlwZW9mIGI9PSJzdHJpbmciJiYhbC50ZXN0KGIpJiYoYj1iLnRvTG93ZXJDYXNlKCksZD1iLGc9dyksZygicGFyZW50Tm9kZSIsYixmLGEsZCxjKX0sIn4iOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxmPWUrKyxnPXg7dHlwZW9mIGI9PSJzdHJpbmciJiYhbC50ZXN0KGIpJiYoYj1iLnRvTG93ZXJDYXNlKCksZD1iLGc9dyksZygicHJldmlvdXNTaWJsaW5nIixiLGYsYSxkLGMpfX0sZmluZDp7SUQ6ZnVuY3Rpb24oYSxiLGMpe2lmKHR5cGVvZiBiLmdldEVsZW1lbnRCeUlkIT0idW5kZWZpbmVkIiYmIWMpe3ZhciBkPWIuZ2V0RWxlbWVudEJ5SWQoYVsxXSk7cmV0dXJuIGQmJmQucGFyZW50Tm9kZT9bZF06W119fSxOQU1FOmZ1bmN0aW9uKGEsYil7aWYodHlwZW9mIGIuZ2V0RWxlbWVudHNCeU5hbWUhPSJ1bmRlZmluZWQiKXt2YXIgYz1bXSxkPWIuZ2V0RWxlbWVudHNCeU5hbWUoYVsxXSk7Zm9yKHZhciBlPTAsZj1kLmxlbmd0aDtlPGY7ZSsrKWRbZV0uZ2V0QXR0cmlidXRlKCJuYW1lIik9PT1hWzFdJiZjLnB1c2goZFtlXSk7cmV0dXJuIGMubGVuZ3RoPT09MD9udWxsOmN9fSxUQUc6ZnVuY3Rpb24oYSxiKXtpZih0eXBlb2YgYi5nZXRFbGVtZW50c0J5VGFnTmFtZSE9InVuZGVmaW5lZCIpcmV0dXJuIGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYVsxXSl9fSxwcmVGaWx0ZXI6e0NMQVNTOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXthPSIgIithWzFdLnJlcGxhY2UoaiwiIikrIiAiO2lmKGYpcmV0dXJuIGE7Zm9yKHZhciBnPTAsaDsoaD1iW2ddKSE9bnVsbDtnKyspaCYmKGVeKGguY2xhc3NOYW1lJiYoIiAiK2guY2xhc3NOYW1lKyIgIikucmVwbGFjZSgvW1x0XG5ccl0vZywiICIpLmluZGV4T2YoYSk+PTApP2N8fGQucHVzaChoKTpjJiYoYltnXT0hMSkpO3JldHVybiExfSxJRDpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXS5yZXBsYWNlKGosIiIpfSxUQUc6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYVsxXS5yZXBsYWNlKGosIiIpLnRvTG93ZXJDYXNlKCl9LENISUxEOmZ1bmN0aW9uKGEpe2lmKGFbMV09PT0ibnRoIil7YVsyXXx8bS5lcnJvcihhWzBdKSxhWzJdPWFbMl0ucmVwbGFjZSgvXlwrfFxzKi9nLCIiKTt2YXIgYj0vKC0/KShcZCopKD86bihbK1wtXT9cZCopKT8vLmV4ZWMoYVsyXT09PSJldmVuIiYmIjJuInx8YVsyXT09PSJvZGQiJiYiMm4rMSJ8fCEvXEQvLnRlc3QoYVsyXSkmJiIwbisiK2FbMl18fGFbMl0pO2FbMl09YlsxXSsoYlsyXXx8MSktMCxhWzNdPWJbM10tMH1lbHNlIGFbMl0mJm0uZXJyb3IoYVswXSk7YVswXT1lKys7cmV0dXJuIGF9LEFUVFI6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnPWFbMV09YVsxXS5yZXBsYWNlKGosIiIpOyFmJiZvLmF0dHJNYXBbZ10mJihhWzFdPW8uYXR0ck1hcFtnXSksYVs0XT0oYVs0XXx8YVs1XXx8IiIpLnJlcGxhY2UoaiwiIiksYVsyXT09PSJ+PSImJihhWzRdPSIgIithWzRdKyIgIik7cmV0dXJuIGF9LFBTRVVETzpmdW5jdGlvbihiLGMsZCxlLGYpe2lmKGJbMV09PT0ibm90IilpZigoYS5leGVjKGJbM10pfHwiIikubGVuZ3RoPjF8fC9eXHcvLnRlc3QoYlszXSkpYlszXT1tKGJbM10sbnVsbCxudWxsLGMpO2Vsc2V7dmFyIGc9bS5maWx0ZXIoYlszXSxjLGQsITBeZik7ZHx8ZS5wdXNoLmFwcGx5KGUsZyk7cmV0dXJuITF9ZWxzZSBpZihvLm1hdGNoLlBPUy50ZXN0KGJbMF0pfHxvLm1hdGNoLkNISUxELnRlc3QoYlswXSkpcmV0dXJuITA7cmV0dXJuIGJ9LFBPUzpmdW5jdGlvbihhKXthLnVuc2hpZnQoITApO3JldHVybiBhfX0sZmlsdGVyczp7ZW5hYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5kaXNhYmxlZD09PSExJiZhLnR5cGUhPT0iaGlkZGVuIn0sZGlzYWJsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGlzYWJsZWQ9PT0hMH0sY2hlY2tlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5jaGVja2VkPT09ITB9LHNlbGVjdGVkOmZ1bmN0aW9uKGEpe2EucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7cmV0dXJuIGEuc2VsZWN0ZWQ9PT0hMH0scGFyZW50OmZ1bmN0aW9uKGEpe3JldHVybiEhYS5maXJzdENoaWxkfSxlbXB0eTpmdW5jdGlvbihhKXtyZXR1cm4hYS5maXJzdENoaWxkfSxoYXM6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiEhbShjWzNdLGEpLmxlbmd0aH0saGVhZGVyOmZ1bmN0aW9uKGEpe3JldHVybi9oXGQvaS50ZXN0KGEubm9kZU5hbWUpfSx0ZXh0OmZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0QXR0cmlidXRlKCJ0eXBlIiksYz1hLnR5cGU7cmV0dXJuIGEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJpbnB1dCImJiJ0ZXh0Ij09PWMmJihiPT09Y3x8Yj09PW51bGwpfSxyYWRpbzpmdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ImlucHV0IiYmInJhZGlvIj09PWEudHlwZX0sY2hlY2tib3g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJpbnB1dCImJiJjaGVja2JveCI9PT1hLnR5cGV9LGZpbGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJpbnB1dCImJiJmaWxlIj09PWEudHlwZX0scGFzc3dvcmQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJpbnB1dCImJiJwYXNzd29yZCI9PT1hLnR5cGV9LHN1Ym1pdDpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKGI9PT0iaW5wdXQifHxiPT09ImJ1dHRvbiIpJiYic3VibWl0Ij09PWEudHlwZX0saW1hZ2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJpbnB1dCImJiJpbWFnZSI9PT1hLnR5cGV9LHJlc2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oYj09PSJpbnB1dCJ8fGI9PT0iYnV0dG9uIikmJiJyZXNldCI9PT1hLnR5cGV9LGJ1dHRvbjpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuIGI9PT0iaW5wdXQiJiYiYnV0dG9uIj09PWEudHlwZXx8Yj09PSJidXR0b24ifSxpbnB1dDpmdW5jdGlvbihhKXtyZXR1cm4vaW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbi9pLnRlc3QoYS5ub2RlTmFtZSl9LGZvY3VzOmZ1bmN0aW9uKGEpe3JldHVybiBhPT09YS5vd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnR9fSxzZXRGaWx0ZXJzOntmaXJzdDpmdW5jdGlvbihhLGIpe3JldHVybiBiPT09MH0sbGFzdDpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gYj09PWQubGVuZ3RoLTF9LGV2ZW46ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYiUyPT09MH0sb2RkOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGIlMj09PTF9LGx0OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYjxjWzNdLTB9LGd0OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYj5jWzNdLTB9LG50aDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGNbM10tMD09PWJ9LGVxOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gY1szXS0wPT09Yn19LGZpbHRlcjp7UFNFVURPOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWJbMV0sZj1vLmZpbHRlcnNbZV07aWYoZilyZXR1cm4gZihhLGMsYixkKTtpZihlPT09ImNvbnRhaW5zIilyZXR1cm4oYS50ZXh0Q29udGVudHx8YS5pbm5lclRleHR8fG4oW2FdKXx8IiIpLmluZGV4T2YoYlszXSk+PTA7aWYoZT09PSJub3QiKXt2YXIgZz1iWzNdO2Zvcih2YXIgaD0wLGk9Zy5sZW5ndGg7aDxpO2grKylpZihnW2hdPT09YSlyZXR1cm4hMTtyZXR1cm4hMH1tLmVycm9yKGUpfSxDSElMRDpmdW5jdGlvbihhLGIpe3ZhciBjLGUsZixnLGgsaSxqLGs9YlsxXSxsPWE7c3dpdGNoKGspe2Nhc2Uib25seSI6Y2FzZSJmaXJzdCI6d2hpbGUobD1sLnByZXZpb3VzU2libGluZylpZihsLm5vZGVUeXBlPT09MSlyZXR1cm4hMTtpZihrPT09ImZpcnN0IilyZXR1cm4hMDtsPWE7Y2FzZSJsYXN0Ijp3aGlsZShsPWwubmV4dFNpYmxpbmcpaWYobC5ub2RlVHlwZT09PTEpcmV0dXJuITE7cmV0dXJuITA7Y2FzZSJudGgiOmM9YlsyXSxlPWJbM107aWYoYz09PTEmJmU9PT0wKXJldHVybiEwO2Y9YlswXSxnPWEucGFyZW50Tm9kZTtpZihnJiYoZ1tkXSE9PWZ8fCFhLm5vZGVJbmRleCkpe2k9MDtmb3IobD1nLmZpcnN0Q2hpbGQ7bDtsPWwubmV4dFNpYmxpbmcpbC5ub2RlVHlwZT09PTEmJihsLm5vZGVJbmRleD0rK2kpO2dbZF09Zn1qPWEubm9kZUluZGV4LWU7cmV0dXJuIGM9PT0wP2o9PT0wOmolYz09PTAmJmovYz49MH19LElEOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubm9kZVR5cGU9PT0xJiZhLmdldEF0dHJpYnV0ZSgiaWQiKT09PWJ9LFRBRzpmdW5jdGlvbihhLGIpe3JldHVybiBiPT09IioiJiZhLm5vZGVUeXBlPT09MXx8ISFhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1ifSxDTEFTUzpmdW5jdGlvbihhLGIpe3JldHVybigiICIrKGEuY2xhc3NOYW1lfHxhLmdldEF0dHJpYnV0ZSgiY2xhc3MiKSkrIiAiKS5pbmRleE9mKGIpPi0xfSxBVFRSOmZ1bmN0aW9uKGEsYil7dmFyIGM9YlsxXSxkPW0uYXR0cj9tLmF0dHIoYSxjKTpvLmF0dHJIYW5kbGVbY10/by5hdHRySGFuZGxlW2NdKGEpOmFbY10hPW51bGw/YVtjXTphLmdldEF0dHJpYnV0ZShjKSxlPWQrIiIsZj1iWzJdLGc9Yls0XTtyZXR1cm4gZD09bnVsbD9mPT09IiE9IjohZiYmbS5hdHRyP2QhPW51bGw6Zj09PSI9Ij9lPT09ZzpmPT09Iio9Ij9lLmluZGV4T2YoZyk+PTA6Zj09PSJ+PSI/KCIgIitlKyIgIikuaW5kZXhPZihnKT49MDpnP2Y9PT0iIT0iP2UhPT1nOmY9PT0iXj0iP2UuaW5kZXhPZihnKT09PTA6Zj09PSIkPSI/ZS5zdWJzdHIoZS5sZW5ndGgtZy5sZW5ndGgpPT09ZzpmPT09Inw9Ij9lPT09Z3x8ZS5zdWJzdHIoMCxnLmxlbmd0aCsxKT09PWcrIi0iOiExOmUmJmQhPT0hMX0sUE9TOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWJbMl0sZj1vLnNldEZpbHRlcnNbZV07aWYoZilyZXR1cm4gZihhLGMsYixkKX19fSxwPW8ubWF0Y2guUE9TLHE9ZnVuY3Rpb24oYSxiKXtyZXR1cm4iXFwiKyhiLTArMSl9O2Zvcih2YXIgciBpbiBvLm1hdGNoKW8ubWF0Y2hbcl09bmV3IFJlZ0V4cChvLm1hdGNoW3JdLnNvdXJjZSsvKD8hW15cW10qXF0pKD8hW15cKF0qXCkpLy5zb3VyY2UpLG8ubGVmdE1hdGNoW3JdPW5ldyBSZWdFeHAoLyheKD86LnxccnxcbikqPykvLnNvdXJjZStvLm1hdGNoW3JdLnNvdXJjZS5yZXBsYWNlKC9cXChcZCspL2cscSkpO3ZhciBzPWZ1bmN0aW9uKGEsYil7YT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhLDApO2lmKGIpe2IucHVzaC5hcHBseShiLGEpO3JldHVybiBifXJldHVybiBhfTt0cnl7QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYy5kb2N1bWVudEVsZW1lbnQuY2hpbGROb2RlcywwKVswXS5ub2RlVHlwZX1jYXRjaCh0KXtzPWZ1bmN0aW9uKGEsYil7dmFyIGM9MCxkPWJ8fFtdO2lmKGcuY2FsbChhKT09PSJbb2JqZWN0IEFycmF5XSIpQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoZCxhKTtlbHNlIGlmKHR5cGVvZiBhLmxlbmd0aD09Im51bWJlciIpZm9yKHZhciBlPWEubGVuZ3RoO2M8ZTtjKyspZC5wdXNoKGFbY10pO2Vsc2UgZm9yKDthW2NdO2MrKylkLnB1c2goYVtjXSk7cmV0dXJuIGR9fXZhciB1LHY7Yy5kb2N1bWVudEVsZW1lbnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24/dT1mdW5jdGlvbihhLGIpe2lmKGE9PT1iKXtoPSEwO3JldHVybiAwfWlmKCFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9ufHwhYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbilyZXR1cm4gYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj8tMToxO3JldHVybiBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpJjQ/LTE6MX06KHU9ZnVuY3Rpb24oYSxiKXtpZihhPT09Yil7aD0hMDtyZXR1cm4gMH1pZihhLnNvdXJjZUluZGV4JiZiLnNvdXJjZUluZGV4KXJldHVybiBhLnNvdXJjZUluZGV4LWIuc291cmNlSW5kZXg7dmFyIGMsZCxlPVtdLGY9W10sZz1hLnBhcmVudE5vZGUsaT1iLnBhcmVudE5vZGUsaj1nO2lmKGc9PT1pKXJldHVybiB2KGEsYik7aWYoIWcpcmV0dXJuLTE7aWYoIWkpcmV0dXJuIDE7d2hpbGUoaillLnVuc2hpZnQoaiksaj1qLnBhcmVudE5vZGU7aj1pO3doaWxlKGopZi51bnNoaWZ0KGopLGo9ai5wYXJlbnROb2RlO2M9ZS5sZW5ndGgsZD1mLmxlbmd0aDtmb3IodmFyIGs9MDtrPGMmJms8ZDtrKyspaWYoZVtrXSE9PWZba10pcmV0dXJuIHYoZVtrXSxmW2tdKTtyZXR1cm4gaz09PWM/dihhLGZba10sLTEpOnYoZVtrXSxiLDEpfSx2PWZ1bmN0aW9uKGEsYixjKXtpZihhPT09YilyZXR1cm4gYzt2YXIgZD1hLm5leHRTaWJsaW5nO3doaWxlKGQpe2lmKGQ9PT1iKXJldHVybi0xO2Q9ZC5uZXh0U2libGluZ31yZXR1cm4gMX0pLGZ1bmN0aW9uKCl7dmFyIGE9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxkPSJzY3JpcHQiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpLGU9Yy5kb2N1bWVudEVsZW1lbnQ7YS5pbm5lckhUTUw9IjxhIG5hbWU9JyIrZCsiJy8+IixlLmluc2VydEJlZm9yZShhLGUuZmlyc3RDaGlsZCksYy5nZXRFbGVtZW50QnlJZChkKSYmKG8uZmluZC5JRD1mdW5jdGlvbihhLGMsZCl7aWYodHlwZW9mIGMuZ2V0RWxlbWVudEJ5SWQhPSJ1bmRlZmluZWQiJiYhZCl7dmFyIGU9Yy5nZXRFbGVtZW50QnlJZChhWzFdKTtyZXR1cm4gZT9lLmlkPT09YVsxXXx8dHlwZW9mIGUuZ2V0QXR0cmlidXRlTm9kZSE9InVuZGVmaW5lZCImJmUuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKS5ub2RlVmFsdWU9PT1hWzFdP1tlXTpiOltdfX0sby5maWx0ZXIuSUQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10eXBlb2YgYS5nZXRBdHRyaWJ1dGVOb2RlIT0idW5kZWZpbmVkIiYmYS5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpO3JldHVybiBhLm5vZGVUeXBlPT09MSYmYyYmYy5ub2RlVmFsdWU9PT1ifSksZS5yZW1vdmVDaGlsZChhKSxlPWE9bnVsbH0oKSxmdW5jdGlvbigpe3ZhciBhPWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7YS5hcHBlbmRDaGlsZChjLmNyZWF0ZUNvbW1lbnQoIiIpKSxhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RoPjAmJihvLmZpbmQuVEFHPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShhWzFdKTtpZihhWzFdPT09IioiKXt2YXIgZD1bXTtmb3IodmFyIGU9MDtjW2VdO2UrKyljW2VdLm5vZGVUeXBlPT09MSYmZC5wdXNoKGNbZV0pO2M9ZH1yZXR1cm4gY30pLGEuaW5uZXJIVE1MPSI8YSBocmVmPScjJz48L2E+IixhLmZpcnN0Q2hpbGQmJnR5cGVvZiBhLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlIT0idW5kZWZpbmVkIiYmYS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpIT09IiMiJiYoby5hdHRySGFuZGxlLmhyZWY9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0QXR0cmlidXRlKCJocmVmIiwyKX0pLGE9bnVsbH0oKSxjLnF1ZXJ5U2VsZWN0b3JBbGwmJmZ1bmN0aW9uKCl7dmFyIGE9bSxiPWMuY3JlYXRlRWxlbWVudCgiZGl2IiksZD0iX19zaXp6bGVfXyI7Yi5pbm5lckhUTUw9IjxwIGNsYXNzPSdURVNUJz48L3A+IjtpZighYi5xdWVyeVNlbGVjdG9yQWxsfHxiLnF1ZXJ5U2VsZWN0b3JBbGwoIi5URVNUIikubGVuZ3RoIT09MCl7bT1mdW5jdGlvbihiLGUsZixnKXtlPWV8fGM7aWYoIWcmJiFtLmlzWE1MKGUpKXt2YXIgaD0vXihcdyskKXxeXC4oW1x3XC1dKyQpfF4jKFtcd1wtXSskKS8uZXhlYyhiKTtpZihoJiYoZS5ub2RlVHlwZT09PTF8fGUubm9kZVR5cGU9PT05KSl7aWYoaFsxXSlyZXR1cm4gcyhlLmdldEVsZW1lbnRzQnlUYWdOYW1lKGIpLGYpO2lmKGhbMl0mJm8uZmluZC5DTEFTUyYmZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBzKGUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShoWzJdKSxmKX1pZihlLm5vZGVUeXBlPT09OSl7aWYoYj09PSJib2R5IiYmZS5ib2R5KXJldHVybiBzKFtlLmJvZHldLGYpO2lmKGgmJmhbM10pe3ZhciBpPWUuZ2V0RWxlbWVudEJ5SWQoaFszXSk7aWYoIWl8fCFpLnBhcmVudE5vZGUpcmV0dXJuIHMoW10sZik7aWYoaS5pZD09PWhbM10pcmV0dXJuIHMoW2ldLGYpfXRyeXtyZXR1cm4gcyhlLnF1ZXJ5U2VsZWN0b3JBbGwoYiksZil9Y2F0Y2goail7fX1lbHNlIGlmKGUubm9kZVR5cGU9PT0xJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkhPT0ib2JqZWN0Iil7dmFyIGs9ZSxsPWUuZ2V0QXR0cmlidXRlKCJpZCIpLG49bHx8ZCxwPWUucGFyZW50Tm9kZSxxPS9eXHMqWyt+XS8udGVzdChiKTtsP249bi5yZXBsYWNlKC8nL2csIlxcJCYiKTplLnNldEF0dHJpYnV0ZSgiaWQiLG4pLHEmJnAmJihlPWUucGFyZW50Tm9kZSk7dHJ5e2lmKCFxfHxwKXJldHVybiBzKGUucXVlcnlTZWxlY3RvckFsbCgiW2lkPSciK24rIiddICIrYiksZil9Y2F0Y2gocil7fWZpbmFsbHl7bHx8ay5yZW1vdmVBdHRyaWJ1dGUoImlkIil9fX1yZXR1cm4gYShiLGUsZixnKX07Zm9yKHZhciBlIGluIGEpbVtlXT1hW2VdO2I9bnVsbH19KCksZnVuY3Rpb24oKXt2YXIgYT1jLmRvY3VtZW50RWxlbWVudCxiPWEubWF0Y2hlc1NlbGVjdG9yfHxhLm1vek1hdGNoZXNTZWxlY3Rvcnx8YS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fGEubXNNYXRjaGVzU2VsZWN0b3I7aWYoYil7dmFyIGQ9IWIuY2FsbChjLmNyZWF0ZUVsZW1lbnQoImRpdiIpLCJkaXYiKSxlPSExO3RyeXtiLmNhbGwoYy5kb2N1bWVudEVsZW1lbnQsIlt0ZXN0IT0nJ106c2l6emxlIil9Y2F0Y2goZil7ZT0hMH1tLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihhLGMpe2M9Yy5yZXBsYWNlKC9cPVxzKihbXiciXF1dKilccypcXS9nLCI9JyQxJ10iKTtpZighbS5pc1hNTChhKSl0cnl7aWYoZXx8IW8ubWF0Y2guUFNFVURPLnRlc3QoYykmJiEvIT0vLnRlc3QoYykpe3ZhciBmPWIuY2FsbChhLGMpO2lmKGZ8fCFkfHxhLmRvY3VtZW50JiZhLmRvY3VtZW50Lm5vZGVUeXBlIT09MTEpcmV0dXJuIGZ9fWNhdGNoKGcpe31yZXR1cm4gbShjLG51bGwsbnVsbCxbYV0pLmxlbmd0aD4wfX19KCksZnVuY3Rpb24oKXt2YXIgYT1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2EuaW5uZXJIVE1MPSI8ZGl2IGNsYXNzPSd0ZXN0IGUnPjwvZGl2PjxkaXYgY2xhc3M9J3Rlc3QnPjwvZGl2PiI7aWYoISFhLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmEuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiZSIpLmxlbmd0aCE9PTApe2EubGFzdENoaWxkLmNsYXNzTmFtZT0iZSI7aWYoYS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJlIikubGVuZ3RoPT09MSlyZXR1cm47by5vcmRlci5zcGxpY2UoMSwwLCJDTEFTUyIpLG8uZmluZC5DTEFTUz1mdW5jdGlvbihhLGIsYyl7aWYodHlwZW9mIGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSE9InVuZGVmaW5lZCImJiFjKXJldHVybiBiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoYVsxXSl9LGE9bnVsbH19KCksYy5kb2N1bWVudEVsZW1lbnQuY29udGFpbnM/bS5jb250YWlucz1mdW5jdGlvbihhLGIpe3JldHVybiBhIT09YiYmKGEuY29udGFpbnM/YS5jb250YWlucyhiKTohMCl9OmMuZG9jdW1lbnRFbGVtZW50LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uP20uY29udGFpbnM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4hIShhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpJjE2KX06bS5jb250YWlucz1mdW5jdGlvbigpe3JldHVybiExfSxtLmlzWE1MPWZ1bmN0aW9uKGEpe3ZhciBiPShhP2Eub3duZXJEb2N1bWVudHx8YTowKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIGI/Yi5ub2RlTmFtZSE9PSJIVE1MIjohMX07dmFyIHk9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU9W10sZj0iIixnPWIubm9kZVR5cGU/W2JdOmI7d2hpbGUoZD1vLm1hdGNoLlBTRVVETy5leGVjKGEpKWYrPWRbMF0sYT1hLnJlcGxhY2Uoby5tYXRjaC5QU0VVRE8sIiIpO2E9by5yZWxhdGl2ZVthXT9hKyIqIjphO2Zvcih2YXIgaD0wLGk9Zy5sZW5ndGg7aDxpO2grKyltKGEsZ1toXSxlLGMpO3JldHVybiBtLmZpbHRlcihmLGUpfTttLmF0dHI9Zi5hdHRyLG0uc2VsZWN0b3JzLmF0dHJNYXA9e30sZi5maW5kPW0sZi5leHByPW0uc2VsZWN0b3JzLGYuZXhwclsiOiJdPWYuZXhwci5maWx0ZXJzLGYudW5pcXVlPW0udW5pcXVlU29ydCxmLnRleHQ9bS5nZXRUZXh0LGYuaXNYTUxEb2M9bS5pc1hNTCxmLmNvbnRhaW5zPW0uY29udGFpbnN9KCk7dmFyIEw9L1VudGlsJC8sTT0vXig/OnBhcmVudHN8cHJldlVudGlsfHByZXZBbGwpLyxOPS8sLyxPPS9eLlteOiNcW1wuLF0qJC8sUD1BcnJheS5wcm90b3R5cGUuc2xpY2UsUT1mLmV4cHIubWF0Y2guUE9TLFI9e2NoaWxkcmVuOiEwLGNvbnRlbnRzOiEwLG5leHQ6ITAscHJldjohMH07Zi5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjLGQ7aWYodHlwZW9mIGEhPSJzdHJpbmciKXJldHVybiBmKGEpLmZpbHRlcihmdW5jdGlvbigpe2ZvcihjPTAsZD1iLmxlbmd0aDtjPGQ7YysrKWlmKGYuY29udGFpbnMoYltjXSx0aGlzKSlyZXR1cm4hMH0pO3ZhciBlPXRoaXMucHVzaFN0YWNrKCIiLCJmaW5kIixhKSxnLGgsaTtmb3IoYz0wLGQ9dGhpcy5sZW5ndGg7YzxkO2MrKyl7Zz1lLmxlbmd0aCxmLmZpbmQoYSx0aGlzW2NdLGUpO2lmKGM+MClmb3IoaD1nO2g8ZS5sZW5ndGg7aCsrKWZvcihpPTA7aTxnO2krKylpZihlW2ldPT09ZVtoXSl7ZS5zcGxpY2UoaC0tLDEpO2JyZWFrfX1yZXR1cm4gZX0saGFzOmZ1bmN0aW9uKGEpe3ZhciBiPWYoYSk7cmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYz1iLmxlbmd0aDthPGM7YSsrKWlmKGYuY29udGFpbnModGhpcyxiW2FdKSlyZXR1cm4hMH0pfSxub3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFQodGhpcyxhLCExKSwibm90IixhKX0sZmlsdGVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayhUKHRoaXMsYSwhMCksImZpbHRlciIsYSl9LGlzOmZ1bmN0aW9uKGEpe3JldHVybiEhYSYmKHR5cGVvZiBhPT0ic3RyaW5nIj9RLnRlc3QoYSk/ZihhLHRoaXMuY29udGV4dCkuaW5kZXgodGhpc1swXSk+PTA6Zi5maWx0ZXIoYSx0aGlzKS5sZW5ndGg+MDp0aGlzLmZpbHRlcihhKS5sZW5ndGg+MCl9LGNsb3Nlc3Q6ZnVuY3Rpb24oYSxiKXt2YXIgYz1bXSxkLGUsZz10aGlzWzBdO2lmKGYuaXNBcnJheShhKSl7dmFyIGg9MTt3aGlsZShnJiZnLm93bmVyRG9jdW1lbnQmJmchPT1iKXtmb3IoZD0wO2Q8YS5sZW5ndGg7ZCsrKWYoZykuaXMoYVtkXSkmJmMucHVzaCh7c2VsZWN0b3I6YVtkXSxlbGVtOmcsbGV2ZWw6aH0pO2c9Zy5wYXJlbnROb2RlLGgrK31yZXR1cm4gY312YXIgaT1RLnRlc3QoYSl8fHR5cGVvZiBhIT0ic3RyaW5nIj9mKGEsYnx8dGhpcy5jb250ZXh0KTowO2ZvcihkPTAsZT10aGlzLmxlbmd0aDtkPGU7ZCsrKXtnPXRoaXNbZF07d2hpbGUoZyl7aWYoaT9pLmluZGV4KGcpPi0xOmYuZmluZC5tYXRjaGVzU2VsZWN0b3IoZyxhKSl7Yy5wdXNoKGcpO2JyZWFrfWc9Zy5wYXJlbnROb2RlO2lmKCFnfHwhZy5vd25lckRvY3VtZW50fHxnPT09Ynx8Zy5ub2RlVHlwZT09PTExKWJyZWFrfX1jPWMubGVuZ3RoPjE/Zi51bmlxdWUoYyk6YztyZXR1cm4gdGhpcy5wdXNoU3RhY2soYywiY2xvc2VzdCIsYSl9LGluZGV4OmZ1bmN0aW9uKGEpe2lmKCFhKXJldHVybiB0aGlzWzBdJiZ0aGlzWzBdLnBhcmVudE5vZGU/dGhpcy5wcmV2QWxsKCkubGVuZ3RoOi0xO2lmKHR5cGVvZiBhPT0ic3RyaW5nIilyZXR1cm4gZi5pbkFycmF5KHRoaXNbMF0sZihhKSk7cmV0dXJuIGYuaW5BcnJheShhLmpxdWVyeT9hWzBdOmEsdGhpcyl9LGFkZDpmdW5jdGlvbihhLGIpe3ZhciBjPXR5cGVvZiBhPT0ic3RyaW5nIj9mKGEsYik6Zi5tYWtlQXJyYXkoYSYmYS5ub2RlVHlwZT9bYV06YSksZD1mLm1lcmdlKHRoaXMuZ2V0KCksYyk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMoY1swXSl8fFMoZFswXSk/ZDpmLnVuaXF1ZShkKSl9LGFuZFNlbGY6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZGQodGhpcy5wcmV2T2JqZWN0KX19KSxmLmVhY2goe3BhcmVudDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJmIubm9kZVR5cGUhPT0xMT9iOm51bGx9LHBhcmVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIGYuZGlyKGEsInBhcmVudE5vZGUiKX0scGFyZW50c1VudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZi5kaXIoYSwicGFyZW50Tm9kZSIsYyl9LG5leHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGYubnRoKGEsMiwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihhKXtyZXR1cm4gZi5udGgoYSwyLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihhKXtyZXR1cm4gZi5kaXIoYSwibmV4dFNpYmxpbmciKX0scHJldkFsbDpmdW5jdGlvbihhKXtyZXR1cm4gZi5kaXIoYSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGYuZGlyKGEsIm5leHRTaWJsaW5nIixjKX0scHJldlVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZi5kaXIoYSwicHJldmlvdXNTaWJsaW5nIixjKX0sc2libGluZ3M6ZnVuY3Rpb24oYSl7cmV0dXJuIGYuc2libGluZyhhLnBhcmVudE5vZGUuZmlyc3RDaGlsZCxhKX0sY2hpbGRyZW46ZnVuY3Rpb24oYSl7cmV0dXJuIGYuc2libGluZyhhLmZpcnN0Q2hpbGQpfSxjb250ZW50czpmdW5jdGlvbihhKXtyZXR1cm4gZi5ub2RlTmFtZShhLCJpZnJhbWUiKT9hLmNvbnRlbnREb2N1bWVudHx8YS5jb250ZW50V2luZG93LmRvY3VtZW50OmYubWFrZUFycmF5KGEuY2hpbGROb2Rlcyl9fSxmdW5jdGlvbihhLGIpe2YuZm5bYV09ZnVuY3Rpb24oYyxkKXt2YXIgZT1mLm1hcCh0aGlzLGIsYyk7TC50ZXN0KGEpfHwoZD1jKSxkJiZ0eXBlb2YgZD09InN0cmluZyImJihlPWYuZmlsdGVyKGQsZSkpLGU9dGhpcy5sZW5ndGg+MSYmIVJbYV0/Zi51bmlxdWUoZSk6ZSwodGhpcy5sZW5ndGg+MXx8Ti50ZXN0KGQpKSYmTS50ZXN0KGEpJiYoZT1lLnJldmVyc2UoKSk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGUsYSxQLmNhbGwoYXJndW1lbnRzKS5qb2luKCIsIikpfX0pLGYuZXh0ZW5kKHtmaWx0ZXI6ZnVuY3Rpb24oYSxiLGMpe2MmJihhPSI6bm90KCIrYSsiKSIpO3JldHVybiBiLmxlbmd0aD09PTE/Zi5maW5kLm1hdGNoZXNTZWxlY3RvcihiWzBdLGEpP1tiWzBdXTpbXTpmLmZpbmQubWF0Y2hlcyhhLGIpfSxkaXI6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPVtdLGc9YVtjXTt3aGlsZShnJiZnLm5vZGVUeXBlIT09OSYmKGQ9PT1ifHxnLm5vZGVUeXBlIT09MXx8IWYoZykuaXMoZCkpKWcubm9kZVR5cGU9PT0xJiZlLnB1c2goZyksZz1nW2NdO3JldHVybiBlfSxudGg6ZnVuY3Rpb24oYSxiLGMsZCl7Yj1ifHwxO3ZhciBlPTA7Zm9yKDthO2E9YVtjXSlpZihhLm5vZGVUeXBlPT09MSYmKytlPT09YilicmVhaztyZXR1cm4gYX0sc2libGluZzpmdW5jdGlvbihhLGIpe3ZhciBjPVtdO2Zvcig7YTthPWEubmV4dFNpYmxpbmcpYS5ub2RlVHlwZT09PTEmJmEhPT1iJiZjLnB1c2goYSk7cmV0dXJuIGN9fSk7dmFyIFY9ImFiYnJ8YXJ0aWNsZXxhc2lkZXxhdWRpb3xjYW52YXN8ZGF0YWxpc3R8ZGV0YWlsc3xmaWdjYXB0aW9ufGZpZ3VyZXxmb290ZXJ8aGVhZGVyfGhncm91cHxtYXJrfG1ldGVyfG5hdnxvdXRwdXR8cHJvZ3Jlc3N8c2VjdGlvbnxzdW1tYXJ5fHRpbWV8dmlkZW8iLFc9LyBqUXVlcnlcZCs9Iig/OlxkK3xudWxsKSIvZyxYPS9eXHMrLyxZPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcdzpdKylbXj5dKilcLz4vaWcsWj0vPChbXHc6XSspLywkPS88dGJvZHkvaSxfPS88fCYjP1x3KzsvLGJhPS88KD86c2NyaXB0fHN0eWxlKS9pLGJiPS88KD86c2NyaXB0fG9iamVjdHxlbWJlZHxvcHRpb258c3R5bGUpL2ksYmM9bmV3IFJlZ0V4cCgiPCg/OiIrVisiKSIsImkiKSxiZD0vY2hlY2tlZFxzKig/OltePV18PVxzKi5jaGVja2VkLikvaSxiZT0vXC8oamF2YXxlY21hKXNjcmlwdC9pLGJmPS9eXHMqPCEoPzpcW0NEQVRBXFt8XC1cLSkvLGJnPXtvcHRpb246WzEsIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz4iLCI8L3NlbGVjdD4iXSxsZWdlbmQ6WzEsIjxmaWVsZHNldD4iLCI8L2ZpZWxkc2V0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSx0cjpbMiwiPHRhYmxlPjx0Ym9keT4iLCI8L3Rib2R5PjwvdGFibGU+Il0sdGQ6WzMsIjx0YWJsZT48dGJvZHk+PHRyPiIsIjwvdHI+PC90Ym9keT48L3RhYmxlPiJdLGNvbDpbMiwiPHRhYmxlPjx0Ym9keT48L3Rib2R5Pjxjb2xncm91cD4iLCI8L2NvbGdyb3VwPjwvdGFibGU+Il0sYXJlYTpbMSwiPG1hcD4iLCI8L21hcD4iXSxfZGVmYXVsdDpbMCwiIiwiIl19LGJoPVUoYyk7Ymcub3B0Z3JvdXA9Ymcub3B0aW9uLGJnLnRib2R5PWJnLnRmb290PWJnLmNvbGdyb3VwPWJnLmNhcHRpb249YmcudGhlYWQsYmcudGg9YmcudGQsZi5zdXBwb3J0Lmh0bWxTZXJpYWxpemV8fChiZy5fZGVmYXVsdD1bMSwiZGl2PGRpdj4iLCI8L2Rpdj4iXSksZi5mbi5leHRlbmQoe3RleHQ6ZnVuY3Rpb24oYSl7aWYoZi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7dmFyIGM9Zih0aGlzKTtjLnRleHQoYS5jYWxsKHRoaXMsYixjLnRleHQoKSkpfSk7aWYodHlwZW9mIGEhPSJvYmplY3QiJiZhIT09YilyZXR1cm4gdGhpcy5lbXB0eSgpLmFwcGVuZCgodGhpc1swXSYmdGhpc1swXS5vd25lckRvY3VtZW50fHxjKS5jcmVhdGVUZXh0Tm9kZShhKSk7cmV0dXJuIGYudGV4dCh0aGlzKX0sd3JhcEFsbDpmdW5jdGlvbihhKXtpZihmLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtmKHRoaXMpLndyYXBBbGwoYS5jYWxsKHRoaXMsYikpfSk7aWYodGhpc1swXSl7dmFyIGI9ZihhLHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUoITApO3RoaXNbMF0ucGFyZW50Tm9kZSYmYi5pbnNlcnRCZWZvcmUodGhpc1swXSksYi5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzO3doaWxlKGEuZmlyc3RDaGlsZCYmYS5maXJzdENoaWxkLm5vZGVUeXBlPT09MSlhPWEuZmlyc3RDaGlsZDtyZXR1cm4gYX0pLmFwcGVuZCh0aGlzKX1yZXR1cm4gdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKGEpe2lmKGYuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe2YodGhpcykud3JhcElubmVyKGEuY2FsbCh0aGlzLGIpKX0pO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1mKHRoaXMpLGM9Yi5jb250ZW50cygpO2MubGVuZ3RoP2Mud3JhcEFsbChhKTpiLmFwcGVuZChhKX0pfSx3cmFwOmZ1bmN0aW9uKGEpe3ZhciBiPWYuaXNGdW5jdGlvbihhKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe2YodGhpcykud3JhcEFsbChiP2EuY2FsbCh0aGlzLGMpOmEpfSl9LHVud3JhcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudCgpLmVhY2goZnVuY3Rpb24oKXtmLm5vZGVOYW1lKHRoaXMsImJvZHkiKXx8Zih0aGlzKS5yZXBsYWNlV2l0aCh0aGlzLmNoaWxkTm9kZXMpfSkuZW5kKCl9LGFwcGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cywhMCxmdW5jdGlvbihhKXt0aGlzLm5vZGVUeXBlPT09MSYmdGhpcy5hcHBlbmRDaGlsZChhKX0pfSxwcmVwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLCEwLGZ1bmN0aW9uKGEpe3RoaXMubm9kZVR5cGU9PT0xJiZ0aGlzLmluc2VydEJlZm9yZShhLHRoaXMuZmlyc3RDaGlsZCl9KX0sYmVmb3JlOmZ1bmN0aW9uKCl7aWYodGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlKXJldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cywhMSxmdW5jdGlvbihhKXt0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcyl9KTtpZihhcmd1bWVudHMubGVuZ3RoKXt2YXIgYT1mLmNsZWFuKGFyZ3VtZW50cyk7YS5wdXNoLmFwcGx5KGEsdGhpcy50b0FycmF5KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhhLCJiZWZvcmUiLGFyZ3VtZW50cyl9fSxhZnRlcjpmdW5jdGlvbigpe2lmKHRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZSlyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsITEsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMubmV4dFNpYmxpbmcpfSk7aWYoYXJndW1lbnRzLmxlbmd0aCl7dmFyIGE9dGhpcy5wdXNoU3RhY2sodGhpcywiYWZ0ZXIiLGFyZ3VtZW50cyk7YS5wdXNoLmFwcGx5KGEsZi5jbGVhbihhcmd1bWVudHMpKTtyZXR1cm4gYX19LHJlbW92ZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wLGQ7KGQ9dGhpc1tjXSkhPW51bGw7YysrKWlmKCFhfHxmLmZpbHRlcihhLFtkXSkubGVuZ3RoKSFiJiZkLm5vZGVUeXBlPT09MSYmKGYuY2xlYW5EYXRhKGQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSksZi5jbGVhbkRhdGEoW2RdKSksZC5wYXJlbnROb2RlJiZkLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZCk7cmV0dXJuIHRoaXN9LGVtcHR5OmZ1bmN0aW9uKCkKe2Zvcih2YXIgYT0wLGI7KGI9dGhpc1thXSkhPW51bGw7YSsrKXtiLm5vZGVUeXBlPT09MSYmZi5jbGVhbkRhdGEoYi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpKTt3aGlsZShiLmZpcnN0Q2hpbGQpYi5yZW1vdmVDaGlsZChiLmZpcnN0Q2hpbGQpfXJldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihhLGIpe2E9YT09bnVsbD8hMTphLGI9Yj09bnVsbD9hOmI7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGYuY2xvbmUodGhpcyxhLGIpfSl9LGh0bWw6ZnVuY3Rpb24oYSl7aWYoYT09PWIpcmV0dXJuIHRoaXNbMF0mJnRoaXNbMF0ubm9kZVR5cGU9PT0xP3RoaXNbMF0uaW5uZXJIVE1MLnJlcGxhY2UoVywiIik6bnVsbDtpZih0eXBlb2YgYT09InN0cmluZyImJiFiYS50ZXN0KGEpJiYoZi5zdXBwb3J0LmxlYWRpbmdXaGl0ZXNwYWNlfHwhWC50ZXN0KGEpKSYmIWJnWyhaLmV4ZWMoYSl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCldKXthPWEucmVwbGFjZShZLCI8JDE+PC8kMj4iKTt0cnl7Zm9yKHZhciBjPTAsZD10aGlzLmxlbmd0aDtjPGQ7YysrKXRoaXNbY10ubm9kZVR5cGU9PT0xJiYoZi5jbGVhbkRhdGEodGhpc1tjXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpKSx0aGlzW2NdLmlubmVySFRNTD1hKX1jYXRjaChlKXt0aGlzLmVtcHR5KCkuYXBwZW5kKGEpfX1lbHNlIGYuaXNGdW5jdGlvbihhKT90aGlzLmVhY2goZnVuY3Rpb24oYil7dmFyIGM9Zih0aGlzKTtjLmh0bWwoYS5jYWxsKHRoaXMsYixjLmh0bWwoKSkpfSk6dGhpcy5lbXB0eSgpLmFwcGVuZChhKTtyZXR1cm4gdGhpc30scmVwbGFjZVdpdGg6ZnVuY3Rpb24oYSl7aWYodGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlKXtpZihmLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXt2YXIgYz1mKHRoaXMpLGQ9Yy5odG1sKCk7Yy5yZXBsYWNlV2l0aChhLmNhbGwodGhpcyxiLGQpKX0pO3R5cGVvZiBhIT0ic3RyaW5nIiYmKGE9ZihhKS5kZXRhY2goKSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPXRoaXMubmV4dFNpYmxpbmcsYz10aGlzLnBhcmVudE5vZGU7Zih0aGlzKS5yZW1vdmUoKSxiP2YoYikuYmVmb3JlKGEpOmYoYykuYXBwZW5kKGEpfSl9cmV0dXJuIHRoaXMubGVuZ3RoP3RoaXMucHVzaFN0YWNrKGYoZi5pc0Z1bmN0aW9uKGEpP2EoKTphKSwicmVwbGFjZVdpdGgiLGEpOnRoaXN9LGRldGFjaDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yZW1vdmUoYSwhMCl9LGRvbU1hbmlwOmZ1bmN0aW9uKGEsYyxkKXt2YXIgZSxnLGgsaSxqPWFbMF0saz1bXTtpZighZi5zdXBwb3J0LmNoZWNrQ2xvbmUmJmFyZ3VtZW50cy5sZW5ndGg9PT0zJiZ0eXBlb2Ygaj09InN0cmluZyImJmJkLnRlc3QoaikpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2YodGhpcykuZG9tTWFuaXAoYSxjLGQsITApfSk7aWYoZi5pc0Z1bmN0aW9uKGopKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oZSl7dmFyIGc9Zih0aGlzKTthWzBdPWouY2FsbCh0aGlzLGUsYz9nLmh0bWwoKTpiKSxnLmRvbU1hbmlwKGEsYyxkKX0pO2lmKHRoaXNbMF0pe2k9aiYmai5wYXJlbnROb2RlLGYuc3VwcG9ydC5wYXJlbnROb2RlJiZpJiZpLm5vZGVUeXBlPT09MTEmJmkuY2hpbGROb2Rlcy5sZW5ndGg9PT10aGlzLmxlbmd0aD9lPXtmcmFnbWVudDppfTplPWYuYnVpbGRGcmFnbWVudChhLHRoaXMsayksaD1lLmZyYWdtZW50LGguY2hpbGROb2Rlcy5sZW5ndGg9PT0xP2c9aD1oLmZpcnN0Q2hpbGQ6Zz1oLmZpcnN0Q2hpbGQ7aWYoZyl7Yz1jJiZmLm5vZGVOYW1lKGcsInRyIik7Zm9yKHZhciBsPTAsbT10aGlzLmxlbmd0aCxuPW0tMTtsPG07bCsrKWQuY2FsbChjP2JpKHRoaXNbbF0sZyk6dGhpc1tsXSxlLmNhY2hlYWJsZXx8bT4xJiZsPG4/Zi5jbG9uZShoLCEwLCEwKTpoKX1rLmxlbmd0aCYmZi5lYWNoKGssYnApfXJldHVybiB0aGlzfX0pLGYuYnVpbGRGcmFnbWVudD1mdW5jdGlvbihhLGIsZCl7dmFyIGUsZyxoLGksaj1hWzBdO2ImJmJbMF0mJihpPWJbMF0ub3duZXJEb2N1bWVudHx8YlswXSksaS5jcmVhdGVEb2N1bWVudEZyYWdtZW50fHwoaT1jKSxhLmxlbmd0aD09PTEmJnR5cGVvZiBqPT0ic3RyaW5nIiYmai5sZW5ndGg8NTEyJiZpPT09YyYmai5jaGFyQXQoMCk9PT0iPCImJiFiYi50ZXN0KGopJiYoZi5zdXBwb3J0LmNoZWNrQ2xvbmV8fCFiZC50ZXN0KGopKSYmKGYuc3VwcG9ydC5odG1sNUNsb25lfHwhYmMudGVzdChqKSkmJihnPSEwLGg9Zi5mcmFnbWVudHNbal0saCYmaCE9PTEmJihlPWgpKSxlfHwoZT1pLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxmLmNsZWFuKGEsaSxlLGQpKSxnJiYoZi5mcmFnbWVudHNbal09aD9lOjEpO3JldHVybntmcmFnbWVudDplLGNhY2hlYWJsZTpnfX0sZi5mcmFnbWVudHM9e30sZi5lYWNoKHthcHBlbmRUbzoiYXBwZW5kIixwcmVwZW5kVG86InByZXBlbmQiLGluc2VydEJlZm9yZToiYmVmb3JlIixpbnNlcnRBZnRlcjoiYWZ0ZXIiLHJlcGxhY2VBbGw6InJlcGxhY2VXaXRoIn0sZnVuY3Rpb24oYSxiKXtmLmZuW2FdPWZ1bmN0aW9uKGMpe3ZhciBkPVtdLGU9ZihjKSxnPXRoaXMubGVuZ3RoPT09MSYmdGhpc1swXS5wYXJlbnROb2RlO2lmKGcmJmcubm9kZVR5cGU9PT0xMSYmZy5jaGlsZE5vZGVzLmxlbmd0aD09PTEmJmUubGVuZ3RoPT09MSl7ZVtiXSh0aGlzWzBdKTtyZXR1cm4gdGhpc31mb3IodmFyIGg9MCxpPWUubGVuZ3RoO2g8aTtoKyspe3ZhciBqPShoPjA/dGhpcy5jbG9uZSghMCk6dGhpcykuZ2V0KCk7ZihlW2hdKVtiXShqKSxkPWQuY29uY2F0KGopfXJldHVybiB0aGlzLnB1c2hTdGFjayhkLGEsZS5zZWxlY3Rvcil9fSksZi5leHRlbmQoe2Nsb25lOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGcsaD1mLnN1cHBvcnQuaHRtbDVDbG9uZXx8IWJjLnRlc3QoIjwiK2Eubm9kZU5hbWUpP2EuY2xvbmVOb2RlKCEwKTpibyhhKTtpZigoIWYuc3VwcG9ydC5ub0Nsb25lRXZlbnR8fCFmLnN1cHBvcnQubm9DbG9uZUNoZWNrZWQpJiYoYS5ub2RlVHlwZT09PTF8fGEubm9kZVR5cGU9PT0xMSkmJiFmLmlzWE1MRG9jKGEpKXtiayhhLGgpLGQ9YmwoYSksZT1ibChoKTtmb3IoZz0wO2RbZ107KytnKWVbZ10mJmJrKGRbZ10sZVtnXSl9aWYoYil7YmooYSxoKTtpZihjKXtkPWJsKGEpLGU9YmwoaCk7Zm9yKGc9MDtkW2ddOysrZyliaihkW2ddLGVbZ10pfX1kPWU9bnVsbDtyZXR1cm4gaH0sY2xlYW46ZnVuY3Rpb24oYSxiLGQsZSl7dmFyIGc7Yj1ifHxjLHR5cGVvZiBiLmNyZWF0ZUVsZW1lbnQ9PSJ1bmRlZmluZWQiJiYoYj1iLm93bmVyRG9jdW1lbnR8fGJbMF0mJmJbMF0ub3duZXJEb2N1bWVudHx8Yyk7dmFyIGg9W10saTtmb3IodmFyIGo9MCxrOyhrPWFbal0pIT1udWxsO2orKyl7dHlwZW9mIGs9PSJudW1iZXIiJiYoays9IiIpO2lmKCFrKWNvbnRpbnVlO2lmKHR5cGVvZiBrPT0ic3RyaW5nIilpZighXy50ZXN0KGspKWs9Yi5jcmVhdGVUZXh0Tm9kZShrKTtlbHNle2s9ay5yZXBsYWNlKFksIjwkMT48LyQyPiIpO3ZhciBsPShaLmV4ZWMoayl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCksbT1iZ1tsXXx8YmcuX2RlZmF1bHQsbj1tWzBdLG89Yi5jcmVhdGVFbGVtZW50KCJkaXYiKTtiPT09Yz9iaC5hcHBlbmRDaGlsZChvKTpVKGIpLmFwcGVuZENoaWxkKG8pLG8uaW5uZXJIVE1MPW1bMV0rayttWzJdO3doaWxlKG4tLSlvPW8ubGFzdENoaWxkO2lmKCFmLnN1cHBvcnQudGJvZHkpe3ZhciBwPSQudGVzdChrKSxxPWw9PT0idGFibGUiJiYhcD9vLmZpcnN0Q2hpbGQmJm8uZmlyc3RDaGlsZC5jaGlsZE5vZGVzOm1bMV09PT0iPHRhYmxlPiImJiFwP28uY2hpbGROb2RlczpbXTtmb3IoaT1xLmxlbmd0aC0xO2k+PTA7LS1pKWYubm9kZU5hbWUocVtpXSwidGJvZHkiKSYmIXFbaV0uY2hpbGROb2Rlcy5sZW5ndGgmJnFbaV0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChxW2ldKX0hZi5zdXBwb3J0LmxlYWRpbmdXaGl0ZXNwYWNlJiZYLnRlc3QoaykmJm8uaW5zZXJ0QmVmb3JlKGIuY3JlYXRlVGV4dE5vZGUoWC5leGVjKGspWzBdKSxvLmZpcnN0Q2hpbGQpLGs9by5jaGlsZE5vZGVzfXZhciByO2lmKCFmLnN1cHBvcnQuYXBwZW5kQ2hlY2tlZClpZihrWzBdJiZ0eXBlb2YgKHI9ay5sZW5ndGgpPT0ibnVtYmVyIilmb3IoaT0wO2k8cjtpKyspYm4oa1tpXSk7ZWxzZSBibihrKTtrLm5vZGVUeXBlP2gucHVzaChrKTpoPWYubWVyZ2UoaCxrKX1pZihkKXtnPWZ1bmN0aW9uKGEpe3JldHVybiFhLnR5cGV8fGJlLnRlc3QoYS50eXBlKX07Zm9yKGo9MDtoW2pdO2orKylpZihlJiZmLm5vZGVOYW1lKGhbal0sInNjcmlwdCIpJiYoIWhbal0udHlwZXx8aFtqXS50eXBlLnRvTG93ZXJDYXNlKCk9PT0idGV4dC9qYXZhc2NyaXB0IikpZS5wdXNoKGhbal0ucGFyZW50Tm9kZT9oW2pdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaFtqXSk6aFtqXSk7ZWxzZXtpZihoW2pdLm5vZGVUeXBlPT09MSl7dmFyIHM9Zi5ncmVwKGhbal0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpLGcpO2guc3BsaWNlLmFwcGx5KGgsW2orMSwwXS5jb25jYXQocykpfWQuYXBwZW5kQ2hpbGQoaFtqXSl9fXJldHVybiBofSxjbGVhbkRhdGE6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPWYuY2FjaGUsZT1mLmV2ZW50LnNwZWNpYWwsZz1mLnN1cHBvcnQuZGVsZXRlRXhwYW5kbztmb3IodmFyIGg9MCxpOyhpPWFbaF0pIT1udWxsO2grKyl7aWYoaS5ub2RlTmFtZSYmZi5ub0RhdGFbaS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSljb250aW51ZTtjPWlbZi5leHBhbmRvXTtpZihjKXtiPWRbY107aWYoYiYmYi5ldmVudHMpe2Zvcih2YXIgaiBpbiBiLmV2ZW50cyllW2pdP2YuZXZlbnQucmVtb3ZlKGksaik6Zi5yZW1vdmVFdmVudChpLGosYi5oYW5kbGUpO2IuaGFuZGxlJiYoYi5oYW5kbGUuZWxlbT1udWxsKX1nP2RlbGV0ZSBpW2YuZXhwYW5kb106aS5yZW1vdmVBdHRyaWJ1dGUmJmkucmVtb3ZlQXR0cmlidXRlKGYuZXhwYW5kbyksZGVsZXRlIGRbY119fX19KTt2YXIgYnE9L2FscGhhXChbXildKlwpL2ksYnI9L29wYWNpdHk9KFteKV0qKS8sYnM9LyhbQS1aXXxebXMpL2csYnQ9L14tP1xkKyg/OnB4KT8kL2ksYnU9L14tP1xkLyxidj0vXihbXC0rXSk9KFtcLSsuXGRlXSspLyxidz17cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJoaWRkZW4iLGRpc3BsYXk6ImJsb2NrIn0sYng9WyJMZWZ0IiwiUmlnaHQiXSxieT1bIlRvcCIsIkJvdHRvbSJdLGJ6LGJBLGJCO2YuZm4uY3NzPWZ1bmN0aW9uKGEsYyl7aWYoYXJndW1lbnRzLmxlbmd0aD09PTImJmM9PT1iKXJldHVybiB0aGlzO3JldHVybiBmLmFjY2Vzcyh0aGlzLGEsYywhMCxmdW5jdGlvbihhLGMsZCl7cmV0dXJuIGQhPT1iP2Yuc3R5bGUoYSxjLGQpOmYuY3NzKGEsYyl9KX0sZi5leHRlbmQoe2Nzc0hvb2tzOntvcGFjaXR5OntnZXQ6ZnVuY3Rpb24oYSxiKXtpZihiKXt2YXIgYz1ieihhLCJvcGFjaXR5Iiwib3BhY2l0eSIpO3JldHVybiBjPT09IiI/IjEiOmN9cmV0dXJuIGEuc3R5bGUub3BhY2l0eX19fSxjc3NOdW1iZXI6e2ZpbGxPcGFjaXR5OiEwLGZvbnRXZWlnaHQ6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9ycGhhbnM6ITAsd2lkb3dzOiEwLHpJbmRleDohMCx6b29tOiEwfSxjc3NQcm9wczp7ImZsb2F0IjpmLnN1cHBvcnQuY3NzRmxvYXQ/ImNzc0Zsb2F0Ijoic3R5bGVGbG9hdCJ9LHN0eWxlOmZ1bmN0aW9uKGEsYyxkLGUpe2lmKCEhYSYmYS5ub2RlVHlwZSE9PTMmJmEubm9kZVR5cGUhPT04JiYhIWEuc3R5bGUpe3ZhciBnLGgsaT1mLmNhbWVsQ2FzZShjKSxqPWEuc3R5bGUsaz1mLmNzc0hvb2tzW2ldO2M9Zi5jc3NQcm9wc1tpXXx8aTtpZihkPT09Yil7aWYoayYmImdldCJpbiBrJiYoZz1rLmdldChhLCExLGUpKSE9PWIpcmV0dXJuIGc7cmV0dXJuIGpbY119aD10eXBlb2YgZCxoPT09InN0cmluZyImJihnPWJ2LmV4ZWMoZCkpJiYoZD0rKGdbMV0rMSkqK2dbMl0rcGFyc2VGbG9hdChmLmNzcyhhLGMpKSxoPSJudW1iZXIiKTtpZihkPT1udWxsfHxoPT09Im51bWJlciImJmlzTmFOKGQpKXJldHVybjtoPT09Im51bWJlciImJiFmLmNzc051bWJlcltpXSYmKGQrPSJweCIpO2lmKCFrfHwhKCJzZXQiaW4gayl8fChkPWsuc2V0KGEsZCkpIT09Yil0cnl7altjXT1kfWNhdGNoKGwpe319fSxjc3M6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlLGc7Yz1mLmNhbWVsQ2FzZShjKSxnPWYuY3NzSG9va3NbY10sYz1mLmNzc1Byb3BzW2NdfHxjLGM9PT0iY3NzRmxvYXQiJiYoYz0iZmxvYXQiKTtpZihnJiYiZ2V0ImluIGcmJihlPWcuZ2V0KGEsITAsZCkpIT09YilyZXR1cm4gZTtpZihieilyZXR1cm4gYnooYSxjKX0sc3dhcDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9e307Zm9yKHZhciBlIGluIGIpZFtlXT1hLnN0eWxlW2VdLGEuc3R5bGVbZV09YltlXTtjLmNhbGwoYSk7Zm9yKGUgaW4gYilhLnN0eWxlW2VdPWRbZV19fSksZi5jdXJDU1M9Zi5jc3MsZi5lYWNoKFsiaGVpZ2h0Iiwid2lkdGgiXSxmdW5jdGlvbihhLGIpe2YuY3NzSG9va3NbYl09e2dldDpmdW5jdGlvbihhLGMsZCl7dmFyIGU7aWYoYyl7aWYoYS5vZmZzZXRXaWR0aCE9PTApcmV0dXJuIGJDKGEsYixkKTtmLnN3YXAoYSxidyxmdW5jdGlvbigpe2U9YkMoYSxiLGQpfSk7cmV0dXJuIGV9fSxzZXQ6ZnVuY3Rpb24oYSxiKXtpZighYnQudGVzdChiKSlyZXR1cm4gYjtiPXBhcnNlRmxvYXQoYik7aWYoYj49MClyZXR1cm4gYisicHgifX19KSxmLnN1cHBvcnQub3BhY2l0eXx8KGYuY3NzSG9va3Mub3BhY2l0eT17Z2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGJyLnRlc3QoKGImJmEuY3VycmVudFN0eWxlP2EuY3VycmVudFN0eWxlLmZpbHRlcjphLnN0eWxlLmZpbHRlcil8fCIiKT9wYXJzZUZsb2F0KFJlZ0V4cC4kMSkvMTAwKyIiOmI/IjEiOiIifSxzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnN0eWxlLGQ9YS5jdXJyZW50U3R5bGUsZT1mLmlzTnVtZXJpYyhiKT8iYWxwaGEob3BhY2l0eT0iK2IqMTAwKyIpIjoiIixnPWQmJmQuZmlsdGVyfHxjLmZpbHRlcnx8IiI7Yy56b29tPTE7aWYoYj49MSYmZi50cmltKGcucmVwbGFjZShicSwiIikpPT09IiIpe2MucmVtb3ZlQXR0cmlidXRlKCJmaWx0ZXIiKTtpZihkJiYhZC5maWx0ZXIpcmV0dXJufWMuZmlsdGVyPWJxLnRlc3QoZyk/Zy5yZXBsYWNlKGJxLGUpOmcrIiAiK2V9fSksZihmdW5jdGlvbigpe2Yuc3VwcG9ydC5yZWxpYWJsZU1hcmdpblJpZ2h0fHwoZi5jc3NIb29rcy5tYXJnaW5SaWdodD17Z2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM7Zi5zd2FwKGEse2Rpc3BsYXk6ImlubGluZS1ibG9jayJ9LGZ1bmN0aW9uKCl7Yj9jPWJ6KGEsIm1hcmdpbi1yaWdodCIsIm1hcmdpblJpZ2h0Iik6Yz1hLnN0eWxlLm1hcmdpblJpZ2h0fSk7cmV0dXJuIGN9fSl9KSxjLmRlZmF1bHRWaWV3JiZjLmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUmJihiQT1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZTtiPWIucmVwbGFjZShicywiLSQxIikudG9Mb3dlckNhc2UoKSwoZD1hLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpJiYoZT1kLmdldENvbXB1dGVkU3R5bGUoYSxudWxsKSkmJihjPWUuZ2V0UHJvcGVydHlWYWx1ZShiKSxjPT09IiImJiFmLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsYSkmJihjPWYuc3R5bGUoYSxiKSkpO3JldHVybiBjfSksYy5kb2N1bWVudEVsZW1lbnQuY3VycmVudFN0eWxlJiYoYkI9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZj1hLmN1cnJlbnRTdHlsZSYmYS5jdXJyZW50U3R5bGVbYl0sZz1hLnN0eWxlO2Y9PT1udWxsJiZnJiYoZT1nW2JdKSYmKGY9ZSksIWJ0LnRlc3QoZikmJmJ1LnRlc3QoZikmJihjPWcubGVmdCxkPWEucnVudGltZVN0eWxlJiZhLnJ1bnRpbWVTdHlsZS5sZWZ0LGQmJihhLnJ1bnRpbWVTdHlsZS5sZWZ0PWEuY3VycmVudFN0eWxlLmxlZnQpLGcubGVmdD1iPT09ImZvbnRTaXplIj8iMWVtIjpmfHwwLGY9Zy5waXhlbExlZnQrInB4IixnLmxlZnQ9YyxkJiYoYS5ydW50aW1lU3R5bGUubGVmdD1kKSk7cmV0dXJuIGY9PT0iIj8iYXV0byI6Zn0pLGJ6PWJBfHxiQixmLmV4cHImJmYuZXhwci5maWx0ZXJzJiYoZi5leHByLmZpbHRlcnMuaGlkZGVuPWZ1bmN0aW9uKGEpe3ZhciBiPWEub2Zmc2V0V2lkdGgsYz1hLm9mZnNldEhlaWdodDtyZXR1cm4gYj09PTAmJmM9PT0wfHwhZi5zdXBwb3J0LnJlbGlhYmxlSGlkZGVuT2Zmc2V0cyYmKGEuc3R5bGUmJmEuc3R5bGUuZGlzcGxheXx8Zi5jc3MoYSwiZGlzcGxheSIpKT09PSJub25lIn0sZi5leHByLmZpbHRlcnMudmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4hZi5leHByLmZpbHRlcnMuaGlkZGVuKGEpfSk7dmFyIGJEPS8lMjAvZyxiRT0vXFtcXSQvLGJGPS9ccj9cbi9nLGJHPS8jLiokLyxiSD0vXiguKj8pOlsgXHRdKihbXlxyXG5dKilccj8kL21nLGJJPS9eKD86Y29sb3J8ZGF0ZXxkYXRldGltZXxkYXRldGltZS1sb2NhbHxlbWFpbHxoaWRkZW58bW9udGh8bnVtYmVyfHBhc3N3b3JkfHJhbmdlfHNlYXJjaHx0ZWx8dGV4dHx0aW1lfHVybHx3ZWVrKSQvaSxiSj0vXig/OmFib3V0fGFwcHxhcHBcLXN0b3JhZ2V8LitcLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLGJLPS9eKD86R0VUfEhFQUQpJC8sYkw9L15cL1wvLyxiTT0vXD8vLGJOPS88c2NyaXB0XGJbXjxdKig/Oig/ITxcL3NjcmlwdD4pPFtePF0qKSo8XC9zY3JpcHQ+L2dpLGJPPS9eKD86c2VsZWN0fHRleHRhcmVhKS9pLGJQPS9ccysvLGJRPS8oWz8mXSlfPVteJl0qLyxiUj0vXihbXHdcK1wuXC1dKzopKD86XC9cLyhbXlwvPyM6XSopKD86OihcZCspKT8pPy8sYlM9Zi5mbi5sb2FkLGJUPXt9LGJVPXt9LGJWLGJXLGJYPVsiKi8iXStbIioiXTt0cnl7YlY9ZS5ocmVmfWNhdGNoKGJZKXtiVj1jLmNyZWF0ZUVsZW1lbnQoImEiKSxiVi5ocmVmPSIiLGJWPWJWLmhyZWZ9Ylc9YlIuZXhlYyhiVi50b0xvd2VyQ2FzZSgpKXx8W10sZi5mbi5leHRlbmQoe2xvYWQ6ZnVuY3Rpb24oYSxjLGQpe2lmKHR5cGVvZiBhIT0ic3RyaW5nIiYmYlMpcmV0dXJuIGJTLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZighdGhpcy5sZW5ndGgpcmV0dXJuIHRoaXM7dmFyIGU9YS5pbmRleE9mKCIgIik7aWYoZT49MCl7dmFyIGc9YS5zbGljZShlLGEubGVuZ3RoKTthPWEuc2xpY2UoMCxlKX12YXIgaD0iR0VUIjtjJiYoZi5pc0Z1bmN0aW9uKGMpPyhkPWMsYz1iKTp0eXBlb2YgYz09Im9iamVjdCImJihjPWYucGFyYW0oYyxmLmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbCksaD0iUE9TVCIpKTt2YXIgaT10aGlzO2YuYWpheCh7dXJsOmEsdHlwZTpoLGRhdGFUeXBlOiJodG1sIixkYXRhOmMsY29tcGxldGU6ZnVuY3Rpb24oYSxiLGMpe2M9YS5yZXNwb25zZVRleHQsYS5pc1Jlc29sdmVkKCkmJihhLmRvbmUoZnVuY3Rpb24oYSl7Yz1hfSksaS5odG1sKGc/ZigiPGRpdj4iKS5hcHBlbmQoYy5yZXBsYWNlKGJOLCIiKSkuZmluZChnKTpjKSksZCYmaS5lYWNoKGQsW2MsYixhXSl9fSk7cmV0dXJuIHRoaXN9LHNlcmlhbGl6ZTpmdW5jdGlvbigpe3JldHVybiBmLnBhcmFtKHRoaXMuc2VyaWFsaXplQXJyYXkoKSl9LHNlcmlhbGl6ZUFycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudHM/Zi5tYWtlQXJyYXkodGhpcy5lbGVtZW50cyk6dGhpc30pLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWUmJiF0aGlzLmRpc2FibGVkJiYodGhpcy5jaGVja2VkfHxiTy50ZXN0KHRoaXMubm9kZU5hbWUpfHxiSS50ZXN0KHRoaXMudHlwZSkpfSkubWFwKGZ1bmN0aW9uKGEsYil7dmFyIGM9Zih0aGlzKS52YWwoKTtyZXR1cm4gYz09bnVsbD9udWxsOmYuaXNBcnJheShjKT9mLm1hcChjLGZ1bmN0aW9uKGEsYyl7cmV0dXJue25hbWU6Yi5uYW1lLHZhbHVlOmEucmVwbGFjZShiRiwiXHJcbiIpfX0pOntuYW1lOmIubmFtZSx2YWx1ZTpjLnJlcGxhY2UoYkYsIlxyXG4iKX19KS5nZXQoKX19KSxmLmVhY2goImFqYXhTdGFydCBhamF4U3RvcCBhamF4Q29tcGxldGUgYWpheEVycm9yIGFqYXhTdWNjZXNzIGFqYXhTZW5kIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGEsYil7Zi5mbltiXT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vbihiLGEpfX0pLGYuZWFjaChbImdldCIsInBvc3QiXSxmdW5jdGlvbihhLGMpe2ZbY109ZnVuY3Rpb24oYSxkLGUsZyl7Zi5pc0Z1bmN0aW9uKGQpJiYoZz1nfHxlLGU9ZCxkPWIpO3JldHVybiBmLmFqYXgoe3R5cGU6Yyx1cmw6YSxkYXRhOmQsc3VjY2VzczplLGRhdGFUeXBlOmd9KX19KSxmLmV4dGVuZCh7Z2V0U2NyaXB0OmZ1bmN0aW9uKGEsYyl7cmV0dXJuIGYuZ2V0KGEsYixjLCJzY3JpcHQiKX0sZ2V0SlNPTjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGYuZ2V0KGEsYixjLCJqc29uIil9LGFqYXhTZXR1cDpmdW5jdGlvbihhLGIpe2I/Yl8oYSxmLmFqYXhTZXR0aW5ncyk6KGI9YSxhPWYuYWpheFNldHRpbmdzKSxiXyhhLGIpO3JldHVybiBhfSxhamF4U2V0dGluZ3M6e3VybDpiVixpc0xvY2FsOmJKLnRlc3QoYldbMV0pLGdsb2JhbDohMCx0eXBlOiJHRVQiLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGFjY2VwdHM6e3htbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsaHRtbDoidGV4dC9odG1sIix0ZXh0OiJ0ZXh0L3BsYWluIixqc29uOiJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHQiLCIqIjpiWH0sY29udGVudHM6e3htbDoveG1sLyxodG1sOi9odG1sLyxqc29uOi9qc29uL30scmVzcG9uc2VGaWVsZHM6e3htbDoicmVzcG9uc2VYTUwiLHRleHQ6InJlc3BvbnNlVGV4dCJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOmEuU3RyaW5nLCJ0ZXh0IGh0bWwiOiEwLCJ0ZXh0IGpzb24iOmYucGFyc2VKU09OLCJ0ZXh0IHhtbCI6Zi5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e2NvbnRleHQ6ITAsdXJsOiEwfX0sYWpheFByZWZpbHRlcjpiWihiVCksYWpheFRyYW5zcG9ydDpiWihiVSksYWpheDpmdW5jdGlvbihhLGMpe2Z1bmN0aW9uIHcoYSxjLGwsbSl7aWYocyE9PTIpe3M9MixxJiZjbGVhclRpbWVvdXQocSkscD1iLG49bXx8IiIsdi5yZWFkeVN0YXRlPWE+MD80OjA7dmFyIG8scix1LHc9Yyx4PWw/Y2IoZCx2LGwpOmIseSx6O2lmKGE+PTIwMCYmYTwzMDB8fGE9PT0zMDQpe2lmKGQuaWZNb2RpZmllZCl7aWYoeT12LmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIikpZi5sYXN0TW9kaWZpZWRba109eTtpZih6PXYuZ2V0UmVzcG9uc2VIZWFkZXIoIkV0YWciKSlmLmV0YWdba109en1pZihhPT09MzA0KXc9Im5vdG1vZGlmaWVkIixvPSEwO2Vsc2UgdHJ5e3I9Y2MoZCx4KSx3PSJzdWNjZXNzIixvPSEwfWNhdGNoKEEpe3c9InBhcnNlcmVycm9yIix1PUF9fWVsc2V7dT13O2lmKCF3fHxhKXc9ImVycm9yIixhPDAmJihhPTApfXYuc3RhdHVzPWEsdi5zdGF0dXNUZXh0PSIiKyhjfHx3KSxvP2gucmVzb2x2ZVdpdGgoZSxbcix3LHZdKTpoLnJlamVjdFdpdGgoZSxbdix3LHVdKSx2LnN0YXR1c0NvZGUoaiksaj1iLHQmJmcudHJpZ2dlcigiYWpheCIrKG8/IlN1Y2Nlc3MiOiJFcnJvciIpLFt2LGQsbz9yOnVdKSxpLmZpcmVXaXRoKGUsW3Ysd10pLHQmJihnLnRyaWdnZXIoImFqYXhDb21wbGV0ZSIsW3YsZF0pLC0tZi5hY3RpdmV8fGYuZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKSl9fXR5cGVvZiBhPT0ib2JqZWN0IiYmKGM9YSxhPWIpLGM9Y3x8e307dmFyIGQ9Zi5hamF4U2V0dXAoe30sYyksZT1kLmNvbnRleHR8fGQsZz1lIT09ZCYmKGUubm9kZVR5cGV8fGUgaW5zdGFuY2VvZiBmKT9mKGUpOmYuZXZlbnQsaD1mLkRlZmVycmVkKCksaT1mLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxqPWQuc3RhdHVzQ29kZXx8e30sayxsPXt9LG09e30sbixvLHAscSxyLHM9MCx0LHUsdj17cmVhZHlTdGF0ZTowLHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oYSxiKXtpZighcyl7dmFyIGM9YS50b0xvd2VyQ2FzZSgpO2E9bVtjXT1tW2NdfHxhLGxbYV09Yn1yZXR1cm4gdGhpc30sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIHM9PT0yP246bnVsbH0sZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oYSl7dmFyIGM7aWYocz09PTIpe2lmKCFvKXtvPXt9O3doaWxlKGM9YkguZXhlYyhuKSlvW2NbMV0udG9Mb3dlckNhc2UoKV09Y1syXX1jPW9bYS50b0xvd2VyQ2FzZSgpXX1yZXR1cm4gYz09PWI/bnVsbDpjfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKGEpe3N8fChkLm1pbWVUeXBlPWEpO3JldHVybiB0aGlzfSxhYm9ydDpmdW5jdGlvbihhKXthPWF8fCJhYm9ydCIscCYmcC5hYm9ydChhKSx3KDAsYSk7cmV0dXJuIHRoaXN9fTtoLnByb21pc2Uodiksdi5zdWNjZXNzPXYuZG9uZSx2LmVycm9yPXYuZmFpbCx2LmNvbXBsZXRlPWkuYWRkLHYuc3RhdHVzQ29kZT1mdW5jdGlvbihhKXtpZihhKXt2YXIgYjtpZihzPDIpZm9yKGIgaW4gYSlqW2JdPVtqW2JdLGFbYl1dO2Vsc2UgYj1hW3Yuc3RhdHVzXSx2LnRoZW4oYixiKX1yZXR1cm4gdGhpc30sZC51cmw9KChhfHxkLnVybCkrIiIpLnJlcGxhY2UoYkcsIiIpLnJlcGxhY2UoYkwsYldbMV0rIi8vIiksZC5kYXRhVHlwZXM9Zi50cmltKGQuZGF0YVR5cGV8fCIqIikudG9Mb3dlckNhc2UoKS5zcGxpdChiUCksZC5jcm9zc0RvbWFpbj09bnVsbCYmKHI9YlIuZXhlYyhkLnVybC50b0xvd2VyQ2FzZSgpKSxkLmNyb3NzRG9tYWluPSEoIXJ8fHJbMV09PWJXWzFdJiZyWzJdPT1iV1syXSYmKHJbM118fChyWzFdPT09Imh0dHA6Ij84MDo0NDMpKT09KGJXWzNdfHwoYldbMV09PT0iaHR0cDoiPzgwOjQ0MykpKSksZC5kYXRhJiZkLnByb2Nlc3NEYXRhJiZ0eXBlb2YgZC5kYXRhIT0ic3RyaW5nIiYmKGQuZGF0YT1mLnBhcmFtKGQuZGF0YSxkLnRyYWRpdGlvbmFsKSksYiQoYlQsZCxjLHYpO2lmKHM9PT0yKXJldHVybiExO3Q9ZC5nbG9iYWwsZC50eXBlPWQudHlwZS50b1VwcGVyQ2FzZSgpLGQuaGFzQ29udGVudD0hYksudGVzdChkLnR5cGUpLHQmJmYuYWN0aXZlKys9PT0wJiZmLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpO2lmKCFkLmhhc0NvbnRlbnQpe2QuZGF0YSYmKGQudXJsKz0oYk0udGVzdChkLnVybCk/IiYiOiI/IikrZC5kYXRhLGRlbGV0ZSBkLmRhdGEpLGs9ZC51cmw7aWYoZC5jYWNoZT09PSExKXt2YXIgeD1mLm5vdygpLHk9ZC51cmwucmVwbGFjZShiUSwiJDFfPSIreCk7ZC51cmw9eSsoeT09PWQudXJsPyhiTS50ZXN0KGQudXJsKT8iJiI6Ij8iKSsiXz0iK3g6IiIpfX0oZC5kYXRhJiZkLmhhc0NvbnRlbnQmJmQuY29udGVudFR5cGUhPT0hMXx8Yy5jb250ZW50VHlwZSkmJnYuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIixkLmNvbnRlbnRUeXBlKSxkLmlmTW9kaWZpZWQmJihrPWt8fGQudXJsLGYubGFzdE1vZGlmaWVkW2tdJiZ2LnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixmLmxhc3RNb2RpZmllZFtrXSksZi5ldGFnW2tdJiZ2LnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLGYuZXRhZ1trXSkpLHYuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0IixkLmRhdGFUeXBlc1swXSYmZC5hY2NlcHRzW2QuZGF0YVR5cGVzWzBdXT9kLmFjY2VwdHNbZC5kYXRhVHlwZXNbMF1dKyhkLmRhdGFUeXBlc1swXSE9PSIqIj8iLCAiK2JYKyI7IHE9MC4wMSI6IiIpOmQuYWNjZXB0c1siKiJdKTtmb3IodSBpbiBkLmhlYWRlcnMpdi5zZXRSZXF1ZXN0SGVhZGVyKHUsZC5oZWFkZXJzW3VdKTtpZihkLmJlZm9yZVNlbmQmJihkLmJlZm9yZVNlbmQuY2FsbChlLHYsZCk9PT0hMXx8cz09PTIpKXt2LmFib3J0KCk7cmV0dXJuITF9Zm9yKHUgaW57c3VjY2VzczoxLGVycm9yOjEsY29tcGxldGU6MX0pdlt1XShkW3VdKTtwPWIkKGJVLGQsYyx2KTtpZighcCl3KC0xLCJObyBUcmFuc3BvcnQiKTtlbHNle3YucmVhZHlTdGF0ZT0xLHQmJmcudHJpZ2dlcigiYWpheFNlbmQiLFt2LGRdKSxkLmFzeW5jJiZkLnRpbWVvdXQ+MCYmKHE9c2V0VGltZW91dChmdW5jdGlvbigpe3YuYWJvcnQoInRpbWVvdXQiKX0sZC50aW1lb3V0KSk7dHJ5e3M9MSxwLnNlbmQobCx3KX1jYXRjaCh6KXtpZihzPDIpdygtMSx6KTtlbHNlIHRocm93IHp9fXJldHVybiB2fSxwYXJhbTpmdW5jdGlvbihhLGMpe3ZhciBkPVtdLGU9ZnVuY3Rpb24oYSxiKXtiPWYuaXNGdW5jdGlvbihiKT9iKCk6YixkW2QubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoYSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudChiKX07Yz09PWImJihjPWYuYWpheFNldHRpbmdzLnRyYWRpdGlvbmFsKTtpZihmLmlzQXJyYXkoYSl8fGEuanF1ZXJ5JiYhZi5pc1BsYWluT2JqZWN0KGEpKWYuZWFjaChhLGZ1bmN0aW9uKCl7ZSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcih2YXIgZyBpbiBhKWNhKGcsYVtnXSxjLGUpO3JldHVybiBkLmpvaW4oIiYiKS5yZXBsYWNlKGJELCIrIil9fSksZi5leHRlbmQoe2FjdGl2ZTowLGxhc3RNb2RpZmllZDp7fSxldGFnOnt9fSk7dmFyIGNkPWYubm93KCksY2U9LyhcPSlcPygmfCQpfFw/XD8vaTtmLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7cmV0dXJuIGYuZXhwYW5kbysiXyIrY2QrK319KSxmLmFqYXhQcmVmaWx0ZXIoImpzb24ganNvbnAiLGZ1bmN0aW9uKGIsYyxkKXt2YXIgZT1iLmNvbnRlbnRUeXBlPT09ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCImJnR5cGVvZiBiLmRhdGE9PSJzdHJpbmciO2lmKGIuZGF0YVR5cGVzWzBdPT09Impzb25wInx8Yi5qc29ucCE9PSExJiYoY2UudGVzdChiLnVybCl8fGUmJmNlLnRlc3QoYi5kYXRhKSkpe3ZhciBnLGg9Yi5qc29ucENhbGxiYWNrPWYuaXNGdW5jdGlvbihiLmpzb25wQ2FsbGJhY2spP2IuanNvbnBDYWxsYmFjaygpOmIuanNvbnBDYWxsYmFjayxpPWFbaF0saj1iLnVybCxrPWIuZGF0YSxsPSIkMSIraCsiJDIiO2IuanNvbnAhPT0hMSYmKGo9ai5yZXBsYWNlKGNlLGwpLGIudXJsPT09aiYmKGUmJihrPWsucmVwbGFjZShjZSxsKSksYi5kYXRhPT09ayYmKGorPSgvXD8vLnRlc3Qoaik/IiYiOiI/IikrYi5qc29ucCsiPSIraCkpKSxiLnVybD1qLGIuZGF0YT1rLGFbaF09ZnVuY3Rpb24oYSl7Zz1bYV19LGQuYWx3YXlzKGZ1bmN0aW9uKCl7YVtoXT1pLGcmJmYuaXNGdW5jdGlvbihpKSYmYVtoXShnWzBdKX0pLGIuY29udmVydGVyc1sic2NyaXB0IGpzb24iXT1mdW5jdGlvbigpe2d8fGYuZXJyb3IoaCsiIHdhcyBub3QgY2FsbGVkIik7cmV0dXJuIGdbMF19LGIuZGF0YVR5cGVzWzBdPSJqc29uIjtyZXR1cm4ic2NyaXB0In19KSxmLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6L2phdmFzY3JpcHR8ZWNtYXNjcmlwdC99LGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oYSl7Zi5nbG9iYWxFdmFsKGEpO3JldHVybiBhfX19KSxmLmFqYXhQcmVmaWx0ZXIoInNjcmlwdCIsZnVuY3Rpb24oYSl7YS5jYWNoZT09PWImJihhLmNhY2hlPSExKSxhLmNyb3NzRG9tYWluJiYoYS50eXBlPSJHRVQiLGEuZ2xvYmFsPSExKX0pLGYuYWpheFRyYW5zcG9ydCgic2NyaXB0IixmdW5jdGlvbihhKXtpZihhLmNyb3NzRG9tYWluKXt2YXIgZCxlPWMuaGVhZHx8Yy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdfHxjLmRvY3VtZW50RWxlbWVudDtyZXR1cm57c2VuZDpmdW5jdGlvbihmLGcpe2Q9Yy5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSxkLmFzeW5jPSJhc3luYyIsYS5zY3JpcHRDaGFyc2V0JiYoZC5jaGFyc2V0PWEuc2NyaXB0Q2hhcnNldCksZC5zcmM9YS51cmwsZC5vbmxvYWQ9ZC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oYSxjKXtpZihjfHwhZC5yZWFkeVN0YXRlfHwvbG9hZGVkfGNvbXBsZXRlLy50ZXN0KGQucmVhZHlTdGF0ZSkpZC5vbmxvYWQ9ZC5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxlJiZkLnBhcmVudE5vZGUmJmUucmVtb3ZlQ2hpbGQoZCksZD1iLGN8fGcoMjAwLCJzdWNjZXNzIil9LGUuaW5zZXJ0QmVmb3JlKGQsZS5maXJzdENoaWxkKX0sYWJvcnQ6ZnVuY3Rpb24oKXtkJiZkLm9ubG9hZCgwLDEpfX19fSk7dmFyIGNmPWEuQWN0aXZlWE9iamVjdD9mdW5jdGlvbigpe2Zvcih2YXIgYSBpbiBjaCljaFthXSgwLDEpfTohMSxjZz0wLGNoO2YuYWpheFNldHRpbmdzLnhocj1hLkFjdGl2ZVhPYmplY3Q/ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc0xvY2FsJiZjaSgpfHxjaigpfTpjaSxmdW5jdGlvbihhKXtmLmV4dGVuZChmLnN1cHBvcnQse2FqYXg6ISFhLGNvcnM6ISFhJiYid2l0aENyZWRlbnRpYWxzImluIGF9KX0oZi5hamF4U2V0dGluZ3MueGhyKCkpLGYuc3VwcG9ydC5hamF4JiZmLmFqYXhUcmFuc3BvcnQoZnVuY3Rpb24oYyl7aWYoIWMuY3Jvc3NEb21haW58fGYuc3VwcG9ydC5jb3JzKXt2YXIgZDtyZXR1cm57c2VuZDpmdW5jdGlvbihlLGcpe3ZhciBoPWMueGhyKCksaSxqO2MudXNlcm5hbWU/aC5vcGVuKGMudHlwZSxjLnVybCxjLmFzeW5jLGMudXNlcm5hbWUsYy5wYXNzd29yZCk6aC5vcGVuKGMudHlwZSxjLnVybCxjLmFzeW5jKTtpZihjLnhockZpZWxkcylmb3IoaiBpbiBjLnhockZpZWxkcyloW2pdPWMueGhyRmllbGRzW2pdO2MubWltZVR5cGUmJmgub3ZlcnJpZGVNaW1lVHlwZSYmaC5vdmVycmlkZU1pbWVUeXBlKGMubWltZVR5cGUpLCFjLmNyb3NzRG9tYWluJiYhZVsiWC1SZXF1ZXN0ZWQtV2l0aCJdJiYoZVsiWC1SZXF1ZXN0ZWQtV2l0aCJdPSJYTUxIdHRwUmVxdWVzdCIpO3RyeXtmb3IoaiBpbiBlKWguc2V0UmVxdWVzdEhlYWRlcihqLGVbal0pfWNhdGNoKGspe31oLnNlbmQoYy5oYXNDb250ZW50JiZjLmRhdGF8fG51bGwpLGQ9ZnVuY3Rpb24oYSxlKXt2YXIgaixrLGwsbSxuO3RyeXtpZihkJiYoZXx8aC5yZWFkeVN0YXRlPT09NCkpe2Q9YixpJiYoaC5vbnJlYWR5c3RhdGVjaGFuZ2U9Zi5ub29wLGNmJiZkZWxldGUgY2hbaV0pO2lmKGUpaC5yZWFkeVN0YXRlIT09NCYmaC5hYm9ydCgpO2Vsc2V7aj1oLnN0YXR1cyxsPWguZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCksbT17fSxuPWgucmVzcG9uc2VYTUwsbiYmbi5kb2N1bWVudEVsZW1lbnQmJihtLnhtbD1uKSxtLnRleHQ9aC5yZXNwb25zZVRleHQ7dHJ5e2s9aC5zdGF0dXNUZXh0fWNhdGNoKG8pe2s9IiJ9IWomJmMuaXNMb2NhbCYmIWMuY3Jvc3NEb21haW4/aj1tLnRleHQ/MjAwOjQwNDpqPT09MTIyMyYmKGo9MjA0KX19fWNhdGNoKHApe2V8fGcoLTEscCl9bSYmZyhqLGssbSxsKX0sIWMuYXN5bmN8fGgucmVhZHlTdGF0ZT09PTQ/ZCgpOihpPSsrY2csY2YmJihjaHx8KGNoPXt9LGYoYSkudW5sb2FkKGNmKSksY2hbaV09ZCksaC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZCl9LGFib3J0OmZ1bmN0aW9uKCl7ZCYmZCgwLDEpfX19fSk7dmFyIGNrPXt9LGNsLGNtLGNuPS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxjbz0vXihbK1wtXT0pPyhbXGQrLlwtXSspKFthLXolXSopJC9pLGNwLGNxPVtbImhlaWdodCIsIm1hcmdpblRvcCIsIm1hcmdpbkJvdHRvbSIsInBhZGRpbmdUb3AiLCJwYWRkaW5nQm90dG9tIl0sWyJ3aWR0aCIsIm1hcmdpbkxlZnQiLCJtYXJnaW5SaWdodCIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0Il0sWyJvcGFjaXR5Il1dLGNyO2YuZm4uZXh0ZW5kKHtzaG93OmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlO2lmKGF8fGE9PT0wKXJldHVybiB0aGlzLmFuaW1hdGUoY3UoInNob3ciLDMpLGEsYixjKTtmb3IodmFyIGc9MCxoPXRoaXMubGVuZ3RoO2c8aDtnKyspZD10aGlzW2ddLGQuc3R5bGUmJihlPWQuc3R5bGUuZGlzcGxheSwhZi5fZGF0YShkLCJvbGRkaXNwbGF5IikmJmU9PT0ibm9uZSImJihlPWQuc3R5bGUuZGlzcGxheT0iIiksZT09PSIiJiZmLmNzcyhkLCJkaXNwbGF5Iik9PT0ibm9uZSImJmYuX2RhdGEoZCwib2xkZGlzcGxheSIsY3YoZC5ub2RlTmFtZSkpKTtmb3IoZz0wO2c8aDtnKyspe2Q9dGhpc1tnXTtpZihkLnN0eWxlKXtlPWQuc3R5bGUuZGlzcGxheTtpZihlPT09IiJ8fGU9PT0ibm9uZSIpZC5zdHlsZS5kaXNwbGF5PWYuX2RhdGEoZCwib2xkZGlzcGxheSIpfHwiIn19cmV0dXJuIHRoaXN9LGhpZGU6ZnVuY3Rpb24oYSxiLGMpe2lmKGF8fGE9PT0wKXJldHVybiB0aGlzLmFuaW1hdGUoY3UoImhpZGUiLDMpLGEsYixjKTt2YXIgZCxlLGc9MCxoPXRoaXMubGVuZ3RoO2Zvcig7ZzxoO2crKylkPXRoaXNbZ10sZC5zdHlsZSYmKGU9Zi5jc3MoZCwiZGlzcGxheSIpLGUhPT0ibm9uZSImJiFmLl9kYXRhKGQsIm9sZGRpc3BsYXkiKSYmZi5fZGF0YShkLCJvbGRkaXNwbGF5IixlKSk7Zm9yKGc9MDtnPGg7ZysrKXRoaXNbZ10uc3R5bGUmJih0aGlzW2ddLnN0eWxlLmRpc3BsYXk9Im5vbmUiKTtyZXR1cm4gdGhpc30sX3RvZ2dsZTpmLmZuLnRvZ2dsZSx0b2dnbGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXR5cGVvZiBhPT0iYm9vbGVhbiI7Zi5pc0Z1bmN0aW9uKGEpJiZmLmlzRnVuY3Rpb24oYik/dGhpcy5fdG9nZ2xlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTphPT1udWxsfHxkP3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWQ/YTpmKHRoaXMpLmlzKCI6aGlkZGVuIik7Zih0aGlzKVtiPyJzaG93IjoiaGlkZSJdKCl9KTp0aGlzLmFuaW1hdGUoY3UoInRvZ2dsZSIsMyksYSxiLGMpO3JldHVybiB0aGlzfSxmYWRlVG86ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMuZmlsdGVyKCI6aGlkZGVuIikuY3NzKCJvcGFjaXR5IiwwKS5zaG93KCkuZW5kKCkuYW5pbWF0ZSh7b3BhY2l0eTpifSxhLGMsZCl9LGFuaW1hdGU6ZnVuY3Rpb24oYSxiLGMsZCl7ZnVuY3Rpb24gZygpe2UucXVldWU9PT0hMSYmZi5fbWFyayh0aGlzKTt2YXIgYj1mLmV4dGVuZCh7fSxlKSxjPXRoaXMubm9kZVR5cGU9PT0xLGQ9YyYmZih0aGlzKS5pcygiOmhpZGRlbiIpLGcsaCxpLGosayxsLG0sbixvO2IuYW5pbWF0ZWRQcm9wZXJ0aWVzPXt9O2ZvcihpIGluIGEpe2c9Zi5jYW1lbENhc2UoaSksaSE9PWcmJihhW2ddPWFbaV0sZGVsZXRlIGFbaV0pLGg9YVtnXSxmLmlzQXJyYXkoaCk/KGIuYW5pbWF0ZWRQcm9wZXJ0aWVzW2ddPWhbMV0saD1hW2ddPWhbMF0pOmIuYW5pbWF0ZWRQcm9wZXJ0aWVzW2ddPWIuc3BlY2lhbEVhc2luZyYmYi5zcGVjaWFsRWFzaW5nW2ddfHxiLmVhc2luZ3x8InN3aW5nIjtpZihoPT09ImhpZGUiJiZkfHxoPT09InNob3ciJiYhZClyZXR1cm4gYi5jb21wbGV0ZS5jYWxsKHRoaXMpO2MmJihnPT09ImhlaWdodCJ8fGc9PT0id2lkdGgiKSYmKGIub3ZlcmZsb3c9W3RoaXMuc3R5bGUub3ZlcmZsb3csdGhpcy5zdHlsZS5vdmVyZmxvd1gsdGhpcy5zdHlsZS5vdmVyZmxvd1ldLGYuY3NzKHRoaXMsImRpc3BsYXkiKT09PSJpbmxpbmUiJiZmLmNzcyh0aGlzLCJmbG9hdCIpPT09Im5vbmUiJiYoIWYuc3VwcG9ydC5pbmxpbmVCbG9ja05lZWRzTGF5b3V0fHxjdih0aGlzLm5vZGVOYW1lKT09PSJpbmxpbmUiP3RoaXMuc3R5bGUuZGlzcGxheT0iaW5saW5lLWJsb2NrIjp0aGlzLnN0eWxlLnpvb209MSkpfWIub3ZlcmZsb3chPW51bGwmJih0aGlzLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iKTtmb3IoaSBpbiBhKWo9bmV3IGYuZngodGhpcyxiLGkpLGg9YVtpXSxjbi50ZXN0KGgpPyhvPWYuX2RhdGEodGhpcywidG9nZ2xlIitpKXx8KGg9PT0idG9nZ2xlIj9kPyJzaG93IjoiaGlkZSI6MCksbz8oZi5fZGF0YSh0aGlzLCJ0b2dnbGUiK2ksbz09PSJzaG93Ij8iaGlkZSI6InNob3ciKSxqW29dKCkpOmpbaF0oKSk6KGs9Y28uZXhlYyhoKSxsPWouY3VyKCksaz8obT1wYXJzZUZsb2F0KGtbMl0pLG49a1szXXx8KGYuY3NzTnVtYmVyW2ldPyIiOiJweCIpLG4hPT0icHgiJiYoZi5zdHlsZSh0aGlzLGksKG18fDEpK24pLGw9KG18fDEpL2ouY3VyKCkqbCxmLnN0eWxlKHRoaXMsaSxsK24pKSxrWzFdJiYobT0oa1sxXT09PSItPSI/LTE6MSkqbStsKSxqLmN1c3RvbShsLG0sbikpOmouY3VzdG9tKGwsaCwiIikpO3JldHVybiEwfXZhciBlPWYuc3BlZWQoYixjLGQpO2lmKGYuaXNFbXB0eU9iamVjdChhKSlyZXR1cm4gdGhpcy5lYWNoKGUuY29tcGxldGUsWyExXSk7YT1mLmV4dGVuZCh7fSxhKTtyZXR1cm4gZS5xdWV1ZT09PSExP3RoaXMuZWFjaChnKTp0aGlzLnF1ZXVlKGUucXVldWUsZyl9LHN0b3A6ZnVuY3Rpb24oYSxjLGQpe3R5cGVvZiBhIT0ic3RyaW5nIiYmKGQ9YyxjPWEsYT1iKSxjJiZhIT09ITEmJnRoaXMucXVldWUoYXx8ImZ4IixbXSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2Z1bmN0aW9uIGgoYSxiLGMpe3ZhciBlPWJbY107Zi5yZW1vdmVEYXRhKGEsYywhMCksZS5zdG9wKGQpfXZhciBiLGM9ITEsZT1mLnRpbWVycyxnPWYuX2RhdGEodGhpcyk7ZHx8Zi5fdW5tYXJrKCEwLHRoaXMpO2lmKGE9PW51bGwpZm9yKGIgaW4gZylnW2JdJiZnW2JdLnN0b3AmJmIuaW5kZXhPZigiLnJ1biIpPT09Yi5sZW5ndGgtNCYmaCh0aGlzLGcsYik7ZWxzZSBnW2I9YSsiLnJ1biJdJiZnW2JdLnN0b3AmJmgodGhpcyxnLGIpO2ZvcihiPWUubGVuZ3RoO2ItLTspZVtiXS5lbGVtPT09dGhpcyYmKGE9PW51bGx8fGVbYl0ucXVldWU9PT1hKSYmKGQ/ZVtiXSghMCk6ZVtiXS5zYXZlU3RhdGUoKSxjPSEwLGUuc3BsaWNlKGIsMSkpOyghZHx8IWMpJiZmLmRlcXVldWUodGhpcyxhKX0pfX0pLGYuZWFjaCh7c2xpZGVEb3duOmN1KCJzaG93IiwxKSxzbGlkZVVwOmN1KCJoaWRlIiwxKSxzbGlkZVRvZ2dsZTpjdSgidG9nZ2xlIiwxKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGEsYil7Zi5mblthXT1mdW5jdGlvbihhLGMsZCl7cmV0dXJuIHRoaXMuYW5pbWF0ZShiLGEsYyxkKX19KSxmLmV4dGVuZCh7c3BlZWQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEmJnR5cGVvZiBhPT0ib2JqZWN0Ij9mLmV4dGVuZCh7fSxhKTp7Y29tcGxldGU6Y3x8IWMmJmJ8fGYuaXNGdW5jdGlvbihhKSYmYSxkdXJhdGlvbjphLGVhc2luZzpjJiZifHxiJiYhZi5pc0Z1bmN0aW9uKGIpJiZifTtkLmR1cmF0aW9uPWYuZngub2ZmPzA6dHlwZW9mIGQuZHVyYXRpb249PSJudW1iZXIiP2QuZHVyYXRpb246ZC5kdXJhdGlvbiBpbiBmLmZ4LnNwZWVkcz9mLmZ4LnNwZWVkc1tkLmR1cmF0aW9uXTpmLmZ4LnNwZWVkcy5fZGVmYXVsdDtpZihkLnF1ZXVlPT1udWxsfHxkLnF1ZXVlPT09ITApZC5xdWV1ZT0iZngiO2Qub2xkPWQuY29tcGxldGUsZC5jb21wbGV0ZT1mdW5jdGlvbihhKXtmLmlzRnVuY3Rpb24oZC5vbGQpJiZkLm9sZC5jYWxsKHRoaXMpLGQucXVldWU/Zi5kZXF1ZXVlKHRoaXMsZC5xdWV1ZSk6YSE9PSExJiZmLl91bm1hcmsodGhpcyl9O3JldHVybiBkfSxlYXNpbmc6e2xpbmVhcjpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gYytkKmF9LHN3aW5nOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybigtTWF0aC5jb3MoYSpNYXRoLlBJKS8yKy41KSpkK2N9fSx0aW1lcnM6W10sZng6ZnVuY3Rpb24oYSxiLGMpe3RoaXMub3B0aW9ucz1iLHRoaXMuZWxlbT1hLHRoaXMucHJvcD1jLGIub3JpZz1iLm9yaWd8fHt9fX0pLGYuZngucHJvdG90eXBlPXt1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksKGYuZnguc3RlcFt0aGlzLnByb3BdfHxmLmZ4LnN0ZXAuX2RlZmF1bHQpKHRoaXMpfSxjdXI6ZnVuY3Rpb24oKXtpZih0aGlzLmVsZW1bdGhpcy5wcm9wXSE9bnVsbCYmKCF0aGlzLmVsZW0uc3R5bGV8fHRoaXMuZWxlbS5zdHlsZVt0aGlzLnByb3BdPT1udWxsKSlyZXR1cm4gdGhpcy5lbGVtW3RoaXMucHJvcF07dmFyIGEsYj1mLmNzcyh0aGlzLmVsZW0sdGhpcy5wcm9wKTtyZXR1cm4gaXNOYU4oYT1wYXJzZUZsb2F0KGIpKT8hYnx8Yj09PSJhdXRvIj8wOmI6YX0sY3VzdG9tOmZ1bmN0aW9uKGEsYyxkKXtmdW5jdGlvbiBoKGEpe3JldHVybiBlLnN0ZXAoYSl9dmFyIGU9dGhpcyxnPWYuZng7dGhpcy5zdGFydFRpbWU9Y3J8fGNzKCksdGhpcy5lbmQ9Yyx0aGlzLm5vdz10aGlzLnN0YXJ0PWEsdGhpcy5wb3M9dGhpcy5zdGF0ZT0wLHRoaXMudW5pdD1kfHx0aGlzLnVuaXR8fChmLmNzc051bWJlclt0aGlzLnByb3BdPyIiOiJweCIpLGgucXVldWU9dGhpcy5vcHRpb25zLnF1ZXVlLGguZWxlbT10aGlzLmVsZW0saC5zYXZlU3RhdGU9ZnVuY3Rpb24oKXtlLm9wdGlvbnMuaGlkZSYmZi5fZGF0YShlLmVsZW0sImZ4c2hvdyIrZS5wcm9wKT09PWImJmYuX2RhdGEoZS5lbGVtLCJmeHNob3ciK2UucHJvcCxlLnN0YXJ0KX0saCgpJiZmLnRpbWVycy5wdXNoKGgpJiYhY3AmJihjcD1zZXRJbnRlcnZhbChnLnRpY2ssZy5pbnRlcnZhbCkpfSxzaG93OmZ1bmN0aW9uKCl7dmFyIGE9Zi5fZGF0YSh0aGlzLmVsZW0sImZ4c2hvdyIrdGhpcy5wcm9wKTt0aGlzLm9wdGlvbnMub3JpZ1t0aGlzLnByb3BdPWF8fGYuc3R5bGUodGhpcy5lbGVtLHRoaXMucHJvcCksdGhpcy5vcHRpb25zLnNob3c9ITAsYSE9PWI/dGhpcy5jdXN0b20odGhpcy5jdXIoKSxhKTp0aGlzLmN1c3RvbSh0aGlzLnByb3A9PT0id2lkdGgifHx0aGlzLnByb3A9PT0iaGVpZ2h0Ij8xOjAsdGhpcy5jdXIoKSksZih0aGlzLmVsZW0pLnNob3coKX0saGlkZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5vcmlnW3RoaXMucHJvcF09Zi5fZGF0YSh0aGlzLmVsZW0sImZ4c2hvdyIrdGhpcy5wcm9wKXx8Zi5zdHlsZSh0aGlzLmVsZW0sdGhpcy5wcm9wKSx0aGlzLm9wdGlvbnMuaGlkZT0hMCx0aGlzLmN1c3RvbSh0aGlzLmN1cigpLDApfSxzdGVwOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlPWNyfHxjcygpLGc9ITAsaD10aGlzLmVsZW0saT10aGlzLm9wdGlvbnM7aWYoYXx8ZT49aS5kdXJhdGlvbit0aGlzLnN0YXJ0VGltZSl7dGhpcy5ub3c9dGhpcy5lbmQsdGhpcy5wb3M9dGhpcy5zdGF0ZT0xLHRoaXMudXBkYXRlKCksaS5hbmltYXRlZFByb3BlcnRpZXNbdGhpcy5wcm9wXT0hMDtmb3IoYiBpbiBpLmFuaW1hdGVkUHJvcGVydGllcylpLmFuaW1hdGVkUHJvcGVydGllc1tiXSE9PSEwJiYoZz0hMSk7aWYoZyl7aS5vdmVyZmxvdyE9bnVsbCYmIWYuc3VwcG9ydC5zaHJpbmtXcmFwQmxvY2tzJiZmLmVhY2goWyIiLCJYIiwiWSJdLGZ1bmN0aW9uKGEsYil7aC5zdHlsZVsib3ZlcmZsb3ciK2JdPWkub3ZlcmZsb3dbYV19KSxpLmhpZGUmJmYoaCkuaGlkZSgpO2lmKGkuaGlkZXx8aS5zaG93KWZvcihiIGluIGkuYW5pbWF0ZWRQcm9wZXJ0aWVzKWYuc3R5bGUoaCxiLGkub3JpZ1tiXSksZi5yZW1vdmVEYXRhKGgsImZ4c2hvdyIrYiwhMCksZi5yZW1vdmVEYXRhKGgsInRvZ2dsZSIrYiwhMCk7ZD1pLmNvbXBsZXRlLGQmJihpLmNvbXBsZXRlPSExLGQuY2FsbChoKSl9cmV0dXJuITF9aS5kdXJhdGlvbj09SW5maW5pdHk/dGhpcy5ub3c9ZTooYz1lLXRoaXMuc3RhcnRUaW1lLHRoaXMuc3RhdGU9Yy9pLmR1cmF0aW9uLHRoaXMucG9zPWYuZWFzaW5nW2kuYW5pbWF0ZWRQcm9wZXJ0aWVzW3RoaXMucHJvcF1dKHRoaXMuc3RhdGUsYywwLDEsaS5kdXJhdGlvbiksdGhpcy5ub3c9dGhpcy5zdGFydCsodGhpcy5lbmQtdGhpcy5zdGFydCkqdGhpcy5wb3MpLHRoaXMudXBkYXRlKCk7cmV0dXJuITB9fSxmLmV4dGVuZChmLmZ4LHt0aWNrOmZ1bmN0aW9uKCl7dmFyIGEsYj1mLnRpbWVycyxjPTA7Zm9yKDtjPGIubGVuZ3RoO2MrKylhPWJbY10sIWEoKSYmYltjXT09PWEmJmIuc3BsaWNlKGMtLSwxKTtiLmxlbmd0aHx8Zi5meC5zdG9wKCl9LGludGVydmFsOjEzLHN0b3A6ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKGNwKSxjcD1udWxsfSxzcGVlZHM6e3Nsb3c6NjAwLGZhc3Q6MjAwLF9kZWZhdWx0OjQwMH0sc3RlcDp7b3BhY2l0eTpmdW5jdGlvbihhKXtmLnN0eWxlKGEuZWxlbSwib3BhY2l0eSIsYS5ub3cpfSxfZGVmYXVsdDpmdW5jdGlvbihhKXthLmVsZW0uc3R5bGUmJmEuZWxlbS5zdHlsZVthLnByb3BdIT1udWxsP2EuZWxlbS5zdHlsZVthLnByb3BdPWEubm93K2EudW5pdDphLmVsZW1bYS5wcm9wXT1hLm5vd319fSksZi5lYWNoKFsid2lkdGgiLCJoZWlnaHQiXSxmdW5jdGlvbihhLGIpe2YuZnguc3RlcFtiXT1mdW5jdGlvbihhKXtmLnN0eWxlKGEuZWxlbSxiLE1hdGgubWF4KDAsYS5ub3cpK2EudW5pdCl9fSksZi5leHByJiZmLmV4cHIuZmlsdGVycyYmKGYuZXhwci5maWx0ZXJzLmFuaW1hdGVkPWZ1bmN0aW9uKGEpe3JldHVybiBmLmdyZXAoZi50aW1lcnMsZnVuY3Rpb24oYil7cmV0dXJuIGE9PT1iLmVsZW19KS5sZW5ndGh9KTt2YXIgY3c9L150KD86YWJsZXxkfGgpJC9pLGN4PS9eKD86Ym9keXxodG1sKSQvaTsiZ2V0Qm91bmRpbmdDbGllbnRSZWN0ImluIGMuZG9jdW1lbnRFbGVtZW50P2YuZm4ub2Zmc2V0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbMF0sYztpZihhKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7Zi5vZmZzZXQuc2V0T2Zmc2V0KHRoaXMsYSxiKX0pO2lmKCFifHwhYi5vd25lckRvY3VtZW50KXJldHVybiBudWxsO2lmKGI9PT1iLm93bmVyRG9jdW1lbnQuYm9keSlyZXR1cm4gZi5vZmZzZXQuYm9keU9mZnNldChiKTt0cnl7Yz1iLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpfWNhdGNoKGQpe312YXIgZT1iLm93bmVyRG9jdW1lbnQsZz1lLmRvY3VtZW50RWxlbWVudDtpZighY3x8IWYuY29udGFpbnMoZyxiKSlyZXR1cm4gYz97dG9wOmMudG9wLGxlZnQ6Yy5sZWZ0fTp7dG9wOjAsbGVmdDowfTt2YXIgaD1lLmJvZHksaT1jeShlKSxqPWcuY2xpZW50VG9wfHxoLmNsaWVudFRvcHx8MCxrPWcuY2xpZW50TGVmdHx8aC5jbGllbnRMZWZ0fHwwLGw9aS5wYWdlWU9mZnNldHx8Zi5zdXBwb3J0LmJveE1vZGVsJiZnLnNjcm9sbFRvcHx8aC5zY3JvbGxUb3AsbT1pLnBhZ2VYT2Zmc2V0fHxmLnN1cHBvcnQuYm94TW9kZWwmJmcuc2Nyb2xsTGVmdHx8aC5zY3JvbGxMZWZ0LG49Yy50b3ArbC1qLG89Yy5sZWZ0K20taztyZXR1cm57dG9wOm4sbGVmdDpvfX06Zi5mbi5vZmZzZXQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpc1swXTtpZihhKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7Zi5vZmZzZXQuc2V0T2Zmc2V0KHRoaXMsYSxiKX0pO2lmKCFifHwhYi5vd25lckRvY3VtZW50KXJldHVybiBudWxsO2lmKGI9PT1iLm93bmVyRG9jdW1lbnQuYm9keSlyZXR1cm4gZi5vZmZzZXQuYm9keU9mZnNldChiKTt2YXIgYyxkPWIub2Zmc2V0UGFyZW50LGU9YixnPWIub3duZXJEb2N1bWVudCxoPWcuZG9jdW1lbnRFbGVtZW50LGk9Zy5ib2R5LGo9Zy5kZWZhdWx0VmlldyxrPWo/ai5nZXRDb21wdXRlZFN0eWxlKGIsbnVsbCk6Yi5jdXJyZW50U3R5bGUsbD1iLm9mZnNldFRvcCxtPWIub2Zmc2V0TGVmdDt3aGlsZSgoYj1iLnBhcmVudE5vZGUpJiZiIT09aSYmYiE9PWgpe2lmKGYuc3VwcG9ydC5maXhlZFBvc2l0aW9uJiZrLnBvc2l0aW9uPT09ImZpeGVkIilicmVhaztjPWo/ai5nZXRDb21wdXRlZFN0eWxlKGIsbnVsbCk6Yi5jdXJyZW50U3R5bGUsbC09Yi5zY3JvbGxUb3AsbS09Yi5zY3JvbGxMZWZ0LGI9PT1kJiYobCs9Yi5vZmZzZXRUb3AsbSs9Yi5vZmZzZXRMZWZ0LGYuc3VwcG9ydC5kb2VzTm90QWRkQm9yZGVyJiYoIWYuc3VwcG9ydC5kb2VzQWRkQm9yZGVyRm9yVGFibGVBbmRDZWxsc3x8IWN3LnRlc3QoYi5ub2RlTmFtZSkpJiYobCs9cGFyc2VGbG9hdChjLmJvcmRlclRvcFdpZHRoKXx8MCxtKz1wYXJzZUZsb2F0KGMuYm9yZGVyTGVmdFdpZHRoKXx8MCksZT1kLGQ9Yi5vZmZzZXRQYXJlbnQpLGYuc3VwcG9ydC5zdWJ0cmFjdHNCb3JkZXJGb3JPdmVyZmxvd05vdFZpc2libGUmJmMub3ZlcmZsb3chPT0idmlzaWJsZSImJihsKz1wYXJzZUZsb2F0KGMuYm9yZGVyVG9wV2lkdGgpfHwwLG0rPXBhcnNlRmxvYXQoYy5ib3JkZXJMZWZ0V2lkdGgpfHwwKSxrPWN9aWYoay5wb3NpdGlvbj09PSJyZWxhdGl2ZSJ8fGsucG9zaXRpb249PT0ic3RhdGljIilsKz1pLm9mZnNldFRvcCxtKz1pLm9mZnNldExlZnQ7Zi5zdXBwb3J0LmZpeGVkUG9zaXRpb24mJmsucG9zaXRpb249PT0iZml4ZWQiJiYobCs9TWF0aC5tYXgoaC5zY3JvbGxUb3AsaS5zY3JvbGxUb3ApLG0rPU1hdGgubWF4KGguc2Nyb2xsTGVmdCxpLnNjcm9sbExlZnQpKTtyZXR1cm57dG9wOmwsbGVmdDptfX0sZi5vZmZzZXQ9e2JvZHlPZmZzZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5vZmZzZXRUb3AsYz1hLm9mZnNldExlZnQ7Zi5zdXBwb3J0LmRvZXNOb3RJbmNsdWRlTWFyZ2luSW5Cb2R5T2Zmc2V0JiYoYis9cGFyc2VGbG9hdChmLmNzcyhhLCJtYXJnaW5Ub3AiKSl8fDAsYys9cGFyc2VGbG9hdChmLmNzcyhhLCJtYXJnaW5MZWZ0IikpfHwwKTtyZXR1cm57dG9wOmIsbGVmdDpjfX0sc2V0T2Zmc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mLmNzcyhhLCJwb3NpdGlvbiIpO2Q9PT0ic3RhdGljIiYmKGEuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIik7dmFyIGU9ZihhKSxnPWUub2Zmc2V0KCksaD1mLmNzcyhhLCJ0b3AiKSxpPWYuY3NzKGEsImxlZnQiKSxqPShkPT09ImFic29sdXRlInx8ZD09PSJmaXhlZCIpJiZmLmluQXJyYXkoImF1dG8iLFtoLGldKT4tMSxrPXt9LGw9e30sbSxuO2o/KGw9ZS5wb3NpdGlvbigpLG09bC50b3Asbj1sLmxlZnQpOihtPXBhcnNlRmxvYXQoaCl8fDAsbj1wYXJzZUZsb2F0KGkpfHwwKSxmLmlzRnVuY3Rpb24oYikmJihiPWIuY2FsbChhLGMsZykpLGIudG9wIT1udWxsJiYoay50b3A9Yi50b3AtZy50b3ArbSksYi5sZWZ0IT1udWxsJiYoay5sZWZ0PWIubGVmdC1nLmxlZnQrbiksInVzaW5nImluIGI/Yi51c2luZy5jYWxsKGEsayk6ZS5jc3Moayl9fSxmLmZuLmV4dGVuZCh7cG9zaXRpb246ZnVuY3Rpb24oKXtpZighdGhpc1swXSlyZXR1cm4gbnVsbDt2YXIgYT10aGlzWzBdLGI9dGhpcy5vZmZzZXRQYXJlbnQoKSxjPXRoaXMub2Zmc2V0KCksZD1jeC50ZXN0KGJbMF0ubm9kZU5hbWUpP3t0b3A6MCxsZWZ0OjB9OmIub2Zmc2V0KCk7Yy50b3AtPXBhcnNlRmxvYXQoZi5jc3MoYSwibWFyZ2luVG9wIikpfHwwLGMubGVmdC09cGFyc2VGbG9hdChmLmNzcyhhLCJtYXJnaW5MZWZ0IikpfHwwLGQudG9wKz1wYXJzZUZsb2F0KGYuY3NzKGJbMF0sImJvcmRlclRvcFdpZHRoIikpfHwwLGQubGVmdCs9cGFyc2VGbG9hdChmLmNzcyhiWzBdLCJib3JkZXJMZWZ0V2lkdGgiKSl8fDA7cmV0dXJue3RvcDpjLnRvcC1kLnRvcCxsZWZ0OmMubGVmdC1kLmxlZnR9fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9mZnNldFBhcmVudHx8Yy5ib2R5O3doaWxlKGEmJiFjeC50ZXN0KGEubm9kZU5hbWUpJiZmLmNzcyhhLCJwb3NpdGlvbiIpPT09InN0YXRpYyIpYT1hLm9mZnNldFBhcmVudDtyZXR1cm4gYX0pfX0pLGYuZWFjaChbIkxlZnQiLCJUb3AiXSxmdW5jdGlvbihhLGMpe3ZhciBkPSJzY3JvbGwiK2M7Zi5mbltkXT1mdW5jdGlvbihjKXt2YXIgZSxnO2lmKGM9PT1iKXtlPXRoaXNbMF07aWYoIWUpcmV0dXJuIG51bGw7Zz1jeShlKTtyZXR1cm4gZz8icGFnZVhPZmZzZXQiaW4gZz9nW2E/InBhZ2VZT2Zmc2V0IjoicGFnZVhPZmZzZXQiXTpmLnN1cHBvcnQuYm94TW9kZWwmJmcuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50W2RdfHxnLmRvY3VtZW50LmJvZHlbZF06ZVtkXX1yZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zz1jeSh0aGlzKSxnP2cuc2Nyb2xsVG8oYT9mKGcpLnNjcm9sbExlZnQoKTpjLGE/YzpmKGcpLnNjcm9sbFRvcCgpKTp0aGlzW2RdPWN9KX19KSxmLmVhY2goWyJIZWlnaHQiLCJXaWR0aCJdLGZ1bmN0aW9uKGEsYyl7dmFyIGQ9Yy50b0xvd2VyQ2FzZSgpO2YuZm5bImlubmVyIitjXT1mdW5jdGlvbigpe3ZhciBhPXRoaXNbMF07cmV0dXJuIGE/YS5zdHlsZT9wYXJzZUZsb2F0KGYuY3NzKGEsZCwicGFkZGluZyIpKTp0aGlzW2RdKCk6bnVsbH0sZi5mblsib3V0ZXIiK2NdPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbMF07cmV0dXJuIGI/Yi5zdHlsZT9wYXJzZUZsb2F0KGYuY3NzKGIsZCxhPyJtYXJnaW4iOiJib3JkZXIiKSk6dGhpc1tkXSgpOm51bGx9LGYuZm5bZF09ZnVuY3Rpb24oYSl7dmFyIGU9dGhpc1swXTtpZighZSlyZXR1cm4gYT09bnVsbD9udWxsOnRoaXM7aWYoZi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7dmFyIGM9Zih0aGlzKTtjW2RdKGEuY2FsbCh0aGlzLGIsY1tkXSgpKSl9KTtpZihmLmlzV2luZG93KGUpKXt2YXIgZz1lLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsiY2xpZW50IitjXSxoPWUuZG9jdW1lbnQuYm9keTtyZXR1cm4gZS5kb2N1bWVudC5jb21wYXRNb2RlPT09IkNTUzFDb21wYXQiJiZnfHxoJiZoWyJjbGllbnQiK2NdfHxnfWlmKGUubm9kZVR5cGU9PT05KXJldHVybiBNYXRoLm1heChlLmRvY3VtZW50RWxlbWVudFsiY2xpZW50IitjXSxlLmJvZHlbInNjcm9sbCIrY10sZS5kb2N1bWVudEVsZW1lbnRbInNjcm9sbCIrY10sZS5ib2R5WyJvZmZzZXQiK2NdLGUuZG9jdW1lbnRFbGVtZW50WyJvZmZzZXQiK2NdKTtpZihhPT09Yil7dmFyIGk9Zi5jc3MoZSxkKSxqPXBhcnNlRmxvYXQoaSk7cmV0dXJuIGYuaXNOdW1lcmljKGopP2o6aX1yZXR1cm4gdGhpcy5jc3MoZCx0eXBlb2YgYT09InN0cmluZyI/YTphKyJweCIpfX0pLGEualF1ZXJ5PWEuJD1mLHR5cGVvZiBkZWZpbmU9PSJmdW5jdGlvbiImJmRlZmluZS5hbWQmJmRlZmluZS5hbWQualF1ZXJ5JiZkZWZpbmUoImpxdWVyeSIsW10sZnVuY3Rpb24oKXtyZXR1cm4gZn0pfSkod2luZG93KTs7CjsKLyogbW9kdWxlLWtleSA9ICdjb20uYXRsYXNzaWFuLmppcmEuY29sbGVjdG9yLnBsdWdpbi5qaXJhLWlzc3VlLWNvbGxlY3Rvci1wbHVnaW46aXNzdWVjb2xsZWN0b3InLCBsb2NhdGlvbiA9ICcvanMvY29sbGVjdG9yL2Jvb3RzdHJhcC5qcycgKi8KIWZ1bmN0aW9uKCQpe2Z1bmN0aW9uIHNldERpYWxvZ0hlaWdodChpKXskKCIjYXRsd2RnLWNvbnRhaW5lciIpLmNzcygiaGVpZ2h0IixpKX0kPWpRdWVyeS5ub0NvbmZsaWN0KCEwKSwidW5kZWZpbmVkIj09dHlwZW9mIHdpbmRvdy5qUXVlcnkmJih3aW5kb3cualF1ZXJ5PSQpLCJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93LiQmJih3aW5kb3cuJD0kKTt2YXIgQVRMX0pRPWZ1bmN0aW9uKCl7cmV0dXJuICQuYXBwbHkoJCxhcmd1bWVudHMpfSxjc3M9Ii5hdGx3ZGctYmxhbmtldCB7YmFja2dyb3VuZDogYmxhY2s7aGVpZ2h0OiAxMDAlO2xlZnQ6IDA7b3BhY2l0eTogLjU7cG9zaXRpb246IGZpeGVkO3RvcDogMDt3aWR0aDogMTAwJTt6LWluZGV4OiAxMDAwMDAwO30uYXRsd2RnLXBvcHVwIHtiYWNrZ3JvdW5kOiB3aGl0ZTtib3JkZXI6IDFweCBzb2xpZCAjY2NjO3Bvc2l0aW9uOiBmaXhlZDt0b3A6IDA7cmlnaHQ6IDA7Ym90dG9tOiAwO2xlZnQ6IDA7bWFyZ2luOiBhdXRvO3otaW5kZXg6IDEwMDAwMDExO2JvcmRlci1yYWRpdXM6IDVweDtiYWNrZ3JvdW5kLWNsaXA6IHBhZGRpbmctYm94O292ZXJmbG93OiBoaWRkZW47d2lkdGg6IDgxMHB4O2hlaWdodDogMDttYXgtaGVpZ2h0OiBjYWxjKDEwMCUgLSAxMDBweCk7fSNhdGx3ZGctZnJhbWUge2hlaWdodDogMTAwJTt3aWR0aDogMTAwJTt9LmF0bHdkZy1oaWRkZW4ge3Zpc2liaWxpdHk6IGhpZGRlbjt9LmF0bHdkZy10cmlnZ2VyIHtwb3NpdGlvbjogZml4ZWQ7YmFja2dyb3VuZDogIzIwNTA4MTtwYWRkaW5nOiA1cHg7Ym9yZGVyOiAycHggc29saWQgd2hpdGU7Ym9yZGVyLXRvcDogbm9uZTtmb250LXdlaWdodDogYm9sZDtjb2xvcjogd2hpdGUgIWltcG9ydGFudDtkaXNwbGF5OiBibG9jazt3aGl0ZS1zcGFjZTogbm93cmFwO3RleHQtZGVjb3JhdGlvbjogbm9uZSAhaW1wb3J0YW50O2ZvbnQtZmFtaWx5OiBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO2ZvbnQtc2l6ZTogMTJweDstd2Via2l0LWJveC1zaGFkb3c6IDAgMCA1cHggcmdiYSgwLCAwLCAwLCAwLjUpO2JveC1zaGFkb3c6IDAgMCA1cHggcmdiYSgwLCAwLCAwLCAwLjUpO2JvcmRlci1yYWRpdXM6IDAgMCA1cHggNXB4O30uYXRsd2RnLXRyaWdnZXIuYXRsd2RnLVRPUCB7bGVmdDogNDUlO3RvcDogMDt9LmF0bHdkZy10cmlnZ2VyLmF0bHdkZy1SSUdIVCB7bGVmdDogMTAwJTt0b3A6IDQwJTstd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDkwZGVnKTstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IHRvcCBsZWZ0Oy1tb3otdHJhbnNmb3JtOiByb3RhdGUoOTBkZWcpOy1tb3otdHJhbnNmb3JtLW9yaWdpbjogdG9wIGxlZnQ7LW1zLXRyYW5zZm9ybTogcm90YXRlKDkwZGVnKTstbXMtdHJhbnNmb3JtLW9yaWdpbjogdG9wIGxlZnQ7dHJhbnNmb3JtOiByb3RhdGUoOTBkZWcpO3RyYW5zZm9ybS1vcmlnaW46IHRvcCBsZWZ0O30uYXRsd2RnLXRyaWdnZXIuYXRsd2RnLVNVQlRMRSB7cmlnaHQ6IDA7Ym90dG9tOiAwO2JvcmRlcjogMXB4IHNvbGlkICNjY2M7Ym9yZGVyLWJvdHRvbTogbm9uZTtib3JkZXItcmlnaHQ6IG5vbmU7YmFja2dyb3VuZC1jb2xvcjogI2Y1ZjVmNTtjb2xvcjogIzQ0NCAhaW1wb3J0YW50O2ZvbnQtc2l6ZTogMTFweDtwYWRkaW5nOiA2cHg7LXdlYmtpdC1ib3gtc2hhZG93OiAtMXB4IC0xcHggMnB4IHJnYmEoMCwgMCwgMCwgMC41KTtib3gtc2hhZG93OiAtMXB4IC0xcHggMnB4IHJnYmEoMCwgMCwgMCwgMC41KTtib3JkZXItcmFkaXVzOiAycHggMCAwIDA7fS5hdGx3ZGctbG9hZGluZyB7cG9zaXRpb246IGZpeGVkO3RvcDogMDtyaWdodDogMDtib3R0b206IDA7bGVmdDogMDttYXJnaW46IGF1dG87aGVpZ2h0OiA0MHB4O3dpZHRoOiA0MHB4O3otaW5kZXg6IDEwMDAwMDE7Ym9yZGVyLXJhZGl1czogNXB4O2JhY2tncm91bmQtY29sb3I6ICNmZmY7YmFja2dyb3VuZC1pbWFnZTogdXJsKCdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhFQUFRQU1RQUFQLy8vKzd1N3QzZDNidTd1NnFxcXBtWm1ZaUlpSGQzZDJabVpsVlZWVVJFUkRNek15SWlJaEVSRVFBUkFBQUFBUC8vL3dBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUNIL0MwNUZWRk5EUVZCRk1pNHdBd0VBQUFBaCtRUUZCd0FRQUN3QUFBQUFFQUFRQUFBRmR5QWtRZ0dKSk9Xb1FnSWpCTThqa0tzb1BFemd5TUdzQ2pQRHc3QURwa1FCeFJEbVNDUmV0cFJBNlJqNGtGQmtnTEM0SWxVR2hiTlFJd1hPWVlXQ1hEdWZ6WVBETWFvS0dCb0tiODg2T2pBS2RnWkFBZ1FrZkN3ekFnc0RCQVVDZ2w4akFRa0hFQVZrQW9BMUFnY3pseUlEY3pVREEyVWhBQ0g1QkFVSEFCQUFMQUFBQUFBUEFCQUFBQVZqSUNTTzBJR0lBVGtxSWlNS0RhR0tDOFE0OWpQTVlzRTBoUWRybEFCQ0dndlQ0NUZLaVJLUWhXQTBtUEtHUEFnQmNUanNzcEJDQW9INGdsK0ZtWE5FVUVCVkFZSFRvSkFWWksvWFdvUVFEQWdCWmlvSGFYOGlnaWdGS1lZUVZsa0NqaU1oQUNINUJBVUhBQkFBTEFBQUFBQVFBQThBQUFWZ0lDU09VR0dRcUlpSUNoTUVTeW82Q2RRR2RScVVFTkVTSThGQWRGZ0FGd3FESVNZd1BCNENWU01uRWhTZWorRm9nTmh0SHlmUlFGbUlvbDVvd21FdGEvZmNLSVRCNnk0Y2hvTUJtazd5R2dTQUVBSjhKQVZEZ1FGbUtVQ0NabndoQUNINUJBVUhBQkFBTEFBQUFBQVFBQkFBQUFWaUlDU09Za0dlNGhGQWlTSW1Bd290QitzaTZDbzJReHZqQVlISWdCQXFEb1dDSzJCcTZBNDBpQTR5WU1nZ05aS3dHRmdWQ0FRWm90Rnd3SklGNFFueGFDOUlzWk5nTHRBSkRLYnJhSkNHelBWU0lnRURYVk5YQTBKZGdINkNob0NLS0NFQUlma0VCUWNBRUFBc0FBQUFBQkFBRGdBQUJVa2dKSTdRY1pDb21JalB3NmJzMmtJTkxCNXVXOUJvMGd5UXg4TGtLZ1ZIaWNjS1ZkeVJscWpGU0FBcE9LT3RSODEwU3RWZVU5UkFtTHFPeGkwcVJHM0xwdGlrQVZRRWg0VUFBQ0g1QkFVSEFCQUFMQUFBQUFBUUFCQUFBQVZ4SUNTTzBEQ1FLQlFRb25HSWg1QUdCMnNZa01ISXFZQUlOMEVEUnhvUVpJYUM2YkFvTVJTaXdNQXdDSXdDZ2dSa3dSTUpXS1NBb21CVkNjNWxVaUdSVUJqTzZGU0J3V2dnd2lqQm9vRENkaUZmSWxCUkFsWUJaUTBQV1JBTmFTa0VEMW9RWUhnakRBOG5NM2tQZkNtZWppRUFJZmtFQlFjQUVBQXNBQUFBQUJBQUVBQUFCV0FnSkk2UUlKQ29PSWhGd2Fic1NiaUZBb3RHTUVNS2dab0IzY0JVUUlnVVJwRmdtRUkwRXFqQUNZWHdpWUpCR0FHQmdHSURXc1ZpY2JpTkVnU3NHYktDSU1Dd0E0SUJDUmdYdDhiREFDa3ZZUUY2VTFPQURnOG1EbGFBQ1F0d0pDRUFJZmtFQlFjQUVBQXNBQUFCQUJBQUR3QUFCVjRnSkVLQ09Bd2lNYTRRMnFJRHdxNHdpcmlCbUl0Q0NSRUhVc0l3Q2doMnE4TWl5RUtPREs3WmJIQ29xcVNqV0dLSTFkMmtScCtSQVdHeUhnK0RRVUVtS2xpR3g0SEJLRUNJTXdHNjFBZ3NzQVFQS0ExOUVBeFJLejRRQ1ZJaEFDSDVCQVVIQUJBQUxBQUFBQUFRQUJBQUFBVmpJQ1NPVUJDUXFIaENnaUFPS3lxY0xWdkVaT0MyZ2VHaUs1TnBRQkFaQ2lsZ0FZRk1vZ28vSjBsZ3FFcEhnb08yK0dJTVVMNnA0dkZvamhRTmc4cnhXTGdZQlFKQ0FTa3dFS0xDMTdoWUZKdFJJd3dCZlJBSkRrNE9id3NpZEVrcldra2hBQ0g1QkFVSEFCQUFMQUFBQVFBUUFBOEFBQVZjSUNTT1VHQUdBcW1LcGppczZ2bXVxU3JVeFF5UGhERUV0cFVPZ21nWUVUQ0NjckI0T0JXd1FzR0hFaFFhdFZGaEIvbU5Bb2pGVnNRZ0JoZ0twU0hSVFJ4RWhHd2hvUmcwQ0NYWUFrS0hIUFpDWlJBS1VFUlpNQVlHTUNFQUlma0VCUWNBRUFBc0FBQUJBQkFBRHdBQUJWMGdKSTRrRkpUb0dBaWx3S0xDU1Q2UFVjckI4QTcwODQ0Q1hlbndJTFJrSW9ZeUJSazRCUWxIbzNGSU9RbXZBRUdCTXBZU29wL0lnUEJDRnBDcUl1RXNJRVNIZ2tnb0p4d1FBalN6d2IxRENsd3dnUWhnQVZWTUlnVnlLQ0VBSWZrRUNRY0FFQUFzQUFBQUFCQUFFQUFBQldRZ0pJNWtTUTZOWUs3RHc2eHI4aEN3K0VMQzg1aENJQXEzQW0wVTZKVUtqa0hKTnpJc0ZBcURxU2hRSFJoWTZiS3FndmdHQ1pPU0ZEaEFVaVdDWVF3SlN4R0hLcUdBRS81RXFJSEJqT2d5UlFFTENCQjdFQVFIZnlTRGhHWVFkRFdHUXlVaEFEcz0nKTtiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O2JhY2tncm91bmQtcG9zaXRpb246IGNlbnRlciBjZW50ZXI7fUBtZWRpYSBwcmludCB7LmF0bHdkZy10cmlnZ2VyIHsgZGlzcGxheTogbm9uZTsgfX1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA4MjBweCkgey5hdGx3ZGctcG9wdXAge21heC13aWR0aDogODEwcHg7d2lkdGg6IDkwJTttYXgtaGVpZ2h0OiA5MCU7fX0iLGNzc0lFPSIuYXRsd2RnLXRyaWdnZXIge3Bvc2l0aW9uOiBhYnNvbHV0ZTt9LmF0bHdkZy1ibGFua2V0IHtwb3NpdGlvbjogYWJzb2x1dGU7ZmlsdGVyOiBhbHBoYShvcGFjaXR5PTUwKTt3aWR0aDogMTEwJTt9LmF0bHdkZy1wb3B1cCB7cG9zaXRpb246IGFic29sdXRlO30uYXRsd2RnLXRyaWdnZXIuYXRsd2RnLVJJR0hUIHtsZWZ0OiBhdXRvO3JpZ2h0OiAwO2ZpbHRlcjogcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkJhc2ljSW1hZ2Uocm90YXRpb249MSk7fSI7QVRMX0pRLmlzUXVpcmtzTW9kZT1mdW5jdGlvbigpe3JldHVybiJDU1MxQ29tcGF0IiE9ZG9jdW1lbnQuY29tcGF0TW9kZX0sQVRMX0pRLklzc3VlRGlhbG9nPWZ1bmN0aW9uKG9wdGlvbnMpe3ZhciAkYm9keT0kKCJib2R5IiksdGhhdD10aGlzLHNob3dEaWFsb2c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhhdC5zaG93KCksITF9O2lmKG9wdGlvbnMuYmFzZVVybHx8KG9wdGlvbnMuYmFzZVVybD0iaHR0cHM6Ly9ieXN0b3JlZC5hdGxhc3NpYW4ubmV0IiksdGhpcy5vcHRpb25zPW9wdGlvbnMsdGhpcy5mcmFtZVVybD1vcHRpb25zLmJhc2VVcmwrIi9yZXN0L2NvbGxlY3RvcnMvMS4wL3RlbXBsYXRlL2Zvcm0vIit0aGlzLm9wdGlvbnMuY29sbGVjdG9ySWQrIj9vc19hdXRoVHlwZT1ub25lIiwkKCJoZWFkIikuYXBwZW5kKCI8c3R5bGUgdHlwZT0ndGV4dC9jc3MnPiIrY3NzKyI8L3N0eWxlPiIpLCJDVVNUT00iPT09dGhpcy5vcHRpb25zLnRyaWdnZXJQb3NpdGlvbil7dmFyIG9sZFRyaWdnZXJGdW5jdGlvbjtpZih0aGlzLm9wdGlvbnMudHJpZ2dlckZ1bmN0aW9uKXRyeXtvbGRUcmlnZ2VyRnVuY3Rpb249ZXZhbCgiKCIrdGhpcy5vcHRpb25zLnRyaWdnZXJGdW5jdGlvbisiKSIpfWNhdGNoKGkpe30kKGZ1bmN0aW9uKCl7dHJ5e3ZhciBpO2k9d2luZG93LkFUTF9KUV9QQUdFX1BST1BTJiYod2luZG93LkFUTF9KUV9QQUdFX1BST1BTLnRyaWdnZXJGdW5jdGlvbnx8d2luZG93LkFUTF9KUV9QQUdFX1BST1BTWyJlMGM2Y2Q0OCJdJiZ3aW5kb3cuQVRMX0pRX1BBR0VfUFJPUFNbImUwYzZjZDQ4Il0udHJpZ2dlckZ1bmN0aW9uKT93aW5kb3cuQVRMX0pRX1BBR0VfUFJPUFMudHJpZ2dlckZ1bmN0aW9ufHx3aW5kb3cuQVRMX0pRX1BBR0VfUFJPUFNbImUwYzZjZDQ4Il0udHJpZ2dlckZ1bmN0aW9uOm9sZFRyaWdnZXJGdW5jdGlvbiwkLmlzRnVuY3Rpb24oaSkmJmkoc2hvd0RpYWxvZyl9Y2F0Y2goaSl7fX0pfWVsc2UgaWYoJC5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy50cmlnZ2VyUG9zaXRpb24pKXRyeXt0aGlzLm9wdGlvbnMudHJpZ2dlclBvc2l0aW9uKHNob3dEaWFsb2cpfWNhdGNoKGkpe31lbHNlIGlmKHRoaXMub3B0aW9ucy50cmlnZ2VyUG9zaXRpb24mJnRoaXMub3B0aW9ucy50cmlnZ2VyVGV4dCl7dmFyIHRyaWdnZXJDbGFzcz0iYXRsd2RnLXRyaWdnZXIgYXRsd2RnLSIrdGhpcy5vcHRpb25zLnRyaWdnZXJQb3NpdGlvbiwkdHJpZ2dlcj0kKCI8YSBocmVmPScjJyBpZD0nYXRsd2RnLXRyaWdnZXInLz4iKS5hZGRDbGFzcyh0cmlnZ2VyQ2xhc3MpLnRleHQodGhpcy5vcHRpb25zLnRyaWdnZXJUZXh0KTskYm9keS5hcHBlbmQoJHRyaWdnZXIpLCR0cmlnZ2VyLmNsaWNrKHNob3dEaWFsb2cpfXZhciAkaWZyYW1lQ29udGFpbmVyPSQoIjxkaXYgaWQ9J2F0bHdkZy1jb250YWluZXInLz4iKS5hZGRDbGFzcygiYXRsd2RnLXBvcHVwIGF0bHdkZy1oaWRkZW4iKSwkYmxhbmtldD0kKCI8ZGl2IGlkPSdhdGx3ZGctYmxhbmtldCcgY2xhc3M9J2F0bHdkZy1ibGFua2V0Jy8+IikuaGlkZSgpOyRib2R5LmFwcGVuZCgkYmxhbmtldCkuYXBwZW5kKCRpZnJhbWVDb250YWluZXIpO3ZhciBicm93c2VyPWZ1bmN0aW9uKGkpe2k9aS50b0xvd2VyQ2FzZSgpO3ZhciB0PS8obXNpZSkgKFtcdy5dKykvLmV4ZWMoaSl8fFtdO3JldHVybntpc0lFOiEhdFsxXSx2ZXJzaW9uOnRbMl18fCIwIn19KG5hdmlnYXRvci51c2VyQWdlbnQpO2lmKGJyb3dzZXIuaXNJRSYmKEFUTF9KUS5pc1F1aXJrc01vZGUoKXx8YnJvd3Nlci52ZXJzaW9uPDkpKXskKCJoZWFkIikuYXBwZW5kKCI8c3R5bGUgdHlwZT0ndGV4dC9jc3MnPiIrY3NzSUUrIjwvc3R5bGU+Iik7dmFyIHRyaWdnZXJBZGp1c3Rlcj1mdW5jdGlvbihpKXt9O2lmKCJUT1AiPT09dGhpcy5vcHRpb25zLnRyaWdnZXJQb3NpdGlvbil0cmlnZ2VyQWRqdXN0ZXI9ZnVuY3Rpb24oaSl7JCgiI2F0bHdkZy10cmlnZ2VyIikuY3NzKCJ0b3AiLCQod2luZG93KS5zY3JvbGxUb3AoKSsicHgiKX07ZWxzZSBpZigiUklHSFQiPT09dGhpcy5vcHRpb25zLnRyaWdnZXJQb3NpdGlvbil0cmlnZ2VyQWRqdXN0ZXI9ZnVuY3Rpb24oaSl7dmFyIHQ9JCgiI2F0bHdkZy10cmlnZ2VyIik7dC5jc3MoInRvcCIsJCh3aW5kb3cpLmhlaWdodCgpLzItdC5vdXRlcldpZHRoKCkvMiskKHdpbmRvdykuc2Nyb2xsVG9wKCkrInB4IiksQVRMX0pRLmlzUXVpcmtzTW9kZSgpfHwiOC4wIiE9PWJyb3dzZXIudmVyc2lvbnx8dC5jc3MoInJpZ2h0IiwtKHQub3V0ZXJIZWlnaHQoKS10Lm91dGVyV2lkdGgoKSkrInB4Iil9O2Vsc2UgaWYoIlNVQlRMRSI9PT10aGlzLm9wdGlvbnMudHJpZ2dlclBvc2l0aW9uKXt2YXIgb3V0ZXJIZWlnaHQ9JHRyaWdnZXIub3V0ZXJIZWlnaHQoKTt0cmlnZ2VyQWRqdXN0ZXI9ZnVuY3Rpb24oaSl7dmFyIHQ9JCh3aW5kb3cpOyR0cmlnZ2VyLmNzcygidG9wIix0LnNjcm9sbFRvcCgpK3QuaGVpZ2h0KCktb3V0ZXJIZWlnaHQrInB4Iil9fSQod2luZG93KS5iaW5kKCJzY3JvbGwgcmVzaXplIix0cmlnZ2VyQWRqdXN0ZXIpLHRyaWdnZXJBZGp1c3RlcigpfX0sQVRMX0pRLklzc3VlRGlhbG9nLnByb3RvdHlwZT17aGlkZURpYWxvZzp2b2lkIDAsc2hvdzpmdW5jdGlvbigpe3ZhciBpPXRoaXMsdD0kKCIjYXRsd2RnLWNvbnRhaW5lciIpLG89JCgiYm9keSIpLGU9JCgnPGlmcmFtZSBpZD0iYXRsd2RnLWZyYW1lIiBzY3JvbGxpbmc9Im5vIiBmcmFtZWJvcmRlcj0iMCIgc3JjPSInK3RoaXMuZnJhbWVVcmwrJyI+PC9pZnJhbWU+Jykscj0iSXNzdWUgY29sbGVjdG9yIGlzIGxvYWRpbmciLEE9JCgnPGRpdiBpZD0iYXRsd2RnLWxvYWRpbmciIGNsYXNzPSJhdGx3ZGctbG9hZGluZyIgdGl0bGU9IicrcisnIiB0YWJpbmRleD0iMCI+PC9kaXY+Jyk7dC5jc3MoImhlaWdodCIsIjYwMHB4IiksaGlkZURpYWxvZz1mdW5jdGlvbih0KXsyNz09PXQua2V5Q29kZSYmaS5oaWRlKCl9LEEuYXBwZW5kVG8oImJvZHkiKSxBLnNob3coKSxBLmZvY3VzKCksby5jc3MoIm92ZXJmbG93IiwiaGlkZGVuIikua2V5ZG93bihoaWRlRGlhbG9nKSx3aW5kb3cuc2Nyb2xsKDAsMCk7dmFyIG49IiI7aWYodGhpcy5vcHRpb25zLmNvbGxlY3RGZWVkYmFjayl7dmFyIGc9dGhpcy5vcHRpb25zLmNvbGxlY3RGZWVkYmFjaygpO249W107Zm9yKHZhciBzIGluIGcpZy5oYXNPd25Qcm9wZXJ0eShzKSYmZ1tzXSYmInN0cmluZyI9PXR5cGVvZiBnW3NdJiZuLnB1c2goIioiK3MrIio6ICIrZ1tzXSk7bj1uLmpvaW4oIlxuIil9dmFyIGE9e307dGhpcy5vcHRpb25zLmZpZWxkVmFsdWVzJiYhJC5pc0VtcHR5T2JqZWN0KHRoaXMub3B0aW9ucy5maWVsZFZhbHVlcykmJiQuZXh0ZW5kKGEsdGhpcy5vcHRpb25zLmZpZWxkVmFsdWVzKSxlLm9uKCJsb2FkIixmdW5jdGlvbigpe3ZhciB0PXttZXNzYWdlVHlwZToiY29sbGVjdG9yLmlmcmFtZS5sb2FkZWQiLGZlZWRiYWNrU3RyaW5nOm4sZmllbGRWYWx1ZXM6YX07ZVswXS5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHQpLGkub3B0aW9ucy5iYXNlVXJsKX0pLHQuc2hvdygpLHRoaXMub3B0aW9ucy5jdXN0b21IZWlnaHQmJnNldERpYWxvZ0hlaWdodCh0aGlzLm9wdGlvbnMuY3VzdG9tSGVpZ2h0KSwkKHdpbmRvdykuYmluZCgibWVzc2FnZSIsZnVuY3Rpb24obyl7aWYoby5vcmlnaW5hbEV2ZW50LnNvdXJjZT09PWVbMF0uY29udGVudFdpbmRvdyYmby5vcmlnaW5hbEV2ZW50LmRhdGEpaWYoImNhbmNlbEZlZWRiYWNrRGlhbG9nIj09PW8ub3JpZ2luYWxFdmVudC5kYXRhKWkuaGlkZSgpO2Vsc2UgaWYoImNvbGxlY3RvckxvYWRlZCI9PT1vLm9yaWdpbmFsRXZlbnQuZGF0YSlBLnJlbW92ZSgpLHQucmVtb3ZlQ2xhc3MoImF0bHdkZy1oaWRkZW4iKTtlbHNlIGlmKCFpLm9wdGlvbnMuY3VzdG9tSGVpZ2h0KXRyeXt2YXIgcj1KU09OLnBhcnNlKG8ub3JpZ2luYWxFdmVudC5kYXRhKTtzZXREaWFsb2dIZWlnaHQoci5mcmFtZUhlaWdodCl9Y2F0Y2goaSl7fX0pO3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTtkLmhyZWY9Imh0dHBzOi8vYnlzdG9yZWQuYXRsYXNzaWFuLm5ldCIsdC5hcHBlbmQoZSksJCgiI2F0bHdkZy1ibGFua2V0Iikuc2hvdygpfSxoaWRlOmZ1bmN0aW9uKCl7JCgiYm9keSIpLmNzcygib3ZlcmZsb3ciLCJhdXRvIikudW5iaW5kKCJrZXlkb3duIixoaWRlRGlhbG9nKSwkKCIjYXRsd2RnLWNvbnRhaW5lciIpLmFkZENsYXNzKCJhdGx3ZGctaGlkZGVuIikuaGlkZSgpLmVtcHR5KCksJCgiI2F0bHdkZy1ibGFua2V0IikuaGlkZSgpfX07dmFyIGZpbHRlclN0cmluZ3M9ZnVuY3Rpb24oaSx0KXtmb3IodmFyIG8gaW4gaSlpZihpLmhhc093blByb3BlcnR5KG8pKXt2YXIgZT1pW29dO2lmKHZvaWQgMD09PXQmJiQuaXNBcnJheShlKSlmaWx0ZXJTdHJpbmdzKGUsbyk7ZWxzZSBpZigic3RyaW5nIiE9dHlwZW9mIGUpe3ZhciByPXZvaWQgMD09PXQ/bzp0KyI6IitvO2NvbnNvbGUubG9nKCJib290c3RyYXAuanM6ZmlsdGVyU3RyaW5ncyBpZ25vcmluZyBrZXkgZm9yIHZhbHVlICciK3IrIic7IHR5cGVvZiBtdXN0IGJlIHN0cmluZyIpLGRlbGV0ZSBpW29dfX1yZXR1cm4gaX07QVRMX0pRKGZ1bmN0aW9uKCl7dmFyIGk9ZnVuY3Rpb24oaSx0KXtpZihpLmVuYWJsZWQpe3ZhciBvLGU9ITEscj17fTtpZih3aW5kb3cuQVRMX0pRX1BBR0VfUFJPUFMmJihyPXdpbmRvdy5BVExfSlFfUEFHRV9QUk9QUy5maWVsZFZhbHVlcyx3aW5kb3cuQVRMX0pRX1BBR0VfUFJPUFMuaGFzT3duUHJvcGVydHkodCkmJihyPXdpbmRvdy5BVExfSlFfUEFHRV9QUk9QU1t0XS5maWVsZFZhbHVlcyksJC5pc0Z1bmN0aW9uKHIpPyQuZXh0ZW5kKHIsZmlsdGVyU3RyaW5ncyhyKCkpKTokLmlzUGxhaW5PYmplY3QocikmJiQuZXh0ZW5kKHIsZmlsdGVyU3RyaW5ncyhyKSkpLGkucmVjb3JkV2ViSW5mbyl7dmFyIEE9e0xvY2F0aW9uOndpbmRvdy5sb2NhdGlvbi5ocmVmLFJlZmVycmVyOmRvY3VtZW50LnJlZmVycmVyLCJVc2VyLUFnZW50IjpuYXZpZ2F0b3IudXNlckFnZW50LCJTY3JlZW4gUmVzb2x1dGlvbiI6c2NyZWVuLndpZHRoKyIgeCAiK3NjcmVlbi5oZWlnaHR9O2lmKHdpbmRvdy5BVExfSlFfUEFHRV9QUk9QUyl7dmFyIG49d2luZG93LkFUTF9KUV9QQUdFX1BST1BTLmVudmlyb25tZW50O3dpbmRvdy5BVExfSlFfUEFHRV9QUk9QUy5oYXNPd25Qcm9wZXJ0eSh0KSYmKG49d2luZG93LkFUTF9KUV9QQUdFX1BST1BTW3RdLmVudmlyb25tZW50KSwkLmlzRnVuY3Rpb24obik/JC5leHRlbmQoQSxuKCkpOiQuZXh0ZW5kKEEsbil9ZT1mdW5jdGlvbigpe3JldHVybiBBfX13aW5kb3cuQVRMX0pRX1BBR0VfUFJPUFMmJndpbmRvdy5BVExfSlFfUEFHRV9QUk9QUy5oZWlnaHQmJihvPXdpbmRvdy5BVExfSlFfUEFHRV9QUk9QUy5oZWlnaHQpLG5ldyBBVExfSlEuSXNzdWVEaWFsb2coe2NvbGxlY3RvcklkOnQsZmllbGRWYWx1ZXM6cixjb2xsZWN0RmVlZGJhY2s6ZSx0cmlnZ2VyVGV4dDppLnRyaWdnZXJUZXh0LHRyaWdnZXJQb3NpdGlvbjppLnRyaWdnZXJQb3NpdGlvbix0cmlnZ2VyRnVuY3Rpb246aS50cmlnZ2VyRnVuY3Rpb24sYmFzZVVybDppLmJhc2VVcmwsY3VzdG9tSGVpZ2h0Om99KX19O2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgQVRMX0pRX0NPTkZJR1MpZm9yKHZhciB0IGluIEFUTF9KUV9DT05GSUdTKXt2YXIgbz1BVExfSlFfQ09ORklHU1t0XTtkZWxldGUgQVRMX0pRX0NPTkZJR1NbdF0saShvLHQpfWVsc2V7dmFyIGU9Imh0dHBzOi8vYnlzdG9yZWQuYXRsYXNzaWFuLm5ldCI7JC5hamF4KHt1cmw6ZSsiL3Jlc3QvY29sbGVjdG9ycy8xLjAvY29uZmlndXJhdGlvbi90cmlnZ2VyL2UwYzZjZDQ4P29zX2F1dGhUeXBlPW5vbmUiLGRhdGFUeXBlOiJqc29ucCIsY3Jvc3NEb21haW46ITAsanNvbnBDYWxsYmFjazoidHJpZ2dlcl9lMGM2Y2Q0OCIsY2FjaGU6ITAsc3VjY2VzczpmdW5jdGlvbih0KXtpKHQsImUwYzZjZDQ4Iil9fSl9fSksMD09PSJlMGM2Y2Q0OCIubGVuZ3RoJiYod2luZG93LkFUTF9KUT1BVExfSlEpfShqUXVlcnkpOzs=</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="330114687" offset="0" length="4463" />
        <PacketInfo time="330114687" offset="4463" length="1392" />
        <PacketInfo time="330114687" offset="5855" length="1571" />
        <PacketInfo time="330114703" offset="7426" length="212" />
        <PacketInfo time="330114703" offset="7638" length="1445" />
        <PacketInfo time="330114828" offset="9083" length="1450" />
        <PacketInfo time="330114828" offset="10533" length="323" />
        <PacketInfo time="330114843" offset="10856" length="2665" />
        <PacketInfo time="330114843" offset="13521" length="250" />
        <PacketInfo time="330114843" offset="13771" length="2720" />
        <PacketInfo time="330114843" offset="16491" length="316" />
        <PacketInfo time="330114859" offset="16807" length="1081" />
        <PacketInfo time="330114953" offset="17888" length="1948" />
        <PacketInfo time="330114953" offset="19836" length="1067" />
        <PacketInfo time="330114953" offset="20903" length="1633" />
        <PacketInfo time="330114953" offset="22536" length="1270" />
        <PacketInfo time="330114953" offset="23806" length="1351" />
        <PacketInfo time="330114968" offset="25157" length="3290" />
        <PacketInfo time="330114984" offset="28447" length="4332" />
        <PacketInfo time="330115109" offset="32779" length="4352" />
        <PacketInfo time="330115109" offset="37131" length="1455" />
        <PacketInfo time="330115109" offset="38586" length="2205" />
        <PacketInfo time="330115109" offset="40791" length="5" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
  <HTTPTask id="1349" hostname="bystored.atlassian.net" path="/rest/collectors/1.0/configuration/trigger/e0c6cd48?os_authType=none&amp;callback=trigger_e0c6cd48" url="https://bystored.atlassian.net/rest/collectors/1.0/configuration/trigger/e0c6cd48?os_authType=none&amp;callback=trigger_e0c6cd48" ip="18.184.99.128" port="443" connectionId="35" origin="ExtraRes" frame="1" startDateTime="2019-06-23T18:24:39.925+05:00" startTime="330121125" endTime="330121578">
    <QueryString>
      <HTTPDataSet>
        <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
          <ActualData>b3NfYXV0aFR5cGU9bm9uZSZjYWxsYmFjaz10cmlnZ2VyX2UwYzZjZDQ4</ActualData>
        </HTTPData>
      </HTTPDataSet>
      <IsExternalData>false</IsExternalData>
    </QueryString>
    <HTTPSplittedQueryStrings>
      <HTTPHeaderEntity name="os_authType" index="0">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>bm9uZQ==</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
      <HTTPHeaderEntity name="callback" index="1">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>dHJpZ2dlcl9lMGM2Y2Q0OA==</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
    </HTTPSplittedQueryStrings>
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Host" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YnlzdG9yZWQuYXRsYXNzaWFuLm5ldA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc1LjAuMzc3MC4xMDAgU2FmYXJpLzUzNy4zNg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ki8q</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cDovL3FhMS5ieXN0b3JlZC5jb20vY29udGFjdC11cw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZSwgYnI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVMsZW47cT0wLjk=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9yZXN0L2NvbGxlY3RvcnMvMS4wL2NvbmZpZ3VyYXRpb24vdHJpZ2dlci9lMGM2Y2Q0OD9vc19hdXRoVHlwZT1ub25lJmNhbGxiYWNrPXRyaWdnZXJfZTBjNmNkNDggSFRUUC8xLjENCkhvc3Q6IGJ5c3RvcmVkLmF0bGFzc2lhbi5uZXQNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS83NS4wLjM3NzAuMTAwIFNhZmFyaS81MzcuMzYNCkFjY2VwdDogKi8qDQpSZWZlcmVyOiBodHRwOi8vcWExLmJ5c3RvcmVkLmNvbS9jb250YWN0LXVzDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUsIGJyDQpBY2NlcHQtTGFuZ3VhZ2U6IGVuLVVTLGVuO3E9MC45DQoNCg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <contentLenght>0</contentLenght>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Server" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QXRsYXNzaWFuUHJveHkvMS4xNS44LjE=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Vary" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bm8tdHJhbnNmb3JtLCBtYXgtYWdlPTM2MDA=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Type" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24veC1qYXZhc2NyaXB0O2NoYXJzZXQ9VVRGLTg=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Strict-Transport-Security" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT0zMTUzNjAwMDA7IGluY2x1ZGVTdWJEb21haW5zOyBwcmVsb2Fk</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>U3VuLCAyMyBKdW4gMjAxOSAxMzoyNDowMiBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ATL-TraceId" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>OGM1N2YzZjg1OWE4NzNiNw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-AREQUESTID" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>OWUwMjBmODMtYzFjMS00MGFjLTg1ZGUtMzNjZjI5ZjM3ZDVm</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Expires" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>U3VuLCAyMyBKdW4gMjAxOSAxNDoyNDowMiBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-XSS-Protection" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MTsgbW9kZT1ibG9jaw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Transfer-Encoding" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Y2h1bmtlZA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Timing-Allow-Origin" index="12">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Kg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Content-Type-Options" index="13">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bm9zbmlmZg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="14">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Set-Cookie" index="15">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXRsYXNzaWFuLnhzcmYudG9rZW49QlRXOS1SVjg0LVZRRlgtUEtaUF82NDEyMTBjMDc2ZWZiMjk1MjBlMTBjYWE3ZTQyZTZiYTdjYTcwYjAyX2xvdXQ7IFBhdGg9LzsgU2VjdXJl</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIA0KU2VydmVyOiBBdGxhc3NpYW5Qcm94eS8xLjE1LjguMQ0KVmFyeTogQWNjZXB0LUVuY29kaW5nDQpDYWNoZS1Db250cm9sOiBuby10cmFuc2Zvcm0sIG1heC1hZ2U9MzYwMA0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi94LWphdmFzY3JpcHQ7Y2hhcnNldD1VVEYtOA0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KU3RyaWN0LVRyYW5zcG9ydC1TZWN1cml0eTogbWF4LWFnZT0zMTUzNjAwMDA7IGluY2x1ZGVTdWJEb21haW5zOyBwcmVsb2FkDQpEYXRlOiBTdW4sIDIzIEp1biAyMDE5IDEzOjI0OjAyIEdNVA0KQVRMLVRyYWNlSWQ6IDhjNTdmM2Y4NTlhODczYjcNClgtQVJFUVVFU1RJRDogOWUwMjBmODMtYzFjMS00MGFjLTg1ZGUtMzNjZjI5ZjM3ZDVmDQpFeHBpcmVzOiBTdW4sIDIzIEp1biAyMDE5IDE0OjI0OjAyIEdNVA0KWC1YU1MtUHJvdGVjdGlvbjogMTsgbW9kZT1ibG9jaw0KVHJhbnNmZXItRW5jb2Rpbmc6IGNodW5rZWQNClRpbWluZy1BbGxvdy1PcmlnaW46ICoNClgtQ29udGVudC1UeXBlLU9wdGlvbnM6IG5vc25pZmYNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNClNldC1Db29raWU6IGF0bGFzc2lhbi54c3JmLnRva2VuPUJUVzktUlY4NC1WUUZYLVBLWlBfNjQxMjEwYzA3NmVmYjI5NTIwZTEwY2FhN2U0MmU2YmE3Y2E3MGIwMl9sb3V0OyBQYXRoPS87IFNlY3VyZQ0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>dHJpZ2dlcl9lMGM2Y2Q0OCh7ImVuYWJsZWQiOnRydWUsInJlY29yZFdlYkluZm8iOnRydWUsImJhc2VVcmwiOiJodHRwczovL2J5c3RvcmVkLmF0bGFzc2lhbi5uZXQiLCJ0cmlnZ2VyUG9zaXRpb24iOiJSSUdIVCIsInRyaWdnZXJUZXh0IjoiUHJvdmlkZSBmZWVkYmFjayJ9KQ==</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="330121578" offset="0" length="835" />
        <PacketInfo time="330121687" offset="835" length="23" />
        <PacketInfo time="330121687" offset="858" length="5" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
  <HTTPTask id="1399" hostname="d15gbi1wjka43z.cloudfront.net" path="/bs-light-theme/sales-avatar.png" url="https://d15gbi1wjka43z.cloudfront.net/bs-light-theme/sales-avatar.png" ip="99.86.157.108" port="443" connectionId="17" origin="ExtraRes" frame="1" startDateTime="2019-06-23T18:24:39.990+05:00" startTime="330127515" endTime="330127687">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Host" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZDE1Z2JpMXdqa2E0M3ouY2xvdWRmcm9udC5uZXQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc1LjAuMzc3MC4xMDAgU2FmYXJpLzUzNy4zNg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aW1hZ2Uvd2VicCxpbWFnZS9hcG5nLGltYWdlLyosKi8qO3E9MC44</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cDovL3FhMS5ieXN0b3JlZC5jb20vY29udGFjdC11cw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZSwgYnI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVMsZW47cT0wLjk=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9icy1saWdodC10aGVtZS9zYWxlcy1hdmF0YXIucG5nIEhUVFAvMS4xDQpIb3N0OiBkMTVnYmkxd2prYTQzei5jbG91ZGZyb250Lm5ldA0KQ29ubmVjdGlvbjoga2VlcC1hbGl2ZQ0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc1LjAuMzc3MC4xMDAgU2FmYXJpLzUzNy4zNg0KQWNjZXB0OiBpbWFnZS93ZWJwLGltYWdlL2FwbmcsaW1hZ2UvKiwqLyo7cT0wLjgNClJlZmVyZXI6IGh0dHA6Ly9xYTEuYnlzdG9yZWQuY29tL2NvbnRhY3QtdXMNCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZSwgYnINCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMsZW47cT0wLjkNCg0K</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <contentLenght>8277</contentLenght>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Content-Type" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aW1hZ2UvcG5n</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Length" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ODI3Nw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAxOCBKdW4gMjAxOSAxMDo0NDozOSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Server" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QXBhY2hlLzIuNC4zMyAoVWJ1bnR1KQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>U3VuLCAyMiBKdWwgMjAxOCAwNzoxMDowNSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IjIwNTUtNTcxOTEzN2U1NGQ3ZiI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Ranges" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ynl0ZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT0zMTUzNjAwMA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Expires" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>V2VkLCAxNyBKdW4gMjAyMCAxMDo0NDozOSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Access-Control-Allow-Origin" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Kg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Age" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>NDQxNTY5</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Cache" index="12">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SGl0IGZyb20gY2xvdWRmcm9udA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Via" index="13">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MS4xIDQwYTkwMmYyODY1NjM5MTVhZWE4MDU4NDQ1MmRiNTc3LmNsb3VkZnJvbnQubmV0IChDbG91ZEZyb250KQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Amz-Cf-Pop" index="14">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TVhQNjQtQzI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Amz-Cf-Id" index="15">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWkyQmNjdjRNb3FlNHVuVXFQNTktcjY2UEpuWkZCcXp4NVhXSlFTMi1TTzhZbmxybTl1dTB3PT0=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LVR5cGU6IGltYWdlL3BuZw0KQ29udGVudC1MZW5ndGg6IDgyNzcNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkRhdGU6IFR1ZSwgMTggSnVuIDIwMTkgMTA6NDQ6MzkgR01UDQpTZXJ2ZXI6IEFwYWNoZS8yLjQuMzMgKFVidW50dSkNCkxhc3QtTW9kaWZpZWQ6IFN1biwgMjIgSnVsIDIwMTggMDc6MTA6MDUgR01UDQpFVGFnOiAiMjA1NS01NzE5MTM3ZTU0ZDdmIg0KQWNjZXB0LVJhbmdlczogYnl0ZXMNCkNhY2hlLUNvbnRyb2w6IG1heC1hZ2U9MzE1MzYwMDANCkV4cGlyZXM6IFdlZCwgMTcgSnVuIDIwMjAgMTA6NDQ6MzkgR01UDQpBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW46ICoNCkFnZTogNDQxNTY5DQpYLUNhY2hlOiBIaXQgZnJvbSBjbG91ZGZyb250DQpWaWE6IDEuMSA0MGE5MDJmMjg2NTYzOTE1YWVhODA1ODQ0NTJkYjU3Ny5jbG91ZGZyb250Lm5ldCAoQ2xvdWRGcm9udCkNClgtQW16LUNmLVBvcDogTVhQNjQtQzINClgtQW16LUNmLUlkOiBtaTJCY2N2NE1vcWU0dW5VcVA1OS1yNjZQSm5aRkJxeng1WFdKUVMyLVNPOFlubHJtOXV1MHc9PQ0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>iVBORw0KGgoAAAANSUhEUgAAADsAAAA7CAYAAAGyIsIlAAAAAXNSR0IArs4c6QAAIA9JREFUaAXNewd4XNW17j+9STOjNmoe9W5bsi33jivYEMD0kke5lIQkXEIogce7ITxCEgg3hB4IhDR/JPQApsQYF2yMbcBFtixZstW7NJqm6TPvX8eWkFzCTd697779fUdzzj5n77XX3muv8q8tYFxJJBKP8Do0rur4LSsXnr+qNvH6PfMSxVnWxB3XLWdVIiFvtfLnsgsWbLMmJeH8s/8HzlsawJQbH4TmtivBb0xq/nkkyWiCyazFT/+4GZv39iARj8CSWSFtR9T8sxYaFZBQ4/q5CzEJYbz9rQtQPX2BfAC1SqWq2rSjDlOmTcfTO7bisMcH9/Ir8fBPH5L3TWzKxixfNnchvOdd9LQdRWvF5bj1vBqwsfJevlEGJB+eKEeUypP/8KWHV+Fo/Vj3D39vLdz93TjS1oNn396LtPRMlUL32ssXJ64+qzwRP7wx0fDUtxNzKrIVCprqyoL7mw8fwHfOXQHvsAbBkW7YZl+I7o4WaD/f/Sniai0c2UVw2tIxEClFrmMamg/uhkraP/6z7yOeMR2DH21Am7sLCy+8EEuXrIZWeBoY9ie+d8//xg1nL4O/uxGugtUoLa2yjTErPYyxcGISxl6Ovhj96JX1L+DLLa/BkJKDex54Gnq9Xj5pYDtlleRhrLE0unjtfCSZtNAGApicb8f2A+3QaNWIxlTYdqANF1+wBNfceDvmzF+mLIEiJ9LwygvnIzlZi3AkjmVTK3HJBZfgWwkVYp5+uLsasOy+ZxBLaPHx+2/gndd+p8yvhu2837r2XI5KD4POCGMwgKtXL0L7kX6kG9TY/tlBdjiMXJMZg8l5yCytQSIcxuKlK5WpLIxGIkdf/t1DUGtNXIQAwr0uHDvUhwVza/Hmlo1YU1sM1ZRaRKIq3MNZfeSRB3DxRVcd55nUD3d1dZYbzUkY8EXw+IMP4KxKB97auI2y0I5fXLMSX+Rfgal5NjjTDSguLFJ4HpswmT3hXX7f392Ml377Ii4r0iBhtuKlAx489qMfoCjLJq9tnHGP3Jy2sI9CXod4iYg+ctqPWKnM9uhLfniY9+XhcAg/vP0mWGJDqFly0R2sv0O+IcUJIx1rzA8S/X3d+Pb1F2FVhR26nhb0j8Tw47tug/uTZ7HTbR9laxH7+ETpTP5Iw48+/Cuee/JhrKl2oO6oCz6vBx2uEMKhKPY1d1CI1Vh30XI8/twbYyPQsp1JOvjtMw/DmqzHruZBPHH9+VDZchGPxRAfaMHCHzyBhm43ko1a3HvbVQoxYUH0yMgVFyxAjB8GA0H0DgaoXVIQDmoRDGsxHDXg9989B9PLndDok6DVCKnjReHZbDRyNuLQaDTIt5pw6Eg7Dh4bxNKZ0/DJbuqfzAi+cdPd0IT8cFh12EgR5YgfEcpgKxj0Zui0OtyyajUK09MwsyQf5oFDyE/Ngk5vwTt//A2KS8ow4gd27d4urb6lNI5GguDGoQxH8LdD+xBTpyHVoOcQbZhaOpm7So3Fay+DX2WkJvAg2ZYijduVYS9dMAMG+yQRdPz5zY+Qn9eFdl8UuuEAXln/HFbPzEHVHBue/eWPkWo14+WX35LGa4Vykzl7Fp57cT0Ghobw1t8+wfqPtqDYokc7VahaE8KwsQAR7jajWgVPIKTMDSf7mCIxss5vbngdU6oXIxSNwfXxH/Dgb19HQUYa5pdZsfnLFsy65QlMcZoxb2oxtFqdolFGG1s5Aveehm4MuIaR1LABrpEoTDoTot4+/OVIDM7aBbj5GwuRk2EfE5IxWSVxpYMjHf3YumsvslyHEPd62XAEtWu/idvWVAqfYw2Vh5P/sJMjwsZpiiKJJ3//d5/ZiYnXmTo8DQ3l268lNMbyeOrsTWF/tO7tt17Bc9w3ZdmpsOvVuKBGgy8buxCMG+EbCaOmNB37+4zY3zWCb173PSxbdd5oU/k9reKZQHg8wY0fvIWn/v0n0Bs0yEsxwUDZSzLE8fnBZqTYbajv8CDFrEcqNT1XHW63G4P+CNr6/Lj43IXwxoy4+vrvYN7CFaODmDCAMcIkqiiv/r4e3HL9BdxiGqjVOiRiCZRlGdHQ2A6TWo2f3XIxLGlOuDxudLQ2wz3kwWs79mF/hxtuEraa1Ogf9qE4NxNTZlZTsatw74NPIyU1XQYwZugUwiQqrkHJB+++hueefhgmbsU4OYyzUq+mGff5cM5kJy5btRJaaw4HRNWkNiLsc0MbHYEq6uMed+Hg4UZc+st3kJuTBlEu82ZXQm2wwu/34dKrbsYCGnOWJm6oUtF9hUJU1PRf/vAkbFYLx5jgjlMhGqHtUCcQiGkQTRgAsw1ag46ibaLCikPPKab6QZh+VTxGkeeMlOSmYsGKRQphsTxqlRZGnQabPnwVs2mVdTpdidAUV0N8vsr77rwB3V1t0KrjiMRV5JSTQf9kaGAQDy7gOhWa8fGORrxf14mSJBMuv/QcxIc68MZWKiyDGSsrMjnYQfzb+k8Qq12JkCUJiw0RyoURedR6fvcQLGYVbrzlXpJDvSgvp9z19XaLHuWodTDQh1BxuPFEGPlmI+zF2VDZTbjp6nm4kQvgd/UjyWxCSNWPikuXU1uYqS2BY+0HcOu86dgS1iCsU2FSeTU27a5Hcr4RkcAIXO4RISVlknAspvOOPTs/xME978GQlEZlx2nl3MkqR+ibuPqHMX3SJPg7B7Fp3zGUZGXA7fMi6O6EWZcMWzoFqTAZ3UOdwKyzoUlQOjhwn9eH1q4u5LNtss2GsrIpKCutEsK/GBUuWQ689OT3YTDaOcPJnO4oiYapaUO466HnkWEx4Mqzl1ORZqLKr0WirBheWmKjpwPvdg9REw9h8uxZSMnORYKGJ8bd8Oarb8Juz8UQv7niystx2SXXChlF/Y0SFk2jzEMOJXLtksmwp9iQkunEeRfdgEnOEtz9Px/FNbNteOCFV3DTskVIT3FgoK8fOxsPor6rAz+8YB6efX8/Ft/8I9SWZcNqpkBt3ojf//FVmKl0/va3zUJTiplSHVAIH3/+ygVyeUdwtHuY1dyFXLsg7cqG3/wcK6cVIRrXwh0Kcb2GEea6pXBVcmiLtbSMz28/iqlX308HbhgZaalwULnMqchFVpriOk1Q9BMIywC45gv5s03uQ5EojnQO4bP6Nui5aLs3vYWLpmbyLoYRmiDfcD+XxgQdHaNPWr0Il69EeeEkBDwD+Jdz58Ni1Ek3UsYcn+OPwtLfKRyEos1GP4nHE+gacOP3b7yHxuYWil4CFYX5uOy81cinHtdqFPdg9PMxLTVa8U//ciDiSCrxHn+9Jy5xLKWu8J/u+OsasvNref2VVxev6Ilfeb7269r+Q+/Z4a28/pFy69cROOPakspyNt44voO6fZ/TQ3wTzYf3wqINI9lqR3LuZCxfcS4mV88Y/6ncr+B2+ejkSnk+LVESfJfv1sgHsVgUV122CppohAojCTOdjK58Q4zh1DjU5kfJpGSATtXOdpoT+r2PPvWy4sZJW5YNJLz2+O1Xf08hSoKDfJ0qn/zgu9fgaPNhJJsMmJGXhHybBi9t2IXFNXl4d1cnctKTsGV/F7LtOqyekY0MRxr2DplQXjEVd//bo6NUhkg4bfRBficQJUHFKsmLi89bgBCd0AybBXmpZgRof4szaDiGIzjaF4SN0ML2g12YVZKOSQ4bvjjcii+OelBbmQ1HcSW3kRaP/fpV6UpKPQkrClkexjYYCYpRUHzGdWvmQEPzpzMY4MywkHgQA8MjcIdtaOgMIxRWod8Th9ORQtXoxicHB/Epf73BGLbt68LePQfoy0dx200XCg0plSf6Vx4UTlkhQXZIaq6/YjXVoIeG3AAf1Z/dYsQkUxwf7DiMR65biXmLlqKzvRMxBi0Baqft+5qxfvNe9NPP1+t01FQcoDuGdevOQoyGyGpNwf0P/0Yhxj8GcswI6Hhpl5+dOz4mQZ/inOkMKhhjOiUCaWwdxF2XLsa8mfPpMRjhLGT8n5aJaEs9ynOduGh+FTZ+0YQ7/rANek0c/f4QBlqOIbO4nLMSRN3encRp5goJoZM5Or0OqXn0p/cgwuHFeAVGIgiEwjDqtXB5Q1g+ayai2iREYFJ8qdCAj2EPB5UwQm+2o7YoG7UFqZhEy2VPMkBltCgSHqMKfeEZWTmlKHQEc3paHndu38SATMNgk9JFA63VJmBi3BgOxxBW04sIR+m62Kh3NbS9CbHfJK5DkGbB648pErmgIh3H2noxu6YcTroxBksKzPRMkpMsqNu3S6Eq9ITTb8vTb55+iFyZuOHNMJj0jPwkkKMfTGXuInSVULFOFYXRaIA+maaN5A1Gs2I/zTT8ap2e6xpHWooVlZPLuAxAlE6hhp6nXq/DG395USEq9EbXFLFoXIAyZWrlrXgjBpopHYnaLBb0u9zYdeRz7K47giUzZxAqKsVAZysOHW2CzRRCeRanNBFFRlYmZq+5GZ9vegWTa5egvXEfZs5big83/G6U6FfoQoIE1VoZQ5zGN0HPUUuDzki7pQ2rZpQy4tZjx979aOl3Ib2+AVOrSrB913Y0uNWozqbRjo+gsiAbU9I0uO8nt6N2xhL4dmxGEpesua1LXNRTiarp28o6abV6rpp4yFHlmk70JY1x8bTSQqRrzfAG4gxB4shgWDK3MAtlESsFh/GlNkiBc6GYYYo16sK6hXMQN6dgz/uvwT/i4fbRnEpUKEp8rRZ/hb8JSp2aOIOJTvjkMif0xlSUEhKKyRIQqktwHzsJEVSXVEFNIRsYbEcgegw+RvnTZs3Hls/3wGRz4EuPGhfxtysqLB0vY2saVbx5EqJ3H6eXH+e20dGD39rnwRwKQ/+AS9m39Xu/xNxlcxCixKopuV2tbljsBkQ4UD/dmW6HBZOrZsKZV4D+wT446S9FwhHOG4XkZKIrlnLzUuJMllTFKU9QkgR6iSV02Fx/GIum2fH6u5sJ+pXhT79cj7nFaag70oxp5VEkJemouUII2rKQMmcebOoAokMH6UN3IUp8oLC4CDlLVozS/EqQJIahK8ANz3fKFNOLp08bCfjx5492w2xKgZ9TtLWuHueefRaC3YOomZeO1179AKVTCpGTqkMKFX2AGkhFqXAxZHngocc56Dge+9k9sNCNHS2yT5+Rh0WrryYtCQS5pPwbph0N0RU9dJSwT1MLoZ82Otdq3HXVJcihJGcxVLR2DuPO677BiYvicEcf0hyZdNwjvKhIolHMmDoVVc4cBBlBzJyuqEEh9Yxg2LfIXUFJNX7y2MsEWX+FPbs+wwjDhUAogLaOHnJSieKZq+CmtWlsr8fh3mPY8sVOIEWLt3fuxtGuHqyrTqXOtSPVZqd/7KOVCaFnaBh+Go2RQAROZ4GQEV/4llHd2ycVTz7xDIpy7IiOuNBytA7OonL8+vn1eOHFV3Bk53swGrQ40MK4JScD0ytKMDASxMH2LkzJS0FKcgr2Ng3Drc7B/IWrCauuQnXtZAzTST9n9bnSvRSFjsymCM6Yabv1Bzfjnrt+zK1hxAjBPwmwPt17FNHNv0IxpfLPH31CbNzPIFqFIXaYbjPiuqVToY6G8Fx7EZasoCClpCPXpiXmp4YjxYKsrFwhI+Ur0yY2joR/wco7Hn/01/iiidmAKKE2CpSZisRsoiVhvKOjxfnGkgXw0V/qZ+hpYcjpsDB8prZp6HPDQZMXV1GIqEAIycEeNaK6cozgL4SOUB6dXpnrO/lcL5UzSnKU8EBLbuKUYB857o+Z+bUGyVTuZmqtysJKZGdkUdPo4I1qMBzRIdWZR4Ng4Zbg/CQ0WDWrTLqTIu6K9K+UMaLyxBdV/BmS+6kFDgWQHwlFaGHieLeTnQcZUDCmNVBLeYb74PEw6NIbESJW8Wq7gTi8ERbOipX+0+VnTZZupIhjJv2OFWVNx55O3HCq3+XtGnkUcOTNbQeQRZP1k8efxdwcI2qJzoR8I0hOScWutiFsayUst3IdphZm4pL5RYq1OtHVf8wFPfGxCNcpzvZIMIKPd+/He5t3YohQpt2WjHOWzMei2TXUSIwhJ5YzOtsTPzvNE4n/p4cVpyFz5ioO4Fpe//UB1JmHcOobDmger6d5HeP1f1OOsbH0M+9UKv8NNRyIntedvHp5/b8oQkdyM0oC7p9h+bS79UwdkZColJ/zUpJBJ38Xpl3Z+elWbGEOsr5uL81kjEmymOJRVxPWP2tqCpK5vwjLKo5trzuKpr4wDvUEiVJFmHhhZkRnQNXkGixkNm567fzR5OLJpORZlPfdVD9fOSan+2pc3X+IWTJZzDZv81LCu3HtsX3rRvzuxSfR091JE0RLQNh1UiqBR+rE/FQ97Maogly+s7OD2VkLrIzMXAEaO9cIMqx6WpgoDhwjJOcLIzNFj7JcG7IcqQhpLWjs8jO8MyB7Uj4uuuJ61M5aOJ706L0YjvPIdPNoxZl+/y6zJ5jcxcZKlD7aSf3BfXjo/tsx7HIxHBGQk0aTy5WXZoGDqHiUuKN4ltnMJry9vYG4sgmT0i30nYDGTi+NvwYpSWa882krDQ5QU2inhdNgSlEaA289ttf1cjL8sCXpkZnlgMaaiiBxagkObLy/6bv3oKRsgj2RoYnRmv33mD4tsyfEVVZSMTzSk5Q/vfQMXnn5t8fTU3yOclVMjL2m5adARyews9+PIC0j4XP6cRYUZZvoCruJHtCzJfjaPRREN4G4fGZhBwgVG3VqlDvt+LxhAJmpzBXSDyjOMmHvsWFsOtBHG0SLThOvZdRTVeTA9BnTGDhyD3DUIr2rzrkE5154lTK2cX828F5W+hTxPoVZMnqKkZOVvP/ebyurpaGo6jSMC9gyTEfGyJBJxNFJv3/EH8Th1gFGQBFaWQ3SuMpn1eQjycjAkz7GsY5BBqhqJT5o6iKWykCltW8EB9sG6a8Q/mZ/EQlwEkzXRmS/MwSgGyFopYbhnZ4xSM2UIhQSlZaJFrGQtOfNt/4vFJWcssNOMbYTmCWj4tw8PG6WcN8dN+Bo4yGKEJUHZ1VNgmrONFMDx1eRTGmY9s8kcKGm9+31B+B1e3Hn5csZjVHUiHKpGIGLCIr/o3bkIc6Bhvp5SIGp1qh3mAmkELoHB9HQ2oW6lj5sJMZ/sH0IuZlpnCgtOvuG0OeRcCKBaQVpqJlRBa2Fe4QzLgcdJOHsLCjBd25/YPzQ5f4urvAYIDHGLBm9lS9/Nfq1wHZ33no1uro4KHYmeJME0Sri+RQk+lRqas8wMyJamC06hDx+Ou5dWFCZie+sWw27NY3fGjkYRu6EDOjXKnsbZFyO00RdFFOCZqKx1TGq4Ri1cSQAn9+LwSE3tjZ04IkNe+FjyCNbJUgwRrxVOYhQ5kzlShYhbjCTfZl8lSIVGRkOfP/efx8PHwo7/0qGH5cbhVkyKsZ7h1RIkYTWv1y1RvE+lbiZjGp0WnYrKR9Z09E5YvBKZg08ViLZl2Gq2WuWzcDaWRUwJGdAnZTOI0J05Bksqjh5jIu5wlolyJPV1ISplhMUUzIaizGhHuQqU5Q9riEFMXxhax3e3N3EnEcyY3nZv0zzF+ShlOAAZ1HJ1nBIhMX8ZDZEptUwWpLxw/ufYtg9wRzPJ8Ofjsbp64+zefzvU7+8X0mgpdqtZIu9kZKIoPj/WsnUMIqNyUoI8kQxFvhK/P0ILz9XIEyGdHquKL8V5aLhzKu4tzgCmS72xfX0SX8029KWcyeiHY9whbhXBTyKUhcUEV7JSaWSIz63dMksGDR6Ag5WYkIGKq84Ec0oeZatRRCKG0vNQFdguVf++AyuvO5fx7Mk/BVKevJa3hTwUsqhui+w/4vPJHTmILiKzBrqOCgFyBCwgqssClFLAgYqHmFUoLgomfb7/QSJUynyRDuZ0At1M1JjGkzLHJw9JZNtOCDueTnCA6avleWKjVALU6vbU2FMplhG/JSSHoz0B7CnqRf+CPVBuhWlVdOVcDHipU0mUmq2ZfLoGW12fz+3QBBagmKpuWUK+NnYUIejTfXjlVaB8Ckru+4En8rP5g/fUZSRmmJCvcNVIFbBS8AuLhRnlBMg2orMyUx6hz1USC7cWDMDf2FdcV4W6toGYLPlcDswi8k919tzFG7vTgZnJhQWOFFcXISeliY0tLTC4x/BMGMna3IyQW8z9AnGxwkfctNMmFmWg+2NPZhXUYwPetSwDPUTFqbmj9mR5Qc8hB60hjQYTSakMvYymJMx7G9StsmunZvHMyu8rRNmZypcnvjT0HiAjBFaIz+Kd0gOJRPGB4q2KCkRbK6uiCaT0jlJZJDiPnvaFHiTdUp61sYEdVdnN6UgGbFAGCZiniGVjikDHUUznSk9RqTBPrhdg/CGLIjoHdjV0IB8pnpNuiBmVuQo+9vGVO+V88uxpqAADxzZi26PB9XTqjF/Wi203CZRvRUeHg0Y6WyFJi1bgTkDhFQke9fT3TGeLbmfKcx+BQXxwc2VIk9cOTLF/UbNzlutUieKSdAKLjd5p/nhzI4MB+G28wSaxYwUmRitkUCtk/E8tSVNS4R4jCglsYsq4jpJFFV1IoJJ9I7OL81ANNmBCPdirDpdOUogp5yi0QBTy32UqCgcaiuGmTbV9riQwxxncMiLkaAfem6po01HceRQPdQjIzBkTEJBaTkah3sxwLRkJOYhExOKQ5jt45U9Wp1McfJ6XFCL6HLPJrgiYmti4s6Q1QQVgDAre1lsp56D7/O6cXioG1n5OdCaCJVz8BEeQYgzQFETV/D29SIW9iKDuLxkl+LxMOG2dDoOYVjTHdCnFSrOgybig4rfeYYpFXRcRohNLJ2Zh3aXFjOuuBk5eTxoFPIioorxvhhGZxCFFTU0H/TMiIYPhLhKJjuNWQd1IU3cxNInzO7hNXaoZdHiJag/9JkC04q21HOf6aiMJMcqaKqIs6Kd+UthPi4B/N1G6C+P4myyZaCHDoM2RBR12Iu2rl44cpxkWoNGVxuKHA5CuyH0t/egm+eXtB2HqZj6YOMkJxFYCQbczC94Mczjhq5wAq5ECkKlOagwBBH31ytbjLMMb3MvdYYOZtpsNRVfcRJNGSXH4jAjy1aFgsLyiayST2H29fHMzl20Cj73McUkqKkM9HTz1HQOElQ+wqiyY0lMkKEYw7coEV3OAw67W3D0YBvNixUZqXYM9Q3ihTc/pGupQlUeoSy1Hp1DfvQODyFMycikw28mfqYnWuimkupn1OOgJr9u5UxKihdRHmBI5YmHPl4J0mA+gMMUG0/FxPcfbSH6X9/EIcXg57cL59Rg2ZJFTKrYuGfNKKucxi8nlNfluOtL3H8/YnWBvMorKOesTEVb836uJO2oOASygGRI9rCssOxXyYnw4CftWkzZ56+9vx3d7Z1skyCKmIZpRQWYXlWF6XQZg639UBU7cW71ZB6ms1IUA/AM9OFIQxMObt+DtTOmYz/dxsIMKz5ralWkxUe7XlJehAih0rhCX/7QBHLvB2jiPH19iMhpPUJsPqYsh+h1hRhPq3UR5OTkIoNHSMaVFuFTVlbKlbzGPKjFRKqff+xu9PT08ohcK9nToawoj8c9JHUlQCPTWXQoovR2mPvCzn1NaGvvFteLybpDWLHkLHyw+0uZHbR0H8PaVZzxINsdbKDrSGcjFIONp3OmwYOa5ZVoZCTU3t3Gw60hxfkvTdeidsWFUDGr6PMOKpNL90RxUqLUGTGi3wlZAbqkUUpeMhciyNX1E5Wzpmgwb+5ihalxf4Q/RSqUOq7WBN9YZnDZsgVoa2slQ4qkwmIzYVZNKUqc2XQDeSCLro+e531NVDYZznLMrZ2DDRv34diOvzJUs+C9HV8iJ8WOJeWFzHjYmVjUY/8R2laPF0U8Beag5q1ra0djTw86GAhYmCVbMTkXs/KsPGU+CNuMi7Fybh6cmVaOIYpBxs9dPR1oaWnG229vRFevl22SkCCgnlWUjysvvQTf/OYNVDWciK/KRN94tJ4MnxL1XHD+Wgx2N6OiwonKKdXM/c1AVk4BMjLzuDesdN65k6gdKdz4bP8xvP6nP6BS087VXYweKqj172/lSsRQ7EhHUWYWvxJYhoEDj2h3Ef1tHxxAY0c3JhOAPY/nnTOSkyhHUTy54XPEKy/FImZ+JOWUnGxHfrqOiTK1giibmL+M0YT19XVhy+ZNFHUd7r3zvlFWRn/vpPgKfKMU2e8TChlezoqN4yvFRPgYuvnIWYR+o2R85HIxNSzxqUaxvSo0t/biyzeeR60jhKyCquORkdhiat8jZOgg008D/UOMZAL0xugRMZqZXpqLitw0xr50SBgRUZ/ROXDh9T2t0E25mNmjOfSqfOgLamCkh5TBg2mOJEZadA/FuzPzDNnkkkk8sHaKqTklnh3ds2O8cSY+IsNUvQrmpCAVejrmqXaKrduPjgEP9YRaMUM2DlC0oZYeV++gl6umgo9upZH1HAc1OR10wi3qACGX0mLUVFYpdlqiHGo4mrcI/W5KRZRJa/Yh9WHu+3YP+0zNQxrPngU5FD23TIhnErNTreyXPjjdUGoNFGZnYDJzByeVMyIVpzArDckwDSrWkuli/u7ipWBQ6TywIZefMOBhogvU1XTvGO1QWYkPPOAjPFYwE++01WEdD2KKuRDbbGEAHuIKBxnSCbJg5DkMr49Bvs+lmDiJpBhL8NLRYVDjiN+IaNFsZGXS3+VSW01JMNFVTNDU2elSLuS+zrCbOawJZYhP/zgGNaELPpxg+rTootsXRFPHAJo6+ynacabtktHRcgQbNm1HJmGZBU46/44kKg0VAvSTo9wG8v8JEscayLSOp0bV3JND/ii2twewr9PFoxY0WXMWk0kNc1cUWyqy8twUFOYoc37y8P5z0MWTeyXTouZ+zuu0uLHEkn0E0roo6naK8s66RnywbScDcS8PeERho+dp4x6jvDK+JfrA3d7rDcNNqRDHvrysDJMqqpFBDV5bkIJ8HmwSzOsM5R/Gjc/Qz9dXk/H/joyAZCAmQBBfP9L/oi84kP+vcz3/B5u+C6xoDs31AAAAAElFTkSuQmCC</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="330127687" offset="0" length="8846" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
</HTTPSnapshot>